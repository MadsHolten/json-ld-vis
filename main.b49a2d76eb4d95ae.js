(self.webpackChunkjson_ld_vis=self.webpackChunkjson_ld_vis||[]).push([[179],{369:(Pe,Re,j)=>{"use strict";function H(n){return"function"==typeof n}function N(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const M=N(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function C(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class R{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(H(r))try{r()}catch(s){e=s instanceof M?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_(s)}catch(a){e=e??[],a instanceof M?e=[...e,...a.errors]:e.push(a)}}if(e)throw new M(e)}}add(e){var t;if(e&&e!==this)if(this.closed)_(e);else{if(e instanceof R){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&C(t,e)}remove(e){const{_finalizers:t}=this;t&&C(t,e),e instanceof R&&e._removeParent(this)}}R.EMPTY=(()=>{const n=new R;return n.closed=!0,n})();const D=R.EMPTY;function T(n){return n instanceof R||n&&"closed"in n&&H(n.remove)&&H(n.add)&&H(n.unsubscribe)}function _(n){H(n)?n():n.unsubscribe()}const B={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},F={setTimeout(n,e,...t){const{delegate:r}=F;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=F;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Y(n){F.setTimeout(()=>{const{onUnhandledError:e}=B;if(!e)throw n;e(n)})}function ee(){}const V=q("C",void 0,void 0);function q(n,e,t){return{kind:n,value:e,error:t}}let le=null;function J(n){if(B.useDeprecatedSynchronousErrorHandling){const e=!le;if(e&&(le={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=le;if(le=null,t)throw r}}else n()}class ce extends R{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,T(e)&&e.add(this)):this.destination=be}static create(e,t,r){return new K(e,t,r)}next(e){this.isStopped?ie(function oe(n){return q("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ie(function G(n){return q("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ie(V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const z=Function.prototype.bind;function L(n,e){return z.call(n,e)}class Q{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ue(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ue(r)}else ue(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ue(t)}}}class K extends ce{constructor(e,t,r){let i;if(super(),H(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&B.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&L(e.next,s),error:e.error&&L(e.error,s),complete:e.complete&&L(e.complete,s)}):i=e}this.destination=new Q(i)}}function ue(n){B.useDeprecatedSynchronousErrorHandling?function ke(n){B.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=n)}(n):Y(n)}function ie(n,e){const{onStoppedNotification:t}=B;t&&F.setTimeout(()=>t(n,e))}const be={closed:!0,next:ee,error:function ge(n){throw n},complete:ee},Le="function"==typeof Symbol&&Symbol.observable||"@@observable";function me(n){return n}let Ae=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function Je(n){return n&&n instanceof ce||function he(n){return n&&H(n.next)&&H(n.error)&&H(n.complete)}(n)&&T(n)}(t)?t:new K(t,r,i);return J(()=>{const{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ve(r))((i,s)=>{const a=new K({next:c=>{try{t(c)}catch(f){s(f),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Le](){return this}pipe(...t){return function Ve(n){return 0===n.length?me:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=ve(t))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return n.create=e=>new n(e),n})();function ve(n){var e;return null!==(e=n??B.Promise)&&void 0!==e?e:Promise}const He=N(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ne=(()=>{class n extends Ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new qe(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new He}next(t){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?D:(this.currentObservers=null,s.push(t),new R(()=>{this.currentObservers=null,C(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ae;return t.source=this,t}}return n.create=(e,t)=>new qe(e,t),n})();class qe extends Ne{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:D}}function ht(n){return e=>{if(function kt(n){return H(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ot(n,e,t,r,i){return new lt(n,e,t,r,i)}class lt extends ce{constructor(e,t,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(c){try{t(c)}catch(f){e.error(f)}}:super._next,this._error=i?function(c){try{i(c)}catch(f){e.error(f)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function je(n,e){return ht((t,r)=>{let i=0;t.subscribe(ot(r,s=>{r.next(n.call(e,s,i++))}))})}function Nn(n){return this instanceof Nn?(this.v=n,this):new Nn(n)}function _c(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(P){r[P]&&(i[P]=function(U){return new Promise(function(re,Se){s.push([P,U,re,Se])>1||c(P,U)})})}function c(P,U){try{!function f(P){P.value instanceof Nn?Promise.resolve(P.value.v).then(m,O):x(s[0][2],P)}(r[P](U))}catch(re){x(s[0][3],re)}}function m(P){c("next",P)}function O(P){c("throw",P)}function x(P,U){P(U),s.shift(),s.length&&c(s[0][0],s[0][1])}}function sa(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function fs(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(c,f){!function i(s,a,c,f){Promise.resolve(f).then(function(m){s({value:m,done:c})},a)}(c,f,(a=n[s](a)).done,a.value)})}}}const Ei=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Qo(n){return H(n?.then)}function aa(n){return H(n[Le])}function $o(n){return Symbol.asyncIterator&&H(n?.[Symbol.asyncIterator])}function Tc(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ja=function za(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Yd(n){return H(n?.[ja])}function Ys(n){return _c(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Nn(t.read());if(i)return yield Nn(void 0);yield yield Nn(r)}}finally{t.releaseLock()}})}function qs(n){return H(n?.getReader)}function As(n){if(n instanceof Ae)return n;if(null!=n){if(aa(n))return function la(n){return new Ae(e=>{const t=n[Le]();if(H(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ei(n))return function qd(n){return new Ae(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Qo(n))return function Kd(n){return new Ae(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Y)})}(n);if($o(n))return Ac(n);if(Yd(n))return function Mc(n){return new Ae(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(qs(n))return function Zh(n){return Ac(Ys(n))}(n)}throw Tc(n)}function Ac(n){return new Ae(e=>{(function bu(n,e){var t,r,i,s;return function dr(n,e,t,r){return new(t||(t=Promise))(function(s,a){function c(O){try{m(r.next(O))}catch(x){a(x)}}function f(O){try{m(r.throw(O))}catch(x){a(x)}}function m(O){O.done?s(O.value):function i(s){return s instanceof t?s:new t(function(a){a(s)})}(O.value).then(c,f)}m((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=sa(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ks(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ha(n,e,t=1/0){return H(e)?Ha((r,i)=>je((s,a)=>e(r,s,i,a))(As(n(r,i))),t):("number"==typeof e&&(t=e),ht((r,i)=>function wu(n,e,t,r,i,s,a,c){const f=[];let m=0,O=0,x=!1;const P=()=>{x&&!f.length&&!m&&e.complete()},U=Se=>m<r?re(Se):f.push(Se),re=Se=>{s&&e.next(Se),m++;let Ie=!1;As(t(Se,O++)).subscribe(ot(e,Be=>{i?.(Be),s?U(Be):e.next(Be)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(m--;f.length&&m<r;){const Be=f.shift();a?Ks(e,a,()=>re(Be)):re(Be)}P()}catch(Be){e.error(Be)}}))};return n.subscribe(ot(e,U,()=>{x=!0,P()})),()=>{c?.()}}(r,i,n,t)))}function Su(n=1/0){return Ha(me,n)}const gr=new Ae(n=>n.complete());function ms(n){return n[n.length-1]}function ef(n){return H(ms(n))?n.pop():void 0}function Xa(n){return function Jd(n){return n&&H(n.schedule)}(ms(n))?n.pop():void 0}function kc(n,e=0){return ht((t,r)=>{t.subscribe(ot(r,i=>Ks(r,n,()=>r.next(i),e),()=>Ks(r,n,()=>r.complete(),e),i=>Ks(r,n,()=>r.error(i),e)))})}function ni(n,e=0){return ht((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function eo(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ae(t=>{Ks(t,e,()=>{const r=n[Symbol.asyncIterator]();Ks(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ga(n,e){return e?function Zi(n,e){if(null!=n){if(aa(n))return function Bo(n,e){return As(n).pipe(ni(e),kc(e))}(n,e);if(Ei(n))return function Qm(n,e){return new Ae(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Qo(n))return function Ic(n,e){return As(n).pipe(ni(e),kc(e))}(n,e);if($o(n))return eo(n,e);if(Yd(n))return function Js(n,e){return new Ae(t=>{let r;return Ks(t,e,()=>{r=n[ja](),Ks(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void t.error(a)}s?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}(n,e);if(qs(n))return function tf(n,e){return eo(Ys(n),e)}(n,e)}throw Tc(n)}(n,e):As(n)}function ua(n={}){const{connector:e=(()=>new Ne),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let a,c,f,m=0,O=!1,x=!1;const P=()=>{c?.unsubscribe(),c=void 0},U=()=>{P(),a=f=void 0,O=x=!1},re=()=>{const Se=a;U(),Se?.unsubscribe()};return ht((Se,Ie)=>{m++,!x&&!O&&P();const Be=f=f??e();Ie.add(()=>{m--,0===m&&!x&&!O&&(c=Wa(re,i))}),Be.subscribe(Ie),!a&&m>0&&(a=new K({next:nt=>Be.next(nt),error:nt=>{x=!0,P(),c=Wa(U,t,nt),Be.error(nt)},complete:()=>{O=!0,P(),c=Wa(U,r),Be.complete()}}),As(Se).subscribe(a))})(s)}}function Wa(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new K({next:()=>{r.unsubscribe(),n()}});return As(e(...t)).subscribe(r)}function ur(n){for(let e in n)if(n[e]===ur)return e;throw Error("Could not find renamed property on target object.")}function _e(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ye(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ye).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ze(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Ot=ur({__forward_ref__:ur});function st(n){return n.__forward_ref__=st,n.toString=function(){return ye(this())},n}function ut(n){return function Yt(n){return"function"==typeof n&&n.hasOwnProperty(Ot)&&n.__forward_ref__===st}(n)?n():n}function Ft(n){return n&&!!n.\u0275providers}const un="https://g.co/ng/security#xss";class it extends Error{constructor(e,t){super(function Gn(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function zt(n){return"string"==typeof n?n:null==n?"":String(n)}function zn(n,e){throw new it(-201,!1)}function ri(n,e){null==n&&function mn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function xn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ir(n){return{providers:n.providers||[],imports:n.imports||[]}}function yo(n){return Is(n,ca)||Is(n,Du)}function Is(n,e){return n.hasOwnProperty(e)?n[e]:null}function Oo(n){return n&&(n.hasOwnProperty(Rc)||n.hasOwnProperty(Jh))?n[Rc]:null}const ca=ur({\u0275prov:ur}),Rc=ur({\u0275inj:ur}),Du=ur({ngInjectableDef:ur}),Jh=ur({ngInjectorDef:ur});var hn=(()=>((hn=hn||{})[hn.Default=0]="Default",hn[hn.Host=1]="Host",hn[hn.Self=2]="Self",hn[hn.SkipSelf=4]="SkipSelf",hn[hn.Optional=8]="Optional",hn))();let Nc;function mr(n){const e=Nc;return Nc=n,e}function Ps(n,e,t){const r=yo(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&hn.Optional?null:void 0!==e?e:void zn(ye(n))}const hr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ro={},ha="__NG_DI_FLAG__",vs="ngTempTokenPath",rf=/\n/gm,$i="__source";let Cu;function Ka(n){const e=Cu;return Cu=n,e}function Fc(n,e=hn.Default){if(void 0===Cu)throw new it(-203,!1);return null===Cu?Ps(n,void 0,e):Cu.get(n,e&hn.Optional?null:void 0,e)}function an(n,e=hn.Default){return(function ep(){return Nc}()||Fc)(ut(n),e)}function Eu(n,e=hn.Default){return an(n,_u(e))}function _u(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function np(n){const e=[];for(let t=0;t<n.length;t++){const r=ut(n[t]);if(Array.isArray(r)){if(0===r.length)throw new it(900,!1);let i,s=hn.Default;for(let a=0;a<r.length;a++){const c=r[a],f=Bm(c);"number"==typeof f?-1===f?i=c.token:s|=f:i=c}e.push(an(i,s))}else e.push(an(r))}return e}function Qc(n,e){return n[ha]=e,n.prototype[ha]=e,n}function Bm(n){return n[ha]}function Rs(n){return{toString:n}.toString()}var bo=(()=>((bo=bo||{})[bo.OnPush=0]="OnPush",bo[bo.Default=1]="Default",bo))(),Vo=(()=>{return(n=Vo||(Vo={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Vo;var n})();const pa={},ar=[],$c=ur({\u0275cmp:ur}),rp=ur({\u0275dir:ur}),ip=ur({\u0275pipe:ur}),ga=ur({\u0275fac:ur}),Bc=ur({__NG_ELEMENT_ID__:ur});let eb=0;function wo(n){return Rs(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===bo.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ar,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Vo.Emulated,id:"c"+eb++,styles:n.styles||ar,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,a=n.features;return i.inputs=sp(n.inputs,r),i.outputs=sp(n.outputs),a&&a.forEach(c=>c(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Hm).filter(Xm):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(hi).filter(Xm):null,i})}function Hm(n){return Zn(n)||Gr(n)}function Xm(n){return null!==n}function ys(n){return Rs(()=>({type:n.type,bootstrap:n.bootstrap||ar,declarations:n.declarations||ar,imports:n.imports||ar,exports:n.exports||ar,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function sp(n,e){if(null==n)return pa;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const fn=wo;function Zn(n){return n[$c]||null}function Gr(n){return n[rp]||null}function hi(n){return n[ip]||null}function Ns(n){return Array.isArray(n)&&"object"==typeof n[1]}function so(n){return Array.isArray(n)&&!0===n[1]}function up(n){return 0!=(4&n.flags)}function jc(n){return n.componentOffset>-1}function uf(n){return 1==(1&n.flags)}function bs(n){return null!==n.template}function rb(n){return 0!=(256&n[2])}function Uo(n,e){return n.hasOwnProperty(ga)?n[ga]:null}class Jn{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function In(){return Zt}function Zt(n){return n.type.prototype.ngOnChanges&&(n.setInput=fb),dp}function dp(){const n=tv(this),e=n?.current;if(e){const t=n.previous;if(t===pa)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function fb(n,e,t,r){const i=this.declaredInputs[t],s=tv(n)||function Pu(n,e){return n[ev]=e}(n,{previous:pa,current:null}),a=s.current||(s.current={}),c=s.previous,f=c[i];a[i]=new Jn(f&&f.currentValue,e,c===pa),n[r]=e}In.ngInherit=!0;const ev="__ngSimpleChanges__";function tv(n){return n[ev]||null}function _i(n){for(;Array.isArray(n);)n=n[0];return n}function Ls(n,e){return _i(e[n.index])}function cf(n,e){return n.data[e]}function Yn(n,e){const t=e[n];return Ns(t)?t:t[0]}function df(n){return 64==(64&n[2])}function tl(n,e){return null==e?null:n[e]}function ma(n){n[18]=0}function jo(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const dn={lFrame:fv(null),bindingsEnabled:!0};function ov(){return dn.bindingsEnabled}function Ct(){return dn.lFrame.lView}function Ln(){return dn.lFrame.tView}function nl(n){return dn.lFrame.contextLView=n,n[8]}function Do(n){return dn.lFrame.contextLView=null,n}function yr(){let n=pp();for(;null!==n&&64===n.type;)n=n.parent;return n}function pp(){return dn.lFrame.currentTNode}function Co(n,e){const t=dn.lFrame;t.currentTNode=n,t.isParent=e}function gp(){return dn.lFrame.isParent}function rl(){dn.lFrame.isParent=!1}function sl(){return dn.lFrame.bindingIndex++}function uv(n,e){const t=dn.lFrame;t.bindingIndex=t.bindingRootIndex=n,ff(e)}function ff(n){dn.lFrame.currentDirectiveIndex=n}function cv(){return dn.lFrame.currentQueryIndex}function Ul(n){dn.lFrame.currentQueryIndex=n}function qc(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function vp(n,e,t){if(t&hn.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&hn.Host||(i=qc(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=dn.lFrame=dv();return r.currentTNode=e,r.lView=n,!0}function yp(n){const e=dv(),t=n[1];dn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function dv(){const n=dn.lFrame,e=null===n?null:n.child;return null===e?fv(n):e}function fv(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function hv(){const n=dn.lFrame;return dn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const pv=hv;function Op(){const n=hv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ki(){return dn.lFrame.selectedIndex}function ol(n){dn.lFrame.selectedIndex=n}function Rr(){const n=dn.lFrame;return cf(n.tView,n.selectedIndex)}function gf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:f,ngAfterViewChecked:m,ngOnDestroy:O}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-t,a),c&&((n.contentHooks||(n.contentHooks=[])).push(t,c),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,c)),f&&(n.viewHooks||(n.viewHooks=[])).push(-t,f),m&&((n.viewHooks||(n.viewHooks=[])).push(t,m),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,m)),null!=O&&(n.destroyHooks||(n.destroyHooks=[])).push(t,O)}}function Jc(n,e,t){td(n,e,3,t)}function ed(n,e,t,r){(3&n[2])===t&&td(n,e,t,r)}function wp(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function td(n,e,t,r){const s=r??-1,a=e.length-1;let c=0;for(let f=void 0!==r?65535&n[18]:0;f<a;f++)if("number"==typeof e[f+1]){if(c=e[f],null!=r&&c>=r)break}else e[f]<0&&(n[18]+=65536),(c<s||-1==s)&&(al(n,t,e,f),n[18]=(4294901760&n[18])+f+2),f++}function al(n,e,t,r){const i=t[r]<0,s=t[r+1],c=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(c)}finally{}}}else try{s.call(c)}finally{}}class Lu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Qu(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],a=t[r++],c=t[r++];n.setAttribute(e,a,c,s)}else{const s=i,a=t[++r];Ov(s)?n.setProperty(e,s,a):n.setAttribute(e,s,a),r++}}return r}function yv(n){return 3===n||4===n||6===n}function Ov(n){return 64===n.charCodeAt(0)}function ll(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Sp(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Sp(n,e,t,r,i){let s=0,a=n.length;if(-1===e)a=-1;else for(;s<n.length;){const c=n[s++];if("number"==typeof c){if(c===e){a=-1;break}if(c>e){a=s-1;break}}}for(;s<n.length;){const c=n[s];if("number"==typeof c)break;if(c===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function nd(n){return-1!==n}function jl(n){return 32767&n}function $u(n,e){let t=function Ti(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let rd=!0;function ya(n){const e=rd;return rd=n,e}let Sb=0;const Mi={};function Oa(n,e){const t=xp(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,pi(r.data,n),pi(e,null),pi(r.blueprint,null));const i=mf(n,e),s=n.injectorIndex;if(nd(i)){const a=jl(i),c=$u(i,e),f=c[1].data;for(let m=0;m<8;m++)e[s+m]=c[a+m]|f[a+m]}return e[s+8]=i,s}function pi(n,e){n.push(0,0,0,0,0,0,0,0,e)}function xp(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function mf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=_p(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function vf(n,e,t){!function Sv(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Bc)&&(r=t[Bc]),null==r&&(r=t[Bc]=Sb++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function Dp(n,e,t){if(t&hn.Optional||void 0!==n)return n;zn()}function Cp(n,e,t,r){if(t&hn.Optional&&void 0===r&&(r=null),!(t&(hn.Self|hn.Host))){const i=n[9],s=mr(void 0);try{return i?i.get(e,r,t&hn.Optional):Ps(e,r,t&hn.Optional)}finally{mr(s)}}return Dp(r,0,t)}function gi(n,e,t,r=hn.Default,i){if(null!==n){if(1024&e[2]){const a=function Db(n,e,t,r,i){let s=n,a=e;for(;null!==s&&null!==a&&1024&a[2]&&!(256&a[2]);){const c=Or(s,a,t,r|hn.Self,Mi);if(c!==Mi)return c;let f=s.parent;if(!f){const m=a[21];if(m){const O=m.get(t,Mi,r);if(O!==Mi)return O}f=_p(a),a=a[15]}s=f}return i}(n,e,t,r,Mi);if(a!==Mi)return a}const s=Or(n,e,t,r,Mi);if(s!==Mi)return s}return Cp(e,t,r,i)}function Or(n,e,t,r,i){const s=function Sr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Bc)?n[Bc]:void 0;return"number"==typeof e?e>=0?255&e:Bu:e}(t);if("function"==typeof s){if(!vp(e,n,r))return r&hn.Host?Dp(i,0,r):Cp(e,t,r,i);try{const a=s(r);if(null!=a||r&hn.Optional)return a;zn()}finally{pv()}}else if("number"==typeof s){let a=null,c=xp(n,e),f=-1,m=r&hn.Host?e[16][6]:null;for((-1===c||r&hn.SkipSelf)&&(f=-1===c?mf(n,e):e[c+8],-1!==f&&Ep(r,!1)?(a=e[1],c=jl(f),e=$u(f,e)):c=-1);-1!==c;){const O=e[1];if(id(s,c,O.data)){const x=xb(c,e,t,a,r,m);if(x!==Mi)return x}f=e[c+8],-1!==f&&Ep(r,e[1].data[c+8]===m)&&id(s,c,e)?(a=O,c=jl(f),e=$u(f,e)):c=-1}}return i}function xb(n,e,t,r,i,s){const a=e[1],c=a.data[n+8],O=yf(c,a,t,null==r?jc(c)&&rd:r!=a&&0!=(3&c.type),i&hn.Host&&s===c);return null!==O?Hl(e,a,O,c):Mi}function yf(n,e,t,r,i){const s=n.providerIndexes,a=e.data,c=1048575&s,f=n.directiveStart,O=s>>20,P=i?c+O:n.directiveEnd;for(let U=r?c:c+O;U<P;U++){const re=a[U];if(U<f&&t===re||U>=f&&re.type===t)return U}if(i){const U=a[f];if(U&&bs(U)&&U.type===t)return f}return null}function Hl(n,e,t,r){let i=n[t];const s=e.data;if(function Ob(n){return n instanceof Lu}(i)){const a=i;a.resolving&&function br(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new it(-200,`Circular dependency in DI detected for ${n}${t}`)}(function jt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():zt(n)}(s[t]));const c=ya(a.canSeeViewProviders);a.resolving=!0;const f=a.injectImpl?mr(a.injectImpl):null;vp(n,r,hn.Default);try{i=n[t]=a.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function mv(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const a=Zt(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==f&&mr(f),ya(c),a.resolving=!1,pv()}}return i}function id(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Ep(n,e){return!(n&hn.Self||n&hn.Host&&e)}class Xl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return gi(this._tNode,this._lView,e,_u(r),t)}}function Bu(){return new Xl(yr(),Ct())}function _p(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function sd(n){return function xv(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(yv(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(yr(),n)}const ba="__parameters__";function zu(n,e,t){return Rs(()=>{const r=function Uu(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return c.annotation=a,c;function c(f,m,O){const x=f.hasOwnProperty(ba)?f[ba]:Object.defineProperty(f,ba,{value:[]})[ba];for(;x.length<=O;)x.push(null);return(x[O]=x[O]||[]).push(a),f}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Xt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=xn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _o(n,e){n.forEach(t=>Array.isArray(t)?_o(t,e):e(t))}function ju(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Yl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ad(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function ws(n,e,t){let r=ql(n,e);return r>=0?n[1|r]=t:(r=~r,function Cv(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function kp(n,e){const t=ql(n,e);if(t>=0)return n[1|t]}function ql(n,e){return function _v(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),a=n[s<<t];if(e===a)return s<<t;a>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Kl=Qc(zu("Optional"),8),ld=Qc(zu("SkipSelf"),4);var zr=(()=>((zr=zr||{})[zr.Important=1]="Important",zr[zr.DashCase=2]="DashCase",zr))();const cl=new Map;let Vp=0;const jp="__ngContext__";function ji(n,e){Ns(e)?(n[jp]=e[20],function zb(n){cl.set(n[20],n)}(e)):n[jp]=e}function tu(n,e){return undefined(n,e)}function pd(n){const e=n[3];return so(e)?e[3]:e}function Xp(n){return Hv(n[13])}function Gp(n){return Hv(n[4])}function Hv(n){for(;null!==n&&!so(n);)n=n[4];return n}function Yu(n,e,t,r,i){if(null!=r){let s,a=!1;so(r)?s=r:Ns(r)&&(a=!0,r=r[0]);const c=_i(r);0===n&&null!==t?null==i?ey(e,t,c):Hi(e,t,c,i||null,!0):1===n&&null!==t?Hi(e,t,c,i||null,!0):2===n?function Xo(n,e,t){const r=kf(n,e);r&&function Kb(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,c,a):3===n&&e.destroyNode(c),null!=s&&function ry(n,e,t,r,i){const s=t[7];s!==_i(t)&&Yu(e,n,r,s,i);for(let c=10;c<t.length;c++){const f=t[c];qu(f[1],f,n,e,r,s)}}(e,n,s,t,i)}}function Zp(n,e,t){return n.createElement(e,t)}function Yv(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,jo(i,-1)),t.splice(r,1)}function Af(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&Yv(i,r),e>0&&(n[t-1][4]=r[4]);const s=Yl(n,10+e);!function Gv(n,e){qu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Yp(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&qu(n,e,t,3,null,null),function Wv(n){let e=n[13];if(!e)return qp(n[1],n);for(;e;){let t=null;if(Ns(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ns(e)&&qp(e[1],e),e=e[3];null===e&&(e=n),Ns(e)&&qp(e[1],e),t=e&&e[4]}e=t}}(e)}}function qp(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function qv(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Lu)){const s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const c=i[s[a]],f=s[a+1];try{f.call(c)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function qb(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?r[i=a]():r[i=-a].unsubscribe(),s+=2}else{const a=r[i=t[s+1]];t[s].call(a)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&so(e[3])){t!==e[3]&&Yv(t,e);const r=e[19];null!==r&&r.detachView(n)}!function _f(n){cl.delete(n[20])}(e)}}function Kv(n,e,t){return function Jv(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Vo.None||s===Vo.Emulated)return null}return Ls(r,t)}}(n,e.parent,t)}function Hi(n,e,t,r,i){n.insertBefore(e,t,r,i)}function ey(n,e,t){n.appendChild(e,t)}function ty(n,e,t,r,i){null!==r?Hi(n,e,t,r,i):ey(n,e,t)}function kf(n,e){return n.parentNode(e)}function Ho(n,e,t){return If(n,e,t)}let yd,rg,If=function Jp(n,e,t){return 40&n.type?Ls(n,t):null};function xa(n,e,t,r){const i=Kv(n,r,e),s=e[11],c=Ho(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let f=0;f<t.length;f++)ty(s,i,t[f],c,!1);else ty(s,i,t,c,!1)}function md(n,e){if(null!==e){const t=e.type;if(3&t)return Ls(e,n);if(4&t)return eg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return md(n,r);{const i=n[e.index];return so(i)?eg(-1,i):_i(i)}}if(32&t)return tu(e,n)()||_i(n[e.index]);{const r=Ss(n,e);return null!==r?Array.isArray(r)?r[0]:md(pd(n[16]),r):md(n,e.next)}}return null}function Ss(n,e){return null!==e?n[16][6].projection[e.projection]:null}function eg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return md(r,i)}return e[7]}function Pf(n,e,t,r,i,s,a){for(;null!=t;){const c=r[t.index],f=t.type;if(a&&0===e&&(c&&ji(_i(c),r),t.flags|=2),32!=(32&t.flags))if(8&f)Pf(n,e,t.child,r,i,s,!1),Yu(e,n,i,c,s);else if(32&f){const m=tu(t,r);let O;for(;O=m();)Yu(e,n,i,O,s);Yu(e,n,i,c,s)}else 16&f?Rf(n,e,r,t,i,s):Yu(e,n,i,c,s);t=a?t.projectionNext:t.next}}function qu(n,e,t,r,i,s){Pf(t,r,n.firstChild,e,i,s,!1)}function Rf(n,e,t,r,i,s){const a=t[16],f=a[6].projection[r.projection];if(Array.isArray(f))for(let m=0;m<f.length;m++)Yu(e,n,i,f[m],s);else Pf(n,e,f,a[3],i,s,!0)}function iy(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ng(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Qu(n,e,r),null!==i&&iy(n,e,i),null!==s&&function vd(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function nu(n){return function Nf(){if(void 0===yd&&(yd=null,hr.trustedTypes))try{yd=hr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yd}()?.createHTML(n)||n}class dl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${un})`}}class ru extends dl{getTypeName(){return"HTML"}}class ew extends dl{getTypeName(){return"Style"}}class iu extends dl{getTypeName(){return"Script"}}class u extends dl{getTypeName(){return"URL"}}class o extends dl{getTypeName(){return"ResourceURL"}}function l(n){return n instanceof dl?n.changingThisBreaksApplicationSecurity:n}function d(n,e){const t=function h(n){return n instanceof dl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${un})`)}return t===e}class S{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(nu(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class E{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=nu(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=nu(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const a=t.item(i).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&e.removeAttribute(a)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const I=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function $(n){return(n=String(n)).match(I)?n:"unsafe:"+n}function X(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function W(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const te=X("area,br,col,hr,img,wbr"),ne=X("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),se=X("rp,rt"),Oe=W(te,W(ne,X("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),W(se,X("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),W(se,ne)),de=X("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pe=W(de,X("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),X("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fe=X("script,style,template");class Ce{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Oe.hasOwnProperty(t))return this.sanitizedSomething=!0,!Fe.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),a=s.name,c=a.toLowerCase();if(!pe.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let f=s.value;de[c]&&(f=$(f)),this.buf.push(" ",a,'="',Ue(f),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Oe.hasOwnProperty(t)&&!te.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Ue(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Ge=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$e=/([^\#-~ |!])/g;function Ue(n){return n.replace(/&/g,"&amp;").replace(Ge,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace($e,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ye;function tt(n,e){let t=null;try{Ye=Ye||function w(n){const e=new E(n);return function k(){try{return!!(new window.DOMParser).parseFromString(nu(""),"text/html")}catch{return!1}}()?new S(e):e}(n);let r=e?String(e):"";t=Ye.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Ye.getInertBodyElement(r)}while(r!==s);return nu((new Ce).sanitizeChildren(at(t)||t))}finally{if(t){const r=at(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function at(n){return"content"in n&&function et(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ke=(()=>((Ke=Ke||{})[Ke.NONE=0]="NONE",Ke[Ke.HTML=1]="HTML",Ke[Ke.STYLE=2]="STYLE",Ke[Ke.SCRIPT=3]="SCRIPT",Ke[Ke.URL=4]="URL",Ke[Ke.RESOURCE_URL=5]="RESOURCE_URL",Ke))();const Lt=new Xt("ENVIRONMENT_INITIALIZER"),ln=new Xt("INJECTOR",-1),qt=new Xt("INJECTOR_DEF_TYPES");class Vt{get(e,t=ro){if(t===ro){const r=new Error(`NullInjectorError: No provider for ${ye(e)}!`);throw r.name="NullInjectorError",r}return t}}function Pn(...n){return{\u0275providers:wn(0,n),\u0275fromNgModule:!0}}function wn(n,...e){const t=[],r=new Set;let i;return _o(e,s=>{const a=s;At(a,t,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&cn(i,t),t}function cn(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];rt(i,s=>{e.push(s)})}}function At(n,e,t,r){if(!(n=ut(n)))return!1;let i=null,s=Oo(n);const a=!s&&Zn(n);if(s||a){if(a&&!a.standalone)return!1;i=n}else{const f=n.ngModule;if(s=Oo(f),!s)return!1;i=f}const c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){const f="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const m of f)At(m,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let m;r.add(i);try{_o(s.imports,O=>{At(O,e,t,r)&&(m||(m=[]),m.push(O))})}finally{}void 0!==m&&cn(m,e)}if(!c){const m=Uo(i)||(()=>new i);e.push({provide:i,useFactory:m,deps:ar},{provide:qt,useValue:i,multi:!0},{provide:Lt,useValue:()=>an(i),multi:!0})}const f=s.providers;null==f||c||rt(f,O=>{e.push(O)})}}return i!==n&&void 0!==n.providers}function rt(n,e){for(let t of n)Ft(t)&&(t=t.\u0275providers),Array.isArray(t)?rt(t,e):e(t)}const Tt=ur({provide:String,useValue:ur});function pt(n){return null!==n&&"object"==typeof n&&Tt in n}function Et(n){return"function"==typeof n}const Fn=new Xt("Set Injector scope."),ir={},Mn={};let er;function On(){return void 0===er&&(er=new Vt),er}class bn{}class Nr extends bn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hl(e,a=>this.processProvider(a)),this.records.set(ln,Ii(void 0,this)),i.has("environment")&&this.records.set(bn,Ii(void 0,this));const s=this.records.get(Fn);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(qt.multi,ar,hn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ka(this),r=mr(void 0);try{return e()}finally{Ka(t),mr(r)}}get(e,t=ro,r=hn.Default){this.assertNotDestroyed(),r=_u(r);const i=Ka(this),s=mr(void 0);try{if(!(r&hn.SkipSelf)){let c=this.records.get(e);if(void 0===c){const f=function fl(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xt}(e)&&yo(e);c=f&&this.injectableDefInScope(f)?Ii(li(e),ir):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&hn.Self?On():this.parent).get(e,t=r&hn.Optional&&t===ro?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[vs]=a[vs]||[]).unshift(ye(e)),i)throw a;return function Tu(n,e,t,r){const i=n[vs];throw e[$i]&&i.unshift(e[$i]),n.message=function Vm(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ye(e);if(Array.isArray(e))i=e.map(ye).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];s.push(a+":"+("string"==typeof c?JSON.stringify(c):ye(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(rf,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[vs]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{mr(s),Ka(i)}}resolveInjectorInitializers(){const e=Ka(this),t=mr(void 0);try{const r=this.get(Lt.multi,ar,hn.Self);for(const i of r)i()}finally{Ka(e),mr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ye(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new it(205,!1)}processProvider(e){let t=Et(e=ut(e))?e:ut(e&&e.provide);const r=function Mo(n){return pt(n)?Ii(void 0,n.useValue):Ii(yi(n),ir)}(e);if(Et(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ii(void 0,ir,!0),i.factory=()=>np(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===ir&&(t.value=Mn,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Da(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ut(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function li(n){const e=yo(n),t=null!==e?e.factory:Uo(n);if(null!==t)return t;if(n instanceof Xt)throw new it(204,!1);if(n instanceof Function)return function To(n){const e=n.length;if(e>0)throw ad(e,"?"),new it(204,!1);const t=function no(n){const e=n&&(n[ca]||n[Du]);if(e){const t=function xu(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new it(204,!1)}function yi(n,e,t){let r;if(Et(n)){const i=ut(n);return Uo(i)||li(i)}if(pt(n))r=()=>ut(n.useValue);else if(function Sn(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...np(n.deps||[]));else if(function vt(n){return!(!n||!n.useExisting)}(n))r=()=>an(ut(n.useExisting));else{const i=ut(n&&(n.useClass||n.provide));if(!function ts(n){return!!n.deps}(n))return Uo(i)||li(i);r=()=>new i(...np(n.deps))}return r}function Ii(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function hl(n,e){for(const t of n)Array.isArray(t)?hl(t,e):t&&Ft(t)?hl(t.\u0275providers,e):e(t)}class su{}class ou{}class Xi{resolveComponentFactory(e){throw function Qf(n){const e=Error(`No component factory found for ${ye(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Pi=(()=>{class n{}return n.NULL=new Xi,n})();function $f(){return ns(yr(),Ct())}function ns(n,e){return new ii(Ls(n,e))}let ii=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=$f,n})();function tw(n){return n instanceof ii?n.nativeElement:n}class uy{}let Ca=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function nw(){const n=Ct(),t=Yn(yr().index,n);return(Ns(t)?t:n)[11]}(),n})(),rw=(()=>{class n{}return n.\u0275prov=xn({token:n,providedIn:"root",factory:()=>null}),n})();class Ju{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const iw=new Ju("15.1.5"),au={};function Vf(n){return n.ngOriginalError}class Go{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Vf(e);for(;t&&Vf(t);)t=Vf(t);return t||null}}function ec(n){return n.ownerDocument.defaultView}function Bs(n){return n.ownerDocument}function cC(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const dC="ng-template";function D2(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==cC(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function fC(n){return 4===n.type&&n.value!==dC}function C2(n,e,t){return e===(4!==n.type||t?n.value:dC)}function E2(n,e,t){let r=4;const i=n.attrs||[],s=function M2(n){for(let e=0;e<n.length;e++)if(yv(n[e]))return e;return n.length}(i);let a=!1;for(let c=0;c<e.length;c++){const f=e[c];if("number"!=typeof f){if(!a)if(4&r){if(r=2|1&r,""!==f&&!C2(n,f,t)||""===f&&1===e.length){if(Ea(r))return!1;a=!0}}else{const m=8&r?f:e[++c];if(8&r&&null!==n.attrs){if(!D2(n.attrs,m,t)){if(Ea(r))return!1;a=!0}continue}const x=_2(8&r?"class":f,i,fC(n),t);if(-1===x){if(Ea(r))return!1;a=!0;continue}if(""!==m){let P;P=x>s?"":i[x+1].toLowerCase();const U=8&r?P:null;if(U&&-1!==cC(U,m,0)||2&r&&m!==P){if(Ea(r))return!1;a=!0}}}}else{if(!a&&!Ea(r)&&!Ea(f))return!1;if(a&&Ea(f))continue;a=!1,r=f|1&r}}return Ea(r)||a}function Ea(n){return 0==(1&n)}function _2(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const a=e[i];if(a===n)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let c=e[++i];for(;"string"==typeof c;)c=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function A2(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function hC(n,e,t=!1){for(let r=0;r<e.length;r++)if(E2(n,e[r],t))return!0;return!1}function k2(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function pC(n,e){return n?":not("+e.trim()+")":e}function I2(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&r){const c=n[++t];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!Ea(a)&&(e+=pC(s,i),i=""),r=a,s=s||!Ea(r);t++}return""!==i&&(e+=pC(s,i)),e}const En={};function Wo(n){gC(Ln(),Ct(),Ki()+n,!1)}function gC(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Jc(e,s,t)}else{const s=n.preOrderHooks;null!==s&&ed(e,s,0,t)}ol(t)}function OC(n,e=null,t=null,r){const i=function bC(n,e=null,t=null,r,i=new Set){const s=[t||ar,Pn(n)];return r=r||("object"==typeof n?void 0:ye(n)),new Nr(s,e||On(),r||null,i)}(n,e,t,r);return i.resolveInjectorInitializers(),i}let uu=(()=>{class n{static create(t,r){if(Array.isArray(t))return OC({name:""},r,t,"");{const i=t.name??"";return OC({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=ro,n.NULL=new Vt,n.\u0275prov=xn({token:n,providedIn:"any",factory:()=>an(ln)}),n.__NG_ELEMENT_ID__=-1,n})();function gt(n,e=hn.Default){const t=Ct();return null===t?an(n,e):gi(yr(),t,ut(n),e)}function TC(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];Ul(t[r]),a.contentQueries(2,e[s],s)}}}function fy(n,e,t,r,i,s,a,c,f,m,O){const x=e.blueprint.slice();return x[0]=i,x[2]=76|r,(null!==O||n&&1024&n[2])&&(x[2]|=1024),ma(x),x[3]=x[15]=n,x[8]=t,x[10]=a||n&&n[10],x[11]=c||n&&n[11],x[12]=f||n&&n[12]||null,x[9]=m||n&&n[9]||null,x[6]=s,x[20]=function Qv(){return Vp++}(),x[21]=O,x[16]=2==e.type?n[16]:x,x}function jf(n,e,t,r,i){let s=n.data[e];if(null===s)s=function dw(n,e,t,r,i){const s=pp(),a=gp(),f=n.data[e]=function iF(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=f),null!==s&&(a?null==s.child&&null!==f.parent&&(s.child=f):null===s.next&&(s.next=f)),f}(n,e,t,r,i),function lv(){return dn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const a=function Nu(){const n=dn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Co(s,!0),s}function og(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function fw(n,e,t){yp(e);try{const r=n.viewQuery;null!==r&&Sw(1,r,t);const i=n.template;null!==i&&MC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&TC(n,e),n.staticViewQueries&&Sw(2,n.viewQuery,t);const s=n.components;null!==s&&function tF(n,e){for(let t=0;t<e.length;t++)xF(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Op()}}function hy(n,e,t,r){const i=e[2];if(128!=(128&i)){yp(e);try{ma(e),function Zc(n){return dn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&MC(n,e,t,2,r);const a=3==(3&i);if(a){const m=n.preOrderCheckHooks;null!==m&&Jc(e,m,null)}else{const m=n.preOrderHooks;null!==m&&ed(e,m,0,null),wp(e,0)}if(function wF(n){for(let e=Xp(n);null!==e;e=Gp(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r];512&i[2]||jo(i[3],1),i[2]|=512}}}(e),function bF(n){for(let e=Xp(n);null!==e;e=Gp(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];df(r)&&hy(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&TC(n,e),a){const m=n.contentCheckHooks;null!==m&&Jc(e,m)}else{const m=n.contentHooks;null!==m&&ed(e,m,1),wp(e,1)}!function J2(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ol(~i);else{const s=i,a=t[++r],c=t[++r];uv(a,s),c(2,e[s])}}}finally{ol(-1)}}(n,e);const c=n.components;null!==c&&function eF(n,e){for(let t=0;t<e.length;t++)SF(n,e[t])}(e,c);const f=n.viewQuery;if(null!==f&&Sw(2,f,r),a){const m=n.viewCheckHooks;null!==m&&Jc(e,m)}else{const m=n.viewHooks;null!==m&&ed(e,m,2),wp(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,jo(e[3],-1))}finally{Op()}}}function MC(n,e,t,r,i){const s=Ki(),a=2&r;try{ol(-1),a&&e.length>22&&gC(n,e,22,!1),t(r,i)}finally{ol(s)}}function hw(n,e,t){if(up(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}}function pw(n,e,t){ov()&&(function cF(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;jc(t)&&function vF(n,e,t){const r=Ls(e,n),i=AC(t),s=n[10],a=py(n,fy(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Oa(t,e),ji(r,e);const a=t.initialInputs;for(let c=i;c<s;c++){const f=n.data[c],m=Hl(e,n,c,t);ji(m,e),null!==a&&yF(0,c-i,m,f,0,a),bs(f)&&(Yn(t.index,e)[8]=Hl(e,n,c,t))}}(n,e,t,Ls(t,e)),64==(64&t.flags)&&LC(n,e,t))}function gw(n,e,t=Ls){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],c=-1===a?t(e,n):n[a];n[i++]=c}}}function AC(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=mw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function mw(n,e,t,r,i,s,a,c,f,m){const O=22+r,x=O+i,P=function nF(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:En);return t}(O,x),U="function"==typeof m?m():m;return P[1]={type:n,blueprint:P,template:t,queries:null,viewQuery:c,declTNode:e,data:P.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:f,consts:U,incompleteFirstPass:!1}}function kC(n,e,t,r){const i=QC(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&$C(n).push(r,i.length-1))}function IC(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?PC(t,e,i,s):r.hasOwnProperty(i)&&PC(t,e,r[i],s)}return t}function PC(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ko(n,e,t,r,i,s,a,c){const f=Ls(e,t);let O,m=e.inputs;!c&&null!=m&&(O=m[r])?(xw(n,t,O,r,i),jc(e)&&RC(t,e.index)):3&e.type&&(r=function oF(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=a?a(i,e.value||"",r):i,s.setProperty(f,r,i))}function RC(n,e){const t=Yn(e,n);16&t[2]||(t[2]|=32)}function vw(n,e,t,r){let i=!1;if(ov()){const s=null===r?null:{"":-1},a=function fF(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const a=t[s];if(hC(e,a.selectors,!1))if(r||(r=[]),bs(a))if(null!==a.findHostDirectiveDefs){const c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),r.unshift(...c,a),yw(n,e,c.length)}else r.unshift(a),yw(n,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(n,t);let c,f;null===a?c=f=null:[c,f]=a,null!==c&&(i=!0,NC(n,e,t,c,s,f)),s&&function hF(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new it(-301,!1);r.push(e[i],s)}}}(t,r,s)}return t.mergedAttrs=ll(t.mergedAttrs,t.attrs),i}function NC(n,e,t,r,i,s){for(let m=0;m<r.length;m++)vf(Oa(t,e),n,r[m].type);!function gF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let m=0;m<r.length;m++){const O=r[m];O.providersResolver&&O.providersResolver(O)}let a=!1,c=!1,f=og(n,e,r.length,null);for(let m=0;m<r.length;m++){const O=r[m];t.mergedAttrs=ll(t.mergedAttrs,O.hostAttrs),mF(n,t,e,f,O),pF(f,O,i),null!==O.contentQueries&&(t.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(t.flags|=64);const x=O.type.prototype;!a&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!c&&(x.ngOnChanges||x.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),c=!0),f++}!function sF(n,e,t){const i=e.directiveEnd,s=n.data,a=e.attrs,c=[];let f=null,m=null;for(let O=e.directiveStart;O<i;O++){const x=s[O],P=t?t.get(x):null,re=P?P.outputs:null;f=IC(x.inputs,O,f,P?P.inputs:null),m=IC(x.outputs,O,m,re);const Se=null===f||null===a||fC(e)?null:OF(f,O,a);c.push(Se)}null!==f&&(f.hasOwnProperty("class")&&(e.flags|=8),f.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=f,e.outputs=m}(n,t,s)}function LC(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,a=function Yc(){return dn.lFrame.currentDirectiveIndex}();try{ol(s);for(let c=r;c<i;c++){const f=n.data[c],m=e[c];ff(c),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&dF(f,m)}}finally{ol(-1),ff(a)}}function dF(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function yw(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function pF(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;bs(e)&&(t[""]=n)}}function mF(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Uo(i.type)),a=new Lu(s,bs(i),gt);n.blueprint[r]=a,t[r]=a,function lF(n,e,t,r,i){const s=i.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~e.index;(function uF(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=c&&a.push(c),a.push(t,r,s)}}(n,e,r,og(n,t,i.hostVars,En),i)}function gl(n,e,t,r,i,s){const a=Ls(n,e);!function Ow(n,e,t,r,i,s,a){if(null==s)n.removeAttribute(e,i,t);else{const c=null==a?zt(s):a(s,r||"",i);n.setAttribute(e,i,c,t)}}(e[11],a,s,n.value,t,r,i)}function yF(n,e,t,r,i,s){const a=s[e];if(null!==a){const c=r.setInput;for(let f=0;f<a.length;){const m=a[f++],O=a[f++],x=a[f++];null!==c?r.setInput(t,x,m,O):t[O]=x}}}function OF(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const a=n[s];for(let c=0;c<a.length;c+=2)if(a[c]===e){r.push(s,a[c+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function FC(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function SF(n,e){const t=Yn(e,n);if(df(t)){const r=t[1];48&t[2]?hy(r,t,r.template,t[8]):t[5]>0&&bw(t)}}function bw(n){for(let r=Xp(n);null!==r;r=Gp(r))for(let i=10;i<r.length;i++){const s=r[i];if(df(s))if(512&s[2]){const a=s[1];hy(a,s,a.template,s[8])}else s[5]>0&&bw(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Yn(t[r],n);df(i)&&i[5]>0&&bw(i)}}function xF(n,e){const t=Yn(e,n),r=t[1];(function DF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),fw(r,t,t[8])}function py(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function ww(n){for(;n;){n[2]|=32;const e=pd(n);if(rb(n)&&!e)return n;n=e}return null}function gy(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{hy(n,e,n.template,t)}catch(a){throw r&&VC(e,a),a}finally{i.end&&i.end()}}function Sw(n,e,t){Ul(0),e(n,t)}function QC(n){return n[7]||(n[7]=[])}function $C(n){return n.cleanup||(n.cleanup=[])}function VC(n,e){const t=n[9],r=t?t.get(Go,null):null;r&&r.handleError(e)}function xw(n,e,t,r,i){for(let s=0;s<t.length;){const a=t[s++],c=t[s++],f=e[a],m=n.data[a];null!==m.setInput?m.setInput(f,i,r,c):f[c]=i}}function my(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const c=e[a];"number"==typeof c?s=c:1==s?i=ze(i,c):2==s&&(r=ze(r,c+": "+e[++a]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function vy(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(_i(s)),so(s))for(let c=10;c<s.length;c++){const f=s[c],m=f[1].firstChild;null!==m&&vy(f[1],f,m,r)}const a=t.type;if(8&a)vy(n,e,t.child,r);else if(32&a){const c=tu(t,e);let f;for(;f=c();)r.push(f)}else if(16&a){const c=Ss(e,t);if(Array.isArray(c))r.push(...c);else{const f=pd(e[16]);vy(f[1],f,c,r,!0)}}t=i?t.projectionNext:t.next}return r}class ag{get rootNodes(){const e=this._lView,t=e[1];return vy(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(so(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Af(e,r),Yl(t,r))}this._attachedToViewContainer=!1}Yp(this._lView[1],this._lView)}onDestroy(e){kC(this._lView[1],this._lView,null,e)}markForCheck(){ww(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){gy(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new it(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yb(n,e){qu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new it(902,!1);this._appRef=e}}class CF extends ag{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;gy(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class UC extends Pi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Zn(e);return new lg(t,this.ngModule)}}function zC(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class _F{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=_u(r);const i=this.injector.get(e,au,r);return i!==au||t===au?i:this.parentInjector.get(e,t,r)}}class lg extends ou{get inputs(){return zC(this.componentDef.inputs)}get outputs(){return zC(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function P2(n){return n.map(I2).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof bn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new _F(e,s):e,c=a.get(uy,null);if(null===c)throw new it(407,!1);const f=a.get(rw,null),m=c.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",x=r?function rF(n,e,t){return n.selectRootElement(e,t===Vo.ShadowDom)}(m,r,this.componentDef.encapsulation):Zp(m,O,function EF(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(O)),P=this.componentDef.onPush?288:272,U=mw(0,null,null,1,0,null,null,null,null,null),re=fy(null,U,null,P,null,null,c,m,f,a,null);let Se,Ie;yp(re);try{const Be=this.componentDef;let nt,We=null;Be.findHostDirectiveDefs?(nt=[],We=new Map,Be.findHostDirectiveDefs(Be,nt,We),nt.push(Be)):nt=[Be];const ft=function MF(n,e){const t=n[1];return n[22]=e,jf(t,22,2,"#host",null)}(re,x),Pt=function AF(n,e,t,r,i,s,a,c){const f=i[1];!function kF(n,e,t,r){for(const i of n)e.mergedAttrs=ll(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(my(e,e.mergedAttrs,!0),null!==t&&ng(r,t,e))}(r,n,e,a);const m=s.createRenderer(e,t),O=fy(i,AC(t),null,t.onPush?32:16,i[n.index],n,s,m,c||null,null,null);return f.firstCreatePass&&yw(f,n,r.length-1),py(i,O),i[n.index]=O}(ft,x,Be,nt,re,c,m);Ie=cf(U,22),x&&function PF(n,e,t,r){if(r)Qu(n,t,["ng-version",iw.full]);else{const{attrs:i,classes:s}=function R2(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ea(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Qu(n,t,i),s&&s.length>0&&iy(n,t,s.join(" "))}}(m,Be,x,r),void 0!==t&&function RF(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(Ie,this.ngContentSelectors,t),Se=function IF(n,e,t,r,i,s){const a=yr(),c=i[1],f=Ls(a,i);NC(c,i,a,t,null,r);for(let O=0;O<t.length;O++)ji(Hl(i,c,a.directiveStart+O,a),i);LC(c,i,a),f&&ji(f,i);const m=Hl(i,c,a.directiveStart+a.componentOffset,a);if(n[8]=i[8]=m,null!==s)for(const O of s)O(m,e);return hw(c,a,n),m}(Pt,Be,nt,We,re,[NF]),fw(U,re,null)}finally{Op()}return new TF(this.componentType,Se,ns(Ie,re),re,Ie)}}class TF extends su{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new CF(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;xw(s[1],s,i,e,t),RC(s,this._tNode.index)}}get injector(){return new Xl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function NF(){const n=yr();gf(Ct()[1],n)}function sr(n){let e=function jC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(bs(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new it(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const a=n;a.inputs=Dw(n.inputs),a.declaredInputs=Dw(n.declaredInputs),a.outputs=Dw(n.outputs);const c=i.hostBindings;c&&$F(n,c);const f=i.viewQuery,m=i.contentQueries;if(f&&FF(n,f),m&&QF(n,m),_e(n.inputs,i.inputs),_e(n.declaredInputs,i.declaredInputs),_e(n.outputs,i.outputs),bs(i)&&i.data.animation){const O=n.data;O.animation=(O.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let a=0;a<s.length;a++){const c=s[a];c&&c.ngInherit&&c(n),c===sr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function LF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ll(i.hostAttrs,t=ll(t,i.hostAttrs))}}(r)}function Dw(n){return n===pa?{}:n===ar?[]:n}function FF(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function QF(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function $F(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let yy=null;function wd(){if(!yy){const n=hr.Symbol;if(n&&n.iterator)yy=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(yy=r)}}}return yy}function Oy(n){return!!function Cw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&wd()in n)}function xs(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function uo(n,e,t,r){const i=Ct();return xs(i,sl(),e)&&(Ln(),gl(Rr(),i,n,e,t,r)),uo}function Ew(n,e,t,r,i,s,a,c){const f=Ct(),m=Ln(),O=n+22,x=m.firstCreatePass?function ZF(n,e,t,r,i,s,a,c,f){const m=e.consts,O=jf(e,n,4,a||null,tl(m,c));vw(e,t,O,tl(m,f)),gf(e,O);const x=O.tViews=mw(2,O,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,m);return null!==e.queries&&(e.queries.template(e,O),x.queries=e.queries.embeddedTView(O)),O}(O,m,f,e,t,r,i,s,a):m.data[O];Co(x,!1);const P=f[11].createComment("");xa(m,f,P,x),ji(P,f),py(f,f[O]=FC(P,f,P,x)),uf(x)&&pw(m,f,x),null!=a&&gw(f,x,c)}function co(n,e,t){const r=Ct();return xs(r,sl(),e)&&ko(Ln(),Rr(),r,n,e,r[11],t,!1),co}function _w(n,e,t,r,i){const a=i?"class":"style";xw(n,t,e.inputs[a],a,r)}function Oi(n,e,t,r){const i=Ct(),s=Ln(),a=22+n,c=i[11],f=i[a]=Zp(c,e,function pf(){return dn.lFrame.currentNamespace}()),m=s.firstCreatePass?function qF(n,e,t,r,i,s,a){const c=e.consts,m=jf(e,n,2,i,tl(c,s));return vw(e,t,m,tl(c,a)),null!==m.attrs&&my(m,m.attrs,!1),null!==m.mergedAttrs&&my(m,m.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,m),m}(a,s,i,0,e,t,r):s.data[a];return Co(m,!0),ng(c,f,m),32!=(32&m.flags)&&xa(s,i,f,m),0===function hp(){return dn.lFrame.elementDepthCount}()&&ji(f,i),function iv(){dn.lFrame.elementDepthCount++}(),uf(m)&&(pw(s,i,m),hw(s,m,i)),null!==r&&gw(i,m),Oi}function Gi(){let n=yr();gp()?rl():(n=n.parent,Co(n,!1));const e=n;!function sv(){dn.lFrame.elementDepthCount--}();const t=Ln();return t.firstCreatePass&&(gf(t,n),up(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function vv(n){return 0!=(8&n.flags)}(e)&&_w(t,e,Ct(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function nr(n){return 0!=(16&n.flags)}(e)&&_w(t,e,Ct(),e.stylesWithoutHost,!1),Gi}function _a(n,e,t,r){return Oi(n,e,t,r),Gi(),_a}function wy(n){return!!n&&"function"==typeof n.then}const aE=function oE(n){return!!n&&"function"==typeof n.subscribe};function bi(n,e,t,r){const i=Ct(),s=Ln(),a=yr();return function uE(n,e,t,r,i,s,a){const c=uf(r),m=n.firstCreatePass&&$C(n),O=e[8],x=QC(e);let P=!0;if(3&r.type||a){const Se=Ls(r,e),Ie=a?a(Se):Se,Be=x.length,nt=a?ft=>a(_i(ft[r.index])):r.index;let We=null;if(!a&&c&&(We=function JF(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===t&&i[s+1]===r){const c=e[7],f=i[s+2];return c.length>f?c[f]:null}"string"==typeof a&&(s+=2)}return null}(n,e,i,r.index)),null!==We)(We.__ngLastListenerFn__||We).__ngNextListenerFn__=s,We.__ngLastListenerFn__=s,P=!1;else{s=dE(r,e,O,s,!1);const ft=t.listen(Ie,i,s);x.push(s,ft),m&&m.push(i,nt,Be,Be+1)}}else s=dE(r,e,O,s,!1);const U=r.outputs;let re;if(P&&null!==U&&(re=U[i])){const Se=re.length;if(Se)for(let Ie=0;Ie<Se;Ie+=2){const Pt=e[re[Ie]][re[Ie+1]].subscribe(s),Rt=x.length;x.push(s,Pt),m&&m.push(i,r.index,Rt,-(Rt+1))}}}(s,i,i[11],a,n,e,r),bi}function cE(n,e,t,r){try{return!1!==t(r)}catch(i){return VC(n,i),!1}}function dE(n,e,t,r,i){return function s(a){if(a===Function)return r;ww(n.componentOffset>-1?Yn(n.index,e):e);let f=cE(e,0,r,a),m=s.__ngNextListenerFn__;for(;m;)f=cE(e,0,m,a)&&f,m=m.__ngNextListenerFn__;return i&&!1===f&&(a.preventDefault(),a.returnValue=!1),f}}function Io(n=1){return function mb(n){return(dn.lFrame.contextLView=function vb(n,e){for(;n>0;)e=e[15],n--;return e}(n,dn.lFrame.contextLView))[8]}(n)}function eQ(n,e){let t=null;const r=function T2(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?hC(n,s,!0):k2(r,s))return i}else t=i}return t}function cg(n){const e=Ct()[16][6];if(!e.projection){const r=e.projection=ad(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const a=n?eQ(s,n):0;null!==a&&(i[a]?i[a].projectionNext=s:r[a]=s,i[a]=s),s=s.next}}}function eh(n,e=0,t){const r=Ct(),i=Ln(),s=jf(i,22+n,16,null,t||null);null===s.projection&&(s.projection=e),rl(),32!=(32&s.flags)&&function tg(n,e,t){Rf(e[11],0,e,t,Kv(n,t,e),Ho(t.parent||e[6],t,e))}(i,r,s)}function Sy(n,e){return n<<17|e<<2}function tc(n){return n>>17&32767}function kw(n){return 2|n}function xd(n){return(131068&n)>>2}function Iw(n,e){return-131069&n|e<<2}function Pw(n){return 1|n}function wE(n,e,t,r,i){const s=n[t+1],a=null===e;let c=r?tc(s):xd(s),f=!1;for(;0!==c&&(!1===f||a);){const O=n[c+1];oQ(n[c],e)&&(f=!0,n[c+1]=r?Pw(O):kw(O)),c=r?tc(O):xd(O)}f&&(n[t+1]=r?kw(s):Pw(s))}function oQ(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ql(n,e)>=0}function dg(n,e,t){return Ma(n,e,t,!1),dg}function Ta(n,e){return Ma(n,e,null,!0),Ta}function Ma(n,e,t,r){const i=Ct(),s=Ln(),a=function va(n){const e=dn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function ME(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Ki()],a=function TE(n,e){return e>=n.expandoStartIndex}(n,t);(function PE(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!a&&(e=!1),e=function gQ(n,e,t,r){const i=function hf(n){const e=dn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=fg(t=Rw(null,n,e,t,r),e.attrs,r),s=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==i)if(t=Rw(i,n,e,t,r),null===s){let f=function mQ(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==xd(r))return n[tc(r)]}(n,e,r);void 0!==f&&Array.isArray(f)&&(f=Rw(null,n,e,f[1],r),f=fg(f,e.attrs,r),function vQ(n,e,t,r){n[tc(t?e.classBindings:e.styleBindings)]=r}(n,e,r,f))}else s=function yQ(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=fg(r,n[s].hostAttrs,t);return fg(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function iQ(n,e,t,r,i,s){let a=s?e.classBindings:e.styleBindings,c=tc(a),f=xd(a);n[r]=t;let O,m=!1;if(Array.isArray(t)?(O=t[1],(null===O||ql(t,O)>0)&&(m=!0)):O=t,i)if(0!==f){const P=tc(n[c+1]);n[r+1]=Sy(P,c),0!==P&&(n[P+1]=Iw(n[P+1],r)),n[c+1]=function nQ(n,e){return 131071&n|e<<17}(n[c+1],r)}else n[r+1]=Sy(c,0),0!==c&&(n[c+1]=Iw(n[c+1],r)),c=r;else n[r+1]=Sy(f,0),0===c?c=r:n[f+1]=Iw(n[f+1],r),f=r;m&&(n[r+1]=kw(n[r+1])),wE(n,O,r,!0),wE(n,O,r,!1),function sQ(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ql(s,e)>=0&&(t[r+1]=Pw(t[r+1]))}(e,O,n,r,s),a=Sy(c,f),s?e.classBindings=a:e.styleBindings=a}(i,s,e,t,a,r)}}(s,n,a,r),e!==En&&xs(i,a,e)&&function kE(n,e,t,r,i,s,a,c){if(!(3&e.type))return;const f=n.data,m=f[c+1],O=function rQ(n){return 1==(1&n)}(m)?IE(f,e,t,i,xd(m),a):void 0;xy(O)||(xy(s)||function tQ(n){return 2==(2&n)}(m)&&(s=IE(f,null,t,i,c,a)),function Ku(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:zr.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=zr.Important),n.setStyle(t,r,i,s))}}(r,a,function Xc(n,e){return _i(e[n])}(Ki(),t),i,s))}(s,s.data[Ki()],i,i[11],n,i[a+1]=function wQ(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ye(l(n)))),n}(e,t),r,a)}function Rw(n,e,t,r,i){let s=null;const a=t.directiveEnd;let c=t.directiveStylingLast;for(-1===c?c=t.directiveStart:c++;c<a&&(s=e[c],r=fg(r,s.hostAttrs,i),s!==n);)c++;return null!==n&&(t.directiveStylingLast=c),r}function fg(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ws(n,a,!!t||e[++s]))}return void 0===n?null:n}function IE(n,e,t,r,i,s){const a=null===e;let c;for(;i>0;){const f=n[i],m=Array.isArray(f),O=m?f[1]:f,x=null===O;let P=t[i+1];P===En&&(P=x?ar:void 0);let U=x?kp(P,r):O===r?P:void 0;if(m&&!xy(U)&&(U=kp(f,r)),xy(U)&&(c=U,a))return c;const re=n[i+1];i=a?tc(re):xd(re)}if(null!==e){let f=s?e.residualClasses:e.residualStyles;null!=f&&(c=kp(f,r))}return c}function xy(n){return void 0!==n}function Dy(n,e=""){const t=Ct(),r=Ln(),i=n+22,s=r.firstCreatePass?jf(r,i,1,e,null):r.data[i],a=t[i]=function Wp(n,e){return n.createText(e)}(t[11],e);xa(r,t,a,s),Co(s,!1)}function Lw(n,e,t){const r=Ct();return xs(r,sl(),e)&&ko(Ln(),Rr(),r,n,e,r[11],t,!0),Lw}const rh="en-US";let t_=rh;function $w(n,e,t,r,i){if(n=ut(n),Array.isArray(n))for(let s=0;s<n.length;s++)$w(n[s],e,t,r,i);else{const s=Ln(),a=Ct();let c=Et(n)?n:ut(n.provide),f=yi(n);const m=yr(),O=1048575&m.providerIndexes,x=m.directiveStart,P=m.providerIndexes>>20;if(Et(n)||!n.multi){const U=new Lu(f,i,gt),re=Vw(c,e,i?O:O+P,x);-1===re?(vf(Oa(m,a),s,c),Bw(s,n,e.length),e.push(c),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),t.push(U),a.push(U)):(t[re]=U,a[re]=U)}else{const U=Vw(c,e,O+P,x),re=Vw(c,e,O,O+P),Ie=re>=0&&t[re];if(i&&!Ie||!i&&!(U>=0&&t[U])){vf(Oa(m,a),s,c);const Be=function $$(n,e,t,r,i){const s=new Lu(n,t,gt);return s.multi=[],s.index=e,s.componentProviders=0,E_(s,i,r&&!t),s}(i?Q$:F$,t.length,i,r,f);!i&&Ie&&(t[re].providerFactory=Be),Bw(s,n,e.length,0),e.push(c),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),t.push(Be),a.push(Be)}else Bw(s,n,U>-1?U:re,E_(t[i?re:U],f,!i&&r));!i&&r&&Ie&&t[re].componentProviders++}}}function Bw(n,e,t,r){const i=Et(e),s=function Jt(n){return!!n.useClass}(e);if(i||s){const f=(s?ut(e.useClass):e).prototype.ngOnDestroy;if(f){const m=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const O=m.indexOf(t);-1===O?m.push(t,[r,f]):m[O+1].push(r,f)}else m.push(t,f)}}}function E_(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Vw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function F$(n,e,t,r){return Uw(this.multi,[])}function Q$(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=Hl(t,t[1],this.providerFactory.index,r);s=c.slice(0,a),Uw(i,s);for(let f=a;f<c.length;f++)s.push(c[f])}else s=[],Uw(i,s);return s}function Uw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function _r(n,e=[]){return t=>{t.providersResolver=(r,i)=>function L$(n,e,t){const r=Ln();if(r.firstCreatePass){const i=bs(n);$w(t,r.data,r.blueprint,i,!0),$w(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ih{}class U$ extends ih{constructor(e,t,r){super(),this.componentFactoryResolver=new UC(this),this.instance=null;const i=new Nr([...e,{provide:ih,useValue:this},{provide:Pi,useValue:this.componentFactoryResolver}],t||On(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function T_(n,e,t=null){return new U$(n,e,t).injector}let z$=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=wn(0,t.type),i=r.length>0?T_([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=xn({token:n,providedIn:"environment",factory:()=>new n(an(bn))}),n})();function yg(n){n.getStandaloneInjector=e=>e.get(z$).getOrCreateStandaloneInjector(n)}function Hw(n){return e=>{setTimeout(n,void 0,e)}}const Lr=class gB extends Ne{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),a=r;if(e&&"object"==typeof e){const f=e;i=f.next?.bind(f),s=f.error?.bind(f),a=f.complete?.bind(f)}this.__isAsync&&(s=Hw(s),i&&(i=Hw(i)),a&&(a=Hw(a)));const c=super.subscribe({next:i,error:s,complete:a});return e instanceof R&&e.add(c),c}};function mB(){return this._results[wd()]()}class Xw{get changes(){return this._changes||(this._changes=new Lr)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=wd(),r=Xw.prototype;r[t]||(r[t]=mB)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function vi(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Cb(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let du=(()=>{class n{}return n.__NG_ELEMENT_ID__=OB,n})();const vB=du,yB=class extends vB{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=fy(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(i[19]=a.createEmbeddedView(r)),fw(r,i,e),new ag(i)}};function OB(){return My(yr(),Ct())}function My(n,e){return 4&n.type?new yB(e,n,ns(n,e)):null}let Ol=(()=>{class n{}return n.__NG_ELEMENT_ID__=bB,n})();function bB(){return U_(yr(),Ct())}const wB=Ol,B_=class extends wB{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ns(this._hostTNode,this._hostLView)}get injector(){return new Xl(this._hostTNode,this._hostLView)}get parentInjector(){const e=mf(this._hostTNode,this._hostLView);if(nd(e)){const t=$u(e,this._hostLView),r=jl(e);return new Xl(t[1].data[r+8],t)}return new Xl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=V_(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedView(t||{},s);return this.insert(a,i),a}createComponent(e,t,r,i,s){const a=e&&!function od(n){return"function"==typeof n}(e);let c;if(a)c=t;else{const x=t||{};c=x.index,r=x.injector,i=x.projectableNodes,s=x.environmentInjector||x.ngModuleRef}const f=a?e:new lg(Zn(e)),m=r||this.parentInjector;if(!s&&null==f.ngModule){const P=(a?m:this.parentInjector).get(bn,null);P&&(s=P)}const O=f.create(m,i,void 0,s);return this.insert(O.hostView,c),O}insert(e,t){const r=e._lView,i=r[1];if(function gb(n){return so(n[3])}(r)){const O=this.indexOf(e);if(-1!==O)this.detach(O);else{const x=r[3],P=new B_(x,x[6],x[3]);P.detach(P.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;!function ki(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],ju(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const a=e[17];null!==a&&t!==a&&function Zv(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(a,e);const c=e[19];null!==c&&c.insertView(n),e[2]|=64}(i,r,a,s);const c=eg(s,a),f=r[11],m=kf(f,a[7]);return null!==m&&function Zb(n,e,t,r,i,s){r[0]=i,r[6]=e,qu(n,r,t,1,i,s)}(i,a[6],f,r,m,c),e.attachToViewContainerRef(),ju(Gw(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=V_(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Af(this._lContainer,t);r&&(Yl(Gw(this._lContainer),t),Yp(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Af(this._lContainer,t);return r&&null!=Yl(Gw(this._lContainer),t)?new ag(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function V_(n){return n[8]}function Gw(n){return n[8]||(n[8]=[])}function U_(n,e){let t;const r=e[n.index];if(so(r))t=r;else{let i;if(8&n.type)i=_i(r);else{const s=e[11];i=s.createComment("");const a=Ls(n,e);Hi(s,kf(s,a),i,function Kp(n,e){return n.nextSibling(e)}(s,a),!1)}e[n.index]=t=FC(r,e,i,n),py(e,t)}return new B_(t,n,e)}class Ww{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ww(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const a=t.getByIndex(s);i.push(this.queries[a.indexInDeclarationView].clone())}return new Zw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==W_(e,t).matches&&this.queries[t].setDirty()}}class z_{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Yw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Yw(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class qw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new qw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,SB(t,s)),this.matchTNodeWithReadOption(e,t,yf(t,e,s,!1,!1))}else r===du?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,yf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ii||i===Ol||i===du&&4&t.type)this.addMatch(t.index,-2);else{const s=yf(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function SB(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function DB(n,e,t,r){return-1===t?function xB(n,e){return 11&n.type?ns(n,e):4&n.type?My(n,e):null}(e,n):-2===t?function CB(n,e,t){return t===ii?ns(e,n):t===du?My(e,n):t===Ol?U_(e,n):void 0}(n,e,r):Hl(n,n[1],t,e)}function j_(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,a=t.matches,c=[];for(let f=0;f<a.length;f+=2){const m=a[f];c.push(m<0?null:DB(e,s[m],a[f+1],t.metadata.read))}i.matches=c}return i.matches}function Kw(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const a=j_(n,e,i,t);for(let c=0;c<s.length;c+=2){const f=s[c];if(f>0)r.push(a[c/2]);else{const m=s[c+1],O=e[-f];for(let x=10;x<O.length;x++){const P=O[x];P[17]===P[3]&&Kw(P[1],P,m,r)}if(null!==O[9]){const x=O[9];for(let P=0;P<x.length;P++){const U=x[P];Kw(U[1],U,m,r)}}}}}return r}function sh(n){const e=Ct(),t=Ln(),r=cv();Ul(r+1);const i=W_(t,r);if(n.dirty&&function Cr(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Kw(t,e,r,[]):j_(t,e,i,r);n.reset(s,tw),n.notifyOnChanges()}return!0}return!1}function wg(n,e,t){const r=Ln();r.firstCreatePass&&(G_(r,new z_(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),X_(r,Ct(),e)}function oh(){return function EB(n,e){return n[19].queries[e].queryList}(Ct(),cv())}function X_(n,e,t){const r=new Xw(4==(4&t));kC(n,e,r,r.destroy),null===e[19]&&(e[19]=new Zw),e[19].queries.push(new Ww(r))}function G_(n,e,t){null===n.queries&&(n.queries=new Yw),n.queries.track(new qw(e,t))}function W_(n,e){return n.queries.getByIndex(e)}function ky(...n){}const hT=new Xt("Application Initializer");let Iy=(()=>{class n{constructor(t){this.appInits=t,this.resolve=ky,this.reject=ky,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(wy(s))t.push(s);else if(aE(s)){const a=new Promise((c,f)=>{s.subscribe({complete:c,error:f})});t.push(a)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(an(hT,8))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rS=new Xt("AppId",{providedIn:"root",factory:function pT(){return`${iS()}${iS()}${iS()}`}});function iS(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gT=new Xt("Platform Initializer"),sS=new Xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),WB=new Xt("appBootstrapListener"),mT=new Xt("AnimationModuleType"),bl=new Xt("LocaleId",{providedIn:"root",factory:()=>Eu(bl,hn.Optional|hn.SkipSelf)||function ZB(){return typeof $localize<"u"&&$localize.locale||rh}()}),eV=(()=>Promise.resolve(0))();class Zr{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lr(!1),this.onMicrotaskEmpty=new Lr(!1),this.onStable=new Lr(!1),this.onError=new Lr(!1),typeof Zone>"u")throw new it(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function tV(){let n=hr.requestAnimationFrame,e=hr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function iV(n){const e=()=>{!function rV(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(hr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,lS(n),n.isCheckStableRunning=!0,aS(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),lS(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,a,c)=>{try{return OT(n),t.invokeTask(i,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),bT(n)}},onInvoke:(t,r,i,s,a,c,f)=>{try{return OT(n),t.invoke(i,s,a,c,f)}finally{n.shouldCoalesceRunChangeDetection&&e(),bT(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,lS(n),aS(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zr.isInAngularZone())throw new it(909,!1)}static assertNotInAngularZone(){if(Zr.isInAngularZone())throw new it(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,nV,ky,ky);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const nV={};function aS(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function lS(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function OT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bT(n){n._nesting--,aS(n)}class sV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lr,this.onMicrotaskEmpty=new Lr,this.onStable=new Lr,this.onError=new Lr}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const wT=new Xt("");let nc=null;const fS=new Xt("PlatformDestroyListeners");function dV(n){const{rootComponent:e,appProviders:t,platformProviders:r}=n,i=function cV(n=[]){if(nc)return nc;const e=function DT(n=[],e){return uu.create({name:e,providers:[{provide:Fn,useValue:"platform"},{provide:fS,useValue:new Set([()=>nc=null])},...n]})}(n);return nc=e,function xT(n){const e=n.get(gT,null);e&&e.forEach(t=>t())}(e),e}(r),s=function _T(n,e){let t;return t="noop"===n?new sV:("zone.js"===n?void 0:n)||new Zr(e),t}("zone.js",function ET(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return s.run(()=>{const c=T_([{provide:Zr,useValue:s},...t||[]],i,"Environment Injector"),f=c.get(Go,null);let m;s.runOutsideAngular(()=>{m=s.onError.subscribe({next:P=>{f.handleError(P)}})});const O=()=>c.destroy(),x=i.get(fS);return x.add(O),c.onDestroy(()=>{m.unsubscribe(),x.delete(O)}),function TT(n,e,t){try{const r=t();return wy(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(f,s,()=>{const P=c.get(Iy);return P.runInitializers(),P.donePromise.then(()=>{!function n_(n){ri(n,"Expected localeId to be defined"),"string"==typeof n&&(t_=n.toLowerCase().replace(/_/g,"-"))}(c.get(bl,rh)||rh);const re=c.get(pS);return void 0!==e&&re.bootstrap(e),re})})})}let pS=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ae(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),a=new Ae(c=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{Zr.assertNotInAngularZone(),function oS(n){typeof Zone>"u"?eV.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{Zr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}});this.isStable=function Kh(...n){const e=Xa(n),t=function qh(n,e){return"number"==typeof ms(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?As(r[0]):Su(t)(Ga(r,e)):gr}(s,a.pipe(ua()))}bootstrap(t,r){const i=t instanceof ou;if(!this._injector.get(Iy).done)throw!i&&function Vc(n){const e=Zn(n)||Gr(n)||hi(n);return null!==e&&e.standalone}(t),new it(405,false);let a;a=i?t:this._injector.get(Pi).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const c=function lV(n){return n.isBoundToModule}(a)?void 0:this._injector.get(ih),m=a.create(uu.NULL,[],r||a.selector,c),O=m.location.nativeElement,x=m.injector.get(wT,null);return x?.registerApplication(O),m.onDestroy(()=>{this.detachView(m.hostView),Ry(this.components,m),x?.unregisterApplication(O)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new it(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Ry(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(WB,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ry(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new it(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(an(Zr),an(bn),an(Go))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ry(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Ny=(()=>{class n{}return n.__NG_ELEMENT_ID__=pV,n})();function pV(n){return function gV(n,e,t){if(jc(n)&&!t){const r=Yn(n.index,e);return new ag(r,r)}return 47&n.type?new ag(e[16],e):null}(yr(),Ct(),16==(16&n))}class RT{constructor(){}supports(e){return Oy(e)}create(e){return new wV(e)}}const bV=(n,e)=>e;class wV{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||bV}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const a=!r||t&&t.currentIndex<LT(r,i,s)?t:r,c=LT(a,i,s),f=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{s||(s=[]);const m=c-i,O=f-i;if(m!=O){for(let P=0;P<m;P++){const U=P<s.length?s[P]:s[P]=0,re=U+P;O<=re&&re<m&&(s[P]=U+1)}s[a.previousIndex]=O-m}}c!==f&&e(a,c,f)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Oy(e))throw new it(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,a,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],a=this._trackByFn(c,s),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,s,a,c)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,c),r=!0),t=t._next}else i=0,function XF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[wd()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,c=>{a=this._trackByFn(i,c),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,c,a,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)):(t=this._mismatch(t,c,a,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new SV(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new NT),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NT),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class SV{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xV{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class NT{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new xV,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LT(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function QT(){return new Qy([new RT])}let Qy=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||QT()),deps:[[n,new ld,new Kl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new it(901,!1)}}return n.\u0275prov=xn({token:n,providedIn:"root",factory:QT}),n})(),bS=null;function Ed(){return bS}class AV{}const ui=new Xt("DocumentToken");class y5{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let KT=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new y5(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===s?void 0:s);else if(null!==s){const c=r.get(s);r.move(c,a),JT(c,i)}});for(let i=0,s=r.length;i<s;i++){const c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{JT(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(gt(Ol),gt(du),gt(Qy))},n.\u0275dir=fn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function JT(n,e){n.context.$implicit=e.item}let eM=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new b5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(gt(Ol),gt(du))},n.\u0275dir=fn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class b5{constructor(){this.$implicit=null,this.ngIf=null}}function tM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ye(e)}'.`)}let uh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ys({type:n}),n.\u0275inj=Ir({}),n})();const iM="browser";class xU extends AV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class QS extends xU{static makeCurrent(){!function MV(n){bS||(bS=n)}(new QS)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function DU(){return _g=_g||document.querySelector("base"),_g?_g.getAttribute("href"):null}();return null==t?null:function CU(n){Zy=Zy||document.createElement("a"),Zy.setAttribute("href",n);const e=Zy.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_g=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function g5(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Zy,_g=null,MU=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xn({token:n,factory:n.\u0275fac}),n})();const Yy=new Xt("EventManagerPlugins");let qy=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const a=i[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(an(Yy),an(Zr))},n.\u0275prov=xn({token:n,factory:n.\u0275fac}),n})();class cM{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ed().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let dM=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xn({token:n,factory:n.\u0275fac}),n})(),Tg=(()=>{class n extends dM{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,i.push(r.appendChild(a))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(fM),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(fM))}}return n.\u0275fac=function(t){return new(t||n)(an(ui))},n.\u0275prov=xn({token:n,factory:n.\u0275fac}),n})();function fM(n){Ed().remove(n)}const $S={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},BS=/%COMP%/g;function VS(n,e){return e.flat(100).map(t=>t.replace(BS,n))}function gM(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let US=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new zS(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Vo.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new NU(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case Vo.ShadowDom:return new LU(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=VS(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(an(qy),an(Tg),an(rS))},n.\u0275prov=xn({token:n,factory:n.\u0275fac}),n})();class zS{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS($S[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(vM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(vM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=$S[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=$S[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(zr.DashCase|zr.Important)?e.style.setProperty(t,r,i&zr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&zr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,gM(r)):this.eventManager.addEventListener(e,t,gM(r))}}function vM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class NU extends zS{constructor(e,t,r,i){super(e),this.component=r;const s=VS(i+"-"+r.id,r.styles);t.addStyles(s),this.contentAttr=function IU(n){return"_ngcontent-%COMP%".replace(BS,n)}(i+"-"+r.id),this.hostAttr=function PU(n){return"_nghost-%COMP%".replace(BS,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class LU extends zS{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=VS(i.id,i.styles);for(let a=0;a<s.length;a++){const c=document.createElement("style");c.textContent=s[a],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const yM=["alt","control","meta","shift"],QU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$U={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function bM(n){return{appProviders:[...WU,...n?.providers??[]],platformProviders:HU}}const HU=[{provide:sS,useValue:iM},{provide:gT,useValue:function UU(){QS.makeCurrent()},multi:!0},{provide:ui,useFactory:function jU(){return function oy(n){rg=n}(document),document},deps:[]}],WU=[{provide:Fn,useValue:"root"},{provide:Go,useFactory:function zU(){return new Go},deps:[]},{provide:Yy,useClass:(()=>{class n extends cM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(an(ui))},n.\u0275prov=xn({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[ui,Zr,sS]},{provide:Yy,useClass:(()=>{class n extends cM{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ed().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),yM.forEach(m=>{const O=r.indexOf(m);O>-1&&(r.splice(O,1),a+=m+".")}),a+=s,0!=r.length||0===s.length)return null;const f={};return f.domEventName=i,f.fullKey=a,f}static matchEventFullKeyCode(t,r){let i=QU[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yM.forEach(a=>{a!==i&&(0,$U[a])(t)&&(s+=a+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(an(ui))},n.\u0275prov=xn({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[ui]},{provide:US,useClass:US,deps:[qy,Tg,rS]},{provide:uy,useExisting:US},{provide:dM,useExisting:Tg},{provide:Tg,useClass:Tg,deps:[ui]},{provide:qy,useClass:qy,deps:[Yy,Zr]},{provide:class Y5{},useClass:MU,deps:[]},[]];typeof window<"u"&&window;let HS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xn({token:n,factory:function(t){let r=null;return r=t?new(t||n):an(xM),r},providedIn:"root"}),n})(),xM=(()=>{class n extends HS{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Ke.NONE:return r;case Ke.HTML:return d(r,"HTML")?l(r):tt(this._doc,String(r)).toString();case Ke.STYLE:return d(r,"Style")?l(r):r;case Ke.SCRIPT:if(d(r,"Script"))return l(r);throw new Error("unsafe value used in a script context");case Ke.URL:return d(r,"URL")?l(r):$(String(r));case Ke.RESOURCE_URL:if(d(r,"ResourceURL"))return l(r);throw new Error(`unsafe value used in a resource URL context (see ${un})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${un})`)}}bypassSecurityTrustHtml(t){return function p(n){return new ru(n)}(t)}bypassSecurityTrustStyle(t){return function g(n){return new ew(n)}(t)}bypassSecurityTrustScript(t){return function v(n){return new iu(n)}(t)}bypassSecurityTrustUrl(t){return function b(n){return new u(n)}(t)}bypassSecurityTrustResourceUrl(t){return function y(n){return new o(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(an(ui))},n.\u0275prov=xn({token:n,factory:function(t){let r=null;return r=t?new t:function rz(n){return new xM(n.get(ui))}(an(uu)),r},providedIn:"root"}),n})();class iz extends R{constructor(e,t){super()}schedule(e,t=0){return this}}const Ky={setInterval(n,e,...t){const{delegate:r}=Ky;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ky;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},DM={now:()=>(DM.delegate||Date).now(),delegate:void 0};class Mg{constructor(e,t=Mg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Mg.now=DM.now;const az=new class oz extends Mg{constructor(e,t=Mg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class sz extends iz{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Ky.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Ky.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,C(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}});function XS(n,e=az){return ht((t,r)=>{let i=null,s=null,a=null;const c=()=>{if(i){i.unsubscribe(),i=null;const m=s;s=null,r.next(m)}};function f(){const m=a+n,O=e.now();if(O<m)return i=this.schedule(void 0,m-O),void r.add(i);c()}t.subscribe(ot(r,m=>{s=m,a=e.now(),i||(i=e.schedule(f,n),r.add(i))},()=>{c(),r.complete()},void 0,()=>{s=i=null}))})}const lz=["gutterEls"];function uz(n,e){if(1&n){const t=function sE(){return Ct()}();Oi(0,"div",2,3),bi("keydown",function(i){nl(t);const s=Io().index;return Do(Io().startKeyboardDrag(i,2*s+1,s+1))})("mousedown",function(i){nl(t);const s=Io().index;return Do(Io().startMouseDrag(i,2*s+1,s+1))})("touchstart",function(i){nl(t);const s=Io().index;return Do(Io().startMouseDrag(i,2*s+1,s+1))})("mouseup",function(i){nl(t);const s=Io().index;return Do(Io().clickGutter(i,s+1))})("touchend",function(i){nl(t);const s=Io().index;return Do(Io().clickGutter(i,s+1))}),_a(2,"div",4),Gi()}if(2&n){const t=Io(),r=t.index,i=t.$implicit,s=Io();dg("flex-basis",s.gutterSize,"px")("order",2*r+1),uo("aria-label",s.gutterAriaLabel)("aria-orientation",s.direction)("aria-valuemin",i.minSize)("aria-valuemax",i.maxSize)("aria-valuenow",i.size)("aria-valuetext",s.getAriaAreaSizeText(i.size))}}function cz(n,e){1&n&&Ew(0,uz,3,10,"div",1),2&n&&co("ngIf",!1===e.last)}const dz=["*"];function Ag(n){if(void 0!==n.changedTouches&&n.changedTouches.length>0)return{x:n.changedTouches[0].clientX,y:n.changedTouches[0].clientY};if(void 0!==n.clientX&&void 0!==n.clientY)return{x:n.clientX,y:n.clientY};if(void 0!==n.currentTarget){const e=n.currentTarget;return{x:e.offsetLeft,y:e.offsetTop}}return null}function CM(n,e,t){return Math.abs(n.x-e.x)<=t&&Math.abs(n.y-e.y)<=t}function EM(n,e){const t=n.nativeElement.getBoundingClientRect();return"horizontal"===e?t.width:t.height}function kg(n){return"boolean"==typeof n?n:"false"!==n}function ic(n,e){return null==n?e:(n=Number(n),!isNaN(n)&&n>=0?n:e)}function _M(n,e){if("percent"===n){const t=e.reduce((r,i)=>null!==i?r+i:r,0);return e.every(r=>null!==r)&&t>99.9&&t<100.1}if("pixel"===n)return 1===e.filter(t=>null===t).length}function Jy(n){return null===n.size?null:!0===n.component.lockSize?n.size:null===n.component.minSize?null:n.component.minSize>n.size?n.size:n.component.minSize}function e0(n){return null===n.size?null:!0===n.component.lockSize?n.size:null===n.component.maxSize?null:n.component.maxSize<n.size?n.size:n.component.maxSize}function ch(n,e,t,r){return e.reduce((i,s)=>{const a=function hz(n,e,t,r){return 0===t?{areaSnapshot:e,pixelAbsorb:0,percentAfterAbsorption:e.sizePercentAtStart,pixelRemain:0}:0===e.sizePixelAtStart&&t<0?{areaSnapshot:e,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:t}:"percent"===n?function pz(n,e,t){const i=(n.sizePixelAtStart+e)/t*100;if(e>0){if(null!==n.area.maxSize&&i>n.area.maxSize){const s=n.area.maxSize/100*t;return{areaSnapshot:n,pixelAbsorb:s,percentAfterAbsorption:n.area.maxSize,pixelRemain:n.sizePixelAtStart+e-s}}return{areaSnapshot:n,pixelAbsorb:e,percentAfterAbsorption:i>100?100:i,pixelRemain:0}}if(e<0){if(null!==n.area.minSize&&i<n.area.minSize){const s=n.area.minSize/100*t;return{areaSnapshot:n,pixelAbsorb:s,percentAfterAbsorption:n.area.minSize,pixelRemain:n.sizePixelAtStart+e-s}}return i<0?{areaSnapshot:n,pixelAbsorb:-n.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:e+n.sizePixelAtStart}:{areaSnapshot:n,pixelAbsorb:e,percentAfterAbsorption:i,pixelRemain:0}}}(e,t,r):"pixel"===n?function gz(n,e,t){const r=n.sizePixelAtStart+e;return e>0?null!==n.area.maxSize&&r>n.area.maxSize?{areaSnapshot:n,pixelAbsorb:n.area.maxSize-n.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:r-n.area.maxSize}:{areaSnapshot:n,pixelAbsorb:e,percentAfterAbsorption:-1,pixelRemain:0}:e<0?null!==n.area.minSize&&r<n.area.minSize?{areaSnapshot:n,pixelAbsorb:n.area.minSize+e-r,percentAfterAbsorption:-1,pixelRemain:r-n.area.minSize}:r<0?{areaSnapshot:n,pixelAbsorb:-n.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:e+n.sizePixelAtStart}:{areaSnapshot:n,pixelAbsorb:e,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(e,t):void 0}(n,s,i.remain,r);return i.list.push(a),i.remain=a.pixelRemain,i},{remain:t,list:[]})}function TM(n,e){"percent"===n?e.areaSnapshot.area.size=e.percentAfterAbsorption:"pixel"===n&&null!==e.areaSnapshot.area.size&&(e.areaSnapshot.area.size=e.areaSnapshot.sizePixelAtStart+e.pixelAbsorb)}const mz=new Xt("angular-split-global-config");let GS,MM=(()=>{class n{set direction(t){this._direction="vertical"===t?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,`as-${this._direction}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}get direction(){return this._direction}set unit(t){this._unit="pixel"===t?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,`as-${this._unit}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}get unit(){return this._unit}set gutterSize(t){this._gutterSize=ic(t,11),this.build(!1,!1)}get gutterSize(){return this._gutterSize}set gutterStep(t){this._gutterStep=ic(t,1)}get gutterStep(){return this._gutterStep}set restrictMove(t){this._restrictMove=kg(t)}get restrictMove(){return this._restrictMove}set useTransition(t){this._useTransition=kg(t),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}get useTransition(){return this._useTransition}set disabled(t){this._disabled=kg(t),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}get disabled(){return this._disabled}set dir(t){this._dir="rtl"===t?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}get dir(){return this._dir}set gutterDblClickDuration(t){this._gutterDblClickDuration=ic(t,0)}get gutterDblClickDuration(){return this._gutterDblClickDuration}get transitionEnd(){return new Ae(t=>this.transitionEndSubscriber=t).pipe(XS(20))}constructor(t,r,i,s,a){this.ngZone=t,this.elRef=r,this.cdRef=i,this.renderer=s,this.gutterClickDeltaPx=2,this._config={direction:"horizontal",unit:"percent",gutterSize:11,gutterStep:1,restrictMove:!1,useTransition:!1,disabled:!1,dir:"ltr",gutterDblClickDuration:0},this.dragStart=new Lr(!1),this.dragEnd=new Lr(!1),this.gutterClick=new Lr(!1),this.gutterDblClick=new Lr(!1),this.dragProgressSubject=new Ne,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.isWaitingInitialMove=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hiddenAreas=[],this._clickTimeout=null,this.direction=this._direction,this._config=a?Object.assign(this._config,a):this._config,Object.keys(this._config).forEach(c=>{this[c]=this._config[c]})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>this.renderer.addClass(this.elRef.nativeElement,"as-init"))})}getNbGutters(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}addArea(t){const r={component:t,order:0,size:0,minSize:null,maxSize:null,sizeBeforeCollapse:null,gutterBeforeCollapse:0};!0===t.visible?(this.displayedAreas.push(r),this.build(!0,!0)):this.hiddenAreas.push(r)}removeArea(t){if(this.displayedAreas.some(r=>r.component===t)){const r=this.displayedAreas.find(i=>i.component===t);this.displayedAreas.splice(this.displayedAreas.indexOf(r),1),this.build(!0,!0)}else if(this.hiddenAreas.some(r=>r.component===t)){const r=this.hiddenAreas.find(i=>i.component===t);this.hiddenAreas.splice(this.hiddenAreas.indexOf(r),1)}}updateArea(t,r,i){!0===t.visible&&this.build(r,i)}showArea(t){const r=this.hiddenAreas.find(s=>s.component===t);if(void 0===r)return;const i=this.hiddenAreas.splice(this.hiddenAreas.indexOf(r),1);this.displayedAreas.push(...i),this.build(!0,!0)}hideArea(t){const r=this.displayedAreas.find(s=>s.component===t);if(void 0===r)return;const i=this.displayedAreas.splice(this.displayedAreas.indexOf(r),1);i.forEach(s=>{s.order=0,s.size=0}),this.hiddenAreas.push(...i),this.build(!0,!0)}getVisibleAreaSizes(){return this.displayedAreas.map(t=>null===t.size?"*":t.size)}setVisibleAreaSizes(t){if(t.length!==this.displayedAreas.length)return!1;const r=t.map(s=>ic(s,null));return!1!==_M(this.unit,r)&&(this.displayedAreas.forEach((s,a)=>s.component._size=r[a]),this.build(!1,!0),!0)}build(t,r){if(this.stopDragging(),!0===t&&(this.displayedAreas.every(i=>null!==i.component.order)&&this.displayedAreas.sort((i,s)=>i.component.order-s.component.order),this.displayedAreas.forEach((i,s)=>{i.order=2*s,i.component.setStyleOrder(i.order)})),!0===r){const i=_M(this.unit,this.displayedAreas.map(s=>s.component.size));switch(this.unit){case"percent":{const s=100/this.displayedAreas.length;this.displayedAreas.forEach(a=>{a.size=i?a.component.size:s,a.minSize=Jy(a),a.maxSize=e0(a)});break}case"pixel":if(i)this.displayedAreas.forEach(s=>{s.size=s.component.size,s.minSize=Jy(s),s.maxSize=e0(s)});else{const s=this.displayedAreas.filter(a=>null===a.component.size);if(0===s.length&&this.displayedAreas.length>0)this.displayedAreas.forEach((a,c)=>{a.size=0===c?null:a.component.size,a.minSize=0===c?null:Jy(a),a.maxSize=0===c?null:e0(a)});else if(s.length>1){let a=!1;this.displayedAreas.forEach(c=>{null===c.component.size?!1===a?(c.size=null,c.minSize=null,c.maxSize=null,a=!0):(c.size=100,c.minSize=null,c.maxSize=null):(c.size=c.component.size,c.minSize=Jy(c),c.maxSize=e0(c))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}refreshStyleSizes(){if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{const t=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(r=>{r.component.setStyleFlex(0,0,`calc( ${r.size}% - ${r.size/100*t}px )`,null!==r.minSize&&r.minSize===r.size,null!==r.maxSize&&r.maxSize===r.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(t=>{null===t.size?t.component.setStyleFlex(1,1,1===this.displayedAreas.length?"100%":"auto",!1,!1):1===this.displayedAreas.length?t.component.setStyleFlex(0,0,"100%",!1,!1):t.component.setStyleFlex(0,0,`${t.size}px`,null!==t.minSize&&t.minSize===t.size,null!==t.maxSize&&t.maxSize===t.size)})}clickGutter(t,r){const i=Ag(t);this.startPoint&&CM(this.startPoint,i,this.gutterClickDeltaPx)&&(!this.isDragging||this.isWaitingInitialMove)&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",r),this.stopDragging()):this._clickTimeout=window.setTimeout(()=>{this._clickTimeout=null,this.notify("click",r),this.stopDragging()},this.gutterDblClickDuration))}startKeyboardDrag(t,r,i){if(!0===this.disabled||!0===this.isWaitingClear)return;const s=function fz(n,e){if("horizontal"===e)switch(n.key){case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":break;default:return null}if("vertical"===e)switch(n.key){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":break;default:return null}const t=n.currentTarget,r="PageUp"===n.key||"PageDown"===n.key?500:50;let i=t.offsetLeft,s=t.offsetTop;switch(n.key){case"ArrowLeft":i-=r;break;case"ArrowRight":i+=r;break;case"ArrowUp":s-=r;break;case"ArrowDown":s+=r;break;case"PageUp":"vertical"===e?s-=r:i+=r;break;case"PageDown":"vertical"===e?s+=r:i-=r;break;default:return null}return{x:i,y:s}}(t,this.direction);null!==s&&(this.endPoint=s,this.startPoint=Ag(t),t.preventDefault(),t.stopPropagation(),this.setupForDragEvent(r,i),this.startDragging(),this.drag(),this.stopDragging())}startMouseDrag(t,r,i){t.preventDefault(),t.stopPropagation(),this.startPoint=Ag(t),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.setupForDragEvent(r,i),this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(()=>{this.dragListeners.push(this.renderer.listen("document","mousemove",this.mouseDragEvent.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchmove",this.mouseDragEvent.bind(this)))}),this.startDragging())}setupForDragEvent(t,r){this.snapshot={gutterNum:r,lastSteppedOffset:0,allAreasSizePixel:EM(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(i=>{const s={area:i,sizePixelAtStart:EM(i.component.elRef,this.direction),sizePercentAtStart:"percent"===this.unit?i.size:-1};i.order<t?!0===this.restrictMove?this.snapshot.areasBeforeGutter=[s]:this.snapshot.areasBeforeGutter.unshift(s):i.order>t&&(!0===this.restrictMove?0===this.snapshot.areasAfterGutter.length&&(this.snapshot.areasAfterGutter=[s]):this.snapshot.areasAfterGutter.push(s))}),this.snapshot.allInvolvedAreasSizePercent=[...this.snapshot.areasBeforeGutter,...this.snapshot.areasAfterGutter].reduce((i,s)=>i+s.sizePercentAtStart,0)}startDragging(){this.displayedAreas.forEach(t=>t.component.lockEvents()),this.isDragging=!0,this.isWaitingInitialMove=!0}mouseDragEvent(t){t.preventDefault(),t.stopPropagation();const r=Ag(t);null!==this._clickTimeout&&!CM(this.startPoint,r,this.gutterClickDeltaPx)&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=Ag(t),null!==this.endPoint&&this.drag())}drag(){if(this.isWaitingInitialMove){if(this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y)return;this.ngZone.run(()=>{this.isWaitingInitialMove=!1,this.renderer.addClass(this.elRef.nativeElement,"as-dragging"),this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.notify("start",this.snapshot.gutterNum)})}let t="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&"horizontal"===this.direction&&(t=-t);const r=Math.round(t/this.gutterStep)*this.gutterStep;if(r===this.snapshot.lastSteppedOffset)return;this.snapshot.lastSteppedOffset=r;let i=ch(this.unit,this.snapshot.areasBeforeGutter,-r,this.snapshot.allAreasSizePixel),s=ch(this.unit,this.snapshot.areasAfterGutter,r,this.snapshot.allAreasSizePixel);if(0!==i.remain&&0!==s.remain?Math.abs(i.remain)===Math.abs(s.remain)||(Math.abs(i.remain)>Math.abs(s.remain)?s=ch(this.unit,this.snapshot.areasAfterGutter,r+i.remain,this.snapshot.allAreasSizePixel):i=ch(this.unit,this.snapshot.areasBeforeGutter,-(r-s.remain),this.snapshot.allAreasSizePixel)):0!==i.remain?s=ch(this.unit,this.snapshot.areasAfterGutter,r+i.remain,this.snapshot.allAreasSizePixel):0!==s.remain&&(i=ch(this.unit,this.snapshot.areasBeforeGutter,-(r-s.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){const a=[...i.list,...s.list],c=a.find(f=>0!==f.percentAfterAbsorption&&f.percentAfterAbsorption!==f.areaSnapshot.area.minSize&&f.percentAfterAbsorption!==f.areaSnapshot.area.maxSize);c&&(c.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-a.filter(f=>f!==c).reduce((f,m)=>f+m.percentAfterAbsorption,0))}i.list.forEach(a=>TM(this.unit,a)),s.list.forEach(a=>TM(this.unit,a)),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}stopDragging(t){if(t&&(t.preventDefault(),t.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(r=>r.component.unlockEvents());this.dragListeners.length>0;){const r=this.dragListeners.pop();r&&r()}this.isDragging=!1,!1===this.isWaitingInitialMove&&this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.startPoint=null,this.endPoint=null,this.isWaitingClear=!1})})}}notify(t,r){const i=this.getVisibleAreaSizes();"start"===t?this.dragStart.emit({gutterNum:r,sizes:i}):"end"===t?this.dragEnd.emit({gutterNum:r,sizes:i}):"click"===t?this.gutterClick.emit({gutterNum:r,sizes:i}):"dblclick"===t?this.gutterDblClick.emit({gutterNum:r,sizes:i}):"transitionEnd"===t?this.transitionEndSubscriber&&this.ngZone.run(()=>this.transitionEndSubscriber.next(i)):"progress"===t&&this.dragProgressSubject.next({gutterNum:r,sizes:i})}ngOnDestroy(){this.stopDragging()}collapseArea(t,r,i){const s=this.displayedAreas.find(f=>f.component===t);if(void 0===s)return;const a="right"===i?1:-1;s.sizeBeforeCollapse||(s.sizeBeforeCollapse=s.size,s.gutterBeforeCollapse=a),s.size=r;const c=this.gutterEls.find(f=>f.nativeElement.style.order===`${s.order+a}`);c&&this.renderer.addClass(c.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}expandArea(t){const r=this.displayedAreas.find(s=>s.component===t);if(void 0===r||!r.sizeBeforeCollapse)return;r.size=r.sizeBeforeCollapse,r.sizeBeforeCollapse=null;const i=this.gutterEls.find(s=>s.nativeElement.style.order===`${r.order+r.gutterBeforeCollapse}`);i&&this.renderer.removeClass(i.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}getAriaAreaSizeText(t){return null===t?null:t.toFixed(0)+" "+this.unit}}return n.\u0275fac=function(t){return new(t||n)(gt(Zr),gt(ii),gt(Ny),gt(Ca),gt(mz,8))},n.\u0275cmp=wo({type:n,selectors:[["as-split"]],viewQuery:function(t,r){if(1&t&&wg(lz,5),2&t){let i;sh(i=oh())&&(r.gutterEls=i)}},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration",gutterClickDeltaPx:"gutterClickDeltaPx",gutterAriaLabel:"gutterAriaLabel"},outputs:{transitionEnd:"transitionEnd",dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick"},exportAs:["asSplit"],ngContentSelectors:dz,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["role","slider","tabindex","0","class","as-split-gutter",3,"flex-basis","order","keydown","mousedown","touchstart","mouseup","touchend",4,"ngIf"],["role","slider","tabindex","0",1,"as-split-gutter",3,"keydown","mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(t,r){1&t&&(cg(),eh(0),Ew(1,cz,1,1,"ng-template",0)),2&t&&(Wo(1),co("ngForOf",r.displayedAreas))},dependencies:[KT,eM],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{border:none;flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter.as-split-gutter-collapsed[_ngcontent-%COMP%]{flex-basis:1px!important;pointer-events:none}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%], .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area{transition:flex-basis .3s}"],changeDetection:0}),n})(),vz=(()=>{class n{set order(t){this._order=ic(t,null),this.split.updateArea(this,!0,!1)}get order(){return this._order}set size(t){this._size=ic(t,null),this.split.updateArea(this,!1,!0)}get size(){return this._size}set minSize(t){this._minSize=ic(t,null),this.split.updateArea(this,!1,!0)}get minSize(){return this._minSize}set maxSize(t){this._maxSize=ic(t,null),this.split.updateArea(this,!1,!0)}get maxSize(){return this._maxSize}set lockSize(t){this._lockSize=kg(t),this.split.updateArea(this,!1,!0)}get lockSize(){return this._lockSize}set visible(t){this._visible=kg(t),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}get visible(){return this._visible}constructor(t,r,i,s){this.ngZone=t,this.elRef=r,this.renderer=i,this.split=s,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}ngOnInit(){this.split.addArea(this),this.ngZone.runOutsideAngular(()=>{this.transitionListener=this.renderer.listen(this.elRef.nativeElement,"transitionend",t=>{"flex-basis"===t.propertyName&&this.split.notify("transitionEnd",-1)})})}setStyleOrder(t){this.renderer.setStyle(this.elRef.nativeElement,"order",t)}setStyleFlex(t,r,i,s,a){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",t),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",r),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",i),!0===s?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===a?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}lockEvents(){this.ngZone.runOutsideAngular(()=>{this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"selectstart",()=>!1)),this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"dragstart",()=>!1))})}unlockEvents(){for(;this.lockListeners.length>0;){const t=this.lockListeners.pop();t&&t()}}ngOnDestroy(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}collapse(t=0,r="right"){this.split.collapseArea(this,t,r)}expand(){this.split.expandArea(this)}}return n.\u0275fac=function(t){return new(t||n)(gt(Zr),gt(ii),gt(Ca),gt(MM))},n.\u0275dir=fn({type:n,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),n})(),yz=(()=>{class n{static forRoot(){return console.warn("AngularSplitModule.forRoot() is deprecated and will be removed in v6"),{ngModule:n,providers:[]}}static forChild(){return console.warn("AngularSplitModule.forChild() is deprecated and will be removed in v6"),{ngModule:n,providers:[]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ys({type:n}),n.\u0275inj=Ir({imports:[uh]}),n})();try{GS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{GS=!1}let Ig,WS,dh=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function W5(n){return n===iM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!GS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(an(sS))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t0(n){return function Oz(){if(null==Ig&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ig=!0}))}finally{Ig=Ig||!1}return Ig}()?n:!!n.capture}function hh(n){return n.composedPath?n.composedPath()[0]:n.target}class kM extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Td(...n){return Ga(n,Xa(n))}function IM(n,e){return ht((t,r)=>{let i=0;t.subscribe(ot(r,s=>n.call(e,s,i++)&&r.next(s)))})}function PM(n){return IM((e,t)=>n<=t)}function Mz(n,e){return n===e}function RM(n){return ht((e,t)=>{As(n).subscribe(ot(t,()=>t.complete(),ee)),!t.closed&&e.subscribe(t)})}function Pg(n){return null!=n&&"false"!=`${n}`}function NM(n){return Array.isArray(n)?n:[n]}function Rg(n){return n instanceof ii?n.nativeElement:n}const{isArray:Iz}=Array,{getPrototypeOf:Pz,prototype:Rz,keys:Nz}=Object;function LM(n){if(1===n.length){const e=n[0];if(Iz(e))return{args:e,keys:null};if(function Lz(n){return n&&"object"==typeof n&&Pz(n)===Rz}(e)){const t=Nz(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Fz}=Array;function FM(n){return je(e=>function Qz(n,e){return Fz(e)?n(...e):n(e)}(n,e))}function QM(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function $M(n,e,t){n?Ks(t,n,e):e()}function ZS(...n){return function Vz(){return Su(1)}()(Ga(n,Xa(n)))}function BM(n){return n<=0?()=>gr:ht((e,t)=>{let r=0;e.subscribe(ot(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Uz(...n){const e=Xa(n);return ht((t,r)=>{(e?ZS(n,t,e):ZS(n,t)).subscribe(r)})}const VM=new Set;let ph,zz=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Hz}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function jz(n){if(!VM.has(n))try{ph||(ph=document.createElement("style"),ph.setAttribute("type","text/css"),document.head.appendChild(ph)),ph.sheet&&(ph.sheet.insertRule(`@media ${n} {body{ }}`,0),VM.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(an(dh))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hz(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Xz=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ne}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return UM(NM(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=function $z(...n){const e=Xa(n),t=ef(n),{args:r,keys:i}=LM(n);if(0===r.length)return Ga([],e);const s=new Ae(function Bz(n,e,t=me){return r=>{$M(e,()=>{const{length:i}=n,s=new Array(i);let a=i,c=i;for(let f=0;f<i;f++)$M(e,()=>{const m=Ga(n[f],e);let O=!1;m.subscribe(ot(r,x=>{s[f]=x,O||(O=!0,c--),c||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,e,i?a=>QM(i,a):me));return t?s.pipe(FM(t)):s}(UM(NM(t)).map(a=>this._registerQuery(a).observable));return s=ZS(s.pipe(BM(1)),s.pipe(PM(1),XS(0))),s.pipe(je(a=>{const c={matches:!1,breakpoints:{}};return a.forEach(({matches:f,query:m})=>{c.matches=c.matches||f,c.breakpoints[m]=f}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Ae(a=>{const c=f=>this._zone.run(()=>a.next(f));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Uz(r),je(({matches:a})=>({query:t,matches:a})),RM(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(an(zz),an(Zr))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UM(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function XM(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function GM(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const ej=new Xt("cdk-input-modality-detector-options"),tj={ignoreKeys:[18,17,224,91,16]},gh=t0({passive:!0,capture:!0});let nj=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new kM(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=hh(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(XM(a)?"keyboard":"mouse"),this._mostRecentTarget=hh(a))},this._onTouchstart=a=>{GM(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=hh(a))},this._options={...tj,...s},this.modalityDetected=this._modality.pipe(PM(1)),this.modalityChanged=this.modalityDetected.pipe(function Tz(n,e=me){return n=n??Mz,ht((t,r)=>{let i,s=!0;t.subscribe(ot(r,a=>{const c=e(a);(s||!n(i,c))&&(s=!1,i=c,r.next(a))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,gh),i.addEventListener("mousedown",this._onMousedown,gh),i.addEventListener("touchstart",this._onTouchstart,gh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,gh),document.removeEventListener("mousedown",this._onMousedown,gh),document.removeEventListener("touchstart",this._onTouchstart,gh))}}return n.\u0275fac=function(t){return new(t||n)(an(dh),an(Zr),an(ui),an(ej,8))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ij=new Xt("cdk-focus-monitor-default-options"),r0=t0({passive:!0,capture:!0});let sj=(()=>{class n{constructor(t,r,i,s,a){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ne,this._rootNodeFocusAndBlurListener=c=>{for(let m=hh(c);m;m=m.parentElement)"focus"===c.type?this._onFocus(c,m):this._onBlur(c,m)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(t,r=!1){const i=Rg(t);if(!this._platform.isBrowser||1!==i.nodeType)return Td(null);const s=function wz(n){if(function bz(){if(null==WS){const n=typeof document<"u"?document.head:null;WS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return WS}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),a=this._elementInfo.get(i);if(a)return r&&(a.checkChildren=!0),a.subject;const c={checkChildren:r,subject:new Ne,rootNode:s};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){const r=Rg(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Rg(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([c,f])=>this._originChanged(c,r,f)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=hh(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,r0),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,r0)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(RM(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,r0),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,r0),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(an(Zr),an(dh),an(nj),an(ui,8),an(ij,8))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZM="cdk-high-contrast-black-on-white",YM="cdk-high-contrast-white-on-black",YS="cdk-high-contrast-active";let oj=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=Eu(Xz).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(YS,ZM,YM),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(YS,ZM):2===r&&t.add(YS,YM)}}}return n.\u0275fac=function(t){return new(t||n)(an(dh),an(ui))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ys({type:n}),n.\u0275inj=Ir({}),n})();const cj=new Xt("mat-sanity-checks",{providedIn:"root",factory:function uj(){return!0}});let sc=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function Sz(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(an(oj),an(cj,8),an(ui))},n.\u0275mod=ys({type:n}),n.\u0275inj=Ir({imports:[qM,qM]}),n})();function dj(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Pg(e)}constructor(...e){super(...e),this._disabled=!1}}}function qS(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function fj(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Pg(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function hj(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?function Az(n,e=0){return function kz(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}class gj{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const eA=t0({passive:!0,capture:!0});class mj{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=hh(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const a=s.get(r);a?a.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,eA)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,eA)))}}const tA={enterDuration:225,exitDuration:150},nA=t0({passive:!0,capture:!0}),rA=["mousedown","touchstart"],iA=["mouseup","mouseleave","touchend","touchcancel"];class Lg{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Rg(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...tA,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const a=r.radius||function yj(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),c=e-i.left,f=t-i.top,m=s.enterDuration,O=document.createElement("div");O.classList.add("mat-ripple-element"),O.style.left=c-a+"px",O.style.top=f-a+"px",O.style.height=2*a+"px",O.style.width=2*a+"px",null!=r.color&&(O.style.backgroundColor=r.color),O.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(O);const x=window.getComputedStyle(O),U=x.transitionDuration,re="none"===x.transitionProperty||"0s"===U||"0s, 0s"===U||0===i.width&&0===i.height,Se=new gj(this,O,r,re);O.style.transform="scale3d(1, 1, 1)",Se.state=0,r.persistent||(this._mostRecentTransientRipple=Se);let Ie=null;return!re&&(m||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Be=()=>this._finishRippleTransition(Se),nt=()=>this._destroyRipple(Se);O.addEventListener("transitionend",Be),O.addEventListener("transitioncancel",nt),Ie={onTransitionEnd:Be,onTransitionCancel:nt}}),this._activeRipples.set(Se,Ie),(re||!m)&&this._finishRippleTransition(Se),Se}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...tA,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Rg(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,rA.forEach(r=>{Lg._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{iA.forEach(t=>{this._triggerElement.addEventListener(t,this,nA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=XM(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!GM(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(rA.forEach(t=>Lg._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&iA.forEach(t=>e.removeEventListener(t,this,nA)))}}Lg._eventManager=new mj;const Oj=new Xt("mat-ripple-global-options");let bj=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,s,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Lg(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(gt(ii),gt(Zr),gt(dh),gt(Oj,8),gt(mT,8))},n.\u0275dir=fn({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Ta("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),wj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ys({type:n}),n.\u0275inj=Ir({imports:[sc,sc]}),n})();function KS(n,e,t){const r=H(n)||e||t?{next:n,error:e,complete:t}:n;return r?ht((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let c=!0;i.subscribe(ot(s,f=>{var m;null===(m=r.next)||void 0===m||m.call(r,f),s.next(f)},()=>{var f;c=!1,null===(f=r.complete)||void 0===f||f.call(r),s.complete()},f=>{var m;c=!1,null===(m=r.error)||void 0===m||m.call(r,f),s.error(f)},()=>{var f,m;c&&(null===(f=r.unsubscribe)||void 0===f||f.call(r)),null===(m=r.finalize)||void 0===m||m.call(r)}))}):me}function oA(n){return ht((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ot(t,void 0,void 0,a=>{s=As(n(a,oA(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}class JS{}class oc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof oc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new oc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof oc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(c=>-1===s.indexOf(c)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Cj{encodeKey(e){return lA(e)}encodeValue(e){return lA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const _j=/%(\d[a-f0-9])/gi,Tj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lA(n){return encodeURIComponent(n).replace(_j,(e,t)=>Tj[t]??e)}function s0(n){return`${n}`}class ac{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Cj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ej(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[a,c]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],f=t.get(a)||[];f.push(c),t.set(a,f)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(s0):[s0(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ac({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(s0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(s0(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Mj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function uA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cA(n){return typeof Blob<"u"&&n instanceof Blob}function dA(n){return typeof FormData<"u"&&n instanceof FormData}class Fg{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Aj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new oc),this.context||(this.context=new Mj),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const c=t.indexOf("?");this.urlWithParams=t+(-1===c?"?":c<t.length-1?"&":"")+a}}else this.params=new ac,this.urlWithParams=t}serializeBody(){return null===this.body?null:uA(this.body)||cA(this.body)||dA(this.body)||function kj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ac?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dA(this.body)?null:cA(this.body)?this.body.type||null:uA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ac?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let f=e.headers||this.headers,m=e.params||this.params;const O=e.context??this.context;return void 0!==e.setHeaders&&(f=Object.keys(e.setHeaders).reduce((x,P)=>x.set(P,e.setHeaders[P]),f)),e.setParams&&(m=Object.keys(e.setParams).reduce((x,P)=>x.set(P,e.setParams[P]),m)),new Fg(t,r,s,{params:m,headers:f,context:O,reportProgress:c,responseType:i,withCredentials:a})}}var rs=(()=>((rs=rs||{})[rs.Sent=0]="Sent",rs[rs.UploadProgress=1]="UploadProgress",rs[rs.ResponseHeader=2]="ResponseHeader",rs[rs.DownloadProgress=3]="DownloadProgress",rs[rs.Response=4]="Response",rs[rs.User=5]="User",rs))();class Ij{constructor(e,t=200,r="OK"){this.headers=e.headers||new oc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ex extends Ij{constructor(e={}){super(e),this.type=rs.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ex({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function tx(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let nx=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Fg)s=t;else{let f,m;f=i.headers instanceof oc?i.headers:new oc(i.headers),i.params&&(m=i.params instanceof ac?i.params:new ac({fromObject:i.params})),s=new Fg(t,r,void 0!==i.body?i.body:null,{headers:f,context:i.context,params:m,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const a=Td(s).pipe(function Dj(n,e){return H(e)?Ha(n,e,1):Ha(n,1)}(f=>this.handler.handle(f)));if(t instanceof Fg||"events"===i.observe)return a;const c=a.pipe(IM(f=>f instanceof ex));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(je(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return c.pipe(je(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return c.pipe(je(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return c.pipe(je(f=>f.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ac).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,tx(i,r))}post(t,r,i={}){return this.request("POST",t,tx(i,r))}put(t,r,i={}){return this.request("PUT",t,tx(i,r))}}return n.\u0275fac=function(t){return new(t||n)(an(JS))},n.\u0275prov=xn({token:n,factory:n.\u0275fac}),n})();const Hj=["*"];let a0;function Qg(n){return function Xj(){if(void 0===a0&&(a0=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(a0=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return a0}()?.createHTML(n)||n}function OA(n){return Error(`Unable to find icon with the name "${n}"`)}function bA(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function wA(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Md{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let l0=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Md(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const a=this._sanitizer.sanitize(Ke.HTML,i);if(!a)throw wA(i);const c=Qg(a);return this._addSvgIconConfig(t,r,new Md("",c,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Md(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(Ke.HTML,r);if(!s)throw wA(r);const a=Qg(s);return this._addSvgIconSetConfig(t,new Md("",a,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Ke.RESOURCE_URL,t);if(!r)throw bA(t);const i=this._cachedIconsByUrl.get(r);return i?Td(u0(i)):this._loadSvgIconFromConfig(new Md(t,null)).pipe(KS(s=>this._cachedIconsByUrl.set(r,s)),je(s=>u0(s)))}getNamedSvgIcon(t,r=""){const i=SA(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(t,a):function Sj(n,e){const t=H(n)?n:()=>n,r=i=>i.error(t());return new Ae(e?i=>e.schedule(r,0,i):r)}(OA(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Td(u0(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(je(r=>u0(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Td(i):function sA(...n){const e=ef(n),{args:t,keys:r}=LM(n),i=new Ae(s=>{const{length:a}=t;if(!a)return void s.complete();const c=new Array(a);let f=a,m=a;for(let O=0;O<a;O++){let x=!1;As(t[O]).subscribe(ot(s,P=>{x||(x=!0,m--),c[O]=P},()=>f--,void 0,()=>{(!f||!x)&&(m||s.next(r?QM(r,c):c),s.complete())}))}});return e?i.pipe(FM(e)):i}(r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(oA(c=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(Ke.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(m)),Td(null)})))).pipe(je(()=>{const a=this._extractIconWithNameFromAnySet(t,r);if(!a)throw OA(t);return a}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const a=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(a,t,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(KS(r=>t.svgText=r),je(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Td(null):this._fetchIcon(t).pipe(KS(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,i);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),i);const c=this._svgElementFromString(Qg("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Qg("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:a,value:c}=i[s];"id"!==a&&r.setAttribute(a,c)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function Gj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(Ke.RESOURCE_URL,r);if(!a)throw bA(r);const c=this._inProgressUrlFetches.get(a);if(c)return c;const f=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(je(m=>Qg(m)),function xj(n){return ht((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>this._inProgressUrlFetches.delete(a)),ua());return this._inProgressUrlFetches.set(a,f),f}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(SA(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return Zj(s)?new Md(s.url,null,s.options):new Md(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(an(nx,8),an(HS),an(ui,8),an(Go))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function u0(n){return n.cloneNode(!0)}function SA(n,e){return n+":"+e}function Zj(n){return!(!n.url||!n.options)}const Yj=qS(class{constructor(n){this._elementRef=n}}),qj=new Xt("MAT_ICON_DEFAULT_OPTIONS"),Kj=new Xt("mat-icon-location",{providedIn:"root",factory:function Jj(){const n=Eu(ui),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),xA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],e3=xA.map(n=>`[${n}]`).join(", "),t3=/^url\(['"]?#(.*?)['"]?\)$/;let n3=(()=>{class n extends Yj{get inline(){return this._inline}set inline(t){this._inline=Pg(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,s,a,c){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=R.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(a=>{s.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(e3),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)xA.forEach(a=>{const c=r[s],f=c.getAttribute(a),m=f?f.match(t3):null;if(m){let O=i.get(c);O||(O=[],i.set(c,O)),O.push({name:a,value:m[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(BM(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(gt(ii),gt(l0),sd("aria-hidden"),gt(Kj),gt(Go),gt(qj,8))},n.\u0275cmp=wo({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(uo("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ta("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[sr],ngContentSelectors:Hj,decls:1,vars:0,template:function(t,r){1&t&&(cg(),eh(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),DA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ys({type:n}),n.\u0275inj=Ir({imports:[sc,sc]}),n})();class yh{}yh.\u0275fac=function(e){return new(e||yh)},yh.\u0275mod=ys({type:yh}),yh.\u0275inj=Ir({imports:[uh,DA]});class CA{constructor(){this.displayContextMenu=!0,this.individualCSS={"background-color":"rgb(64,153,218)",color:"#333","border-color":"#bbb","border-width":3,"border-opacity":.5},this.classNodeCSS={"background-color":"rgb(238, 75, 43)",color:"#333"},this.literalNodeCSS={"background-color":"white",color:"#333",opacity:1,width:"data(width)",shape:"rectangle","border-color":"#bbb","border-width":3,"border-opacity":.5}}}class Ad{constructor(e,t){this.resourceURI=e,this.subject=t}}var Ra=(()=>{return(n=Ra||(Ra={})).NODE_SEARCH="NODE_SEARCH",n.NODE_FOCUS="NODE_FOCUS",n.NODE_EXPAND_OUT="NODE_EXPAND_OUT",n.NODE_EXPAND_IN="NODE_EXPAND_IN",n.EDGE_SEARCH="EDGE_SEARCH",n.COPY_URI="COPY_URI",Ra;var n})();const EA=new CA;function _A(n,e,t,r,i,s,a){try{var c=n[s](a),f=c.value}catch(m){return void t(m)}c.done?e(f):Promise.resolve(f).then(r,i)}function Oh(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function a(f){_A(s,r,i,a,c,"next",f)}function c(f){_A(s,r,i,a,c,"throw",f)}a(void 0)})}}EA.displayContextMenu=!1;var r3=j(6864),c0=j.n(r3),s3=j(3811),o3=j.n(s3),a3=j(1212),l3=j.n(a3),u3=j(5791),c3=j.n(u3);c0().use(o3()),c0().use(l3()),c0().use(c3());class bh{constructor(){this.contextMenuClick$=new Ne}build(e,t,r){this.initCytoscape(e,t,r),r.displayContextMenu&&this.setupContextMenus(),this.setupHoverEvents()}addElements(e){null!=this.cy&&(this.cy.add(e),this.updateLayout())}contextMenuClick(){return this.contextMenuClick$.asObservable()}getCytoscape(){return this.cy}initCytoscape(e,t,r){this.cy=c0()({container:e,wheelSensitivity:.5,elements:t,style:[{selector:"node",style:{content:"data(name)","text-valign":"center",color:"#ccc"}},{selector:"node.individual",style:{width:"data(size)",height:"data(size)",...r.individualCSS}},{selector:"node.class",style:{width:"data(size)",height:"data(size)",...r.classNodeCSS}},{selector:"node.literal",style:{content:"data(name)",...r.literalNodeCSS}},{selector:":selected",style:{"border-width":3,"border-color":"#333"}},{selector:"edge",style:{content:"data(name)","curve-style":"bezier",opacity:.666,"target-arrow-shape":"triangle"}},{selector:".faded",style:{opacity:.25,"text-opacity":0}}]}),this.updateLayout()}updateLayout(){null!=this.cy&&this.cy.layout({name:"cose-bilkent",quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:100,randomize:!0,nodeRepulsion:4500,idealEdgeLength:200,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5}).run()}setupContextMenus(){null!=this.cy&&(this.cy.cxtmenu({selector:"node",commands:[{content:"Focus",select:e=>{const r=e.json().data?.uri;if(void 0===r)return;const i=new Ad(r,Ra.NODE_FOCUS);this.contextMenuClick$.next(i)},enabled:!0},{content:"Search",select:e=>{const r=e.json().data?.uri;if(void 0===r)return;const i=new Ad(r,Ra.NODE_SEARCH);this.contextMenuClick$.next(i)},enabled:!0},{content:"+outgoing",select:e=>{const r=e.json().data?.uri;if(void 0===r)return;const i=new Ad(r,Ra.NODE_EXPAND_OUT);this.contextMenuClick$.next(i)}},{content:"+incoming",select:e=>{const r=e.json().data?.uri;if(void 0===r)return;const i=new Ad(r,Ra.NODE_EXPAND_IN);this.contextMenuClick$.next(i)}},{content:"Copy URI",select:e=>{const r=e.json().data?.uri;if(void 0===r)return;const i=new Ad(r,Ra.COPY_URI);this.contextMenuClick$.next(i)},enabled:!0}]}),this.cy.cxtmenu({selector:"edge",commands:[{content:"Search",select:e=>{const r=e.json().data?.uri;if(void 0===r)return;const i=new Ad(r,Ra.EDGE_SEARCH);this.contextMenuClick$.next(i)}},{content:"Copy URI",select:e=>{const r=e.json().data?.uri;if(void 0===r)return;const i=new Ad(r,Ra.COPY_URI);this.contextMenuClick$.next(i)},enabled:!0}]}))}setupHoverEvents(){if(null==this.cy)return;let e=this.cy.collection();this.cy.nodes().on("click",function(t){const r=t.target;console.log(r),e=e.union(r)}),this.cy.nodes().unbind("mouseover"),this.cy.nodes().bind("mouseover",t=>{this.dimAllButNeighbors(t.target)}),this.cy.nodes().unbind("mouseout"),this.cy.nodes().bind("mouseout",()=>{this.unDimAll()})}unDimAll(){null!=this.cy&&this.cy.elements().forEach(e=>{e.removeClass("faded")})}dimAllButNeighbors(e){if(null==this.cy)return;const t=e.neighborhood().map(r=>r.id());this.cy.elements().forEach(r=>{t.includes(r.id())||r.id()===e.id()?r.removeClass("faded"):r.addClass("faded")})}}bh.\u0275fac=function(e){return new(e||bh)},bh.\u0275prov=xn({token:bh,factory:bh.\u0275fac,providedIn:"root"});var d0,TA=j(5049),d3=new Uint8Array(16);function f3(){if(!d0&&!(d0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d0(d3)}const h3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,g3=function p3(n){return"string"==typeof n&&h3.test(n)};for(var is=[],ix=0;ix<256;++ix)is.push((ix+256).toString(16).substr(1));const O3=function y3(n,e,t){var r=(n=n||{}).random||(n.rng||f3)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return function m3(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(is[n[e+0]]+is[n[e+1]]+is[n[e+2]]+is[n[e+3]]+"-"+is[n[e+4]]+is[n[e+5]]+"-"+is[n[e+6]]+is[n[e+7]]+"-"+is[n[e+8]]+is[n[e+9]]+"-"+is[n[e+10]]+is[n[e+11]]+is[n[e+12]]+is[n[e+13]]+is[n[e+14]]+is[n[e+15]]).toLowerCase();if(!g3(t))throw TypeError("Stringified UUID is invalid");return t}(r)};class wh{constructor(){this.nodes=[],this.edges=[],this.seenNodes=[],this.resourceLabels={},this.knownPrefixes={schema:"http://schema.org/"}}buildElementData(e,t="en"){var r=this;return Oh(function*(){return r.context={...e["@context"],...r.knownPrefixes},r.nodes=[],r.edges=[],r.seenNodes=[],r.resourceLabels={},(yield(0,TA.toRDF)(e)).forEach(s=>r.processQuad(s)),r.nodes=r.appendNames(r.nodes,t),r.edges=r.appendNames(r.edges,t),{nodes:r.nodes,edges:r.edges}})()}appendElementData(e,t="en"){var r=this;return Oh(function*(){return(yield(0,TA.toRDF)(e)).forEach(s=>r.processQuad(s)),r.nodes=r.appendNames(r.nodes,t),r.edges=r.appendNames(r.edges,t),{nodes:r.nodes,edges:r.edges}})()}processQuad(e){const t=e.subject.value;let r=e.predicate.value,i=e.object.value;if("http://www.w3.org/2004/02/skos/core#prefLabel"===r||"http://www.w3.org/2000/01/rdf-schema#label"===r)return void(Object.keys(this.resourceLabels).includes(t)?this.resourceLabels[t].push(e.object):this.resourceLabels[t]=[e.object]);"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===r&&(r="a"),this.appendNamedNode(t);const s=e.object.termType;"Literal"===s?i=this.appendLiteralNode(i):"BlankNode"===s?this.appendNamedNode(i,"individual"):"NamedNode"===s?this.appendNamedNode(i,"a"===r?"class":"individual"):console.warn("Unknown term type "+s),this.appendEdge(t,r,i)}appendNames(e,t="en"){return e.map(r=>{const i=this.resourceLabels[r.data.id];if(Array.isArray(i))1===i.length?r.data.name=i[0].value:console.log("MORE THAN ONE LABEL NOT YET SUPPORTED");else{if("class"===r.classes){if(null==r.data.uri)return r;r.data.name=this.getIdFromURI(r.data.uri)}if("edge"===r.classes){if(null==r.data.uri)return r;r.data.name=this.getIdFromURI(r.data.uri)}}return void 0!==r.data.size&&""!=r.data.name&&(r.data.size=70),r})}appendNamedNode(e,t="individual"){if(this.seenNodes.includes(e)){if("class"===t){const r=this.nodes.find(i=>i.data.id===e);null!=r&&(r.classes=t)}}else this.nodes.push({data:{id:e,uri:e,name:"",size:40},classes:t}),this.seenNodes.push(e)}appendLiteralNode(e){""===e&&(e="-");const t=this.camelize(e);return this.seenNodes.includes(t)||(this.nodes.push({data:{id:t,name:e,width:10*e.length+"px"},classes:"literal"}),this.seenNodes.push(t)),t}appendEdge(e,t,r){this.edges.push({data:{id:O3(),source:e,target:r,name:this.appendPrefix(t),uri:t},classes:"edge"})}appendPrefix(e){const t=Object.keys(this.context),r=Object.values(this.context);for(const i in r){const s=r[i];if(e.startsWith(s)){e=e.replace(s,`${t[i]}:`);break}}return e}camelize(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,r){return 0===r?t.toLowerCase():t.toUpperCase()}).replace(/\s+/g,"")}getIdFromURI(e){return e.includes("#")?e.split("#")[1]:e.split("/").pop()??e}}wh.\u0275fac=function(e){return new(e||wh)},wh.\u0275prov=xn({token:wh,factory:wh.\u0275fac,providedIn:"root"});class b3{constructor(e,t){this.newRect=e,this.oldRect=t,this.isFirst=null==t}}class $g{constructor(e,t){this.element=e,this.zone=t,this.resized=new Lr,this.observer=new ResizeObserver(r=>this.zone.run(()=>this.observe(r)))}ngOnInit(){this.observer.observe(this.element.nativeElement)}ngOnDestroy(){this.observer.disconnect()}observe(e){const t=e[0],r=new b3(t.contentRect,this.oldRect);this.oldRect=t.contentRect,this.resized.emit(r)}}$g.\u0275fac=function(e){return new(e||$g)(gt(ii),gt(Zr))},$g.\u0275dir=fn({type:$g,selectors:[["","imPoc1Resized",""]],outputs:{resized:"resized"},standalone:!0});const w3=["cy"];class Bg{set content(e){if(e){if(this.canvas=e.nativeElement,null==this.canvas||null==this.elementData)return;this.rdfGraphService.build(this.canvas,this.elementData,this.settings)}}constructor(e,t){this.rdfGraphService=e,this.jsonLDProcessingService=t,this.settings=new CA,this.clickedContextMenu=new Lr}ngOnInit(){this.rdfGraphService.contextMenuClick().subscribe(e=>{e&&this.clickedContextMenu.emit(e),e?.subject===Ra.COPY_URI&&navigator.clipboard.writeText(e.resourceURI??"")})}ngOnChanges(){var e=this;return Oh(function*(){e.elementData=yield e.jsonLDProcessingService.buildElementData(e.data),null!=e.canvas&&null!=e.elementData&&e.rdfGraphService.build(e.canvas,e.elementData,e.settings)})()}ngAfterViewInit(){null!=this.canvas&&null!=this.elementData&&this.rdfGraphService.build(this.canvas,this.elementData,this.settings)}append(e){var t=this;return Oh(function*(){if(null==t.canvas)return;const r=yield t.jsonLDProcessingService.buildElementData(e);t.rdfGraphService.addElements(r)})()}getCytoscape(){return this.rdfGraphService.getCytoscape()}onResized(){null==this.canvas||null==this.elementData||(this.canvas.innerHTML="",this.rdfGraphService.build(this.canvas,this.elementData,this.settings))}}Bg.\u0275fac=function(e){return new(e||Bg)(gt(bh),gt(wh))},Bg.\u0275cmp=wo({type:Bg,selectors:[["im-poc1-rdf-graph"]],viewQuery:function(e,t){if(1&e&&wg(w3,5),2&e){let r;sh(r=oh())&&(t.content=r.first)}},inputs:{data:"data",settings:"settings"},outputs:{clickedContextMenu:"clickedContextMenu"},features:[In],decls:2,vars:0,consts:[["id","graph-canvas","imPoc1Resized","",3,"resized"],["cy",""]],template:function(e,t){1&e&&(Oi(0,"div",0,1),bi("resized",function(){return t.onResized()}),Gi())},dependencies:[$g],styles:["#graph-canvas[_ngcontent-%COMP%]{height:100%;width:100%}  .node-hover-div{font-size:.6em}"]});class Vg{constructor(){this.settings=EA}onContextMenuClick(e){console.log(e)}}Vg.\u0275fac=function(e){return new(e||Vg)},Vg.\u0275cmp=wo({type:Vg,selectors:[["im-poc1-graph"]],inputs:{data:"data"},standalone:!0,features:[yg],decls:1,vars:2,consts:[[3,"data","settings","clickedContextMenu"]],template:function(e,t){1&e&&(Oi(0,"im-poc1-rdf-graph",0),bi("clickedContextMenu",function(i){return t.onContextMenuClick(i)}),Gi()),2&e&&co("data",t.data)("settings",t.settings)},dependencies:[uh,yh,Bg],encapsulation:2});class cr{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),wl.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let r=[];return this.decompose(e,t,r,0),wl.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Ug(this),s=new Ug(e);for(let a=t,c=t;;){if(i.next(a),s.next(a),a=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(c+=i.value.length,i.done||c>=r)return!0}}iter(e=1){return new Ug(this,e)}iterRange(e,t=this.length){return new AA(this,e,t)}iterLines(e,t){let r;if(null==e)r=this.iter();else{null==t&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new kA(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new di(e):wl.from(di.split(e,[])):cr.empty}}class di extends cr{constructor(e,t=function S3(n){let e=-1;for(let t of n)e+=t.length+1;return e}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let a=this.text[s],c=i+a.length;if((t?r:c)>=e)return new x3(i,c,r,a);i=c+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new di(MA(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){let a=r.pop(),c=f0(s.text,a.text.slice(),0,s.length);if(c.length<=32)r.push(new di(c,a.length+s.length));else{let f=c.length>>1;r.push(new di(c.slice(0,f)),new di(c.slice(f)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof di))return super.replace(e,t,r);let i=f0(this.text,f0(r.text,MA(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new di(i,s):wl.from(di.split(i,[]),s)}sliceString(e,t=this.length,r="\n"){let i="";for(let s=0,a=0;s<=t&&a<this.text.length;a++){let c=this.text[a],f=s+c.length;s>e&&a&&(i+=r),e<f&&t>s&&(i+=c.slice(Math.max(0,e-s),t-s)),s=f+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,32==r.length&&(t.push(new di(r,i)),r=[],i=-1);return i>-1&&t.push(new di(r,i)),t}}class wl extends cr{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let a=this.children[s],c=i+a.length,f=r+a.lines-1;if((t?f:c)>=e)return a.lineInner(e,t,r,i);i=c+1,r=f+1}}decompose(e,t,r,i){for(let s=0,a=0;a<=t&&s<this.children.length;s++){let c=this.children[s],f=a+c.length;if(e<=f&&t>=a){let m=i&((a<=e?1:0)|(f>=t?2:0));a>=e&&f<=t&&!m?r.push(c):c.decompose(e-a,t-a,r,m)}a=f+1}}replace(e,t,r){if(r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let a=this.children[i],c=s+a.length;if(e>=s&&t<=c){let f=a.replace(e-s,t-s,r),m=this.lines-a.lines+f.lines;if(f.lines<m>>4&&f.lines>m>>6){let O=this.children.slice();return O[i]=f,new wl(O,this.length-(t-e)+r.length)}return super.replace(s,c,f)}s=c+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r="\n"){let i="";for(let s=0,a=0;s<this.children.length&&a<=t;s++){let c=this.children[s],f=a+c.length;a>e&&s&&(i+=r),e<f&&t>a&&(i+=c.sliceString(e-a,t-a,r)),a=f+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof wl))return 0;let r=0,[i,s,a,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==a||s==c)return r;let f=this.children[i],m=e.children[s];if(f!=m)return r+f.scanIdentical(m,t);r+=f.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let U of e)r+=U.lines;if(r<32){let U=[];for(let re of e)re.flatten(U);return new di(U,t)}let i=Math.max(32,r>>5),s=i<<1,a=i>>1,c=[],f=0,m=-1,O=[];function x(U){let re;if(U.lines>s&&U instanceof wl)for(let Se of U.children)x(Se);else U.lines>a&&(f>a||!f)?(P(),c.push(U)):U instanceof di&&f&&(re=O[O.length-1])instanceof di&&U.lines+re.lines<=32?(f+=U.lines,m+=U.length+1,O[O.length-1]=new di(re.text.concat(U.text),re.length+1+U.length)):(f+U.lines>i&&P(),f+=U.lines,m+=U.length+1,O.push(U))}function P(){0!=f&&(c.push(1==O.length?O[0]:wl.from(O,m)),m=-1,f=O.length=0)}for(let U of e)x(U);return P(),1==c.length?c[0]:new wl(c,t)}}function f0(n,e,t=0,r=1e9){for(let i=0,s=0,a=!0;s<n.length&&i<=r;s++){let c=n[s],f=i+c.length;f>=t&&(f>r&&(c=c.slice(0,r-i)),i<t&&(c=c.slice(t-i)),a?(e[e.length-1]+=c,a=!1):e.push(c)),i=f+1}return e}function MA(n,e,t){return f0(n,[""],e,t)}cr.empty=new di([""],0);class Ug{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof di?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],a=s>>1;if(a==(t>0?i instanceof di?i.text.length:i.children.length:0)){if(0==r)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(t>0?0:1)){if(this.offsets[r]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(i instanceof di){let f=i.text[a+(t<0?-1:0)];if(this.offsets[r]+=t,f.length>Math.max(0,e))return this.value=0==e?f:t>0?f.slice(e):f.slice(0,f.length-e),this;e-=f.length}else{let f=i.children[a+(t<0?-1:0)];e>f.length?(e-=f.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(f),this.offsets.push(t>0?1:(f instanceof di?f.text.length:f.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class AA{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new Ug(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class kA{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(cr.prototype[Symbol.iterator]=function(){return this.iter()},Ug.prototype[Symbol.iterator]=AA.prototype[Symbol.iterator]=kA.prototype[Symbol.iterator]=function(){return this});class x3{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}let Sh="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Sh.length;n++)Sh[n]+=Sh[n-1];function D3(n){for(let e=1;e<Sh.length;e+=2)if(Sh[e]>n)return Sh[e-1]<=n;return!1}function IA(n){return n>=127462&&n<=127487}function zs(n,e,t=!0,r=!0){return(t?RA:C3)(n,e,r)}function RA(n,e,t){if(e==n.length)return e;e&&NA(n.charCodeAt(e))&&LA(n.charCodeAt(e-1))&&e--;let r=ss(n,e);for(e+=Ko(r);e<n.length;){let i=ss(n,e);if(8205==r||8205==i||t&&D3(i))e+=Ko(i),r=i;else{if(!IA(i))break;{let s=0,a=e-2;for(;a>=0&&IA(ss(n,a));)s++,a-=2;if(s%2==0)break;e+=2}}}return e}function C3(n,e,t){for(;e>0;){let r=RA(n,e-2,t);if(r<e)return r;e--}return 0}function NA(n){return n>=56320&&n<57344}function LA(n){return n>=55296&&n<56320}function ss(n,e){let t=n.charCodeAt(e);if(!LA(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return NA(r)?r-56320+(t-55296<<10)+65536:t}function sx(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n)))}function Ko(n){return n<65536?1:2}const ox=/\r\n?|\n/;var os=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(os||(os={}));class Sl{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],a=this.sections[t++];a<0?(e(r,i,s),i+=s):i+=a,r+=s}}iterChangedRanges(e,t=!1){ax(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new Sl(e)}composeDesc(e){return this.empty?e:e.empty?this:FA(this,e)}mapDesc(e,t=!1){return e.empty?this:lx(this,e,t)}mapPos(e,t=-1,r=os.Simple){let i=0,s=0;for(let a=0;a<this.sections.length;){let c=this.sections[a++],f=this.sections[a++],m=i+c;if(f<0){if(m>e)return s+(e-i);s+=c}else{if(r!=os.Simple&&m>=e&&(r==os.TrackDel&&i<e&&m>e||r==os.TrackBefore&&i<e||r==os.TrackAfter&&m>e))return null;if(m>e||m==e&&t<0&&!c)return e==i||t<0?s:s+f;s+=f}i=m}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let c=i+this.sections[r++];if(this.sections[r++]>=0&&i<=t&&c>=e)return!(i<e&&c>t)||"cover";i=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>"number"!=typeof t))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Sl(e)}static create(e){return new Sl(e)}}class Li extends Sl{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return ax(this,(t,r,i,s,a)=>e=e.replace(i,i+(r-t),a),!1),e}mapDesc(e,t=!1){return lx(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let a=t[i],c=t[i+1];if(c>=0){t[i]=c,t[i+1]=a;let f=i>>1;for(;r.length<f;)r.push(cr.empty);r.push(a?e.slice(s,s+a):cr.empty)}s+=a}return new Li(t,r)}compose(e){return this.empty?e:e.empty?this:FA(this,e,!0)}map(e,t=!1){return e.empty?this:lx(this,e,t,!0)}iterChanges(e,t=!1){ax(this,e,t)}get desc(){return Sl.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new zg(this);e:for(let a=0,c=0;;){let f=a==e.length?1e9:e[a++];for(;c<f||c==f&&0==s.len;){if(s.done)break e;let O=Math.min(s.len,f-c);Ds(i,O,-1);let x=-1==s.ins?-1:0==s.off?s.ins:0;Ds(t,O,x),x>0&&lc(r,t,s.text),s.forward(O),c+=O}let m=e[a++];for(;c<m;){if(s.done)break e;let O=Math.min(s.len,m-c);Ds(t,O,-1),Ds(i,O,-1==s.ins?-1:0==s.off?s.ins:0),s.forward(O),c+=O}}return{changes:new Li(t,r),filtered:Sl.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];e.push(i<0?r:0==i?[r]:[r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],a=0,c=null;function f(O=!1){if(!O&&!i.length)return;a<t&&Ds(i,t-a,-1);let x=new Li(i,s);c=c?c.compose(x.map(c)):x,i=[],s=[],a=0}return function m(O){if(Array.isArray(O))for(let x of O)m(x);else if(O instanceof Li){if(O.length!=t)throw new RangeError(`Mismatched change set length (got ${O.length}, expected ${t})`);f(),c=c?c.compose(O.map(c)):O}else{let{from:x,to:P=x,insert:U}=O;if(x>P||x<0||P>t)throw new RangeError(`Invalid change range ${x} to ${P} (in doc of length ${t})`);let re=U?"string"==typeof U?cr.of(U.split(r||ox)):U:cr.empty,Se=re.length;if(x==P&&0==Se)return;x<a&&f(),x>a&&Ds(i,x-a,-1),Ds(i,P-x,Se),lc(s,i,re),a=P}}(e),f(!c),c}static empty(e){return new Li(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if("number"==typeof s)t.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some((a,c)=>c&&"string"!=typeof a))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)t.push(s[0],0);else{for(;r.length<i;)r.push(cr.empty);r[i]=cr.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new Li(t,r)}static createSet(e,t){return new Li(e,t)}}function Ds(n,e,t,r=!1){if(0==e&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:0==e&&0==n[i]?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function lc(n,e,t){if(0==t.length)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(cr.empty);n.push(t)}}function ax(n,e,t){let r=n.inserted;for(let i=0,s=0,a=0;a<n.sections.length;){let c=n.sections[a++],f=n.sections[a++];if(f<0)i+=c,s+=c;else{let m=i,O=s,x=cr.empty;for(;m+=c,O+=f,f&&r&&(x=x.append(r[a-2>>1])),!(t||a==n.sections.length||n.sections[a+1]<0);)c=n.sections[a++],f=n.sections[a++];e(i,m,s,O,x),i=m,s=O}}}function lx(n,e,t,r=!1){let i=[],s=r?[]:null,a=new zg(n),c=new zg(e);for(let f=-1;;)if(-1==a.ins&&-1==c.ins){let m=Math.min(a.len,c.len);Ds(i,m,-1),a.forward(m),c.forward(m)}else if(c.ins>=0&&(a.ins<0||f==a.i||0==a.off&&(c.len<a.len||c.len==a.len&&!t))){let m=c.len;for(Ds(i,c.ins,-1);m;){let O=Math.min(a.len,m);a.ins>=0&&f<a.i&&a.len<=O&&(Ds(i,0,a.ins),s&&lc(s,i,a.text),f=a.i),a.forward(O),m-=O}c.next()}else{if(!(a.ins>=0)){if(a.done&&c.done)return s?Li.createSet(i,s):Sl.create(i);throw new Error("Mismatched change set lengths")}{let m=0,O=a.len;for(;O;)if(-1==c.ins){let x=Math.min(O,c.len);m+=x,O-=x,c.forward(x)}else{if(!(0==c.ins&&c.len<O))break;O-=c.len,c.next()}Ds(i,m,f<a.i?a.ins:0),s&&f<a.i&&lc(s,i,a.text),f=a.i,a.forward(a.len-O)}}}function FA(n,e,t=!1){let r=[],i=t?[]:null,s=new zg(n),a=new zg(e);for(let c=!1;;){if(s.done&&a.done)return i?Li.createSet(r,i):Sl.create(r);if(0==s.ins)Ds(r,s.len,0,c),s.next();else if(0!=a.len||a.done){if(s.done||a.done)throw new Error("Mismatched change set lengths");{let f=Math.min(s.len2,a.len),m=r.length;if(-1==s.ins){let O=-1==a.ins?-1:a.off?0:a.ins;Ds(r,f,O,c),i&&O&&lc(i,r,a.text)}else-1==a.ins?(Ds(r,s.off?0:s.len,f,c),i&&lc(i,r,s.textBit(f))):(Ds(r,s.off?0:s.len,a.off?0:a.ins,c),i&&!a.off&&lc(i,r,a.text));c=(s.ins>f||a.ins>=0&&a.len>f)&&(c||r.length>m),s.forward2(f),a.forward(f)}}else Ds(r,0,a.ins,c),i&&lc(i,r,a.text),a.next()}}class zg{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?cr.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?cr.empty:t[r].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class kd{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new kd(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return bt.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return bt.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return bt.range(e.anchor,e.head)}static create(e,t,r){return new kd(e,t,r)}}class bt{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:bt.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new bt([this.main],0)}addRange(e,t=!0){return bt.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,bt.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new bt(e.ranges.map(t=>kd.fromJSON(t)),e.main)}static single(e,t=e){return new bt([bt.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return bt.normalized(e.slice(),t);r=s.to}return new bt(e,t)}static cursor(e,t=0,r,i){return kd.create(e,e,(0==t?0:t<0?4:8)|(null==r?3:Math.min(2,r))|(i??33554431)<<5)}static range(e,t,r,i){let s=(r??33554431)<<5|(null==i?3:Math.min(2,i));return t<e?kd.create(t,e,24|s):kd.create(e,t,(t>e?4:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],a=e[i-1];if(s.empty?s.from<=a.to:s.from<a.to){let c=a.from,f=Math.max(s.to,a.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?bt.range(f,c):bt.range(c,f))}}return new bt(e,t)}}function QA(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let ux=0;class tn{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=ux++,this.default=e([]),this.extensions="function"==typeof s?s(this):s}static define(e={}){return new tn(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:cx),!!e.static,e.enables)}of(e){return new h0([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new h0(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new h0(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function cx(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class h0{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=ux++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,a=e[s]>>1,c=2==this.type,f=!1,m=!1,O=[];for(let x of this.dependencies)"doc"==x?f=!0:"selection"==x?m=!0:1&(null!==(t=e[x.id])&&void 0!==t?t:1)||O.push(e[x.id]);return{create:x=>(x.values[a]=r(x),1),update(x,P){if(f&&P.docChanged||m&&(P.docChanged||P.selection)||dx(x,O)){let U=r(x);if(c?!$A(U,x.values[a],i):!i(U,x.values[a]))return x.values[a]=U,1}return 0},reconfigure:(x,P)=>{let U,re=P.config.address[s];if(null!=re){let Se=m0(P,re);if(this.dependencies.every(Ie=>Ie instanceof tn?P.facet(Ie)===x.facet(Ie):!(Ie instanceof Di)||P.field(Ie,!1)==x.field(Ie,!1))||(c?$A(U=r(x),Se,i):i(U=r(x),Se)))return x.values[a]=Se,0}else U=r(x);return x.values[a]=U,1}}}}function $A(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function dx(n,e){let t=!1;for(let r of e)1&Hg(n,r)&&(t=!0);return t}function E3(n,e,t){let r=t.map(f=>n[f.id]),i=t.map(f=>f.type),s=r.filter(f=>!(1&f)),a=n[e.id]>>1;function c(f){let m=[];for(let O=0;O<r.length;O++){let x=m0(f,r[O]);if(2==i[O])for(let P of x)m.push(P);else m.push(x)}return e.combine(m)}return{create(f){for(let m of r)Hg(f,m);return f.values[a]=c(f),1},update(f,m){if(!dx(f,s))return 0;let O=c(f);return e.compare(O,f.values[a])?0:(f.values[a]=O,1)},reconfigure(f,m){let O=dx(f,r),x=m.config.facets[e.id],P=m.facet(e);if(x&&!O&&cx(t,x))return f.values[a]=P,0;let U=c(f);return e.compare(U,P)?(f.values[a]=P,0):(f.values[a]=U,1)}}}const BA=tn.define({static:!0});class Di{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new Di(ux++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){return(e.facet(BA).find(r=>r.field==this)?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],a=this.updateF(s,i);return this.compareF(s,a)?0:(r.values[t]=a,1)},reconfigure:(r,i)=>null!=i.config.address[this.id]?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}init(e){return[this,BA.of({field:this,create:e})]}get extension(){return this}}function jg(n){return e=>new VA(e,n)}const Pd={highest:jg(0),high:jg(1),default:jg(2),low:jg(3),lowest:jg(4)};class VA{constructor(e,t){this.inner=e,this.prec=t}}class p0{of(e){return new fx(this,e)}reconfigure(e){return p0.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class fx{constructor(e,t){this.compartment=e,this.inner=t}}class g0{constructor(e,t,r,i,s,a){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),a=new Map;for(let P of function _3(n,e,t){let r=[[],[],[],[],[]],i=new Map;return function s(a,c){let f=i.get(a);if(null!=f){if(f<=c)return;let m=r[f].indexOf(a);m>-1&&r[f].splice(m,1),a instanceof fx&&t.delete(a.compartment)}if(i.set(a,c),Array.isArray(a))for(let m of a)s(m,c);else if(a instanceof fx){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let m=e.get(a.compartment)||a.inner;t.set(a.compartment,m),s(m,c)}else if(a instanceof VA)s(a.inner,a.prec);else if(a instanceof Di)r[c].push(a),a.provides&&s(a.provides,c);else if(a instanceof h0)r[c].push(a),a.facet.extensions&&s(a.facet.extensions,2);else{let m=a.extension;if(!m)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(m,c)}}(n,2),r.reduce((a,c)=>a.concat(c))}(e,t,a))P instanceof Di?i.push(P):(s[P.facet.id]||(s[P.facet.id]=[])).push(P);let c=Object.create(null),f=[],m=[];for(let P of i)c[P.id]=m.length<<1,m.push(U=>P.slot(U));let O=r?.config.facets;for(let P in s){let U=s[P],re=U[0].facet,Se=O&&O[P]||[];if(U.every(Ie=>0==Ie.type))if(c[re.id]=f.length<<1|1,cx(Se,U))f.push(r.facet(re));else{let Ie=re.combine(U.map(Be=>Be.value));f.push(r&&re.compare(Ie,r.facet(re))?r.facet(re):Ie)}else{for(let Ie of U)0==Ie.type?(c[Ie.id]=f.length<<1|1,f.push(Ie.value)):(c[Ie.id]=m.length<<1,m.push(Be=>Ie.dynamicSlot(Be)));c[re.id]=m.length<<1,m.push(Ie=>E3(Ie,re,U))}}let x=m.map(P=>P(c));return new g0(e,a,x,c,f,s)}}function Hg(n,e){if(1&e)return 2;let t=e>>1,r=n.status[t];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function m0(n,e){return 1&e?n.config.staticValues[e>>1]:n.values[e>>1]}const UA=tn.define(),zA=tn.define({combine:n=>n.some(e=>e),static:!0}),jA=tn.define({combine:n=>n.length?n[0]:void 0,static:!0}),HA=tn.define(),XA=tn.define(),GA=tn.define(),WA=tn.define({combine:n=>!!n.length&&n[0]});class pu{constructor(e,t){this.type=e,this.value=t}static define(){return new T3}}class T3{of(e){return new pu(this,e)}}class M3{constructor(e){this.map=e}of(e){return new Qn(this,e)}}let Qn=(()=>{class n{constructor(t,r){this.type=t,this.value=r}map(t){let r=this.type.map(this.value,t);return void 0===r?void 0:r==this.value?this:new n(this.type,r)}is(t){return this.type==t}static define(t={}){return new M3(t.map||(r=>r))}static mapEffects(t,r){if(!t.length)return t;let i=[];for(let s of t){let a=s.map(r);a&&i.push(a)}return i}}return n.reconfigure=n.define(),n.appendConfig=n.define(),n})(),xl=(()=>{class n{constructor(t,r,i,s,a,c){this.startState=t,this.changes=r,this.selection=i,this.effects=s,this.annotations=a,this.scrollIntoView=c,this._doc=null,this._state=null,i&&QA(i,r.newLength),a.some(f=>f.type==n.time)||(this.annotations=a.concat(n.time.of(Date.now())))}static create(t,r,i,s,a,c){return new n(t,r,i,s,a,c)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let r of this.annotations)if(r.type==t)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let r=this.annotation(n.userEvent);return!(!r||!(r==t||r.length>t.length&&r.slice(0,t.length)==t&&"."==r[t.length]))}}return n.time=pu.define(),n.userEvent=pu.define(),n.addToHistory=pu.define(),n.remote=pu.define(),n})();function A3(n,e){let t=[];for(let r=0,i=0;;){let s,a;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],a=n[r++];else{if(!(i<e.length))return t;s=e[i++],a=e[i++]}!t.length||t[t.length-1]<s?t.push(s,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function ZA(n,e,t){var r;let i,s,a;return t?(i=e.changes,s=Li.empty(e.changes.length),a=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),a=n.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(s):null===(r=n.selection)||void 0===r?void 0:r.map(i),effects:Qn.mapEffects(n.effects,i).concat(Qn.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function hx(n,e,t){let r=e.selection,i=xh(e.annotations);return e.userEvent&&(i=i.concat(xl.userEvent.of(e.userEvent))),{changes:e.changes instanceof Li?e.changes:Li.of(e.changes||[],t,n.facet(jA)),selection:r&&(r instanceof bt?r:bt.single(r.anchor,r.head)),effects:xh(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function YA(n,e,t){let r=hx(n,e.length?e[0]:{},n.doc.length);e.length&&!1===e[0].filter&&(t=!1);for(let s=1;s<e.length;s++){!1===e[s].filter&&(t=!1);let a=!!e[s].sequential;r=ZA(r,hx(n,e[s],a?r.changes.newLength:n.doc.length),a)}let i=xl.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function I3(n){let e=n.startState,t=e.facet(GA),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=ZA(r,hx(e,s,n.changes.newLength),!0))}return r==n?n:xl.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}(t?function k3(n){let e=n.startState,t=!0;for(let i of e.facet(HA)){let s=i(n);if(!1===s){t=!1;break}Array.isArray(s)&&(t=!0===t?s:A3(t,s))}if(!0!==t){let i,s;if(!1===t)s=n.changes.invertedDesc,i=Li.empty(e.doc.length);else{let a=n.changes.filter(t);i=a.changes,s=a.filtered.mapDesc(a.changes).invertedDesc}n=xl.create(e,i,n.selection&&n.selection.map(s),Qn.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(XA);for(let i=r.length-1;i>=0;i--){let s=r[i](n);n=s instanceof xl?s:Array.isArray(s)&&1==s.length&&s[0]instanceof xl?s[0]:YA(e,xh(s),!1)}return n}(i):i)}const P3=[];function xh(n){return null==n?P3:Array.isArray(n)?n:[n]}var jr=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(jr||(jr={}));const R3=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let px;try{px=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}let js=(()=>{class n{constructor(t,r,i,s,a,c){this.config=t,this.doc=r,this.selection=i,this.values=s,this.status=t.statusTemplate.slice(),this.computeSlot=a,c&&(c._state=this);for(let f=0;f<this.config.dynamicSlots.length;f++)Hg(this,f<<1);this.computeSlot=null}field(t,r=!0){let i=this.config.address[t.id];if(null!=i)return Hg(this,i),m0(this,i);if(r)throw new RangeError("Field is not present in this state")}update(...t){return YA(this,t,!0)}applyTransaction(t){let a,r=this.config,{base:i,compartments:s}=r;for(let c of t.effects)c.is(p0.reconfigure)?(r&&(s=new Map,r.compartments.forEach((f,m)=>s.set(m,f)),r=null),s.set(c.value.compartment,c.value.extension)):c.is(Qn.reconfigure)?(r=null,i=c.value):c.is(Qn.appendConfig)&&(r=null,i=xh(i).concat(c.value));r?a=t.startState.values.slice():(r=g0.resolve(i,s,this),a=new n(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(f,m)=>m.reconfigure(f,this),null).values),new n(r,t.newDoc,t.newSelection,a,(c,f)=>f.update(c,t),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:t},range:bt.cursor(r.from+t.length)}))}changeByRange(t){let r=this.selection,i=t(r.ranges[0]),s=this.changes(i.changes),a=[i.range],c=xh(i.effects);for(let f=1;f<r.ranges.length;f++){let m=t(r.ranges[f]),O=this.changes(m.changes),x=O.map(s);for(let U=0;U<f;U++)a[U]=a[U].map(x);let P=s.mapDesc(O,!0);a.push(m.range.map(P)),s=s.compose(x),c=Qn.mapEffects(c,x).concat(Qn.mapEffects(xh(m.effects),P))}return{changes:s,selection:bt.create(a,r.mainIndex),effects:c}}changes(t=[]){return t instanceof Li?t:Li.of(t,this.doc.length,this.facet(n.lineSeparator))}toText(t){return cr.of(t.split(this.facet(n.lineSeparator)||ox))}sliceDoc(t=0,r=this.doc.length){return this.doc.sliceString(t,r,this.lineBreak)}facet(t){let r=this.config.address[t.id];return null==r?t.default:(Hg(this,r),m0(this,r))}toJSON(t){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let s=t[i];s instanceof Di&&null!=this.config.address[s.id]&&(r[i]=s.spec.toJSON(this.field(t[i]),this))}return r}static fromJSON(t,r={},i){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(i)for(let a in i)if(Object.prototype.hasOwnProperty.call(t,a)){let c=i[a],f=t[a];s.push(c.init(m=>c.spec.fromJSON(f,m)))}return n.create({doc:t.doc,selection:bt.fromJSON(t.selection),extensions:r.extensions?s.concat([r.extensions]):s})}static create(t={}){let r=g0.resolve(t.extensions||[],new Map),i=t.doc instanceof cr?t.doc:cr.of((t.doc||"").split(r.staticFacet(n.lineSeparator)||ox)),s=t.selection?t.selection instanceof bt?t.selection:bt.single(t.selection.anchor,t.selection.head):bt.single(0);return QA(s,i.length),r.staticFacet(zA)||(s=s.asSingle()),new n(r,i,s,r.dynamicSlots.map(()=>null),(a,c)=>c.create(a),null)}get tabSize(){return this.facet(n.tabSize)}get lineBreak(){return this.facet(n.lineSeparator)||"\n"}get readOnly(){return this.facet(WA)}phrase(t,...r){for(let i of this.facet(n.phrases))if(Object.prototype.hasOwnProperty.call(i,t)){t=i[t];break}return r.length&&(t=t.replace(/\$(\$|\d*)/g,(i,s)=>{if("$"==s)return"$";let a=+(s||1);return!a||a>r.length?i:r[a-1]})),t}languageDataAt(t,r,i=-1){let s=[];for(let a of this.facet(UA))for(let c of a(this,r,i))Object.prototype.hasOwnProperty.call(c,t)&&s.push(c[t]);return s}charCategorizer(t){return function L3(n){return e=>{if(!/\S/.test(e))return jr.Space;if(function N3(n){if(px)return px.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||R3.test(t)))return!0}return!1}(e))return jr.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return jr.Word;return jr.Other}}(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:r,from:i,length:s}=this.doc.lineAt(t),a=this.charCategorizer(t),c=t-i,f=t-i;for(;c>0;){let m=zs(r,c,!1);if(a(r.slice(m,c))!=jr.Word)break;c=m}for(;f<s;){let m=zs(r,f);if(a(r.slice(f,m))!=jr.Word)break;f=m}return c==f?null:bt.range(c+i,f+i)}}return n.allowMultipleSelections=zA,n.tabSize=tn.define({combine:e=>e.length?e[0]:4}),n.lineSeparator=jA,n.readOnly=WA,n.phrases=tn.define({compare(e,t){let r=Object.keys(e),i=Object.keys(t);return r.length==i.length&&r.every(s=>e[s]==t[s])}}),n.languageData=UA,n.changeFilter=HA,n.transactionFilter=XA,n.transactionExtender=GA,n})();function Na(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let a=i[s],c=r[s];if(void 0===c)r[s]=a;else if(c!==a&&void 0!==a){if(!Object.hasOwnProperty.call(t,s))throw new Error("Config merge conflict for field "+s);r[s]=t[s](c,a)}}for(let i in e)void 0===r[i]&&(r[i]=e[i]);return r}p0.reconfigure=Qn.define();class Rd{eq(e){return this==e}range(e,t=e){return Xg.create(e,t,this)}}Rd.prototype.startSide=Rd.prototype.endSide=0,Rd.prototype.point=!1,Rd.prototype.mapMode=os.TrackDel;class Xg{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new Xg(e,t,r)}}function gx(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class mx{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let a=i,c=s.length;;){if(a==c)return a;let f=a+c>>1,m=s[f]-e||(r?this.value[f].endSide:this.value[f].startSide)-t;if(f==a)return m>=0?a:c;m>=0?c=f:a=f+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),a=this.findIndex(r,1e9,!1,s);s<a;s++)if(!1===i(this.from[s]+e,this.to[s]+e,this.value[s]))return!1}map(e,t){let r=[],i=[],s=[],a=-1,c=-1;for(let f=0;f<this.value.length;f++){let P,U,m=this.value[f],O=this.from[f]+e,x=this.to[f]+e;if(O==x){let re=t.mapPos(O,m.startSide,m.mapMode);if(null==re||(P=U=re,m.startSide!=m.endSide&&(U=t.mapPos(O,m.endSide),U<P)))continue}else if(P=t.mapPos(O,m.startSide),U=t.mapPos(x,m.endSide),P>U||P==U&&m.startSide>0&&m.endSide<=0)continue;(U-P||m.endSide-m.startSide)<0||(a<0&&(a=P),m.point&&(c=Math.max(c,U-P)),r.push(m),i.push(P-a),s.push(U-a))}return{mapped:r.length?new mx(i,s,r,c):null,pos:a}}}let qr=(()=>{class n{constructor(t,r,i,s){this.chunkPos=t,this.chunk=r,this.nextLayer=i,this.maxPoint=s}static create(t,r,i,s){return new n(t,r,i,s)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let r of this.chunk)t+=r.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:r=[],sort:i=!1,filterFrom:s=0,filterTo:a=this.length}=t,c=t.filter;if(0==r.length&&!c)return this;if(i&&(r=r.slice().sort(gx)),this.isEmpty)return r.length?n.of(r):this;let f=new KA(this,null,-1).goto(0),m=0,O=[],x=new uc;for(;f.value||m<r.length;)if(m<r.length&&(f.from-r[m].from||f.startSide-r[m].value.startSide)>=0){let P=r[m++];x.addInner(P.from,P.to,P.value)||O.push(P)}else 1==f.rangeIndex&&f.chunkIndex<this.chunk.length&&(m==r.length||this.chunkEnd(f.chunkIndex)<r[m].from)&&(!c||s>this.chunkEnd(f.chunkIndex)||a<this.chunkPos[f.chunkIndex])&&x.addChunk(this.chunkPos[f.chunkIndex],this.chunk[f.chunkIndex])?f.nextChunk():((!c||s>f.to||a<f.from||c(f.from,f.to,f.value))&&(x.addInner(f.from,f.to,f.value)||O.push(Xg.create(f.from,f.to,f.value))),f.next());return x.finishInner(this.nextLayer.isEmpty&&!O.length?n.empty:this.nextLayer.update({add:O,filter:c,filterFrom:s,filterTo:a}))}map(t){if(t.empty||this.isEmpty)return this;let r=[],i=[],s=-1;for(let c=0;c<this.chunk.length;c++){let f=this.chunkPos[c],m=this.chunk[c],O=t.touchesRange(f,f+m.length);if(!1===O)s=Math.max(s,m.maxPoint),r.push(m),i.push(t.mapPos(f));else if(!0===O){let{mapped:x,pos:P}=m.map(f,t);x&&(s=Math.max(s,x.maxPoint),r.push(x),i.push(P))}}let a=this.nextLayer.map(t);return 0==r.length?a:new n(i,r,a||n.empty,s)}between(t,r,i){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],c=this.chunk[s];if(r>=a&&t<=a+c.length&&!1===c.between(a,t-a,r-a,i))return}this.nextLayer.between(t,r,i)}}iter(t=0){return Gg.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,r=0){return Gg.from(t).goto(r)}static compare(t,r,i,s,a=-1){let c=t.filter(P=>P.maxPoint>0||!P.isEmpty&&P.maxPoint>=a),f=r.filter(P=>P.maxPoint>0||!P.isEmpty&&P.maxPoint>=a),m=qA(c,f,i),O=new Wg(c,m,a),x=new Wg(f,m,a);i.iterGaps((P,U,re)=>JA(O,P,x,U,re,s)),i.empty&&0==i.length&&JA(O,0,x,0,0,s)}static eq(t,r,i=0,s){null==s&&(s=999999999);let a=t.filter(x=>!x.isEmpty&&r.indexOf(x)<0),c=r.filter(x=>!x.isEmpty&&t.indexOf(x)<0);if(a.length!=c.length)return!1;if(!a.length)return!0;let f=qA(a,c),m=new Wg(a,f,0).goto(i),O=new Wg(c,f,0).goto(i);for(;;){if(m.to!=O.to||!yx(m.active,O.active)||m.point&&(!O.point||!m.point.eq(O.point)))return!1;if(m.to>s)return!0;m.next(),O.next()}}static spans(t,r,i,s,a=-1){let c=new Wg(t,null,a).goto(r),f=r,m=c.openStart;for(;;){let O=Math.min(c.to,i);if(c.point){let x=c.activeForPoint(c.to),P=c.pointFrom<r?x.length+1:Math.min(x.length,m);s.point(f,O,c.point,x,P,c.pointRank),m=Math.min(c.openEnd(O),x.length)}else O>f&&(s.span(f,O,c.active,m),m=c.openEnd(O));if(c.to>i)return m+(c.point&&c.to>i?1:0);f=c.to,c.next()}}static of(t,r=!1){let i=new uc;for(let s of t instanceof Xg?[t]:r?function F3(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(gx(e,r)>0)return n.slice().sort(gx);e=r}return n}(t):t)i.add(s.from,s.to,s.value);return i.finish()}}return n.empty=new n([],[],null,-1),n})();qr.empty.nextLayer=qr.empty;class uc{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new mx(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new uc)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),0))}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(qr.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=qr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function qA(n,e,t){let r=new Map;for(let s of n)for(let a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&r.set(s.chunk[a],s.chunkPos[a]);let i=new Set;for(let s of e)for(let a=0;a<s.chunk.length;a++){let c=r.get(s.chunk[a]);null!=c&&(t?t.mapPos(c):c)==s.chunkPos[a]&&!t?.touchesRange(c,c+s.chunk[a].length)&&i.add(s.chunk[a])}return i}class KA{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex];if(this.from=e+t.from[this.rangeIndex],this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Gg{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let a=e[s];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new KA(a,t,r,s));return 1==i.length?i[0]:new Gg(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)vx(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)vx(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),vx(this.heap,0)}}}function vx(n,e){for(let t=n[e];;){let r=1+(e<<1);if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class Wg{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Gg.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){v0(this.active,e),v0(this.activeTo,e),v0(this.activeRank,e),this.minActive=ek(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;y0(this.active,t,r),y0(this.activeTo,t,i),y0(this.activeRank,t,s),e&&y0(e,t,this.cursor.from),this.minActive=ek(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&v0(r,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let s=this.cursor.value;if(s.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function JA(n,e,t,r,i,s){n.goto(e),t.goto(r);let a=r+i,c=r,f=r-e;for(;;){let m=n.to+f-t.to||n.endSide-t.endSide,O=m<0?n.to+f:t.to,x=Math.min(O,a);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&yx(n.activeForPoint(n.to+f),t.activeForPoint(t.to))||s.comparePoint(c,x,n.point,t.point):x>c&&!yx(n.active,t.active)&&s.compareRange(c,x,n.active,t.active),O>a)break;c=O,m<=0&&n.next(),m>=0&&t.next()}}function yx(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function v0(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function y0(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function ek(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Zg(n,e,t=n.length){let r=0;for(let i=0;i<t;)9==n.charCodeAt(i)?(r+=e-r%e,i++):(r++,i=zs(n,i));return r}function Ox(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=9==n.charCodeAt(i)?t-s%t:1,i=zs(n,i)}return!0===r?-1:n.length}const tk=typeof Symbol>"u"?"__\u037c":Symbol.for("\u037c"),wx=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),nk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class cc{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function s(a,c,f,m){let O=[],x=/^@(\w+)\b/.exec(a[0]),P=x&&"keyframes"==x[1];if(x&&null==c)return f.push(a[0]+";");for(let U in c){let re=c[U];if(/&/.test(U))s(U.split(/,\s*/).map(Se=>a.map(Ie=>Se.replace(/&/,Ie))).reduce((Se,Ie)=>Se.concat(Ie)),re,f);else if(re&&"object"==typeof re){if(!x)throw new RangeError("The value of a property ("+U+") should be a primitive value.");s(i(U),re,O,P)}else null!=re&&O.push(U.replace(/_.*/,"").replace(/[A-Z]/g,Se=>"-"+Se.toLowerCase())+": "+re+";")}(O.length||P)&&f.push((!r||x||m?a:a.map(r)).join(", ")+" {"+O.join(" ")+"}")}for(let a in e)s(i(a),e[a],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=nk[tk]||1;return nk[tk]=e+1,"\u037c"+e.toString(36)}static mount(e,t){(e[wx]||new Q3(e)).mount(Array.isArray(t)?t:[t])}}let O0=null;class Q3{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(O0)return e.adoptedStyleSheets=[O0.sheet,...e.adoptedStyleSheets],e[wx]=O0;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],O0=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[wx]=this}mount(e){let t=this.sheet,r=0,i=0;for(let s=0;s<e.length;s++){let a=e[s],c=this.modules.indexOf(a);if(c<i&&c>-1&&(this.modules.splice(c,1),i--,c=-1),-1==c){if(this.modules.splice(i++,0,a),t)for(let f=0;f<a.rules.length;f++)t.insertRule(a.rules[f],r++)}else{for(;i<c;)r+=this.modules[i++].rules.length;r+=a.rules.length,i++}}if(!t){let s="";for(let a=0;a<this.modules.length;a++)s+=this.modules[a].getRules()+"\n";this.styleTag.textContent=s}}}for(var dc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Yg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rk=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),$3=(typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent),typeof navigator<"u"&&/Mac/.test(navigator.platform)),B3=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),V3=$3||rk&&+rk[1]<57,as=0;as<10;as++)dc[48+as]=dc[96+as]=String(as);for(as=1;as<=24;as++)dc[as+111]="F"+as;for(as=65;as<=90;as++)dc[as]=String.fromCharCode(as+32),Yg[as]=String.fromCharCode(as);for(var Sx in dc)Yg.hasOwnProperty(Sx)||(Yg[Sx]=dc[Sx]);function b0(n){let e;return e=11==n.nodeType?n.getSelection?n:n.ownerDocument:n,e.getSelection()}function Dh(n,e){return!!e&&(n==e||n.contains(1!=e.nodeType?e.parentNode:e))}function w0(n,e){if(!e.anchorNode)return!1;try{return Dh(n,e.anchorNode)}catch{return!1}}function qg(n){return 3==n.nodeType?Eh(n,0,n.nodeValue.length).getClientRects():1==n.nodeType?n.getClientRects():[]}function S0(n,e,t,r){return!!t&&(ik(n,e,t,r,-1)||ik(n,e,t,r,1))}function x0(n){for(var e=0;;e++)if(!(n=n.previousSibling))return e}function ik(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Kg(n))){if("DIV"==n.nodeName)return!1;let s=n.parentNode;if(!s||1!=s.nodeType)return!1;e=x0(n)+(i<0?0:1),n=s}else{if(1!=n.nodeType)return!1;if(1==(n=n.childNodes[e+(i<0?-1:0)]).nodeType&&"false"==n.contentEditable)return!1;e=i<0?Kg(n):0}}}function Kg(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}const sk={left:0,right:0,top:0,bottom:0};function xx(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function j3(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}class G3{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let ak,Ch=null;function ok(n){if(n.setActive)return n.setActive();if(Ch)return n.focus(Ch);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(null==Ch?{get preventScroll(){return Ch={preventScroll:!0},!0}}:void 0),!Ch){Ch=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}function Eh(n,e,t=e){let r=ak||(ak=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function _h(n,e,t){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,n.dispatchEvent(i);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,n.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function lk(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}class ls{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new ls(e.parentNode,x0(e),t)}static after(e,t){return new ls(e.parentNode,x0(e)+1,t)}}const Dx=[];class Fr{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e,t){if(2&this.dirty){let s,r=this.dom,i=null;for(let a of this.children){if(a.dirty){if(!a.dom&&(s=i?i.nextSibling:r.firstChild)){let c=Fr.get(s);(!c||!c.parent&&c.canReuseDOM(a))&&a.reuseDOM(s)}a.sync(e,t),a.dirty=0}if(s=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=a.dom&&(t.written=!0),a.dom.parentNode==r)for(;s&&s!=a.dom;)s=uk(s);else r.insertBefore(a.dom,s);i=a.dom}for(s=i?i.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=uk(s)}else if(1&this.dirty)for(let r of this.children)r.dirty&&(r.sync(e,t),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=0==Kg(e)?0:0==t?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;0==i&&s.firstChild!=s.lastChild&&(i=e==s.firstChild?-1:1),e=s}r=i<0?e:e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Fr.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let a=this.children[i];if(a.dom==r)return s;s+=a.length+a.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,s=-1,a=-1,c=-1;for(let f=0,m=r,O=r;f<this.children.length;f++){let x=this.children[f],P=m+x.length;if(m<e&&P>t)return x.domBoundsAround(e,t,m);if(P>=e&&-1==i&&(i=f,s=m),m>t&&x.dom.parentNode==this.dom){a=f,c=O;break}O=P,m=P+x.breakAfter}return{from:s,to:c<0?r+this.length:c,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=Dx){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ck(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,s,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}function uk(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}Fr.prototype.breakAfter=0;class ck{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function dk(n,e,t,r,i,s,a,c,f){let{children:m}=n,O=m.length?m[e]:null,x=s.length?s[s.length-1]:null,P=x?x.breakAfter:a;if(!(e==r&&O&&!a&&!P&&s.length<2&&O.merge(t,i,s.length?x:null,0==t,c,f))){if(r<m.length){let U=m[r];U&&i<U.length?(e==r&&(U=U.split(i),i=0),!P&&x&&U.merge(0,i,x,!0,0,f)?s[s.length-1]=U:(i&&U.merge(0,i,null,!1,0,f),s.push(U))):U?.breakAfter&&(x?x.breakAfter=1:a=1),r++}for(O&&(O.breakAfter=a,t>0&&(!a&&s.length&&O.merge(t,O.length,s[0],!1,c,0)?O.breakAfter=s.shift().breakAfter:(t<O.length||O.children.length&&0==O.children[O.children.length-1].length)&&O.merge(t,O.length,null,!1,c,0),e++));e<r&&s.length;)if(m[r-1].become(s[s.length-1]))r--,s.pop(),f=s.length?0:c;else{if(!m[e].become(s[0]))break;e++,s.shift(),c=s.length?0:f}!s.length&&e&&r<m.length&&!m[e-1].breakAfter&&m[r].merge(0,0,m[e-1],!1,c,f)&&e--,(e<r||s.length)&&n.replaceChildren(e,r,s)}}function fk(n,e,t,r,i,s){let a=n.childCursor(),{i:c,off:f}=a.findPos(t,1),{i:m,off:O}=a.findPos(e,-1),x=e-t;for(let P of r)x+=P.length;n.length+=x,dk(n,m,O,c,f,r,0,i,s)}let Po=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Cx=typeof document<"u"?document:{documentElement:{style:{}}};const Ex=/Edge\/(\d+)/.exec(Po.userAgent),hk=/MSIE \d/.test(Po.userAgent),_x=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Po.userAgent),D0=!!(hk||_x||Ex),pk=!D0&&/gecko\/(\d+)/i.test(Po.userAgent),Tx=!D0&&/Chrome\/(\d+)/.exec(Po.userAgent),gk="webkitFontSmoothing"in Cx.documentElement.style,mk=!D0&&/Apple Computer/.test(Po.vendor),vk=mk&&(/Mobile\/\w+/.test(Po.userAgent)||Po.maxTouchPoints>2);var rn={mac:vk||/Mac/.test(Po.platform),windows:/Win/.test(Po.platform),linux:/Linux|X11/.test(Po.platform),ie:D0,ie_version:hk?Cx.documentMode||6:_x?+_x[1]:Ex?+Ex[1]:0,gecko:pk,gecko_version:pk?+(/Firefox\/(\d+)/.exec(Po.userAgent)||[0,0])[1]:0,chrome:!!Tx,chrome_version:Tx?+Tx[1]:0,ios:vk,android:/Android\b/.test(Po.userAgent),webkit:gk,safari:mk,webkit_version:gk?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Cx.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class fc extends Fr{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,r){return(!r||r instanceof fc&&!(this.length-(t-e)+r.length>256))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new fc(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new ls(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Mx(this.dom,e,t)}}class Dl extends Fr{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(lk(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,s,a){return!(r&&(!(r instanceof Dl&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&a<=0)||(fk(this,e,t,r?r.children:[],s-1,a-1),this.markDirty(),0))}split(e){let t=[],r=0,i=-1,s=0;for(let c of this.children){let f=r+c.length;f>e&&t.push(r<e?c.split(e-r):c),i<0&&r>=e&&(i=s),r=f,s++}let a=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Dl(this.mark,t,a)}domAtPos(e){return bk(this,e)}coordsAt(e,t){return Sk(this,e,t)}}function Mx(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,s=e,a=0;0==e&&t<0||e==r&&t>=0?rn.chrome||rn.gecko||(e?(i--,a=1):s<r&&(s++,a=-1)):t<0?i--:s<r&&s++;let c=Eh(n,i,s).getClientRects();if(!c.length)return sk;let f=c[(a?a<0:t>=0)?0:c.length-1];return rn.safari&&!a&&0==f.width&&(f=Array.prototype.find.call(c,m=>m.width)||f),a?xx(f,a<0):f||null}class hc extends Fr{constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}static create(e,t,r){return new(e.customView||hc)(e,t,r)}split(e){let t=hc.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,r,i,s,a){return!(r&&(!(r instanceof hc&&this.widget.compare(r.widget))||e>0&&s<=0||t<this.length&&a<=0)||(this.length=e+(r?r.length:0)+(this.length-t),0))}become(e){return e.length==this.length&&e instanceof hc&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return cr.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):cr.empty}domAtPos(e){return(this.length?0==e:this.side>0)?ls.before(this.dom):ls.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.dom.getClientRects(),i=null;if(!r.length)return sk;for(let s=e>0?r.length-1:0;i=r[s],!(e>0?0==s:s==r.length-1||i.top<i.bottom);s+=e>0?-1:1);return this.length?i:xx(i,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class yk extends hc{domAtPos(e){let{topView:t,text:r}=this.widget;return t?Ax(e,0,t,r,(i,s)=>i.domAtPos(s),i=>new ls(r,Math.min(i,r.nodeValue.length))):new ls(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:r,text:i}=this.widget;return r?Ok(e,t,r,i):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:r,text:i}=this.widget;return r?Ax(e,t,r,i,(s,a,c)=>s.coordsAt(a,c),(s,a)=>Mx(i,s,a)):Mx(i,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Ax(n,e,t,r,i,s){if(t instanceof Dl){for(let a=t.dom.firstChild;a;a=a.nextSibling){let c=Fr.get(a);if(!c)return s(n,e);let f=Dh(a,r),m=c.length+(f?r.nodeValue.length:0);if(n<m||n==m&&c.getSide()<=0)return f?Ax(n,e,c,r,i,s):i(c,n,e);n-=m}return i(t,t.length,-1)}return t.dom==r?s(n,e):i(t,n,e)}function Ok(n,e,t,r){if(t instanceof Dl){let i=0;for(let s of t.children){let a=Dh(s.dom,r);if(Dh(s.dom,n))return i+(a?Ok(n,e,s,r):s.localPosFromDOM(n,e));i+=a?r.nodeValue.length:s.length}}else if(t.dom==r)return Math.min(e,r.nodeValue.length);return t.localPosFromDOM(n,e)}class Nd extends Fr{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Nd&&e.side==this.side}split(){return new Nd(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?ls.before(this.dom):ls.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),r=function q3(n,e){let t=n.parent,r=t?t.children.indexOf(n):-1;for(;t&&r>=0;)if(e<0?r>0:r<t.children.length){let i=t.children[r+e];if(i instanceof fc){let s=i.coordsAt(e<0?i.length:0,e);if(s)return s}r+=e}else{if(!(t instanceof Dl&&t.parent)){let i=t.dom.lastChild;if(i&&"BR"==i.nodeName)return i.getClientRects()[0];break}r=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent}}(this,this.side>0?-1:1);return r&&r.top<t.bottom&&r.bottom>t.top?{left:t.left,right:t.right,top:r.top,bottom:r.bottom}:t}get overrideDOMText(){return cr.empty}get isHidden(){return!0}}function bk(n,e){let t=n.dom,{children:r}=n,i=0;for(let s=0;i<r.length;i++){let a=r[i],c=s+a.length;if(!(c==s&&a.getSide()<=0)){if(e>s&&e<c&&a.dom.parentNode==t)return a.domAtPos(e-s);if(e<=s)break;s=c}}for(let s=i;s>0;s--){let a=r[s-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let s=i;s<r.length;s++){let a=r[s];if(a.dom.parentNode==t)return a.domAtPos(0)}return new ls(t,0)}function wk(n,e,t){let r,{children:i}=n;t>0&&e instanceof Dl&&i.length&&(r=i[i.length-1])instanceof Dl&&r.mark.eq(e.mark)?wk(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function Sk(n,e,t){let r=null,i=-1,s=null,a=-1;!function c(m,O){for(let x=0,P=0;x<m.children.length&&P<=O;x++){let U=m.children[x],re=P+U.length;re>=O&&(U.children.length?c(U,O-P):(!s||s instanceof Nd&&t>0)&&(re>O||P==re&&U.getSide()>0)?(s=U,a=O-P):(P<O||P==re&&U.getSide()<0)&&(r=U,i=O-P)),P=re}}(n,e);let f=(t<0?r:s)||r||s;return f?f.coordsAt(Math.max(0,f==r?i:a),t):function K3(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=qg(e);return t[t.length-1]||null}(n)}function kx(n,e){for(let t in n)"class"==t&&e.class?e.class+=" "+n.class:"style"==t&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function Ix(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i of t)if(-1==r.indexOf(i)||n[i]!==e[i])return!1;return!0}function Px(n,e,t){let r=null;if(e)for(let i in e)t&&i in t||n.removeAttribute(r=i);if(t)for(let i in t)e&&e[i]==t[i]||n.setAttribute(r=i,t[i]);return!!r}fc.prototype.children=hc.prototype.children=Nd.prototype.children=Dx;class gu{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}get isHidden(){return!1}destroy(e){}}var Er=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Er||(Er={}));class sn extends Rd{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new C0(e)}static widget(e){let t=e.side||0,r=!!e.block;return t+=r?t>0?3e8:-4e8:t>0?1e8:-1e8,new Ld(e,t,t,r,e.widget||null,!1)}static replace(e){let r,i,t=!!e.block;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:a}=xk(e,t);r=(s?t?-3e8:-1:5e8)-1,i=1+(a?t?2e8:1:-6e8)}return new Ld(e,r,i,t,e.widget||null,!0)}static line(e){return new Jg(e)}static set(e,t=!1){return qr.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}sn.none=qr.empty;class C0 extends sn{constructor(e){let{start:t,end:r}=xk(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof C0&&this.tagName==e.tagName&&this.class==e.class&&Ix(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}C0.prototype.point=!1;class Jg extends sn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Jg&&this.spec.class==e.spec.class&&Ix(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Jg.prototype.mapMode=os.TrackBefore,Jg.prototype.point=!0;class Ld extends sn{constructor(e,t,r,i,s,a){super(t,r,s,e),this.block=i,this.isReplace=a,this.mapMode=i?t<=0?os.TrackBefore:os.TrackAfter:os.TrackDel}get type(){return this.startSide<this.endSide?Er.WidgetRange:this.startSide<=0?Er.WidgetBefore:Er.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Ld&&function J3(n,e){return n==e||!!(n&&e&&n.compare(e))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function xk(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return null==t&&(t=n.inclusive),null==r&&(r=n.inclusive),{start:t??e,end:r??e}}function Rx(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}Ld.prototype.point=!0;class Hs extends Fr{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,s,a){if(r){if(!(r instanceof Hs))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),fk(this,e,t,r?r.children:[],s,a),!0}split(e){let t=new Hs;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&0==this.children[r-1].length;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Ix(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){wk(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=kx(t,this.attrs||{})),r&&(this.attrs=kx({class:r},this.attrs||{}))}domAtPos(e){return bk(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var r;this.dom?4&this.dirty&&(lk(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Px(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Fr.get(i)instanceof Dl;)i=i.lastChild;if(!(i&&this.length&&("BR"==i.nodeName||0!=(null===(r=Fr.get(i))||void 0===r?void 0:r.isEditable)||rn.ios&&this.children.some(s=>s instanceof fc)))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let r of this.children){if(!(r instanceof fc)||/[^ -~]/.test(r.text))return null;let i=qg(r.dom);if(1!=i.length)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=Sk(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let a=(s-i.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return Er.Text}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],a=i+s.length;if(a>=t){if(s instanceof Hs)return s;if(a>t)break}i=a+s.breakAfter}return null}}class Fd extends Fr{constructor(e,t,r){super(),this.widget=e,this.length=t,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,s,a){return!(r&&(!(r instanceof Fd&&this.widget.compare(r.widget))||e>0&&s<=0||t<this.length&&a<=0)||(this.length=e+(r?r.length:0)+(this.length-t),0))}domAtPos(e){return 0==e?ls.before(this.dom):ls.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Fd(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}get children(){return Dx}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):cr.empty}domBoundsAround(){return null}become(e){return e instanceof Fd&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Nx{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Fd&&e.type==Er.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Hs),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(E0(new Nd(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:a,done:c}=this.cursor.next(this.skip);if(this.skip=0,c)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(E0(new fc(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,s,a){if(this.disallowBlockEffectsFor[a]&&r instanceof Ld){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=t-e;if(r instanceof Ld)if(r.block){let{type:f}=r;f==Er.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Fd(r.widget||new Dk("div"),c,f))}else{let f=hc.create(r.widget||new Dk("span"),c,c?0:r.startSide),m=this.atCursorPos&&!f.isEditable&&s<=i.length&&(e<t||r.startSide>0),O=!f.isEditable&&(e<t||s>i.length||r.startSide<=0),x=this.getLine();2==this.pendingBuffer&&!m&&!f.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),m&&(x.append(E0(new Nd(1),i),s),s=i.length+Math.max(0,s-i.length)),x.append(E0(f,i),s),this.atCursorPos=O,this.pendingBuffer=O?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,i,s){let a=new Nx(e,t,r,s);return a.openEnd=qr.spans(i,t,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function E0(n,e){for(let t of e)n=new Dl(t,[n],n.length);return n}class Dk extends gu{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Ck=tn.define(),Ek=tn.define(),_k=tn.define(),Tk=tn.define(),Lx=tn.define(),Mk=tn.define(),Ak=tn.define(),kk=tn.define({combine:n=>n.some(e=>e)}),Ik=tn.define({combine:n=>n.some(e=>e)});class _0{constructor(e,t="nearest",r="nearest",i=5,s=5){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s}map(e){return e.empty?this:new _0(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Pk=Qn.define({map:(n,e)=>n.map(e)});function Ro(n,e,t){let r=n.facet(Tk);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const T0=tn.define({combine:n=>!n.length||n[0]});let eH=0;const em=tn.define();class oi{constructor(e,t,r,i){this.id=e,this.create=t,this.domEventHandlers=r,this.extension=i(this)}static define(e,t){const{eventHandlers:r,provide:i,decorations:s}=t||{};return new oi(eH++,e,r,a=>{let c=[em.of(a)];return s&&c.push(tm.of(f=>{let m=f.plugin(a);return m?s(m):sn.none})),i&&c.push(i(a)),c})}static fromClass(e,t){return oi.define(r=>new e(r),t)}}class Fx{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(Ro(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ro(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null!==(t=this.value)&&void 0!==t&&t.destroy)try{this.value.destroy()}catch(r){Ro(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Rk=tn.define(),M0=tn.define(),tm=tn.define(),Nk=tn.define(),Lk=tn.define(),nm=tn.define();class La{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new La(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(0==t.length)return e;let r=[];for(let i=0,s=0,a=0,c=0;;i++){let f=i==e.length?null:e[i],m=a-c,O=f?f.fromB:1e9;for(;s<t.length&&t[s]<O;){let P=t[s+1],U=Math.max(c,t[s]),re=Math.min(O,P);if(U<=re&&new La(U+m,re+m,U,re).addToSet(r),P>O)break;s+=2}if(!f)return r;new La(f.fromA,f.toA,f.fromB,f.toB).addToSet(r),a=f.toA,c=f.toB}}}class A0{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Li.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,a,c,f)=>i.push(new La(s,a,c,f))),this.changedRanges=i}static create(e,t,r){return new A0(e,t,r)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}var Kr=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Kr||(Kr={}));const Qx=Kr.LTR,tH=Kr.RTL;function Fk(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const nH=Fk("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),rH=Fk("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),$x=Object.create(null),Cl=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);$x[e]=t,$x[t]=-e}function iH(n){return n<=247?nH[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?rH[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:8204==n?256:1}const sH=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Th{constructor(e,t,r){this.from=e,this.to=t,this.level=r}get dir(){return this.level%2?tH:Qx}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,r,i){let s=-1;for(let a=0;a<e.length;a++){let c=e[a];if(c.from<=t&&c.to>=t){if(c.level==r)return a;(s<0||(0!=i?i<0?c.from<t:c.to>t:e[s].level>c.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}const Jr=[];function $k(n){return[new Th(0,n,0)]}let Bk="";function Vk(n,e,t,r,i){var s;let a=r.head-n.from,c=-1;if(0==a){if(!i||!n.length)return null;e[0].level!=t&&(a=e[0].side(!1,t),c=0)}else if(a==n.length){if(i)return null;let P=e[e.length-1];P.level!=t&&(a=P.side(!0,t),c=e.length-1)}c<0&&(c=Th.find(e,a,null!==(s=r.bidiLevel)&&void 0!==s?s:-1,r.assoc));let f=e[c];a==f.side(i,t)&&(f=e[c+=i?1:-1],a=f.side(!i,t));let m=i==(f.dir==t),O=zs(n.text,a,m);if(Bk=n.text.slice(Math.min(a,O),Math.max(a,O)),O!=f.side(i,t))return bt.cursor(O+n.from,m?-1:1,f.level);let x=c==(i?e.length-1:0)?null:e[c+(i?1:-1)];return x||f.level==t?x&&x.level<f.level?bt.cursor(x.side(!i,t)+n.from,i?1:-1,x.level):bt.cursor(O+n.from,i?-1:1,f.level):bt.cursor(i?n.to:n.from,i?-1:1,t)}class Uk{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(js.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+="\uffff"}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i),this.readNode(i);let s=i.nextSibling;if(s==t)break;let a=Fr.get(i),c=Fr.get(s);(a&&c?a.breakAfter:(a?a.breakAfter:zk(i))||zk(s)&&("BR"!=i.nodeName||i.cmIgnore))&&this.lineBreak(),i=s}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let c,s=-1,a=1;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(c=i.exec(t))&&(s=c.index,a=c[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let f of this.points)f.node==e&&f.pos>this.text.length&&(f.pos-=a-1);r=s+a}}readNode(e){if(e.cmIgnore)return;let t=Fr.get(e),r=t&&t.overrideDOMText;if(null!=r){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(3==e.nodeType?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(t,r.offset))}}function zk(n){return 1==n.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class jk{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Hk extends Fr{constructor(e){super(),this.view=e,this.compositionDeco=sn.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Hs],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new La(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:a,toA:c})=>c<this.minWidthFrom||a>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=sn.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function aH(n,e){let t=Gk(n);if(!t)return sn.none;let{from:r,to:i,node:s,text:a}=t,c=e.mapPos(r,1),f=Math.max(c,e.mapPos(i,-1)),{state:m}=n,O=3==s.nodeType?s.nodeValue:new Uk([],m).readRange(s.firstChild,null).text;if(f-c<O.length)if(m.doc.sliceString(c,Math.min(m.doc.length,c+O.length),"\uffff")==O)f=c+O.length;else{if(m.doc.sliceString(Math.max(0,f-O.length),f,"\uffff")!=O)return sn.none;c=f-O.length}else if(m.doc.sliceString(c,f,"\uffff")!=O)return sn.none;let x=Fr.get(s);return x instanceof yk?x=x.widget.topView:x&&(x.parent=null),sn.set(sn.replace({widget:new lH(s,a,x),inclusive:!0}).range(c,f))}(this.view,e.changes)),(rn.ie||rn.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=function dH(n,e,t){let r=new cH;return qr.compare(n,e,t,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return t=La.extendWithRanges(t,s),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=rn.chrome||rn.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.dirty=0,s&&(s.written||r.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Fd&&s.widget instanceof Xk&&i.push(s.dom);r.updateGaps(i)}updateChildren(e,t){let r=this.childCursor(t);for(let i=e.length-1;;i--){let s=i>=0?e[i]:null;if(!s)break;let{fromA:a,toA:c,fromB:f,toB:m}=s,{content:O,breakAtStart:x,openStart:P,openEnd:U}=Nx.build(this.view.state.doc,f,m,this.decorations,this.dynamicDecorationMap),{i:re,off:Se}=r.findPos(c,1),{i:Ie,off:Be}=r.findPos(a,-1);dk(this,Ie,Be,re,Se,O,x,P,U)}}updateSelection(e=!1,t=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection())return;let r=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,s=this.domAtPos(i.anchor),a=i.empty?s:this.domAtPos(i.head);if(rn.gecko&&i.empty&&!this.compositionDeco.size&&function oH(n){return 1==n.node.nodeType&&n.node.firstChild&&(0==n.offset||"false"==n.node.childNodes[n.offset-1].contentEditable)&&(n.offset==n.node.childNodes.length||"false"==n.node.childNodes[n.offset].contentEditable)}(s)){let f=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(f,s.node.childNodes[s.offset]||null)),s=a=new ls(f,0),r=!0}let c=this.view.observer.selectionRange;(r||!c.focusNode||!S0(s.node,s.offset,c.anchorNode,c.anchorOffset)||!S0(a.node,a.offset,c.focusNode,c.focusOffset))&&(this.view.observer.ignore(()=>{rn.android&&rn.chrome&&this.dom.contains(c.focusNode)&&function fH(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(1==t.nodeType&&"false"==t.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=b0(this.view.root);if(f)if(i.empty){if(rn.gecko){let m=function uH(n,e){return 1!=n.nodeType?0:(e&&"false"==n.childNodes[e-1].contentEditable?1:0)|(e<n.childNodes.length&&"false"==n.childNodes[e].contentEditable?2:0)}(s.node,s.offset);if(m&&3!=m){let O=Wk(s.node,s.offset,1==m?1:-1);O&&(s=new ls(O,1==m?0:O.nodeValue.length))}}f.collapse(s.node,s.offset),null!=i.bidiLevel&&null!=c.cursorBidiLevel&&(c.cursorBidiLevel=i.bidiLevel)}else if(f.extend){f.collapse(s.node,s.offset);try{f.extend(a.node,a.offset)}catch{}}else{let m=document.createRange();i.anchor>i.head&&([s,a]=[a,s]),m.setEnd(a.node,a.offset),m.setStart(s.node,s.offset),f.removeAllRanges(),f.addRange(m)}}),this.view.observer.setSelectionRange(s,a)),this.impreciseAnchor=s.precise?null:new ls(c.anchorNode,c.anchorOffset),this.impreciseHead=a.precise?null:new ls(c.focusNode,c.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,r=b0(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!(r&&t.empty&&t.assoc&&r.modify))return;let a=Hs.find(this,t.head);if(!a)return;let c=a.posAtStart;if(t.head==c||t.head==c+a.length)return;let f=this.coordsAt(t.head,-1),m=this.coordsAt(t.head,1);if(!f||!m||f.bottom>m.top)return;let O=this.domAtPos(t.head+t.assoc);r.collapse(O.node,O.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let x=e.observer.selectionRange;e.docView.posFromDOM(x.anchorNode,x.anchorOffset)!=t.from&&r.collapse(i,s)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||w0(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let r=Fr.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof Hs)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){for(let r=this.length,i=this.children.length-1;;i--){let s=this.children[i],a=r-s.breakAfter-s.length;if(e>a||e==a&&s.type!=Er.WidgetBefore&&s.type!=Er.WidgetAfter&&(!i||2==t||this.children[i-1].breakAfter||this.children[i-1].type==Er.WidgetBefore&&t>-2))return s.coordsAt(e-a,t);r=a}}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,f=this.view.textDirection==Kr.LTR;for(let m=0,O=0;O<this.children.length;O++){let x=this.children[O],P=m+x.length;if(P>i)break;if(m>=r){let U=x.dom.getBoundingClientRect();if(t.push(U.height),a){let re=x.dom.lastChild,Se=re?qg(re):[];if(Se.length){let Ie=Se[Se.length-1],Be=f?Ie.right-U.left:U.right-Ie.left;Be>c&&(c=Be,this.minWidth=s,this.minWidthFrom=m,this.minWidthTo=P)}}}m=P+x.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Kr.RTL:Kr.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Hs){let a=s.measureTextSize();if(a)return a}let t,r,i,e=document.createElement("div");return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=qg(e.firstChild)[0];t=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new ck(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],a=s?s.from-1:this.length;if(a>r){let c=t.lineBlockAt(a).bottom-t.lineBlockAt(r).top;e.push(sn.replace({widget:new Xk(c),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!s)break;r=s.to+1}return sn.set(e)}updateDeco(){let e=this.view.state.facet(tm).map((t,r)=>(this.dynamicDecorationMap[r]="function"==typeof t)?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let i,{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1);if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=0,a=0,c=0,f=0;for(let O of this.view.state.facet(Lk).map(x=>x(this.view)))if(O){let{left:x,right:P,top:U,bottom:re}=O;null!=x&&(s=Math.max(s,x)),null!=P&&(a=Math.max(a,P)),null!=U&&(c=Math.max(c,U)),null!=re&&(f=Math.max(f,re))}!function H3(n,e,t,r,i,s,a,c){let f=n.ownerDocument,m=f.defaultView||window;for(let O=n;O;)if(1==O.nodeType){let x,P=O==f.body;if(P)x=j3(m);else{if(O.scrollHeight<=O.clientHeight&&O.scrollWidth<=O.clientWidth){O=O.assignedSlot||O.parentNode;continue}let Se=O.getBoundingClientRect();x={left:Se.left,right:Se.left+O.clientWidth,top:Se.top,bottom:Se.top+O.clientHeight}}let U=0,re=0;if("nearest"==i)e.top<x.top?(re=-(x.top-e.top+a),t>0&&e.bottom>x.bottom+re&&(re=e.bottom-x.bottom+re+a)):e.bottom>x.bottom&&(re=e.bottom-x.bottom+a,t<0&&e.top-re<x.top&&(re=-(x.top+re-e.top+a)));else{let Se=e.bottom-e.top,Ie=x.bottom-x.top;re=("center"==i&&Se<=Ie?e.top+Se/2-Ie/2:"start"==i||"center"==i&&t<0?e.top-a:e.bottom-Ie+a)-x.top}if("nearest"==r?e.left<x.left?(U=-(x.left-e.left+s),t>0&&e.right>x.right+U&&(U=e.right-x.right+U+s)):e.right>x.right&&(U=e.right-x.right+s,t<0&&e.left<x.left+U&&(U=-(x.left+U-e.left+s))):U=("center"==r?e.left+(e.right-e.left)/2-(x.right-x.left)/2:"start"==r==c?e.left-s:e.right-(x.right-x.left)+s)-x.left,U||re)if(P)m.scrollBy(U,re);else{let Se=0,Ie=0;if(re){let Be=O.scrollTop;O.scrollTop+=re,Ie=O.scrollTop-Be}if(U){let Be=O.scrollLeft;O.scrollLeft+=U,Se=O.scrollLeft-Be}e={left:e.left-Se,top:e.top-Ie,right:e.right-Se,bottom:e.bottom-Ie},Se&&Math.abs(Se-U)<1&&(r="nearest"),Ie&&Math.abs(Ie-re)<1&&(i="nearest")}if(P)break;O=O.assignedSlot||O.parentNode}else{if(11!=O.nodeType)break;O=O.host}}(this.view.scrollDOM,{left:r.left-s,top:r.top-c,right:r.right+a,bottom:r.bottom+f},t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Kr.LTR)}}class Xk extends gu{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Gk(n){let e=n.observer.selectionRange,t=e.focusNode&&Wk(e.focusNode,e.focusOffset,0);if(!t)return null;let r=n.docView.nearest(t);if(!r)return null;if(r instanceof Hs){let i=t;for(;i.parentNode!=r.dom;)i=i.parentNode;let s=i.previousSibling;for(;s&&!Fr.get(s);)s=s.previousSibling;let a=s?Fr.get(s).posAtEnd:r.posAtStart;return{from:a,to:a,node:i,text:t}}{for(;;){let{parent:s}=r;if(!s)return null;if(s instanceof Hs)break;r=s}let i=r.posAtStart;return{from:i,to:i+r.length,node:r.dom,text:t}}}class lH extends gu{constructor(e,t,r){super(),this.top=e,this.text=t,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return yk}}function Wk(n,e,t){if(t<=0)for(let r=n,i=e;;){if(3==r.nodeType)return r;if(!(1==r.nodeType&&i>0))break;r=r.childNodes[i-1],i=Kg(r)}if(t>=0)for(let r=n,i=e;;){if(3==r.nodeType)return r;if(!(1==r.nodeType&&i<r.childNodes.length&&t>=0))break;r=r.childNodes[i],i=0}return null}class cH{constructor(){this.changes=[]}compareRange(e,t){Rx(e,t,this.changes)}comparePoint(e,t){Rx(e,t,this.changes)}}function pH(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function gH(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Bx(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Zk(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Yk(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function Vx(n,e,t){let r,i,s,a,f,m,O,x,c=!1;for(let re=n.firstChild;re;re=re.nextSibling){let Se=qg(re);for(let Ie=0;Ie<Se.length;Ie++){let Be=Se[Ie];i&&Bx(i,Be)&&(Be=Zk(Yk(Be,i.bottom),i.top));let nt=pH(e,Be),We=gH(t,Be);if(0==nt&&0==We)return 3==re.nodeType?qk(re,e,t):Vx(re,e,t);if(!r||a>We||a==We&&s>nt){r=re,i=Be,s=nt,a=We;let ft=We?t<Be.top?-1:1:nt?e<Be.left?-1:1:0;c=!ft||(ft>0?Ie<Se.length-1:Ie>0)}0==nt?t>Be.bottom&&(!O||O.bottom<Be.bottom)?(f=re,O=Be):t<Be.top&&(!x||x.top>Be.top)&&(m=re,x=Be):O&&Bx(O,Be)?O=Yk(O,Be.bottom):x&&Bx(x,Be)&&(x=Zk(x,Be.top))}}if(O&&O.bottom>=t?(r=f,i=O):x&&x.top<=t&&(r=m,i=x),!r)return{node:n,offset:0};let P=Math.max(i.left,Math.min(i.right,e));return 3==r.nodeType?qk(r,P,t):c&&"false"!=r.contentEditable?Vx(r,P,t):{node:n,offset:Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}}function qk(n,e,t){let r=n.nodeValue.length,i=-1,s=1e9,a=0;for(let c=0;c<r;c++){let f=Eh(n,c,c+1).getClientRects();for(let m=0;m<f.length;m++){let O=f[m];if(O.top==O.bottom)continue;a||(a=e-O.left);let x=(O.top>t?O.top-t:t-O.bottom)-1;if(O.left-1<=e&&O.right+1>=e&&x<s){let P=e>=(O.left+O.right)/2,U=P;if((rn.chrome||rn.gecko)&&Eh(n,c).getBoundingClientRect().left==O.right&&(U=!P),x<=0)return{node:n,offset:c+(U?1:0)};i=c+(U?1:0),s=x}}}return{node:n,offset:i>-1?i:a>0?n.nodeValue.length:0}}function Kk(n,e,t,r=-1){var i,s;let f,a=n.contentDOM.getBoundingClientRect(),c=a.top+n.viewState.paddingTop,{docHeight:m}=n.viewState,{x:O,y:x}=e,P=x-c;if(P<0)return 0;if(P>m)return n.state.doc.length;for(let ft=n.defaultLineHeight/2,Pt=!1;f=n.elementAtHeight(P),f.type!=Er.Text;)for(;P=r>0?f.bottom+ft:f.top-ft,!(P>=0&&P<=m);){if(Pt)return t?null:0;Pt=!0,r=-r}x=c+P;let U=f.from;if(U<n.viewport.from)return 0==n.viewport.from?0:t?null:Jk(n,a,f,O,x);if(U>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:Jk(n,a,f,O,x);let re=n.dom.ownerDocument,Se=n.root.elementFromPoint?n.root:re,Ie=Se.elementFromPoint(O,x);Ie&&!n.contentDOM.contains(Ie)&&(Ie=null),Ie||(O=Math.max(a.left+1,Math.min(a.right-1,O)),Ie=Se.elementFromPoint(O,x),Ie&&!n.contentDOM.contains(Ie)&&(Ie=null));let Be,nt=-1;if(Ie&&0!=(null===(i=n.docView.nearest(Ie))||void 0===i?void 0:i.isEditable))if(re.caretPositionFromPoint){let ft=re.caretPositionFromPoint(O,x);ft&&({offsetNode:Be,offset:nt}=ft)}else if(re.caretRangeFromPoint){let ft=re.caretRangeFromPoint(O,x);ft&&(({startContainer:Be,startOffset:nt}=ft),(!n.contentDOM.contains(Be)||rn.safari&&function mH(n,e,t){let r;if(3!=n.nodeType||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(1!=i.nodeType||"BR"!=i.nodeName)return!1;return Eh(n,r-1,r).getBoundingClientRect().left>t}(Be,nt,O)||rn.chrome&&function vH(n,e,t){if(0!=e)return!1;for(let i=n;;){let s=i.parentNode;if(!s||1!=s.nodeType||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}return t-(1==n.nodeType?n.getBoundingClientRect():Eh(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect()).left>5}(Be,nt,O))&&(Be=void 0))}if(!Be||!n.docView.dom.contains(Be)){let ft=Hs.find(n.docView,U);if(!ft)return P>f.top+f.height/2?f.to:f.from;({node:Be,offset:nt}=Vx(ft.dom,O,x))}let We=n.docView.nearest(Be);if(!We)return null;if(We.isWidget&&1==(null===(s=We.dom)||void 0===s?void 0:s.nodeType)){let ft=We.dom.getBoundingClientRect();return e.y<ft.top||e.y<=ft.bottom&&e.x<=(ft.left+ft.right)/2?We.posAtStart:We.posAtEnd}return We.localPosFromDOM(Be,nt)+We.posAtStart}function Jk(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);n.lineWrapping&&t.height>1.5*n.defaultLineHeight&&(s+=Math.floor((i-t.top)/n.defaultLineHeight)*n.viewState.heightOracle.lineLength);let a=n.state.sliceDoc(t.from,t.to);return t.from+Ox(a,s,n.state.tabSize)}function eI(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),a=n.textDirectionAt(i.from);for(let c=e,f=null;;){let m=Vk(i,s,a,c,t),O=Bk;if(!m){if(i.number==(t?n.state.doc.lines:1))return c;O="\n",i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),m=bt.cursor(t?i.from:i.to)}if(f){if(!f(O))return c}else{if(!r)return m;f=r(O)}c=m}}function Ux(n,e,t){let r=n.state.facet(Nk).map(i=>i(n));for(;;){let i=!1;for(let s of r)s.between(t.from-1,t.from+1,(a,c,f)=>{t.from>a&&t.from<c&&(t=e.head>t.from?bt.cursor(a,1):bt.cursor(c,-1),i=!0)});if(!i)return t}}class wH{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(r,i)=>{this.ignoreDuringComposition(i)||"keydown"==i.type&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():r(e,i))};for(let r in Fi){let i=Fi[r];e.contentDOM.addEventListener(r,s=>{rI(e,s)&&t(i,s)},zx[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t(Fi.mousedown,r),!r.defaultPrevented&&2==r.button)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),rn.chrome&&102==rn.chrome_version&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,rn.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var r;let i;this.customHandlers=[];for(let s of t)if(i=null===(r=s.update(e).spec)||void 0===r?void 0:r.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:i});for(let a in i)this.registeredEvents.indexOf(a)<0&&"scroll"!=a&&(this.registeredEvents.push(a),e.contentDOM.addEventListener(a,c=>{rI(e,c)&&this.runCustomHandlers(a,e,c)&&c.preventDefault()}))}}runCustomHandlers(e,t,r){for(let i of this.customHandlers){let s=i.handlers[e];if(s)try{if(s.call(i.plugin,r,t)||r.defaultPrevented)return!0}catch(a){Ro(t.state,a)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,t,e)}catch(s){Ro(e.state,s)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(rn.android&&rn.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let r;return!(!rn.ios||t.synthetic||t.altKey||t.metaKey||!((r=tI.find(i=>i.keyCode==t.keyCode))&&!t.ctrlKey||SH.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)||(this.pendingIOSKey=r||t,setTimeout(()=>this.flushIOSKey(e),250),0))}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,_h(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(rn.safari&&!rn.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const tI=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],SH="dthko",nI=[16,17,18,20,91,92,224,225];function I0(n){return.7*Math.max(0,n)+8}class xH{constructor(e,t,r,i){this.view=e,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=function X3(n){let e=n.ownerDocument;for(let t=n.parentNode;t&&t!=e.body;)if(1==t.nodeType){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else{if(11!=t.nodeType)break;t=t.host}return null}(e.contentDOM);let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(js.allowMultipleSelections)&&function DH(n,e){let t=n.state.facet(Ck);return t.length?t[0](e):rn.mac?e.metaKey:e.ctrlKey}(e,t),this.dragMove=function CH(n,e){let t=n.state.facet(Ek);return t.length?t[0](e):rn.mac?!e.altKey:!e.ctrlKey}(e,t),this.dragging=!(!function EH(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=b0(n.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let a=i[s];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}(e,t)||1!=hI(t))&&null}start(e){!1===this.dragging&&(e.preventDefault(),this.select(e))}move(e){var t;if(0==e.buttons)return this.destroy();if(!1!==this.dragging)return;this.select(this.lastEvent=e);let r=0,i=0,s=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=s.left+6?r=-I0(s.left-e.clientX):e.clientX>=s.right-6&&(r=I0(e.clientX-s.right)),e.clientY<=s.top+6?i=-I0(s.top-e.clientY):e.clientY>=s.bottom-6&&(i=I0(e.clientY-s.bottom)),this.setScrollSpeed(r,i)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function rI(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r,t=e.target;t!=n.contentDOM;t=t.parentNode)if(!t||11==t.nodeType||(r=Fr.get(t))&&r.ignoreEvent(e))return!1;return!0}const Fi=Object.create(null),zx=Object.create(null),iI=rn.ie&&rn.ie_version<15||rn.ios&&rn.webkit_version<604;function sI(n,e){let r,{state:t}=n,i=1,s=t.toText(e),a=s.lines==t.selection.ranges.length;if(null!=jx&&t.selection.ranges.every(f=>f.empty)&&jx==s.toString()){let f=-1;r=t.changeByRange(m=>{let O=t.doc.lineAt(m.from);if(O.from==f)return{range:m};f=O.from;let x=t.toText((a?s.line(i++).text:e)+t.lineBreak);return{changes:{from:O.from,insert:x},range:bt.cursor(m.from+x.length)}})}else r=a?t.changeByRange(f=>{let m=s.line(i++);return{changes:{from:f.from,to:f.to,insert:m.text},range:bt.cursor(f.from+m.length)}}):t.replaceSelection(s);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}function oI(n,e,t,r){if(1==r)return bt.cursor(e,t);if(2==r)return function hH(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(0==i.length)return bt.cursor(e);0==s?t=1:s==i.length&&(t=-1);let a=s,c=s;t<0?a=zs(i.text,s,!1):c=zs(i.text,s);let f=r(i.text.slice(a,c));for(;a>0;){let m=zs(i.text,a,!1);if(r(i.text.slice(m,a))!=f)break;a=m}for(;c<i.length;){let m=zs(i.text,c);if(r(i.text.slice(c,m))!=f)break;c=m}return bt.range(a+i.from,c+i.from)}(n.state,e,t);{let i=Hs.find(n.docView,e),s=n.state.doc.lineAt(i?i.posAtEnd:e),c=i?i.posAtEnd:s.to;return c<n.state.doc.length&&c==s.to&&c++,bt.range(i?i.posAtStart:s.from,c)}}Fi.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),27==e.keyCode?n.inputState.lastEscPress=Date.now():nI.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)},Fi.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")},Fi.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")},zx.touchstart=zx.touchmove={passive:!0},Fi.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let r of n.state.facet(_k))if(t=r(n,e),t)break;if(!t&&0==e.button&&(t=function AH(n,e){let t=uI(n,e),r=hI(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,a,c){let m,f=uI(n,s),O=oI(n,f.pos,f.bias,r);if(t.pos!=f.pos&&!a){let x=oI(n,t.pos,t.bias,r),P=Math.min(x.from,O.from),U=Math.max(x.to,O.to);O=P<O.from?bt.range(P,U):bt.range(U,P)}return a?i.replaceRange(i.main.extend(O.from,O.to)):c&&1==r&&i.ranges.length>1&&(m=function kH(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return bt.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}(i,f.pos))?m:c?i.addRange(O):bt.create([O])}}}(n,e)),t){let r=n.root.activeElement!=n.contentDOM;n.inputState.startMouseSelection(new xH(n,e,t,r)),r&&n.observer.ignore(()=>ok(n.contentDOM)),n.inputState.mouseSelection&&n.inputState.mouseSelection.start(e)}};let aI=(n,e)=>n>=e.top&&n<=e.bottom,lI=(n,e,t)=>aI(e,t)&&n>=t.left&&n<=t.right;function TH(n,e,t,r){let i=Hs.find(n.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(0==s)return 1;if(s==i.length)return-1;let a=i.coordsAt(s,-1);if(a&&lI(t,r,a))return-1;let c=i.coordsAt(s,1);return c&&lI(t,r,c)?1:a&&aI(r,a)?-1:1}function uI(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:TH(n,t,e.clientX,e.clientY)}}const MH=rn.ie&&rn.ie_version<=11;let cI=null,dI=0,fI=0;function hI(n){if(!MH)return n.detail;let e=cI,t=fI;return cI=n,fI=Date.now(),dI=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(dI+1)%3:1}function pI(n,e,t,r){if(!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=n.inputState,a=r&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,c={from:i,insert:t},f=n.state.changes(a?[a,c]:c);n.focus(),n.dispatch({changes:f,selection:{anchor:f.mapPos(i,-1),head:f.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"})}Fi.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:r}=n.inputState;r&&(r.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")},Fi.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let r=Array(t.length),i=0,s=()=>{++i==t.length&&pI(n,e,r.filter(a=>null!=a).join(n.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let c=new FileReader;c.onerror=s,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(r[a]=c.result),s()},c.readAsText(t[a])}}else pI(n,e,e.dataTransfer.getData("Text"),!0)},Fi.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=iI?null:e.clipboardData;t?(sI(n,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):function _H(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),sI(n,t.value)},50)}(n)};let jx=null;Fi.copy=Fi.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=function PH(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let a=n.doc.lineAt(s);a.number>i&&(e.push(a.text),t.push({from:a.from,to:Math.min(n.doc.length,a.to+1)})),i=a.number}r=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:r}}(n.state);if(!t&&!i)return;jx=i?t:null;let s=iI?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",t)):function IH(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}(n,t),"cut"==e.type&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const gI=pu.define();function mI(n,e){let t=[];for(let r of n.facet(Ak)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:gI.of(!0)}):null}function vI(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=mI(n.state,e);t?n.dispatch(t):n.update([])}},10)}Fi.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),vI(n)},Fi.blur=n=>{n.observer.clearSelectionRange(),vI(n)},Fi.compositionstart=Fi.compositionupdate=n=>{null==n.inputState.compositionFirstChange&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)},Fi.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,rn.chrome&&rn.android&&n.observer.flushSoon(),setTimeout(()=>{n.inputState.composing<0&&n.docView.compositionDeco.size&&n.update([])},50)},Fi.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()},Fi.beforeinput=(n,e)=>{var t;let r;if(rn.chrome&&rn.android&&(r=tI.find(i=>i.inputType==e.inputType))&&(n.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let i=(null===(t=window.visualViewport)||void 0===t?void 0:t.height)||0;setTimeout(()=>{var s;((null===(s=window.visualViewport)||void 0===s?void 0:s.height)||0)>i+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const yI=["pre-wrap","normal","pre-line","break-spaces"];class OI{constructor(e){this.lineWrapping=e,this.doc=cr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return yI.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(10*i)]||(t=!0,this.heightSamples[Math.floor(10*i)]=!0)}return t}refresh(e,t,r,i,s,a){let c=yI.indexOf(e)>-1,f=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,f){this.heightSamples={};for(let m=0;m<a.length;m++){let O=a[m];O<0?m++:this.heightSamples[Math.floor(10*O)]=!0}}return f}}class bI{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class mu{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new mu(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Mr=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Mr||(Mr={}));const P0=.001;class Cs{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>P0&&(e.heightChanged=!0),this.height=t)}replace(e,t,r){return Cs.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,a=r.doc;for(let c=i.length-1;c>=0;c--){let{fromA:f,toA:m,fromB:O,toB:x}=i[c],P=s.lineAt(f,Mr.ByPosNoHeight,r.setDoc(t),0,0),U=P.to>=m?P:s.lineAt(m,Mr.ByPosNoHeight,r,0,0);for(x+=U.to-m,m=U.to;c>0&&P.from<=i[c-1].toA;)f=i[c-1].fromA,O=i[c-1].fromB,c--,f<P.from&&(P=s.lineAt(f,Mr.ByPosNoHeight,r,0,0));O+=P.from-f,f=P.from;let re=Hx.build(r.setDoc(a),e,O,x);s=s.replace(f,m,re)}return s.updateHeight(r,0)}static empty(){return new No(0,0)}static of(e){if(1==e.length)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>2*s){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),r+=1+c.break,i-=c.size}else{if(!(s>2*i))break;{let c=e[r];c.break?e.splice(r,1,c.left,null,c.right):e.splice(r,1,c.left,c.right),r+=2+c.break,s-=c.size}}else if(i<s){let c=e[t++];c&&(i+=c.size)}else{let c=e[--r];c&&(s+=c.size)}let a=0;return null==e[t-1]?(a=1,t--):null==e[t]&&(a=1,r++),new RH(Cs.of(e.slice(0,t)),a,Cs.of(e.slice(r)))}}Cs.prototype.size=1;class wI extends Cs{constructor(e,t,r){super(e,t),this.type=r}blockAt(e,t,r,i){return new mu(i,this.length,r,this.height,this.type)}lineAt(e,t,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,t,r,i,s,a){e<=s+this.length&&t>=s&&a(this.blockAt(0,r,i,s))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class No extends wI{constructor(e,t){super(e,t,Er.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,r){let i=r[0];return 1==r.length&&(i instanceof No||i instanceof us&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof us?i=new No(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Cs.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class us extends Cs{constructor(e){super(e,0)}heightMetrics(e,t){let a,r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,c=0;if(e.lineWrapping){let f=Math.min(this.height,e.lineHeight*s);a=f/s,c=(this.height-f)/(this.length-s-1)}else a=this.height/s;return{firstLine:r,lastLine:i,perLine:a,perChar:c}}blockAt(e,t,r,i){let{firstLine:s,lastLine:a,perLine:c,perChar:f}=this.heightMetrics(t,i);if(t.lineWrapping){let m=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),O=t.doc.lineAt(m),x=c+O.length*f,P=Math.max(r,e-x/2);return new mu(O.from,O.length,P,x,Er.Text)}{let m=Math.max(0,Math.min(a-s,Math.floor((e-r)/c))),{from:O,length:x}=t.doc.line(s+m);return new mu(O,x,r+c*m,c,Er.Text)}}lineAt(e,t,r,i,s){if(t==Mr.ByHeight)return this.blockAt(e,r,i,s);if(t==Mr.ByPosNoHeight){let{from:U,to:re}=r.doc.lineAt(e);return new mu(U,re-U,0,0,Er.Text)}let{firstLine:a,perLine:c,perChar:f}=this.heightMetrics(r,s),m=r.doc.lineAt(e),O=c+m.length*f,x=m.number-a;return new mu(m.from,m.length,Math.max(i,Math.min(i+c*x+f*(m.from-s-x),i+this.height-O)),O,Er.Text)}forEachLine(e,t,r,i,s,a){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:c,perLine:f,perChar:m}=this.heightMetrics(r,s);for(let O=e,x=i;O<=t;){let P=r.doc.lineAt(O);if(O==e){let re=P.number-c;x+=f*re+m*(e-s-re)}let U=f+m*P.length;a(new mu(P.from,P.length,x,U,Er.Text)),x+=U,O=P.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof us?r[r.length-1]=new us(s.length+i):r.push(null,new us(i-1))}if(e>0){let s=r[0];s instanceof us?r[0]=new us(e+s.length):r.unshift(new us(e-1),null)}return Cs.of(r)}decomposeLeft(e,t){t.push(new us(e-1),null)}decomposeRight(e,t){t.push(null,new us(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let a=[],c=Math.max(t,i.from),f=-1;for(i.from>t&&a.push(new us(i.from-t-1).updateHeight(e,t));c<=s&&i.more;){let O=e.doc.lineAt(c).length;a.length&&a.push(null);let x=i.heights[i.index++];-1==f?f=x:Math.abs(x-f)>=P0&&(f=-2);let P=new No(O,x);P.outdated=!1,a.push(P),c+=O+1}c<=s&&a.push(null,new us(s-c).updateHeight(e,c));let m=Cs.of(a);return(f<0||Math.abs(m.height-this.height)>=P0||Math.abs(f-this.heightMetrics(e,t).perLine)>=P0)&&(e.heightChanged=!0),m}return(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class RH extends Cs{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return 1&this.flags}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let a=i+this.left.height,c=s+this.left.length+this.break,f=t==Mr.ByHeight?e<a:e<c,m=f?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,a,c);if(this.break||(f?m.to<c:m.from>c))return m;let O=t==Mr.ByPosNoHeight?Mr.ByPosNoHeight:Mr.ByPos;return f?m.join(this.right.lineAt(c,O,r,a,c)):this.left.lineAt(c,O,r,i,s).join(m)}forEachLine(e,t,r,i,s,a){let c=i+this.left.height,f=s+this.left.length+this.break;if(this.break)e<f&&this.left.forEachLine(e,t,r,i,s,a),t>=f&&this.right.forEachLine(e,t,r,c,f,a);else{let m=this.lineAt(f,Mr.ByPos,r,i,s);e<m.from&&this.left.forEachLine(e,m.from-1,r,i,s,a),m.to>=e&&m.from<=t&&a(m),t>m.to&&this.right.forEachLine(m.to+1,t,r,c,f,a)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let a=s.length;for(let c of r)s.push(c);if(e>0&&SI(s,a-1),t<this.length){let c=s.length;this.decomposeRight(t,s),SI(s,c)}return Cs.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Cs.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:a}=this,c=t+s.length+this.break,f=null;return i&&i.from<=t+s.length&&i.more?f=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=c+a.length&&i.more?f=a=a.updateHeight(e,c,r,i):a.updateHeight(e,c,r),f?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function SI(n,e){let t,r;null==n[e]&&(t=n[e-1])instanceof us&&(r=n[e+1])instanceof us&&n.splice(e-1,3,new us(t.length+1+r.length))}class Hx{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof No?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new No(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let s=t-e;r.block?this.addBlock(new wI(s,i,r.type)):(s||i>=5)&&this.addLineDeco(i,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new No(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new us(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof No)return e;let t=new No(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==Er.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Er.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let r=this.ensureLine();r.length+=t,r.collapsed+=t,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof No||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new No(0,-1));let r=e;for(let i of this.nodes)i instanceof No&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new Hx(r,e);return qr.spans(t,r,i,s,0),s.finish(r)}}class FH{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&Rx(e,t,this.changes,5)}}function QH(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),a=Math.min(i.innerWidth,t.right),c=Math.max(0,t.top),f=Math.min(i.innerHeight,t.bottom);for(let m=n.parentNode;m&&m!=r.body;)if(1==m.nodeType){let O=m,x=window.getComputedStyle(O);if((O.scrollHeight>O.clientHeight||O.scrollWidth>O.clientWidth)&&"visible"!=x.overflow){let P=O.getBoundingClientRect();s=Math.max(s,P.left),a=Math.min(a,P.right),c=Math.max(c,P.top),f=m==n.parentNode?P.bottom:Math.min(f,P.bottom)}m="absolute"==x.position||"fixed"==x.position?O.offsetParent:O.parentNode}else{if(11!=m.nodeType)break;m=m.host}return{left:s-t.left,right:Math.max(s,a)-t.left,top:c-(t.top+e),bottom:Math.max(c,f)-(t.top+e)}}function $H(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Xx{constructor(e,t,r){this.from=e,this.to=t,this.size=r}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e){return sn.replace({widget:new BH(this.size,e)}).range(this.from,this.to)}}class BH extends gu{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class xI{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=DI,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Kr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(M0).some(r=>"function"!=typeof r&&"cm-lineWrapping"==r.class);this.heightOracle=new OI(t),this.stateDeco=e.facet(tm).filter(r=>"function"!=typeof r),this.heightMap=Cs.empty().applyChanges(this.stateDeco,cr.empty,this.heightOracle.setDoc(e.doc),[new La(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=sn.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:a})=>i>=s&&i<=a)){let{from:s,to:a}=this.lineBlockAt(i);e.push(new R0(s,a))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?DI:new zH(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(1==this.scaler.scale?e:rm(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(tm).filter(m=>"function"!=typeof m);let s=La.extendWithRanges(e.changedRanges,function LH(n,e,t){let r=new FH;return qr.compare(n,e,t,r,0),r.changes}(r,this.stateDeco,e?e.changes:Li.empty(this.state.doc.length))),a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=a&&(e.flags|=2);let c=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<c.from||t.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,t));let f=!e.changes.empty||2&e.flags||c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,this.updateForViewport(),f&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Ik)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection="rtl"==r.direction?Kr.RTL:Kr.LTR;let a=this.heightOracle.mustRefreshForWrapping(s),c=t.getBoundingClientRect(),f=a||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let m=0,O=0,x=parseInt(r.paddingTop)||0,P=parseInt(r.paddingBottom)||0;(this.paddingTop!=x||this.paddingBottom!=P)&&(this.paddingTop=x,this.paddingBottom=P,m|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(f=!0),this.editorWidth=e.scrollDOM.clientWidth,m|=8);let U=(this.printing?$H:QH)(t,this.paddingTop),re=U.top-this.pixelViewport.top,Se=U.bottom-this.pixelViewport.bottom;this.pixelViewport=U;let Ie=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(Ie!=this.inView&&(this.inView=Ie,Ie&&(f=!0)),!this.inView&&!this.scrollTarget)return 0;let Be=c.width;if((this.contentDOMWidth!=Be||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,m|=8),f){let We=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(We)&&(a=!0),a||i.lineWrapping&&Math.abs(Be-this.contentDOMWidth)>i.charWidth){let{lineHeight:ft,charWidth:Pt,textHeight:Rt}=e.docView.measureTextSize();a=ft>0&&i.refresh(s,ft,Pt,Rt,Be/Pt,We),a&&(e.docView.minWidth=0,m|=8)}re>0&&Se>0?O=Math.max(re,Se):re<0&&Se<0&&(O=Math.min(re,Se)),i.heightChanged=!1;for(let ft of this.viewports){let Pt=ft.from==this.viewport.from?We:e.docView.measureVisibleLineHeights(ft);this.heightMap=(a?Cs.empty().applyChanges(this.stateDeco,cr.empty,this.heightOracle,[new La(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new bI(ft.from,Pt))}i.heightChanged&&(m|=2)}let nt=!this.viewportIsAppropriate(this.viewport,O)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return nt&&(this.viewport=this.getViewport(O,this.scrollTarget)),this.updateForViewport(),(2&m||nt)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),m|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),m}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:c}=this,f=new R0(i.lineAt(a-1e3*r,Mr.ByHeight,s,0,0).from,i.lineAt(c+1e3*(1-r),Mr.ByHeight,s,0,0).to);if(t){let{head:m}=t.range;if(m<f.from||m>f.to){let P,O=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),x=i.lineAt(m,Mr.ByPos,s,0,0);P="center"==t.y?(x.top+x.bottom)/2-O/2:"start"==t.y||"nearest"==t.y&&m<f.from?x.top:x.bottom-O,f=new R0(i.lineAt(P-500,Mr.ByHeight,s,0,0).from,i.lineAt(P+O+500,Mr.ByHeight,s,0,0).to)}}return f}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new R0(this.heightMap.lineAt(r,Mr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Mr.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Mr.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Mr.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:c}=this;return(0==e||i<=a-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=c+Math.max(10,Math.min(r,250)))&&i>a-2e3&&s<c+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new Xx(t.mapPos(i.from),t.mapPos(i.to),i.size));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,a=i<<1;if(this.defaultTextDirection!=Kr.LTR&&!r)return[];let c=[],f=(m,O,x,P)=>{if(O-m<s)return;let U=this.state.selection.main,re=[U.from];U.empty||re.push(U.to);for(let Ie of re)if(Ie>m&&Ie<O)return f(m,Ie-10,x,P),void f(Ie+10,O,x,P);let Se=function UH(n,e){for(let t of n)if(e(t))return t}(e,Ie=>Ie.from>=x.from&&Ie.to<=x.to&&Math.abs(Ie.from-m)<s&&Math.abs(Ie.to-O)<s&&!re.some(Be=>Ie.from<Be&&Ie.to>Be));if(!Se){if(O<x.to&&t&&r&&t.visibleRanges.some(Ie=>Ie.from<=O&&Ie.to>=O)){let Ie=t.moveToLineBoundary(bt.cursor(O),!1,!0).head;Ie>m&&(O=Ie)}Se=new Xx(m,O,this.gapSize(x,m,O,P))}c.push(Se)};for(let m of this.viewportLines){if(m.length<a)continue;let O=VH(m.from,m.to,this.stateDeco);if(O.total<a)continue;let P,U,x=this.scrollTarget?this.scrollTarget.range.head:null;if(r){let Se,Ie,re=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=x){let Be=L0(O,x),nt=((this.visibleBottom-this.visibleTop)/2+re)/m.height;Se=Be-nt,Ie=Be+nt}else Se=(this.visibleTop-m.top-re)/m.height,Ie=(this.visibleBottom-m.top+re)/m.height;P=N0(O,Se),U=N0(O,Ie)}else{let Ie,Be,re=O.total*this.heightOracle.charWidth,Se=i*this.heightOracle.charWidth;if(null!=x){let nt=L0(O,x),We=((this.pixelViewport.right-this.pixelViewport.left)/2+Se)/re;Ie=nt-We,Be=nt+We}else Ie=(this.pixelViewport.left-Se)/re,Be=(this.pixelViewport.right+Se)/re;P=N0(O,Ie),U=N0(O,Be)}P>m.from&&f(m.from,P,m,O),U<m.to&&f(U,m.to,m,O)}return c}gapSize(e,t,r,i){let s=L0(i,r)-L0(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){Xx.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=sn.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];qr.spans(e,this.viewport.from,this.viewport.to,{span(i,s){t.push({from:i,to:s})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some((i,s)=>i.from!=t[s].from||i.to!=t[s].to);return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||rm(this.heightMap.lineAt(e,Mr.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return rm(this.heightMap.lineAt(this.scaler.fromDOM(e),Mr.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return rm(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class R0{constructor(e,t){this.from=e,this.to=t}}function VH(n,e,t){let r=[],i=n,s=0;return qr.spans(t,n,e,{span(){},point(a,c){a>i&&(r.push({from:i,to:a}),s+=a-i),i=c}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function N0({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:a}=e[i],c=a-s;if(r<=c)return s+r;r-=c}}function L0(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}const DI={toDOM:n=>n,fromDOM:n=>n,scale:1};class zH{constructor(e,t,r){let i=0,s=0,a=0;this.viewports=r.map(({from:c,to:f})=>{let m=t.lineAt(c,Mr.ByPos,e,0,0).top,O=t.lineAt(f,Mr.ByPos,e,0,0).bottom;return i+=O-m,{from:c,to:f,top:m,bottom:O,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let c of this.viewports)c.domTop=a+(c.top-s)*this.scale,a=c.domBottom=c.domTop+(c.bottom-c.top),s=c.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}}function rm(n,e){if(1==e.scale)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new mu(n.from,n.length,t,r-t,Array.isArray(n.type)?n.type.map(i=>rm(i,e)):n.type)}const F0=tn.define({combine:n=>n.join(" ")}),Gx=tn.define({combine:n=>n.indexOf(!0)>-1}),Wx=cc.newName(),CI=cc.newName(),EI=cc.newName(),_I={"&light":"."+CI,"&dark":"."+EI};function Zx(n,e,t){return new cc(e,{finish:r=>/&/.test(r)?r.replace(/&\w*/,i=>{if("&"==i)return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r})}const jH=Zx("."+Wx,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},_I);class HH{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let c=s||a?[]:function GH(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new jk(t,r)),(i!=t||s!=r)&&e.push(new jk(i,s))),e}(e),f=new Uk(c,e.state);f.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=f.text,this.newSel=function WH(n,e){if(0==n.length)return null;let t=n[0].pos,r=2==n.length?n[1].pos:t;return t>-1&&r>-1?bt.single(t+e,r+e):null}(c,this.bounds.from)}else{let c=e.observer.selectionRange,f=s&&s.node==c.focusNode&&s.offset==c.focusOffset||!Dh(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),m=a&&a.node==c.anchorNode&&a.offset==c.anchorOffset||!Dh(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset);this.newSel=bt.single(m,f)}}}function TI(n,e){let t,{newSel:r}=e,i=n.state.selection.main;if(e.bounds){let{from:s,to:a}=e.bounds,c=i.from,f=null;(8===n.inputState.lastKeyCode&&n.inputState.lastKeyTime>Date.now()-100||rn.android&&e.text.length<a-s)&&(c=i.to,f="end");let m=function XH(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let a=n.length,c=e.length;for(;a>0&&c>0&&n.charCodeAt(a-1)==e.charCodeAt(c-1);)a--,c--;return"end"==r&&(t-=a+Math.max(0,s-Math.min(a,c))-s),a<s&&n.length<e.length?(s-=t<=s&&t>=a?s-t:0,c=s+(c-a),a=s):c<s&&(s-=t<=s&&t>=c?s-t:0,a=s+(a-c),c=s),{from:s,toA:a,toB:c}}(n.state.doc.sliceString(s,a,"\uffff"),e.text,c-s,f);m&&(rn.chrome&&13==n.inputState.lastKeyCode&&m.toB==m.from+2&&"\uffff\uffff"==e.text.slice(m.from,m.toB)&&m.toB--,t={from:s+m.from,to:s+m.toA,insert:cr.of(e.text.slice(m.from,m.toB).split("\uffff"))})}else r&&(!n.hasFocus&&n.state.facet(T0)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:(rn.mac||rn.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&"off"==n.contentDOM.getAttribute("autocorrect")?(r&&2==t.insert.length&&(r=bt.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:cr.of([" "])}):rn.chrome&&t&&t.from==t.to&&t.from==i.head&&"\n "==t.insert.toString()&&n.lineWrapping&&(r&&(r=bt.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:cr.of([" "])}),t){let s=n.state;if(rn.ios&&n.inputState.flushIOSKey(n)||rn.android&&(t.from==i.from&&t.to==i.to&&1==t.insert.length&&2==t.insert.lines&&_h(n.contentDOM,"Enter",13)||t.from==i.from-1&&t.to==i.to&&0==t.insert.length&&_h(n.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&0==t.insert.length&&_h(n.contentDOM,"Delete",46)))return!0;let c,a=t.insert.toString();if(n.state.facet(Mk).some(m=>m(n,t.from,t.to,a)))return!0;if(n.inputState.composing>=0&&n.inputState.composing++,t.from>=i.from&&t.to<=i.to&&t.to-t.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==t.from+t.insert.length)&&n.inputState.composing<0){let m=i.from<t.from?s.sliceDoc(i.from,t.from):"",O=i.to>t.to?s.sliceDoc(t.to,i.to):"";c=s.replaceSelection(n.state.toText(m+t.insert.sliceString(0,void 0,n.state.lineBreak)+O))}else{let m=s.changes(t),O=r&&r.main.to<=m.newLength?r.main:void 0;if(s.selection.ranges.length>1&&n.inputState.composing>=0&&t.to<=i.to&&t.to>=i.to-10){let x=n.state.sliceDoc(t.from,t.to),P=Gk(n)||n.state.doc.lineAt(i.head),U=i.to-t.to,re=i.to-i.from;c=s.changeByRange(Se=>{if(Se.from==i.from&&Se.to==i.to)return{changes:m,range:O||Se.map(m)};let Ie=Se.to-U,Be=Ie-x.length;if(Se.to-Se.from!=re||n.state.sliceDoc(Be,Ie)!=x||P&&Se.to>=P.from&&Se.from<=P.to)return{range:Se};let nt=s.changes({from:Be,to:Ie,insert:t.insert}),We=Se.to-i.to;return{changes:nt,range:O?bt.range(Math.max(0,O.anchor+We),Math.max(0,O.head+We)):Se.map(nt)}})}else c={changes:m,selection:O&&s.selection.replaceRange(O)}}let f="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,f+=".compose",n.inputState.compositionFirstChange&&(f+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(c,{scrollIntoView:!0,userEvent:f}),!0}if(r&&!r.main.eq(i)){let s=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&("select"==n.inputState.lastSelectionOrigin&&(s=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}return!1}const ZH={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Yx=rn.ie&&rn.ie_version<=11;class YH{constructor(e){this.view=e,this.active=!1,this.selectionRange=new G3,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(rn.ie&&rn.ie_version<=11||rn.ios&&e.composing)&&t.some(r=>"childList"==r.type&&r.removedNodes.length||"characterData"==r.type&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),Yx&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(T0)?r.root.activeElement!=this.dom:!w0(r.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);s&&s.ignoreEvent(e)?t||(this.selectionChanged=!1):(rn.ie&&rn.ie_version<=11||rn.android&&rn.chrome)&&!r.state.selection.main.empty&&i.focusNode&&S0(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=rn.safari&&11==e.root.nodeType&&function z3(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom&&function qH(n){let e=null;function t(f){f.preventDefault(),f.stopImmediatePropagation(),e=f.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let r=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,c=n.docView.domAtPos(n.state.selection.main.anchor);return S0(c.node,c.offset,s,a)&&([r,i,s,a]=[s,a,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a}}(this.view)||b0(e.root);if(!t||this.selectionRange.eq(t))return!1;let r=w0(this.dom,t);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function Z3(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(;;)if(r){if(1!=t.nodeType)return!1;let i=t.childNodes[r-1];"false"==i.contentEditable?r--:(t=i,r=Kg(t))}else{if(t==n)return!0;r=x0(t),t=t.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(1==r.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else{if(11!=r.nodeType)break;r=r.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,ZH),Yx&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Yx&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),!this.flush()&&s.force&&_h(this.dom,s.key,s.keyCode))})),(!this.delayedAndroidKey||"Enter"==e)&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!(null===(r=this.delayedAndroidKey)||void 0===r||!r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let a=this.readMutation(s);a&&(a.typeOver&&(i=!0),-1==t?({from:t,to:r}=a):(t=Math.min(a.from,t),r=Math.max(a.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&w0(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new HH(this.view,e,t,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let r=this.view.state,i=TI(this.view,t);return this.view.state==r&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let r=MI(t,e.previousSibling||e.target.previousSibling,-1),i=MI(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,r,i;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(r=this.resizeScroll)||void 0===r||r.disconnect(),null===(i=this.resizeContent)||void 0===i||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function MI(n,e,t){for(;e;){let r=Fr.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}let _n=(()=>{class n{constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(r=>this.update([r])),this.dispatch=this.dispatch.bind(this),this._root=t.root||function W3(n){for(;n;){if(n&&(9==n.nodeType||11==n.nodeType&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}(t.parent)||document,this.viewState=new xI(t.state||js.create(t)),this.plugins=this.state.facet(em).map(r=>new Fx(r));for(let r of this.plugins)r.update(this);this.observer=new YH(this),this.inputState=new wH(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Hk(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...t){this._dispatch(1==t.length&&t[0]instanceof xl?t[0]:this.state.update(...t))}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let s,r=!1,i=!1,a=this.state;for(let U of t){if(U.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=U.state}if(this.destroyed)return void(this.viewState.state=a);let c=this.hasFocus,f=0,m=null;t.some(U=>U.annotation(gI))?(this.inputState.notifiedFocused=c,f=1):c!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=c,m=mI(a,c),m||(f=1));let O=this.observer.delayedAndroidKey,x=null;if(O?(this.observer.clearDelayedAndroidKey(),x=this.observer.readChange(),(x&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(x=null)):this.observer.clear(),a.facet(js.phrases)!=this.state.facet(js.phrases))return this.setState(a);s=A0.create(this,a,t),s.flags|=f;let P=this.viewState.scrollTarget;try{this.updateState=2;for(let U of t){if(P&&(P=P.map(U.changes)),U.scrollIntoView){let{main:re}=U.state.selection;P=new _0(re.empty?re:bt.cursor(re.head,re.head>re.anchor?-1:1))}for(let re of U.effects)re.is(Pk)&&(P=re.value)}this.viewState.update(s,P),this.bidiCache=Q0.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),r=this.docView.update(s),this.state.facet(nm)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(r,t.some(U=>U.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(F0)!=s.state.facet(F0)&&(this.viewState.mustMeasureContent=!0),(r||i||P||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!s.empty)for(let U of this.state.facet(Lx))U(s);(m||x)&&Promise.resolve().then(()=>{m&&this.state==m.startState&&this.dispatch(m),x&&!TI(this,x)&&O.force&&_h(this.contentDOM,O.key,O.keyCode)})}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let r=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new xI(t),this.plugins=t.facet(em).map(i=>new Fx(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new Hk(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(t){let r=t.startState.facet(em),i=t.state.facet(em);if(r!=i){let s=[];for(let a of i){let c=r.indexOf(a);if(c<0)s.push(new Fx(a));else{let f=this.plugins[c];f.mustUpdate=t,s.push(f)}}for(let a of this.plugins)a.mustUpdate!=t&&a.destroy(this);this.plugins=s,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let s of this.plugins)s.mustUpdate=t;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this)}measure(t=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.forceFlush();let r=null,{scrollHeight:i,scrollTop:s,clientHeight:a}=this.scrollDOM,c=s>i-a-4?i:s;try{for(let f=0;;f++){this.updateState=1;let m=this.viewport,O=this.viewState.lineBlockAtHeight(c),x=this.viewState.measure(this);if(!x&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(f>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let P=[];4&x||([this.measureRequests,P]=[P,this.measureRequests]);let U=P.map(Be=>{try{return Be.read(this)}catch(nt){return Ro(this.state,nt),AI}}),re=A0.create(this,this.state,[]),Se=!1,Ie=!1;re.flags|=x,r?r.flags|=x:r=re,this.updateState=2,re.empty||(this.updatePlugins(re),this.inputState.update(re),this.updateAttrs(),Se=this.docView.update(re));for(let Be=0;Be<P.length;Be++)if(U[Be]!=AI)try{let nt=P[Be];nt.write&&nt.write(U[Be],this)}catch(nt){Ro(this.state,nt)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,Ie=!0;else{let Be=this.viewState.lineBlockAt(O.from).top-O.top;(Be>1||Be<-1)&&(this.scrollDOM.scrollTop+=Be,Ie=!0)}if(Se&&this.docView.updateSelection(!0),this.viewport.from==m.from&&this.viewport.to==m.to&&!Ie&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let f of this.state.facet(Lx))f(r)}get themeClasses(){return Wx+" "+(this.state.facet(Gx)?EI:CI)+" "+this.state.facet(F0)}updateAttrs(){let t=kI(this,Rk,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(T0)?"true":"false",class:"cm-content",style:`${rn.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),kI(this,M0,r);let i=this.observer.ignore(()=>{let s=Px(this.contentDOM,this.contentAttrs,r),a=Px(this.dom,this.editorAttrs,t);return s||a});return this.editorAttrs=t,this.contentAttrs=r,i}showAnnouncements(t){let r=!0;for(let i of t)for(let s of i.effects)s.is(n.announce)&&(r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=s.value)}mountStyles(){this.styleModules=this.state.facet(nm),cc.mount(this.root,this.styleModules.concat(jH).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===t.key)return void(this.measureRequests[r]=t);this.measureRequests.push(t)}}plugin(t){let r=this.pluginMap.get(t);return(void 0===r||r&&r.spec!=t)&&this.pluginMap.set(t,r=this.plugins.find(i=>i.spec==t)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,r,i){return Ux(this,t,eI(this,t,r,i))}moveByGroup(t,r){return Ux(this,t,eI(this,t,r,i=>function OH(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let a=r(s);return i==jr.Space&&(i=a),i==a}}(this,t.head,i)))}moveToLineBoundary(t,r,i=!0){return function yH(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=r&&n.lineWrapping?n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head):null;if(s){let f=n.dom.getBoundingClientRect(),m=n.textDirectionAt(i.from),O=n.posAtCoords({x:t==(m==Kr.LTR)?f.right-1:f.left+1,y:(s.top+s.bottom)/2});if(null!=O)return bt.cursor(O,t?-1:1)}let a=Hs.find(n.docView,e.head);return bt.cursor(a?t?a.posAtEnd:a.posAtStart:t?i.to:i.from,t?-1:1)}(this,t,r,i)}moveVertically(t,r,i){return Ux(this,t,function bH(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return bt.cursor(i,e.assoc);let c,a=e.goalColumn,f=n.contentDOM.getBoundingClientRect(),m=n.coordsAtPos(i),O=n.documentTop;if(m)null==a&&(a=m.left-f.left),c=s<0?m.top:m.bottom;else{let U=n.viewState.lineBlockAt(i);null==a&&(a=Math.min(f.right-f.left,n.defaultCharacterWidth*(i-U.from))),c=(s<0?U.top:U.bottom)+O}let x=f.left+a,P=r??n.defaultLineHeight>>1;for(let U=0;;U+=10){let re=c+(P+U)*s,Se=Kk(n,{x,y:re},!1,s);if(re<f.top||re>f.bottom||(s<0?Se<i:Se>i))return bt.cursor(Se,e.assoc,void 0,a)}}(this,t,r,i))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,r=0){return this.docView.posFromDOM(t,r)}posAtCoords(t,r=!0){return this.readMeasured(),Kk(this,t,r)}coordsAtPos(t,r=1){this.readMeasured();let i=this.docView.coordsAt(t,r);if(!i||i.left==i.right)return i;let s=this.state.doc.lineAt(t),a=this.bidiSpans(s);return xx(i,a[Th.find(a,t-s.from,-1,r)].dir==Kr.LTR==r>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(kk)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>KH)return $k(t.length);let r=this.textDirectionAt(t.from);for(let s of this.bidiCache)if(s.from==t.from&&s.dir==r)return s.order;let i=function Qk(n,e){let t=n.length,r=e==Qx?1:2,i=e==Qx?2:1;if(!n||1==r&&!sH.test(n))return $k(t);for(let a=0,c=r,f=r;a<t;a++){let m=iH(n.charCodeAt(a));512==m?m=c:8==m&&4==f&&(m=16),Jr[a]=4==m?2:m,7&m&&(f=m),c=m}for(let a=0,c=r,f=r;a<t;a++){let m=Jr[a];if(128==m)a<t-1&&c==Jr[a+1]&&24&c?m=Jr[a]=c:Jr[a]=256;else if(64==m){let O=a+1;for(;O<t&&64==Jr[O];)O++;let x=a&&8==c||O<t&&8==Jr[O]?1==f?1:8:256;for(let P=a;P<O;P++)Jr[P]=x;a=O-1}else 8==m&&1==f&&(Jr[a]=1);c=m,7&m&&(f=m)}for(let m,O,x,a=0,c=0,f=0;a<t;a++)if(O=$x[m=n.charCodeAt(a)])if(O<0){for(let P=c-3;P>=0;P-=3)if(Cl[P+1]==-O){let U=Cl[P+2],re=2&U?r:4&U?1&U?i:r:0;re&&(Jr[a]=Jr[Cl[P]]=re),c=P;break}}else{if(189==Cl.length)break;Cl[c++]=a,Cl[c++]=m,Cl[c++]=f}else if(2==(x=Jr[a])||1==x){let P=x==r;f=P?0:1;for(let U=c-3;U>=0;U-=3){let re=Cl[U+2];if(2&re)break;if(P)Cl[U+2]|=2;else{if(4&re)break;Cl[U+2]|=4}}}for(let a=0;a<t;a++)if(256==Jr[a]){let c=a+1;for(;c<t&&256==Jr[c];)c++;let f=1==(a?Jr[a-1]:r),O=f==(1==(c<t?Jr[c]:r))?f?1:2:r;for(let x=a;x<c;x++)Jr[x]=O;a=c-1}let s=[];if(1==r)for(let a=0;a<t;){let c=a,f=1!=Jr[a++];for(;a<t&&f==(1!=Jr[a]);)a++;if(f)for(let m=a;m>c;){let O=m,x=2!=Jr[--m];for(;m>c&&x==(2!=Jr[m-1]);)m--;s.push(new Th(m,O,x?2:1))}else s.push(new Th(c,a,0))}else for(let a=0;a<t;){let c=a,f=2==Jr[a++];for(;a<t&&f==(2==Jr[a]);)a++;s.push(new Th(c,a,f?1:2))}return s}(t.text,r);return this.bidiCache.push(new Q0(t.from,t.to,r,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||rn.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{ok(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,r={}){return Pk.of(new _0("number"==typeof t?bt.cursor(t):t,r.y,r.x,r.yMargin,r.xMargin))}static domEventHandlers(t){return oi.define(()=>({}),{eventHandlers:t})}static theme(t,r){let i=cc.newName(),s=[F0.of(i),nm.of(Zx(`.${i}`,t))];return r&&r.dark&&s.push(Gx.of(!0)),s}static baseTheme(t){return Pd.lowest(nm.of(Zx("."+Wx,t,_I)))}static findFromDOM(t){var r;let i=t.querySelector(".cm-content");return(null===(r=(i&&Fr.get(i)||Fr.get(t))?.rootView)||void 0===r?void 0:r.view)||null}}return n.styleModule=nm,n.inputHandler=Mk,n.focusChangeEffect=Ak,n.perLineTextDirection=kk,n.exceptionSink=Tk,n.updateListener=Lx,n.editable=T0,n.mouseSelectionStyle=_k,n.dragMovesSelection=Ek,n.clickAddsSelectionRange=Ck,n.decorations=tm,n.atomicRanges=Nk,n.scrollMargins=Lk,n.darkTheme=Gx,n.contentAttributes=M0,n.editorAttributes=Rk,n.lineWrapping=n.contentAttributes.of({class:"cm-lineWrapping"}),n.announce=Qn.define(),n})();const KH=4096,AI={};class Q0{constructor(e,t,r,i){this.from=e,this.to=t,this.dir=r,this.order=i}static update(e,t){if(t.empty)return e;let r=[],i=e.length?e[e.length-1].dir:Kr.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let a=e[s];a.dir==i&&!t.touchesRange(a.from,a.to)&&r.push(new Q0(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.order))}return r}}function kI(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],a="function"==typeof s?s(n):s;a&&kx(a,t)}return t}const JH=rn.mac?"mac":rn.windows?"win":rn.linux?"linux":"key";function $0(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),!1!==t&&e.shiftKey&&(n="Shift-"+n),n}const B0=tn.define({enables:Pd.default(_n.domEventHandlers({keydown:(n,e)=>RI(PI(e.state),n,e,"editor")}))}),II=new WeakMap;function PI(n){let e=n.facet(B0),t=II.get(e);return t||II.set(e,t=function iX(n,e=JH){let t=Object.create(null),r=Object.create(null),i=(a,c)=>{let f=r[a];if(null==f)r[a]=c;else if(f!=c)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},s=(a,c,f,m)=>{var O,x;let P=t[a]||(t[a]=Object.create(null)),U=c.split(/ (?!$)/).map(Ie=>function eX(n,e){const t=n.split(/-(?!$)/);let i,s,a,c,r=t[t.length-1];"Space"==r&&(r=" ");for(let f=0;f<t.length-1;++f){const m=t[f];if(/^(cmd|meta|m)$/i.test(m))c=!0;else if(/^a(lt)?$/i.test(m))i=!0;else if(/^(c|ctrl|control)$/i.test(m))s=!0;else if(/^s(hift)?$/i.test(m))a=!0;else{if(!/^mod$/i.test(m))throw new Error("Unrecognized modifier name: "+m);"mac"==e?c=!0:s=!0}}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),c&&(r="Meta-"+r),a&&(r="Shift-"+r),r}(Ie,e));for(let Ie=1;Ie<U.length;Ie++){let Be=U.slice(0,Ie).join(" ");i(Be,!0),P[Be]||(P[Be]={preventDefault:!0,run:[nt=>{let We=gc={view:nt,prefix:Be,scope:a};return setTimeout(()=>{gc==We&&(gc=null)},4e3),!0}]})}let re=U.join(" ");i(re,!1);let Se=P[re]||(P[re]={preventDefault:!1,run:(null===(x=null===(O=P._any)||void 0===O?void 0:O.run)||void 0===x?void 0:x.slice())||[]});f&&Se.run.push(f),m&&(Se.preventDefault=!0)};for(let a of n){let c=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let m of c){let O=t[m]||(t[m]=Object.create(null));O._any||(O._any={preventDefault:!1,run:[]});for(let x in O)O[x].run.push(a.any)}let f=a[e]||a.key;if(f)for(let m of c)s(m,f,a.run,a.preventDefault),a.shift&&s(m,"Shift-"+f,a.shift,a.preventDefault)}return t}(e.reduce((r,i)=>r.concat(i),[]))),t}let gc=null;function RI(n,e,t,r){let i=function U3(n){var t=!(V3&&(n.ctrlKey||n.altKey||n.metaKey)||B3&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?Yg:dc)[n.keyCode]||n.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(e),a=Ko(ss(i,0))==i.length&&" "!=i,c="",f=!1;gc&&gc.view==t&&gc.scope==r&&(c=gc.prefix+" ",(f=nI.indexOf(e.keyCode)<0)&&(gc=null));let P,U,m=new Set,O=re=>{if(re){for(let Se of re.run)if(!m.has(Se)&&(m.add(Se),Se(t,e)))return!0;re.preventDefault&&(f=!0)}return!1},x=n[r];if(x){if(O(x[c+$0(i,e,!a)]))return!0;if(a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(rn.windows&&e.ctrlKey&&e.altKey)&&(P=dc[e.keyCode])&&P!=i){if(O(x[c+$0(P,e,!0)]))return!0;if(e.shiftKey&&(U=Yg[e.keyCode])!=i&&U!=P&&O(x[c+$0(U,e,!1)]))return!0}else if(a&&e.shiftKey&&O(x[c+$0(i,e,!0)]))return!0;if(O(x._any))return!0}return f}class im{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=NI(e);return[new im(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}return function sX(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==Kr.LTR,a=n.contentDOM,c=a.getBoundingClientRect(),f=NI(n),m=a.querySelector(".cm-line"),O=m&&window.getComputedStyle(m),x=c.left+(O?parseInt(O.paddingLeft)+Math.min(0,parseInt(O.textIndent)):0),P=c.right-(O?parseInt(O.paddingRight):0),U=FI(n,r),re=FI(n,i),Se=U.type==Er.Text?U:null,Ie=re.type==Er.Text?re:null;if(n.lineWrapping&&(Se&&(Se=LI(n,r,Se)),Ie&&(Ie=LI(n,i,Ie))),Se&&Ie&&Se.from==Ie.from)return nt(We(t.from,t.to,Se));{let Pt=Se?We(t.from,null,Se):ft(U,!1),Rt=Ie?We(null,t.to,Ie):ft(re,!0),gn=[];return(Se||U).to<(Ie||re).from-1?gn.push(Be(x,Pt.bottom,P,Rt.top)):Pt.bottom<Rt.top&&n.elementAtHeight((Pt.bottom+Rt.top)/2).type==Er.Text&&(Pt.bottom=Rt.top=(Pt.bottom+Rt.top)/2),nt(Pt).concat(gn).concat(nt(Rt))}function Be(Pt,Rt,gn,kr){return new im(e,Pt-f.left,Rt-f.top-.01,gn-Pt,kr-Rt+.01)}function nt({top:Pt,bottom:Rt,horizontal:gn}){let kr=[];for(let $n=0;$n<gn.length;$n+=2)kr.push(Be(gn[$n],Pt,gn[$n+1],Rt));return kr}function We(Pt,Rt,gn){let kr=1e9,$n=-1e9,Xn=[];function $r(go,ds,Ms,Ll,mo){let Ci=n.coordsAtPos(go,go==gn.to?-2:2),Wi=n.coordsAtPos(Ms,Ms==gn.from?2:-2);kr=Math.min(Ci.top,Wi.top,kr),$n=Math.max(Ci.bottom,Wi.bottom,$n),mo==Kr.LTR?Xn.push(s&&ds?x:Ci.left,s&&Ll?P:Wi.right):Xn.push(!s&&Ll?x:Wi.left,!s&&ds?P:Ci.right)}let Qi=Pt??gn.from,Ts=Rt??gn.to;for(let go of n.visibleRanges)if(go.to>Qi&&go.from<Ts)for(let ds=Math.max(go.from,Qi),Ms=Math.min(go.to,Ts);;){let Ll=n.state.doc.lineAt(ds);for(let mo of n.bidiSpans(Ll)){let Ci=mo.from+Ll.from,Wi=mo.to+Ll.from;if(Ci>=Ms)break;Wi>ds&&$r(Math.max(Ci,ds),null==Pt&&Ci<=Qi,Math.min(Wi,Ms),null==Rt&&Wi>=Ts,mo.dir)}if(ds=Ll.to+1,ds>=Ms)break}return 0==Xn.length&&$r(Qi,null==Pt,Ts,null==Rt,n.textDirection),{top:kr,bottom:$n,horizontal:Xn}}function ft(Pt,Rt){let gn=c.top+(Rt?Pt.top:Pt.bottom);return{top:gn,bottom:gn,horizontal:[]}}}(e,t,r)}}function NI(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Kr.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function LI(n,e,t){let r=bt.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(r,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(r,!0,!0).from),type:Er.Text}}function FI(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type))for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==Er.Text))return r;return t}class aX{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(V0)!=e.state.facet(V0)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(V0);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!function oX(n,e){return n.constructor==e.constructor&&n.eq(e)}(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const V0=tn.define();function QI(n){return[oi.define(e=>new aX(e,n)),V0.of(n)]}const $I=!rn.ios,sm=tn.define({combine:n=>Na(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function lX(n={}){return[sm.of(n),uX,cX,dX,Ik.of(!0)]}function BI(n){return n.startState.facet(sm)!=n.state.facet(sm)}const uX=QI({above:!0,markers(n){let{state:e}=n,t=e.facet(sm),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||$I:t.drawRangeCursor){let a=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=i.empty?i:bt.cursor(i.head,i.head>i.anchor?-1:1);for(let f of im.forRange(n,a,c))r.push(f)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName="cm-blink"==e.style.animationName?"cm-blink2":"cm-blink");let t=BI(n);return t&&VI(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){VI(e.state,n)},class:"cm-cursorLayer"});function VI(n,e){e.style.animationDuration=n.facet(sm).cursorBlinkRate+"ms"}const cX=QI({above:!1,markers:n=>n.state.selection.ranges.map(e=>e.empty?[]:im.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t)),update:(n,e)=>n.docChanged||n.selectionSet||n.viewportChanged||BI(n),class:"cm-selectionLayer"}),UI={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};$I&&(UI[".cm-line"].caretColor="transparent !important");const dX=Pd.highest(_n.theme(UI)),zI=Qn.define({map:(n,e)=>null==n?null:e.mapPos(n)}),om=Di.define({create:()=>null,update:(n,e)=>(null!=n&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(zI)?r.value:t,n))}),fX=oi.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(om);null==t?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(om)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let n=this.view.state.field(om),e=null!=n&&this.view.coordsAtPos(n);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(n){this.cursor&&(n?(this.cursor.style.left=n.left+"px",this.cursor.style.top=n.top+"px",this.cursor.style.height=n.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(om)!=n&&this.view.dispatch({effects:zI.of(n)})}},{eventHandlers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function jI(n,e,t,r,i){e.lastIndex=0;for(let c,s=n.iterRange(t,r),a=t;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;c=e.exec(s.value);)i(a+c.index,c)}class qx{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:a=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(c,f,m,O)=>i(O,m,m+c[0].length,c,f);else if("function"==typeof r)this.addMatch=(c,f,m,O)=>{let x=r(c,f,m);x&&O(m,m+c[0].length,x)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(c,f,m,O)=>O(m,m+c[0].length,r)}this.boundary=s,this.maxLength=a}createDeco(e){let t=new uc,r=t.add.bind(t);for(let{from:i,to:s}of function pX(n,e){let t=n.visibleRanges;if(1==t.length&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}(e,this.maxLength))jI(e.state.doc,this.regexp,i,s,(a,c)=>this.addMatch(c,e,a,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,a,c,f)=>{f>e.view.viewport.from&&c<e.view.viewport.to&&(r=Math.min(c,r),i=Math.max(f,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let a=Math.max(s.from,r),c=Math.min(s.to,i);if(c>a){let f=e.state.doc.lineAt(a),m=f.to<c?e.state.doc.lineAt(c):f,O=Math.max(s.from,f.from),x=Math.min(s.to,m.to);if(this.boundary){for(;a>f.from;a--)if(this.boundary.test(f.text[a-1-f.from])){O=a;break}for(;c<m.to;c++)if(this.boundary.test(m.text[c-m.from])){x=c;break}}let U,P=[],re=(Se,Ie,Be)=>P.push(Be.range(Se,Ie));if(f==m)for(this.regexp.lastIndex=O-f.from;(U=this.regexp.exec(f.text))&&U.index<x-f.from;)this.addMatch(U,e,U.index+f.from,re);else jI(e.state.doc,this.regexp,O,x,(Se,Ie)=>this.addMatch(Ie,e,Se,re));t=t.update({filterFrom:O,filterTo:x,filter:(Se,Ie)=>Se<O||Ie>x,add:P})}}return t}}const Kx=null!=/x/.unicode?"gu":"g",gX=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",Kx),mX={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Jx=null;const U0=tn.define({combine(n){let e=Na(n,{render:null,specialChars:gX,addSpecialChars:null});return(e.replaceTabs=!function vX(){var n;if(null==Jx&&typeof document<"u"&&document.body){let e=document.body.style;Jx=null!=(null!==(n=e.tabSize)&&void 0!==n?n:e.MozTabSize)}return Jx||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,Kx)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Kx)),e}});function yX(n={}){return[U0.of(n),HI||(HI=oi.fromClass(class{constructor(n){this.view=n,this.decorations=sn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(U0)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new qx({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=ss(e[0],0);if(9==s){let a=i.lineAt(r),c=t.state.tabSize,f=Zg(a.text,c,r-a.from);return sn.replace({widget:new xX((c-f%c)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=sn.replace({widget:new SX(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(U0);n.startState.facet(U0)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))]}let HI=null;class SX extends gu{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function wX(n){return n>=32?"\u2022":10==n?"\u2424":String.fromCharCode(9216+n)}(this.code),r=e.state.phrase("Control character")+" "+(mX[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class xX extends gu{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const CX=sn.line({class:"cm-activeLine"}),EX=oi.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(CX.range(i.from)),e=i.from)}return sn.set(t)}},{decorations:n=>n.decorations});function GI(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>2e3?-1:i==r.length?function MX(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}(n,e.clientX):Zg(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function kX(n){let e=n?.eventFilter||(t=>t.altKey&&0==t.button);return _n.mouseSelectionStyle.of((t,r)=>e(r)?function AX(n,e){let t=GI(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),a=i.state.doc.lineAt(s);t={line:a.number,col:t.col,off:Math.min(t.off,a.length)},r=r.map(i.changes)}},get(i,s,a){let c=GI(n,i);if(!c)return r;let f=function TX(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>2e3||t.off>2e3||e.col<0||t.col<0){let a=Math.min(e.off,t.off),c=Math.max(e.off,t.off);for(let f=r;f<=i;f++){let m=n.doc.line(f);m.length<=c&&s.push(bt.range(m.from+a,m.to+c))}}else{let a=Math.min(e.col,t.col),c=Math.max(e.col,t.col);for(let f=r;f<=i;f++){let m=n.doc.line(f),O=Ox(m.text,a,n.tabSize,!0);if(O<0)s.push(bt.cursor(m.to));else{let x=Ox(m.text,c,n.tabSize);s.push(bt.range(m.from+O,m.from+x))}}}return s}(n.state,t,c);return f.length?bt.create(a?f.concat(r.ranges):f):r}}:null}(t,r):null)}const IX={Alt:[18,n=>n.altKey],Control:[17,n=>n.ctrlKey],Shift:[16,n=>n.shiftKey],Meta:[91,n=>n.metaKey]},PX={style:"cursor: crosshair"};function RX(n={}){let[e,t]=IX[n.key||"Alt"],r=oi.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventHandlers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,_n.contentAttributes.of(i=>{var s;return null!==(s=i.plugin(r))&&void 0!==s&&s.isDown?PX:null})]}const z0="-10000px";class WI{constructor(e,t,r){this.facet=t,this.createTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(r)}update(e){var t;let r=e.state.facet(this.facet),i=r.filter(a=>a);if(r===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let s=[];for(let a=0;a<i.length;a++){let c=i[a],f=-1;if(c){for(let m=0;m<this.tooltips.length;m++){let O=this.tooltips[m];O&&O.create==c.create&&(f=m)}if(f<0)s[a]=this.createTooltipView(c);else{let m=s[a]=this.tooltipViews[f];m.update&&m.update(e)}}}for(let a of this.tooltipViews)s.indexOf(a)<0&&(a.dom.remove(),null===(t=a.destroy)||void 0===t||t.call(a));return this.input=r,this.tooltips=i,this.tooltipViews=s,!0}}function NX(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const j0=tn.define({combine:n=>{var e,t,r;return{position:rn.ios?"absolute":(null===(e=n.find(i=>i.position))||void 0===e?void 0:e.position)||"fixed",parent:(null===(t=n.find(i=>i.parent))||void 0===t?void 0:t.parent)||null,tooltipSpace:(null===(r=n.find(i=>i.tooltipSpace))||void 0===r?void 0:r.tooltipSpace)||NX}}}),ZI=new WeakMap,t1=oi.fromClass(class{constructor(n){this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(j0);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new WI(n,H0,t=>this.createTooltip(t)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(j0);if(r.position!=this.position){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=z0,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),null===(n=t.destroy)||void 0===n||n.call(t);null===(e=this.intersectionObserver)||void 0===e||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((e,t)=>{let r=this.manager.tooltipViews[t];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(j0).tooltipSpace(this.view)}}writeMeasure(n){var e;let{editor:t,space:r}=n,i=[];for(let s=0;s<this.manager.tooltips.length;s++){let a=this.manager.tooltips[s],c=this.manager.tooltipViews[s],{dom:f}=c,m=n.pos[s],O=n.size[s];if(!m||m.bottom<=Math.max(t.top,r.top)||m.top>=Math.min(t.bottom,r.bottom)||m.right<Math.max(t.left,r.left)-.1||m.left>Math.min(t.right,r.right)+.1){f.style.top=z0;continue}let x=a.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,P=x?7:0,U=O.right-O.left,re=null!==(e=ZI.get(c))&&void 0!==e?e:O.bottom-O.top,Se=c.offset||FX,Ie=this.view.textDirection==Kr.LTR,Be=O.width>r.right-r.left?Ie?r.left:r.right-O.width:Ie?Math.min(m.left-(x?14:0)+Se.x,r.right-U):Math.max(r.left,m.left-U+(x?14:0)-Se.x),nt=!!a.above;!a.strictSide&&(nt?m.top-(O.bottom-O.top)-Se.y<r.top:m.bottom+(O.bottom-O.top)+Se.y>r.bottom)&&nt==r.bottom-m.bottom>m.top-r.top&&(nt=!nt);let We=(nt?m.top-r.top:r.bottom-m.bottom)-P;if(We<re&&!1!==c.resize){if(We<this.view.defaultLineHeight){f.style.top=z0;continue}ZI.set(c,re),f.style.height=(re=We)+"px"}else f.style.height&&(f.style.height="");let ft=nt?m.top-re-P-Se.y:m.bottom+P+Se.y,Pt=Be+U;if(!0!==c.overlap)for(let Rt of i)Rt.left<Pt&&Rt.right>Be&&Rt.top<ft+re&&Rt.bottom>ft&&(ft=nt?Rt.top-re-2-P:Rt.bottom+P+2);"absolute"==this.position?(f.style.top=ft-n.parent.top+"px",f.style.left=Be-n.parent.left+"px"):(f.style.top=ft+"px",f.style.left=Be+"px"),x&&(x.style.left=m.left+(Ie?Se.x:-Se.x)-(Be+14-7)+"px"),!0!==c.overlap&&i.push({left:Be,top:ft,right:Pt,bottom:ft+re}),f.classList.toggle("cm-tooltip-above",nt),f.classList.toggle("cm-tooltip-below",!nt),c.positioned&&c.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=z0}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),FX={x:0,y:0},H0=tn.define({enables:[t1,_n.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),am=tn.define();class n1{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new WI(e,am,t=>this.createHostedView(t))}static create(e){return new n1(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}}const QX=H0.compute([am],n=>{let e=n.facet(am).filter(t=>t);return 0===e.length?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>null!=t.end).map(t=>t.end)),create:n1.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class $X{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==t)return;let r=this.view.coordsAtPos(t);if(null==r||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(c=>c.from<=t&&c.to>=t),s=i&&i.dir==Kr.RTL?-1:1,a=this.source(this.view,t,e.x<r.left?-s:s);if(a?.then){let c=this.pending={pos:t};a.then(f=>{this.pending==c&&(this.pending=null,f&&this.view.dispatch({effects:this.setHover.of(f)}))},f=>Ro(this.view.state,f,"hover tooltip"))}else a&&this.view.dispatch({effects:this.setHover.of(a)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!YI(this.lastMove.target)||this.pending){let{pos:i}=r||this.pending,s=null!==(t=r?.end)&&void 0!==t?t:i;(i==s?this.view.posAtCoords(this.lastMove)!=i:!function BX(n,e,t,r,i,s){let a=document.createRange(),c=n.domAtPos(e),f=n.domAtPos(t);a.setEnd(f.node,f.offset),a.setStart(c.node,c.offset);let m=a.getClientRects();a.detach();for(let O=0;O<m.length;O++){let x=m[O];if(Math.max(x.top-i,i-x.bottom,x.left-r,r-x.right)<=s)return!0}return!1}(this.view,i,s,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!YI(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function YI(n){for(let e=n;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip"))return!0;return!1}function VX(n,e={}){let t=Qn.define(),r=Di.define({create:()=>null,update(i,s){if(i&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,i)))return null;if(i&&s.docChanged){let a=s.changes.mapPos(i.pos,-1,os.TrackDel);if(null==a)return null;let c=Object.assign(Object.create(null),i);c.pos=a,null!=i.end&&(c.end=s.changes.mapPos(i.end)),i=c}for(let a of s.effects)a.is(t)&&(i=a.value),a.is(zX)&&(i=null);return i},provide:i=>am.from(i)});return[r,oi.define(i=>new $X(i,n,r,t,e.hoverTime||300)),QX]}const zX=Qn.define(),r1=tn.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function lm(n,e){let t=n.plugin(qI),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const qI=oi.fromClass(class{constructor(n){this.input=n.state.facet(um),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(r1);this.top=new X0(n,!0,e.topContainer),this.bottom=new X0(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(r1);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new X0(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new X0(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(um);if(t!=this.input){let r=t.filter(f=>f),i=[],s=[],a=[],c=[];for(let f of r){let O,m=this.specs.indexOf(f);m<0?(O=f(n.view),c.push(O)):(O=this.panels[m],O.update&&O.update(n)),i.push(O),(O.top?s:a).push(O)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(a);for(let f of c)f.dom.classList.add("cm-panel"),f.mount&&f.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>_n.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class X0{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=KI(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=KI(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function KI(n){let e=n.nextSibling;return n.remove(),e}const um=tn.define({enables:qI});class El extends Rd{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}El.prototype.elementClass="",El.prototype.toDOM=void 0,El.prototype.mapMode=os.TrackBefore,El.prototype.startSide=El.prototype.endSide=-1,El.prototype.point=!0;const G0=tn.define(),jX={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>qr.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},cm=tn.define();function JI(n){return[eP(),cm.of(Object.assign(Object.assign({},jX),n))]}const s1=tn.define({combine:n=>n.some(e=>e)});function eP(n){let e=[HX];return n&&!1===n.fixed&&e.push(s1.of(!0)),e}const HX=oi.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(cm).map(e=>new rP(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(s1),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<.8*(t.to-t.from))}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(s1)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=qr.iter(this.view.state.facet(G0),this.view.viewport.from),r=[],i=this.gutters.map(s=>new XX(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks){let a;if(Array.isArray(s.type)){for(let c of s.type)if(c.type==Er.Text){a=c;break}}else a=s.type==Er.Text?s:void 0;if(a){r.length&&(r=[]),nP(t,r,s.from);for(let c of i)c.line(this.view,a,r)}}for(let s of i)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(cm),t=n.state.facet(cm),r=n.docChanged||n.heightChanged||n.viewportChanged||!qr.eq(n.startState.facet(G0),n.state.facet(G0),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let a=e.indexOf(s);a<0?i.push(new rP(this.view,s)):(this.gutters[a].update(n),i.push(this.gutters[a]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>_n.scrollMargins.of(e=>{let t=e.plugin(n);return t&&0!=t.gutters.length&&t.fixed?e.textDirection==Kr.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}:null})});function tP(n){return Array.isArray(n)?n:[n]}function nP(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class XX{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=qr.iter(e.markers,t.from)}line(e,t,r){let i=[];nP(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let a=this.gutter;if(0==i.length&&!a.config.renderEmptyElements)return;let c=t.top-this.height;if(this.i==a.elements.length){let f=new iP(e,t.height,c,i);a.elements.push(f),a.dom.appendChild(f.dom)}else a.elements[this.i].update(e,t.height,c,i);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class rP{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let a,s=i.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let f=s.getBoundingClientRect();a=(f.top+f.bottom)/2}else a=i.clientY;let c=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[r](e,c,i)&&i.preventDefault()});this.markers=tP(t.markers(e)),t.initialSpacer&&(this.spacer=new iP(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=tP(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!qr.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class iP{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function GX(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,a=0;;){let c=a,f=s<t.length?t[s++]:null,m=!1;if(f){let O=f.elementClass;O&&(r+=" "+O);for(let x=a;x<this.markers.length;x++)if(this.markers[x].compare(f)){c=x,m=!0;break}}else c=this.markers.length;for(;a<c;){let O=this.markers[a++];if(O.toDOM){O.destroy(i);let x=i.nextSibling;i.remove(),i=x}}if(!f)break;f.toDOM&&(m?i=i.nextSibling:this.dom.insertBefore(f.toDOM(e),i)),m&&a++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}const WX=tn.define(),Mh=tn.define({combine:n=>Na(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],a=t[i];r[i]=s?(c,f,m)=>s(c,f,m)||a(c,f,m):a}return r}})});class o1 extends El{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function a1(n,e){return n.state.facet(Mh).formatNumber(e,n.state)}const ZX=cm.compute([Mh],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(WX),lineMarker:(e,t,r)=>r.some(i=>i.toDOM)?null:new o1(a1(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(Mh)!=e.state.facet(Mh),initialSpacer:e=>new o1(a1(e,sP(e.state.doc.lines))),updateSpacer(e,t){let r=a1(t.view,sP(t.view.state.doc.lines));return r==e.number?e:new o1(r)},domEventHandlers:n.facet(Mh).domEventHandlers}));function YX(n={}){return[Mh.of(n),eP(),ZX]}function sP(n){let e=9;for(;e<n;)e=10*e+9;return e}const qX=new class extends El{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},KX=G0.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(qX.range(i)))}return qr.of(e)}),lP=1024;let rG=0;class Jo{constructor(e,t){this.from=e,this.to=t}}class Rn{constructor(e={}){this.id=rG++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=Xs.match(e)),t=>{let r=e(t);return void 0===r?null:[this,r]}}}Rn.closedBy=new Rn({deserialize:n=>n.split(" ")}),Rn.openedBy=new Rn({deserialize:n=>n.split(" ")}),Rn.group=new Rn({deserialize:n=>n.split(" ")}),Rn.contextHash=new Rn({perNode:!0}),Rn.lookAhead=new Rn({perNode:!0}),Rn.mounted=new Rn({perNode:!0});const sG=Object.create(null);class Xs{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):sG,i=new Xs(e.name||"",t,e.id,(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0));if(e.props)for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(Rn.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Rn.group),s=-1;s<(i?i.length:0);s++){let a=t[s<0?r.name:i[s]];if(a)return a}}}}Xs.none=new Xs("",Object.create(null),0,8);class W0{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let a=s(r);a&&(i||(i=Object.assign({},r.props)),i[a[0].id]=a[1])}t.push(i?new Xs(r.name,i,r.id,r.flags):r)}return new W0(t)}}const Z0=new WeakMap,uP=new WeakMap;var Qr=(()=>{return(n=Qr||(Qr={}))[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays",Qr;var n})();class ei{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,c]of s)this.props["number"==typeof a?a:a.id]=c}}toString(){let e=this.prop(Rn.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new dm(this.topNode,e)}cursorAt(e,t=0,r=0){let i=Z0.get(this)||this.topNode,s=new dm(i);return s.moveTo(e,t),Z0.set(this,s._tree),s}get topNode(){return new ea(this,0,0,null)}resolve(e,t=0){let r=Ah(Z0.get(this)||this.topNode,e,t,!1);return Z0.set(this,r),r}resolveInner(e,t=0){let r=Ah(uP.get(this)||this.topNode,e,t,!0);return uP.set(this,r),r}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e;for(let a=this.cursor((e.mode||0)|Qr.IncludeAnonymous);;){let c=!1;if(a.from<=s&&a.to>=i&&(a.type.isAnonymous||!1!==t(a))){if(a.firstChild())continue;c=!0}for(;c&&r&&!a.type.isAnonymous&&r(a),!a.nextSibling();){if(!a.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:c1(Xs.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new ei(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new ei(Xs.none,t,r,i)))}static build(e){return function aG(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=lP,reused:s=[],minRepeatType:a=r.types.length}=n,c=Array.isArray(t)?new l1(t,t.length):t,f=r.types,m=0,O=0;function x(ft,Pt,Rt,gn,kr){let{id:$n,start:Xn,end:$r,size:Qi}=c,Ts=O;for(;Qi<0;){if(c.next(),-1==Qi)return Rt.push(s[$n]),void gn.push(Xn-ft);if(-3==Qi)return void(m=$n);if(-4==Qi)return void(O=$n);throw new RangeError(`Unrecognized record size: ${Qi}`)}let ds,Ms,go=f[$n],Ll=Xn-ft;if($r-Xn<=i&&(Ms=function Se(ft,Pt){let Rt=c.fork(),gn=0,kr=0,$n=0,Xn=Rt.end-i,$r={size:0,start:0,skip:0};e:for(let Qi=Rt.pos-ft;Rt.pos>Qi;){let Ts=Rt.size;if(Rt.id==Pt&&Ts>=0){$r.size=gn,$r.start=kr,$r.skip=$n,$n+=4,gn+=4,Rt.next();continue}let go=Rt.pos-Ts;if(Ts<0||go<Qi||Rt.start<Xn)break;let ds=Rt.id>=a?4:0,Ms=Rt.start;for(Rt.next();Rt.pos>go;){if(Rt.size<0){if(-3!=Rt.size)break e;ds+=4}else Rt.id>=a&&(ds+=4);Rt.next()}kr=Ms,gn+=Ts,$n+=ds}return(Pt<0||gn==ft)&&($r.size=gn,$r.start=kr,$r.skip=$n),$r.size>4?$r:void 0}(c.pos-Pt,kr))){let mo=new Uint16Array(Ms.size-Ms.skip),Ci=c.pos-Ms.size,Wi=mo.length;for(;c.pos>Ci;)Wi=Ie(Ms.start,mo,Wi);ds=new Qd(mo,$r-Ms.start,r),Ll=Ms.start-ft}else{let mo=c.pos-Qi;c.next();let Ci=[],Wi=[],Zd=$n>=a?$n:-1,Wh=0,KO=$r;for(;c.pos>mo;)Zd>=0&&c.id==Zd&&c.size>=0?(c.end<=KO-i&&(U(Ci,Wi,Xn,Wh,c.end,KO,Zd,Ts),Wh=Ci.length,KO=c.end),c.next()):x(Xn,mo,Ci,Wi,Zd);if(Zd>=0&&Wh>0&&Wh<Ci.length&&U(Ci,Wi,Xn,Wh,Xn,KO,Zd,Ts),Ci.reverse(),Wi.reverse(),Zd>-1&&Wh>0){let b2=function P(ft){return(Pt,Rt,gn)=>{let Xn,$r,kr=0,$n=Pt.length-1;if($n>=0&&(Xn=Pt[$n])instanceof ei){if(!$n&&Xn.type==ft&&Xn.length==gn)return Xn;($r=Xn.prop(Rn.lookAhead))&&(kr=Rt[$n]+Xn.length+$r)}return re(ft,Pt,Rt,gn,kr)}}(go);ds=c1(go,Ci,Wi,0,Ci.length,0,$r-Xn,b2,b2)}else ds=re(go,Ci,Wi,$r-Xn,Ts-$r)}Rt.push(ds),gn.push(Ll)}function U(ft,Pt,Rt,gn,kr,$n,Xn,$r){let Qi=[],Ts=[];for(;ft.length>gn;)Qi.push(ft.pop()),Ts.push(Pt.pop()+Rt-kr);ft.push(re(r.types[Xn],Qi,Ts,$n-kr,$r-$n)),Pt.push(kr-Rt)}function re(ft,Pt,Rt,gn,kr=0,$n){if(m){let Xn=[Rn.contextHash,m];$n=$n?[Xn].concat($n):[Xn]}if(kr>25){let Xn=[Rn.lookAhead,kr];$n=$n?[Xn].concat($n):[Xn]}return new ei(ft,Pt,Rt,gn,$n)}function Ie(ft,Pt,Rt){let{id:gn,start:kr,end:$n,size:Xn}=c;if(c.next(),Xn>=0&&gn<a){let $r=Rt;if(Xn>4){let Qi=c.pos-(Xn-4);for(;c.pos>Qi;)Rt=Ie(ft,Pt,Rt)}Pt[--Rt]=$r,Pt[--Rt]=$n-ft,Pt[--Rt]=kr-ft,Pt[--Rt]=gn}else-3==Xn?m=gn:-4==Xn&&(O=gn);return Rt}let Be=[],nt=[];for(;c.pos>0;)x(n.start||0,n.bufferStart||0,Be,nt,-1);let We=null!==(e=n.length)&&void 0!==e?e:Be.length?nt[0]+Be[0].length:0;return new ei(f[n.topID],Be.reverse(),nt.reverse(),We)}(e)}}ei.empty=new ei(Xs.none,[],[],0);class l1{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new l1(this.buffer,this.index)}}class Qd{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Xs.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let r=this.buffer[e+3],i=this.set.types[this.buffer[e]],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),r==(e+=4))return s;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return s+"("+a.join(",")+")"}findChild(e,t,r,i,s){let{buffer:a}=this,c=-1;for(let f=e;f!=t&&!(cP(s,i,a[f+1],a[f+2])&&(c=f,r>0));f=a[f+3]);return c}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),a=0;for(let c=e,f=0;c<t;){s[f++]=i[c++],s[f++]=i[c++]-r;let m=s[f++]=i[c++]-r;s[f++]=i[c++]-e,a=Math.max(a,m)}return new Qd(s,a,this.set)}}function cP(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function dP(n,e){let t=n.childBefore(e);for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(n=t,t=r.prevSibling):t=r}return n}function Ah(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let a=!r&&n instanceof ea&&n.index<0?null:n.parent;if(!a)return n;n=a}let s=r?0:Qr.IgnoreOverlays;if(r)for(let a=n,c=a.parent;c;a=c,c=a.parent)a instanceof ea&&a.index<0&&(null===(i=c.enter(e,t,s))||void 0===i?void 0:i.from)!=a.from&&(n=c);for(;;){let a=n.enter(e,t,s);if(!a)return n;n=a}}class ea{constructor(e,t,r,i){this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let a=this;;){for(let{children:c,positions:f}=a._tree,m=t>0?c.length:-1;e!=m;e+=t){let O=c[e],x=f[e]+a.from;if(cP(i,r,x,x+O.length))if(O instanceof Qd){if(s&Qr.ExcludeBuffers)continue;let P=O.findChild(0,O.buffer.length,t,r-x,i);if(P>-1)return new _l(new oG(a,O,e,x),null,P)}else if(s&Qr.IncludeAnonymous||!O.type.isAnonymous||u1(O)){let P;if(!(s&Qr.IgnoreMounts)&&O.props&&(P=O.prop(Rn.mounted))&&!P.overlay)return new ea(P.tree,x,e,a);let U=new ea(O,x,e,a);return s&Qr.IncludeAnonymous||!U.type.isAnonymous?U:U.nextChild(t<0?O.children.length-1:0,t,r,i)}}if(s&Qr.IncludeAnonymous||!a.type.isAnonymous||(e=a.index>=0?a.index+t:t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Qr.IgnoreOverlays)&&(i=this._tree.prop(Rn.mounted))&&i.overlay){let s=e-this.from;for(let{from:a,to:c}of i.overlay)if((t>0?a<=s:a<s)&&(t<0?c>=s:c>s))return new ea(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new dm(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Ah(this,e,t,!1)}resolveInner(e,t=0){return Ah(this,e,t,!0)}enterUnfinishedNodesBefore(e){return dP(this,e)}getChild(e,t=null,r=null){let i=Y0(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return Y0(this,e,t,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return q0(this,e)}}function Y0(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(null!=t)for(;!i.type.is(t);)if(!i.nextSibling())return s;for(;;){if(null!=r&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return null==r?s:[]}}function q0(n,e,t=e.length-1){for(let r=n.parent;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class oG{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class _l{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new _l(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Qr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new _l(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new _l(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new _l(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new dm(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];return s>i&&(e.push(r.slice(i,s,r.buffer[this.index+1])),t.push(0)),new ei(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Ah(this,e,t,!1)}resolveInner(e,t=0){return Ah(this,e,t,!0)}enterUnfinishedNodesBefore(e){return dP(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,r=null){let i=Y0(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return Y0(this,e,t,r)}get node(){return this}matchContext(e){return q0(this,e)}}class dm{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ea)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return!!e&&(e instanceof ea?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return!(s<0)&&(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?!(r&Qr.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Qr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Qr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;({index:t,_parent:r}=r))if(t>-1)for(let s=t+e,a=e<0?-1:r._tree.children.length;s!=a;s+=e){let c=r._tree.children[s];if(this.mode&Qr.IncludeAnonymous||c instanceof Qd||!c.type.isAnonymous||u1(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;t=a,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new _l(this.buffer,t,this.stack[i]);return this.bufferNode=new _l(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&t&&t(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return q0(this.node,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return q0(this.node,e,i);let a=r[t.buffer[this.stack[s]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function u1(n){return n.children.some(e=>e instanceof Qd||!e.type.isAnonymous||u1(e))}const fP=new WeakMap;function K0(n,e){if(!n.isAnonymous||e instanceof Qd||e.type!=n)return 1;let t=fP.get(e);if(null==t){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof ei)){t=1;break}t+=K0(n,r)}fP.set(e,t)}return t}function c1(n,e,t,r,i,s,a,c,f){let m=0;for(let re=r;re<i;re++)m+=K0(n,e[re]);let O=Math.ceil(1.5*m/8),x=[],P=[];return function U(re,Se,Ie,Be,nt){for(let We=Ie;We<Be;){let ft=We,Pt=Se[We],Rt=K0(n,re[We]);for(We++;We<Be;We++){let gn=K0(n,re[We]);if(Rt+gn>=O)break;Rt+=gn}if(We==ft+1){if(Rt>O){let gn=re[ft];U(gn.children,gn.positions,0,gn.children.length,Se[ft]+nt);continue}x.push(re[ft])}else x.push(c1(n,re,Se,ft,We,Pt,Se[We-1]+re[We-1].length-Pt,null,f));P.push(Pt+nt-s)}}(e,t,r,i,0),(c||f)(x,P,a)}class lG{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof _l?this.setBuffer(e.context.buffer,e.index,t):e instanceof ea&&this.map.set(e.tree,t)}get(e){return e instanceof _l?this.getBuffer(e.context.buffer,e.index):e instanceof ea?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class vu{constructor(e,t,r,i,s=!1,a=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(a?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],r=!1){let i=[new vu(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,a=e.length?e[0]:null;for(let c=0,f=0,m=0;;c++){let O=c<t.length?t[c]:null,x=O?O.fromA:1e9;if(x-f>=r)for(;a&&a.from<x;){let P=a;if(f>=P.from||x<=P.to||m){let U=Math.max(P.from,f)-m,re=Math.min(P.to,x)-m;P=U>=re?null:new vu(U,re,P.tree,P.offset+m,c>0,!!O)}if(P&&i.push(P),a.to>x)break;a=s<e.length?e[s++]:null}if(!O)break;f=O.toA,m=O.toA-O.toB}return i}}class hP{startParse(e,t,r){return"string"==typeof e&&(e=new uG(e)),r=r?r.length?r.map(i=>new Jo(i.from,i.to)):[new Jo(0,0)]:[new Jo(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}}class uG{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Rn({perNode:!0});class J0{constructor(e,t,r,i,s,a,c,f,m,O=0,x){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=s,this.score=a,this.buffer=c,this.bufferBase=f,this.curContext=m,this.lookAhead=O,this.parent=x}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new J0(e,[],t,r,r,0,[],0,i?new OP(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=65535&e,{parser:s}=this.p,a=s.dynamicPrecedence(i);if(a&&(this.score+=a),0==r)return this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),void this.reduceContext(i,this.reducePos);let c=this.stack.length-3*(r-1)-(262144&e?6:0),f=c?this.stack[c-2]:this.p.ranges[0].from,m=this.reducePos-f;m>=2e3&&(null===(t=this.p.parser.nodeSet.types[i])||void 0===t||!t.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=m):this.p.lastBigReductionSize<m&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=m));let x=this.bufferBase+this.buffer.length-(c?this.stack[c-1]:0);if(i<s.minRepeatTerm||131072&e){let P=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,f,P,x+4,!0)}for(this.state=262144&e?this.stack[c]:s.getGoto(this.stack[c-3],i,!0);this.stack.length>c;)this.stack.pop();this.reduceContext(i,f)}storeNode(e,t,r,i=4,s=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,c=this.buffer.length;if(0==c&&a.parent&&(c=a.bufferBase-a.parent.bufferBase,a=a.parent),c>0&&0==a.buffer[c-4]&&a.buffer[c-1]>-1){if(t==r)return;if(a.buffer[c-2]>=t)return void(a.buffer[c-2]=r)}}if(s&&this.pos!=r){let a=this.buffer.length;if(a>0&&0!=this.buffer[a-4])for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4);this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=r,this.buffer[a+3]=i}else this.buffer.push(e,t,r,i)}shift(e,t,r){let i=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(262144&e)this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4);else{let s=e,{parser:a}=this.p;(r>this.pos||t<=a.maxNode)&&(this.pos=r,a.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(t,i),t<=a.maxNode&&this.buffer.push(t,i,r,4)}}apply(e,t,r){65536&e?this.reduce(e):this.shift(e,t,r)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new J0(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new mG(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==r)return!1;if(!(65536&r))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let a,s=0;s<t.length;s+=2)(a=t[s+1])!=this.state&&this.p.parser.hasAction(a,e)&&i.push(t[s],a);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let a=t[s+1];i.some((c,f)=>1&f&&c==a)||i.push(t[s],a)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let a=this.split();a.pushState(s,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[i],this.pos),a.score-=200,r.push(a)}return r}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let s=this.stack.length-3*(e>>19);if(s<0||t.getGoto(this.stack[s],65535&e,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new OP(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class OP{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class mG{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,r=e>>19;0==r?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(r-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class eO{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new eO(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new eO(this.stack,this.pos,this.index)}}function fm(n,e=Uint16Array){if("string"!=typeof n)return n;let t=null;for(let r=0,i=0;r<n.length;){let s=0;for(;;){let a=n.charCodeAt(r++),c=!1;if(126==a){s=65535;break}a>=92&&a--,a>=34&&a--;let f=a-32;if(f>=46&&(f-=46,c=!0),s+=f,c)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class tO{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const bP=new tO;class vG{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=bP,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let a=this.ranges[--i];s-=r.from-a.to,r=a}for(;t<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];s+=a.from-r.to,r=a}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let r,i,t=this.chunkOff+e;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(null==s)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,c=this.range;for(;c.to<=r;)c=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(null==r||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos);this.chunk=this.pos+e.length>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.next=this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?-1:this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=bP,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class kh{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;wP(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}kh.prototype.contextual=kh.prototype.fallback=kh.prototype.extend=!1;class f1{constructor(e,t,r){this.precTable=t,this.elseToken=r,this.data="string"==typeof e?fm(e):e}token(e,t){let i,r=e.pos;for(;i=e.pos,wP(this.data,e,t,0,this.data,this.precTable),!(e.token.value>-1);){if(null==this.elseToken)return;if(e.next<0)break;e.advance(),e.reset(i+1,e.token)}i>r&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i-r))}}f1.prototype.contextual=kh.prototype.fallback=kh.prototype.extend=!1;class h1{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function wP(n,e,t,r,i,s){let a=0,c=1<<r,{dialect:f}=t.p.parser;e:for(;c&n[a];){let m=n[a+1];for(let U=a+3;U<m;U+=2)if((n[U+1]&c)>0){let re=n[U];if(f.allows(re)&&(-1==e.token.value||e.token.value==re||yG(re,e.token.value,i,s))){e.acceptToken(re);break}}let O=e.next,x=0,P=n[a+2];if(!(e.next<0&&P>x&&65535==n[m+3*P-3]&&65535==n[m+3*P-3])){for(;x<P;){let U=x+P>>1,re=m+U+(U<<1);if(O<n[re])P=U;else{if(!(O>=(n[re+1]||65536))){a=n[re+2],e.advance();continue e}x=U+1}}break}a=n[m+3*P-1]}}function SP(n,e,t){for(let i,r=e;65535!=(i=n[r]);r++)if(i==t)return r-e;return-1}function yG(n,e,t,r){let i=SP(t,r,e);return i<0||SP(t,r,n)<i}const Fa=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let p1=null;function xP(n,e,t){let r=n.cursor(Qr.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class OG{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?xP(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?xP(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],a=this.start[t]+r.positions[i];if(a>e)return this.nextStart=a,null;if(s instanceof ei){if(a==e){if(a<this.safeFrom)return null;let c=a+s.length;if(c<=this.safeTo){let f=s.prop(Rn.lookAhead);if(!f||c+f<this.fragment.to)return s}}this.index[t]++,a+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+s.length}}}class bG{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new tO)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,a=i.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,f=0;for(let m=0;m<s.length;m++){if(!(1<<m&a))continue;let O=s[m],x=this.tokens[m];if((!r||O.fallback)&&((O.contextual||x.start!=e.pos||x.mask!=a||x.context!=c)&&(this.updateCachedToken(x,O,e),x.mask=a,x.context=c),x.lookAhead>x.end+25&&(f=Math.max(x.lookAhead,f)),0!=x.value)){let P=t;if(x.extended>-1&&(t=this.addActions(e,x.extended,x.end,t)),t=this.addActions(e,x.value,x.end,t),!O.extend&&(r=x,t>P))break}}for(;this.actions.length>t;)this.actions.pop();return f&&e.setLookAhead(f),!r&&e.pos==this.stream.end&&(r=new tO,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new tO,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let a=0;a<s.specialized.length;a++)if(s.specialized[a]==e.value){let c=s.specializers[a](this.stream.read(e.start,e.end),r);if(c>=0&&r.p.parser.dialect.allows(c>>1)){1&c?e.extended=c>>1:e.value=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:s}=e,{parser:a}=e.p,{data:c}=a;for(let f=0;f<2;f++)for(let m=a.stateSlot(s,f?2:1);;m+=3){if(65535==c[m]){if(1!=c[m+1]){0==i&&2==c[m+1]&&(i=this.putAction(yu(c,m+2),t,r,i));break}m=yu(c,m+2)}c[m]==t&&(i=this.putAction(yu(c,m+1),t,r,i))}return i}}class wG{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new vG(t,i),this.tokens=new bG(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[J0.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>4*e.bufferLength?new OG(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let i,s,e=this.stacks,t=this.minStackPos,r=this.stacks=[];if(this.bigReductionCount>300&&1==e.length){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let c=e[a];for(;;){if(this.tokens.mainToken=null,c.pos>t)r.push(c);else{if(this.advanceStack(c,r,e))continue;{i||(i=[],s=[]),i.push(c);let f=this.tokens.getMainToken(c);s.push(f.value,f.end)}}break}}if(!r.length){let a=i&&function DG(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||null!=r&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}(i);if(a)return this.stackToTree(a);if(this.parser.strict)throw Fa&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=null!=this.stoppedAt&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(a)return this.stackToTree(a.forceAll())}if(this.recovering){let a=1==this.recovering?1:3*this.recovering;if(r.length>a)for(r.sort((c,f)=>f.score-c.score);r.length>a;)r.pop();r.some(c=>c.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let c=r[a];for(let f=a+1;f<r.length;f++){let m=r[f];if(c.sameState(m)||c.buffer.length>500&&m.buffer.length>500){if(!((c.score-m.score||c.buffer.length-m.buffer.length)>0)){r.splice(a--,1);continue e}r.splice(f--,1)}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:s}=this,a=Fa?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let m=e.curContext&&e.curContext.tracker.strict,O=m?e.curContext.hash:0;for(let x=this.fragments.nodeAt(i);x;){let P=this.parser.nodeSet.types[x.type.id]==x.type?s.getGoto(e.state,x.type.id):-1;if(P>-1&&x.length&&(!m||(x.prop(Rn.contextHash)||0)==O))return e.useNode(x,P),Fa&&console.log(a+this.stackID(e)+` (via reuse of ${s.getName(x.type.id)})`),!0;if(!(x instanceof ei)||0==x.children.length||x.positions[0]>0)break;let U=x.children[0];if(!(U instanceof ei&&0==x.positions[0]))break;x=U}}let c=s.stateSlot(e.state,4);if(c>0)return e.reduce(c),Fa&&console.log(a+this.stackID(e)+` (via always-reduce ${s.getName(65535&c)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let f=this.tokens.getActions(e);for(let m=0;m<f.length;){let O=f[m++],x=f[m++],P=f[m++],U=m==f.length||!r,re=U?e:e.split();if(re.apply(O,x,P),Fa&&console.log(a+this.stackID(re)+` (via ${65536&O?`reduce of ${s.getName(65535&O)}`:"shift"} for ${s.getName(x)} @ ${i}${re==e?"":", split"})`),U)return!0;re.pos>i?t.push(re):r.push(re)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return DP(e,t),!0}}runRecovery(e,t,r){let i=null,s=!1;for(let a=0;a<e.length;a++){let c=e[a],f=t[a<<1],m=t[1+(a<<1)],O=Fa?this.stackID(c)+" -> ":"";if(c.deadEnd&&(s||(s=!0,c.restart(),Fa&&console.log(O+this.stackID(c)+" (restarted)"),this.advanceFully(c,r))))continue;let x=c.split(),P=O;for(let U=0;x.forceReduce()&&U<10&&(Fa&&console.log(P+this.stackID(x)+" (via force-reduce)"),!this.advanceFully(x,r));U++)Fa&&(P=this.stackID(x)+" -> ");for(let U of c.recoverByInsert(f))Fa&&console.log(O+this.stackID(U)+" (via recover-insert)"),this.advanceFully(U,r);this.stream.end>c.pos?(m==c.pos&&(m++,f=0),c.recoverByDelete(f,m),Fa&&console.log(O+this.stackID(c)+` (via recover-delete ${this.parser.getName(f)})`),DP(c,r)):(!i||i.score<c.score)&&(i=c)}return i}stackToTree(e){return e.close(),ei.build({buffer:eO.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(p1||(p1=new WeakMap)).get(e);return t||p1.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function DP(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n))return void(e[t].score<n.score&&(e[t]=n))}e.push(n)}class SG{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||0==this.disabled[e]}}const g1=n=>n;class nO extends hP{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let r=Object.keys(e.topRules).map(c=>e.topRules[c][1]),i=[];for(let c=0;c<t.length;c++)i.push([]);function s(c,f,m){i[c].push([f,f.deserialize(String(m))])}if(e.nodeProps)for(let c of e.nodeProps){let f=c[0];"string"==typeof f&&(f=Rn[f]);for(let m=1;m<c.length;){let O=c[m++];if(O>=0)s(O,f,c[m++]);else{let x=c[m+-O];for(let P=-O;P>0;P--)s(c[m++],f,x);m++}}}this.nodeSet=new W0(t.map((c,f)=>Xs.define({name:f>=this.minRepeatTerm?void 0:c,id:f,props:i[f],top:r.indexOf(f)>-1,error:0==f,skipped:e.skippedNodes&&e.skippedNodes.indexOf(f)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=lP;let a=fm(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(CP),this.states=fm(e.states,Uint32Array),this.data=fm(e.stateData),this.goto=fm(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>"number"==typeof c?new kh(a,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new wG(this,e,t,r);for(let s of this.wrappers)i=s(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let a=i[s++],c=1&a,f=i[s++];if(c&&r)return f;for(let m=s+(a>>1);s<m;s++)if(i[s]==e)return f;if(c)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let a,s=this.stateSlot(e,i?2:1);;s+=3){if(65535==(a=r[s])){if(1!=r[s+1]){if(2==r[s+1])return yu(r,s+2);break}a=r[s=yu(r,s+2)]}if(a==t||0==a)return yu(r,s+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])return!1;r=yu(this.data,r+2)}if(t==yu(this.data,r+1))return!0}}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=yu(this.data,r+2)}if(!(1&this.data[r+2])){let i=this.data[r+1];t.some((s,a)=>1&a&&s==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(nO.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(c=>c.from==r.external);if(!s)return r;let a=Object.assign(Object.assign({},r),{external:s.to});return t.specializers[i]=CP(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let s of e.split(" ")){let a=t.indexOf(s);a>=0&&(r[a]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!r[s])for(let c,a=this.dialects[t[s]];65535!=(c=this.data[a++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[c]=1;return new SG(e,r,i)}static deserialize(e){return new nO(e)}}function yu(n,e){return n[e]|n[e+1]<<16}function CP(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}let CG=0;class Tl{constructor(e,t,r){this.set=e,this.base=t,this.modified=r,this.id=CG++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let t=new Tl([],null,[]);if(t.set.push(t),e)for(let r of e.set)t.set.push(r);return t}static defineModifier(){let e=new rO;return t=>t.modified.indexOf(e)>-1?t:rO.get(t.base||t,t.modified.concat(e).sort((r,i)=>r.id-i.id))}}let EG=0;class rO{constructor(){this.instances=[],this.id=EG++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(c=>c.base==e&&function _G(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}(t,c.modified));if(r)return r;let i=[],s=new Tl(i,e,t);for(let c of t)c.instances.push(s);let a=function TG(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}(t);for(let c of e.set)if(!c.modified.length)for(let f of a)i.push(rO.get(c,f));return s}}function EP(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let s=[],a=2,c=i;for(let x=0;;){if("..."==c&&x>0&&x+3==i.length){a=1;break}let P=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!P)throw new RangeError("Invalid path: "+i);if(s.push("*"==P[0]?"":'"'==P[0][0]?JSON.parse(P[0]):P[0]),x+=P[0].length,x==i.length)break;let U=i[x++];if(x==i.length&&"!"==U){a=0;break}if("/"!=U)throw new RangeError("Invalid path: "+i);c=i.slice(x)}let f=s.length-1,m=s[f];if(!m)throw new RangeError("Invalid path: "+i);let O=new iO(r,a,f>0?s.slice(0,f):null);e[m]=O.sort(e[m])}}return _P.add(e)}const _P=new Rn;class iO{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function TP(n,e){let t=Object.create(null);for(let s of n)if(Array.isArray(s.tag))for(let a of s.tag)t[a.id]=s.class;else t[s.tag.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let a=i;for(let c of s)for(let f of c.set){let m=t[f.id];if(m){a=a?a+" "+m:m;break}}return a},scope:r}}function AG(n,e,t,r=0,i=n.length){let s=new kG(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,"",s.highlighters),s.flush(i)}iO.empty=new iO([],2,null);class kG{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:a,from:c,to:f}=e;if(c>=r||f<=t)return;a.isTop&&(s=this.highlighters.filter(U=>!U.scope||U.scope(a)));let m=i,O=function IG(n){let e=n.type.prop(_P);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}(e)||iO.empty,x=function MG(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}(s,O.tags);if(x&&(m&&(m+=" "),m+=x,1==O.mode&&(i+=(i?" ":"")+x)),this.startSpan(e.from,m),O.opaque)return;let P=e.tree&&e.tree.prop(Rn.mounted);if(P&&P.overlay){let U=e.node.enter(P.overlay[0].from+c,1),re=this.highlighters.filter(Ie=>!Ie.scope||Ie.scope(P.tree.type)),Se=e.firstChild();for(let Ie=0,Be=c;;Ie++){let nt=Ie<P.overlay.length?P.overlay[Ie]:null,We=nt?nt.from+c:f,ft=Math.max(t,Be),Pt=Math.min(r,We);if(ft<Pt&&Se)for(;e.from<Pt&&(this.highlightRange(e,ft,Pt,i,s),this.startSpan(Math.min(Pt,e.to),m),!(e.to>=We)&&e.nextSibling()););if(!nt||We>r)break;Be=nt.to+c,Be>t&&(this.highlightRange(U.cursor(),Math.max(t,nt.from+c),Math.min(r,Be),i,re),this.startSpan(Be,m))}Se&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),m)}}while(e.nextSibling());e.parent()}}}const Ut=Tl.define,sO=Ut(),mc=Ut(),MP=Ut(mc),AP=Ut(mc),vc=Ut(),oO=Ut(vc),m1=Ut(vc),Ml=Ut(),$d=Ut(Ml),Al=Ut(),kl=Ut(),v1=Ut(),hm=Ut(v1),aO=Ut(),Ee={comment:sO,lineComment:Ut(sO),blockComment:Ut(sO),docComment:Ut(sO),name:mc,variableName:Ut(mc),typeName:MP,tagName:Ut(MP),propertyName:AP,attributeName:Ut(AP),className:Ut(mc),labelName:Ut(mc),namespace:Ut(mc),macroName:Ut(mc),literal:vc,string:oO,docString:Ut(oO),character:Ut(oO),attributeValue:Ut(oO),number:m1,integer:Ut(m1),float:Ut(m1),bool:Ut(vc),regexp:Ut(vc),escape:Ut(vc),color:Ut(vc),url:Ut(vc),keyword:Al,self:Ut(Al),null:Ut(Al),atom:Ut(Al),unit:Ut(Al),modifier:Ut(Al),operatorKeyword:Ut(Al),controlKeyword:Ut(Al),definitionKeyword:Ut(Al),moduleKeyword:Ut(Al),operator:kl,derefOperator:Ut(kl),arithmeticOperator:Ut(kl),logicOperator:Ut(kl),bitwiseOperator:Ut(kl),compareOperator:Ut(kl),updateOperator:Ut(kl),definitionOperator:Ut(kl),typeOperator:Ut(kl),controlOperator:Ut(kl),punctuation:v1,separator:Ut(v1),bracket:hm,angleBracket:Ut(hm),squareBracket:Ut(hm),paren:Ut(hm),brace:Ut(hm),content:Ml,heading:$d,heading1:Ut($d),heading2:Ut($d),heading3:Ut($d),heading4:Ut($d),heading5:Ut($d),heading6:Ut($d),contentSeparator:Ut(Ml),list:Ut(Ml),quote:Ut(Ml),emphasis:Ut(Ml),strong:Ut(Ml),link:Ut(Ml),monospace:Ut(Ml),strikethrough:Ut(Ml),inserted:Ut(),deleted:Ut(),changed:Ut(),invalid:Ut(),meta:aO,documentMeta:Ut(aO),annotation:Ut(aO),processingInstruction:Ut(aO),definition:Tl.defineModifier(),constant:Tl.defineModifier(),function:Tl.defineModifier(),standard:Tl.defineModifier(),local:Tl.defineModifier(),special:Tl.defineModifier()},QG=(TP([{tag:Ee.link,class:"tok-link"},{tag:Ee.heading,class:"tok-heading"},{tag:Ee.emphasis,class:"tok-emphasis"},{tag:Ee.strong,class:"tok-strong"},{tag:Ee.keyword,class:"tok-keyword"},{tag:Ee.atom,class:"tok-atom"},{tag:Ee.bool,class:"tok-bool"},{tag:Ee.url,class:"tok-url"},{tag:Ee.labelName,class:"tok-labelName"},{tag:Ee.inserted,class:"tok-inserted"},{tag:Ee.deleted,class:"tok-deleted"},{tag:Ee.literal,class:"tok-literal"},{tag:Ee.string,class:"tok-string"},{tag:Ee.number,class:"tok-number"},{tag:[Ee.regexp,Ee.escape,Ee.special(Ee.string)],class:"tok-string2"},{tag:Ee.variableName,class:"tok-variableName"},{tag:Ee.local(Ee.variableName),class:"tok-variableName tok-local"},{tag:Ee.definition(Ee.variableName),class:"tok-variableName tok-definition"},{tag:Ee.special(Ee.variableName),class:"tok-variableName2"},{tag:Ee.definition(Ee.propertyName),class:"tok-propertyName tok-definition"},{tag:Ee.typeName,class:"tok-typeName"},{tag:Ee.namespace,class:"tok-namespace"},{tag:Ee.className,class:"tok-className"},{tag:Ee.macroName,class:"tok-macroName"},{tag:Ee.propertyName,class:"tok-propertyName"},{tag:Ee.operator,class:"tok-operator"},{tag:Ee.comment,class:"tok-comment"},{tag:Ee.meta,class:"tok-meta"},{tag:Ee.invalid,class:"tok-invalid"},{tag:Ee.punctuation,class:"tok-punctuation"}]),[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288]),zG=new class xG{constructor(e){this.start=e.start,this.shift=e.shift||g1,this.reduce=e.reduce||g1,this.reuse=e.reuse||g1,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}({start:!1,shift:(n,e)=>3==e||4==e||305==e?n:306==e,strict:!1}),jG=new h1((n,e)=>{let{next:t}=n;(125==t||-1==t||e.context)&&e.canShift(303)&&n.acceptToken(303)},{contextual:!0,fallback:!0}),HG=new h1((n,e)=>{let r,{next:t}=n;QG.indexOf(t)>-1||47==t&&(47==(r=n.peek(1))||42==r)||125!=t&&59!=t&&-1!=t&&!e.context&&e.canShift(302)&&n.acceptToken(302)},{contextual:!0}),XG=new h1((n,e)=>{let{next:t}=n;if((43==t||45==t)&&(n.advance(),t==n.next)){n.advance();let r=!e.context&&e.canShift(1);n.acceptToken(r?1:2)}},{contextual:!0}),GG=EP({"get set async static":Ee.modifier,"for while do if else switch try catch finally return throw break continue default case":Ee.controlKeyword,"in of await yield void typeof delete instanceof":Ee.operatorKeyword,"let var const function class extends":Ee.definitionKeyword,"import export from":Ee.moduleKeyword,"with debugger as new":Ee.keyword,TemplateString:Ee.special(Ee.string),super:Ee.atom,BooleanLiteral:Ee.bool,this:Ee.self,null:Ee.null,Star:Ee.modifier,VariableName:Ee.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Ee.function(Ee.variableName),VariableDefinition:Ee.definition(Ee.variableName),Label:Ee.labelName,PropertyName:Ee.propertyName,PrivatePropertyName:Ee.special(Ee.propertyName),"CallExpression/MemberExpression/PropertyName":Ee.function(Ee.propertyName),"FunctionDeclaration/VariableDefinition":Ee.function(Ee.definition(Ee.variableName)),"ClassDeclaration/VariableDefinition":Ee.definition(Ee.className),PropertyDefinition:Ee.definition(Ee.propertyName),PrivatePropertyDefinition:Ee.definition(Ee.special(Ee.propertyName)),UpdateOp:Ee.updateOperator,LineComment:Ee.lineComment,BlockComment:Ee.blockComment,Number:Ee.number,String:Ee.string,Escape:Ee.escape,ArithOp:Ee.arithmeticOperator,LogicOp:Ee.logicOperator,BitOp:Ee.bitwiseOperator,CompareOp:Ee.compareOperator,RegExp:Ee.regexp,Equals:Ee.definitionOperator,Arrow:Ee.function(Ee.punctuation),": Spread":Ee.punctuation,"( )":Ee.paren,"[ ]":Ee.squareBracket,"{ }":Ee.brace,"InterpolationStart InterpolationEnd":Ee.special(Ee.brace),".":Ee.derefOperator,", ;":Ee.separator,"@":Ee.meta,TypeName:Ee.typeName,TypeDefinition:Ee.definition(Ee.typeName),"type enum interface implements namespace module declare":Ee.definitionKeyword,"abstract global Privacy readonly override":Ee.modifier,"is keyof unique infer":Ee.operatorKeyword,JSXAttributeValue:Ee.attributeValue,JSXText:Ee.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Ee.angleBracket,"JSXIdentifier JSXNameSpacedName":Ee.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Ee.attributeName,"JSXBuiltin/JSXIdentifier":Ee.standard(Ee.tagName)}),WG={__proto__:null,export:14,as:19,from:27,default:30,async:35,function:36,extends:46,this:50,true:58,false:58,null:70,void:74,typeof:78,super:96,new:130,delete:146,yield:155,await:159,class:164,public:221,private:221,protected:221,readonly:223,instanceof:242,satisfies:245,in:246,const:248,import:280,keyof:335,unique:339,infer:345,is:381,abstract:401,implements:403,type:405,let:408,var:410,interface:417,enum:421,namespace:427,module:429,declare:433,global:437,for:458,of:467,while:470,with:474,do:478,if:482,else:484,switch:488,case:494,try:500,catch:504,finally:508,return:512,throw:516,break:520,continue:524,debugger:528},ZG={__proto__:null,async:117,get:119,set:121,declare:181,public:183,private:183,protected:183,static:185,abstract:187,override:189,readonly:195,accessor:197,new:385},YG={__proto__:null,"<":137},qG=nO.deserialize({version:14,states:"$EnO`QUOOO%QQUOOO'TQWOOP(bOSOOO*pQ(CjO'#CfO*wOpO'#CgO+VO!bO'#CgO+eO07`O'#DZO-vQUO'#DaO.WQUO'#DlO%QQUO'#DvO0_QUO'#EOOOQ(CY'#EW'#EWO0uQSO'#ETOOQO'#I`'#I`O0}QSO'#GkOOQO'#Ei'#EiO1YQSO'#EhO1_QSO'#EhO3aQ(CjO'#JcO6QQ(CjO'#JdO6nQSO'#FWO6sQ#tO'#FoOOQ(CY'#F`'#F`O7OO&jO'#F`O7^Q,UO'#FvO8tQSO'#FuOOQ(CY'#Jd'#JdOOQ(CW'#Jc'#JcOOQQ'#J}'#J}O8yQSO'#IPO9OQ(C[O'#IQOOQQ'#JP'#JPOOQQ'#IU'#IUQ`QUOOO%QQUO'#DnO9WQUO'#DzO%QQUO'#D|O9_QSO'#GkO9dQ,UO'#ClO9rQSO'#EgO9}QSO'#ErO:SQ,UO'#F_O:qQSO'#GkO:vQSO'#GoO;RQSO'#GoO;aQSO'#GrO;aQSO'#GsO;aQSO'#GuO9_QSO'#GxO<QQSO'#G{O=cQSO'#CbO=sQSO'#HYO={QSO'#H`O={QSO'#HbO`QUO'#HdO={QSO'#HfO={QSO'#HiO>QQSO'#HoO>VQ(C]O'#HuO%QQUO'#HwO>bQ(C]O'#HyO>mQ(C]O'#H{O9OQ(C[O'#H}O>xQ(CjO'#CfO?zQWO'#DfQOQSOOO@bQSO'#EPO9dQ,UO'#EgO@mQSO'#EgO@xQ`O'#F_OOQQ'#Cd'#CdOOQ(CW'#Dk'#DkOOQ(CW'#Jg'#JgO%QQUO'#JgOBUQWO'#E`OOQ(CW'#E_'#E_OB`Q(C`O'#E`OBzQWO'#ESOOQO'#Jj'#JjOC`QWO'#ESOCmQWO'#E`ODTQWO'#EfODWQWO'#E`ODqQWO'#E`OAQQWO'#E`OBzQWO'#E`PEbO?MpO'#C`POOO)CDn)CDnOOOO'#IV'#IVOEmOpO,59ROOQ(CY,59R,59ROOOO'#IW'#IWOE{O!bO,59RO%QQUO'#D]OOOO'#IY'#IYOFZO07`O,59uOOQ(CY,59u,59uOFiQUO'#IZOF|QSO'#JeOIOQbO'#JeO+sQUO'#JeOIVQSO,59{OImQSO'#EiOIzQSO'#JrOJVQSO'#JqOJVQSO'#JqOJ_QSO,5;VOJdQSO'#JpOOQ(CY,5:W,5:WOJkQUO,5:WOLlQ(CjO,5:bOM]QSO,5:jOMbQSO'#JnON[Q(C[O'#JoO:vQSO'#JnONcQSO'#JnONkQSO,5;UONpQSO'#JnOOQ(CY'#Cf'#CfO%QQUO'#EOO! dQ`O,5:oOOQO'#Jk'#JkOOQO-E<^-E<^O9_QSO,5=VO! zQSO,5=VO!!PQUO,5;SO!$SQ,UO'#EdO!%gQSO,5;SO!'PQ,UO'#DpO!'WQUO'#DuO!'bQWO,5;]O!'jQWO,5;]O%QQUO,5;]OOQQ'#FO'#FOOOQQ'#FQ'#FQO%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^OOQQ'#FU'#FUO!'xQUO,5;oOOQ(CY,5;t,5;tOOQ(CY,5;u,5;uO!){QSO,5;uOOQ(CY,5;v,5;vO%QQUO'#IfO!*TQ(C[O,5<cO!$SQ,UO,5;^O!*rQ,UO,5;^O%QQUO,5;rO!*yQ#tO'#FeO!+vQ#tO'#JvO!+bQ#tO'#JvO!+}Q#tO'#JvOOQO'#Jv'#JvO!,cQ#tO,5;}OOOO,5<Z,5<ZO!,tQUO'#FqOOOO'#Ie'#IeO7OO&jO,5;zO!,{Q#tO'#FsOOQ(CY,5;z,5;zO!-lQ7[O'#CrOOQ(CY'#Cv'#CvO!.PQSO'#CvO!.UO07`O'#CzO!.rQ,UO,5<`O!.yQSO,5<bO!0`QMhO'#GQO!0mQSO'#GRO!0rQSO'#GRO!0wQMhO'#GVO!1vQWO'#GZO!2iQ7[O'#J^OOQ(CY'#J^'#J^O!2sQSO'#J]O!3RQSO'#J[O!3ZQSO'#CqOOQ(CY'#Ct'#CtOOQ(CY'#DO'#DOOOQ(CY'#DQ'#DQO0xQSO'#DSO!%lQ,UO'#FxO!%lQ,UO'#FzO!3cQSO'#F|O!3hQSO'#F}O!0rQSO'#GTO!%lQ,UO'#GYO!3mQSO'#EjO!4XQSO,5<aO`QUO,5>kOOQQ'#JX'#JXOOQQ,5>l,5>lOOQQ-E<S-E<SO!6WQ(CjO,5:YO!8tQ(CjO,5:fO%QQUO,5:fO!;_Q(CjO,5:hOOQ(CW'#Co'#CoO!<OQ,UO,5=VO!<^Q(C[O'#JYO8tQSO'#JYO!<oQ(C[O,59WO!<zQWO,59WO!=SQ,UO,59WO9dQ,UO,59WO!=_QSO,5;SO!=gQSO'#HXO!=xQSO'#KRO%QQUO,5;wO!>QQWO,5;yO!>VQSO,5=rO!>[QSO,5=rO!>aQSO,5=rO9OQ(C[O,5=rO!>oQSO'#EkO!?iQWO'#ElOOQ(CW'#Jp'#JpO!?pQ(C[O'#KOO9OQ(C[O,5=ZO;aQSO,5=aOOQO'#Cr'#CrO!?{QWO,5=^O!@TQ,UO,5=_O!@`QSO,5=aO!@eQ`O,5=dO>QQSO'#G}O9_QSO'#HPO!@mQSO'#HPO9dQ,UO'#HSO!@rQSO'#HSOOQQ,5=g,5=gO!@wQSO'#HTO!APQSO'#ClO!AUQSO,58|O!A`QSO,58|O!ChQUO,58|OOQQ,58|,58|O!CuQ(C[O,58|O%QQUO,58|O!DQQUO'#H[OOQQ'#H]'#H]OOQQ'#H^'#H^O`QUO,5=tO!DbQSO,5=tO`QUO,5=zO`QUO,5=|O!DgQSO,5>OO`QUO,5>QO!DlQSO,5>TO!DqQUO,5>ZOOQQ,5>a,5>aO%QQUO,5>aO9OQ(C[O,5>cOOQQ,5>e,5>eO!HxQSO,5>eOOQQ,5>g,5>gO!HxQSO,5>gOOQQ,5>i,5>iO!H}QWO'#DXO%QQUO'#JgO!IlQWO'#JgO!JZQWO'#DgO!JlQWO'#DgO!L}QUO'#DgO!MUQSO'#JfO!M^QSO,5:QO!McQSO'#EmO!MqQSO'#JsO!MyQSO,5;WO!NOQWO'#DgO!N]QWO'#EROOQ(CY,5:k,5:kO%QQUO,5:kO!NdQSO,5:kO>QQSO,5;RO!<zQWO,5;RO!=SQ,UO,5;RO9dQ,UO,5;RO!NlQSO,5@RO!NqQ!LQO,5:oO# wQ(C`O,5:zOBzQWO,5:nO#!cQWO,5:nO#!pQWO,5:zO##WQWO,5:zO##qQWO,5:zO#$bQWO,5:zOBzQWO,5:zO!<oQ(C[O,5:nOOQ(CW'#Ec'#EcOOQO,5:z,5:zO%QQUO,5:zO#%UQ(C[O,5:zO#%aQ(C[O,5:zO!<zQWO,5:nOOQO,5;Q,5;QO#%oQ(C[O,5:zPOOO'#IT'#ITP#&TO?MpO,58zPOOO,58z,58zOOOO-E<T-E<TOOQ(CY1G.m1G.mOOOO-E<U-E<UO#&`Q`O,59wOOOO-E<W-E<WOOQ(CY1G/a1G/aO#&eQbO,5>uO+sQUO,5>uOOQO,5>{,5>{O#&oQUO'#IZOOQO-E<X-E<XO#&|QSO,5@PO#'UQbO,5@PO#']QSO,5@]OOQ(CY1G/g1G/gO%QQUO,5@^O#'eQSO'#IaOOQO-E<_-E<_O#']QSO,5@]OOQ(CW1G0q1G0qOOQ(CY1G/r1G/rOOQ(CY1G0U1G0UO#'yQSO,5@YO:vQSO,5@YO#(RQSO,5@YO%QQUO,5@ZO#(aQ(C[O,5@ZO#(rQ(C[O,5@ZO#(yQSO'#IcO#'yQSO,5@YOOQ(CW1G0p1G0pO!'bQWO,5:qO!'mQWO,5:qOOQO,5:s,5:sO#)hQSO,5:sO#)pQ,UO1G2qO9_QSO1G2qOOQ(CY1G0n1G0nO#*OQ(CjO1G0nO#+TQ(ChO,5;OOOQ(CY'#GP'#GPO#+qQ(CjO'#J^O!!PQUO1G0nO#-yQ,UO'#JhO#.TQSO,5:[O#.YQbO'#JiO%QQUO'#JiO#.dQSO,5:aOOQ(CY'#DX'#DXOOQ(CY1G0w1G0wO%QQUO1G0wOOQ(CY1G1a1G1aO#.iQSO1G0wO#1QQ(CjO1G0xO#1XQ(CjO1G0xO#3rQ(CjO1G0xO#3yQ(CjO1G0xO#6TQ(CjO1G0xO#6kQ(CjO1G0xO#9eQ(CjO1G0xO#9lQ(CjO1G0xO#<VQ(CjO1G0xO#<^Q(CjO1G0xO#>UQ(CjO1G0xO#AUQ$IUO'#CfO#CSQ$IUO1G1ZO#EQQ$IUO'#JdO!*OQSO1G1aO#EeQ(CjO,5?QOOQ(CW-E<d-E<dO#FXQ(CjO1G0xOOQ(CY1G0x1G0xO#HdQ(CjO1G1^O#IWQ#tO,5<RO#I`Q#tO,5<SO#IhQ#tO'#FjO#JPQSO'#FiOOQO'#Jw'#JwOOQO'#Id'#IdO#JUQ#tO1G1iOOQ(CY1G1i1G1iOOOO1G1t1G1tO#JgQ$IUO'#JcO#JqQSO,5<]O!'xQUO,5<]OOOO-E<c-E<cOOQ(CY1G1f1G1fO#JvQWO'#JvOOQ(CY,5<_,5<_O#KOQWO,5<_OOQ(CY,59b,59bO!$SQ,UO'#C|OOOO'#IX'#IXO#KTO07`O,59fOOQ(CY,59f,59fO%QQUO1G1zO!3hQSO'#IhO#K`QSO,5<sOOQ(CY,5<p,5<pOOQO'#Gf'#GfO!%lQ,UO,5=POOQO'#Gh'#GhO!%lQ,UO,5=RO!$SQ,UO,5=TOOQO1G1|1G1|O#KnQ`O'#CoO#LRQ`O,5<lO#LYQSO'#JzO9_QSO'#JzO#LhQSO,5<nO!%lQ,UO,5<mO#LmQSO'#GSO#LxQSO,5<mO#L}Q`O'#GPO#M[Q`O'#J{O#MfQSO'#J{O!$SQ,UO'#J{O#MkQSO,5<qO#MpQWO'#G[O!1qQWO'#G[O#NRQSO'#G^O#NWQSO'#G`O!0rQSO'#GcO#N]Q(C[O'#IjO#NhQWO,5<uOOQ(CY,5<u,5<uO#NoQWO'#G[O#N}QWO'#G]O$ VQWO'#G]OOQ(CY,5=U,5=UO!%lQ,UO,5?wO!%lQ,UO,5?wO$ [QSO'#IkO$ gQSO,5?vO$ oQSO,59]O$!`Q,UO,59nOOQ(CY,59n,59nO$#RQ,UO,5<dO$#tQ,UO,5<fO?rQSO,5<hOOQ(CY,5<i,5<iO$$OQSO,5<oO$$TQ,UO,5<tO!!PQUO1G1{O$$eQSO1G1{OOQQ1G4V1G4VOOQ(CY1G/t1G/tO!){QSO1G/tO$&dQ(CjO1G0QOOQQ1G2q1G2qO!$SQ,UO1G2qO%QQUO1G2qO$'TQSO1G2qO$'`Q,UO'#EdOOQ(CW,5?t,5?tO$'jQ(C[O,5?tOOQQ1G.r1G.rO!<oQ(C[O1G.rO!<zQWO1G.rO!=SQ,UO1G.rO$'{QSO1G0nO$(QQSO'#CfO$(]QSO'#KSO$(eQSO,5=sO$(jQSO'#KSO$(oQSO'#KSO$(zQSO'#IsO$)YQSO,5@mO$)bQbO1G1cOOQ(CY1G1e1G1eO9_QSO1G3^O?rQSO1G3^O$)iQSO1G3^O$)nQSO1G3^OOQQ1G3^1G3^O:vQSO'#JqO:vQSO'#EmO%QQUO'#EmO:vQSO'#ImO$)sQ(C[O,5@jOOQQ1G2u1G2uO!@`QSO1G2{O!$SQ,UO1G2xO$*OQSO1G2xOOQQ1G2y1G2yO!$SQ,UO1G2yO$*TQSO1G2yO$*]QWO'#GwOOQQ1G2{1G2{O!1qQWO'#IoO!@eQ`O1G3OOOQQ1G3O1G3OOOQQ,5=i,5=iO$*eQ,UO,5=kO9_QSO,5=kO#NWQSO,5=nO8tQSO,5=nO!<zQWO,5=nO!=SQ,UO,5=nO9dQ,UO,5=nO$*sQSO'#KQO$+OQSO,5=oOOQQ1G.h1G.hO$+TQ(C[O1G.hO?rQSO1G.hO$+`QSO1G.hO9OQ(C[O1G.hO$+kQbO,5@oO$,OQSO,5@oO$,ZQUO,5=vO$,bQSO,5=vO:vQSO,5@oOOQQ1G3`1G3`O`QUO1G3`OOQQ1G3f1G3fOOQQ1G3h1G3hO={QSO1G3jO$,gQUO1G3lO$0hQUO'#HkOOQQ1G3o1G3oO$0uQSO'#HqO>QQSO'#HsOOQQ1G3u1G3uO$0}QUO1G3uO9OQ(C[O1G3{OOQQ1G3}1G3}OOQ(CW'#GW'#GWO9OQ(C[O1G4PO9OQ(C[O1G4RO$5RQSO,5@RO!'xQUO,5;XO:vQSO,5;XO>QQSO,5:RO!'xQUO,5:RO!<zQWO,5:RO$5WQ$IUO,5:ROOQO,5;X,5;XO$5bQWO'#I[O$5xQSO,5@QOOQ(CY1G/l1G/lO$6QQWO'#IbO$6[QSO,5@_OOQ(CW1G0r1G0rO!JlQWO,5:ROOQO'#I_'#I_O$6dQWO,5:mOOQ(CY,5:m,5:mO!NgQSO1G0VOOQ(CY1G0V1G0VO%QQUO1G0VOOQ(CY1G0m1G0mO>QQSO1G0mO!<zQWO1G0mO!=SQ,UO1G0mOOQ(CW1G5m1G5mO!<oQ(C[O1G0YOOQO1G0f1G0fO%QQUO1G0fO$6kQ(C[O1G0fO$6vQ(C[O1G0fO!<zQWO1G0YOBzQWO1G0YO$7UQ(C`O1G0fO$7pQWO1G0YOBzQWO1G0fO$7}QWO1G0fO$8eQWO1G0fO$9OQWO1G0fO$9oQ(C[O1G0fOOQO1G0Y1G0YO$:TQ(CjO1G0fPOOO-E<R-E<RPOOO1G.f1G.fOOOO1G/c1G/cO$:_Q`O,5<cO$:gQbO1G4aOOQO1G4g1G4gO%QQUO,5>uO$:qQSO1G5kO$:yQSO1G5wO$;RQbO1G5xO:vQSO,5>{O$;]QSO1G5tO$;]QSO1G5tO:vQSO1G5tO$;eQ(CjO1G5uO%QQUO1G5uO$;uQ(C[O1G5uO$<WQSO,5>}O:vQSO,5>}OOQO,5>},5>}O$<lQSO,5>}OOQO-E<a-E<aOOQO1G0]1G0]OOQO1G0_1G0_O!*OQSO1G0_OOQQ7+(]7+(]O!$SQ,UO7+(]O%QQUO7+(]O$<zQSO7+(]O$=VQ,UO7+(]O$=eQ(CjO,59nO$?mQ(CjO,5<dO$AxQ(CjO,5<fO$DTQ(CjO,5<tOOQ(CY7+&Y7+&YO$FfQ(CjO7+&YO$GYQ,UO'#I]O$GdQSO,5@SOOQ(CY1G/v1G/vO$GlQUO'#I^O$GyQSO,5@TO$HRQbO,5@TOOQ(CY1G/{1G/{O$H]QSO7+&cOOQ(CY7+&c7+&cO$HbQ$IUO,5:bO%QQUO7+&uO$HlQ$IUO,5:YO$HyQ$IUO,5:fO$ITQ$IUO,5:hOOQ(CY7+&{7+&{OOQO1G1m1G1mOOQO1G1n1G1nO$I_Q#tO,5<UO!'xQUO,5<TOOQO-E<b-E<bOOQ(CY7+'T7+'TOOOO7+'`7+'`OOOO1G1w1G1wO$IjQSO1G1wOOQ(CY1G1y1G1yO$IoQ`O,59hOOOO-E<V-E<VOOQ(CY1G/Q1G/QO$IvQ(CjO7+'fOOQ(CY,5?S,5?SO$JjQSO,5?SOOQ(CY1G2_1G2_P$JoQSO'#IhPOQ(CY-E<f-E<fO$KcQ,UO1G2kO$LUQ,UO1G2mO$L`Q`O1G2oOOQ(CY1G2W1G2WO$LgQSO'#IgO$LuQSO,5@fO$LuQSO,5@fO$L}QSO,5@fO$MYQSO,5@fOOQO1G2Y1G2YO$MhQ,UO1G2XO!%lQ,UO1G2XO$MxQMhO'#IiO$NYQSO,5@gO!$SQ,UO,5@gO$NbQ`O,5@gOOQ(CY1G2]1G2]OOQ(CW,5<v,5<vOOQ(CW,5<w,5<wO$NlQSO,5<wOBuQSO,5<wO!<zQWO,5<vOOQO'#G_'#G_O$NqQSO,5<xOOQ(CW,5<z,5<zO$NlQSO,5<}OOQO,5?U,5?UOOQO-E<h-E<hOOQ(CY1G2a1G2aO!1qQWO,5<vO$NyQSO,5<wO#NRQSO,5<xO!1qQWO,5<wO% UQ,UO1G5cO% `Q,UO1G5cOOQO,5?V,5?VOOQO-E<i-E<iOOQO1G.w1G.wO!>QQWO,59pO%QQUO,59pO% mQSO1G2SO!%lQ,UO1G2ZO% rQ(CjO7+'gOOQ(CY7+'g7+'gO!!PQUO7+'gOOQ(CY7+%`7+%`O%!fQ`O'#J|O!NgQSO7+(]O%!pQbO7+(]O$<}QSO7+(]O%!wQ(ChO'#CfO%#[Q(ChO,5<{O%#|QSO,5<{OOQ(CW1G5`1G5`OOQQ7+$^7+$^O!<oQ(C[O7+$^O!<zQWO7+$^O!!PQUO7+&YO%$RQSO'#IrO%$gQSO,5@nOOQO1G3_1G3_O9_QSO,5@nO%$gQSO,5@nO%$oQSO,5@nOOQO,5?_,5?_OOQO-E<q-E<qOOQ(CY7+&}7+&}O%$tQSO7+(xO9OQ(C[O7+(xO9_QSO7+(xO?rQSO7+(xO%$yQSO,5;XOOQ(CW,5?X,5?XOOQ(CW-E<k-E<kOOQQ7+(g7+(gO%%OQ(ChO7+(dO!$SQ,UO7+(dO%%YQ`O7+(eOOQQ7+(e7+(eO!$SQ,UO7+(eO%%aQSO'#KPO%%lQSO,5=cOOQO,5?Z,5?ZOOQO-E<m-E<mOOQQ7+(j7+(jO%&{QWO'#HQOOQQ1G3V1G3VO!$SQ,UO1G3VO%QQUO1G3VO%'SQSO1G3VO%'_Q,UO1G3VO9OQ(C[O1G3YO#NWQSO1G3YO8tQSO1G3YO!<zQWO1G3YO!=SQ,UO1G3YO%'mQSO'#IqO%'xQSO,5@lO%(QQWO,5@lOOQ(CW1G3Z1G3ZOOQQ7+$S7+$SO?rQSO7+$SO9OQ(C[O7+$SO%(]QSO7+$SO%QQUO1G6ZO%QQUO1G6[O%(bQUO1G3bO%(iQSO1G3bO%(nQUO1G3bO%(uQ(C[O1G6ZOOQQ7+(z7+(zO9OQ(C[O7+)UO`QUO7+)WOOQQ'#KV'#KVOOQQ'#It'#ItO%)PQUO,5>VOOQQ,5>V,5>VO%QQUO'#HlO%)^QSO'#HnOOQQ,5>],5>]O:vQSO,5>]OOQQ,5>_,5>_OOQQ7+)a7+)aOOQQ7+)g7+)gOOQQ7+)k7+)kOOQQ7+)m7+)mO%)cQWO1G5mO%)wQ$IUO1G0sO%*RQSO1G0sOOQO1G/m1G/mO%*^Q$IUO1G/mO>QQSO1G/mO!'xQUO'#DgOOQO,5>v,5>vOOQO-E<Y-E<YOOQO,5>|,5>|OOQO-E<`-E<`O!<zQWO1G/mOOQO-E<]-E<]OOQ(CY1G0X1G0XOOQ(CY7+%q7+%qO!NgQSO7+%qOOQ(CY7+&X7+&XO>QQSO7+&XO!<zQWO7+&XOOQO7+%t7+%tO$:TQ(CjO7+&QOOQO7+&Q7+&QO%QQUO7+&QO%*hQ(C[O7+&QO!<oQ(C[O7+%tO!<zQWO7+%tO%*sQ(C[O7+&QOBzQWO7+%tO%+RQ(C[O7+&QO%+gQ(C`O7+&QO%+qQWO7+%tOBzQWO7+&QO%,OQWO7+&QO%,fQWO7+&QO%-PQSO7++`O%-PQSO7++`O%-XQ(CjO7++aO%QQUO7++aOOQO1G4i1G4iO:vQSO1G4iO%-iQSO1G4iOOQO7+%y7+%yO!NgQSO<<KwO%!pQbO<<KwO%-wQSO<<KwOOQQ<<Kw<<KwO!$SQ,UO<<KwO%QQUO<<KwO%.PQSO<<KwO%.[Q(CjO1G2kO%0gQ(CjO1G2mO%2rQ(CjO1G2XO%5TQ,UO,5>wOOQO-E<Z-E<ZO%5_QbO,5>xO%QQUO,5>xOOQO-E<[-E<[O%5iQSO1G5oOOQ(CY<<I}<<I}O%5qQ$IUO1G0nO%7{Q$IUO1G0xO%8SQ$IUO1G0xO%:WQ$IUO1G0xO%:_Q$IUO1G0xO%<SQ$IUO1G0xO%<jQ$IUO1G0xO%>}Q$IUO1G0xO%?UQ$IUO1G0xO%AYQ$IUO1G0xO%AaQ$IUO1G0xO%CXQ$IUO1G0xO%ClQ(CjO<<JaO%DqQ$IUO1G0xO%FgQ$IUO'#J^O%HjQ$IUO1G1^O%HwQ$IUO1G0QO!'xQUO'#FlOOQO'#Jx'#JxOOQO1G1p1G1pO%IRQSO1G1oO%IWQ$IUO,5?QOOOO7+'c7+'cOOOO1G/S1G/SOOQ(CY1G4n1G4nO!%lQ,UO7+(ZO%IbQSO,5?RO9_QSO,5?ROOQO-E<e-E<eO%IpQSO1G6QO%IpQSO1G6QO%IxQSO1G6QO%JTQ,UO7+'sO%JeQ`O,5?TO%JoQSO,5?TO!$SQ,UO,5?TOOQO-E<g-E<gO%JtQ`O1G6RO%KOQSO1G6ROOQ(CW1G2c1G2cO$NlQSO1G2cOOQ(CW1G2b1G2bO%KWQSO1G2dO!$SQ,UO1G2dOOQ(CW1G2i1G2iO!<zQWO1G2bOBuQSO1G2cO%K]QSO1G2dO%KeQSO1G2cO!%lQ,UO7+*}OOQ(CY1G/[1G/[O%KpQSO1G/[OOQ(CY7+'n7+'nO%KuQ,UO7+'uO%LVQ(CjO<<KROOQ(CY<<KR<<KRO!$SQ,UO'#IlO%LyQSO,5@hO!$SQ,UO1G2gOOQQ<<Gx<<GxO!<oQ(C[O<<GxO%MRQ(CjO<<ItOOQ(CY<<It<<ItOOQO,5?^,5?^O%MuQSO,5?^O$(oQSO,5?^OOQO-E<p-E<pO%MzQSO1G6YO%MzQSO1G6YO9_QSO1G6YO?rQSO<<LdOOQQ<<Ld<<LdO%NSQSO<<LdO9OQ(C[O<<LdO%NXQSO1G0sOOQQ<<LO<<LOO%%OQ(ChO<<LOOOQQ<<LP<<LPO%%YQ`O<<LPO%N^QWO'#InO%NiQSO,5@kO!'xQUO,5@kOOQQ1G2}1G2}O%NqQ(C`O'#JgO& ]QUO'#JgO& dQWO'#E`O&!QQ(C[O'#E`OB`Q(C`O'#E`O(YQWO'#HROOQO'#Ip'#IpO9OQ(C[O'#IpO&!fQWO,5=lOOQQ,5=l,5=lO&#OQWO'#E`O& vQWO'#E`O&#VQWO'#E`O&#pQWO'#E`O& jQWO'#E`O&$aQWO'#HRO&$rQSO7+(qO&$wQSO7+(qOOQQ7+(q7+(qO!$SQ,UO7+(qO%QQUO7+(qO&%PQSO7+(qOOQQ7+(t7+(tO9OQ(C[O7+(tO#NWQSO7+(tO8tQSO7+(tO!<zQWO7+(tO&%[QSO,5?]OOQO-E<o-E<oOOQO'#HU'#HUO&%gQSO1G6WO9OQ(C[O<<GnOOQQ<<Gn<<GnO?rQSO<<GnO&%oQSO7++uO&%tQSO7++vOOQQ7+(|7+(|O&%yQSO7+(|O&&OQUO7+(|O&&VQSO7+(|O%QQUO7++uO%QQUO7++vOOQQ<<Lp<<LpOOQQ<<Lr<<LrOOQQ-E<r-E<rOOQQ1G3q1G3qO&&[QSO,5>WOOQQ,5>Y,5>YO&&aQSO1G3wO:vQSO7+&_O!'xQUO7+&_OOQO7+%X7+%XO&&fQ$IUO1G5xO>QQSO7+%XOOQ(CY<<I]<<I]OOQ(CY<<Is<<IsO>QQSO<<IsOOQO<<Il<<IlO$:TQ(CjO<<IlO%QQUO<<IlOOQO<<I`<<I`O!<oQ(C[O<<I`O&&pQ(C[O<<IlO!<zQWO<<I`O&&{Q(C[O<<IlOBzQWO<<I`O&'ZQ(C[O<<IlO&'oQ(C`O<<IlO&'yQWO<<I`OBzQWO<<IlO&(WQWO<<IlO&(nQSO<<NzO&(vQ(CjO<<N{OOQO7+*T7+*TO:vQSO7+*TOOQQANAcANAcO&)WQSOANAcO!$SQ,UOANAcO!NgQSOANAcO%!pQbOANAcO%QQUOANAcO&)`Q(CjO7+'sO&+qQ(CjO7+'uO&.SQbO1G4dO&.^Q$IUO7+&YO&.kQ$IUO,59nO&0nQ$IUO,5<dO&2qQ$IUO,5<fO&4tQ$IUO,5<tO&6jQ$IUO7+'fO&6wQ$IUO7+'gO&7UQSO,5<WOOQO7+'Z7+'ZO&7ZQ,UO<<KuOOQO1G4m1G4mO&7bQSO1G4mO&7mQSO1G4mO&7{QSO7++lO&7{QSO7++lO!$SQ,UO1G4oO&8TQ`O1G4oO&8_QSO7++mOOQ(CW7+'}7+'}O$NlQSO7+(OO&8gQ`O7+(OOOQ(CW7+'|7+'|O$NlQSO7+'}O&8nQSO7+(OO!$SQ,UO7+(OOBuQSO7+'}O&8sQ,UO<<NiOOQ(CY7+$v7+$vO&8}Q`O,5?WOOQO-E<j-E<jO&9XQ(ChO7+(ROOQQAN=dAN=dO9_QSO1G4xOOQO1G4x1G4xO&9iQSO1G4xO&9nQSO7++tO&9nQSO7++tO9OQ(C[OANBOO?rQSOANBOOOQQANBOANBOOOQQANAjANAjOOQQANAkANAkO&9vQSO,5?YOOQO-E<l-E<lO&:RQ$IUO1G6VO&:]Q(C[O,5=mO8tQSO,5=mO&<nQbO'#CfO&<xQWO,5:zO&=SQWO,5:zO&=aQWO,5:zO&=tQWO,5:zO!<zQWO,5=mOOQO,5?[,5?[OOQO-E<n-E<nOOQQ1G3W1G3WO& ]QUO,5<xO%NqQ(C`O,5=mO# wQ(C`O,5:zO(YQWO,5=mO&>[QWO,5=mO&>mQWO,5:zOOQQ<<L]<<L]O!$SQ,UO<<L]O&$rQSO<<L]O&?WQSO<<L]O%QQUO<<L]OOQQ<<L`<<L`O9OQ(C[O<<L`O#NWQSO<<L`O8tQSO<<L`O&?`QWO1G4wO&?kQSO7++rOOQQAN=YAN=YO9OQ(C[OAN=YOOQQ<= a<= aOOQQ<= b<= bOOQQ<<Lh<<LhO&?sQSO<<LhO&?xQUO<<LhO&@PQSO<= aO&@UQSO<= bOOQQ1G3r1G3rO>QQSO7+)cO&@ZQSO<<IyO&@fQ$IUO<<IyOOQO<<Hs<<HsOOQ(CYAN?_AN?_OOQOAN?WAN?WO$:TQ(CjOAN?WOOQOAN>zAN>zO%QQUOAN?WO!<oQ(C[OAN>zO&@pQ(C[OAN?WO!<zQWOAN>zO&@{Q(C[OAN?WOBzQWOAN>zO&AZQ(C[OAN?WO&AoQ(C`OAN?WO&AyQWOAN>zOBzQWOAN?WOOQO<<Mo<<MoOOQQG26}G26}O!$SQ,UOG26}O!NgQSOG26}O&BWQSOG26}O%!pQbOG26}O&B`Q$IUO<<JaO&BmQ$IUO1G2XO&DcQ$IUO1G2kO&FfQ$IUO1G2mO&HiQ$IUO<<KRO&HvQ$IUO<<ItOOQO1G1r1G1rO!%lQ,UOANAaOOQO7+*X7+*XO&ITQSO7+*XO&I`QSO<= WO&IhQ`O7+*ZOOQ(CW<<Kj<<KjO$NlQSO<<KjOOQ(CW<<Ki<<KiO&IrQ`O<<KjO$NlQSO<<KiOOQO7+*d7+*dO9_QSO7+*dO&IyQSO<= `OOQQG27jG27jO9OQ(C[OG27jO!'xQUO1G4tO&JRQSO7++qOOQO1G3X1G3XO9OQ(C[O1G3XO&:]Q(C[O1G3XO&JZQWO1G0fO&JeQWO1G0fO&JrQWO1G0fO8tQSO1G3XO!<zQWO1G3XO(YQWO1G3XO%NqQ(C`O1G3XO$7UQ(C`O1G0fO&KVQWO1G3XO&$rQSOANAwOOQQANAwANAwO!$SQ,UOANAwO&KhQSOANAwOOQQANAzANAzO9OQ(C[OANAzO#NWQSOANAzOOQO'#HV'#HVOOQO7+*c7+*cOOQQG22tG22tOOQQANBSANBSO&KpQSOANBSOOQQAND{AND{OOQQAND|AND|OOQQ<<L}<<L}O!'xQUOAN?eOOQOG24rG24rO$:TQ(CjOG24rOOQOG24fG24fO%QQUOG24rO!<oQ(C[OG24fO&KuQ(C[OG24rO!<zQWOG24fO&LQQ(C[OG24rOBzQWOG24fO&L`Q(C[OG24rO!NgQSOLD,iOOQQLD,iLD,iO!$SQ,UOLD,iO&LtQSOLD,iO&L|Q$IUO7+'sO&NrQ$IUO7+'uO'!hQ,UOG26{OOQO<<Ms<<MsOOQ(CWANAUANAUO$NlQSOANAUOOQ(CWANATANATOOQO<<NO<<NOOOQQLD-ULD-UO'!xQ$IUO7+*`OOQO7+(s7+(sO9OQ(C[O7+(sO'#SQWO7+&QO'#^QWO7+&QO&:]Q(C[O7+(sO8tQSO7+(sO!<zQWO7+(sO(YQWO7+(sOOQQG27cG27cO&$rQSOG27cO!$SQ,UOG27cOOQQG27fG27fO9OQ(C[OG27fOOQQG27nG27nO'#kQ$IUOG25POOQOLD*^LD*^O$:TQ(CjOLD*^OOQOLD*QLD*QO%QQUOLD*^O!<oQ(C[OLD*QO'#uQ(C[OLD*^O!<zQWOLD*QO'$QQ(C[OLD*^OOQQ!$(!T!$(!TO!NgQSO!$(!TO!$SQ,UO!$(!TO'$`Q(CjOG26{OOQ(CWG26pG26pOOQO<<L_<<L_O'&qQWO<<IlO9OQ(C[O<<L_O&:]Q(C[O<<L_O8tQSO<<L_O!<zQWO<<L_OOQQLD,}LD,}O&$rQSOLD,}OOQQLD-QLD-QOOQO!$'Mx!$'MxO$:TQ(CjO!$'MxOOQO!$'Ml!$'MlO%QQUO!$'MxO!<oQ(C[O!$'MlO'&{Q(C[O!$'MxOOQQ!)9Eo!)9EoO!NgQSO!)9EoOOQOANAyANAyO9OQ(C[OANAyO&:]Q(C[OANAyO8tQSOANAyOOQQ!$(!i!$(!iOOQO!)9Cd!)9CdO$:TQ(CjO!)9CdOOQO!)9CW!)9CWO%QQUO!)9CdOOQQ!.K;Z!.K;ZO''WQ$IUOG26{OOQOG27eG27eO9OQ(C[OG27eO&:]Q(C[OG27eOOQO!.K9O!.K9OO$:TQ(CjO!.K9OOOQOLD-PLD-PO9OQ(C[OLD-POOQO!4/.j!4/.jOOQO!$(!k!$(!kO!'xQUO'#DvO0uQSO'#ETO'(|QbO'#JcO!'xQUO'#DnO')TQUO'#DzO!'xQUO'#D|O')[QbO'#CfO'+rQbO'#CfO',SQUO,5;SO!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO'#IfO'.VQSO,5<cO'._Q,UO,5;^O'/rQ,UO,5;^O!'xQUO,5;rO0xQSO'#DSO0xQSO'#DSO!$SQ,UO'#FxO'._Q,UO'#FxO!$SQ,UO'#FzO'._Q,UO'#FzO!$SQ,UO'#GYO'._Q,UO'#GYO!'xQUO,5:fO!'xQUO,5@^O',SQUO1G0nO'/yQ$IUO'#CfO!'xQUO1G1zO!$SQ,UO,5=PO'._Q,UO,5=PO!$SQ,UO,5=RO'._Q,UO,5=RO!$SQ,UO,5<mO'._Q,UO,5<mO',SQUO1G1{O!'xQUO7+&uO!$SQ,UO1G2XO'._Q,UO1G2XO!$SQ,UO1G2ZO'._Q,UO1G2ZO',SQUO7+'gO',SQUO7+&YO!$SQ,UOANAaO'._Q,UOANAaO'0TQSO'#EhO'0YQSO'#EhO'0bQSO'#FWO'0gQSO'#ErO'0lQSO'#JrO'0wQSO'#JpO'1SQSO,5;SO'1XQ,UO,5<`O'1`QSO'#GRO'1eQSO'#GRO'1jQSO,5<aO'1rQSO,5;SO'1zQ$IUO1G1ZO'2RQSO,5<mO'2WQSO,5<mO'2]QSO,5<oO'2bQSO,5<oO'2gQSO1G1{O'2lQSO1G0nO'2qQ,UO<<KuO'2xQ,UO<<KuO7^Q,UO'#FvO8tQSO'#FuO@mQSO'#EgO!'xQUO,5;oO!0rQSO'#GRO!0rQSO'#GRO!0rQSO'#GTO!0rQSO'#GTO!%lQ,UO7+(ZO!%lQ,UO7+(ZO$L`Q`O1G2oO$L`Q`O1G2oO!$SQ,UO,5=TO!$SQ,UO,5=T",stateData:"'4R~O'mOS'nOSROS'oRQ~OPYOQYOV!TO^pOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O#p}O$QzO$UfO%`{O%b!OO%d|O%e|O%h!PO%j!QO%m!RO%n!RO%p!SO%}!UO&T!VO&V!WO&X!XO&Z!YO&^!ZO&d![O&j!]O&l!^O&n!_O&p!`O&r!aO'tSO'vTO'yUO(RVO(`[O(miO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$Q!hO$UfO't!bO'vTO'yUO(RVO(`[O(miO~O^!qOl!kO|!lO![!rO!]!pO!^!pO!x<XO!|!wO!}!vO#O!tO#P!uO#Q!sO#T!xO#U!xO'u!iO'vTO'yUO(U!jO(`!nO~O'o!yO~OPYXXYX^YXkYXyYXzYX|YX!VYX!eYX!fYX!hYX!lYX#XYX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX'kYX(RYX(aYX(hYX(iYX~O!a$zX~P(gO[!{O'v!}O'w!{O'x!}O~O[#OO'x!}O'y!}O'z#OO~Oq#QO!O#RO(S#RO(T#TO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$Q!hO$UfO't<^O'vTO'yUO(RVO(`[O(miO~O!U#XO!V#UO!S(XP!S(eP~P+sO!W#aO~P`OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$Q!hO$UfO'vTO'yUO(RVO(`[O(miO~O!U#gO!x]O#b#jO#c#gO't<_O!g(bP~P._O!h#lO't#kO~O!t#pO!x]O%`#qO~O#d#rO~O!a#sO#d#rO~OP$ZOX$bOk$OOy#wOz#xO|#yO!V$_O!e$QO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO#l$QO#m$QO#n$aO#o$QO#q$RO#s$TO#u$VO#v$WO(RVO(a$XO(h#zO(i#{O~O^(VX'k(VX'i(VX!g(VX!S(VX!X(VX%a(VX!a(VX~P1gO#X$cO#{$cOP(WXX(WXk(WXy(WXz(WX|(WX!V(WX!e(WX!h(WX!l(WX#g(WX#h(WX#i(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#q(WX#s(WX#u(WX#v(WX(R(WX(a(WX(h(WX(i(WX!X(WX%a(WX~O^(WX!f(WX'k(WX'i(WX!S(WX!g(WXo(WX!a(WX~P3}O#X$cO~O$W$eO$Y$dO$a$jO~O!X$kO$UfO$d$lO$f$nO~Oi%QOk$rOl$qOm$qOs%ROu%SOw%TO|$yO!X$zO!c%YO!h$vO#c%ZO$Q%WO$m%UO$o%VO$r%XO't$pO'vTO'yUO'}%PO(R$sOd(OP~O!h%[O~O!a%^O~O^%_O'k%_O~O'u!iO~P%QO't%fO~O!h%[O't%fO'u!iO'}%PO~Ob%mO!h%[O't%fO~O#o$QO~Oy%rO!X%oO!h%qO%b%uO't%fO'u!iO'vTO'yUO](uP~O!t#pO~O|%wO!X%xO't%fO~O|%wO!X%xO%j%|O't%fO~O't%}O~O#p}O%b!OO%d|O%e|O%h!PO%j!QO%m!RO%n!RO~Oa&WOb&VO!t&TO%`&UO%r&SO~P;fOa&ZObwO!X&YO!tvO!x]O#p}O%`{O%d|O%e|O%h!PO%j!QO%m!RO%n!RO%p!SO~O_&^O#X&aO%b&[O'u!iO~P<eO!h&bO!q&fO~O!h#lO~O!XXO~O^%_O'j&nO'k%_O~O^%_O'j&qO'k%_O~O^%_O'j&sO'k%_O~O'iYX!SYXoYX!gYX&RYX!XYX%aYX!aYX~P(gO!['QO!]&yO!^&yO'u!iO'vTO'yUO~Ol&wO|&vO!U&zO(U&uO!W(YP!W(gP~P?fOg'TO!X'RO't%fO~Ob'YO!h%[O't%fO~Oy%rO!h%qO~Ol!kO|!lO!['_O!]'^O!^'^O!}'bO#O'aO#P'aO#Q'`O#T'dO#U'dO'u!iO'vTO'yUO(U!jO(`!nO~O!x<XO!|'cO~PAQO^%_O!a#sO!h%[O!l'jO#X'hO'k%_O'}%PO(a'fO~Ol!kO|!lO'vTO'yUO(U!jO(`!nO~O!]'^O!^'^O'u!iO~PBzO!['_O!]'^O!^'^O#T'dO#U'dO'u!iO~PBzO!XXO!['_O!]'^O!^'^O#Q'`O#T'dO#U'dO'u!iO~PBzO!['_O!]'^O!^'^O#O'aO#P'aO#Q'`O#T'dO#U'dO'u!iO~PBzO'p'nO'q'nO'r'pO~O[!{O'v'rO'w!{O'x'rO~O[#OO'x'rO'y'rO'z#OO~Oq#QO!O#RO(S#RO(T'vO~O!U'xO!S&}X!S'TX!V&}X!V'TX~P+sO!V'zO!S(XX~OP$ZOX$bOk$OOy#wOz#xO|#yO!V'zO!e$QO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO#l$QO#m$QO#n$aO#o$QO#q$RO#s$TO#u$VO#v$WO(RVO(a$XO(h#zO(i#{O~O!S(XX~PGUO!S(PO~O!S(dX!V(dX!a(dX!g(dX(a(dX~O#X(dX#d#]X!W(dX~PI[O#X(QO!S(fX!V(fX~O!V(RO!S(eX~O!S(UO~O#X$cO~PI[O!W(VO~P`Oy#wOz#xO|#yO!f#uO!h#vO(RVOP!jaX!jak!ja!V!ja!e!ja!l!ja#g!ja#h!ja#i!ja#j!ja#k!ja#l!ja#m!ja#n!ja#o!ja#q!ja#s!ja#u!ja#v!ja(a!ja(h!ja(i!ja~O^!ja'k!ja'i!ja!S!ja!g!jao!ja!X!ja%a!ja!a!ja~PJrO!g(WO~O|%wO!X%xO!x]O#b(ZO#c(YO't%fO~O!a#sO#X([O(a'fO!V(cX^(cX'k(cX~O!g(cX~PMvO!V(_O!g(bX~O!g(aO~O|%wO!X%xO#c(YO't%fO~Oy(bOz(cO!f#uO!h#vO!x!wa|!wa~O!t!wa%`!wa!X!wa#b!wa#c!wa't!wa~P! OO!t(gO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$Q!hO$UfO't!bO'vTO'yUO(RVO(`[O(miO~Oi%QOk$rOl$qOm$qOs%ROu%SOw<qO|$yO!X$zO!c={O!h$vO#c<wO$Q%WO$m<sO$o<uO$r%XO't(kO'vTO'yUO'}%PO(R$sO~O#d(mO~Oi%QOk$rOl$qOm$qOs%ROu%SOw%TO|$yO!X$zO!c%YO!h$vO#c%ZO$Q%WO$m%UO$o%VO$r%XO't(kO'vTO'yUO'}%PO(R$sO~Od([P~P!%lO!U(qO!g(]P~P%QO(U(sO(`[O~O|(uO!h#vO(U(sO(`[O~OP<WOQ<WOa=wOb!fOikOk<WOlkOmkOskOu<WOw<WO|WO!QkO!RkO!X!cO!c<ZO!hZO!k<WO!l<WO!m<WO!o<[O!q<]O!t!eO$Q!hO$UfO't)TO'vTO'yUO(RVO(`[O(m=uO~Oz)WO!h#vO~O!V$_O^$ka'k$ka'i$ka!g$ka!S$ka!X$ka%a$ka!a$ka~O#p)[O~P!$SOy)_O!a)^O!X$XX$T$XX$W$XX$Y$XX$a$XX~O!a)^O!X(jX$T(jX$W(jX$Y(jX$a(jX~Oy)_O~P!+bOy)_O!X(jX$T(jX$W(jX$Y(jX$a(jX~O!X)aO$T)eO$W)`O$Y)`O$a)fO~O!U)iO~P!'xO$W$eO$Y$dO$a)mO~Og$sXy$sX|$sX!f$sX(h$sX(i$sX~OdfXd$sXgfX!VfX#XfX~P!-WOl)oO~Oq)pO(S)qO(T)sO~Og)|Oy)uO|)vO(h)xO(i)zO~Od)tO~P!.aOd)}O~Oi%QOk$rOl$qOm$qOs%ROu%SOw<qO|$yO!X$zO!c={O!h$vO#c<wO$Q%WO$m<sO$o<uO$r%XO'vTO'yUO'}%PO(R$sO~O!U*RO't*OO!g(nP~P!/OO#d*TO~O!h*UO~O!U*ZO't*WO!S(oP~P!/OOk*gO|*_O![*eO!]*^O!^*^O!h*UO#T*fO%W*aO'u!iO(U!jO~O!W*dO~P!1UO!f#uOg(QXy(QX|(QX(h(QX(i(QX!V(QX#X(QX~Od(QX#y(QX~P!1}Og*jO#X*iOd(PX!V(PX~O!V*kOd(OX~O't%}Od(OP~O!h*rO~O't(kO~O|%wO!U#gO!X%xO!x]O#b#jO#c#gO't%fO!g(bP~O!a#sO#d*vO~OP$ZOX$bOk$OOy#wOz#xO|#yO!e$QO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO#l$QO#m$QO#n$aO#o$QO#q$RO#s$TO#u$VO#v$WO(RVO(a$XO(h#zO(i#{O~O^!ba!V!ba'k!ba'i!ba!S!ba!g!bao!ba!X!ba%a!ba!a!ba~P!4aOy#wOz#xO|#yO!f#uO!h#vO(RVOP!naX!nak!na!V!na!e!na!l!na#g!na#h!na#i!na#j!na#k!na#l!na#m!na#n!na#o!na#q!na#s!na#u!na#v!na(a!na(h!na(i!na~O^!na'k!na'i!na!S!na!g!nao!na!X!na%a!na!a!na~P!6zOy#wOz#xO|#yO!f#uO!h#vO(RVOP!paX!pak!pa!V!pa!e!pa!l!pa#g!pa#h!pa#i!pa#j!pa#k!pa#l!pa#m!pa#n!pa#o!pa#q!pa#s!pa#u!pa#v!pa(a!pa(h!pa(i!pa~O^!pa'k!pa'i!pa!S!pa!g!pao!pa!X!pa%a!pa!a!pa~P!9eOg+OO!X'RO%a*}O'}%PO~O!a+QO^'|X!X'|X'k'|X!V'|X~O^%_O!XXO'k%_O~O!h%[O'}%PO~O!h%[O't%fO'}%PO~O!a#sO#d(mO~O%b+^O't+YO'vTO'yUO!W(vP~O!V+_O](uX~O(U(sO~OX+cO~O]+dO~O!X%oO't%fO'u!iO](uP~O|%wO!U+hO!V(RO!X%xO't%fO!S(eP~Ol&}O|+jO!U+iO'vTO'yUO(U(sO~O!W(gP~P!?TO!V+kO^(rX'k(rX~O#X+oO'}%PO~Og+rO!X$zO'}%PO~O!X+tO~Oy+vO!XXO~O!t+{O~Ob,QO~O't#kO!W(tP~Ob%mO~O%b!OO't%}O~P<eOX,WO],VO~OPYOQYOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O$UfO%`{O'vTO'yUO(RVO(`[O(miO~O!X!cO$Q!hO't!bO~P!AhO],VO^%_O'k%_O~O^,[O#p,^O%d,^O%e,^O~P%QO!h&bO~O&T,cO~O!X,eO~O&f,gO&h,hOP&caQ&caV&ca^&caa&cab&cai&cak&cal&cam&cas&cau&caw&ca|&ca!Q&ca!R&ca!X&ca!c&ca!h&ca!k&ca!l&ca!m&ca!o&ca!q&ca!t&ca!x&ca#p&ca$Q&ca$U&ca%`&ca%b&ca%d&ca%e&ca%h&ca%j&ca%m&ca%n&ca%p&ca%}&ca&T&ca&V&ca&X&ca&Z&ca&^&ca&d&ca&j&ca&l&ca&n&ca&p&ca&r&ca'i&ca't&ca'v&ca'y&ca(R&ca(`&ca(m&ca!W&ca&[&ca_&ca&a&ca~O't,mO~O!V{X!V!_X!W{X!W!_X!a{X!a!_X!h!_X#X{X'}!_X~O!a,rO#X,qO!V#aX!V(ZX!W#aX!W(ZX!a(ZX!h(ZX'}(ZX~O!a,tO!h%[O'}%PO!V!ZX!W!ZX~Ol!kO|!lO'vTO'yUO(U!jO~OP<WOQ<WOa=wOb!fOikOk<WOlkOmkOskOu<WOw<WO|WO!QkO!RkO!X!cO!c<ZO!hZO!k<WO!l<WO!m<WO!o<[O!q<]O!t!eO$Q!hO$UfO'vTO'yUO(RVO(`[O(m=uO~O't<|O~P!J}O!V,xO!W(YX~O!W,zO~O!a,rO#X,qO!V#aX!W#aX~O!V,{O!W(gX~O!W,}O~O!]-OO!^-OO'u!iO~P!JlO!W-RO~P'TOg-UO!X'RO~O!S-ZO~Ol!wa![!wa!]!wa!^!wa!|!wa!}!wa#O!wa#P!wa#Q!wa#T!wa#U!wa'u!wa'v!wa'y!wa(U!wa(`!wa~P! OO^%_O!a#sO!h%[O!l-`O#X-^O'k%_O'}%PO(a'fO~O!]-bO!^-bO'u!iO~PBzO![-dO!]-bO!^-bO#T-eO#U-eO'u!iO~PBzO![-dO!]-bO!^-bO#Q-fO#T-eO#U-eO'u!iO~PBzO![-dO!]-bO!^-bO#O-gO#P-gO#Q-fO#T-eO#U-eO'u!iO~PBzO![-dO!]-bO!^-bO!}-hO#O-gO#P-gO#Q-fO#T-eO#U-eO'u!iO~PBzO^%_O#X-^O'k%_O~O^%_O!a#sO#X-^O'k%_O~O^%_O!a#sO!l-`O#X-^O'k%_O(a'fO~O'p'nO'q'nO'r-mO~Oo-nO~O!S&}a!V&}a~P!4aO!U-rO!S&}X!V&}X~P%QO!V'zO!S(Xa~O!S(Xa~PGUO!V(RO!S(ea~O|%wO!U-vO!X%xO't%fO!S'TX!V'TX~O!V(_O!g(ba~O|%wO!X%xO#c-yO't%fO~O#X-{O!V(ca!g(ca^(ca'k(ca~O!a#sO~P#(aO|%wO!U.OO!X%xO!x]O#b.QO#c.OO't%fO!V'VX!g'VX~Oz.UO!h#vO~Og.XO!X'RO%a.WO'}%PO~O^#[i!V#[i'k#[i'i#[i!S#[i!g#[io#[i!X#[i%a#[i!a#[i~P!4aOg>ROy)uO|)vO(h)xO(i)zO~O#d#Wa^#Wa#X#Wa'k#Wa!V#Wa!g#Wa!X#Wa!S#Wa~P#*rO#d(QXP(QXX(QX^(QXk(QXz(QX!e(QX!h(QX!l(QX#g(QX#h(QX#i(QX#j(QX#k(QX#l(QX#m(QX#n(QX#o(QX#q(QX#s(QX#u(QX#v(QX'k(QX(R(QX(a(QX!g(QX!S(QX'i(QXo(QX!X(QX%a(QX!a(QX~P!1}O!V.bOd([X~P!.aOd.dO~O!V.eO!g(]X~P!4aO!g.hO~O!S.jO~OP$ZOy#wOz#xO|#yO!f#uO!h#vO!l$ZO(RVOX#fi^#fik#fi!V#fi!e#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi'k#fi(a#fi(h#fi(i#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~O#g#fi~P#.nO#g#|O~P#.nOP$ZOy#wOz#xO|#yO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O(RVOX#fi^#fi!V#fi!e#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi'k#fi(a#fi(h#fi(i#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~Ok#fi~P#1`Ok$OO~P#1`OP$ZOk$OOy#wOz#xO|#yO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO(RVO^#fi!V#fi#q#fi#s#fi#u#fi#v#fi'k#fi(a#fi(h#fi(i#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~OX#fi!e#fi#l#fi#m#fi#n#fi#o#fi~P#4QOX$bO!e$QO#l$QO#m$QO#n$aO#o$QO~P#4QOP$ZOX$bOk$OOy#wOz#xO|#yO!e$QO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO#l$QO#m$QO#n$aO#o$QO#q$RO(RVO^#fi!V#fi#s#fi#u#fi#v#fi'k#fi(a#fi(i#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~O(h#fi~P#7RO(h#zO~P#7ROP$ZOX$bOk$OOy#wOz#xO|#yO!e$QO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO#l$QO#m$QO#n$aO#o$QO#q$RO#s$TO(RVO(h#zO^#fi!V#fi#u#fi#v#fi'k#fi(a#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~O(i#fi~P#9sO(i#{O~P#9sOP$ZOX$bOk$OOy#wOz#xO|#yO!e$QO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO#l$QO#m$QO#n$aO#o$QO#q$RO#s$TO#u$VO(RVO(h#zO(i#{O~O^#fi!V#fi#v#fi'k#fi(a#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~P#<eOPYXXYXkYXyYXzYX|YX!eYX!fYX!hYX!lYX#XYX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX(RYX(aYX(hYX(iYX!VYX!WYX~O#yYX~P#?OOP$ZOX<oOk<cOy#wOz#xO|#yO!e<eO!f#uO!h#vO!l$ZO#g<aO#h<bO#i<bO#j<bO#k<dO#l<eO#m<eO#n<nO#o<eO#q<fO#s<hO#u<jO#v<kO(RVO(a$XO(h#zO(i#{O~O#y.lO~P#A]OP(WXX(WXk(WXy(WXz(WX|(WX!e(WX!f(WX!h(WX!l(WX#g(WX#h(WX#i(WX#j(WX#k(WX#l(WX#m(WX#n(WX#q(WX#s(WX#u(WX#v(WX(R(WX(a(WX(h(WX(i(WX!V(WX~O#X<pO#{<pO#o(WX#y(WX!W(WX~P#CZO^'Ya!V'Ya'k'Ya'i'Ya!g'Ya!S'Yao'Ya!X'Ya%a'Ya!a'Ya~P!4aOP#fiX#fi^#fik#fiz#fi!V#fi!e#fi!f#fi!h#fi!l#fi#g#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi'k#fi(R#fi(a#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~P#*rO^#zi!V#zi'k#zi'i#zi!S#zi!g#zio#zi!X#zi%a#zi!a#zi~P!4aO$W.qO$Y.qO~O$W.rO$Y.rO~O!a)^O#X.sO!X$^X$T$^X$W$^X$Y$^X$a$^X~O!U.tO~O!X)aO$T.vO$W)`O$Y)`O$a.wO~O!V<lO!W(VX~P#A]O!W.xO~O!a)^O$a(jX~O$a.zO~Oq)pO(S)qO(T.}O~Ol/QO!S/RO'vTO'yUO~O!VcX!acX!gcX!g$sX(acX~P!-WO!g/XO~P#*rO!V/YO!a#sO(a'fO!g(nX~O!g/_O~O!U*RO't%fO!g(nP~O#d/aO~O!S$sX!V$sX!a$zX~P!-WO!V/bO!S(oX~P#*rO!a/dO~O!S/fO~Ok/jO!a#sO!h%[O'}%PO(a'fO~O't/lO~O!a+QO~O^%_O!V/pO'k%_O~O!W/rO~P!1UO!]/sO!^/sO'u!iO(U!jO~O|/uO(U!jO~O#T/vO~O't%}Od'_X!V'_X~O!V*kOd(Oa~Od/{O~Oy/|Oz/|O|/}Ogva(hva(iva!Vva#Xva~Odva#yva~P$ tOy)uO|)vOg$la(h$la(i$la!V$la#X$la~Od$la#y$la~P$!jOy)uO|)vOg$na(h$na(i$na!V$na#X$na~Od$na#y$na~P$#]O#d0PO~Od$|a!V$|a#X$|a#y$|a~P!.aO#d0SO~Oy#wOz#xO|#yO!f#uO!h#vO(RVOP!niX!nik!ni!V!ni!e!ni!l!ni#g!ni#h!ni#i!ni#j!ni#k!ni#l!ni#m!ni#n!ni#o!ni#q!ni#s!ni#u!ni#v!ni(a!ni(h!ni(i!ni~O^!ni'k!ni'i!ni!S!ni!g!nio!ni!X!ni%a!ni!a!ni~P$$jOg.XO!X'RO%a.WO~Oi0ZO't0YO~P!/RO!a+QO^'|a!X'|a'k'|a!V'|a~O#d0aO~OXYX!VcX!WcX~O!V0bO!W(vX~O!W0dO~OX0eO~O't+YO'vTO'yUO~O!X%oO't%fO]'gX!V'gX~O!V+_O](ua~O!g0jO~P!4aOX0mO~O]0nO~O!V+kO^(ra'k(ra~O#X0tO~Og0wO!X$zO~O(U(sO!W(sP~Og1QO!X0}O%a1PO'}%PO~OX1[O!V1YO!W(tX~O!W1]O~O]1_O^%_O'k%_O~O't#kO'vTO'yUO~O#X$cO#o1bO#{$cO&R1cO^(WX~P#CZO#X$cO#o1bO&R1cO~O^1dO~P%QO^1fO~O&[1jOP&YiQ&YiV&Yi^&Yia&Yib&Yii&Yik&Yil&Yim&Yis&Yiu&Yiw&Yi|&Yi!Q&Yi!R&Yi!X&Yi!c&Yi!h&Yi!k&Yi!l&Yi!m&Yi!o&Yi!q&Yi!t&Yi!x&Yi#p&Yi$Q&Yi$U&Yi%`&Yi%b&Yi%d&Yi%e&Yi%h&Yi%j&Yi%m&Yi%n&Yi%p&Yi%}&Yi&T&Yi&V&Yi&X&Yi&Z&Yi&^&Yi&d&Yi&j&Yi&l&Yi&n&Yi&p&Yi&r&Yi'i&Yi't&Yi'v&Yi'y&Yi(R&Yi(`&Yi(m&Yi!W&Yi_&Yi&a&Yi~O_1pO!W1nO&a1oO~P`O!XXO!h1rO~O&h,hOP&ciQ&ciV&ci^&cia&cib&cii&cik&cil&cim&cis&ciu&ciw&ci|&ci!Q&ci!R&ci!X&ci!c&ci!h&ci!k&ci!l&ci!m&ci!o&ci!q&ci!t&ci!x&ci#p&ci$Q&ci$U&ci%`&ci%b&ci%d&ci%e&ci%h&ci%j&ci%m&ci%n&ci%p&ci%}&ci&T&ci&V&ci&X&ci&Z&ci&^&ci&d&ci&j&ci&l&ci&n&ci&p&ci&r&ci'i&ci't&ci'v&ci'y&ci(R&ci(`&ci(m&ci!W&ci&[&ci_&ci&a&ci~O!S1xO~O!V!Za!W!Za~P#A]Ol!kO|!lO!U2OO(U!jO!V'OX!W'OX~P?fO!V,xO!W(Ya~O!V'UX!W'UX~P!?TO!V,{O!W(ga~O!W2VO~P'TO^%_O#X2`O'k%_O~O^%_O!a#sO#X2`O'k%_O~O^%_O!a#sO!h%[O!l2dO#X2`O'k%_O'}%PO(a'fO~O!]2eO!^2eO'u!iO~PBzO![2hO!]2eO!^2eO#T2iO#U2iO'u!iO~PBzO![2hO!]2eO!^2eO#Q2jO#T2iO#U2iO'u!iO~PBzO![2hO!]2eO!^2eO#O2kO#P2kO#Q2jO#T2iO#U2iO'u!iO~PBzO^%_O!a#sO!l2dO#X2`O'k%_O(a'fO~O^%_O'k%_O~P!4aO!V$_Oo$ka~O!S&}i!V&}i~P!4aO!V'zO!S(Xi~O!V(RO!S(ei~O!S(fi!V(fi~P!4aO!V(_O!g(bi~O!V(ci!g(ci^(ci'k(ci~P!4aO#X2oO!V(ci!g(ci^(ci'k(ci~O|%wO!X%xO!x]O#b2rO#c2qO't%fO~O|%wO!X%xO#c2qO't%fO~Og2yO!X'RO%a2xO~Og2yO!X'RO%a2xO'}%PO~O#dvaPvaXva^vakva!eva!fva!hva!lva#gva#hva#iva#jva#kva#lva#mva#nva#ova#qva#sva#uva#vva'kva(Rva(ava!gva!Sva'ivaova!Xva%ava!ava~P$ tO#d$laP$laX$la^$lak$laz$la!e$la!f$la!h$la!l$la#g$la#h$la#i$la#j$la#k$la#l$la#m$la#n$la#o$la#q$la#s$la#u$la#v$la'k$la(R$la(a$la!g$la!S$la'i$lao$la!X$la%a$la!a$la~P$!jO#d$naP$naX$na^$nak$naz$na!e$na!f$na!h$na!l$na#g$na#h$na#i$na#j$na#k$na#l$na#m$na#n$na#o$na#q$na#s$na#u$na#v$na'k$na(R$na(a$na!g$na!S$na'i$nao$na!X$na%a$na!a$na~P$#]O#d$|aP$|aX$|a^$|ak$|az$|a!V$|a!e$|a!f$|a!h$|a!l$|a#g$|a#h$|a#i$|a#j$|a#k$|a#l$|a#m$|a#n$|a#o$|a#q$|a#s$|a#u$|a#v$|a'k$|a(R$|a(a$|a!g$|a!S$|a'i$|a#X$|ao$|a!X$|a%a$|a!a$|a~P#*rO^#[q!V#[q'k#[q'i#[q!S#[q!g#[qo#[q!X#[q%a#[q!a#[q~P!4aOd'PX!V'PX~P!%lO!V.bOd([a~O!U3RO!V'QX!g'QX~P%QO!V.eO!g(]a~O!V.eO!g(]a~P!4aO!S3UO~O#y!ja!W!ja~PJrO#y!ba!V!ba!W!ba~P#A]O#y!na!W!na~P!6zO#y!pa!W!pa~P!9eO!X3hO$UfO$_3iO~O!W3mO~Oo3nO~P#*rO^$hq!V$hq'k$hq'i$hq!S$hq!g$hqo$hq!X$hq%a$hq!a$hq~P!4aO!S3oO~Ol/QO'vTO'yUO~Oy)uO|)vO(i)zOg%Xi(h%Xi!V%Xi#X%Xi~Od%Xi#y%Xi~P$JzOy)uO|)vOg%Zi(h%Zi(i%Zi!V%Zi#X%Zi~Od%Zi#y%Zi~P$KmO(a$XO~P#*rO!U3rO't%fO!V'ZX!g'ZX~O!V/YO!g(na~O!V/YO!a#sO!g(na~O!V/YO!a#sO(a'fO!g(na~Od$ui!V$ui#X$ui#y$ui~P!.aO!U3zO't*WO!S']X!V']X~P!/OO!V/bO!S(oa~O!V/bO!S(oa~P#*rO!a#sO~O!a#sO#o4SO~Ok4VO!a#sO(a'fO~Od(Pi!V(Pi~P!.aO#X4YOd(Pi!V(Pi~P!.aO!g4]O~O^$iq!V$iq'k$iq'i$iq!S$iq!g$iqo$iq!X$iq%a$iq!a$iq~P!4aO!V4aO!X(pX~P#*rO!f#uO~P3}O^$sX!X$sX%UYX'k$sX!V$sX~P!-WO%U4cO^hXghXyhX|hX!XhX'khX(hhX(ihX!VhX~O%U4cO~O%b4jO't+YO'vTO'yUO!V'fX!W'fX~O!V0bO!W(va~OX4nO~O]4oO~O!S4sO~O^%_O'k%_O~P#*rO!X$zO~P#*rO!V4xO#X4zO!W(sX~O!W4{O~Ol!kO|4}O![5]O!]5RO!^5RO!x<XO!|5[O!}5ZO#O5YO#P5YO#Q5XO#T5WO#U!xO'u!iO'vTO'yUO(U!jO(`!nO~O!W5VO~P%%qOg5bO!X0}O%a5aO~Og5bO!X0}O%a5aO'}%PO~O't#kO!V'eX!W'eX~O!V1YO!W(ta~O'vTO'yUO(U5kO~O]5oO~O!g5rO~P%QO^5tO~O^5tO~P%QO#o5vO&R5wO~PMvO_1pO!W5{O&a1oO~P`O!a5}O~O!a6PO!V(Zi!W(Zi!a(Zi!h(Zi'}(Zi~O!V#ai!W#ai~P#A]O#X6QO!V#ai!W#ai~O!V!Zi!W!Zi~P#A]O^%_O#X6ZO'k%_O~O^%_O!a#sO#X6ZO'k%_O~O^%_O!a#sO!l6`O#X6ZO'k%_O(a'fO~O!h%[O'}%PO~P%+RO!]6aO!^6aO'u!iO~PBzO![6dO!]6aO!^6aO#T6eO#U6eO'u!iO~PBzO![6dO!]6aO!^6aO#Q6fO#T6eO#U6eO'u!iO~PBzO!V(_O!g(bq~O!V(cq!g(cq^(cq'k(cq~P!4aO|%wO!X%xO#c6jO't%fO~O!X'RO%a6mO~Og6pO!X'RO%a6mO~O#d%XiP%XiX%Xi^%Xik%Xiz%Xi!e%Xi!f%Xi!h%Xi!l%Xi#g%Xi#h%Xi#i%Xi#j%Xi#k%Xi#l%Xi#m%Xi#n%Xi#o%Xi#q%Xi#s%Xi#u%Xi#v%Xi'k%Xi(R%Xi(a%Xi!g%Xi!S%Xi'i%Xio%Xi!X%Xi%a%Xi!a%Xi~P$JzO#d%ZiP%ZiX%Zi^%Zik%Ziz%Zi!e%Zi!f%Zi!h%Zi!l%Zi#g%Zi#h%Zi#i%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#q%Zi#s%Zi#u%Zi#v%Zi'k%Zi(R%Zi(a%Zi!g%Zi!S%Zi'i%Zio%Zi!X%Zi%a%Zi!a%Zi~P$KmO#d$uiP$uiX$ui^$uik$uiz$ui!V$ui!e$ui!f$ui!h$ui!l$ui#g$ui#h$ui#i$ui#j$ui#k$ui#l$ui#m$ui#n$ui#o$ui#q$ui#s$ui#u$ui#v$ui'k$ui(R$ui(a$ui!g$ui!S$ui'i$ui#X$uio$ui!X$ui%a$ui!a$ui~P#*rOd'Pa!V'Pa~P!.aO!V'Qa!g'Qa~P!4aO!V.eO!g(]i~O#y#[i!V#[i!W#[i~P#A]OP$ZOy#wOz#xO|#yO!f#uO!h#vO!l$ZO(RVOX#fik#fi!e#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi#y#fi(a#fi(h#fi(i#fi!V#fi!W#fi~O#g#fi~P%6OO#g<aO~P%6OOP$ZOy#wOz#xO|#yO!f#uO!h#vO!l$ZO#g<aO#h<bO#i<bO#j<bO(RVOX#fi!e#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi#y#fi(a#fi(h#fi(i#fi!V#fi!W#fi~Ok#fi~P%8ZOk<cO~P%8ZOP$ZOk<cOy#wOz#xO|#yO!f#uO!h#vO!l$ZO#g<aO#h<bO#i<bO#j<bO#k<dO(RVO#q#fi#s#fi#u#fi#v#fi#y#fi(a#fi(h#fi(i#fi!V#fi!W#fi~OX#fi!e#fi#l#fi#m#fi#n#fi#o#fi~P%:fOX<oO!e<eO#l<eO#m<eO#n<nO#o<eO~P%:fOP$ZOX<oOk<cOy#wOz#xO|#yO!e<eO!f#uO!h#vO!l$ZO#g<aO#h<bO#i<bO#j<bO#k<dO#l<eO#m<eO#n<nO#o<eO#q<fO(RVO#s#fi#u#fi#v#fi#y#fi(a#fi(i#fi!V#fi!W#fi~O(h#fi~P%=QO(h#zO~P%=QOP$ZOX<oOk<cOy#wOz#xO|#yO!e<eO!f#uO!h#vO!l$ZO#g<aO#h<bO#i<bO#j<bO#k<dO#l<eO#m<eO#n<nO#o<eO#q<fO#s<hO(RVO(h#zO#u#fi#v#fi#y#fi(a#fi!V#fi!W#fi~O(i#fi~P%?]O(i#{O~P%?]OP$ZOX<oOk<cOy#wOz#xO|#yO!e<eO!f#uO!h#vO!l$ZO#g<aO#h<bO#i<bO#j<bO#k<dO#l<eO#m<eO#n<nO#o<eO#q<fO#s<hO#u<jO(RVO(h#zO(i#{O~O#v#fi#y#fi(a#fi!V#fi!W#fi~P%AhO^#wy!V#wy'k#wy'i#wy!S#wy!g#wyo#wy!X#wy%a#wy!a#wy~P!4aOg>SOy)uO|)vO(h)xO(i)zO~OP#fiX#fik#fiz#fi!e#fi!f#fi!h#fi!l#fi#g#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi#y#fi(R#fi(a#fi!V#fi!W#fi~P%D`O!f#uOP(QXX(QXg(QXk(QXy(QXz(QX|(QX!e(QX!h(QX!l(QX#g(QX#h(QX#i(QX#j(QX#k(QX#l(QX#m(QX#n(QX#o(QX#q(QX#s(QX#u(QX#v(QX#y(QX(R(QX(a(QX(h(QX(i(QX!V(QX!W(QX~O#y#zi!V#zi!W#zi~P#A]O#y!ni!W!ni~P$$jO!W6|O~O!V'Ya!W'Ya~P#A]O!a#sO(a'fO!V'Za!g'Za~O!V/YO!g(ni~O!V/YO!a#sO!g(ni~Od$uq!V$uq#X$uq#y$uq~P!.aO!S']a!V']a~P#*rO!a7TO~O!V/bO!S(oi~P#*rO!V/bO!S(oi~O!S7XO~O!a#sO#o7^O~Ok7_O!a#sO(a'fO~O!S7aO~Od$wq!V$wq#X$wq#y$wq~P!.aO^$iy!V$iy'k$iy'i$iy!S$iy!g$iyo$iy!X$iy%a$iy!a$iy~P!4aO!V4aO!X(pa~O^#[y!V#[y'k#[y'i#[y!S#[y!g#[yo#[y!X#[y%a#[y!a#[y~P!4aOX7fO~O!V0bO!W(vi~O]7lO~O!a6PO~O(U(sO!V'bX!W'bX~O!V4xO!W(sa~O!h%[O'}%PO^(ZX!a(ZX!l(ZX#X(ZX'k(ZX(a(ZX~O't7uO~P._O!x<XO!|7yO!}7xO#O7wO#P7wO#Q7vO#T'dO#U'dO~PBzO^%_O!a#sO!l'jO#X'hO'k%_O(a'fO~O!W7}O~P%%qOl!kO'vTO'yUO(U!jO(`!nO~O|8OO~P&!mO![8SO!]8RO!^8RO#Q7vO#T'dO#U'dO'u!iO~PBzO![8SO!]8RO!^8RO#O8TO#P8TO#Q7vO#T'dO#U'dO'u!iO~PBzO!]8RO!^8RO'u!iO(U!jO(`!nO~O!X0}O~O!X0}O%a8VO~Og8YO!X0}O%a8VO~OX8_O!V'ea!W'ea~O!V1YO!W(ti~O!g8cO~O!g8dO~O!g8eO~O!g8eO~P%QO^8gO~O!a8jO~O!g8kO~O!V(fi!W(fi~P#A]O^%_O#X8sO'k%_O~O^%_O!a#sO#X8sO'k%_O~O^%_O!a#sO!l8wO#X8sO'k%_O(a'fO~O!h%[O'}%PO~P&'ZO!]8xO!^8xO'u!iO~PBzO![8{O!]8xO!^8xO#T8|O#U8|O'u!iO~PBzO!V(_O!g(by~O!V(cy!g(cy^(cy'k(cy~P!4aO!X'RO%a9PO~O#d$uqP$uqX$uq^$uqk$uqz$uq!V$uq!e$uq!f$uq!h$uq!l$uq#g$uq#h$uq#i$uq#j$uq#k$uq#l$uq#m$uq#n$uq#o$uq#q$uq#s$uq#u$uq#v$uq'k$uq(R$uq(a$uq!g$uq!S$uq'i$uq#X$uqo$uq!X$uq%a$uq!a$uq~P#*rO#d$wqP$wqX$wq^$wqk$wqz$wq!V$wq!e$wq!f$wq!h$wq!l$wq#g$wq#h$wq#i$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#q$wq#s$wq#u$wq#v$wq'k$wq(R$wq(a$wq!g$wq!S$wq'i$wq#X$wqo$wq!X$wq%a$wq!a$wq~P#*rO!V'Qi!g'Qi~P!4aO#y#[q!V#[q!W#[q~P#A]Oy/|Oz/|O|/}OPvaXvagvakva!eva!fva!hva!lva#gva#hva#iva#jva#kva#lva#mva#nva#ova#qva#sva#uva#vva#yva(Rva(ava(hva(iva!Vva!Wva~Oy)uO|)vOP$laX$lag$lak$laz$la!e$la!f$la!h$la!l$la#g$la#h$la#i$la#j$la#k$la#l$la#m$la#n$la#o$la#q$la#s$la#u$la#v$la#y$la(R$la(a$la(h$la(i$la!V$la!W$la~Oy)uO|)vOP$naX$nag$nak$naz$na!e$na!f$na!h$na!l$na#g$na#h$na#i$na#j$na#k$na#l$na#m$na#n$na#o$na#q$na#s$na#u$na#v$na#y$na(R$na(a$na(h$na(i$na!V$na!W$na~OP$|aX$|ak$|az$|a!e$|a!f$|a!h$|a!l$|a#g$|a#h$|a#i$|a#j$|a#k$|a#l$|a#m$|a#n$|a#o$|a#q$|a#s$|a#u$|a#v$|a#y$|a(R$|a(a$|a!V$|a!W$|a~P%D`O#y$hq!V$hq!W$hq~P#A]O#y$iq!V$iq!W$iq~P#A]O!W9ZO~O#y9[O~P!.aO!a#sO!V'Zi!g'Zi~O!a#sO(a'fO!V'Zi!g'Zi~O!V/YO!g(nq~O!S']i!V']i~P#*rO!V/bO!S(oq~O!S9bO~P#*rO!S9bO~Od(Py!V(Py~P!.aO!V'`a!X'`a~P#*rO^%Tq!X%Tq'k%Tq!V%Tq~P#*rOX9gO~O!V0bO!W(vq~O#X9kO!V'ba!W'ba~O!V4xO!W(si~P#A]O^%_O!a+QO'k%_O~OPYXXYXkYXyYXzYX|YX!SYX!VYX!eYX!fYX!hYX!lYX#XYX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX(RYX(aYX(hYX(iYX~O!a%RX#o%RX~P&:hO#T-eO#U-eO~PBzO#Q9pO#T-eO#U-eO~PBzO#O9qO#P9qO#Q9pO#T-eO#U-eO~PBzO!}9rO#O9qO#P9qO#Q9pO#T-eO#U-eO~PBzO!]9uO!^9uO'u!iO(U!jO(`!nO~O![9xO!]9uO!^9uO#Q9pO#T-eO#U-eO'u!iO~PBzO!X0}O%a9{O~O'vTO'yUO(U:QO~O!V1YO!W(tq~O!g:TO~O!g:TO~P%QO!g:VO~O!g:WO~O#X:YO!V#ay!W#ay~O!V#ay!W#ay~P#A]O^%_O#X:^O'k%_O~O^%_O!a#sO#X:^O'k%_O~O^%_O!a#sO!l:bO#X:^O'k%_O(a'fO~O!h%[O'}%PO~P&AZO!]:cO!^:cO'u!iO~PBzO!X'RO%a:gO~O#y#wy!V#wy!W#wy~P#A]OP$uiX$uik$uiz$ui!e$ui!f$ui!h$ui!l$ui#g$ui#h$ui#i$ui#j$ui#k$ui#l$ui#m$ui#n$ui#o$ui#q$ui#s$ui#u$ui#v$ui#y$ui(R$ui(a$ui!V$ui!W$ui~P%D`Oy)uO|)vO(i)zOP%XiX%Xig%Xik%Xiz%Xi!e%Xi!f%Xi!h%Xi!l%Xi#g%Xi#h%Xi#i%Xi#j%Xi#k%Xi#l%Xi#m%Xi#n%Xi#o%Xi#q%Xi#s%Xi#u%Xi#v%Xi#y%Xi(R%Xi(a%Xi(h%Xi!V%Xi!W%Xi~Oy)uO|)vOP%ZiX%Zig%Zik%Ziz%Zi!e%Zi!f%Zi!h%Zi!l%Zi#g%Zi#h%Zi#i%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#q%Zi#s%Zi#u%Zi#v%Zi#y%Zi(R%Zi(a%Zi(h%Zi(i%Zi!V%Zi!W%Zi~O#y$iy!V$iy!W$iy~P#A]O#y#[y!V#[y!W#[y~P#A]O!a#sO!V'Zq!g'Zq~O!V/YO!g(ny~O!S']q!V']q~P#*rO!S:nO~P#*rO!V0bO!W(vy~O!V4xO!W(sq~O#T2iO#U2iO~PBzO#Q:uO#T2iO#U2iO~PBzO#O:vO#P:vO#Q:uO#T2iO#U2iO~PBzO!]:zO!^:zO'u!iO(U!jO(`!nO~O!X0}O%a:}O~O!g;QO~O^%_O#X;VO'k%_O~O^%_O!a#sO#X;VO'k%_O~O^%_O!a#sO!l;ZO#X;VO'k%_O(a'fO~O!X'RO%a;^O~OP$uqX$uqk$uqz$uq!e$uq!f$uq!h$uq!l$uq#g$uq#h$uq#i$uq#j$uq#k$uq#l$uq#m$uq#n$uq#o$uq#q$uq#s$uq#u$uq#v$uq#y$uq(R$uq(a$uq!V$uq!W$uq~P%D`OP$wqX$wqk$wqz$wq!e$wq!f$wq!h$wq!l$wq#g$wq#h$wq#i$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#q$wq#s$wq#u$wq#v$wq#y$wq(R$wq(a$wq!V$wq!W$wq~P%D`Od%]!Z!V%]!Z#X%]!Z#y%]!Z~P!.aO!V'bq!W'bq~P#A]O#T6eO#U6eO~PBzO#Q;bO#T6eO#U6eO~PBzO!V#a!Z!W#a!Z~P#A]O^%_O#X;mO'k%_O~O^%_O!a#sO#X;mO'k%_O~O#d%]!ZP%]!ZX%]!Z^%]!Zk%]!Zz%]!Z!V%]!Z!e%]!Z!f%]!Z!h%]!Z!l%]!Z#g%]!Z#h%]!Z#i%]!Z#j%]!Z#k%]!Z#l%]!Z#m%]!Z#n%]!Z#o%]!Z#q%]!Z#s%]!Z#u%]!Z#v%]!Z'k%]!Z(R%]!Z(a%]!Z!g%]!Z!S%]!Z'i%]!Z#X%]!Zo%]!Z!X%]!Z%a%]!Z!a%]!Z~P#*rO#T8|O#U8|O~PBzO^%_O#X;zO'k%_O~OP%]!ZX%]!Zk%]!Zz%]!Z!e%]!Z!f%]!Z!h%]!Z!l%]!Z#g%]!Z#h%]!Z#i%]!Z#j%]!Z#k%]!Z#l%]!Z#m%]!Z#n%]!Z#o%]!Z#q%]!Z#s%]!Z#u%]!Z#v%]!Z#y%]!Z(R%]!Z(a%]!Z!V%]!Z!W%]!Z~P%D`Oo(VX~P1gO'u!iO~P!'xO!ScX!VcX#XcX~P&:hOPYXXYXkYXyYXzYX|YX!VYX!VcX!eYX!fYX!hYX!lYX#XYX#XcX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX(RYX(aYX(hYX(iYX~O!acX!gYX!gcX(acX~P')iOP<WOQ<WOa=wOb!fOikOk<WOlkOmkOskOu<WOw<WO|WO!QkO!RkO!XXO!c<ZO!hZO!k<WO!l<WO!m<WO!o<[O!q<]O!t!eO$Q!hO$UfO't)TO'vTO'yUO(RVO(`[O(m=uO~O!V<lO!W$ka~Oi%QOk$rOl$qOm$qOs%ROu%SOw<rO|$yO!X$zO!c=|O!h$vO#c<xO$Q%WO$m<tO$o<vO$r%XO't(kO'vTO'yUO'}%PO(R$sO~O#p)[O~P'._O!WYX!WcX~P')iO#d<`O~O!a#sO#d<`O~O#X<pO~O#o<eO~O#X<zO!V(fX!W(fX~O#X<pO!V(dX!W(dX~O#d<{O~Od<}O~P!.aO#d=SO~O#d=TO~O!a#sO#d=UO~O!a#sO#d<{O~O#y=VO~P#A]O#d=WO~O#d=XO~O#d=YO~O#d=ZO~O#d=[O~O#d=]O~O#y=^O~P!.aO#y=_O~P!.aO$U~!f!|!}#P#Q#T#b#c#n(m$m$o$r%U%`%a%b%h%j%m%n%p%r~'oR$U(m#h!R'm'u#il#g#jky'n(U'n't$W$Y$W~",goto:"$2w(zPPPP({P)OP)`P+j/pPPPP7RPP7hP=gAYPAmPAmPPPAmPC]PAmPAmPAmPCaPPCfPDPPH}PPPIRPPPPIRLUPPPL[NiPIRP!#SPPPP!%fIRPPPIRPIRP!'xIRP!+`!,b!,gP!-X!-]!-XPPPPP!0j!3SPP!3]!4kP!,bIRIR!8S!;`!@l!@l!DePPP!DlIRPPPPPPPPPPP!G{P!IbPPIR!JsPIRPIRIRIRIRPIR!LZPP# eP#$kP#$o#$y#$}#$}P# bP#%R#%RP#(XP#(]IRIR#(c#+hAmPAmPAmAmP#,rAmAm#.lAm#0yAm#2mAmAm#3Z#5V#5V#5Z#5c#5V#5kP#5VPAm#6gAm#7oAmAm7RPPP#8zPP#9d#9dP#9dP#9y#9dPP#:PP#9vP#9v#:c!3X#9v#:}#;T7O)O#;W)OP#;_#;_#;_P)OP)OP)OP)OPP)OP#;e#;hP#;h)OP#;lP#;oP)OP)OP)OP)OP)OP)O)OPP#;u#;{#<V#<]#<c#<i#<o#<}#=T#=Z#=e#=k#>g#>v#>|#?`#?f#?l#?z#@a#Aq#BP#BV#B]#Bc#Bi#Bs#By#CP#CZ#Cm#CsPPPPPPPPPP#CyPPPPPPP#Dm#I^P#J}#KU#K^PPPP$ h$$^$+P$+S$+V$-g$-j$-m$-tPP$-z$.O$.w$/w$/{$0aPP$0e$0k$0oP$0r$0v$0y$1o$2V$2[$2_$2b$2h$2k$2o$2sR!zRmpOXr!X#b%^&e&g&h&j,`,e1j1mU!pQ'R-QQ%dtQ%lwQ%szQ&]!TS&y!c,xQ'X!f^'^!m!r!s!t!u!v!wS*^$z*cQ+W%mQ+e%uQ,P&VQ-O'QQ-Y'YY-b'_'`'a'b'cQ/s*eQ1X,QW2e-d-f-g-hS5R0}5UU6a2h2j2kU8R5Y5Z5]S8x6d6fS9u8S8TQ:c8{Q:z9xR<y<[%SdOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&e&g&h&j&n&v'T'h'x'z(Q([(m(q(u)t*v+j,[,`,e-U-^-r-{.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o3R4}5b5t5v5w6Z8O8Y8g8s:^;V;m;zS#n]<X!r)V$Y$k&z)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xQ*n%TQ+]%oQ,R&YQ,Y&bQ.[<qQ0W+OQ0[+QQ0g+^Q1a,WQ2u.XQ4i0bQ5i1YQ6o2yQ6u<rQ7h4jR9S6p'QkOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=x#n!kQ!m!p!r!s!t!u!v!w!x&y'Q'R'^'_'`'a'b'c'd,x-O-Q-b-d-e-f-g-h0}2e2h2i2j2k5O5U5W5X5Y5Z5[6a6d6e6f7v7w7x7y8T8x8{8|9p9q9r:c:u:v;b$Y$qi#s#u$a$b$v$y%U%V%Z)p)y){)|*T*Z*i*j*}+Q+o+r.W.b/a/b/d0P0t0w1P2x3p3z4S4Y4a4c5a6m7T7^8V9P9[9{:g:};^<n<o<s<t<u<v<w<x=O=P=Q=R=S=T=W=X=Y=Z=^=_=u=}>O>R>SQ%vzQ&w!cS&}%x,{Q+]%oS/Q)v/SQ0O*rQ0g+^Q0l+dQ1`,VQ1a,WQ4i0bQ4r0nQ5l1[Q5m1_Q7h4jQ7k4oQ8b5oQ9j7lR:R8_pmOXr!T!X#b%^&[&e&g&h&j,`,e1j1mR,T&^&z`OPXYrstux!X!^!g!l#Q#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k%^%d%q&^&a&b&e&g&h&j&n&v'T'h'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=w=x[#ZWZ#U#X&z'xQ%gvQ%kwS%pz%u!U%y|}#e#g#j%[%w(R(Y(Z(_+h+i+k,^,r-v-y-}.O.Q1r2q2r6P6jQ&R!RQ'U!eQ'W!fQ(f#pS*Q$v*US+V%l%mQ+Z%oQ+z&TQ,O&VS-X'X'YQ.Z(gQ/^*RQ0`+WQ0f+^Q0h+_Q0k+cQ1S+{S1W,P,QQ2[-YQ3q/YQ4h0bQ4l0eQ4q0mQ5h1XQ7Q3rQ7g4jQ7j4nQ9f7fR:p9gv$xi#u%U%V%Z)y){*T*i*j.b/a0P3p4Y9[=u=}>O!d%iw!f!o%k%l%m&x'W'X'Y']'k*]+V+W,u-X-Y-a-c/k0`2T2[2c2g4U6_6c8v8z:a;YQ+P%gQ+p&OQ+s&PQ+}&VQ.Y(fQ1R+zU1V,O,P,QQ2z.ZQ5c1SS5g1W1XS7t4|5QQ8^5hU9s7z8P8QU:x9t9v9wQ;e:yQ;u;f!z=y#s$a$b$v$y)p)|*Z*}+Q+o+r.W/b/d0t0w1P2x3z4S4a4c5a6m7T7^8V9P9{:g:};^<s<u<w=O=Q=S=W=Y=^>R>Sg=z<n<o<t<v<x=P=R=T=X=Z=_W$}i%P*k=uS&O!O&[Q&P!PQ&Q!QR+n%|$Z$|i#s#u$a$b$v$y%U%V%Z)p)y){)|*T*Z*i*j*}+Q+o+r.W.b/a/b/d0P0t0w1P2x3p3z4S4Y4a4c5a6m7T7^8V9P9[9{:g:};^<n<o<s<t<u<v<w<x=O=P=Q=R=S=T=W=X=Y=Z=^=_=u=}>O>R>ST)q$s)rV*o%T<q<rU&}!c%x,{S(t#w#xQ+b%rS.S(b(cQ0x+tQ4Z/|R7p4x'QkOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=x$q$^c#W#c%b%c%e'w'}(i(p(x(y(z({(|(})O)P)Q)R)S)U)X)])g*{+a,v-k-p-u-z.a.g.k.m.n.o/O0Q1y1|2^2n3Q3V3W3X3Y3Z3[3]3^3_3`3a3b3c3f3g3l4_4f6S6Y6h6s6t6y6z7r8m8q9T9X9Y:[:r;R;T;k;x<R<Y=lT#RV#S'RkOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xQ&{!cR2P,x#f!kQ!c!m!p!r!s!t!u!v!w!x&y'Q'R'^'_'`'a'b'c'd,x-O-Q-b-d-e-f-g-h2e2h2i2j2k5O5W5X5[6a6d6e6f7v7w7x7y8x8{8|9p9q9r:c:u:v;bS*]$z*cS/k*^*eQ/t*fQ0z+vQ4U/sQ4X/vS4|0}5US7z5R5]S8P5Y5ZS9t8R8SQ9v8TS:y9u9xR;f:zlpOXr!X#b%^&e&g&h&j,`,e1j1mQ&l![Q'l!tS(h#r<`Q+T%jQ+x&RQ+y&SQ-V'VQ-j'eS.`(m<{S0R*v=UQ0^+UQ0|+wQ1q,gQ1s,hQ1{,sQ2Y-WQ2]-[S4`0S=[Q4d0_S4g0a=]Q6R1}Q6V2ZQ6[2bQ7e4eQ8n6TQ8o6WQ8r6]Q:X8kQ:]8tQ;U:_Q;l;WR;y;n$l$]c#W#c%c%e'w'}(i(p(x(y(z({(|(})O)P)Q)R)S)U)X)])g*{+a,v-k-p-u-z.a.g.k.n.o/O0Q1y1|2^2n3Q3V3W3X3Y3Z3[3]3^3_3`3a3b3c3f3g3l4_4f6S6Y6h6s6t6y6z7r8m8q9T9X9Y:[:r;R;T;k;x<R<Y=lS(e#m'[U*h${(l3eS*z%b.mQ2v0WQ6l2uQ9R6oR:h9S$l$[c#W#c%c%e'w'}(i(p(x(y(z({(|(})O)P)Q)R)S)U)X)])g*{+a,v-k-p-u-z.a.g.k.n.o/O0Q1y1|2^2n3Q3V3W3X3Y3Z3[3]3^3_3`3a3b3c3f3g3l4_4f6S6Y6h6s6t6y6z7r8m8q9T9X9Y:[:r;R;T;k;x<R<Y=lS(d#m'[S(v#x$]S*y%b.mS.T(c(eQ.p)WQ0T*zR2s.U'QkOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xS#n]<XQ&g!VQ&h!WQ&j!YQ&k!ZR1i,cQ'S!eQ*|%gQ-T'US.V(f+PQ2W-SW2w.Y.Z0V0XQ6U2XU6k2t2v2zS9O6l6nS:f9Q9RS;[:e:hQ;p;]R;{;qV!qQ'R-Q!_^OQXZ_r!T!X!m#b#e%[%^&[&^&e&g&h&j'R(_,`,e-Q-}0}1j1m5O5UT#n]<X%^yOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&b&e&g&h&j&n&v'T'h'x'z(Q([(m(q(u)t*v+O+j,[,`,e-U-^-r-{.X.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o2y3R4}5b5t5v5w6Z6p8O8Y8g8s:^;V;m;zS(t#w#xS.S(b(c!s=c$Y$k&z)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xU!oQ'R-Q[']!m!s!t!u!v!wS'k!p!rY'm!x5O5W5X5[S-a'^'_W-c'`'a'b'cY-i'd7v7w7x7yS2c-b-dW2f-e9p9q9rU2g-f-g-hS5Q0}5US6_2e2hU6b2i:u:vS6c2j2kS7z5R5]S8Q5Y5ZS8v6a6dS8y6e;bQ8z6fS9t8R8SQ9w8TS:a8x8{Q:d8|S:y9u9xQ;Y:cR;f:zU!qQ'R-QT5S0}5UU'j!o5P5QS(^#f1gU-`']'m8QQ/]*QQ/i*]U2d-c-i9wQ3v/^S4P/j/tS6`2f2gQ7P3qS7[4V4XS8w6b6cQ9^7QQ9e7_S:b8y8zR;Z:dQ#tbU'i!o5P5QS(]#f1gQ*w%]Q+R%hQ+X%nW-_']'j'm8QQ-|(^Q/[*QQ/h*]Q/n*`Q0]+SQ1T+|W2a-`-c-i9wS3u/]/^S4O/i/tQ4R/mQ4T/oQ5e1UU6^2d2f2gQ7O3qQ7S3vS7W4P4XQ7]4WQ8[5fU8u6`6b6cS9]7P7QQ9a7XQ9c7[Q9n7sQ:O8]U:`8w8y8zQ:l9^Q:m9bQ:o9eQ:t9oQ;P:PS;X:b:dQ;`:nQ;c:wQ;o;ZQ;s;dQ<O;tQ<T<PQ=f=aQ=q=jR=r=k%^aOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&b&e&g&h&j&n&v'T'h'x'z(Q([(m(q(u)t*v+O+j,[,`,e-U-^-r-{.X.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o2y3R4}5b5t5v5w6Z6p8O8Y8g8s:^;V;m;zS#tx!g!r=`$Y$k&z)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xR=f=w%^bOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&b&e&g&h&j&n&v'T'h'x'z(Q([(m(q(u)t*v+O+j,[,`,e-U-^-r-{.X.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o2y3R4}5b5t5v5w6Z6p8O8Y8g8s:^;V;m;zQ%]j!d%hw!f!o%k%l%m&x'W'X'Y']'k*]+V+W,u-X-Y-a-c/k0`2T2[2c2g4U6_6c8v8z:a;YS%nx!gQ+S%iQ+|&VW1U+},O,P,QU5f1V1W1XS7s4|5QS8]5g5hW9o7t7z8P8QQ:P8^W:w9s9t9v9wS;d:x:yS;t;e;fQ<P;u!r=a$Y$k&z)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xQ=j=vR=k=w%QeOPXYrstu!X!^!l#Q#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&e&g&h&j&n&v'T'h'z(Q([(m(q(u)t*v+O+j,[,`,e-U-^-r-{.X.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o2y3R4}5b5t5v5w6Z6p8O8Y8g8s:^;V;m;zY#`WZ#U#X'x!U%y|}#e#g#j%[%w(R(Y(Z(_+h+i+k,^,r-v-y-}.O.Q1r2q2r6P6jQ,Z&b!p=b$Y$k)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xR=e&zS'O!c%xR2R,{%SdOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&e&g&h&j&n&v'T'h'x'z(Q([(m(q(u)t*v+j,[,`,e-U-^-r-{.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o3R4}5b5t5v5w6Z8O8Y8g8s:^;V;m;z!r)V$Y$k&z)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xQ,Y&bQ0W+OQ2u.XQ6o2yR9S6p!n$Sc#W%b'w'}(i(p)P)Q)R)S)X)]+a-k-p-u-z.a.g/O0Q2^2n3Q3c4_4f6Y6h6s8q:[;T;k;x<R<Y!T<g)U)g,v.m1y1|3V3_3`3a3b3f3l6S6t6y6z7r8m9T9X9Y:r;R=l!j$Uc#W%b'w'}(i(p)R)S)X)]+a-k-p-u-z.a.g/O0Q2^2n3Q3c4_4f6Y6h6s8q:[;T;k;x<R<Y!P<i)U)g,v.m1y1|3V3a3b3f3l6S6t6y6z7r8m9T9X9Y:r;R=l!f$Yc#W%b'w'}(i(p)X)]+a-k-p-u-z.a.g/O0Q2^2n3Q3c4_4f6Y6h6s8q:[;T;k;x<R<YQ3p/Wz=x)U)g,v.m1y1|3V3f3l6S6t6y6z7r8m9T9X9Y:r;R=lQ=}>PR>O>Q'QkOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xS$lh$mR3i.s'XgOPWXYZhrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k$m%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.s.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xT$hf$nQ$ffS)`$i)dR)l$nT$gf$nT)b$i)d'XhOPWXYZhrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k$m%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.s.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xT$lh$mQ$ohR)k$m%^jOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&b&e&g&h&j&n&v'T'h'x'z(Q([(m(q(u)t*v+O+j,[,`,e-U-^-r-{.X.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o2y3R4}5b5t5v5w6Z6p8O8Y8g8s:^;V;m;z!s=v$Y$k&z)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=x#alOPXZr!X!^!l#Q#b#l#y$k%^&^&a&b&e&g&h&j&n&v'T(u)i+O+j,[,`,e-U.X.t/}1Q1b1c1d1f1j1m1o2y3h4}5b5t5v5w6p8O8Y8gv${i#u%U%V%Z)y){*T*i*j.b/a0P3p4Y9[=u=}>O!z(l#s$a$b$v$y)p)|*Z*}+Q+o+r.W/b/d0t0w1P2x3z4S4a4c5a6m7T7^8V9P9{:g:};^<s<u<w=O=Q=S=W=Y=^>R>SQ*s%XQ/P)ug3e<n<o<t<v<x=P=R=T=X=Z=_v$wi#u%U%V%Z)y){*T*i*j.b/a0P3p4Y9[=u=}>OQ*V$xS*`$z*cQ*t%YQ/o*a!z=h#s$a$b$v$y)p)|*Z*}+Q+o+r.W/b/d0t0w1P2x3z4S4a4c5a6m7T7^8V9P9{:g:};^<s<u<w=O=Q=S=W=Y=^>R>Sf=i<n<o<t<v<x=P=R=T=X=Z=_Q=m=yQ=n=zQ=o={R=p=|v${i#u%U%V%Z)y){*T*i*j.b/a0P3p4Y9[=u=}>O!z(l#s$a$b$v$y)p)|*Z*}+Q+o+r.W/b/d0t0w1P2x3z4S4a4c5a6m7T7^8V9P9{:g:};^<s<u<w=O=Q=S=W=Y=^>R>Sg3e<n<o<t<v<x=P=R=T=X=Z=_lnOXr!X#b%^&e&g&h&j,`,e1j1mQ*Y$yQ,n&qQ,o&sR3y/b$Y$|i#s#u$a$b$v$y%U%V%Z)p)y){)|*T*Z*i*j*}+Q+o+r.W.b/a/b/d0P0t0w1P2x3p3z4S4Y4a4c5a6m7T7^8V9P9[9{:g:};^<n<o<s<t<u<v<w<x=O=P=Q=R=S=T=W=X=Y=Z=^=_=u=}>O>R>SQ+q&PQ0v+sQ4v0uR7o4wT*b$z*cS*b$z*cT5T0}5US/m*_4}T4W/u8OQ+R%hQ/n*`Q0]+SQ1T+|Q5e1UQ8[5fQ9n7sQ:O8]Q:t9oQ;P:PQ;c:wQ;s;dQ<O;tR<T<Pn)y$t(n*u/`/w/x3O3w4^6}7`:k=g=s=t!W=O(j)Z*P*X._.{/W/e0U0s0u2}3x3|4u4w6q6r7U7Y7b7d9`9d;_>P>Q]=P3d6x9U:i:j;|p){$t(n*u/U/`/w/x3O3w4^6}7`:k=g=s=t!Y=Q(j)Z*P*X._.{/W/e0U0s0u2{2}3x3|4u4w6q6r7U7Y7b7d9`9d;_>P>Q_=R3d6x9U9V:i:j;|pmOXr!T!X#b%^&[&e&g&h&j,`,e1j1mQ&X!SR,[&bpmOXr!T!X#b%^&[&e&g&h&j,`,e1j1mR&X!SQ+u&QR0r+nqmOXr!T!X#b%^&[&e&g&h&j,`,e1j1mQ1O+zS5`1R1SU8U5^5_5cS9z8W8XS:{9y9|Q;g:|R;v;hQ&`!TR,U&[R5l1[S%pz%uR0h+_Q&e!UR,`&fR,f&kT1k,e1mR,j&lQ,i&lR1t,jQ'o!yR-l'oQrOQ#bXT%ar#bQ!|TR'q!|Q#PUR's#PQ)r$sR.|)rQ#SVR'u#SQ#VWU'{#V'|-sQ'|#WR-s'}Q,y&{R2Q,yQ.c(nR3P.cQ.f(pS3S.f3TR3T.gQ-Q'RR2U-Qr_OXr!T!X#b%^&[&^&e&g&h&j,`,e1j1mU!mQ'R-QS#eZ%[Y#o_!m#e-}5OQ-}(_T5O0}5US#]W%wU(S#](T-tQ(T#^R-t(OQ,|'OR2S,|Q(`#hQ-w(XW.R(`-w2l6gQ2l-xR6g2mQ)d$iR.u)dQ$mhR)j$mQ$`cU)Y$`-o<mQ-o<YR<m)gQ/Z*QW3s/Z3t7R9_U3t/[/]/^S7R3u3vR9_7S#m)w$t(j(n)Z*P*X*p*q*u.].^._.{/U/V/W/`/e/w/x0U0s0u2{2|2}3O3d3w3x3|4^4u4w6q6r6v6w6x6}7U7Y7`7b7d9U9V9W9`9d:i:j:k;_;|=g=s=t>P>QQ/c*XU3{/c3}7VQ3}/eR7V3|Q*c$zR/q*cQ*l%OR/z*lQ4b0UR7c4bQ+l%zR0q+lQ4y0xS7q4y9lR9l7rQ+w&RR0{+wQ5U0}R7|5UQ1Z,RS5j1Z8`R8`5lQ0c+ZW4k0c4m7i9hQ4m0fQ7i4lR9h7jQ+`%pR0i+`Q1m,eR5z1mWqOXr#bQ&i!XQ*x%^Q,_&eQ,a&gQ,b&hQ,d&jQ1h,`S1k,e1mR5y1jQ%`oQ&m!]Q&p!_Q&r!`Q&t!aU'g!o5P5QQ+T%jQ+g%vQ+m%{Q,T&`Q,l&oY-]']'i'j'm8QQ-j'eQ/p*bQ0^+US1^,U,XQ1u,kQ1v,nQ1w,oQ2]-[[2_-_-`-c-i-k9wQ4d0_Q4p0lQ4t0sQ5d1TQ5n1`Q5x1iY6X2^2a2d2f2gQ6[2bQ7e4eQ7m4rQ7n4uQ7{5TQ8Z5eQ8a5mY8p6Y6^6`6b6cQ8r6]Q9i7kQ9m7sQ9}8[Q:S8bY:Z8q8u8w8y8zQ:]8tQ:q9jS:s9n9oQ;O:OW;S:[:`:b:dQ;U:_S;a:t:wQ;i;PU;j;T;X;ZQ;l;WS;r;c;dS;w;k;oQ;y;nS;};s;tQ<Q;xS<S<O<PQ<U<RR<V<TQ%jwQ'V!fQ'e!oU+U%k%l%mQ,s&xU-W'W'X'YS-[']'kQ/g*]S0_+V+WQ1},uS2Z-X-YS2b-a-cQ4Q/kQ4e0`Q6T2TQ6W2[S6]2c2gQ7Z4US8t6_6cS:_8v8zQ;W:aR;n;YS$ui=uR*m%PU%Oi%P=uR/y*kQ$tiS(j#s+QQ(n#uS)Z$a$bQ*P$vQ*X$yQ*p%UQ*q%VQ*u%ZQ.]<sQ.^<uQ._<wQ.{)pQ/U)yQ/V){Q/W)|Q/`*TQ/e*ZQ/w*iQ/x*jh0U*}.W1P2x5a6m8V9P9{:g:};^Q0s+oQ0u+rQ2{=OQ2|=QQ2}=SQ3O.bS3d<n<oQ3w/aQ3x/bQ3|/dQ4^0PQ4u0tQ4w0wQ6q=WQ6r=YQ6v<tQ6w<vQ6x<xQ6}3pQ7U3zQ7Y4SQ7`4YQ7b4aQ7d4cQ9U=TQ9V=PQ9W=RQ9`7TQ9d7^Q:i=XQ:j=ZQ:k9[Q;_=^Q;|=_Q=g=uQ=s=}Q=t>OQ>P>RR>Q>SloOXr!X#b%^&e&g&h&j,`,e1j1mQ!dPS#dZ#lQ&o!^U'Z!l4}8OQ't#QQ(w#yQ)h$kS,X&^&aQ,]&bQ,k&nQ,p&vQ-S'TQ.i(uQ.y)iQ0X+OQ0o+jQ1e,[Q2X-UQ2v.XQ3k.tQ4[/}Q5_1QQ5p1bQ5q1cQ5s1dQ5u1fQ5|1oQ6l2yQ6{3hQ8X5bQ8f5tQ8h5vQ8i5wQ9R6pQ9|8YR:U8g#UcOPXZr!X!^!l#b#l#y%^&^&a&b&e&g&h&j&n&v'T(u+O+j,[,`,e-U.X/}1Q1b1c1d1f1j1m1o2y4}5b5t5v5w6p8O8Y8gQ#WWQ#cYQ%bsQ%ctQ%euS'w#U'zQ'}#XQ(i#rQ(p#vQ(x#|Q(y#}Q(z$OQ({$PQ(|$QQ(}$RQ)O$SQ)P$TQ)Q$UQ)R$VQ)S$WQ)U$YQ)X$_Q)]$cW)g$k)i.t3hQ*{%dQ+a%qS,v&z2OQ-k'hS-p'x-rQ-u(QQ-z([Q.a(mQ.g(qQ.k<WQ.m<ZQ.n<[Q.o<]Q/O)tQ0Q*vQ1y,qQ1|,tQ2^-^Q2n-{Q3Q.eQ3V<`Q3W<aQ3X<bQ3Y<cQ3Z<dQ3[<eQ3]<fQ3^<gQ3_<hQ3`<iQ3a<jQ3b<kQ3c.lQ3f<pQ3g<yQ3l<lQ4_0SQ4f0aQ6S<zQ6Y2`Q6h2oQ6s3RQ6t<{Q6y<}Q6z=UQ7r4zQ8m6QQ8q6ZQ9T=VQ9X=[Q9Y=]Q:[8sQ:r9kQ;R:YQ;T:^Q;k;VQ;x;mQ<R;zQ<Y#QR=l=xR#YWR&|!cU!oQ'R-QS&x!c,x[']!m!s!t!u!v!wS'k!p!r^'m!x5O5W5X5Y5Z5[S,u&y'QS-a'^'_W-c'`'a'b'c[-i'd7v7w7x7y8TQ2T-OS2c-b-dW2f-e9p9q9rU2g-f-g-hS5P0}5US6_2e2hU6b2i:u:vS6c2j2kS8v6a6dS8y6e;bQ8z6fS:a8x8{Q:d8|R;Y:cR(o#uR(r#vQ!dQT-P'R-QQ#m]R'[<XT#iZ%[S#hZ%[U%z|},^U(X#e#g#jS-x(Y(ZQ.P(_Q0p+kQ2m-yU2p-}.O.QS6i2q2rR8}6j`#[W#U#X%w'x(R+h-vt#fZ|}#e#g#j%[(Y(Z(_+k-y-}.O.Q2q2r6jQ1g,^Q1z,rQ6O1rQ8l6PT=d&z+iT#_W%wS#^W%wS'y#U(RS(O#X+hS,w&z+iT-q'x-vT'P!c%xQ$ifR)n$nT)c$i)dR3j.sT*S$v*UR*[$yQ0V*}Q2t.WQ5^1PQ6n2xQ8W5aQ9Q6mQ9y8VQ:e9PQ:|9{Q;]:gQ;h:}R;q;^lpOXr!X#b%^&e&g&h&j,`,e1j1mQ&_!TR,T&[V%{|},^R0y+tR,S&YQ%tzR+f%uR+[%oT&c!U&fT&d!U&fT1l,e1m",nodeNames:"\u26a0 ArithOp ArithOp LineComment BlockComment Script ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:363,context:zG,nodeProps:[["group",-26,6,14,16,62,199,203,206,207,209,212,215,226,228,234,236,238,240,243,249,255,257,259,261,263,265,266,"Statement",-32,10,11,25,28,29,35,45,48,49,51,56,64,72,76,78,80,81,103,104,113,114,131,134,136,137,138,139,141,142,162,163,165,"Expression",-23,24,26,30,34,36,38,166,168,170,171,173,174,175,177,178,179,181,182,183,193,195,197,198,"Type",-3,84,96,102,"ClassItem"],["openedBy",31,"InterpolationStart",50,"[",54,"{",69,"(",143,"JSXStartTag",155,"JSXStartTag JSXStartCloseTag"],["closedBy",33,"InterpolationEnd",44,"]",55,"}",70,")",144,"JSXSelfCloseEndTag JSXEndTag",160,"JSXEndTag"]],propSources:[GG],skippedNodes:[0,3,4,269],repeatNodeCount:32,tokenData:"$>y(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tu>PuvBavwDxwxGgxyMvyz! Qz{!![{|!%O|}!&]}!O!%O!O!P!'g!P!Q!1w!Q!R#0t!R![#3T![!]#@T!]!^#Aa!^!_#Bk!_!`#GS!`!a#In!a!b#N{!b!c$$z!c!}>P!}#O$&U#O#P$'`#P#Q$,w#Q#R$.R#R#S>P#S#T$/`#T#o$0j#o#p$4z#p#q$5p#q#r$7Q#r#s$8^#s$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$I|>P$I|$I}$<s$I}$JO$<s$JO$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(n%d_$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$d&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$d&j'z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$d&j'wpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'wpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$d&j'wp'z!b'm(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'x#S$d&j'n(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$d&j'wp'z!b'n(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$d&j!l$Ip'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#q$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#q$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'v$(n$d&j'z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$d&j'z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$d&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$_#t$d&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$_#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$_#t$d&j'z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$_#t'z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hg$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|<[i$d&j(`!L^'wp'z!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!Q%Z!Q![<P![!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|=|P;=`<%l<P(CS>`k$d&j'wp'z!b(U!LY't&;d$W#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P+d@`k$d&j'wp'z!b$W#tOY%ZYZ&cZr%Zrs&}st%Ztu@Tuw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![@T![!^%Z!^!_*g!_!c%Z!c!}@T!}#O%Z#O#P&c#P#R%Z#R#S@T#S#T%Z#T#o@T#o#p*g#p$g%Z$g;'S@T;'S;=`BT<%lO@T+dBWP;=`<%l@T(CSB^P;=`<%l>P%#SBl`$d&j'wp'z!b#i$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SCy_$d&j#{$Id'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfETa(i%<v$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sv%ZvwFYwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SFe`$d&j#u$Id'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2bGp_'y$)`$d&j'wpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo*QHv_$d&j'wpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo)`IzX$d&jOwIuwx6cx!^Iu!^!_Jg!_#oIu#o#pJg#p;'SIu;'S;=`KP<%lOIu#tJjTOwJgwx7]x;'SJg;'S;=`Jy<%lOJg#tJ|P;=`<%lJg)`KSP;=`<%lIu*QK`]$_#t$d&j'wpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$fL^Z'wpOYLXYZJgZrLXrsJgswLXwxMPx#OLX#O#PJg#P;'SLX;'S;=`Mj<%lOLX$fMWU$_#t'wpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$fMmP;=`<%lLX*QMsP;=`<%lHo(*QNR_!h(!b$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l! ]_!gM|$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!!ib$d&j'wp'z!b'u#)d#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!#q{!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!#|`$d&j'wp'z!b#g$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!%Z`$d&j'wp'z!bk&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!&h_!V&;l$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!'rc$d&j'wp'z!by'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!(}!P!Q%Z!Q![!+g![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!)Wa$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!*]!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!*h_!UMt$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!+rg$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!+g![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S!+g#S#X%Z#X#Y!-Z#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!-dg$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!.{|}%Z}!O!.{!O!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!/Uc$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!0lc$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!2Sf$d&j'wp'z!b#h$IdOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}xz!3hz{#$s{!P!3h!P!Q#&Y!Q!^!3h!^!_!Mh!_!`#-x!`!a#/_!a!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(r!3sb$d&j'wp'z!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(Q!5U`$d&j'z!b!RSOY!4{YZ&cZw!4{wx!6Wx!P!4{!P!Q!=o!Q!^!4{!^!_!?g!_!}!4{!}#O!Bn#O#P!<w#P#o!4{#o#p!?g#p;'S!4{;'S;=`!Cw<%lO!4{&n!6_^$d&j!RSOY!6WYZ&cZ!P!6W!P!Q!7Z!Q!^!6W!^!_!8g!_!}!6W!}#O!;U#O#P!<w#P#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!7ba$d&j!RSO!^&c!_#Z&c#Z#[!7Z#[#]&c#]#^!7Z#^#a&c#a#b!7Z#b#g&c#g#h!7Z#h#i&c#i#j!7Z#j#m&c#m#n!7Z#n#o&c#p;'S&c;'S;=`&w<%lO&cS!8lX!RSOY!8gZ!P!8g!P!Q!9X!Q!}!8g!}#O!9p#O#P!:o#P;'S!8g;'S;=`!;O<%lO!8gS!9^U!RS#Z#[!9X#]#^!9X#a#b!9X#g#h!9X#i#j!9X#m#n!9XS!9sVOY!9pZ#O!9p#O#P!:Y#P#Q!8g#Q;'S!9p;'S;=`!:i<%lO!9pS!:]SOY!9pZ;'S!9p;'S;=`!:i<%lO!9pS!:lP;=`<%l!9pS!:rSOY!8gZ;'S!8g;'S;=`!;O<%lO!8gS!;RP;=`<%l!8g&n!;Z[$d&jOY!;UYZ&cZ!^!;U!^!_!9p!_#O!;U#O#P!<P#P#Q!6W#Q#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<UX$d&jOY!;UYZ&cZ!^!;U!^!_!9p!_#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<tP;=`<%l!;U&n!<|X$d&jOY!6WYZ&cZ!^!6W!^!_!8g!_#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!=lP;=`<%l!6W(Q!=xi$d&j'z!b!RSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!=o#[#]&}#]#^!=o#^#a&}#a#b!=o#b#g&}#g#h!=o#h#i&}#i#j!=o#j#m&}#m#n!=o#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!?nZ'z!b!RSOY!?gZw!?gwx!8gx!P!?g!P!Q!@a!Q!}!?g!}#O!Ap#O#P!:o#P;'S!?g;'S;=`!Bh<%lO!?g!f!@hb'z!b!RSOY'}Zw'}x#O'}#P#Z'}#Z#[!@a#[#]'}#]#^!@a#^#a'}#a#b!@a#b#g'}#g#h!@a#h#i'}#i#j!@a#j#m'}#m#n!@a#n;'S'};'S;=`(f<%lO'}!f!AuX'z!bOY!ApZw!Apwx!9px#O!Ap#O#P!:Y#P#Q!?g#Q;'S!Ap;'S;=`!Bb<%lO!Ap!f!BeP;=`<%l!Ap!f!BkP;=`<%l!?g(Q!Bu^$d&j'z!bOY!BnYZ&cZw!Bnwx!;Ux!^!Bn!^!_!Ap!_#O!Bn#O#P!<P#P#Q!4{#Q#o!Bn#o#p!Ap#p;'S!Bn;'S;=`!Cq<%lO!Bn(Q!CtP;=`<%l!Bn(Q!CzP;=`<%l!4{'`!DW`$d&j'wp!RSOY!C}YZ&cZr!C}rs!6Ws!P!C}!P!Q!EY!Q!^!C}!^!_!GQ!_!}!C}!}#O!JX#O#P!<w#P#o!C}#o#p!GQ#p;'S!C};'S;=`!Kb<%lO!C}'`!Eci$d&j'wp!RSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!EY#[#](r#]#^!EY#^#a(r#a#b!EY#b#g(r#g#h!EY#h#i(r#i#j!EY#j#m(r#m#n!EY#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!GXZ'wp!RSOY!GQZr!GQrs!8gs!P!GQ!P!Q!Gz!Q!}!GQ!}#O!IZ#O#P!:o#P;'S!GQ;'S;=`!JR<%lO!GQt!HRb'wp!RSOY)rZr)rs#O)r#P#Z)r#Z#[!Gz#[#])r#]#^!Gz#^#a)r#a#b!Gz#b#g)r#g#h!Gz#h#i)r#i#j!Gz#j#m)r#m#n!Gz#n;'S)r;'S;=`*Z<%lO)rt!I`X'wpOY!IZZr!IZrs!9ps#O!IZ#O#P!:Y#P#Q!GQ#Q;'S!IZ;'S;=`!I{<%lO!IZt!JOP;=`<%l!IZt!JUP;=`<%l!GQ'`!J`^$d&j'wpOY!JXYZ&cZr!JXrs!;Us!^!JX!^!_!IZ!_#O!JX#O#P!<P#P#Q!C}#Q#o!JX#o#p!IZ#p;'S!JX;'S;=`!K[<%lO!JX'`!K_P;=`<%l!JX'`!KeP;=`<%l!C}(r!Ksk$d&j'wp'z!b!RSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[!Kh#[#]%Z#]#^!Kh#^#a%Z#a#b!Kh#b#g%Z#g#h!Kh#h#i%Z#i#j!Kh#j#m%Z#m#n!Kh#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W!Mq]'wp'z!b!RSOY!MhZr!Mhrs!?gsw!Mhwx!GQx!P!Mh!P!Q!Nj!Q!}!Mh!}#O#!U#O#P!:o#P;'S!Mh;'S;=`##U<%lO!Mh#W!Nse'wp'z!b!RSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[!Nj#[#]*g#]#^!Nj#^#a*g#a#b!Nj#b#g*g#g#h!Nj#h#i*g#i#j!Nj#j#m*g#m#n!Nj#n;'S*g;'S;=`+Z<%lO*g#W#!]Z'wp'z!bOY#!UZr#!Urs!Apsw#!Uwx!IZx#O#!U#O#P!:Y#P#Q!Mh#Q;'S#!U;'S;=`##O<%lO#!U#W##RP;=`<%l#!U#W##XP;=`<%l!Mh(r##e`$d&j'wp'z!bOY##[YZ&cZr##[rs!Bnsw##[wx!JXx!^##[!^!_#!U!_#O##[#O#P!<P#P#Q!3h#Q#o##[#o#p#!U#p;'S##[;'S;=`#$g<%lO##[(r#$jP;=`<%l##[(r#$pP;=`<%l!3h(CS#%Qb$d&j'wp'z!b'o(;d!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(CS#&e_$d&j'wp'z!bR(;dOY#&YYZ&cZr#&Yrs#'dsw#&Ywx#*tx!^#&Y!^!_#,s!_#O#&Y#O#P#(f#P#o#&Y#o#p#,s#p;'S#&Y;'S;=`#-r<%lO#&Y(Bb#'m]$d&j'z!bR(;dOY#'dYZ&cZw#'dwx#(fx!^#'d!^!_#)w!_#O#'d#O#P#(f#P#o#'d#o#p#)w#p;'S#'d;'S;=`#*n<%lO#'d(AO#(mX$d&jR(;dOY#(fYZ&cZ!^#(f!^!_#)Y!_#o#(f#o#p#)Y#p;'S#(f;'S;=`#)q<%lO#(f(;d#)_SR(;dOY#)YZ;'S#)Y;'S;=`#)k<%lO#)Y(;d#)nP;=`<%l#)Y(AO#)tP;=`<%l#(f(<v#*OW'z!bR(;dOY#)wZw#)wwx#)Yx#O#)w#O#P#)Y#P;'S#)w;'S;=`#*h<%lO#)w(<v#*kP;=`<%l#)w(Bb#*qP;=`<%l#'d(Ap#*}]$d&j'wpR(;dOY#*tYZ&cZr#*trs#(fs!^#*t!^!_#+v!_#O#*t#O#P#(f#P#o#*t#o#p#+v#p;'S#*t;'S;=`#,m<%lO#*t(<U#+}W'wpR(;dOY#+vZr#+vrs#)Ys#O#+v#O#P#)Y#P;'S#+v;'S;=`#,g<%lO#+v(<U#,jP;=`<%l#+v(Ap#,pP;=`<%l#*t(=h#,|Y'wp'z!bR(;dOY#,sZr#,srs#)wsw#,swx#+vx#O#,s#O#P#)Y#P;'S#,s;'S;=`#-l<%lO#,s(=h#-oP;=`<%l#,s(CS#-uP;=`<%l#&Y%#W#.Vb$d&j#{$Id'wp'z!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h+h#/lb$T#t$d&j'wp'z!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h$/l#1Pp$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#U%Z#U#V#6_#V#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#d#9g#d#l%Z#l#m#<i#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#3`k$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#5`_$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#6hd$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#8Rf$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#9pc$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;We$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#<rg$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>fi$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#@b_!a$b$d&j#y%<f'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Al_^l$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Bz^'}!*v!e'.r'wp'z!b$U)d(mSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Cv!Q!^*g!^!_#Dl!_!`#F^!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#DPX$f&j'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#DuZ#k$Id'wp'z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Eh!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#EqX#{$Id'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#FgX#l$Id'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh#G_a#X%?x$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a#Hd!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W#Ho_#d$Ih$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#I}adBf#l$Id$a#|$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`#KS!`!a#L^!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#K__#l$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#Lia#k$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`!a#Mn!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#My`#k$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$ Wc(a$Ip$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$!c!P!^%Z!^!_*g!_!a%Z!a!b$#m!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$!n_z'#p$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$#x`$d&j#v$Id'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$%V_!x!Ln$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$&a_|(8n$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$'eZ$d&jO!^$(W!^!_$(n!_#i$(W#i#j$(s#j#l$(W#l#m$*f#m#o$(W#o#p$(n#p;'S$(W;'S;=`$,q<%lO$(W(n$(_T[#S$d&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$(sO[#S(n$(x[$d&jO!Q&c!Q![$)n![!^&c!_!c&c!c!i$)n!i#T&c#T#Z$)n#Z#o&c#o#p$,U#p;'S&c;'S;=`&w<%lO&c(n$)sZ$d&jO!Q&c!Q![$*f![!^&c!_!c&c!c!i$*f!i#T&c#T#Z$*f#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$*kZ$d&jO!Q&c!Q![$+^![!^&c!_!c&c!c!i$+^!i#T&c#T#Z$+^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$+cZ$d&jO!Q&c!Q![$(W![!^&c!_!c&c!c!i$(W!i#T&c#T#Z$(W#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$,XR!Q![$,b!c!i$,b#T#Z$,b#S$,eS!Q![$,b!c!i$,b#T#Z$,b#q#r$(n(n$,tP;=`<%l$(W!'l$-S_!SM|$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$.^`#s$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$/k_$d&j'wp'z!b(R&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$0yk$d&j'wp'z!b(U!LY't&;d$Y#tOY%ZYZ&cZr%Zrs&}st%Ztu$0juw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$0j![!^%Z!^!_*g!_!c%Z!c!}$0j!}#O%Z#O#P&c#P#R%Z#R#S$0j#S#T%Z#T#o$0j#o#p*g#p$g%Z$g;'S$0j;'S;=`$4t<%lO$0j+d$2yk$d&j'wp'z!b$Y#tOY%ZYZ&cZr%Zrs&}st%Ztu$2nuw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$2n![!^%Z!^!_*g!_!c%Z!c!}$2n!}#O%Z#O#P&c#P#R%Z#R#S$2n#S#T%Z#T#o$2n#o#p*g#p$g%Z$g;'S$2n;'S;=`$4n<%lO$2n+d$4qP;=`<%l$2n(CS$4wP;=`<%l$0j!5p$5TX!X!3l'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$5{a(h%<v$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$#m#q;'S%Z;'S;=`+a<%lO%Z%#`$7__!W$I`o`$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$8i_!mS$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$9y|$d&j'wp'z!b'm(;d(U!LY't&;d$W#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(CS$=Uk$d&j'wp'z!b'n(;d(U!LY't&;d$W#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P",tokenizers:[HG,XG,2,3,4,5,6,7,8,9,10,11,12,13,jG,new f1("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOq~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!O~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(T~~",141,326),new f1("j~RQYZXz{^~^O'q~~aP!P!Qd~iO'r~~",25,308)],topRules:{Script:[0,5],SingleExpression:[1,267],SingleClassItem:[2,268]},dialects:{jsx:13525,ts:13527},dynamicPrecedences:{76:1,78:1,163:1,191:1},specialized:[{term:312,get:n=>WG[n]||-1},{term:328,get:n=>ZG[n]||-1},{term:67,get:n=>YG[n]||-1}],tokenPrec:13551});var y1;const Bd=new Rn;function O1(n){return tn.define({combine:n?e=>e.concat(n):void 0})}const b1=new Rn;let ta=(()=>{class n{constructor(t,r,i=[],s=""){this.data=t,this.name=s,js.prototype.hasOwnProperty("tree")||Object.defineProperty(js.prototype,"tree",{get(){return fi(this)}}),this.parser=r,this.extension=[yc.of(this),js.languageData.of((a,c,f)=>{let m=LP(a,c,f),O=m.type.prop(Bd);if(!O)return[];let x=a.facet(O),P=m.type.prop(b1);if(P){let U=m.resolve(c-m.from,f);for(let re of P)if(re.test(U,a)){let Se=a.facet(re.facet);return"replace"==re.type?Se:Se.concat(x)}}return x})].concat(i)}isActiveAt(t,r,i=-1){return LP(t,r,i).type.prop(Bd)==this.data}findRegions(t){let r=t.facet(yc);if(r?.data==this.data)return[{from:0,to:t.doc.length}];if(!r||!r.allowsNesting)return[];let i=[],s=(a,c)=>{if(a.prop(Bd)==this.data)return void i.push({from:c,to:c+a.length});let f=a.prop(Rn.mounted);if(f){if(f.tree.prop(Bd)==this.data){if(f.overlay)for(let m of f.overlay)i.push({from:m.from+c,to:m.to+c});else i.push({from:c,to:c+a.length});return}if(f.overlay){let m=i.length;if(s(f.tree,f.overlay[0].from+c),i.length>m)return}}for(let m=0;m<a.children.length;m++){let O=a.children[m];O instanceof ei&&s(O,a.positions[m]+c)}};return s(fi(t),0),i}get allowsNesting(){return!0}}return n.setState=Qn.define(),n})();function LP(n,e,t){let r=n.facet(yc),i=fi(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Qr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class lO extends ta{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=O1(e.languageData);return new lO(t,e.parser.configure({props:[Bd.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new lO(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function fi(n){let e=n.field(ta.state,!1);return e?e.tree:ei.empty}class JG{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let pm=null;class Ih{constructor(e,t,r=[],i,s,a,c,f){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=a,this.skipped=c,this.scheduleOn=f,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new Ih(e,t,[],ei.empty,0,r,[],null)}startParse(){return this.parser.startParse(new JG(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=ei.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if("number"==typeof e){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(vu.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(r=this.parse.stoppedAt)&&void 0!==r?r:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(t??this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(vu.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=pm;pm=this;try{return e()}finally{pm=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=FP(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:a,skipped:c}=this;if(this.takeTree(),!e.empty){let f=[];if(e.iterChangedRanges((m,O,x,P)=>f.push({fromA:m,toA:O,fromB:x,toB:P})),r=vu.applyChanges(r,f),i=ei.empty,s=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){c=[];for(let m of this.skipped){let O=e.mapPos(m.from,1),x=e.mapPos(m.to,-1);O<x&&c.push({from:O,to:x})}}}return new Ih(this.parser,t,r,i,s,a,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=FP(this.fragments,i,s),this.skipped.splice(r--,1))}return!(this.skipped.length>=t||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends hP{createParse(t,r,i){let s=i[0].from,a=i[i.length-1].to;return{parsedPos:s,advance(){let f=pm;if(f){for(let m of i)f.tempSkipped.push(m);e&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,e]):e)}return this.parsedPos=a,new ei(Xs.none,[],[],a-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return pm}}function FP(n,e,t){return vu.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Ph{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Ph(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Ih.create(e.facet(yc).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Ph(r)}}ta.state=Di.define({create:Ph.init,update(n,e){for(let t of e.effects)if(t.is(ta.setState))return t.value;return e.startState.facet(yc)!=e.state.facet(yc)?Ph.init(e.state):n.apply(e)}});let QP=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(QP=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const w1=typeof navigator<"u"&&null!==(y1=navigator.scheduling)&&void 0!==y1&&y1.isInputPending?()=>navigator.scheduling.isInputPending():null,$P=oi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ta.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ta.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=QP(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(ta.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!w1?Math.max(25,e.timeRemaining()-5):1e9),c=s.context.treeLen<i&&r.doc.length>i+1e3,f=s.context.work(()=>w1&&w1()||Date.now()>a,i+(c?0:1e5));this.chunkBudget-=Date.now()-t,(f||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:ta.setState.of(new Ph(s.context))})),this.chunkBudget>0&&!(f&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Ro(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),yc=tn.define({combine:n=>n.length?n[0]:null,enables:n=>[ta.state,$P,_n.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class eW{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const VP=tn.define(),uO=tn.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Vd(n){let e=n.facet(uO);return 9==e.charCodeAt(0)?n.tabSize*e.length:e.length}function Rh(n,e){let t="",r=n.tabSize,i=n.facet(uO)[0];if("\t"==i){for(;e>=r;)t+="\t",e-=r;i=" "}for(let s=0;s<e;s++)t+=i;return t}function cO(n,e){n instanceof js&&(n=new gm(n));for(let r of n.state.facet(VP)){let i=r(n,e);if(void 0!==i)return i}let t=fi(n.state);return t?function tW(n,e,t){return zP(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,n)}(n,t,e):null}class gm{constructor(e,t={}){this.state=e,this.options=t,this.unit=Vd(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return null!=i&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(s+=a-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return Zg(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let a=s(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const UP=new Rn;function rW(n){let e=n.type.prop(UP);if(e)return e;let r,t=n.firstChild;if(t&&(r=t.type.prop(Rn.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return a=>jP(a,!0,1,void 0,s&&!function nW(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}(a)?i.from:void 0)}return null==n.parent?iW:null}function zP(n,e,t){for(;n;n=n.parent){let r=rW(n);if(r)return r(S1.create(t,e,n))}return null}function iW(){return 0}class S1 extends gm{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.node=r}static create(e,t,r){return new S1(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(sW(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?zP(e,this.pos,this.base):0}}function sW(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function aW({closing:n,align:e=!0,units:t=1}){return r=>jP(r,e,t,n)}function jP(n,e,t,r,i){let s=n.textAfter,a=s.match(/^\s*/)[0].length,c=r&&s.slice(a,a+r.length)==r||i==n.pos+a,f=e?function oW(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),a=null==i||i<=s.from?s.to:Math.min(s.to,i);for(let c=t.to;;){let f=e.childAfter(c);if(!f||f==r)return null;if(!f.type.isSkipped)return f.from<a?t:null;c=f.to}}(n):null;return f?n.column(c?f.from:f.to):n.baseIndent+(c?0:n.unit*t)}function x1({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const dW=tn.define(),HP=new Rn;function pW(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function mm(n,e,t){for(let r of n.facet(dW)){let i=r(n,e,t);if(i)return i}return function hW(n,e,t){let r=fi(n);if(r.length<t)return null;let s=null;for(let a=r.resolveInner(t,1);a;a=a.parent){if(a.to<=t||a.from>t)continue;if(s&&a.from<e)break;let c=a.type.prop(HP);if(c&&(a.to<r.length-50||r.length==n.doc.length||!pW(a))){let f=c(a,n);f&&f.from<=t&&f.from>=e&&f.to>t&&(s=f)}}return s}(n,e,t)}function XP(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const vm=Qn.define({map:XP}),Nh=Qn.define({map:XP});function D1(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const Oc=Di.define({create:()=>sn.none,update(n,e){n=n.map(e.changes);for(let t of e.effects)t.is(vm)&&!gW(n,t.value.from,t.value.to)?n=n.update({add:[ZP.range(t.value.from,t.value.to)]}):t.is(Nh)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,s)=>{i<r&&s>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return n},provide:n=>_n.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");e.push(ZP.range(r,i))}return sn.set(e,!0)}});function ym(n,e,t){var r;let i=null;return null===(r=n.field(Oc,!1))||void 0===r||r.between(e,t,(s,a)=>{(!i||i.from>s)&&(i={from:s,to:a})}),i}function gW(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function C1(n,e){return n.field(Oc,!1)?e:e.concat(Qn.appendConfig.of(WP()))}function dO(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return _n.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const wW=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:n=>{for(let e of D1(n)){let t=mm(n.state,e.from,e.to);if(t)return n.dispatch({effects:C1(n.state,[vm.of(t),dO(n,t)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:n=>{if(!n.state.field(Oc,!1))return!1;let e=[];for(let t of D1(n)){let r=ym(n.state,t.from,t.to);r&&e.push(Nh.of(r),dO(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=mm(e,i.from,i.to);s&&t.push(vm.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:C1(n.state,t)}),!!t.length}},{key:"Ctrl-Alt-]",run:n=>{let e=n.state.field(Oc,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(Nh.of({from:r,to:i}))}),n.dispatch({effects:t}),!0}}],SW={placeholderDOM:null,placeholderText:"\u2026"},GP=tn.define({combine:n=>Na(n,SW)});function WP(n){let e=[Oc,CW];return n&&e.push(GP.of(n)),e}const ZP=sn.replace({widget:new class extends gu{toDOM(n){let{state:e}=n,t=e.facet(GP),r=s=>{let a=n.lineBlockAt(n.posAtDOM(s.target)),c=ym(n.state,a.from,a.to);c&&n.dispatch({effects:Nh.of(c)}),s.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(n,r);let i=document.createElement("span");return i.textContent=t.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),xW={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class E1 extends El{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function DW(n={}){let e=Object.assign(Object.assign({},xW),n),t=new E1(e,!0),r=new E1(e,!1),i=oi.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(yc)!=a.state.facet(yc)||a.startState.field(Oc,!1)!=a.state.field(Oc,!1)||fi(a.startState)!=fi(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let c=new uc;for(let f of a.viewportLineBlocks){let m=ym(a.state,f.from,f.to)?r:mm(a.state,f.from,f.to)?t:null;m&&c.add(f.from,f.from,m)}return c.finish()}}),{domEventHandlers:s}=e;return[i,JI({class:"cm-foldGutter",markers(a){var c;return(null===(c=a.plugin(i))||void 0===c?void 0:c.markers)||qr.empty},initialSpacer:()=>new E1(e,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(a,c,f)=>{if(s.click&&s.click(a,c,f))return!0;let m=ym(a.state,c.from,c.to);if(m)return a.dispatch({effects:Nh.of(m)}),!0;let O=mm(a.state,c.from,c.to);return!!O&&(a.dispatch({effects:vm.of(O)}),!0)}})}),WP()]}const CW=_n.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Lh{constructor(e,t){let r;function i(c){let f=cc.newName();return(r||(r=Object.create(null)))["."+f]=c,f}this.specs=e;const s="string"==typeof t.all?t.all:t.all?i(t.all):void 0,a=t.scope;this.scope=a instanceof ta?c=>c.prop(Bd)==a.data:a?c=>c==a:void 0,this.style=TP(e.map(c=>({tag:c.tag,class:c.class||i(Object.assign({},c,{tag:null}))})),{all:s}).style,this.module=r?new cc(r):null,this.themeType=t.themeType}static define(e,t){return new Lh(e,t||{})}}const _1=tn.define(),YP=tn.define({combine:n=>n.length?[n[0]]:null});function fO(n){let e=n.facet(_1);return e.length?e:n.facet(YP)}function T1(n,e){let r,t=[_W];return n instanceof Lh&&(n.module&&t.push(_n.styleModule.of(n.module)),r=n.themeType),t.push(e?.fallback?YP.of(n):r?_1.computeN([_n.darkTheme],i=>i.facet(_n.darkTheme)==("dark"==r)?[n]:[]):_1.of(n)),t}class EW{constructor(e){this.markCache=Object.create(null),this.tree=fi(e.state),this.decorations=this.buildDeco(e,fO(e.state))}update(e){let t=fi(e.state),r=fO(e.state),i=r!=fO(e.startState);t.length<e.view.viewport.to&&!i&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,t){if(!t||!this.tree.length)return sn.none;let r=new uc;for(let{from:i,to:s}of e.visibleRanges)AG(this.tree,t,(a,c,f)=>{r.add(a,c,this.markCache[f]||(this.markCache[f]=sn.mark({class:f})))},i,s);return r.finish()}}const _W=Pd.high(oi.fromClass(EW,{decorations:n=>n.decorations})),TW=Lh.define([{tag:Ee.meta,color:"#404740"},{tag:Ee.link,textDecoration:"underline"},{tag:Ee.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Ee.emphasis,fontStyle:"italic"},{tag:Ee.strong,fontWeight:"bold"},{tag:Ee.strikethrough,textDecoration:"line-through"},{tag:Ee.keyword,color:"#708"},{tag:[Ee.atom,Ee.bool,Ee.url,Ee.contentSeparator,Ee.labelName],color:"#219"},{tag:[Ee.literal,Ee.inserted],color:"#164"},{tag:[Ee.string,Ee.deleted],color:"#a11"},{tag:[Ee.regexp,Ee.escape,Ee.special(Ee.string)],color:"#e40"},{tag:Ee.definition(Ee.variableName),color:"#00f"},{tag:Ee.local(Ee.variableName),color:"#30a"},{tag:[Ee.typeName,Ee.namespace],color:"#085"},{tag:Ee.className,color:"#167"},{tag:[Ee.special(Ee.variableName),Ee.macroName],color:"#256"},{tag:Ee.definition(Ee.propertyName),color:"#00c"},{tag:Ee.comment,color:"#940"},{tag:Ee.invalid,color:"#f00"}]),MW=_n.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),JP=tn.define({combine:n=>Na(n,{afterCursor:!0,brackets:"()[]{}",maxScanDistance:1e4,renderMatch:IW})}),AW=sn.mark({class:"cm-matchingBracket"}),kW=sn.mark({class:"cm-nonmatchingBracket"});function IW(n){let e=[],t=n.matched?AW:kW;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const PW=[Di.define({create:()=>sn.none,update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(JP);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Il(e.state,i.head,-1,r)||i.head>0&&Il(e.state,i.head-1,1,r)||r.afterCursor&&(Il(e.state,i.head,1,r)||i.head<e.state.doc.length&&Il(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return sn.set(t,!0)},provide:n=>_n.decorations.from(n)}),MW];function RW(n={}){return[JP.of(n),PW]}const NW=new Rn;function M1(n,e,t){let r=n.prop(e<0?Rn.openedBy:Rn.closedBy);if(r)return r;if(1==n.name.length){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function A1(n){let e=n.type.prop(NW);return e?e(n.node):n}function Il(n,e,t,r={}){let i=r.maxScanDistance||1e4,s=r.brackets||"()[]{}",a=fi(n),c=a.resolveInner(e,t);for(let f=c;f;f=f.parent){let m=M1(f.type,t,s);if(m&&f.from<f.to){let O=A1(f);if(O&&(t>0?e>=O.from&&e<O.to:e>O.from&&e<=O.to))return LW(0,0,t,f,O,m,s)}}return function FW(n,e,t,r,i,s,a){let c=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),f=a.indexOf(c);if(f<0||f%2==0!=t>0)return null;let m={from:t<0?e-1:e,to:t>0?e+1:e},O=n.doc.iterRange(e,t>0?n.doc.length:0),x=0;for(let P=0;!O.next().done&&P<=s;){let U=O.value;t<0&&(P+=U.length);let re=e+P*t;for(let Se=t>0?0:U.length-1,Ie=t>0?U.length:-1;Se!=Ie;Se+=t){let Be=a.indexOf(U[Se]);if(!(Be<0||r.resolveInner(re+Se,1).type!=i))if(Be%2==0==t>0)x++;else{if(1==x)return{start:m,end:{from:re+Se,to:re+Se+1},matched:Be>>1==f>>1};x--}}t>0&&(P+=U.length)}return O.done?{start:m,matched:!1}:null}(n,e,t,a,c.type,i,s)}function LW(n,e,t,r,i,s,a){let f={from:i.from,to:i.to},m=0,O=r.parent?.cursor();if(O&&(t<0?O.childBefore(r.from):O.childAfter(r.to)))do{if(t<0?O.to<=r.from:O.from>=r.to){if(0==m&&s.indexOf(O.type.name)>-1&&O.from<O.to){let x=A1(O);return{start:f,end:x?{from:x.from,to:x.to}:void 0,matched:!0}}if(M1(O.type,t,a))m++;else if(M1(O.type,-t,a)){if(0==m){let x=A1(O);return{start:f,end:x&&x.from<x.to?{from:x.from,to:x.to}:void 0,matched:!1}}m--}}}while(t<0?O.prevSibling():O.nextSibling());return{start:f,matched:!1}}const I1=Object.create(null),Om=[Xs.none],oR=[],aR=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])aR[n]=uR(I1,e);function P1(n,e){oR.indexOf(n)>-1||(oR.push(n),console.warn(e))}function uR(n,e){let t=null;for(let s of e.split(".")){let a=n[s]||Ee[s];a?"function"==typeof a?t?t=a(t):P1(s,`Modifier ${s} used at start of tag`):t?P1(s,`Tag ${s} used as modifier`):t=a:P1(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let r=e.replace(/ /g,"_"),i=Xs.define({id:Om.length,name:r,props:[EP({[r]:t})]});return Om.push(i),i.id}class cR{constructor(e,t,r){this.state=e,this.pos=t,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let t=fi(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search(pR(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function dR(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function fR(n){let e=n.map(i=>"string"==typeof i?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:function HW(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=dR(e)+dR(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function XW(n,e){return t=>{for(let r=fi(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}class hR{constructor(e,t,r){this.completion=e,this.source=t,this.match=r}}function bc(n){return n.selection.main.head}function pR(n,e){var t;let{source:r}=n,i=e&&"^"!=r[0],s="$"!=r[r.length-1];return i||s?new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,null!==(t=n.flags)&&void 0!==t?t:n.ignoreCase?"i":""):n}const gR=pu.define();function mR(n,e){const t=e.completion.apply||e.completion.label;let r=e.source;"string"==typeof t?n.dispatch(Object.assign(Object.assign({},function GW(n,e,t,r){return Object.assign(Object.assign({},n.changeByRange(i=>{if(i==n.selection.main)return{changes:{from:t,to:r,insert:e},range:bt.cursor(t+e.length)};let s=r-t;return!i.empty||s&&n.sliceDoc(i.from-s,i.from)!=n.sliceDoc(t,r)?{range:i}:{changes:{from:i.from-s,to:i.from,insert:e},range:bt.cursor(i.from-s+e.length)}})),{userEvent:"input.complete"})}(n.state,t,r.from,r.to)),{annotations:gR.of(e.completion)})):t(n,e.completion,r.from,r.to)}const vR=new WeakMap;function WW(n){if(!Array.isArray(n))return n;let e=vR.get(n);return e||vR.set(n,e=fR(n)),e}class ZW{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let r=ss(e,t),i=Ko(r);this.chars.push(r);let s=e.slice(t,t+i),a=s.toUpperCase();this.folded.push(ss(a==s?s.toLowerCase():a,0)),t+=i}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:a}=this;if(1==t.length){let nt=ss(e,0),We=Ko(nt),ft=We==e.length?0:-100;if(nt!=t[0]){if(nt!=r[0])return null;ft+=-200}return[ft,0,We]}let c=e.indexOf(this.pattern);if(0==c)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let f=t.length,m=0;if(c<0){for(let nt=0,We=Math.min(e.length,200);nt<We&&m<f;){let ft=ss(e,nt);(ft==t[m]||ft==r[m])&&(i[m++]=nt),nt+=Ko(ft)}if(m<f)return null}let O=0,x=0,P=!1,U=0,re=-1,Se=-1,Ie=/[a-z]/.test(e),Be=!0;for(let nt=0,We=Math.min(e.length,200),ft=0;nt<We&&x<f;){let Pt=ss(e,nt);c<0&&(O<f&&Pt==t[O]&&(s[O++]=nt),U<f&&(Pt==t[U]||Pt==r[U]?(0==U&&(re=nt),Se=nt+1,U++):U=0));let Rt,gn=Pt<255?Pt>=48&&Pt<=57||Pt>=97&&Pt<=122?2:Pt>=65&&Pt<=90?1:0:(Rt=sx(Pt))!=Rt.toLowerCase()?1:Rt!=Rt.toUpperCase()?2:0;(!nt||1==gn&&Ie||0==ft&&0!=gn)&&(t[x]==Pt||r[x]==Pt&&(P=!0)?a[x++]=nt:a.length&&(Be=!1)),ft=gn,nt+=Ko(Pt)}return x==f&&0==a[0]&&Be?this.result((P?-200:0)-100,a,e):U==f&&0==re?[-200-e.length+(Se==e.length?0:-100),0,Se]:c>-1?[-700-e.length,c,c+this.pattern.length]:U==f?[-900-e.length,re,Se]:x==f?this.result((P?-200:0)-100-700+(Be?0:-1100),a,e):2==t.length?null:this.result((i[0]?-700:0)-200-1100,i,e)}result(e,t,r){let i=[e-r.length],s=1;for(let a of t){let c=a+(this.astral?Ko(ss(r,a)):1);s>1&&i[s-1]==a?i[s-1]=c:(i[s++]=a,i[s++]=c)}return i}}const na=tn.define({combine:n=>Na(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>yR(e(r),t(r)),optionClass:(e,t)=>r=>yR(e(r),t(r)),addToOptions:(e,t)=>e.concat(t)})});function yR(n,e){return n?e?n+" "+e:n:e}function OR(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class qW{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:c=>this.positionInfo(c),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:i,selected:s}=r.open,a=e.state.facet(na);this.optionContent=function YW(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i){let s=document.createElement("span");s.className="cm-completionLabel";let{label:a}=t,c=0;for(let f=1;f<i.length;){let m=i[f++],O=i[f++];m>c&&s.appendChild(document.createTextNode(a.slice(c,m)));let x=s.appendChild(document.createElement("span"));x.appendChild(document.createTextNode(a.slice(m,O))),x.className="cm-completionMatchedText",c=O}return c<a.length&&s.appendChild(document.createTextNode(a.slice(c))),s},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=OR(i.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{for(let m,f=c.target;f&&f!=this.dom;f=f.parentNode)if("LI"==f.nodeName&&(m=/-(\d+)$/.exec(f.id))&&+m[1]<i.length)return mR(e,i[+m[1]]),void c.preventDefault()}),this.list=this.dom.appendChild(this.createListBox(i,r.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){var t,r,i;let s=e.state.field(this.stateField),a=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=a&&(this.updateSel(),(null===(t=s.open)||void 0===t?void 0:t.disabled)!=(null===(r=a.open)||void 0===r?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!(null===(i=s.open)||void 0===i||!i.disabled)))}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=OR(t.options.length,t.selected,this.view.state.facet(na).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let s="string"==typeof i?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a)}).catch(a=>Ro(this.view.state,a,"completion info")):this.addInfoPane(s)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&function JW(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect();r.top<t.top?n.scrollTop-=t.top-r.top:r.bottom>t.bottom&&(n.scrollTop+=r.bottom-t.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let re=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:re.innerWidth,bottom:re.innerHeight}}if(i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10)return null;let m,a=this.view.textDirection==Kr.RTL,c=a,f=!1,O="",x="",P=t.left-s.left,U=s.right-t.right;if(c&&P<Math.min(r.width,U)?c=!1:!c&&U<Math.min(r.width,P)&&(c=!0),r.width<=(c?P:U))O=Math.max(s.top,Math.min(i.top,s.bottom-r.height))-t.top+"px",m=Math.min(400,c?P:U)+"px";else{f=!0,m=Math.min(400,(a?t.right:s.right-t.left)-30)+"px";let re=s.bottom-t.bottom;re>=r.height||re>t.top?O=i.bottom-t.top+"px":x=t.bottom-i.top+"px"}return{top:O,bottom:x,maxWidth:m,class:f?a?"left-narrow":"right-narrow":c?"left":"right"}}positionInfo(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let s=r.from;s<r.to;s++){let{completion:a,match:c}=e[s];const f=i.appendChild(document.createElement("li"));f.id=t+"-"+s,f.setAttribute("role","option");let m=this.optionClass(a);m&&(f.className=m);for(let O of this.optionContent){let x=O(a,this.view.state,c);x&&f.appendChild(x)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}function bR(n){return 100*(n.boost||0)+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}class Fh{constructor(e,t,r,i,s,a){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=a}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Fh(this.options,wR(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s){let a=function eZ(n,e){let t=[],r=0;for(let c of n)if(c.hasResult())if(!1===c.result.filter){let f=c.result.getMatch;for(let m of c.result.options){let O=[1e9-r++];if(f)for(let x of f(m))O.push(x);t.push(new hR(m,c,O))}}else{let m,f=new ZW(e.sliceDoc(c.from,c.to));for(let O of c.result.options)(m=f.match(O.label))&&(null!=O.boost&&(m[0]+=O.boost),t.push(new hR(O,c,m)))}let i=[],s=null,a=e.facet(na).compareCompletions;for(let c of t.sort((f,m)=>m.match[0]-f.match[0]||a(f.completion,m.completion)))!s||s.label!=c.completion.label||s.detail!=c.completion.detail||null!=s.type&&null!=c.completion.type&&s.type!=c.completion.type||s.apply!=c.completion.apply?i.push(c):bR(c.completion)>bR(s)&&(i[i.length-1]=c),s=c.completion;return i}(e,t);if(!a.length)return i&&e.some(f=>1==f.state)?new Fh(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let c=t.facet(na).selectOnOpen?0:-1;if(i&&i.selected!=c&&-1!=i.selected){let f=i.options[i.selected].completion;for(let m=0;m<a.length;m++)if(a[m].completion==f){c=m;break}}return new Fh(a,wR(r,c),{pos:e.reduce((f,m)=>m.hasResult()?Math.min(f,m.from):f,1e8),create:(n=Es,e=>new qW(e,n)),above:s.aboveCursor},i?i.timestamp:Date.now(),c,!1);var n}map(e){return new Fh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class hO{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new hO(rZ,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,r=t.facet(na),s=(r.override||t.languageDataAt("autocomplete",bc(t)).map(WW)).map(c=>(this.active.find(m=>m.source==c)||new ho(c,this.active.some(m=>0!=m.state)?1:0)).update(e,r));s.length==this.active.length&&s.every((c,f)=>c==this.active[f])&&(s=this.active);let a=this.open;a&&e.docChanged&&(a=a.map(e.changes)),e.selection||s.some(c=>c.hasResult()&&e.changes.touchesRange(c.from,c.to))||!function tZ(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;r<e.length&&!e[r].hasResult;)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}(s,this.active)?a=Fh.build(s,t,this.id,a,r):a&&a.disabled&&!s.some(c=>1==c.state)&&(a=null),!a&&s.every(c=>1!=c.state)&&s.some(c=>c.hasResult())&&(s=s.map(c=>c.hasResult()?new ho(c.source,0):c));for(let c of e.effects)c.is(L1)&&(a=a&&a.setSelected(c.value,this.id));return s==this.active&&a==this.open?this:new hO(s,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:nZ}}const nZ={"aria-autocomplete":"list"};function wR(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const rZ=[];function R1(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class ho{constructor(e,t,r=-1){this.source=e,this.state=t,this.explicitPos=r}hasResult(){return!1}update(e,t){let r=R1(e),i=this;r?i=i.handleUserEvent(e,r,t):e.docChanged?i=i.handleChange(e):e.selection&&0!=i.state&&(i=new ho(i.source,0));for(let s of e.effects)if(s.is(N1))i=new ho(i.source,1,s.value?bc(e.state):-1);else if(s.is(pO))i=new ho(i.source,0);else if(s.is(SR))for(let a of s.value)a.source==i.source&&(i=a);return i}handleUserEvent(e,t,r){return"delete"!=t&&r.activateOnTyping?new ho(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(bc(e.startState))?new ho(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ho(this.source,this.state,e.mapPos(this.explicitPos))}}class bm extends ho{constructor(e,t,r,i,s){super(e,2,t),this.result=r,this.from=i,this.to=s}hasResult(){return!0}handleUserEvent(e,t,r){var i;let s=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),c=bc(e.state);if((this.explicitPos<0?c<=s:c<this.from)||c>a||"delete"==t&&bc(e.startState)==this.from)return new ho(this.source,"input"==t&&r.activateOnTyping?1:0);let m,f=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function iZ(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return"function"==typeof n?n(i,t,r,e):pR(n,!0).test(i)}(this.result.validFor,e.state,s,a)?new bm(this.source,f,this.result,s,a):this.result.update&&(m=this.result.update(this.result,s,a,new cR(e.state,c,f>=0)))?new bm(this.source,f,m,m.from,null!==(i=m.to)&&void 0!==i?i:bc(e.state)):new ho(this.source,1,f)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new ho(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new bm(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const N1=Qn.define(),pO=Qn.define(),SR=Qn.define({map:(n,e)=>n.map(t=>t.map(e))}),L1=Qn.define(),Es=Di.define({create:()=>hO.start(),update:(n,e)=>n.update(e),provide:n=>[H0.from(n,e=>e.tooltip),_n.contentAttributes.from(n,e=>e.attrs)]});function gO(n,e="option"){return t=>{let r=t.state.field(Es,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(na).interactionDelay)return!1;let s,i=1;"page"==e&&(s=function UX(n,e){let t=n.plugin(t1);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,c=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:a-1;return c<0?c="page"==e?0:a-1:c>=a&&(c="page"==e?a-1:0),t.dispatch({effects:L1.of(c)}),!0}}class lZ{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const dZ=oi.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(Es).active)1==e.state&&this.startQuery(e)}update(n){let e=n.state.field(Es);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Es)==e)return;let t=n.transactions.some(r=>(r.selection||r.docChanged)&&!R1(r));for(let r=0;r<this.running.length;r++){let i=this.running[r];if(t||i.updates.length+n.transactions.length>50&&Date.now()-i.time>1e3){for(let s of i.context.abortListeners)try{s()}catch(a){Ro(this.view.state,a)}i.context.abortListeners=null,this.running.splice(r--,1)}else i.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(r=>1==r.state&&!this.running.some(i=>i.active.source==r.source))?setTimeout(()=>this.startUpdate(),50):-1,0!=this.composing)for(let r of n.transactions)"input"==R1(r)?this.composing=2:2==this.composing&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(Es);for(let t of e.active)1==t.state&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=bc(e),r=new cR(e,t,n.explicitPos==t),i=new lZ(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:pO.of(null)}),Ro(this.view.state,s)})}scheduleAccept(){this.running.every(n=>void 0!==n.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),50))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(na);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(void 0===i.done)continue;if(this.running.splice(r--,1),i.done){let a=new bm(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(n=i.done.to)&&void 0!==n?n:bc(i.updates.length?i.updates[0].startState:this.view.state));for(let c of i.updates)a=a.update(c,t);if(a.hasResult()){e.push(a);continue}}let s=this.view.state.field(Es).active.find(a=>a.source==i.active.source);if(s&&1==s.state)if(null==i.done){let a=new ho(i.active.source,0);for(let c of i.updates)a=a.update(c,t);1!=a.state&&e.push(a)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:SR.of(e)})}},{eventHandlers:{blur(){let n=this.view.state.field(Es,!1);n&&n.tooltip&&this.view.state.facet(na).closeOnBlur&&this.view.dispatch({effects:pO.of(null)})},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:N1.of(!1)}),20),this.composing=0}}}),DR=_n.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1d465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1d436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1d461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1f511}\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class fZ{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}}class F1{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,os.TrackDel),r=e.mapPos(this.to,1,os.TrackDel);return null==t||null==r?null:new F1(this.field,t,r)}}class Q1{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),a=/^\s*/.exec(s.text)[0];for(let f of this.lines){if(r.length){let m=a,O=/^\t*/.exec(f)[0].length;for(let x=0;x<O;x++)m+=e.facet(uO);i.push(t+m.length-O),f=m+f.slice(O)}r.push(f),t+=f.length+1}return{text:r,ranges:this.fieldPositions.map(f=>new F1(f.field,i[f.line]+f.from,i[f.line]+f.to))}}static parse(e){let s,t=[],r=[],i=[];for(let a of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(a);){let c=s[1]?+s[1]:null,f=s[2]||s[3]||"",m=-1;for(let O=0;O<t.length;O++)(null!=c?t[O].seq==c:f&&t[O].name==f)&&(m=O);if(m<0){let O=0;for(;O<t.length&&(null==c||null!=t[O].seq&&t[O].seq<c);)O++;t.splice(O,0,{seq:c,name:f}),m=O;for(let x of i)x.field>=m&&x.field++}i.push(new fZ(m,r.length,s.index,s.index+f.length)),a=a.slice(0,s.index)+f+a.slice(s.index+s[0].length)}for(let c;c=/\\([{}])/.exec(a);){a=a.slice(0,c.index)+c[1]+a.slice(c.index+c[0].length);for(let f of i)f.line==r.length&&f.from>c.index&&(f.from--,f.to--)}r.push(a)}return new Q1(r,i)}}let hZ=sn.widget({widget:new class extends gu{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),pZ=sn.mark({class:"cm-snippetField"});class Qh{constructor(e,t){this.ranges=e,this.active=t,this.deco=sn.set(e.map(r=>(r.from==r.to?hZ:pZ).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new Qh(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}}const wm=Qn.define({map:(n,e)=>n&&n.map(e)}),gZ=Qn.define(),Sm=Di.define({create:()=>null,update(n,e){for(let t of e.effects){if(t.is(wm))return t.value;if(t.is(gZ)&&n)return new Qh(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>_n.decorations.from(n,e=>e?e.deco:sn.none)});function $1(n,e){return bt.create(n.filter(t=>t.field==e).map(t=>bt.range(t.from,t.to)))}function mZ(n){let e=Q1.parse(n);return(t,r,i,s)=>{let{text:a,ranges:c}=e.instantiate(t.state,i),f={changes:{from:i,to:s,insert:cr.of(a)},scrollIntoView:!0,annotations:gR.of(r)};if(c.length&&(f.selection=$1(c,0)),c.length>1){let m=new Qh(c,0),O=f.effects=[wm.of(m)];void 0===t.state.field(Sm,!1)&&O.push(Qn.appendConfig.of([Sm,yZ,OZ,DR]))}t.dispatch(t.state.update(f))}}function CR(n){return({state:e,dispatch:t})=>{let r=e.field(Sm,!1);if(!r||n<0&&0==r.active)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(a=>a.field==i+n);return t(e.update({selection:$1(r.ranges,i),effects:wm.of(s?null:new Qh(r.ranges,i))})),!0}}const vZ=[{key:"Tab",run:CR(1),shift:CR(-1)},{key:"Escape",run:({state:n,dispatch:e})=>!!n.field(Sm,!1)&&(e(n.update({effects:wm.of(null)})),!0)}],ER=tn.define({combine:n=>n.length?n[0]:vZ}),yZ=Pd.highest(B0.compute([ER],n=>n.facet(ER)));function Qa(n,e){return Object.assign(Object.assign({},e),{apply:mZ(n)})}const OZ=_n.domEventHandlers({mousedown(n,e){let r,t=e.state.field(Sm,!1);if(!t||null==(r=e.posAtCoords({x:n.clientX,y:n.clientY})))return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!(!i||i.field==t.active||(e.dispatch({selection:$1(t.ranges,i.field),effects:wm.of(t.ranges.some(s=>s.field>i.field)?new Qh(t.ranges,i.field):null)}),0))}}),xm={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ud=Qn.define({map:(n,e)=>e.mapPos(n,-1,os.TrackAfter)??void 0}),B1=Qn.define({map:(n,e)=>e.mapPos(n)}),V1=new class extends Rd{};V1.startSide=1,V1.endSide=-1;const kR=Di.define({create:()=>qr.empty,update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(r,-1)&&(n=qr.empty)}n=n.map(e.changes);for(let t of e.effects)t.is(Ud)?n=n.update({add:[V1.range(t.value,t.value+1)]}):t.is(B1)&&(n=n.update({filter:r=>r!=t.value}));return n}}),U1="()[]{}<>";function IR(n){for(let e=0;e<U1.length;e+=2)if(U1.charCodeAt(e)==n)return U1.charAt(e+1);return sx(n<128?n:n+1)}function PR(n,e){return n.languageDataAt("closeBrackets",e)[0]||xm}const xZ="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),DZ=_n.inputHandler.of((n,e,t,r)=>{if((xZ?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||2==r.length&&1==Ko(ss(r,0))||e!=i.from||t!=i.to)return!1;let s=function EZ(n,e){let t=PR(n,n.selection.main.head),r=t.brackets||xm.brackets;for(let i of r){let s=IR(ss(i,0));if(e==i)return s==i?AZ(n,i,r.indexOf(i+i+i)>-1,t):TZ(n,i,s,t.before||xm.before);if(e==s&&RR(n,n.selection.main.from))return MZ(n,0,s)}return null}(n.state,r);return!!s&&(n.dispatch(s),!0)}),CZ=[{key:"Backspace",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=PR(n,n.selection.main.head).brackets||xm.brackets,i=null,s=n.changeByRange(a=>{if(a.empty){let c=function _Z(n,e){let t=n.sliceString(e-2,e);return Ko(ss(t,0))==t.length?t:t.slice(1)}(n.doc,a.head);for(let f of r)if(f==c&&mO(n.doc,a.head)==IR(ss(f,0)))return{changes:{from:a.head-f.length,to:a.head+f.length},range:bt.cursor(a.head-f.length)}}return{range:i=a}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i}}];function RR(n,e){let t=!1;return n.field(kR).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function mO(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Ko(ss(t,0)))}function TZ(n,e,t,r){let i=null,s=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:t,from:a.to}],effects:Ud.of(a.to+e.length),range:bt.range(a.anchor+e.length,a.head+e.length)};let c=mO(n.doc,a.head);return!c||/\s/.test(c)||r.indexOf(c)>-1?{changes:{insert:e+t,from:a.head},effects:Ud.of(a.head+e.length),range:bt.cursor(a.head+e.length)}:{range:i=a}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function MZ(n,e,t){let r=null,i=n.selection.ranges.map(s=>s.empty&&mO(n.doc,s.head)==t?bt.cursor(s.head+t.length):r=s);return r?null:n.update({selection:bt.create(i,n.selection.mainIndex),scrollIntoView:!0,effects:n.selection.ranges.map(({from:s})=>B1.of(s))})}function AZ(n,e,t,r){let i=r.stringPrefixes||xm.stringPrefixes,s=null,a=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:Ud.of(c.to+e.length),range:bt.range(c.anchor+e.length,c.head+e.length)};let O,f=c.head,m=mO(n.doc,f);if(m==e){if(NR(n,f))return{changes:{insert:e+e,from:f},effects:Ud.of(f+e.length),range:bt.cursor(f+e.length)};if(RR(n,f)){let x=t&&n.sliceDoc(f,f+3*e.length)==e+e+e;return{range:bt.cursor(f+e.length*(x?3:1)),effects:B1.of(f)}}}else{if(t&&n.sliceDoc(f-2*e.length,f)==e+e&&(O=LR(n,f-2*e.length,i))>-1&&NR(n,O))return{changes:{insert:e+e+e+e,from:f},effects:Ud.of(f+e.length),range:bt.cursor(f+e.length)};if(n.charCategorizer(f)(m)!=jr.Word&&LR(n,f,i)>-1&&!function kZ(n,e,t,r){let i=fi(n).resolveInner(e,-1),s=r.reduce((a,c)=>Math.max(a,c.length),0);for(let a=0;a<5;a++){let c=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),f=c.indexOf(t);if(!f||f>-1&&r.indexOf(c.slice(0,f))>-1){let O=i.firstChild;for(;O&&O.from==i.from&&O.to-O.from>t.length+f;){if(n.sliceDoc(O.to-t.length,O.to)==t)return!1;O=O.firstChild}return!0}let m=i.to==e&&i.parent;if(!m)break;i=m}return!1}(n,f,e,i))return{changes:{insert:e+e,from:f},effects:Ud.of(f+e.length),range:bt.cursor(f+e.length)}}return{range:s=c}});return s?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function NR(n,e){let t=fi(n).resolveInner(e+1);return t.parent&&t.from==e}function LR(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=jr.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=jr.Word)return s}return-1}function IZ(n={}){return[Es,na.of(n),dZ,PZ,DR]}const FR=[{key:"Ctrl-Space",run:n=>!!n.state.field(Es,!1)&&(n.dispatch({effects:N1.of(!0)}),!0)},{key:"Escape",run:n=>{let e=n.state.field(Es,!1);return!(!e||!e.active.some(t=>0!=t.state)||(n.dispatch({effects:pO.of(null)}),0))}},{key:"ArrowDown",run:gO(!0)},{key:"ArrowUp",run:gO(!1)},{key:"PageDown",run:gO(!0,"page")},{key:"PageUp",run:gO(!1,"page")},{key:"Enter",run:n=>{let e=n.state.field(Es,!1);return!(n.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<n.state.facet(na).interactionDelay||(e.open.disabled||mR(n,e.open.options[e.open.selected]),0))}}],PZ=Pd.highest(B0.computeN([na],n=>n.facet(na).defaultKeymap?[FR]:[])),RZ=[Qa("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),Qa("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),Qa("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Qa("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Qa("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),Qa("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),Qa("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),Qa("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),Qa("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),Qa('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Qa('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],$R=new lG,BR=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Dm(n){return(e,t)=>{let r=e.node.getChild("VariableDefinition");return r&&t(r,n),!0}}const NZ=["FunctionDeclaration"],LZ={FunctionDeclaration:Dm("function"),ClassDeclaration:Dm("class"),ClassExpression:()=>!0,EnumDeclaration:Dm("constant"),TypeAliasDeclaration:Dm("type"),NamespaceDeclaration:Dm("namespace"),VariableDefinition(n,e){n.matchContext(NZ)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function VR(n,e){let t=$R.get(e);if(t)return t;let r=[],i=!0;function s(a,c){let f=n.sliceString(a.from,a.to);r.push({label:f,type:c})}return e.cursor(Qr.IncludeAnonymous).iterate(a=>{if(i)i=!1;else if(a.name){let c=LZ[a.name];if(c&&c(a,s)||BR.has(a.name))return!1}else if(a.to-a.from>8192){for(let c of VR(n,a.node))r.push(c);return!1}}),$R.set(e,r),r}const vO=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,z1=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function FZ(n){let e=fi(n.state).resolveInner(n.pos,-1);if(z1.indexOf(e.name)>-1)return null;let t="VariableName"==e.name||e.to-e.from<20&&vO.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let r=[];for(let i=e;i;i=i.parent)BR.has(i.name)&&(r=r.concat(VR(n.state.doc,i)));return{options:r,from:t?e.from:n.pos,validFor:vO}}const wc=lO.define({name:"javascript",parser:qG.configure({props:[UP.add({IfStatement:x1({except:/^\s*({|else\b)/}),TryStatement:x1({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:n=>n.baseIndent,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:r?1:2)*n.unit},Block:aW({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":x1({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag":n=>n.column(n.node.from)+n.unit}),HP.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":function fW(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null},BlockComment:n=>({from:n.from+2,to:n.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),UR={test:n=>/^JSX/.test(n.name),facet:O1({commentTokens:{block:{open:"{/*",close:"*/}"}}})},BZ=wc.configure({dialect:"ts"},"typescript"),VZ=wc.configure({dialect:"jsx",props:[b1.add(n=>n.isTop?[UR]:void 0)]}),UZ=wc.configure({dialect:"jsx ts",props:[b1.add(n=>n.isTop?[UR]:void 0)]},"typescript"),zZ="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(n=>({label:n,type:"keyword"}));function zR(n={}){return new eW(n.jsx?n.typescript?UZ:VZ:n.typescript?BZ:wc,[wc.data.of({autocomplete:XW(z1,fR(RZ.concat(zZ)))}),wc.data.of({autocomplete:FZ}),n.jsx?XZ:[]])}function jR(n,e,t=n.length){for(let r=e?.firstChild;r;r=r.nextSibling)if("JSXIdentifier"==r.name||"JSXBuiltin"==r.name||"JSXNamespacedName"==r.name||"JSXMemberExpression"==r.name)return n.sliceString(r.from,Math.min(r.to,t));return""}const HZ="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),XZ=_n.inputHandler.of((n,e,t,r)=>{if((HZ?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||">"!=r&&"/"!=r||!wc.isActiveAt(n.state,e,-1))return!1;let{state:i}=n,s=i.changeByRange(a=>{var c,f;let x,{head:m}=a,O=fi(i).resolveInner(m,-1);if("JSXStartTag"==O.name&&(O=O.parent),">"==r&&"JSXFragmentTag"==O.name)return{range:bt.cursor(m+1),changes:{from:m,insert:"></>"}};if("/"==r&&"JSXFragmentTag"==O.name){let P=O.parent,U=P?.parent;if(P.from==m-1&&"JSXEndTag"!=(null===(c=U.lastChild)||void 0===c?void 0:c.name)&&(x=jR(i.doc,U?.firstChild,m))){let re=`/${x}>`;return{range:bt.cursor(m+re.length),changes:{from:m,insert:re}}}}else if(">"==r){let P=function jZ(n){for(;;){if("JSXOpenTag"==n.name||"JSXSelfClosingTag"==n.name||"JSXFragmentTag"==n.name)return n;if(!n.parent)return null;n=n.parent}}(O);if(P&&"JSXEndTag"!=(null===(f=P.lastChild)||void 0===f?void 0:f.name)&&"</"!=i.sliceDoc(m,m+2)&&(x=jR(i.doc,P,m)))return{range:bt.cursor(m+1),changes:{from:m,insert:`></${x}>`}}}return{range:a}});return!s.changes.empty&&(n.dispatch(s,{userEvent:"input.type",scrollIntoView:!0}),!0)});function H1(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return!!i&&(r(t.update(i)),!0)}}const ZZ=H1(e4,0),YZ=H1(XR,0),qZ=H1((n,e)=>XR(n,e,function JZ(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from,to:i.to})}return e}(e)),0);function X1(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}function XR(n,e,t=e.selection.ranges){let r=t.map(s=>X1(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,a)=>function KZ(n,{open:e,close:t},r,i){let O,x,s=n.sliceDoc(r-50,r),a=n.sliceDoc(i,i+50),c=/\s*$/.exec(s)[0].length,f=/^\s*/.exec(a)[0].length,m=s.length-c;if(s.slice(m-e.length,m)==e&&a.slice(f,f+t.length)==t)return{open:{pos:r-c,margin:c&&1},close:{pos:i+f,margin:f&&1}};i-r<=100?O=x=n.sliceDoc(r,i):(O=n.sliceDoc(r,r+50),x=n.sliceDoc(i-50,i));let P=/^\s*/.exec(O)[0].length,U=/\s*$/.exec(x)[0].length,re=x.length-U-t.length;return O.slice(P,P+e.length)==e&&x.slice(re,re+t.length)==t?{open:{pos:r+P+e.length,margin:/\s/.test(O.charAt(P+e.length))?1:0},close:{pos:i-U-t.length,margin:/\s/.test(x.charAt(re-1))?1:0}}:null}(e,r[a],s.from,s.to));if(2!=n&&!i.every(s=>s))return{changes:e.changes(t.map((s,a)=>i[a]?[]:[{from:s.from,insert:r[a].open+" "},{from:s.to,insert:" "+r[a].close}]))};if(1!=n&&i.some(s=>s)){let s=[];for(let c,a=0;a<i.length;a++)if(c=i[a]){let f=r[a],{open:m,close:O}=c;s.push({from:m.pos-f.open.length,to:m.pos+m.margin},{from:O.pos-O.margin,to:O.pos+f.close.length})}return{changes:s}}return null}function e4(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:a}of t){let c=r.length,f=1e9,m=X1(e,s).line;if(m){for(let O=s;O<=a;){let x=e.doc.lineAt(O);if(x.from>i&&(s==a||a>x.from)){i=x.from;let P=/^\s*/.exec(x.text)[0].length,U=P==x.length,re=x.text.slice(P,P+m.length)==m?P:-1;P<x.text.length&&P<f&&(f=P),r.push({line:x,comment:re,token:m,indent:P,empty:U,single:!1})}O=x.to+1}if(f<1e9)for(let O=c;O<r.length;O++)r[O].indent<r[O].line.text.length&&(r[O].indent=f);r.length==c+1&&(r[c].single=!0)}}if(2!=n&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:c,token:f,indent:m,empty:O,single:x}of r)(x||!O)&&s.push({from:c.from+m,insert:f+" "});let a=e.changes(s);return{changes:a,selection:e.selection.map(a,1)}}if(1!=n&&r.some(s=>s.comment>=0)){let s=[];for(let{line:a,comment:c,token:f}of r)if(c>=0){let m=a.from+c,O=m+f.length;" "==a.text[O-a.from]&&O++,s.push({from:m,to:O})}return{changes:s}}return null}const G1=pu.define(),t4=pu.define(),n4=tn.define(),GR=tn.define({combine:n=>Na(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}),W1=Di.define({create:()=>q1.empty,update(n,e){let t=e.state.facet(GR),r=e.annotation(G1);if(r){let f=e.docChanged?bt.single(function r4(n){let e=0;return n.iterChangedRanges((t,r)=>e=r),e}(e.changes)):void 0,m=po.fromTransaction(e,f),O=r.side,x=0==O?n.undone:n.done;return x=m?OO(x,x.length,t.minDepth,m):YR(x,e.startState.selection),new q1(0==O?r.rest:x,0==O?x:r.rest)}let i=e.annotation(t4);if(("full"==i||"before"==i)&&(n=n.isolate()),!1===e.annotation(xl.addToHistory))return e.changes.empty?n:n.addMapping(e.changes.desc);let s=po.fromTransaction(e),a=e.annotation(xl.time),c=e.annotation(xl.userEvent);return s?n=n.addChanges(s,a,c,t,e):e.selection&&(n=n.addSelection(e.startState.selection,a,c,t.newGroupDelay)),("full"==i||"after"==i)&&(n=n.isolate()),n},toJSON:n=>({done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}),fromJSON:n=>new q1(n.done.map(po.fromJSON),n.undone.map(po.fromJSON))});function i4(n={}){return[W1,GR.of(n),_n.domEventHandlers({beforeinput(e,t){let r="historyUndo"==e.inputType?WR:"historyRedo"==e.inputType?Z1:null;return!!r&&(e.preventDefault(),r(t))}})]}function yO(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(W1,!1);if(!i)return!1;let s=i.pop(n,t,e);return!!s&&(r(s),!0)}}const WR=yO(0,!1),Z1=yO(1,!1),s4=yO(0,!0),o4=yO(1,!0);class po{constructor(e,t,r,i,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new po(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(r=this.startSelection)||void 0===r?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new po(e.changes&&Li.fromJSON(e.changes),[],e.mapped&&Sl.fromJSON(e.mapped),e.startSelection&&bt.fromJSON(e.startSelection),e.selectionsAfter.map(bt.fromJSON))}static fromTransaction(e,t){let r=ra;for(let i of e.startState.facet(n4)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new po(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,ra)}static selection(e){return new po(void 0,ra,void 0,void 0,e)}}function OO(n,e,t,r){let s=n.slice(e+1>t+20?e-t-1:0,e);return s.push(r),s}function ZR(n,e){return n.length?e.length?n.concat(e):n:e}const ra=[];function YR(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),OO(n,n.length-1,1e9,t.setSelAfter(r)))}return[po.selection([e])]}function c4(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Y1(n,e){if(!n.length)return n;let t=n.length,r=ra;for(;t;){let i=d4(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=n.slice(0,t);return s[t-1]=i,s}e=i.mapped,t--,r=i.selectionsAfter}return r.length?[po.selection(r)]:ra}function d4(n,e,t){let r=ZR(n.selectionsAfter.length?n.selectionsAfter.map(c=>c.map(e)):ra,t);if(!n.changes)return po.selection(r);let i=n.changes.map(e),s=e.mapDesc(n.changes,!0),a=n.mapped?n.mapped.composeDesc(s):s;return new po(i,Qn.mapEffects(n.effects,e),a,n.startSelection.map(s),r)}const f4=/^(input\.type|delete)($|\.)/;let q1=(()=>{class n{constructor(t,r,i=0,s){this.done=t,this.undone=r,this.prevTime=i,this.prevUserEvent=s}isolate(){return this.prevTime?new n(this.done,this.undone):this}addChanges(t,r,i,s,a){let c=this.done,f=c[c.length-1];return c=f&&f.changes&&!f.changes.empty&&t.changes&&(!i||f4.test(i))&&(!f.selectionsAfter.length&&r-this.prevTime<s.newGroupDelay&&s.joinToEvent(a,function a4(n,e){let t=[],r=!1;return n.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,a,c)=>{for(let f=0;f<t.length;){let m=t[f++],O=t[f++];c>=m&&a<=O&&(r=!0)}}),r}(f.changes,t.changes))||"input.type.compose"==i)?OO(c,c.length-1,s.minDepth,new po(t.changes.compose(f.changes),ZR(t.effects,f.effects),f.mapped,f.startSelection,ra)):OO(c,c.length,s.minDepth,t),new n(c,ra,r,i)}addSelection(t,r,i,s){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:ra;return a.length>0&&r-this.prevTime<s&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&function l4(n,e){return n.ranges.length==e.ranges.length&&0===n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length}(a[a.length-1],t)?this:new n(YR(this.done,t),this.undone,r,i)}addMapping(t){return new n(Y1(this.done,t),Y1(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,r,i){let s=0==t?this.done:this.undone;if(0==s.length)return null;let a=s[s.length-1];if(i&&a.selectionsAfter.length)return r.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:G1.of({side:t,rest:c4(s)}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let c=1==s.length?ra:s.slice(0,s.length-1);return a.mapped&&(c=Y1(c,a.mapped)),r.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:G1.of({side:t,rest:c}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}return n.empty=new n(ra,ra),n})();const h4=[{key:"Mod-z",run:WR,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Z1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Z1,preventDefault:!0},{key:"Mod-u",run:s4,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:o4,preventDefault:!0}];function $h(n,e){return bt.create(n.ranges.map(e),n.mainIndex)}function Pl(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ia({state:n,dispatch:e},t){let r=$h(n.selection,t);return!r.eq(n.selection)&&(e(Pl(n,r)),!0)}function Em(n,e){return bt.cursor(e?n.to:n.from)}function bO(n,e){return ia(n,t=>t.empty?n.moveByChar(t,e):Em(t,e))}function _s(n){return n.textDirectionAt(n.state.selection.main.head)==Kr.LTR}const qR=n=>bO(n,!_s(n)),KR=n=>bO(n,_s(n));function wO(n,e){return ia(n,t=>t.empty?n.moveByGroup(t,e):Em(t,e))}function m4(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function SO(n,e,t){let a,c,r=fi(n).resolveInner(e.head),i=t?Rn.closedBy:Rn.openedBy;for(let f=e.head;;){let m=t?r.childAfter(f):r.childBefore(f);if(!m)break;m4(n,m,i)?r=m:f=t?m.to:m.from}return c=r.type.prop(i)&&(a=t?Il(n,r.from,1):Il(n,r.to,-1))&&a.matched?t?a.end.to:a.end.from:t?r.to:r.from,bt.cursor(c,t?-1:1)}function tN(n,e){return ia(n,t=>{if(!t.empty)return Em(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const nN=n=>tN(n,!1),rN=n=>tN(n,!0);function iN(n){let i,e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0;if(e){for(let s of n.state.facet(_n.scrollMargins)){let a=s(n);a?.top&&(t=Math.max(a?.top,t)),a?.bottom&&(r=Math.max(a?.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function sN(n,e){let s,t=iN(n),{state:r}=n,i=$h(r.selection,a=>a.empty?n.moveVertically(a,e,t.height):Em(a,e));if(i.eq(r.selection))return!1;if(t.selfScroll){let a=n.coordsAtPos(r.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),f=c.top+t.marginTop;a&&a.top>f&&a.bottom<c.bottom-t.marginBottom&&(s=_n.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-f}))}return n.dispatch(Pl(r,i),{effects:s}),!0}const oN=n=>sN(n,!1),K1=n=>sN(n,!0);function Sc(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=bt.cursor(r.from+s))}return i}function Lo(n,e){let t=$h(n.state.selection,r=>{let i=e(r);return bt.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return!t.eq(n.state.selection)&&(n.dispatch(Pl(n.state,t)),!0)}function xO(n,e){return Lo(n,t=>n.moveByChar(t,e))}const lN=n=>xO(n,!_s(n)),uN=n=>xO(n,_s(n));function DO(n,e){return Lo(n,t=>n.moveByGroup(t,e))}function dN(n,e){return Lo(n,t=>n.moveVertically(t,e))}const fN=n=>dN(n,!1),hN=n=>dN(n,!0);function pN(n,e){return Lo(n,t=>n.moveVertically(t,e,iN(n).height))}const gN=n=>pN(n,!1),mN=n=>pN(n,!0),vN=({state:n,dispatch:e})=>(e(Pl(n,{anchor:0})),!0),yN=({state:n,dispatch:e})=>(e(Pl(n,{anchor:n.doc.length})),!0),ON=({state:n,dispatch:e})=>(e(Pl(n,{anchor:n.selection.main.anchor,head:0})),!0),bN=({state:n,dispatch:e})=>(e(Pl(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0);function CO(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(s=>{let{from:a,to:c}=s;if(a==c){let f=e(a);f<a?(t="delete.backward",f=EO(n,f,!1)):f>a&&(t="delete.forward",f=EO(n,f,!0)),a=Math.min(a,f),c=Math.max(c,f)}else a=EO(n,a,!1),c=EO(n,c,!0);return a==c?{range:s}:{changes:{from:a,to:c},range:bt.cursor(a)}});return!i.changes.empty&&(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:"delete.selection"==t?_n.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function EO(n,e,t){if(n instanceof _n)for(let r of n.state.facet(_n.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const wN=(n,e)=>CO(n,t=>{let s,a,{state:r}=n,i=r.doc.lineAt(t);if(!e&&t>i.from&&t<i.from+200&&!/[^ \t]/.test(s=i.text.slice(0,t-i.from))){if("\t"==s[s.length-1])return t-1;let f=Zg(s,r.tabSize)%Vd(r)||Vd(r);for(let m=0;m<f&&" "==s[s.length-1-m];m++)t--;a=t}else a=zs(i.text,t-i.from,e,e)+i.from,a==t&&i.number!=(e?r.doc.lines:1)&&(a+=e?1:-1);return a}),J1=n=>wN(n,!1),SN=n=>wN(n,!0),xN=(n,e)=>CO(n,t=>{let r=t,{state:i}=n,s=i.doc.lineAt(r),a=i.charCategorizer(r);for(let c=null;;){if(r==(e?s.to:s.from)){r==t&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let f=zs(s.text,r-s.from,e)+s.from,m=s.text.slice(Math.min(r,f)-s.from,Math.max(r,f)-s.from),O=a(m);if(null!=c&&O!=c)break;(" "!=m||r!=t)&&(c=O),r=f}return r}),DN=n=>xN(n,!1),CN=n=>CO(n,e=>{let t=n.lineBlockAt(e).to;return e<t?t:Math.min(n.state.doc.length,e+1)});function _O(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let a=e[e.length-1];a.to=s.to,a.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function EN(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of _O(n)){if(t?s.to==n.doc.length:0==s.from)continue;let a=n.doc.lineAt(t?s.to+1:s.from-1),c=a.length+1;if(t){r.push({from:s.to,to:a.to},{from:s.from,insert:a.text+n.lineBreak});for(let f of s.ranges)i.push(bt.range(Math.min(n.doc.length,f.anchor+c),Math.min(n.doc.length,f.head+c)))}else{r.push({from:a.from,to:s.from},{from:s.to,insert:n.lineBreak+a.text});for(let f of s.ranges)i.push(bt.range(f.anchor-c,f.head-c))}}return!!r.length&&(e(n.update({changes:r,scrollIntoView:!0,selection:bt.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0)}function _N(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of _O(n))r.push(t?{from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}:{from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Y4=TN(!1);function TN(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:a}=i,c=e.doc.lineAt(s),f=!n&&s==a&&function Z4(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let s,t=fi(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e);return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Rn.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}(e,s);n&&(s=a=(a<=c.to?c:e.doc.lineAt(a)).to);let m=new gm(e,{simulateBreak:s,simulateDoubleBreak:!!f}),O=cO(m,s);for(null==O&&(O=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);a<c.to&&/\s/.test(c.text[a-c.from]);)a++;f?({from:s,to:a}=f):s>c.from&&s<c.from+100&&!/\S/.test(c.text.slice(0,s))&&(s=c.from);let x=["",Rh(e,O)];return f&&x.push(Rh(e,m.lineIndent(c.from,-1))),{changes:{from:s,to:a,insert:cr.of(x)},range:bt.cursor(s+1+x[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function eD(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let c=n.doc.lineAt(a);c.number>t&&(r.empty||r.to>c.from)&&(e(c,i,r),t=c.number),a=c.to+1}let s=n.changes(i);return{changes:i,range:bt.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const tY=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:n=>ia(n,e=>SO(n.state,e,!_s(n))),shift:n=>Lo(n,e=>SO(n.state,e,!_s(n)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:n=>ia(n,e=>SO(n.state,e,_s(n))),shift:n=>Lo(n,e=>SO(n.state,e,_s(n)))},{key:"Alt-ArrowUp",run:({state:n,dispatch:e})=>EN(n,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:n,dispatch:e})=>_N(n,e,!1)},{key:"Alt-ArrowDown",run:({state:n,dispatch:e})=>EN(n,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:n,dispatch:e})=>_N(n,e,!0)},{key:"Escape",run:({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=bt.create([t.main]):t.main.empty||(r=bt.create([bt.cursor(t.main.head)])),!!r&&(e(Pl(n,r)),!0)}},{key:"Mod-Enter",run:TN(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:n,dispatch:e})=>{let t=_O(n).map(({from:r,to:i})=>bt.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:bt.create(t),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:n,dispatch:e})=>{let t=$h(n.selection,r=>{var i;let s=fi(n).resolveInner(r.head,1);for(;!(s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from||null===(i=s.parent)||void 0===i)&&i.parent;)s=s.parent;return bt.range(s.to,s.from)});return e(Pl(n,t)),!0},preventDefault:!0},{key:"Mod-[",run:({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(eD(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=Zg(i,n.tabSize),a=0,c=Rh(n,Math.max(0,s-Vd(n)));for(;a<i.length&&a<c.length&&i.charCodeAt(a)==c.charCodeAt(a);)a++;r.push({from:t.from+a,to:t.from+i.length,insert:c.slice(a)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(eD(n,(t,r)=>{r.push({from:t.from,insert:n.facet(uO)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new gm(n,{overrideIndentation:s=>t[s]??-1}),i=eD(n,(s,a,c)=>{let f=cO(r,s.from);if(null==f)return;/\S/.test(s.text)||(f=0);let m=/^\s*/.exec(s.text)[0],O=Rh(n,f);(m!=O||c.from<s.from+m.length)&&(t[s.from]=f,a.push({from:s.from,to:s.from+m.length,insert:O}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(_O(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=$h(e.selection,i=>n.moveVertically(i,!0)).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:n,dispatch:e})=>function aN(n,e,t){let r=!1,i=$h(n.selection,s=>{let a=Il(n,s.head,-1)||Il(n,s.head,1)||s.head>0&&Il(n,s.head-1,1)||s.head<n.doc.length&&Il(n,s.head+1,-1);if(!a||!a.end)return s;r=!0;let c=a.start.from==s.head?a.end.to:a.end.from;return t?bt.range(s.anchor,c):bt.cursor(c)});return!!r&&(e(Pl(n,i)),!0)}(n,e,!1)},{key:"Mod-/",run:n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=X1(n.state,t.from);return r.line?ZZ(n):!!r.block&&qZ(n)}},{key:"Alt-A",run:YZ}].concat([{key:"ArrowLeft",run:qR,shift:lN,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:n=>wO(n,!_s(n)),shift:n=>DO(n,!_s(n)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:n=>ia(n,e=>Sc(n,e,!_s(n))),shift:n=>Lo(n,e=>Sc(n,e,!_s(n))),preventDefault:!0},{key:"ArrowRight",run:KR,shift:uN,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:n=>wO(n,_s(n)),shift:n=>DO(n,_s(n)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:n=>ia(n,e=>Sc(n,e,_s(n))),shift:n=>Lo(n,e=>Sc(n,e,_s(n))),preventDefault:!0},{key:"ArrowUp",run:nN,shift:fN,preventDefault:!0},{mac:"Cmd-ArrowUp",run:vN,shift:ON},{mac:"Ctrl-ArrowUp",run:oN,shift:gN},{key:"ArrowDown",run:rN,shift:hN,preventDefault:!0},{mac:"Cmd-ArrowDown",run:yN,shift:bN},{mac:"Ctrl-ArrowDown",run:K1,shift:mN},{key:"PageUp",run:oN,shift:gN},{key:"PageDown",run:K1,shift:mN},{key:"Home",run:n=>ia(n,e=>Sc(n,e,!1)),shift:n=>Lo(n,e=>Sc(n,e,!1)),preventDefault:!0},{key:"Mod-Home",run:vN,shift:ON},{key:"End",run:n=>ia(n,e=>Sc(n,e,!0)),shift:n=>Lo(n,e=>Sc(n,e,!0)),preventDefault:!0},{key:"Mod-End",run:yN,shift:bN},{key:"Enter",run:Y4},{key:"Mod-a",run:({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:J1,shift:J1},{key:"Delete",run:SN},{key:"Mod-Backspace",mac:"Alt-Backspace",run:DN},{key:"Mod-Delete",mac:"Alt-Delete",run:n=>xN(n,!0)},{mac:"Mod-Backspace",run:n=>CO(n,e=>{let t=n.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)})},{mac:"Mod-Delete",run:CN}].concat([{key:"Ctrl-b",run:qR,shift:lN,preventDefault:!0},{key:"Ctrl-f",run:KR,shift:uN},{key:"Ctrl-p",run:nN,shift:fN},{key:"Ctrl-n",run:rN,shift:hN},{key:"Ctrl-a",run:n=>ia(n,e=>bt.cursor(n.lineBlockAt(e.head).from,1)),shift:n=>Lo(n,e=>bt.cursor(n.lineBlockAt(e.head).from))},{key:"Ctrl-e",run:n=>ia(n,e=>bt.cursor(n.lineBlockAt(e.head).to,-1)),shift:n=>Lo(n,e=>bt.cursor(n.lineBlockAt(e.head).to))},{key:"Ctrl-d",run:SN},{key:"Ctrl-h",run:J1},{key:"Ctrl-k",run:CN},{key:"Ctrl-Alt-h",run:DN},{key:"Ctrl-o",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:cr.of(["",""])},range:bt.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||0==r.from||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),a=i==s.from?i-1:zs(s.text,i-s.from,!1)+s.from,c=i==s.to?i+1:zs(s.text,i-s.from,!0)+s.from;return{changes:{from:a,to:c,insert:n.doc.slice(i,c).append(n.doc.slice(a,i))},range:bt.cursor(c)}});return!t.changes.empty&&(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:K1}].map(n=>({mac:n.key,run:n.run,shift:n.shift}))));function Ar(){var n=arguments[0];"string"==typeof n&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&"object"==typeof t&&null==t.nodeType&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];"string"==typeof i?n.setAttribute(r,i):null!=i&&(n[r]=i)}e++}for(;e<arguments.length;e++)AN(n,arguments[e]);return n}function AN(n,e){if("string"==typeof e)n.appendChild(document.createTextNode(e));else if(null!=e)if(null!=e.nodeType)n.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var t=0;t<e.length;t++)AN(n,e[t])}}const kN="function"==typeof String.prototype.normalize?n=>n.normalize("NFKD"):n=>n;class Bh{constructor(e,t,r=0,i=e.length,s,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?c=>s(kN(c)):kN,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ss(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=sx(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Ko(e);let i=this.normalize(t);for(let s=0,a=r;;s++){let c=i.charCodeAt(s),f=this.match(c,a);if(f)return this.value=f,this;if(s==i.length-1)break;a==r&&s<t.length&&t.charCodeAt(s)==c&&a++}}}match(e,t){let r=null;for(let i=0;i<this.matches.length;i+=2){let s=this.matches[i],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?r={from:this.matches[i+1],to:t+1}:(this.matches[i]++,a=!0)),a||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:t+1}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferPos)&&(r=null),r}}typeof Symbol<"u"&&(Bh.prototype[Symbol.iterator]=function(){return this});const IN={from:-1,to:-1,match:/.*/.exec("")},nD="gm"+(null==/x/.unicode?"":"u");class PN{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=IN,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new RN(e,t,r,i,s);this.re=new RegExp(t,nD+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let a=e.lineAt(i);this.curLineStart=a.from,this.matchPos=TO(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=TO(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const rD=new WeakMap;class Vh{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=rD.get(e);if(!i||i.from>=r||i.to<=t){let c=new Vh(t,e.sliceString(t,r));return rD.set(e,c),c}if(i.from==t&&i.to==r)return i;let{text:s,from:a}=i;return a>t&&(s=e.sliceString(t,a)+s,a=t),i.to<r&&(s+=e.sliceString(i.to,r)),rD.set(e,new Vh(a,s)),new Vh(t,s.slice(t-a,r-a))}}class RN{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=IN,this.matchPos=TO(e,i),this.re=new RegExp(t,nD+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=Vh.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=TO(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Vh.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function TO(n,e){if(e>=n.length)return e;let r,t=n.lineAt(e);for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function iD(n){let e=Ar("input",{class:"cm-textfield",name:"line"});function r(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:s}=n,a=s.doc.lineAt(s.selection.main.head),[,c,f,m,O]=i,x=m?+m.slice(1):0,P=f?+f:a.number;if(f&&O){let re=P/100;c&&(re=re*("-"==c?-1:1)+a.number/s.doc.lines),P=Math.round(s.doc.lines*re)}else f&&c&&(P=P*("-"==c?-1:1)+a.number);let U=s.doc.line(Math.max(1,Math.min(s.doc.lines,P)));n.dispatch({effects:MO.of(!1),selection:bt.cursor(U.from+Math.max(0,Math.min(x,U.length))),scrollIntoView:!0}),n.focus()}return{dom:Ar("form",{class:"cm-gotoLine",onkeydown:i=>{27==i.keyCode?(i.preventDefault(),n.dispatch({effects:MO.of(!1)}),n.focus()):13==i.keyCode&&(i.preventDefault(),r())},onsubmit:i=>{i.preventDefault(),r()}},Ar("label",n.state.phrase("Go to line"),": ",e)," ",Ar("button",{class:"cm-button",type:"submit"},n.state.phrase("go")))}}typeof Symbol<"u"&&(PN.prototype[Symbol.iterator]=RN.prototype[Symbol.iterator]=function(){return this});const MO=Qn.define(),NN=Di.define({create:()=>!0,update(n,e){for(let t of e.effects)t.is(MO)&&(n=t.value);return n},provide:n=>um.from(n,e=>e?iD:null)}),iY=_n.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),sY={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},LN=tn.define({combine:n=>Na(n,sY,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function oY(n){let e=[dY,cY];return n&&e.push(LN.of(n)),e}const aY=sn.mark({class:"cm-selectionMatch"}),lY=sn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function FN(n,e,t,r){return!(0!=t&&n(e.sliceDoc(t-1,t))==jr.Word||r!=e.doc.length&&n(e.sliceDoc(r,r+1))==jr.Word)}const cY=oi.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(LN),{state:t}=n,r=t.selection;if(r.ranges.length>1)return sn.none;let s,i=r.main,a=null;if(i.empty){if(!e.highlightWordAroundCursor)return sn.none;let f=t.wordAt(i.head);if(!f)return sn.none;a=t.charCategorizer(i.head),s=t.sliceDoc(f.from,f.to)}else{let f=i.to-i.from;if(f<e.minSelectionLength||f>200)return sn.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),a=t.charCategorizer(i.head),!FN(a,t,i.from,i.to)||!function uY(n,e,t,r){return n(e.sliceDoc(t,t+1))==jr.Word&&n(e.sliceDoc(r-1,r))==jr.Word}(a,t,i.from,i.to))return sn.none}else if(s=t.sliceDoc(i.from,i.to).trim(),!s)return sn.none}let c=[];for(let f of n.visibleRanges){let m=new Bh(t.doc,s,f.from,f.to);for(;!m.next().done;){let{from:O,to:x}=m.value;if((!a||FN(a,t,O,x))&&(i.empty&&O<=i.from&&x>=i.to?c.push(lY.range(O,x)):(O>=i.to||x<=i.from)&&c.push(aY.range(O,x)),c.length>e.maxMatches))return sn.none}}return sn.set(c)}},{decorations:n=>n.decorations}),dY=_n.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),zd=tn.define({combine:n=>Na(n,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new EY(e),scrollToMatch:e=>_n.scrollIntoView(e)})});class QN{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function nY(n){try{return new RegExp(n,nD),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>"n"==r?"\n":"r"==r?"\r":"t"==r?"\t":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new yY(this):new mY(this)}getCursor(e,t=0,r){let i=e.doc?e:js.create({doc:e});return null==r&&(r=i.doc.length),this.regexp?zh(this,i,t,r):Uh(this,i,t,r)}}class $N{constructor(e){this.spec=e}}function Uh(n,e,t,r){return new Bh(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?function gY(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),!(e(AO(i,t-s))==jr.Word&&e(kO(i,t-s))==jr.Word||e(kO(i,r-s))==jr.Word&&e(AO(i,r-s))==jr.Word))}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}class mY extends $N{constructor(e){super(e)}nextMatch(e,t,r){let i=Uh(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=Uh(this.spec,e,0,t).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),a=Uh(this.spec,e,s,i),c=null;for(;!a.nextOverlapping().done;)c=a.value;if(c)return c;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=Uh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Uh(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function zh(n,e,t,r){return new PN(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?vY(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function AO(n,e){return n.slice(zs(n,e,!1),e)}function kO(n,e){return n.slice(e,zs(n,e))}function vY(n){return(e,t,r)=>!r[0].length||(n(AO(r.input,r.index))!=jr.Word||n(kO(r.input,r.index))!=jr.Word)&&(n(kO(r.input,r.index+r[0].length))!=jr.Word||n(AO(r.input,r.index+r[0].length))!=jr.Word)}class yY extends $N{nextMatch(e,t,r){let i=zh(this.spec,e,r,e.doc.length).next();return i.done&&(i=zh(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-1e4*i),a=zh(this.spec,e,s,r),c=null;for(;!a.next().done;)c=a.value;if(c&&(s==t||c.from>s+10))return c;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(t,r)=>"$"==r?"$":"&"==r?e.match[0]:"0"!=r&&+r<e.match.length?e.match[r]:t))}matchAll(e,t){let r=zh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=zh(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const _m=Qn.define(),sD=Qn.define(),Rl=Di.define({create:n=>new oD(RO(n).create(),null),update(n,e){for(let t of e.effects)t.is(_m)?n=new oD(t.value.create(),n.panel):t.is(sD)&&(n=new oD(n.query,t.value?aD:null));return n},provide:n=>um.from(n,e=>e.panel)});class oD{constructor(e,t){this.query=e,this.panel=t}}const OY=sn.mark({class:"cm-searchMatch"}),bY=sn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),wY=oi.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Rl))}update(n){let e=n.state.field(Rl);(e!=n.startState.field(Rl)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return sn.none;let{view:t}=this,r=new uc;for(let i=0,s=t.visibleRanges,a=s.length;i<a;i++){let{from:c,to:f}=s[i];for(;i<a-1&&f>s[i+1].from-500;)f=s[++i].to;n.highlight(t.state,c,f,(m,O)=>{let x=t.state.selection.ranges.some(P=>P.from==m&&P.to==O);r.add(m,O,x?bY:OY)})}return r.finish()}},{decorations:n=>n.decorations});function Tm(n){return e=>{let t=e.state.field(Rl,!1);return t&&t.query.spec.valid?n(e,t):VN(e)}}const IO=Tm((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=bt.single(r.from,r.to),s=n.state.facet(zd);return n.dispatch({selection:i,effects:[lD(n,r),s.scrollToMatch(i.main)],userEvent:"select.search"}),!0}),PO=Tm((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=bt.single(i.from,i.to),a=n.state.facet(zd);return n.dispatch({selection:s,effects:[lD(n,i),a.scrollToMatch(s.main)],userEvent:"select.search"}),!0}),SY=Tm((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!(!t||!t.length||(n.dispatch({selection:bt.create(t.map(r=>bt.range(r.from,r.to))),userEvent:"select.search.matches"}),0))}),BN=Tm((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let c,f,a=[],m=[];if(s.from==r&&s.to==i&&(f=t.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:f}),s=e.nextMatch(t,s.from,s.to),m.push(_n.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),s){let O=0==a.length||a[0].from>=s.to?0:s.to-s.from-f.length;c=bt.single(s.from-O,s.to-O),m.push(lD(n,s)),m.push(t.facet(zd).scrollToMatch(c.main))}return n.dispatch({changes:a,selection:c,effects:m,userEvent:"input.replace"}),!0}),DY=Tm((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:a}=i;return{from:s,to:a,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:_n.announce.of(r),userEvent:"input.replace.all"}),!0});function aD(n){return n.state.facet(zd).createPanel(n)}function RO(n,e){var t,r,i,s;let a=n.selection.main,c=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!c)return e;let f=n.facet(zd);return new QN({search:(null!==(t=e?.literal)&&void 0!==t?t:f.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:null!==(r=e?.caseSensitive)&&void 0!==r?r:f.caseSensitive,literal:null!==(i=e?.literal)&&void 0!==i?i:f.literal,wholeWord:null!==(s=e?.wholeWord)&&void 0!==s?s:f.wholeWord})}const VN=n=>{let e=n.state.field(Rl,!1);if(e&&e.panel){let t=lm(n,aD);if(!t)return!1;let r=t.dom.querySelector("[main-field]");if(r&&r!=n.root.activeElement){let i=RO(n.state,e.query.spec);i.valid&&n.dispatch({effects:_m.of(i)}),r.focus(),r.select()}}else n.dispatch({effects:[sD.of(!0),e?_m.of(RO(n.state,e.query.spec)):Qn.appendConfig.of(uD)]});return!0},UN=n=>{let e=n.state.field(Rl,!1);if(!e||!e.panel)return!1;let t=lm(n,aD);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:sD.of(!1)}),!0},CY=[{key:"Mod-f",run:VN,scope:"editor search-panel"},{key:"F3",run:IO,shift:PO,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:IO,shift:PO,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:UN,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],a=0;for(let c=new Bh(n.doc,n.sliceDoc(r,i));!c.next().done;){if(s.length>1e3)return!1;c.value.from==r&&(a=s.length),s.push(bt.range(c.value.from,c.value.to))}return e(n.update({selection:bt.create(s,a),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:n=>{let e=lm(n,iD);if(!e){let t=[MO.of(!0)];null==n.state.field(NN,!1)&&t.push(Qn.appendConfig.of([NN,iY])),n.dispatch({effects:t}),e=lm(n,iD)}return e&&e.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return(({state:n,dispatch:e})=>{let{selection:t}=n,r=bt.create(t.ranges.map(i=>n.wordAt(i.head)||bt.cursor(i.head)),t.mainIndex);return!r.eq(t)&&(e(n.update({selection:r})),!0)})({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=function hY(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let a=!1,c=new Bh(n.doc,e,r[r.length-1].to);;){if(c.next(),!c.done){if(a&&r.some(f=>f.from==c.value.from))continue;if(s){let f=n.wordAt(c.value.from);if(!f||f.from!=c.value.from||f.to!=c.value.to)continue}return c.value}if(a)return null;c=new Bh(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),a=!0}}(n,r);return!!i&&(e(n.update({selection:n.selection.addRange(bt.range(i.from,i.to),!1),effects:_n.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class EY{constructor(e){this.view=e;let t=this.query=e.state.field(Rl).query.spec;function r(i,s,a){return Ar("button",{class:"cm-button",name:i,onclick:s,type:"button"},a)}this.commit=this.commit.bind(this),this.searchField=Ar("input",{value:t.search,placeholder:Fo(e,"Find"),"aria-label":Fo(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ar("input",{value:t.replace,placeholder:Fo(e,"Replace"),"aria-label":Fo(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ar("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Ar("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Ar("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=Ar("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>IO(e),[Fo(e,"next")]),r("prev",()=>PO(e),[Fo(e,"previous")]),r("select",()=>SY(e),[Fo(e,"all")]),Ar("label",null,[this.caseField,Fo(e,"match case")]),Ar("label",null,[this.reField,Fo(e,"regexp")]),Ar("label",null,[this.wordField,Fo(e,"by word")]),...e.state.readOnly?[]:[Ar("br"),this.replaceField,r("replace",()=>BN(e),[Fo(e,"replace")]),r("replaceAll",()=>DY(e),[Fo(e,"replace all")])],Ar("button",{name:"close",onclick:()=>UN(e),"aria-label":Fo(e,"close"),type:"button"},["\xd7"])])}commit(){let e=new QN({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:_m.of(e)}))}keydown(e){!function nX(n,e,t){return RI(PI(n.state),e,n,t)}(this.view,e,"search-panel")?13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?PO:IO)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),BN(this.view)):e.preventDefault()}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(_m)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(zd).top}}function Fo(n,e){return n.state.phrase(e)}const LO=/[\s\.,:;?!]/;function lD(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-30),a=Math.min(i,t+30),c=n.state.sliceDoc(s,a);if(s!=r.from)for(let f=0;f<30;f++)if(!LO.test(c[f+1])&&LO.test(c[f])){c=c.slice(f);break}if(a!=i)for(let f=c.length-1;f>c.length-30;f--)if(!LO.test(c[f-1])&&LO.test(c[f])){c=c.slice(0,f);break}return _n.announce.of(`${n.state.phrase("current match")}. ${c} ${n.state.phrase("on line")} ${r.number}.`)}const _Y=_n.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),uD=[Rl,Pd.lowest(wY),_Y];class TY{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class jd{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,s=r.facet(Hd).markerFilter;s&&(i=s(i));let a=sn.set(i.map(c=>c.from==c.to||c.from==c.to-1&&r.doc.lineAt(c.from).to==c.from?sn.widget({widget:new RY(c),diagnostic:c}).range(c.from):sn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+c.severity},diagnostic:c}).range(c.from,c.to)),!0);return new jd(a,t,jh(a))}}function jh(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:a})=>{if(!e||a.diagnostic==e)return r=new TY(i,s,a.diagnostic),!1}),r}function zN(n,e){return!(!n.effects.some(t=>t.is(FO))&&!n.changes.touchesRange(e.pos))}function jN(n,e){return n.field(Gs,!1)?e:e.concat(Qn.appendConfig.of([Gs,_n.decorations.compute([Gs],t=>{let{selected:r,panel:i}=t.field(Gs);return r&&i&&r.from!=r.to?sn.set([AY.range(r.from,r.to)]):sn.none}),VX(kY,{hideOn:zN}),NY]))}const FO=Qn.define(),cD=Qn.define(),HN=Qn.define(),Gs=Di.define({create:()=>new jd(sn.none,null,null),update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),r=null;if(n.selected){let i=e.changes.mapPos(n.selected.from,1);r=jh(t,n.selected.diagnostic,i)||jh(t,null,i)}n=new jd(t,n.panel,r)}for(let t of e.effects)t.is(FO)?n=jd.init(t.value,n.panel,e.state):t.is(cD)?n=new jd(n.diagnostics,t.value?QO.open:null,n.selected):t.is(HN)&&(n=new jd(n.diagnostics,n.panel,t.value));return n},provide:n=>[um.from(n,e=>e.panel),_n.decorations.from(n,e=>e.diagnostics)]}),AY=sn.mark({class:"cm-lintRange cm-lintRange-active"});function kY(n,e,t){let{diagnostics:r}=n.state.field(Gs),i=[],s=2e8,a=0;r.between(e-(t<0?1:0),e+(t>0?1:0),(f,m,{spec:O})=>{e>=f&&e<=m&&(f==m||(e>f||t>0)&&(e<m||t<0))&&(i.push(O.diagnostic),s=Math.min(f,s),a=Math.max(m,a))});let c=n.state.facet(Hd).tooltipFilter;return c&&(i=c(i)),i.length?{pos:s,end:a,above:n.state.doc.lineAt(s).to<a,create:()=>({dom:XN(n,i)})}:null}function XN(n,e){return Ar("ul",{class:"cm-tooltip-lint"},e.map(t=>YN(n,t,!1)))}const GN=n=>{let e=n.state.field(Gs,!1);return!(!e||!e.panel||(n.dispatch({effects:cD.of(!1)}),0))},PY=[{key:"Mod-Shift-m",run:n=>{let e=n.state.field(Gs,!1);(!e||!e.panel)&&n.dispatch({effects:jN(n.state,[cD.of(!0)])});let t=lm(n,QO.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:n=>{let e=n.state.field(Gs,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)||(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),0))}}],Hd=tn.define({combine:n=>Object.assign({sources:n.map(e=>e.source)},Na(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t})),enables:oi.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(Hd);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let n=Date.now();if(n<this.lintTime-10)setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(Hd);Promise.all(t.map(r=>Promise.resolve(r(this.view)))).then(r=>{let i=r.reduce((s,a)=>s.concat(a));this.view.state.doc==e.doc&&this.view.dispatch(function MY(n,e){return{effects:jN(n,[FO.of(e)])}}(this.view.state,i))},r=>{Ro(this.view.state,r)})}}update(n){let e=n.state.facet(Hd);(n.docChanged||e!=n.startState.facet(Hd)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}})});function ZN(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function YN(n,e,t){var r;let i=t?ZN(e.actions):[];return Ar("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ar("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),null===(r=e.actions)||void 0===r?void 0:r.map((s,a)=>{let c=!1,f=P=>{if(P.preventDefault(),c)return;c=!0;let U=jh(n.state.field(Gs).diagnostics,e);U&&s.apply(n,U.from,U.to)},{name:m}=s,O=i[a]?m.indexOf(i[a]):-1,x=O<0?m:[m.slice(0,O),Ar("u",m.slice(O,O+1)),m.slice(O+1)];return Ar("button",{type:"button",class:"cm-diagnosticAction",onclick:f,onmousedown:f,"aria-label":` Action: ${m}${O<0?"":` (access key "${i[a]})"`}.`},x)}),e.source&&Ar("div",{class:"cm-diagnosticSource"},e.source))}class RY extends gu{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Ar("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class qN{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=YN(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class QO{constructor(e){this.view=e,this.items=[],this.list=Ar("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:i=>{if(27==i.keyCode)GN(this.view),this.view.focus();else if(38==i.keyCode||33==i.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==i.keyCode||34==i.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==i.keyCode)this.moveSelection(0);else if(35==i.keyCode)this.moveSelection(this.items.length-1);else if(13==i.keyCode)this.view.focus();else{if(!(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:s}=this.items[this.selectedIndex],a=ZN(s.actions);for(let c=0;c<a.length;c++)if(a[c].toUpperCase().charCodeAt(0)==i.keyCode){let f=jh(this.view.state.field(Gs).diagnostics,s);f&&s.actions[c].apply(e,f.from,f.to)}}}i.preventDefault()},onclick:i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)}}),this.dom=Ar("div",{class:"cm-panel-lint"},this.list,Ar("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>GN(this.view)},"\xd7")),this.update()}get selectedIndex(){let e=this.view.state.field(Gs).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Gs),r=0,i=!1,s=null;for(e.between(0,this.view.state.doc.length,(a,c,{spec:f})=>{let O,m=-1;for(let x=r;x<this.items.length;x++)if(this.items[x].diagnostic==f.diagnostic){m=x;break}m<0?(O=new qN(this.view,f.diagnostic),this.items.splice(r,0,O),i=!0):(O=this.items[m],m>r&&(this.items.splice(r,m-r),i=!0)),t&&O.diagnostic==t.diagnostic?O.dom.hasAttribute("aria-selected")||(O.dom.setAttribute("aria-selected","true"),s=O):O.dom.hasAttribute("aria-selected")&&O.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();0==this.items.length&&(this.items.push(new qN(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:c})=>{a.top<c.top?this.list.scrollTop-=c.top-a.top:a.bottom>c.bottom&&(this.list.scrollTop+=a.bottom-c.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let r=jh(this.view.state.field(Gs).diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:HN.of(r)})}static open(e){return new QO(e)}}function dD(n){return function $O(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const NY=_n.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:dD("#d11")},".cm-lintRange-warning":{backgroundImage:dD("orange")},".cm-lintRange-info":{backgroundImage:dD("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),eL=(()=>[YX(),KX,yX(),i4(),DW(),lX(),[om,fX],js.allowMultipleSelections.of(!0),js.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+200)return n;let s=t.sliceString(i.from,r);if(!e.some(m=>m.test(s)))return n;let{state:a}=n,c=-1,f=[];for(let{head:m}of a.selection.ranges){let O=a.doc.lineAt(m);if(O.from==c)continue;c=O.from;let x=cO(a,O.from);if(null==x)continue;let P=/^\s*/.exec(O.text)[0],U=Rh(a,x);P!=U&&f.push({from:O.from,to:O.from+P.length,insert:U})}return f.length?[n,{changes:f,sequential:!0}]:n}),T1(TW,{fallback:!0}),RW(),[DZ,kR],IZ(),kX(),RX(),EX,oY(),B0.of([...CZ,...tY,...CY,...h4,...wW,...FR,...PY])])(),hD="#2e3440",tL="#3b4252",nL="#434c5e",Hh="#4c566a",Mm="#d8dee9",Xd="#8fbcbb",rL="#88c0d0",Nl="#5e81ac",iL="#d08770",pD="#ebcb8b",VO="#a3be8c",gD="#b48ead",sL="#d30102",aL=[_n.theme({"&":{color:Mm,backgroundColor:hD},".cm-content":{caretColor:Mm},".cm-cursor, .cm-dropCursor":{borderLeftColor:Mm},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Hh},".cm-panels":{backgroundColor:"#252a33",color:Hh},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"transparent",outline:`1px solid ${Xd}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:Mm,color:hD},".cm-activeLine":{backgroundColor:Hh},".cm-selectionMatch":{backgroundColor:"#e5e9f0",color:tL},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${Xd}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:"#eceff4",color:nL},".cm-gutters":{backgroundColor:hD,color:Hh,border:"none"},".cm-activeLineGutter":{backgroundColor:Hh,color:Mm},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tL},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tL,borderBottomColor:tL},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Hh,color:Hh}}},{dark:!0}),T1(Lh.define([{tag:Ee.keyword,color:Nl},{tag:[Ee.name,Ee.deleted,Ee.character,Ee.propertyName,Ee.macroName],color:rL},{tag:[Ee.variableName],color:Xd},{tag:[Ee.function(Ee.variableName)],color:Xd},{tag:[Ee.labelName],color:"#81a1c1"},{tag:[Ee.color,Ee.constant(Ee.name),Ee.standard(Ee.name)],color:Nl},{tag:[Ee.definition(Ee.name),Ee.separator],color:VO},{tag:[Ee.brace],color:Xd},{tag:[Ee.annotation],color:sL},{tag:[Ee.number,Ee.changed,Ee.annotation,Ee.modifier,Ee.self,Ee.namespace],color:gD},{tag:[Ee.typeName,Ee.className],color:pD},{tag:[Ee.operator,Ee.operatorKeyword],color:VO},{tag:[Ee.tagName],color:gD},{tag:[Ee.squareBracket],color:"#bf616a"},{tag:[Ee.angleBracket],color:iL},{tag:[Ee.attributeName],color:pD},{tag:[Ee.regexp],color:Nl},{tag:[Ee.quote],color:gD},{tag:[Ee.string],color:VO},{tag:Ee.link,color:VO,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[Ee.url,Ee.escape,Ee.special(Ee.string)],color:Xd},{tag:[Ee.meta],color:rL},{tag:[Ee.monospace],color:Mm,fontStyle:"italic"},{tag:[Ee.comment],color:Hh,fontStyle:"italic"},{tag:Ee.strong,fontWeight:"bold",color:Nl},{tag:Ee.emphasis,fontStyle:"italic",color:Nl},{tag:Ee.strikethrough,textDecoration:"line-through"},{tag:Ee.heading,fontWeight:"bold",color:Nl},{tag:Ee.special(Ee.heading1),fontWeight:"bold",color:Nl},{tag:Ee.heading1,fontWeight:"bold",color:Nl},{tag:[Ee.heading2,Ee.heading3,Ee.heading4],fontWeight:"bold",color:Nl},{tag:[Ee.heading5,Ee.heading6],color:Nl},{tag:[Ee.atom,Ee.bool,Ee.special(Ee.variableName)],color:iL},{tag:[Ee.processingInstruction,Ee.inserted],color:Xd},{tag:[Ee.contentSeparator],color:pD},{tag:Ee.invalid,color:nL,borderBottom:`1px dotted ${sL}`}]))],lL="#2e3440",uL="#3b4252",cL="#434c5e",UO="#4c566a",yD="#e5e9f0",OD="#eceff4",bD="#8fbcbb",dL="#88c0d0",$a="#5e81ac",Xh="#d08770",wD="#ebcb8b",fL="#a3be8c",hL="#d30102",i8=[_n.theme({"&":{color:lL,backgroundColor:"#ffffff"},".cm-content":{caretColor:uL},".cm-cursor, .cm-dropCursor":{borderLeftColor:uL},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:OD},".cm-panels":{backgroundColor:OD,color:UO},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${UO}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:yD},".cm-activeLine":{backgroundColor:OD},".cm-selectionMatch":{backgroundColor:yD},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${UO}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:OD},".cm-gutters":{backgroundColor:OD,color:lL,border:"none"},".cm-activeLineGutter":{backgroundColor:OD},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:yD},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:yD,borderBottomColor:yD},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:OD,color:UO}}},{dark:!1}),T1(Lh.define([{tag:Ee.keyword,color:$a},{tag:[Ee.name,Ee.deleted,Ee.character,Ee.propertyName,Ee.macroName],color:Xh},{tag:[Ee.variableName],color:Xh},{tag:[Ee.function(Ee.variableName)],color:$a},{tag:[Ee.labelName],color:"#81a1c1"},{tag:[Ee.color,Ee.constant(Ee.name),Ee.standard(Ee.name)],color:$a},{tag:[Ee.definition(Ee.name),Ee.separator],color:fL},{tag:[Ee.brace],color:bD},{tag:[Ee.annotation],color:hL},{tag:[Ee.number,Ee.changed,Ee.annotation,Ee.modifier,Ee.self,Ee.namespace],color:dL},{tag:[Ee.typeName,Ee.className],color:wD},{tag:[Ee.operator,Ee.operatorKeyword],color:fL},{tag:[Ee.tagName],color:"#b48ead"},{tag:[Ee.squareBracket],color:"#bf616a"},{tag:[Ee.angleBracket],color:Xh},{tag:[Ee.attributeName],color:wD},{tag:[Ee.regexp],color:$a},{tag:[Ee.quote],color:uL},{tag:[Ee.string],color:Xh},{tag:Ee.link,color:bD,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[Ee.url,Ee.escape,Ee.special(Ee.string)],color:Xh},{tag:[Ee.meta],color:dL},{tag:[Ee.comment],color:cL,fontStyle:"italic"},{tag:Ee.strong,fontWeight:"bold",color:$a},{tag:Ee.emphasis,fontStyle:"italic",color:$a},{tag:Ee.strikethrough,textDecoration:"line-through"},{tag:Ee.heading,fontWeight:"bold",color:$a},{tag:Ee.special(Ee.heading1),fontWeight:"bold",color:$a},{tag:Ee.heading1,fontWeight:"bold",color:$a},{tag:[Ee.heading2,Ee.heading3,Ee.heading4],fontWeight:"bold",color:$a},{tag:[Ee.heading5,Ee.heading6],color:$a},{tag:[Ee.atom,Ee.bool,Ee.special(Ee.variableName)],color:Xh},{tag:[Ee.processingInstruction,Ee.inserted],color:bD},{tag:[Ee.contentSeparator],color:wD},{tag:Ee.invalid,color:cL,borderBottom:`1px dotted ${hL}`}]))];class xc{constructor(){this._darkMode=!1,this._darkMode$=new kM(this._darkMode)}toggleDarkMode(){this._darkMode=!this._darkMode,this._darkMode$.next(this._darkMode)}darkMode(){return this._darkMode$.asObservable()}}xc.\u0275fac=function(e){return new(e||xc)},xc.\u0275prov=xn({token:xc,factory:xc.\u0275fac,providedIn:"root"});const s8=["cm"];class Am{set targetContent(e){e&&(this.editorSource=e.nativeElement,this.initEditor())}constructor(e){this.globalSettings=e,this.editorReady=new Promise(t=>{this.editorReadyPromiseResolve=t}),this.theme=aL,this.extensions=[eL,zR(),this.theme],this.text="",this.docChangedDebounceTime=400,this.docChanged=new Lr,this.darkMode=!1,this.docValue$=new Ne}ngOnInit(){this.globalSettings.darkMode().subscribe(e=>{this.darkMode=e,this.updateTheme()}),this.docValue$.asObservable().pipe(XS(this.docChangedDebounceTime)).subscribe(e=>{this.docChanged.emit(e)})}ngOnChanges(){this.setEditorContent(this.text)}initEditor(){null!=this.editorSource&&(console.log("Init editor"),this.view=new _n({state:js.create({doc:this.text,extensions:this.extensions}),parent:this.editorSource}),console.log(this.view),this.editorReadyPromiseResolve())}setEditorContent(e){var t=this;return Oh(function*(){if(yield t.editorReady,null==t.view)return;const r=js.create({doc:e,extensions:t.extensions});t.view.setState(r)})()}updateTheme(){var e=this;return Oh(function*(){if(yield e.editorReady,null==e.view)return;e.theme=e.darkMode?aL:i8,e.updateExtensions();const t=js.create({doc:e.view.state.doc,extensions:e.extensions});e.view.setState(t)})()}updateExtensions(){this.extensions=[eL,zR(),this.theme,_n.updateListener.of(e=>{if(e.docChanged)try{const t=JSON.parse(e.state.doc.toString());this.docValue$.next(t)}catch{}})]}onSaveHandler(e){console.log("Save"),e.preventDefault()}onPasteHandler(e){console.log("Pasted")}}Am.\u0275fac=function(e){return new(e||Am)(gt(xc))},Am.\u0275cmp=wo({type:Am,selectors:[["im-poc1-rdf-editor"]],viewQuery:function(e,t){if(1&e&&wg(s8,5),2&e){let r;sh(r=oh())&&(t.targetContent=r.first)}},hostBindings:function(e,t){1&e&&bi("keydown.control.s",function(i){return t.onSaveHandler(i)},0,Bs)("keydown.control.v",function(i){return t.onPasteHandler(i)},!1,Bs)},inputs:{text:"text",docChangedDebounceTime:"docChangedDebounceTime"},outputs:{docChanged:"docChanged"},standalone:!0,features:[In,yg],decls:3,vars:2,consts:[[1,"container"],["cm",""]],template:function(e,t){1&e&&(Oi(0,"div",0),_a(1,"div",null,1),Gi()),2&e&&dg("background-color",t.darkMode?"#2e3440":"white")},dependencies:[uh],styles:[".container[_ngcontent-%COMP%]{height:100%}"]});const Ba=new Xt("NgValueAccessor"),l9=["switch"],u9=["*"],c9=new Xt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),d9={provide:Ba,useExisting:st(()=>y2),multi:!0};class v2{constructor(e,t){this.source=e,this.checked=t}}let f9=0;const h9=hj(qS(fj(dj(class{constructor(n){this._elementRef=n}}))));let p9=(()=>{class n extends h9{get required(){return this._required}set required(t){this._required=Pg(t)}get checked(){return this._checked}set checked(t){this._checked=Pg(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,r,i,s,a,c,f){super(t),this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=a,this._onChange=m=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new Lr,this.toggleChange=new Lr,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=a.color||"accent",this._noopAnimations="NoopAnimations"===c,this.id=this._uniqueId=`${f}${++f9}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){!function _C(){throw new Error("invalid")}()},n.\u0275dir=fn({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[sr]}),n})(),y2=(()=>{class n extends p9{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,r,i,s,a,c){super(t,r,i,s,a,c,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new v2(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new v2(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return n.\u0275fac=function(t){return new(t||n)(gt(ii),gt(sj),gt(Ny),sd("tabindex"),gt(c9),gt(mT,8))},n.\u0275cmp=wo({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,r){if(1&t&&wg(l9,5),2&t){let i;sh(i=oh())&&(r._switchElement=i.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(t,r){2&t&&(Lw("id",r.id),uo("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Ta("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[_r([d9]),sr],ngContentSelectors:u9,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(t,r){if(1&t&&(cg(),Oi(0,"div",0)(1,"button",1,2),bi("click",function(){return r._handleClick()}),_a(3,"div",3),Oi(4,"div",4)(5,"div",5)(6,"div",6),_a(7,"div",7),Gi(),Oi(8,"div",8),_a(9,"div",9),Gi(),Oi(10,"div",10),function gv(){dn.lFrame.currentNamespace="svg"}(),Oi(11,"svg",11),_a(12,"path",12),Gi(),Oi(13,"svg",13),_a(14,"path",14),Gi()()()()(),function bp(){!function Kc(){dn.lFrame.currentNamespace=null}()}(),Oi(15,"label",15),bi("click",function(s){return s.stopPropagation()}),eh(16),Gi()()),2&t){const i=function rE(n){return function Ru(n,e){return n[e]}(function il(){return dn.lFrame.contextLView}(),22+n)}(2);Ta("mdc-form-field--align-end","before"==r.labelPosition),Wo(1),Ta("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),co("tabIndex",r.tabIndex)("disabled",r.disabled),uo("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),Wo(8),co("matRippleTrigger",i)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),Wo(6),co("for",r.buttonId),uo("id",r._labelId)}},dependencies:[bj],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),n})(),O2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ys({type:n}),n.\u0275inj=Ir({}),n})(),v9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ys({type:n}),n.\u0275inj=Ir({imports:[O2,sc,wj,uh,O2,sc]}),n})();const y9=["*",[["mat-toolbar-row"]]],O9=["*","mat-toolbar-row"],b9=qS(class{constructor(n){this._elementRef=n}});let w9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=fn({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),S9=(()=>{class n extends b9{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(gt(ii),gt(dh),gt(ui))},n.\u0275cmp=wo({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&function H_(n,e,t,r){const i=Ln();if(i.firstCreatePass){const s=yr();G_(i,new z_(e,t,r),s.index),function _B(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}X_(i,Ct(),t)}(i,w9,5),2&t){let s;sh(s=oh())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Ta("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[sr],ngContentSelectors:O9,decls:2,vars:0,template:function(t,r){1&t&&(cg(y9),eh(0),eh(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),x9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ys({type:n}),n.\u0275inj=Ir({imports:[sc,sc]}),n})();class Lm{constructor(e,t){this.document=e,this.globalSettings=t,this.darkMode=!1}ngOnInit(){this.globalSettings.darkMode().subscribe(e=>{this.darkMode=e,this.document.body.style.backgroundColor=e?"#bbb":"#eee"})}}Lm.\u0275fac=function(e){return new(e||Lm)(gt(ui),gt(xc))},Lm.\u0275cmp=wo({type:Lm,selectors:[["im-poc1-top-bar"]],standalone:!0,features:[yg],decls:9,vars:3,consts:[[1,"toolbar"],[1,"toggle"],[1,"mr-8"],[3,"checked","click"]],template:function(e,t){1&e&&(Oi(0,"mat-toolbar",0)(1,"h2"),Dy(2,"JSON-LD graph view"),Gi(),Oi(3,"div",1)(4,"mat-icon",2),Dy(5,"brightness_5"),Gi(),Oi(6,"mat-slide-toggle",3),bi("click",function(){return t.globalSettings.toggleDarkMode()}),Gi(),Oi(7,"mat-icon"),Dy(8,"bedtime"),Gi()()()),2&e&&(Ta("dark",t.darkMode),Wo(6),co("checked",t.darkMode))},dependencies:[uh,x9,S9,v9,y2,DA,n3],styles:[".toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;box-shadow:#00000026 1.95px 1.95px 2.6px;background-color:#fff}.toggle[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:3px}.dark[_ngcontent-%COMP%]{color:#fff!important;background-color:#020b4a!important}@media screen and (max-width: 500px){h2[_ngcontent-%COMP%]{font-size:1em}}"]});class Fm{constructor(e){this.globalSettings=e,this.graphData={"@context":{name:"http://schema.org/name",description:"http://schema.org/description",image:{"@id":"http://schema.org/image","@type":"@id"},geo:"http://schema.org/geo",latitude:{"@id":"http://schema.org/latitude","@type":"xsd:float"},longitude:{"@id":"http://schema.org/longitude","@type":"xsd:float"},xsd:"http://www.w3.org/2001/XMLSchema#"},name:"The Empire State Building",description:"The Empire State Building is a 102-story landmark in New York City.",image:"http://www.civil.usherbrooke.ca/cours/gci215a/empire-state-building.jpg",geo:{latitude:"40.75",longitude:"73.98"}},this.rdfText=JSON.stringify(this.graphData,null,"\t"),this.darkMode=!1,this.isSmallScreen=!1}ngOnInit(){this.globalSettings.darkMode().subscribe(e=>{this.darkMode=e}),this.detectScreenSize()}onRDFDocUpdate(e){this.graphData=e}onWindowResize(){this.detectScreenSize()}detectScreenSize(){this.isSmallScreen=window.innerWidth<500,console.log(this.isSmallScreen)}}Fm.\u0275fac=function(e){return new(e||Fm)(gt(xc))},Fm.\u0275cmp=wo({type:Fm,selectors:[["im-poc1-root"]],hostBindings:function(e,t){1&e&&bi("resize",function(i){return t.onWindowResize(i)},0,ec)},standalone:!0,features:[yg],decls:8,vars:7,consts:[[1,"main"],[1,"split-container"],[3,"direction"],[3,"size"],[3,"text","docChanged"],[3,"data"]],template:function(e,t){1&e&&(_a(0,"im-poc1-top-bar"),Oi(1,"div",0)(2,"div",1)(3,"as-split",2)(4,"as-split-area",3)(5,"im-poc1-rdf-editor",4),bi("docChanged",function(i){return t.onRDFDocUpdate(i)}),Gi()(),Oi(6,"as-split-area",3),_a(7,"im-poc1-graph",5),Gi()()()()),2&e&&(Wo(2),dg("background-color",t.darkMode?"#595959":"white"),Wo(1),co("direction",t.isSmallScreen?"vertical":"horizontal"),Wo(1),co("size",40),Wo(1),co("text",t.rdfText),Wo(1),co("size",60),Wo(1),co("data",t.graphData))},dependencies:[Vg,Am,yz,MM,vz,Lm],styles:[".split-container[_ngcontent-%COMP%]{width:calc(100% - 20px);height:calc(100vh - 200px);box-shadow:#00000026 1.95px 1.95px 2.6px;border-radius:10px;padding:10px}.main[_ngcontent-%COMP%]{padding:50px}@media screen and (max-width: 500px){.main[_ngcontent-%COMP%]{padding:5px}.split-container[_ngcontent-%COMP%]{width:calc(100% - 20px);height:calc(100vh - 75px)}}"]}),function VU(n,e){return dV({rootComponent:n,...bM(e)})}(Fm).catch(n=>console.error(n))},7352:(Pe,Re,j)=>{"use strict";j.r(Re),j.d(Re,{afterMain:()=>ce,afterRead:()=>le,afterWrite:()=>Q,applyStyles:()=>Ve,arrow:()=>Hr,auto:()=>R,basePlacements:()=>D,beforeMain:()=>J,beforeRead:()=>oe,beforeWrite:()=>z,bottom:()=>N,clippingParents:()=>B,computeStyles:()=>gs,createPopper:()=>ua,createPopperBase:()=>Ga,createPopperLite:()=>ur,detectOverflow:()=>qs,end:()=>_,eventListeners:()=>Zs,flip:()=>Kd,hide:()=>bu,left:()=>C,main:()=>ke,modifierPhases:()=>K,offset:()=>Ha,placements:()=>G,popper:()=>Y,popperGenerator:()=>Zi,popperOffsets:()=>gr,preventOverflow:()=>Jd,read:()=>q,reference:()=>ee,right:()=>M,start:()=>T,top:()=>H,variationPlacements:()=>V,viewport:()=>F,write:()=>L});var H="top",N="bottom",M="right",C="left",R="auto",D=[H,N,M,C],T="start",_="end",B="clippingParents",F="viewport",Y="popper",ee="reference",V=D.reduce(function(_e,ye){return _e.concat([ye+"-"+T,ye+"-"+_])},[]),G=[].concat(D,[R]).reduce(function(_e,ye){return _e.concat([ye,ye+"-"+T,ye+"-"+_])},[]),oe="beforeRead",q="read",le="afterRead",J="beforeMain",ke="main",ce="afterMain",z="beforeWrite",L="write",Q="afterWrite",K=[oe,q,le,J,ke,ce,z,L,Q];function ue(_e){return _e?(_e.nodeName||"").toLowerCase():null}function ge(_e){if(null==_e)return window;if("[object Window]"!==_e.toString()){var ye=_e.ownerDocument;return ye&&ye.defaultView||window}return _e}function ie(_e){return _e instanceof ge(_e).Element||_e instanceof Element}function be(_e){return _e instanceof ge(_e).HTMLElement||_e instanceof HTMLElement}function Le(_e){return!(typeof ShadowRoot>"u")&&(_e instanceof ge(_e).ShadowRoot||_e instanceof ShadowRoot)}const Ve={name:"applyStyles",enabled:!0,phase:"write",fn:function me(_e){var ye=_e.state;Object.keys(ye.elements).forEach(function(ze){var Ot=ye.styles[ze]||{},st=ye.attributes[ze]||{},ut=ye.elements[ze];!be(ut)||!ue(ut)||(Object.assign(ut.style,Ot),Object.keys(st).forEach(function(Yt){var Ft=st[Yt];!1===Ft?ut.removeAttribute(Yt):ut.setAttribute(Yt,!0===Ft?"":Ft)}))})},effect:function Xe(_e){var ye=_e.state,ze={popper:{position:ye.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(ye.elements.popper.style,ze.popper),ye.styles=ze,ye.elements.arrow&&Object.assign(ye.elements.arrow.style,ze.arrow),function(){Object.keys(ye.elements).forEach(function(Ot){var st=ye.elements[Ot],ut=ye.attributes[Ot]||{},Ft=Object.keys(ye.styles.hasOwnProperty(Ot)?ye.styles[Ot]:ze[Ot]).reduce(function(Bt,un){return Bt[un]="",Bt},{});!be(st)||!ue(st)||(Object.assign(st.style,Ft),Object.keys(ut).forEach(function(Bt){st.removeAttribute(Bt)}))})}},requires:["computeStyles"]};function Ae(_e){return _e.split("-")[0]}var ve=Math.max,he=Math.min,Je=Math.round;function He(){var _e=navigator.userAgentData;return null!=_e&&_e.brands?_e.brands.map(function(ye){return ye.brand+"/"+ye.version}).join(" "):navigator.userAgent}function Ne(){return!/^((?!chrome|android).)*safari/i.test(He())}function qe(_e,ye,ze){void 0===ye&&(ye=!1),void 0===ze&&(ze=!1);var Ot=_e.getBoundingClientRect(),st=1,ut=1;ye&&be(_e)&&(st=_e.offsetWidth>0&&Je(Ot.width)/_e.offsetWidth||1,ut=_e.offsetHeight>0&&Je(Ot.height)/_e.offsetHeight||1);var Ft=(ie(_e)?ge(_e):window).visualViewport,Bt=!Ne()&&ze,un=(Ot.left+(Bt&&Ft?Ft.offsetLeft:0))/st,it=(Ot.top+(Bt&&Ft?Ft.offsetTop:0))/ut,Gn=Ot.width/st,zt=Ot.height/ut;return{width:Gn,height:zt,top:it,right:un+Gn,bottom:it+zt,left:un,x:un,y:it}}function kt(_e){var ye=qe(_e),ze=_e.offsetWidth,Ot=_e.offsetHeight;return Math.abs(ye.width-ze)<=1&&(ze=ye.width),Math.abs(ye.height-Ot)<=1&&(Ot=ye.height),{x:_e.offsetLeft,y:_e.offsetTop,width:ze,height:Ot}}function ht(_e,ye){var ze=ye.getRootNode&&ye.getRootNode();if(_e.contains(ye))return!0;if(ze&&Le(ze)){var Ot=ye;do{if(Ot&&_e.isSameNode(Ot))return!0;Ot=Ot.parentNode||Ot.host}while(Ot)}return!1}function ot(_e){return ge(_e).getComputedStyle(_e)}function lt(_e){return["table","td","th"].indexOf(ue(_e))>=0}function je(_e){return((ie(_e)?_e.ownerDocument:_e.document)||window.document).documentElement}function we(_e){return"html"===ue(_e)?_e:_e.assignedSlot||_e.parentNode||(Le(_e)?_e.host:null)||je(_e)}function Qe(_e){return be(_e)&&"fixed"!==ot(_e).position?_e.offsetParent:null}function _t(_e){for(var ye=ge(_e),ze=Qe(_e);ze&&lt(ze)&&"static"===ot(ze).position;)ze=Qe(ze);return ze&&("html"===ue(ze)||"body"===ue(ze)&&"static"===ot(ze).position)?ye:ze||function ct(_e){var ye=/firefox/i.test(He());if(/Trident/i.test(He())&&be(_e)&&"fixed"===ot(_e).position)return null;var st=we(_e);for(Le(st)&&(st=st.host);be(st)&&["html","body"].indexOf(ue(st))<0;){var ut=ot(st);if("none"!==ut.transform||"none"!==ut.perspective||"paint"===ut.contain||-1!==["transform","perspective"].indexOf(ut.willChange)||ye&&"filter"===ut.willChange||ye&&ut.filter&&"none"!==ut.filter)return st;st=st.parentNode}return null}(_e)||ye}function dt(_e){return["top","bottom"].indexOf(_e)>=0?"x":"y"}function It(_e,ye,ze){return ve(_e,he(ye,ze))}function en(_e){return Object.assign({},{top:0,right:0,bottom:0,left:0},_e)}function on(_e,ye){return ye.reduce(function(ze,Ot){return ze[Ot]=_e,ze},{})}const Hr={name:"arrow",enabled:!0,phase:"main",fn:function dr(_e){var ye,ze=_e.state,Ot=_e.name,st=_e.options,ut=ze.elements.arrow,Yt=ze.modifiersData.popperOffsets,Ft=Ae(ze.placement),Bt=dt(Ft),it=[C,M].indexOf(Ft)>=0?"height":"width";if(ut&&Yt){var Gn=function(ye,ze){return en("number"!=typeof(ye="function"==typeof ye?ye(Object.assign({},ze.rects,{placement:ze.placement})):ye)?ye:on(ye,D))}(st.padding,ze),zt=kt(ut),jt="y"===Bt?H:C,br="y"===Bt?N:M,Vn=ze.rects.reference[it]+ze.rects.reference[Bt]-Yt[Bt]-ze.rects.popper[it],Un=Yt[Bt]-ze.rects.reference[Bt],zn=_t(ut),jn=zn?"y"===Bt?zn.clientHeight||0:zn.clientWidth||0:0,An=jn/2-zt[it]/2+(Vn/2-Un/2),vr=It(Gn[jt],An,jn-zt[it]-Gn[br]);ze.modifiersData[Ot]=((ye={})[Bt]=vr,ye.centerOffset=vr-An,ye)}},effect:function lr(_e){var ye=_e.state,Ot=_e.options.element,st=void 0===Ot?"[data-popper-arrow]":Ot;null!=st&&("string"==typeof st&&!(st=ye.elements.popper.querySelector(st))||ht(ye.elements.popper,st)&&(ye.elements.arrow=st))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ti(_e){return _e.split("-")[1]}var fs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ps(_e){var ye,ze=_e.popper,Ot=_e.popperRect,st=_e.placement,ut=_e.variation,Yt=_e.offsets,Ft=_e.position,Bt=_e.gpuAcceleration,un=_e.adaptive,it=_e.roundOffsets,Gn=_e.isFixed,zt=Yt.x,jt=void 0===zt?0:zt,br=Yt.y,Vn=void 0===br?0:br,Un="function"==typeof it?it({x:jt,y:Vn}):{x:jt,y:Vn};jt=Un.x,Vn=Un.y;var zn=Yt.hasOwnProperty("x"),jn=Yt.hasOwnProperty("y"),Br=C,Kn=H,or=window;if(un){var An=_t(ze),vr="clientHeight",Vr="clientWidth";An===ge(ze)&&"static"!==ot(An=je(ze)).position&&"absolute"===Ft&&(vr="scrollHeight",Vr="scrollWidth"),(st===H||(st===C||st===M)&&ut===_)&&(Kn=N,Vn-=(Gn&&An===or&&or.visualViewport?or.visualViewport.height:An[vr])-Ot.height,Vn*=Bt?1:-1),st!==C&&(st!==H&&st!==N||ut!==_)||(Br=M,jt-=(Gn&&An===or&&or.visualViewport?or.visualViewport.width:An[Vr])-Ot.width,jt*=Bt?1:-1)}var Wn,fr=Object.assign({position:Ft},un&&fs),to=!0===it?function hs(_e){var ze=_e.y,st=window.devicePixelRatio||1;return{x:Je(_e.x*st)/st||0,y:Je(ze*st)/st||0}}({x:jt,y:Vn}):{x:jt,y:Vn};return jt=to.x,Vn=to.y,Object.assign({},fr,Bt?((Wn={})[Kn]=jn?"0":"",Wn[Br]=zn?"0":"",Wn.transform=(or.devicePixelRatio||1)<=1?"translate("+jt+"px, "+Vn+"px)":"translate3d("+jt+"px, "+Vn+"px, 0)",Wn):((ye={})[Kn]=jn?Vn+"px":"",ye[Br]=zn?jt+"px":"",ye.transform="",ye))}const gs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Wt(_e){var ye=_e.state,ze=_e.options,Ot=ze.gpuAcceleration,st=void 0===Ot||Ot,ut=ze.adaptive,Yt=void 0===ut||ut,Ft=ze.roundOffsets,Bt=void 0===Ft||Ft,it={placement:Ae(ye.placement),variation:ti(ye.placement),popper:ye.elements.popper,popperRect:ye.rects.popper,gpuAcceleration:st,isFixed:"fixed"===ye.options.strategy};null!=ye.modifiersData.popperOffsets&&(ye.styles.popper=Object.assign({},ye.styles.popper,ps(Object.assign({},it,{offsets:ye.modifiersData.popperOffsets,position:ye.options.strategy,adaptive:Yt,roundOffsets:Bt})))),null!=ye.modifiersData.arrow&&(ye.styles.arrow=Object.assign({},ye.styles.arrow,ps(Object.assign({},it,{offsets:ye.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Bt})))),ye.attributes.popper=Object.assign({},ye.attributes.popper,{"data-popper-placement":ye.placement})},data:{}};var Nn={passive:!0};const Zs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function _c(_e){var ye=_e.state,ze=_e.instance,Ot=_e.options,st=Ot.scroll,ut=void 0===st||st,Yt=Ot.resize,Ft=void 0===Yt||Yt,Bt=ge(ye.elements.popper),un=[].concat(ye.scrollParents.reference,ye.scrollParents.popper);return ut&&un.forEach(function(it){it.addEventListener("scroll",ze.update,Nn)}),Ft&&Bt.addEventListener("resize",ze.update,Nn),function(){ut&&un.forEach(function(it){it.removeEventListener("scroll",ze.update,Nn)}),Ft&&Bt.removeEventListener("resize",ze.update,Nn)}},data:{}};var sa={left:"right",right:"left",bottom:"top",top:"bottom"};function Fl(_e){return _e.replace(/left|right|bottom|top/g,function(ye){return sa[ye]})}var Ou={start:"end",end:"start"};function Va(_e){return _e.replace(/start|end/g,function(ye){return Ou[ye]})}function vo(_e){var ye=ge(_e);return{scrollLeft:ye.pageXOffset,scrollTop:ye.pageYOffset}}function oa(_e){return qe(je(_e)).left+vo(_e).scrollLeft}function Ei(_e){var ye=ot(_e);return/auto|scroll|overlay|hidden/.test(ye.overflow+ye.overflowY+ye.overflowX)}function Qo(_e){return["html","body","#document"].indexOf(ue(_e))>=0?_e.ownerDocument.body:be(_e)&&Ei(_e)?_e:Qo(we(_e))}function aa(_e,ye){var ze;void 0===ye&&(ye=[]);var Ot=Qo(_e),st=Ot===(null==(ze=_e.ownerDocument)?void 0:ze.body),ut=ge(Ot),Yt=st?[ut].concat(ut.visualViewport||[],Ei(Ot)?Ot:[]):Ot,Ft=ye.concat(Yt);return st?Ft:Ft.concat(aa(we(Yt)))}function $o(_e){return Object.assign({},_e,{left:_e.x,top:_e.y,right:_e.x+_e.width,bottom:_e.y+_e.height})}function za(_e,ye,ze){return ye===F?$o(function Ql(_e,ye){var ze=ge(_e),Ot=je(_e),st=ze.visualViewport,ut=Ot.clientWidth,Yt=Ot.clientHeight,Ft=0,Bt=0;if(st){ut=st.width,Yt=st.height;var un=Ne();(un||!un&&"fixed"===ye)&&(Ft=st.offsetLeft,Bt=st.offsetTop)}return{width:ut,height:Yt,x:Ft+oa(_e),y:Bt}}(_e,ze)):ie(ye)?function Tc(_e,ye){var ze=qe(_e,!1,"fixed"===ye);return ze.top=ze.top+_e.clientTop,ze.left=ze.left+_e.clientLeft,ze.bottom=ze.top+_e.clientHeight,ze.right=ze.left+_e.clientWidth,ze.width=_e.clientWidth,ze.height=_e.clientHeight,ze.x=ze.left,ze.y=ze.top,ze}(ye,ze):$o(function Ua(_e){var ye,ze=je(_e),Ot=vo(_e),st=null==(ye=_e.ownerDocument)?void 0:ye.body,ut=ve(ze.scrollWidth,ze.clientWidth,st?st.scrollWidth:0,st?st.clientWidth:0),Yt=ve(ze.scrollHeight,ze.clientHeight,st?st.scrollHeight:0,st?st.clientHeight:0),Ft=-Ot.scrollLeft+oa(_e),Bt=-Ot.scrollTop;return"rtl"===ot(st||ze).direction&&(Ft+=ve(ze.clientWidth,st?st.clientWidth:0)-ut),{width:ut,height:Yt,x:Ft,y:Bt}}(je(_e)))}function Ys(_e){var Bt,ye=_e.reference,ze=_e.element,Ot=_e.placement,st=Ot?Ae(Ot):null,ut=Ot?ti(Ot):null,Yt=ye.x+ye.width/2-ze.width/2,Ft=ye.y+ye.height/2-ze.height/2;switch(st){case H:Bt={x:Yt,y:ye.y-ze.height};break;case N:Bt={x:Yt,y:ye.y+ye.height};break;case M:Bt={x:ye.x+ye.width,y:Ft};break;case C:Bt={x:ye.x-ze.width,y:Ft};break;default:Bt={x:ye.x,y:ye.y}}var un=st?dt(st):null;if(null!=un){var it="y"===un?"height":"width";switch(ut){case T:Bt[un]=Bt[un]-(ye[it]/2-ze[it]/2);break;case _:Bt[un]=Bt[un]+(ye[it]/2-ze[it]/2)}}return Bt}function qs(_e,ye){void 0===ye&&(ye={});var Ot=ye.placement,st=void 0===Ot?_e.placement:Ot,ut=ye.strategy,Yt=void 0===ut?_e.strategy:ut,Ft=ye.boundary,Bt=void 0===Ft?B:Ft,un=ye.rootBoundary,it=void 0===un?F:un,Gn=ye.elementContext,zt=void 0===Gn?Y:Gn,jt=ye.altBoundary,br=void 0!==jt&&jt,Vn=ye.padding,Un=void 0===Vn?0:Vn,zn=en("number"!=typeof Un?Un:on(Un,D)),Br=_e.rects.popper,Kn=_e.elements[br?zt===Y?ee:Y:zt],or=function Yd(_e,ye,ze,Ot){var st="clippingParents"===ye?function ja(_e){var ye=aa(we(_e)),Ot=["absolute","fixed"].indexOf(ot(_e).position)>=0&&be(_e)?_t(_e):_e;return ie(Ot)?ye.filter(function(st){return ie(st)&&ht(st,Ot)&&"body"!==ue(st)}):[]}(_e):[].concat(ye),ut=[].concat(st,[ze]),Ft=ut.reduce(function(Bt,un){var it=za(_e,un,Ot);return Bt.top=ve(it.top,Bt.top),Bt.right=he(it.right,Bt.right),Bt.bottom=he(it.bottom,Bt.bottom),Bt.left=ve(it.left,Bt.left),Bt},za(_e,ut[0],Ot));return Ft.width=Ft.right-Ft.left,Ft.height=Ft.bottom-Ft.top,Ft.x=Ft.left,Ft.y=Ft.top,Ft}(ie(Kn)?Kn:Kn.contextElement||je(_e.elements.popper),Bt,it,Yt),An=qe(_e.elements.reference),vr=Ys({reference:An,element:Br,strategy:"absolute",placement:st}),Vr=$o(Object.assign({},Br,vr)),Xr=zt===Y?Vr:An,wr={top:or.top-Xr.top+zn.top,bottom:Xr.bottom-or.bottom+zn.bottom,left:or.left-Xr.left+zn.left,right:Xr.right-or.right+zn.right},fr=_e.modifiersData.offset;if(zt===Y&&fr){var to=fr[st];Object.keys(wr).forEach(function(Wn){var ks=[M,N].indexOf(Wn)>=0?1:-1,ri=[H,N].indexOf(Wn)>=0?"y":"x";wr[Wn]+=to[ri]*ks})}return wr}const Kd={name:"flip",enabled:!0,phase:"main",fn:function qd(_e){var ye=_e.state,ze=_e.options,Ot=_e.name;if(!ye.modifiersData[Ot]._skip){for(var st=ze.mainAxis,ut=void 0===st||st,Yt=ze.altAxis,Ft=void 0===Yt||Yt,Bt=ze.fallbackPlacements,un=ze.padding,it=ze.boundary,Gn=ze.rootBoundary,zt=ze.altBoundary,jt=ze.flipVariations,br=void 0===jt||jt,Vn=ze.allowedAutoPlacements,Un=ye.options.placement,zn=Ae(Un),Br=Bt||(zn!==Un&&br?function la(_e){if(Ae(_e)===R)return[];var ye=Fl(_e);return[Va(_e),ye,Va(ye)]}(Un):[Fl(Un)]),Kn=[Un].concat(Br).reduce(function(Ya,Is){return Ya.concat(Ae(Is)===R?function As(_e,ye){void 0===ye&&(ye={});var st=ye.boundary,ut=ye.rootBoundary,Yt=ye.padding,Ft=ye.flipVariations,Bt=ye.allowedAutoPlacements,un=void 0===Bt?G:Bt,it=ti(ye.placement),Gn=it?Ft?V:V.filter(function(br){return ti(br)===it}):D,zt=Gn.filter(function(br){return un.indexOf(br)>=0});0===zt.length&&(zt=Gn);var jt=zt.reduce(function(br,Vn){return br[Vn]=qs(_e,{placement:Vn,boundary:st,rootBoundary:ut,padding:Yt})[Ae(Vn)],br},{});return Object.keys(jt).sort(function(br,Vn){return jt[br]-jt[Vn]})}(ye,{placement:Is,boundary:it,rootBoundary:Gn,padding:un,flipVariations:br,allowedAutoPlacements:Vn}):Is)},[]),or=ye.rects.reference,An=ye.rects.popper,vr=new Map,Vr=!0,Xr=Kn[0],wr=0;wr<Kn.length;wr++){var fr=Kn[wr],to=Ae(fr),Wn=ti(fr)===T,ks=[H,N].indexOf(to)>=0,ri=ks?"width":"height",mn=qs(ye,{placement:fr,boundary:it,rootBoundary:Gn,altBoundary:zt,padding:un}),xr=ks?Wn?M:C:Wn?N:H;or[ri]>An[ri]&&(xr=Fl(xr));var Pc=Fl(xr),Za=[];if(ut&&Za.push(mn[to]<=0),Ft&&Za.push(mn[xr]<=0,mn[Pc]<=0),Za.every(function(Ya){return Ya})){Xr=fr,Vr=!1;break}vr.set(fr,Za)}if(Vr)for(var nf=function(Is){var no=Kn.find(function(xu){var Oo=vr.get(xu);if(Oo)return Oo.slice(0,Is).every(function(ca){return ca})});if(no)return Xr=no,"break"},Ir=br?3:1;Ir>0&&"break"!==nf(Ir);Ir--);ye.placement!==Xr&&(ye.modifiersData[Ot]._skip=!0,ye.placement=Xr,ye.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Mc(_e,ye,ze){return void 0===ze&&(ze={x:0,y:0}),{top:_e.top-ye.height-ze.y,right:_e.right-ye.width+ze.x,bottom:_e.bottom-ye.height+ze.y,left:_e.left-ye.width-ze.x}}function Ac(_e){return[H,M,N,C].some(function(ye){return _e[ye]>=0})}const bu={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Zh(_e){var ye=_e.state,ze=_e.name,Ot=ye.rects.reference,st=ye.rects.popper,ut=ye.modifiersData.preventOverflow,Yt=qs(ye,{elementContext:"reference"}),Ft=qs(ye,{altBoundary:!0}),Bt=Mc(Yt,Ot),un=Mc(Ft,st,ut),it=Ac(Bt),Gn=Ac(un);ye.modifiersData[ze]={referenceClippingOffsets:Bt,popperEscapeOffsets:un,isReferenceHidden:it,hasPopperEscaped:Gn},ye.attributes.popper=Object.assign({},ye.attributes.popper,{"data-popper-reference-hidden":it,"data-popper-escaped":Gn})}},Ha={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function wu(_e){var ye=_e.state,Ot=_e.name,st=_e.options.offset,ut=void 0===st?[0,0]:st,Yt=G.reduce(function(it,Gn){return it[Gn]=function Ks(_e,ye,ze){var Ot=Ae(_e),st=[C,H].indexOf(Ot)>=0?-1:1,ut="function"==typeof ze?ze(Object.assign({},ye,{placement:_e})):ze,Yt=ut[0],Ft=ut[1];return Yt=Yt||0,Ft=(Ft||0)*st,[C,M].indexOf(Ot)>=0?{x:Ft,y:Yt}:{x:Yt,y:Ft}}(Gn,ye.rects,ut),it},{}),Ft=Yt[ye.placement],un=Ft.y;null!=ye.modifiersData.popperOffsets&&(ye.modifiersData.popperOffsets.x+=Ft.x,ye.modifiersData.popperOffsets.y+=un),ye.modifiersData[Ot]=Yt}},gr={name:"popperOffsets",enabled:!0,phase:"read",fn:function Su(_e){var ye=_e.state;ye.modifiersData[_e.name]=Ys({reference:ye.rects.reference,element:ye.rects.popper,strategy:"absolute",placement:ye.placement})},data:{}},Jd={name:"preventOverflow",enabled:!0,phase:"main",fn:function tr(_e){var ye=_e.state,ze=_e.options,Ot=_e.name,st=ze.mainAxis,ut=void 0===st||st,Yt=ze.altAxis,Ft=void 0!==Yt&&Yt,zt=ze.tether,jt=void 0===zt||zt,br=ze.tetherOffset,Vn=void 0===br?0:br,Un=qs(ye,{boundary:ze.boundary,rootBoundary:ze.rootBoundary,padding:ze.padding,altBoundary:ze.altBoundary}),zn=Ae(ye.placement),jn=ti(ye.placement),Br=!jn,Kn=dt(zn),or=function Yh(_e){return"x"===_e?"y":"x"}(Kn),An=ye.modifiersData.popperOffsets,vr=ye.rects.reference,Vr=ye.rects.popper,Xr="function"==typeof Vn?Vn(Object.assign({},ye.rects,{placement:ye.placement})):Vn,wr="number"==typeof Xr?{mainAxis:Xr,altAxis:Xr}:Object.assign({mainAxis:0,altAxis:0},Xr),fr=ye.modifiersData.offset?ye.modifiersData.offset[ye.placement]:null,to={x:0,y:0};if(An){if(ut){var Wn,ks="y"===Kn?H:C,ri="y"===Kn?N:M,mn="y"===Kn?"height":"width",xr=An[Kn],Pc=xr+Un[ks],Za=xr-Un[ri],xn=jt?-Vr[mn]/2:0,nf=jn===T?vr[mn]:Vr[mn],Ir=jn===T?-Vr[mn]:-vr[mn],yo=ye.elements.arrow,Ya=jt&&yo?kt(yo):{width:0,height:0},Is=ye.modifiersData["arrow#persistent"]?ye.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},no=Is[ks],xu=Is[ri],Oo=It(0,vr[mn],Ya[mn]),ca=Br?vr[mn]/2-xn-Oo-no-wr.mainAxis:nf-Oo-no-wr.mainAxis,Rc=Br?-vr[mn]/2+xn+Oo+xu+wr.mainAxis:Ir+Oo+xu+wr.mainAxis,Du=ye.elements.arrow&&_t(ye.elements.arrow),hn=null!=(Wn=fr?.[Kn])?Wn:0,ep=xr+Rc-hn,mr=It(jt?he(Pc,xr+ca-hn-(Du?"y"===Kn?Du.clientTop||0:Du.clientLeft||0:0)):Pc,xr,jt?ve(Za,ep):Za);An[Kn]=mr,to[Kn]=mr-xr}if(Ft){var Ps,da=An[or],Lc="y"===or?"height":"width",fa=da+Un["x"===Kn?H:C],ro=da-Un["x"===Kn?N:M],ha=-1!==[H,C].indexOf(zn),vs=null!=(Ps=fr?.[or])?Ps:0,qa=ha?fa:da-vr[Lc]-Vr[Lc]-vs+wr.altAxis,rf=ha?da+vr[Lc]+Vr[Lc]-vs-wr.altAxis:ro,$l=jt&&ha?function Kt(_e,ye,ze){var Ot=It(_e,ye,ze);return Ot>ze?ze:Ot}(qa,da,rf):It(jt?qa:fa,da,jt?rf:ro);An[or]=$l,to[or]=$l-da}ye.modifiersData[Ot]=to}},requiresIfExists:["offset"]};function qh(_e,ye,ze){void 0===ze&&(ze=!1);var Ot=be(ye),st=be(ye)&&function Xa(_e){var ye=_e.getBoundingClientRect(),ze=Je(ye.width)/_e.offsetWidth||1,Ot=Je(ye.height)/_e.offsetHeight||1;return 1!==ze||1!==Ot}(ye),ut=je(ye),Yt=qe(_e,st,ze),Ft={scrollLeft:0,scrollTop:0},Bt={x:0,y:0};return(Ot||!Ot&&!ze)&&(("body"!==ue(ye)||Ei(ut))&&(Ft=function ef(_e){return _e!==ge(_e)&&be(_e)?function ms(_e){return{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}}(_e):vo(_e)}(ye)),be(ye)?((Bt=qe(ye,!0)).x+=ye.clientLeft,Bt.y+=ye.clientTop):ut&&(Bt.x=oa(ut))),{x:Yt.left+Ft.scrollLeft-Bt.x,y:Yt.top+Ft.scrollTop-Bt.y,width:Yt.width,height:Yt.height}}function kc(_e){var ye=new Map,ze=new Set,Ot=[];function st(ut){ze.add(ut.name),[].concat(ut.requires||[],ut.requiresIfExists||[]).forEach(function(Ft){if(!ze.has(Ft)){var Bt=ye.get(Ft);Bt&&st(Bt)}}),Ot.push(ut)}return _e.forEach(function(ut){ye.set(ut.name,ut)}),_e.forEach(function(ut){ze.has(ut.name)||st(ut)}),Ot}function Bo(_e){var ye;return function(){return ye||(ye=new Promise(function(ze){Promise.resolve().then(function(){ye=void 0,ze(_e())})})),ye}}var eo={placement:"bottom",modifiers:[],strategy:"absolute"};function tf(){for(var _e=arguments.length,ye=new Array(_e),ze=0;ze<_e;ze++)ye[ze]=arguments[ze];return!ye.some(function(Ot){return!(Ot&&"function"==typeof Ot.getBoundingClientRect)})}function Zi(_e){void 0===_e&&(_e={});var ze=_e.defaultModifiers,Ot=void 0===ze?[]:ze,st=_e.defaultOptions,ut=void 0===st?eo:st;return function(Ft,Bt,un){void 0===un&&(un=ut);var it={placement:"bottom",orderedModifiers:[],options:Object.assign({},eo,ut),modifiersData:{},elements:{reference:Ft,popper:Bt},attributes:{},styles:{}},Gn=[],zt=!1,jt={state:it,setOptions:function(zn){var jn="function"==typeof zn?zn(it.options):zn;Vn(),it.options=Object.assign({},ut,it.options,jn),it.scrollParents={reference:ie(Ft)?aa(Ft):Ft.contextElement?aa(Ft.contextElement):[],popper:aa(Bt)};var Br=function ni(_e){var ye=kc(_e);return K.reduce(function(ze,Ot){return ze.concat(ye.filter(function(st){return st.phase===Ot}))},[])}(function Ic(_e){var ye=_e.reduce(function(ze,Ot){var st=ze[Ot.name];return ze[Ot.name]=st?Object.assign({},st,Ot,{options:Object.assign({},st.options,Ot.options),data:Object.assign({},st.data,Ot.data)}):Ot,ze},{});return Object.keys(ye).map(function(ze){return ye[ze]})}([].concat(Ot,it.options.modifiers)));return it.orderedModifiers=Br.filter(function(fr){return fr.enabled}),function br(){it.orderedModifiers.forEach(function(Un){var jn=Un.options,Kn=Un.effect;if("function"==typeof Kn){var or=Kn({state:it,name:Un.name,instance:jt,options:void 0===jn?{}:jn});Gn.push(or||function(){})}})}(),jt.update()},forceUpdate:function(){if(!zt){var zn=it.elements,jn=zn.reference,Br=zn.popper;if(tf(jn,Br)){it.rects={reference:qh(jn,_t(Br),"fixed"===it.options.strategy),popper:kt(Br)},it.reset=!1,it.placement=it.options.placement,it.orderedModifiers.forEach(function(fr){return it.modifiersData[fr.name]=Object.assign({},fr.data)});for(var or=0;or<it.orderedModifiers.length;or++)if(!0!==it.reset){var An=it.orderedModifiers[or],vr=An.fn,Vr=An.options;"function"==typeof vr&&(it=vr({state:it,options:void 0===Vr?{}:Vr,name:An.name,instance:jt})||it)}else it.reset=!1,or=-1}}},update:Bo(function(){return new Promise(function(Un){jt.forceUpdate(),Un(it)})}),destroy:function(){Vn(),zt=!0}};if(!tf(Ft,Bt))return jt;function Vn(){Gn.forEach(function(Un){return Un()}),Gn=[]}return jt.setOptions(un).then(function(Un){!zt&&un.onFirstUpdate&&un.onFirstUpdate(Un)}),jt}}var Ga=Zi(),ua=Zi({defaultModifiers:[Zs,gr,gs,Ve,Ha,Kd,Jd,Hr,bu]}),ur=Zi({defaultModifiers:[Zs,gr,gs,Ve]})},5423:Pe=>{"use strict";Pe.exports=function Re(j){return null===j||"object"!=typeof j||null!=j.toJSON?JSON.stringify(j):Array.isArray(j)?"["+j.reduce((H,N,M)=>H+(0===M?"":",")+Re(void 0===N||"symbol"==typeof N?null:N),"")+"]":"{"+Object.keys(j).sort().reduce((H,N,M)=>void 0===j[N]||"symbol"==typeof j[N]?H:H+(0===H.length?"":",")+Re(N)+":"+Re(j[N]),"")+"}"}},2405:function(Pe,Re,j){var H;Pe.exports=(H=j(5982),function(N){var M={};function C(R){if(M[R])return M[R].exports;var D=M[R]={i:R,l:!1,exports:{}};return N[R].call(D.exports,D,D.exports,C),D.l=!0,D.exports}return C.m=N,C.c=M,C.i=function(R){return R},C.d=function(R,D,T){C.o(R,D)||Object.defineProperty(R,D,{configurable:!1,enumerable:!0,get:T})},C.n=function(R){var D=R&&R.__esModule?function(){return R.default}:function(){return R};return C.d(D,"a",D),D},C.o=function(R,D){return Object.prototype.hasOwnProperty.call(R,D)},C.p="",C(C.s=7)}([function(N,M){N.exports=H},function(N,M,C){"use strict";var R=C(0).FDLayoutConstants;function D(){}for(var T in R)D[T]=R[T];D.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,D.DEFAULT_RADIAL_SEPARATION=R.DEFAULT_EDGE_LENGTH,D.DEFAULT_COMPONENT_SEPERATION=60,D.TILE=!0,D.TILING_PADDING_VERTICAL=10,D.TILING_PADDING_HORIZONTAL=10,D.TREE_REDUCTION_ON_INCREMENTAL=!1,N.exports=D},function(N,M,C){"use strict";var R=C(0).FDLayoutEdge;function D(_,B,F){R.call(this,_,B,F)}for(var T in D.prototype=Object.create(R.prototype),R)D[T]=R[T];N.exports=D},function(N,M,C){"use strict";var R=C(0).LGraph;function D(_,B,F){R.call(this,_,B,F)}for(var T in D.prototype=Object.create(R.prototype),R)D[T]=R[T];N.exports=D},function(N,M,C){"use strict";var R=C(0).LGraphManager;function D(_){R.call(this,_)}for(var T in D.prototype=Object.create(R.prototype),R)D[T]=R[T];N.exports=D},function(N,M,C){"use strict";var R=C(0).FDLayoutNode,D=C(0).IMath;function T(B,F,Y,ee){R.call(this,B,F,Y,ee)}for(var _ in T.prototype=Object.create(R.prototype),R)T[_]=R[_];T.prototype.move=function(){var B=this.graphManager.getLayout();this.displacementX=B.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=B.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>B.coolingFactor*B.maxNodeDisplacement&&(this.displacementX=B.coolingFactor*B.maxNodeDisplacement*D.sign(this.displacementX)),Math.abs(this.displacementY)>B.coolingFactor*B.maxNodeDisplacement&&(this.displacementY=B.coolingFactor*B.maxNodeDisplacement*D.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),B.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},T.prototype.propogateDisplacementToChildren=function(B,F){for(var ee,Y=this.getChild().getNodes(),V=0;V<Y.length;V++)null==(ee=Y[V]).getChild()?(ee.moveBy(B,F),ee.displacementX+=B,ee.displacementY+=F):ee.propogateDisplacementToChildren(B,F)},T.prototype.setPred1=function(B){this.pred1=B},T.prototype.getPred1=function(){return pred1},T.prototype.getPred2=function(){return pred2},T.prototype.setNext=function(B){this.next=B},T.prototype.getNext=function(){return next},T.prototype.setProcessed=function(B){this.processed=B},T.prototype.isProcessed=function(){return processed},N.exports=T},function(N,M,C){"use strict";var R=C(0).FDLayout,D=C(4),T=C(3),_=C(5),B=C(2),F=C(1),Y=C(0).FDLayoutConstants,ee=C(0).LayoutConstants,V=C(0).Point,G=C(0).PointD,oe=C(0).Layout,q=C(0).Integer,le=C(0).IGeometry,J=C(0).LGraph,ke=C(0).Transform;function ce(){R.call(this),this.toBeTiled={}}for(var z in ce.prototype=Object.create(R.prototype),R)ce[z]=R[z];ce.prototype.newGraphManager=function(){var L=new D(this);return this.graphManager=L,L},ce.prototype.newGraph=function(L){return new T(null,this.graphManager,L)},ce.prototype.newNode=function(L){return new _(this.graphManager,L)},ce.prototype.newEdge=function(L){return new B(null,null,L)},ce.prototype.initParameters=function(){R.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=F.DEFAULT_EDGE_LENGTH<10?10:F.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=F.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=Y.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=Y.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=Y.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=Y.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=Y.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=Y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/Y.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=Y.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},ce.prototype.layout=function(){return ee.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},ce.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(F.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var Q=new Set(this.getAllNodes()),K=this.nodesWithGravity.filter(function(ie){return Q.has(ie)});this.graphManager.setAllNodesToApplyGravitation(K)}}else{var L=this.getFlatForest();L.length>0?this.positionNodesRadially(L):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),Q=new Set(this.getAllNodes()),K=this.nodesWithGravity.filter(function(ue){return Q.has(ue)}),this.graphManager.setAllNodesToApplyGravitation(K),this.positionNodesRandomly())}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},ce.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%Y.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),Q=this.nodesWithGravity.filter(function(ge){return L.has(ge)});this.graphManager.setAllNodesToApplyGravitation(Q),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=Y.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=Y.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var K=!this.isTreeGrowing&&!this.isGrowthFinished,ue=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(K,ue),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},ce.prototype.getPositionsData=function(){for(var L=this.graphManager.getAllNodes(),Q={},K=0;K<L.length;K++){var ue=L[K].rect,ge=L[K].id;Q[ge]={id:ge,x:ue.getCenterX(),y:ue.getCenterY(),w:ue.width,h:ue.height}}return Q},ce.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var L=!1;if("during"===Y.ANIMATE)this.emit("layoutstarted");else{for(;!L;)L=this.tick();this.graphManager.updateBounds()}},ce.prototype.calculateNodesToApplyGravitationTo=function(){var Q,ge,L=[],K=this.graphManager.getGraphs(),ue=K.length;for(ge=0;ge<ue;ge++)(Q=K[ge]).updateConnected(),Q.isConnected||(L=L.concat(Q.getNodes()));return L},ce.prototype.createBendpoints=function(){var L=[];L=L.concat(this.graphManager.getAllEdges());var K,Q=new Set;for(K=0;K<L.length;K++){var ue=L[K];if(!Q.has(ue)){var ge=ue.getSource(),ie=ue.getTarget();if(ge==ie)ue.getBendpoints().push(new G),ue.getBendpoints().push(new G),this.createDummyNodesForBendpoints(ue),Q.add(ue);else{var be=[];if(be=(be=be.concat(ge.getEdgeListToNode(ie))).concat(ie.getEdgeListToNode(ge)),!Q.has(be[0])){var Le;if(be.length>1)for(Le=0;Le<be.length;Le++){var me=be[Le];me.getBendpoints().push(new G),this.createDummyNodesForBendpoints(me)}be.forEach(function(Xe){Q.add(Xe)})}}}if(Q.size==L.length)break}},ce.prototype.positionNodesRadially=function(L){for(var Q=new V(0,0),K=Math.ceil(Math.sqrt(L.length)),ue=0,ge=0,ie=0,be=new G(0,0),Le=0;Le<L.length;Le++){Le%K==0&&(ie=0,ge=ue,0!=Le&&(ge+=F.DEFAULT_COMPONENT_SEPERATION),ue=0);var me=L[Le],Xe=oe.findCenterOfTree(me);Q.x=ie,Q.y=ge,(be=ce.radialLayout(me,Xe,Q)).y>ue&&(ue=Math.floor(be.y)),ie=Math.floor(be.x+F.DEFAULT_COMPONENT_SEPERATION)}this.transform(new G(ee.WORLD_CENTER_X-be.x/2,ee.WORLD_CENTER_Y-be.y/2))},ce.radialLayout=function(L,Q,K){var ue=Math.max(this.maxDiagonalInTree(L),F.DEFAULT_RADIAL_SEPARATION);ce.branchRadialLayout(Q,null,0,359,0,ue);var ge=J.calculateBounds(L),ie=new ke;ie.setDeviceOrgX(ge.getMinX()),ie.setDeviceOrgY(ge.getMinY()),ie.setWorldOrgX(K.x),ie.setWorldOrgY(K.y);for(var be=0;be<L.length;be++)L[be].transform(ie);var me=new G(ge.getMaxX(),ge.getMaxY());return ie.inverseTransformPoint(me)},ce.branchRadialLayout=function(L,Q,K,ue,ge,ie){var be=(ue-K+1)/2;be<0&&(be+=180);var me=(be+K)%360*le.TWO_PI/360,Ve=(Math.cos(me),ge*Math.cos(me)),Ae=ge*Math.sin(me);L.setCenter(Ve,Ae);var ve=[],he=(ve=ve.concat(L.getEdges())).length;null!=Q&&he--;for(var Ne,Je=0,He=ve.length,qe=L.getEdgesBetween(Q);qe.length>1;){var kt=qe[0];qe.splice(0,1);var ht=ve.indexOf(kt);ht>=0&&ve.splice(ht,1),He--,he--}Ne=null!=Q?(ve.indexOf(qe[0])+1)%He:0;for(var ot=Math.abs(ue-K)/he,lt=Ne;Je!=he;lt=++lt%He){var je=ve[lt].getOtherEnd(L);if(je!=Q){var we=(K+Je*ot)%360;ce.branchRadialLayout(je,L,we,(we+ot)%360,ge+ie,ie),Je++}}},ce.maxDiagonalInTree=function(L){for(var Q=q.MIN_VALUE,K=0;K<L.length;K++){var ge=L[K].getDiagonal();ge>Q&&(Q=ge)}return Q},ce.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},ce.prototype.groupZeroDegreeMembers=function(){var L=this,Q={};this.memberGroups={},this.idToDummyNode={};for(var K=[],ue=this.graphManager.getAllNodes(),ge=0;ge<ue.length;ge++){var be=(ie=ue[ge]).getParent();0===this.getNodeDegreeWithChildren(ie)&&(null==be.id||!this.getToBeTiled(be))&&K.push(ie)}for(ge=0;ge<K.length;ge++){var ie,Le=(ie=K[ge]).getParent().id;typeof Q[Le]>"u"&&(Q[Le]=[]),Q[Le]=Q[Le].concat(ie)}Object.keys(Q).forEach(function(me){if(Q[me].length>1){var Xe="DummyCompound_"+me;L.memberGroups[Xe]=Q[me];var Ve=Q[me][0].getParent(),Ae=new _(L.graphManager);Ae.id=Xe,Ae.paddingLeft=Ve.paddingLeft||0,Ae.paddingRight=Ve.paddingRight||0,Ae.paddingBottom=Ve.paddingBottom||0,Ae.paddingTop=Ve.paddingTop||0,L.idToDummyNode[Xe]=Ae;var ve=L.getGraphManager().add(L.newGraph(),Ae),he=Ve.getChild();he.add(Ae);for(var Je=0;Je<Q[me].length;Je++){var He=Q[me][Je];he.remove(He),ve.add(He)}}})},ce.prototype.clearCompounds=function(){var L={},Q={};this.performDFSOnCompounds();for(var K=0;K<this.compoundOrder.length;K++)Q[this.compoundOrder[K].id]=this.compoundOrder[K],L[this.compoundOrder[K].id]=[].concat(this.compoundOrder[K].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[K].getChild()),this.compoundOrder[K].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(L,Q)},ce.prototype.clearZeroDegreeMembers=function(){var L=this,Q=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(K){var ue=L.idToDummyNode[K];Q[K]=L.tileNodes(L.memberGroups[K],ue.paddingLeft+ue.paddingRight),ue.rect.width=Q[K].width,ue.rect.height=Q[K].height})},ce.prototype.repopulateCompounds=function(){for(var L=this.compoundOrder.length-1;L>=0;L--){var Q=this.compoundOrder[L];this.adjustLocations(this.tiledMemberPack[Q.id],Q.rect.x,Q.rect.y,Q.paddingLeft,Q.paddingTop)}},ce.prototype.repopulateZeroDegreeMembers=function(){var L=this,Q=this.tiledZeroDegreePack;Object.keys(Q).forEach(function(K){var ue=L.idToDummyNode[K];L.adjustLocations(Q[K],ue.rect.x,ue.rect.y,ue.paddingLeft,ue.paddingTop)})},ce.prototype.getToBeTiled=function(L){var Q=L.id;if(null!=this.toBeTiled[Q])return this.toBeTiled[Q];var K=L.getChild();if(null==K)return this.toBeTiled[Q]=!1,!1;for(var ue=K.getNodes(),ge=0;ge<ue.length;ge++){var ie=ue[ge];if(this.getNodeDegree(ie)>0)return this.toBeTiled[Q]=!1,!1;if(null!=ie.getChild()){if(!this.getToBeTiled(ie))return this.toBeTiled[Q]=!1,!1}else this.toBeTiled[ie.id]=!1}return this.toBeTiled[Q]=!0,!0},ce.prototype.getNodeDegree=function(L){for(var K=L.getEdges(),ue=0,ge=0;ge<K.length;ge++){var ie=K[ge];ie.getSource().id!==ie.getTarget().id&&(ue+=1)}return ue},ce.prototype.getNodeDegreeWithChildren=function(L){var Q=this.getNodeDegree(L);if(null==L.getChild())return Q;for(var K=L.getChild().getNodes(),ue=0;ue<K.length;ue++)Q+=this.getNodeDegreeWithChildren(K[ue]);return Q},ce.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},ce.prototype.fillCompexOrderByDFS=function(L){for(var Q=0;Q<L.length;Q++){var K=L[Q];null!=K.getChild()&&this.fillCompexOrderByDFS(K.getChild().getNodes()),this.getToBeTiled(K)&&this.compoundOrder.push(K)}},ce.prototype.adjustLocations=function(L,Q,K,ue,ge){K+=ge;for(var ie=Q+=ue,be=0;be<L.rows.length;be++){var Le=L.rows[be];Q=ie;for(var me=0,Xe=0;Xe<Le.length;Xe++){var Ve=Le[Xe];Ve.rect.x=Q,Ve.rect.y=K,Q+=Ve.rect.width+L.horizontalPadding,Ve.rect.height>me&&(me=Ve.rect.height)}K+=me+L.verticalPadding}},ce.prototype.tileCompoundMembers=function(L,Q){var K=this;this.tiledMemberPack=[],Object.keys(L).forEach(function(ue){var ge=Q[ue];K.tiledMemberPack[ue]=K.tileNodes(L[ue],ge.paddingLeft+ge.paddingRight),ge.rect.width=K.tiledMemberPack[ue].width,ge.rect.height=K.tiledMemberPack[ue].height})},ce.prototype.tileNodes=function(L,Q){var ge={rows:[],rowWidth:[],rowHeight:[],width:0,height:Q,verticalPadding:F.TILING_PADDING_VERTICAL,horizontalPadding:F.TILING_PADDING_HORIZONTAL};L.sort(function(Le,me){return Le.rect.width*Le.rect.height>me.rect.width*me.rect.height?-1:Le.rect.width*Le.rect.height<me.rect.width*me.rect.height?1:0});for(var ie=0;ie<L.length;ie++){var be=L[ie];0==ge.rows.length?this.insertNodeToRow(ge,be,0,Q):this.canAddHorizontal(ge,be.rect.width,be.rect.height)?this.insertNodeToRow(ge,be,this.getShortestRowIndex(ge),Q):this.insertNodeToRow(ge,be,ge.rows.length,Q),this.shiftToLastRow(ge)}return ge},ce.prototype.insertNodeToRow=function(L,Q,K,ue){var ge=ue;K==L.rows.length&&(L.rows.push([]),L.rowWidth.push(ge),L.rowHeight.push(0));var be=L.rowWidth[K]+Q.rect.width;L.rows[K].length>0&&(be+=L.horizontalPadding),L.rowWidth[K]=be,L.width<be&&(L.width=be);var Le=Q.rect.height;K>0&&(Le+=L.verticalPadding);var me=0;Le>L.rowHeight[K]&&(me=L.rowHeight[K],L.rowHeight[K]=Le,me=L.rowHeight[K]-me),L.height+=me,L.rows[K].push(Q)},ce.prototype.getShortestRowIndex=function(L){for(var Q=-1,K=Number.MAX_VALUE,ue=0;ue<L.rows.length;ue++)L.rowWidth[ue]<K&&(Q=ue,K=L.rowWidth[ue]);return Q},ce.prototype.getLongestRowIndex=function(L){for(var Q=-1,K=Number.MIN_VALUE,ue=0;ue<L.rows.length;ue++)L.rowWidth[ue]>K&&(Q=ue,K=L.rowWidth[ue]);return Q},ce.prototype.canAddHorizontal=function(L,Q,K){var ue=this.getShortestRowIndex(L);if(ue<0)return!0;var ge=L.rowWidth[ue];if(ge+L.horizontalPadding+Q<=L.width)return!0;var be,Le,ie=0;return L.rowHeight[ue]<K&&ue>0&&(ie=K+L.verticalPadding-L.rowHeight[ue]),be=L.width-ge>=Q+L.horizontalPadding?(L.height+ie)/(ge+Q+L.horizontalPadding):(L.height+ie)/L.width,ie=K+L.verticalPadding,(Le=L.width<Q?(L.height+ie)/Q:(L.height+ie)/L.width)<1&&(Le=1/Le),be<1&&(be=1/be),be<Le},ce.prototype.shiftToLastRow=function(L){var Q=this.getLongestRowIndex(L),K=L.rowWidth.length-1,ue=L.rows[Q],ge=ue[ue.length-1],ie=ge.width+L.horizontalPadding;if(L.width-L.rowWidth[K]>ie&&Q!=K){ue.splice(-1,1),L.rows[K].push(ge),L.rowWidth[Q]=L.rowWidth[Q]-ie,L.rowWidth[K]=L.rowWidth[K]+ie,L.width=L.rowWidth[instance.getLongestRowIndex(L)];for(var be=Number.MIN_VALUE,Le=0;Le<ue.length;Le++)ue[Le].height>be&&(be=ue[Le].height);Q>0&&(be+=L.verticalPadding);var me=L.rowHeight[Q]+L.rowHeight[K];L.rowHeight[Q]=be,L.rowHeight[K]<ge.height+L.verticalPadding&&(L.rowHeight[K]=ge.height+L.verticalPadding),L.height+=L.rowHeight[Q]+L.rowHeight[K]-me,this.shiftToLastRow(L)}},ce.prototype.tilingPreLayout=function(){F.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},ce.prototype.tilingPostLayout=function(){F.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},ce.prototype.reduceTrees=function(){for(var K,L=[],Q=!0;Q;){var ue=this.graphManager.getAllNodes(),ge=[];Q=!1;for(var ie=0;ie<ue.length;ie++)1==(K=ue[ie]).getEdges().length&&!K.getEdges()[0].isInterGraph&&null==K.getChild()&&(ge.push([K,K.getEdges()[0],K.getOwner()]),Q=!0);if(1==Q){for(var be=[],Le=0;Le<ge.length;Le++)1==ge[Le][0].getEdges().length&&(be.push(ge[Le]),ge[Le][0].getOwner().remove(ge[Le][0]));L.push(be),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=L},ce.prototype.growTree=function(L){for(var ue,K=L[L.length-1],ge=0;ge<K.length;ge++)this.findPlaceforPrunedNode(ue=K[ge]),ue[2].add(ue[0]),ue[2].add(ue[1],ue[1].source,ue[1].target);L.splice(L.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},ce.prototype.findPlaceforPrunedNode=function(L){var Q,K,ue=L[0],ge=(K=ue==L[1].source?L[1].target:L[1].source).startX,ie=K.finishX,be=K.startY,Le=K.finishY,ve=[0,0,0,0];if(be>0)for(var he=ge;he<=ie;he++)ve[0]+=this.grid[he][be-1].length+this.grid[he][be].length-1;if(ie<this.grid.length-1)for(he=be;he<=Le;he++)ve[1]+=this.grid[ie+1][he].length+this.grid[ie][he].length-1;if(Le<this.grid[0].length-1)for(he=ge;he<=ie;he++)ve[2]+=this.grid[he][Le+1].length+this.grid[he][Le].length-1;if(ge>0)for(he=be;he<=Le;he++)ve[3]+=this.grid[ge-1][he].length+this.grid[ge][he].length-1;for(var He,Ne,Je=q.MAX_VALUE,qe=0;qe<ve.length;qe++)ve[qe]<Je?(Je=ve[qe],He=1,Ne=qe):ve[qe]==Je&&He++;if(3==He&&0==Je)0==ve[0]&&0==ve[1]&&0==ve[2]?Q=1:0==ve[0]&&0==ve[1]&&0==ve[3]?Q=0:0==ve[0]&&0==ve[2]&&0==ve[3]?Q=3:0==ve[1]&&0==ve[2]&&0==ve[3]&&(Q=2);else if(2==He&&0==Je){var kt=Math.floor(2*Math.random());Q=0==ve[0]&&0==ve[1]?0==kt?0:1:0==ve[0]&&0==ve[2]?0==kt?0:2:0==ve[0]&&0==ve[3]?0==kt?0:3:0==ve[1]&&0==ve[2]?0==kt?1:2:0==ve[1]&&0==ve[3]?0==kt?1:3:0==kt?2:3}else Q=4==He&&0==Je?kt=Math.floor(4*Math.random()):Ne;0==Q?ue.setCenter(K.getCenterX(),K.getCenterY()-K.getHeight()/2-Y.DEFAULT_EDGE_LENGTH-ue.getHeight()/2):1==Q?ue.setCenter(K.getCenterX()+K.getWidth()/2+Y.DEFAULT_EDGE_LENGTH+ue.getWidth()/2,K.getCenterY()):2==Q?ue.setCenter(K.getCenterX(),K.getCenterY()+K.getHeight()/2+Y.DEFAULT_EDGE_LENGTH+ue.getHeight()/2):ue.setCenter(K.getCenterX()-K.getWidth()/2-Y.DEFAULT_EDGE_LENGTH-ue.getWidth()/2,K.getCenterY())},N.exports=ce},function(N,M,C){"use strict";var R={};R.layoutBase=C(0),R.CoSEConstants=C(1),R.CoSEEdge=C(2),R.CoSEGraph=C(3),R.CoSEGraphManager=C(4),R.CoSELayout=C(6),R.CoSENode=C(5),N.exports=R}]))},5791:function(Pe,Re,j){var H;Pe.exports=(H=j(2405),function(N){var M={};function C(R){if(M[R])return M[R].exports;var D=M[R]={i:R,l:!1,exports:{}};return N[R].call(D.exports,D,D.exports,C),D.l=!0,D.exports}return C.m=N,C.c=M,C.i=function(R){return R},C.d=function(R,D,T){C.o(R,D)||Object.defineProperty(R,D,{configurable:!1,enumerable:!0,get:T})},C.n=function(R){var D=R&&R.__esModule?function(){return R.default}:function(){return R};return C.d(D,"a",D),D},C.o=function(R,D){return Object.prototype.hasOwnProperty.call(R,D)},C.p="",C(C.s=1)}([function(N,M){N.exports=H},function(N,M,C){"use strict";var R=C(0).layoutBase.LayoutConstants,D=C(0).layoutBase.FDLayoutConstants,T=C(0).CoSEConstants,_=C(0).CoSELayout,B=C(0).CoSENode,F=C(0).layoutBase.PointD,Y=C(0).layoutBase.DimensionD,ee={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function G(le){this.options=function V(le,J){var ke={};for(var ce in le)ke[ce]=le[ce];for(var ce in J)ke[ce]=J[ce];return ke}(ee,le),oe(this.options)}var oe=function(J){null!=J.nodeRepulsion&&(T.DEFAULT_REPULSION_STRENGTH=D.DEFAULT_REPULSION_STRENGTH=J.nodeRepulsion),null!=J.idealEdgeLength&&(T.DEFAULT_EDGE_LENGTH=D.DEFAULT_EDGE_LENGTH=J.idealEdgeLength),null!=J.edgeElasticity&&(T.DEFAULT_SPRING_STRENGTH=D.DEFAULT_SPRING_STRENGTH=J.edgeElasticity),null!=J.nestingFactor&&(T.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=D.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=J.nestingFactor),null!=J.gravity&&(T.DEFAULT_GRAVITY_STRENGTH=D.DEFAULT_GRAVITY_STRENGTH=J.gravity),null!=J.numIter&&(T.MAX_ITERATIONS=D.MAX_ITERATIONS=J.numIter),null!=J.gravityRange&&(T.DEFAULT_GRAVITY_RANGE_FACTOR=D.DEFAULT_GRAVITY_RANGE_FACTOR=J.gravityRange),null!=J.gravityCompound&&(T.DEFAULT_COMPOUND_GRAVITY_STRENGTH=D.DEFAULT_COMPOUND_GRAVITY_STRENGTH=J.gravityCompound),null!=J.gravityRangeCompound&&(T.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=D.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=J.gravityRangeCompound),null!=J.initialEnergyOnIncremental&&(T.DEFAULT_COOLING_FACTOR_INCREMENTAL=D.DEFAULT_COOLING_FACTOR_INCREMENTAL=J.initialEnergyOnIncremental),R.QUALITY="draft"==J.quality?0:"proof"==J.quality?2:1,T.NODE_DIMENSIONS_INCLUDE_LABELS=D.NODE_DIMENSIONS_INCLUDE_LABELS=R.NODE_DIMENSIONS_INCLUDE_LABELS=J.nodeDimensionsIncludeLabels,T.DEFAULT_INCREMENTAL=D.DEFAULT_INCREMENTAL=R.DEFAULT_INCREMENTAL=!J.randomize,T.ANIMATE=D.ANIMATE=R.ANIMATE=J.animate,T.TILE=J.tile,T.TILING_PADDING_VERTICAL="function"==typeof J.tilingPaddingVertical?J.tilingPaddingVertical.call():J.tilingPaddingVertical,T.TILING_PADDING_HORIZONTAL="function"==typeof J.tilingPaddingHorizontal?J.tilingPaddingHorizontal.call():J.tilingPaddingHorizontal};G.prototype.run=function(){var le,J,ke=this.options,z=(this.idToLNode={},this.layout=new _),L=this;L.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var Q=z.newGraphManager();this.gm=Q;var K=this.options.eles.nodes(),ue=this.options.eles.edges();this.root=Q.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(K),z);for(var ge=0;ge<ue.length;ge++){var ie=ue[ge],be=this.idToLNode[ie.data("source")],Le=this.idToLNode[ie.data("target")];be!==Le&&0==be.getEdgesBetween(Le).length&&(Q.add(z.newEdge(),be,Le).id=ie.id())}var Xe=function(ve,he){"number"==typeof ve&&(ve=he);var Je=ve.data("id"),He=L.idToLNode[Je];return{x:He.getRect().getCenterX(),y:He.getRect().getCenterY()}},Ve=function Ae(){for(var Je,ve=function(){ke.fit&&ke.cy.fit(ke.eles,ke.padding),le||(le=!0,L.cy.one("layoutready",ke.ready),L.cy.trigger({type:"layoutready",layout:L}))},he=L.options.refresh,He=0;He<he&&!Je;He++)Je=L.stopped||L.layout.tick();if(Je)return z.checkLayoutSuccess()&&!z.isSubLayout&&z.doPostLayout(),z.tilingPostLayout&&z.tilingPostLayout(),z.isLayoutFinished=!0,L.options.eles.nodes().positions(Xe),ve(),L.cy.one("layoutstop",L.options.stop),L.cy.trigger({type:"layoutstop",layout:L}),J&&cancelAnimationFrame(J),void(le=!1);var Ne=L.layout.getPositionsData();ke.eles.nodes().positions(function(qe,kt){if("number"==typeof qe&&(qe=kt),!qe.isParent()){for(var ht=qe.id(),ot=Ne[ht],lt=qe;null==ot&&(ot=Ne[lt.data("parent")]||Ne["DummyCompound_"+lt.data("parent")],Ne[ht]=ot,null!=(lt=lt.parent()[0])););return null!=ot?{x:ot.x,y:ot.y}:{x:qe.position("x"),y:qe.position("y")}}}),ve(),J=requestAnimationFrame(Ae)};return z.addListener("layoutstarted",function(){"during"===L.options.animate&&(J=requestAnimationFrame(Ve))}),z.runLayout(),"during"!==this.options.animate&&(L.options.eles.nodes().not(":parent").layoutPositions(L,L.options,Xe),le=!1),this},G.prototype.getTopMostNodes=function(le){for(var J={},ke=0;ke<le.length;ke++)J[le[ke].id()]=!0;return le.filter(function(z,L){"number"==typeof z&&(z=L);for(var Q=z.parent()[0];null!=Q;){if(J[Q.id()])return!1;Q=Q.parent()[0]}return!0})},G.prototype.processChildrenList=function(le,J,ke){for(var ce=J.length,z=0;z<ce;z++){var K,Le,L=J[z],Q=L.children(),ue=L.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((K=null!=L.outerWidth()&&null!=L.outerHeight()?le.add(new B(ke.graphManager,new F(L.position("x")-ue.w/2,L.position("y")-ue.h/2),new Y(parseFloat(ue.w),parseFloat(ue.h)))):le.add(new B(this.graphManager))).id=L.data("id"),K.paddingLeft=parseInt(L.css("padding")),K.paddingTop=parseInt(L.css("padding")),K.paddingRight=parseInt(L.css("padding")),K.paddingBottom=parseInt(L.css("padding")),this.options.nodeDimensionsIncludeLabels&&L.isParent()){var ge=L.boundingBox({includeLabels:!0,includeNodes:!1}).w,ie=L.boundingBox({includeLabels:!0,includeNodes:!1}).h,be=L.css("text-halign");K.labelWidth=ge,K.labelHeight=ie,K.labelPos=be}this.idToLNode[L.data("id")]=K,isNaN(K.rect.x)&&(K.rect.x=0),isNaN(K.rect.y)&&(K.rect.y=0),null!=Q&&Q.length>0&&(Le=ke.getGraphManager().add(ke.newGraph(),K),this.processChildrenList(Le,Q,ke))}},G.prototype.stop=function(){return this.stopped=!0,this};var q=function(J){J("layout","cose-bilkent",G)};typeof cytoscape<"u"&&q(cytoscape),N.exports=q}]))},1212:function(Pe){Pe.exports=function(Re){var j={};function H(N){if(j[N])return j[N].exports;var M=j[N]={i:N,l:!1,exports:{}};return Re[N].call(M.exports,M,M.exports,H),M.l=!0,M.exports}return H.m=Re,H.c=j,H.i=function(N){return N},H.d=function(N,M,C){H.o(N,M)||Object.defineProperty(N,M,{configurable:!1,enumerable:!0,get:C})},H.n=function(N){var M=N&&N.__esModule?function(){return N.default}:function(){return N};return H.d(M,"a",M),M},H.o=function(N,M){return Object.prototype.hasOwnProperty.call(N,M)},H.p="",H(H.s=4)}([function(Re,j,H){"use strict";var N=H(2),M=H(1),C=H(3),R=C.removeEles,D=C.setStyles,T=C.createElement,_=C.getPixelRatio,B=C.getOffset;Re.exports=function(ee){var V=M({},N,ee),G=this,oe=G.container(),q=void 0,le={options:V,handlers:[],container:T({class:"cxtmenu"})},J=le.container,ke=T(),ce=T({tag:"canvas"}),z=[],L=ce.getContext("2d"),Q=100,K=2*(Q+V.activePadding),ue=void 0,ge=void 0;function be(je,we){ve.drawBg=[je,we]}function Le(je,we){L.globalCompositeOperation="source-over",L.clearRect(0,0,K,K),L.fillStyle=V.fillColor;for(var Qe=2*Math.PI/z.length,ct=Math.PI/2,_t=ct+Qe,dt=0;dt<z.length;dt++){var It=z[dt];It.fillColor&&(L.fillStyle=It.fillColor),L.beginPath(),L.moveTo(je+V.activePadding,je+V.activePadding),L.arc(je+V.activePadding,je+V.activePadding,je,2*Math.PI-ct,2*Math.PI-_t,!0),L.closePath(),L.fill(),ct+=Qe,_t+=Qe,L.fillStyle=V.fillColor}L.globalCompositeOperation="destination-out",L.strokeStyle="white",L.lineWidth=V.separatorWidth,_t=(ct=Math.PI/2)+Qe;for(var Kt=0;Kt<z.length;Kt++){var Mt=je*Math.cos(ct),en=je*Math.sin(ct);L.beginPath(),L.moveTo(je+V.activePadding,je+V.activePadding),L.lineTo(je+V.activePadding+Mt,je+V.activePadding-en),L.closePath(),L.stroke(),ct+=Qe,_t+=Qe}L.fillStyle="white",L.globalCompositeOperation="destination-out",L.beginPath(),L.arc(je+V.activePadding,je+V.activePadding,we+V.spotlightPadding,0,2*Math.PI,!0),L.closePath(),L.fill(),L.globalCompositeOperation="source-over"}function Xe(je,we,Qe,ct,_t){var dt=2*Math.PI/z.length,It=Math.PI/2,Kt=It+dt;It+=dt*ue,Kt+=dt*ue,L.fillStyle=V.activeFillColor,L.strokeStyle="black",L.lineWidth=1,L.beginPath(),L.moveTo(Qe+V.activePadding,Qe+V.activePadding),L.arc(Qe+V.activePadding,Qe+V.activePadding,Qe+V.activePadding,2*Math.PI-It,2*Math.PI-Kt,!0),L.closePath(),L.fill(),L.fillStyle="white",L.globalCompositeOperation="destination-out";var Mt=Qe+V.activePadding+je/Qe*(_t+V.spotlightPadding-V.indicatorSize/4),en=Qe+V.activePadding+we/Qe*(_t+V.spotlightPadding-V.indicatorSize/4),on=Math.PI/4-ct;L.translate(Mt,en),L.rotate(on);var Bn=V.indicatorSize>_t+V.spotlightPadding?_t+V.spotlightPadding:V.indicatorSize;L.beginPath(),L.fillRect(-Bn/2,-Bn/2,Bn,Bn),L.closePath(),L.fill(),L.rotate(-on),L.translate(-Mt,-en),L.beginPath(),L.arc(Qe+V.activePadding,Qe+V.activePadding,_t+V.spotlightPadding,0,2*Math.PI,!0),L.closePath(),L.fill(),L.globalCompositeOperation="source-over"}function Ve(){var je=_(),we=K,Qe=K;ce.width=we*je,ce.height=Qe*je,ce.style.width=we+"px",ce.style.height=Qe+"px",L.setTransform(1,0,0,1,0,0),L.scale(je,je)}oe.insertBefore(J,oe.firstChild),J.appendChild(ke),ke.appendChild(ce),D(J,{position:"absolute",zIndex:V.zIndex,userSelect:"none",pointerEvents:"none"}),["mousedown","mousemove","mouseup","contextmenu"].forEach(function(je){J.addEventListener(je,function(we){return we.preventDefault(),!1})}),D(ke,{display:"none",width:K+"px",height:K+"px",position:"absolute",zIndex:1,marginLeft:-V.activePadding+"px",marginTop:-V.activePadding+"px",userSelect:"none"}),ce.width=K,ce.height=K;var Ae=!0,ve={},he=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(je){return setTimeout(je,16)};Ve(),function je(){ve.drawBg&&Le.apply(null,ve.drawBg),ve.drawCommands&&Xe.apply(null,ve.drawCommands),ve={},Ae&&he(je)}();var He=void 0,Ne=void 0,qe=void 0,kt={on:function(we,Qe,ct){var _t=ct;return"core"===Qe&&(_t=function(It){if(It.cyTarget===G||It.target===G)return ct.apply(this,[It])}),le.handlers.push({events:we,selector:Qe,fn:_t}),"core"===Qe?G.on(we,_t):G.on(we,Qe,_t),this}};function lt(){Ae=!1,function ot(){for(var je=le.handlers,we=0;we<je.length;we++){var Qe=je[we];"core"===Qe.selector?G.off(Qe.events,Qe.fn):G.off(Qe.events,Qe.selector,Qe.fn)}window.removeEventListener("resize",Ve)}(),J.remove()}return function ht(){var Qe,je=void 0,we=!1,ct=void 0,_t=void 0,dt=void 0,It=void 0,Kt=void 0,dr=function(){je&&q.grabify(),ct&&G.userZoomingEnabled(!0),_t&&G.userPanningEnabled(!0),dt&&G.boxSelectionEnabled(!0)};window.addEventListener("resize",Ve),kt.on("resize",function(){Ve()}).on(V.openMenuEvents,V.selector,function(lr){q=this;var Hr=this,ti=this===G;if(we&&(ke.style.display="none",we=!1,dr()),"function"==typeof V.commands){var fs=V.commands(q);fs.then?fs.then(function(ps){z=ps,hs()}):(z=fs,hs())}else z=V.commands,hs();function hs(){if(z&&0!==z.length){ct=G.userZoomingEnabled(),G.userZoomingEnabled(!1),_t=G.userPanningEnabled(),G.userPanningEnabled(!1),dt=G.boxSelectionEnabled(),G.boxSelectionEnabled(!1),(je=q.grabbable&&q.grabbable())&&q.ungrabify();var ps=void 0,Wt=void 0,Nn=void 0;!ti&&Hr&&Hr.isNode instanceof Function&&Hr.isNode()&&!Hr.isParent()&&!V.atMouse?(ps=Hr.renderedPosition(),Wt=Hr.renderedOuterWidth(),Hr.renderedOuterHeight(),Nn=Wt/2,Nn=!V.adaptativeNodeSpotlightRadius&&V.minSpotlightRadius?Math.max(Nn,V.minSpotlightRadius):Nn,Nn=!V.adaptativeNodeSpotlightRadius&&V.maxSpotlightRadius?Math.min(Nn,V.maxSpotlightRadius):Nn):(ps=lr.renderedPosition||lr.cyRenderedPosition,Nn=(Wt=1)/2,Nn=V.minSpotlightRadius?Math.max(Nn,V.minSpotlightRadius):Nn,Nn=V.maxSpotlightRadius?Math.min(Nn,V.maxSpotlightRadius):Nn),ge=B(oe),He=ps.x,Ne=ps.y,Q=Wt/2+(V.menuRadius instanceof Function?V.menuRadius(q):Number(V.menuRadius)),K=2*(Q+V.activePadding),Ve(),D(ke,{width:K+"px",height:K+"px",display:"block",left:ps.x-Q+"px",top:ps.y-Q+"px"}),function ie(je,we){R(".cxtmenu-item",ke);for(var Qe=2*Math.PI/z.length,ct=Math.PI/2,_t=ct+Qe,dt=0;dt<z.length;dt++){var It=z[dt],Kt=(ct+_t)/2,Mt=(je+we)/2*Math.cos(Kt),en=(je+we)/2*Math.sin(Kt),on=1*Math.abs((je-we)*Math.cos(Kt)),Bn=1*Math.abs((je-we)*Math.sin(Kt));on=Math.max(on,Bn);var dr=T({class:"cxtmenu-item"});D(dr,{color:V.itemColor,cursor:"default",display:"table","text-align":"center",position:"absolute","text-shadow":"-1px -1px 2px "+V.itemTextShadowColor+", 1px -1px 2px "+V.itemTextShadowColor+", -1px 1px 2px "+V.itemTextShadowColor+", 1px 1px 1px "+V.itemTextShadowColor,left:"50%",top:"50%","min-height":on+"px",width:on+"px",height:on+"px",marginLeft:Mt-on/2+"px",marginTop:-en-on/2+"px"});var lr=T({class:"cxtmenu-content"});It.content instanceof HTMLElement?lr.appendChild(It.content):lr.innerHTML=It.content,D(lr,{width:on+"px",height:on+"px","vertical-align":"middle",display:"table-cell"}),D(lr,It.contentStyle||{}),(!0===It.disabled||!1===It.enabled)&&lr.setAttribute("class","cxtmenu-content cxtmenu-disabled"),ke.appendChild(dr),dr.appendChild(lr),ct+=Qe,_t+=Qe}}(Q,Nn),be(Q,Nn),ue=void 0,we=!0,It=lr}}}).on("cxtdrag tapdrag",V.selector,Qe=function(Hr){if(we){Hr.preventDefault();var ti=Hr.originalEvent,fs=ti.touches&&ti.touches.length>0,hs=(fs?ti.touches[0].pageX:ti.pageX)-window.pageXOffset,ps=(fs?ti.touches[0].pageY:ti.pageY)-window.pageYOffset;ue=void 0;var Wt=hs-ge.left-He,gs=ps-ge.top-Ne;0===Wt&&(Wt=.01);var Nn=Math.sqrt(Wt*Wt+gs*gs),Zs=Math.acos((gs*gs-Nn*Nn-Wt*Wt)/(-2*Nn*Wt)),sa=void 0;if(q&&q.isNode instanceof Function&&q.isNode()&&!q.isParent()&&!V.atMouse?(sa=q.renderedOuterWidth(),qe=sa/2,qe=!V.adaptativeNodeSpotlightRadius&&V.minSpotlightRadius?Math.max(qe,V.minSpotlightRadius):qe,qe=!V.adaptativeNodeSpotlightRadius&&V.maxSpotlightRadius?Math.min(qe,V.maxSpotlightRadius):qe):(qe=(sa=1)/2,qe=V.minSpotlightRadius?Math.max(qe,V.minSpotlightRadius):qe,qe=V.maxSpotlightRadius?Math.min(qe,V.maxSpotlightRadius):qe),Q=sa/2+(V.menuRadius instanceof Function?V.menuRadius(q):Number(V.menuRadius)),Nn<qe+V.spotlightPadding||"number"==typeof V.outsideMenuCancel&&Nn>Q+V.activePadding+V.outsideMenuCancel)return void be(Q,qe);be(Q,qe);var Fl=Wt*Q/Nn,Ou=gs*Q/Nn;gs>0&&(Zs=Math.PI+Math.abs(Zs-Math.PI));for(var Va=2*Math.PI/z.length,vo=Math.PI/2,oa=vo+Va,Ql=0;Ql<z.length;Ql++){var Ua=z[Ql],Ei=vo<=Zs&&Zs<=oa||vo<=Zs+2*Math.PI&&Zs+2*Math.PI<=oa;if((!0===Ua.disabled||!1===Ua.enabled)&&(Ei=!1),Ei){ue=Ql;break}vo+=Va,oa+=Va}!function me(je,we,Qe,ct,_t){ve.drawCommands=[je,we,Qe,ct,_t]}(Fl,Ou,Q,Zs,qe)}}).on("tapdrag",Qe).on("mousemove",function(){if(void 0!==ue){var lr=z[ue].hover;lr&&(Kt!==ue&&lr.apply(q,[q,It]),Kt=ue)}}).on("cxttapend tapend",function(){if(ke.style.display="none",void 0!==ue){var lr=z[ue].select;lr&&(lr.apply(q,[q,It]),ue=void 0)}Kt=void 0,we=!1,dr()})}(),{destroy:function(){lt()}}}},function(Re,j,H){"use strict";Re.exports=null!=Object.assign?Object.assign.bind(Object):function(N){for(var M=arguments.length,C=Array(M>1?M-1:0),R=1;R<M;R++)C[R-1]=arguments[R];return C.filter(function(D){return null!=D}).forEach(function(D){Object.keys(D).forEach(function(T){return N[T]=D[T]})}),N}},function(Re,j,H){"use strict";Re.exports={menuRadius:function(C){return 100},selector:"node",commands:[],fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(1, 105, 217, 0.75)",activePadding:20,indicatorSize:24,separatorWidth:3,spotlightPadding:4,adaptativeNodeSpotlightRadius:!1,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,atMouse:!1,outsideMenuCancel:!1}},function(Re,j,H){"use strict";var M=function(_,B){for(var F=Object.keys(B),Y=0,ee=F.length;Y<ee;Y++)_.style[F[Y]]=B[F[Y]]};Re.exports={removeEles:function(_){for(var F=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(_),Y=0;Y<F.length;Y++){var ee=F[Y];ee.parentNode.removeChild(ee)}},setStyles:M,createElement:function(_){_=_||{};var B=document.createElement(_.tag||"div");return B.className=_.class||"",_.style&&M(B,_.style),B},getPixelRatio:function(){return window.devicePixelRatio||1},getOffset:function(_){var B=_.getBoundingClientRect();return{left:B.left+document.body.scrollLeft+parseFloat(getComputedStyle(document.body)["padding-left"])+parseFloat(getComputedStyle(document.body)["border-left-width"]),top:B.top+document.body.scrollTop+parseFloat(getComputedStyle(document.body)["padding-top"])+parseFloat(getComputedStyle(document.body)["border-top-width"])}}}},function(Re,j,H){"use strict";var N=H(0),M=function(R){R&&R("core","cxtmenu",N)};typeof cytoscape<"u"&&M(cytoscape),Re.exports=M}])},3811:function(Pe,Re,j){var H;Pe.exports=(H=j(7352),function(N){var M={};function C(R){if(M[R])return M[R].exports;var D=M[R]={i:R,l:!1,exports:{}};return N[R].call(D.exports,D,D.exports,C),D.l=!0,D.exports}return C.m=N,C.c=M,C.i=function(R){return R},C.d=function(R,D,T){C.o(R,D)||Object.defineProperty(R,D,{configurable:!1,enumerable:!0,get:T})},C.n=function(R){var D=R&&R.__esModule?function(){return R.default}:function(){return R};return C.d(D,"a",D),D},C.o=function(R,D){return Object.prototype.hasOwnProperty.call(R,D)},C.p="",C(C.s=7)}([function(N,M,C){"use strict";N.exports=null!=Object.assign?Object.assign.bind(Object):function(R){for(var D=arguments.length,T=Array(D>1?D-1:0),_=1;_<D;_++)T[_-1]=arguments[_];return T.forEach(function(B){null!=B&&Object.keys(B).forEach(function(F){return R[F]=B[F]})}),R}},function(N,M,C){"use strict";var D=C(5).getBoundingBox;N.exports={getRef:function T(_,B){return{getBoundingClientRect:function(){return D(_,B)}}}}},function(N,M,C){"use strict";var R=C(0),T=C(1).getRef,B=C(6).getContent,F={},ee=C(8).createPopper;N.exports={getPopper:function V(G,oe){var q=T(G,oe),le=B(G,oe.content),J=R({},F,oe.popper);return ee(q,le,J)}}},function(N,M,C){"use strict";var R=C(0),T=C(2).getPopper,B=C(1).getRef;function ee(q,le){var J=function(K){return K.isNode()?{w:K.renderedWidth(),h:K.renderedHeight()}:{w:3,h:3}},z=q.cy();return R({},{renderedDimensions:J,renderedPosition:function(K){return K.isNode()?function V(q,le){var J=q.renderedPosition(),ke=le(q);return{x:J.x-ke.w/2,y:J.y-ke.h/2}}(K,J):function G(q){var le=q.midpoint(),J=q.cy().pan(),ke=q.cy().zoom();return{x:le.x*ke+J.x,y:le.y*ke+J.y}}(K)},popper:{},cy:z},le)}function oe(q){q.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}N.exports={popper:function F(q){return oe(this),T(this[0],ee(this[0],q))},popperRef:function Y(q){return oe(this),B(this[0],ee(this[0],q))}}},function(N,M,C){"use strict";var R=C(0),T=C(2).getPopper,B=C(1).getRef;function ee(V,G){return R({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:V},G)}N.exports={popper:function F(V){return T(this,ee(this,V))},popperRef:function Y(V){return B(this,ee(this,V))}}},function(N,M,C){"use strict";N.exports={getBoundingBox:function R(D,T){var _=T.renderedPosition,F=T.renderedDimensions,Y=T.cy.container().getBoundingClientRect(),ee=F(D),V=_(D);return{top:V.y+Y.top,left:V.x+Y.left,right:V.x+ee.w+Y.left,bottom:V.y+ee.h+Y.top,width:ee.w,height:ee.h}}}},function(N,M,C){"use strict";N.exports={getContent:function R(D,T){var _;if("function"!=typeof T){if(T instanceof HTMLElement)return T;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(_=T(D)))throw new Error("No 'target' specified to create popper");return _}}},function(N,M,C){"use strict";var R=C(4),D=C(3),T=function(B){B&&(B("core","popper",R.popper),B("collection","popper",D.popper),B("core","popperRef",R.popperRef),B("collection","popperRef",D.popperRef))};typeof cytoscape<"u"&&T(cytoscape),N.exports=T},function(N,M){N.exports=H}]))},6864:(Pe,Re,j)=>{"use strict";var H=j(406),N=j(5203),M=j(8817),C=j(4793),R=j(4152);function D(u){return u&&"object"==typeof u&&"default"in u?u:{default:u}}var T=D(H),_=D(N),B=D(M),F=D(C),Y=D(R);function ee(u){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(u)}function V(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function G(u,o){for(var l=0;l<o.length;l++){var d=o[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}function oe(u,o,l){return o&&G(u.prototype,o),l&&G(u,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function q(u,o,l){return o in u?Object.defineProperty(u,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[o]=l,u}function le(u,o){return function J(u){if(Array.isArray(u))return u}(u)||function ke(u,o){var l=null==u?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(null!=l){var g,v,d=[],h=!0,p=!1;try{for(l=l.call(u);!(h=(g=l.next()).done)&&(d.push(g.value),!o||d.length!==o);h=!0);}catch(b){p=!0,v=b}finally{try{!h&&null!=l.return&&l.return()}finally{if(p)throw v}}return d}}(u,o)||function ce(u,o){if(u){if("string"==typeof u)return z(u,o);var l=Object.prototype.toString.call(u).slice(8,-1);if("Object"===l&&u.constructor&&(l=u.constructor.name),"Map"===l||"Set"===l)return Array.from(u);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return z(u,o)}}(u,o)||function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(u,o){(null==o||o>u.length)&&(o=u.length);for(var l=0,d=new Array(o);l<o;l++)d[l]=u[l];return d}var Q=typeof window>"u"?null:window,K=Q?Q.navigator:null,ue=ee(""),ge=ee({}),ie=ee(function(){}),be=typeof HTMLElement>"u"?"undefined":ee(HTMLElement),Le=function(o){return o&&o.instanceString&&Xe(o.instanceString)?o.instanceString():null},me=function(o){return null!=o&&ee(o)==ue},Xe=function(o){return null!=o&&ee(o)===ie},Ve=function(o){return!Ne(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},Ae=function(o){return null!=o&&ee(o)===ge&&!Ve(o)&&o.constructor===Object},he=function(o){return null!=o&&ee(o)===ee(1)&&!isNaN(o)},He=function(o){if("undefined"!==be)return null!=o&&o instanceof HTMLElement},Ne=function(o){return qe(o)||kt(o)},qe=function(o){return"collection"===Le(o)&&o._private.single},kt=function(o){return"collection"===Le(o)&&!o._private.single},ht=function(o){return"core"===Le(o)},ot=function(o){return"stylesheet"===Le(o)},je=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},ct=function(o){return function(o){return null!=o&&ee(o)===ge}(o)&&Xe(o.then)},dt=function(o,l){l||(l=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],g=0;g<arguments.length;g++)p.push(arguments[g]);return p.join("$")});var d=function h(){var v,p=this,g=arguments,b=l.apply(p,g),y=h.cache;return(v=y[b])||(v=y[b]=o.apply(p,g)),v};return d.cache={},d},It=dt(function(u){return u.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),Kt=dt(function(u){return u.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),Mt=dt(function(u,o){return u+o[0].toUpperCase()+o.substring(1)},function(u,o){return u+"$"+o}),en=function(o){return je(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},on="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Bn="rgb[a]?\\(("+on+"[%]?)\\s*,\\s*("+on+"[%]?)\\s*,\\s*("+on+"[%]?)(?:\\s*,\\s*("+on+"))?\\)",dr="rgb[a]?\\((?:"+on+"[%]?)\\s*,\\s*(?:"+on+"[%]?)\\s*,\\s*(?:"+on+"[%]?)(?:\\s*,\\s*(?:"+on+"))?\\)",lr="hsl[a]?\\(("+on+")\\s*,\\s*("+on+"[%])\\s*,\\s*("+on+"[%])(?:\\s*,\\s*("+on+"))?\\)",Hr="hsl[a]?\\((?:"+on+")\\s*,\\s*(?:"+on+"[%])\\s*,\\s*(?:"+on+"[%])(?:\\s*,\\s*(?:"+on+"))?\\)",hs=function(o,l){return o<l?-1:o>l?1:0},Wt=null!=Object.assign?Object.assign.bind(Object):function(u){for(var o=arguments,l=1;l<o.length;l++){var d=o[l];if(null!=d)for(var h=Object.keys(d),p=0;p<h.length;p++){var g=h[p];u[g]=d[g]}}return u},Fl={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ou=function(o){for(var l=o.map,d=o.keys,h=d.length,p=0;p<h;p++){var g=d[p];if(Ae(g))throw Error("Tried to set map with object key");p<d.length-1?(null==l[g]&&(l[g]={}),l=l[g]):l[g]=o.value}},Va=function(o){for(var l=o.map,d=o.keys,h=d.length,p=0;p<h;p++){var g=d[p];if(Ae(g))throw Error("Tried to get map with object key");if(null==(l=l[g]))return l}return l},vo=Q?Q.performance:null,oa=vo&&vo.now?function(){return vo.now()}:function(){return Date.now()},Ql=function(){if(Q){if(Q.requestAnimationFrame)return function(u){Q.requestAnimationFrame(u)};if(Q.mozRequestAnimationFrame)return function(u){Q.mozRequestAnimationFrame(u)};if(Q.webkitRequestAnimationFrame)return function(u){Q.webkitRequestAnimationFrame(u)};if(Q.msRequestAnimationFrame)return function(u){Q.msRequestAnimationFrame(u)}}return function(u){u&&setTimeout(function(){u(oa())},1e3/60)}}(),Ua=function(o){return Ql(o)},Ei=oa,Qo=9261,aa=65599,$o=5381,Tc=function(o){for(var h,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qo,d=l;!(h=o.next()).done;)d=d*aa+h.value|0;return d},za=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qo;return l*aa+o|0},ja=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$o;return(l<<5)+l+o|0},Ys=function(o){return 2097152*o[0]+o[1]},qs=function(o,l){return[za(o[0],l[0]),ja(o[1],l[1])]},la=function(o,l){var d={value:0,done:!1},h=0,p=o.length;return Tc({next:function(){return h<p?d.value=o.charCodeAt(h++):d.done=!0,d}},l)},qd=function(){return Kd(arguments)},Kd=function(o){for(var l,d=0;d<o.length;d++){var h=o[d];l=0===d?la(h):la(h,l)}return l},Mc=!0,Ac=null!=console.warn,Zh=null!=console.trace,bu=Number.MAX_SAFE_INTEGER||9007199254740991,Ks=function(){return!0},wu=function(){return!1},Ha=function(){return 0},Su=function(){},gr=function(o){throw new Error(o)},Yh=function(o){if(void 0===o)return Mc;Mc=!!o},tr=function(o){Yh()&&(Ac?console.warn(o):(console.log(o),Zh&&console.trace()))},ms=function(o){return null==o?o:Ve(o)?o.slice():Ae(o)?function(o){return Wt({},o)}(o):o},Xa=function(o,l){for(l=o="";o++<36;l+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return l},qh={},kc=function(){return qh},ni=function(o){var l=Object.keys(o);return function(d){for(var h={},p=0;p<l.length;p++){var g=l[p],v=d?.[g];h[g]=void 0===v?o[g]:v}return h}},Bo=function(o,l,d){for(var h=o.length-1;h>=0&&(o[h]!==l||(o.splice(h,1),!d));h--);},Ic=function(o){o.splice(0,o.length)},Js=function(o,l,d){return d&&(l=Mt(d,l)),o[l]},eo=function(o,l,d,h){d&&(l=Mt(d,l)),o[l]=h},Zi=typeof Map<"u"?Map:function(){function u(){V(this,u),this._obj={}}return oe(u,[{key:"set",value:function(l,d){return this._obj[l]=d,this}},{key:"delete",value:function(l){return this._obj[l]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(l){return void 0!==this._obj[l]}},{key:"get",value:function(l){return this._obj[l]}}]),u}(),Kh=function(){function u(o){if(V(this,u),this._obj=Object.create(null),this.size=0,null!=o){var l;l=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var d=0;d<l.length;d++)this.add(l[d])}}return oe(u,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(l){var d=this._obj;1!==d[l]&&(d[l]=1,this.size++)}},{key:"delete",value:function(l){var d=this._obj;1===d[l]&&(d[l]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(l){return 1===this._obj[l]}},{key:"toArray",value:function(){var l=this;return Object.keys(this._obj).filter(function(d){return l.has(d)})}},{key:"forEach",value:function(l,d){return this.toArray().forEach(l,d)}}]),u}(),ua="undefined"!==(typeof Set>"u"?"undefined":ee(Set))?Set:Kh,Wa=function(o,l){var d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==l&&ht(o)){var h=l.group;if(null==h&&(h=l.data&&null!=l.data.source&&null!=l.data.target?"edges":"nodes"),"nodes"===h||"edges"===h){this.length=1,this[0]=this;var p=this._private={cy:o,single:!0,data:l.data||{},position:l.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:h,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!l.selected,selectable:void 0===l.selectable||!!l.selectable,locked:!!l.locked,grabbed:!1,grabbable:void 0===l.grabbable||!!l.grabbable,pannable:void 0===l.pannable?"edges"===h:!!l.pannable,active:!1,classes:new ua,animation:{current:[],queue:[]},rscratch:{},scratch:l.scratch||{},edges:[],children:[],parent:l.parent&&l.parent.isNode()?l.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),l.renderedPosition){var g=l.renderedPosition,v=o.pan(),b=o.zoom();p.position={x:(g.x-v.x)/b,y:(g.y-v.y)/b}}var y=[];Ve(l.classes)?y=l.classes:me(l.classes)&&(y=l.classes.split(/\s+/));for(var w=0,S=y.length;w<S;w++){var E=y[w];!E||""===E||p.classes.add(E)}this.createEmitter();var k=l.style||l.css;k&&(tr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(k)),(void 0===d||d)&&this.restore()}else gr("An element must be of type `nodes` or `edges`; you specified `"+h+"`")}else gr("An element must have a core reference and parameters set")},ur=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(d,h,p){var g;Ae(d)&&!Ne(d)&&(d=(g=d).roots||g.root,h=g.visit,p=g.directed),p=2!==arguments.length||Xe(h)?p:h,h=Xe(h)?h:function(){};for(var $,v=this._private.cy,b=d=me(d)?this.filter(d):d,y=[],w=[],S={},E={},k={},I=0,X=this.byGroup(),W=X.nodes,te=X.edges,ne=0;ne<b.length;ne++){var se=b[ne],xe=se.id();se.isNode()&&(y.unshift(se),o.bfs&&(k[xe]=!0,w.push(se)),E[xe]=0)}for(var De=function(){var Fe=o.bfs?y.shift():y.pop(),Ce=Fe.id();if(o.dfs){if(k[Ce])return"continue";k[Ce]=!0,w.push(Fe)}var at,Ge=E[Ce],$e=S[Ce],Ue=null!=$e?$e.source():null,Ye=null!=$e?$e.target():null,tt=null==$e?void 0:Fe.same(Ue)?Ye[0]:Ue[0];if(!0===(at=h(Fe,$e,tt,I++,Ge)))return $=Fe,"break";if(!1===at)return"break";for(var et=Fe.connectedEdges().filter(function(mt){return(!p||mt.source().same(Fe))&&te.has(mt)}),Ke=0;Ke<et.length;Ke++){var wt=et[Ke],xt=wt.connectedNodes().filter(function(mt){return!mt.same(Fe)&&W.has(mt)}),yt=xt.id();0!==xt.length&&!k[yt]&&(y.push(xt=xt[0]),o.bfs&&(k[yt]=!0,w.push(xt)),S[yt]=wt,E[yt]=E[Ce]+1)}};0!==y.length;){var ae=De();if("continue"!==ae&&"break"===ae)break}for(var Oe=v.collection(),de=0;de<w.length;de++){var Me=w[de],Te=S[Me.id()];null!=Te&&Oe.push(Te),Oe.push(Me)}return{path:v.collection(Oe),found:v.collection($)}}},_e={breadthFirstSearch:ur({bfs:!0}),depthFirstSearch:ur({dfs:!0})};_e.bfs=_e.breadthFirstSearch,_e.dfs=_e.depthFirstSearch;var ye=ni({root:null,weight:function(o){return 1},directed:!1}),ze={dijkstra:function(o){if(!Ae(o)){var l=arguments;o={root:l[0],weight:l[1],directed:l[2]}}var d=ye(o),h=d.root,p=d.weight,g=d.directed,v=this,b=p,y=me(h)?this.filter(h)[0]:h[0],w={},S={},E={},k=this.byGroup(),I=k.nodes,$=k.edges;$.unmergeBy(function(Ge){return Ge.isLoop()});for(var X=function($e){return w[$e.id()]},W=function($e,Ue){w[$e.id()]=Ue,te.updateItem($e)},te=new _.default(function(Ge,$e){return X(Ge)-X($e)}),ne=0;ne<I.length;ne++){var se=I[ne];w[se.id()]=se.same(y)?0:1/0,te.push(se)}for(var xe=function($e,Ue){for(var at,Ye=(g?$e.edgesTo(Ue):$e.edgesWith(Ue)).intersect($),tt=1/0,et=0;et<Ye.length;et++){var Ke=Ye[et],wt=b(Ke);(wt<tt||!at)&&(tt=wt,at=Ke)}return{edge:at,dist:tt}};te.size()>0;){var De=te.pop(),ae=X(De),Oe=De.id();if(E[Oe]=ae,ae!==1/0)for(var de=De.neighborhood().intersect(I),Me=0;Me<de.length;Me++){var Te=de[Me],pe=Te.id(),Fe=xe(De,Te),Ce=ae+Fe.dist;Ce<X(Te)&&(W(Te,Ce),S[pe]={node:De,edge:Fe.edge})}}return{distanceTo:function($e){var Ue=me($e)?I.filter($e)[0]:$e[0];return E[Ue.id()]},pathTo:function($e){var Ue=me($e)?I.filter($e)[0]:$e[0],Ye=[],tt=Ue,at=tt.id();if(Ue.length>0)for(Ye.unshift(Ue);S[at];){var et=S[at];Ye.unshift(et.edge),Ye.unshift(et.node),at=(tt=et.node).id()}return v.spawn(Ye)}}}},Ot={kruskal:function(o){o=o||function(ne){return 1};for(var l=this.byGroup(),d=l.nodes,h=l.edges,p=d.length,g=new Array(p),v=d,b=function(se){for(var xe=0;xe<g.length;xe++)if(g[xe].has(se))return xe},y=0;y<p;y++)g[y]=this.spawn(d[y]);for(var w=h.sort(function(ne,se){return o(ne)-o(se)}),S=0;S<w.length;S++){var E=w[S],k=E.source()[0],I=E.target()[0],$=b(k),X=b(I),W=g[$],te=g[X];$!==X&&(v.merge(E),W.merge(te),g.splice(X,1))}return v}},st=ni({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),ut={aStar:function(o){var l=this.cy(),d=st(o),h=d.root,p=d.goal,g=d.heuristic,v=d.directed,b=d.weight;h=l.collection(h)[0],p=l.collection(p)[0];var ne,se,y=h.id(),w=p.id(),S={},E={},k={},I=new _.default(function(at,et){return E[at.id()]-E[et.id()]}),$=new ua,X={},W={},te=function(et,Ke){I.push(et),$.add(Ke)};te(h,y),S[y]=0,E[y]=g(h);for(var ae=0;I.size()>0;){if(se=(ne=I.pop()).id(),$.delete(se),ae++,se===w){for(var Oe=[],de=p,Me=w,Te=W[Me];Oe.unshift(de),null!=Te&&Oe.unshift(Te),null!=(de=X[Me]);)Te=W[Me=de.id()];return{found:!0,distance:S[se],path:this.spawn(Oe),steps:ae}}k[se]=!0;for(var pe=ne._private.edges,Fe=0;Fe<pe.length;Fe++){var Ce=pe[Fe];if(this.hasElementWithId(Ce.id())&&(!v||Ce.data("source")===se)){var Ge=Ce.source(),$e=Ce.target(),Ue=Ge.id()!==se?Ge:$e,Ye=Ue.id();if(this.hasElementWithId(Ye)&&!k[Ye]){var tt=S[se]+b(Ce);if(!$.has(Ye)){S[Ye]=tt,E[Ye]=tt+g(Ue),te(Ue,Ye),X[Ye]=ne,W[Ye]=Ce;continue}tt<S[Ye]&&(S[Ye]=tt,E[Ye]=tt+g(Ue),X[Ye]=ne,W[Ye]=Ce)}}}}return{found:!1,distance:void 0,path:void 0,steps:ae}}},Yt=ni({weight:function(o){return 1},directed:!1}),Ft={floydWarshall:function(o){for(var l=this.cy(),d=Yt(o),p=d.directed,g=d.weight,v=this.byGroup(),b=v.nodes,y=v.edges,w=b.length,S=w*w,E=function(wt){return b.indexOf(wt)},k=function(wt){return b[wt]},I=new Array(S),$=0;$<S;$++){var X=$%w;I[$]=($-X)/w===X?0:1/0}for(var te=new Array(S),ne=new Array(S),se=0;se<y.length;se++){var xe=y[se],De=xe.source()[0],ae=xe.target()[0];if(De!==ae){var Oe=E(De),de=E(ae),Me=Oe*w+de,Te=g(xe);if(I[Me]>Te&&(I[Me]=Te,te[Me]=de,ne[Me]=xe),!p){var pe=de*w+Oe;!p&&I[pe]>Te&&(I[pe]=Te,te[pe]=Oe,ne[pe]=xe)}}}for(var Fe=0;Fe<w;Fe++)for(var Ce=0;Ce<w;Ce++)for(var Ge=Ce*w+Fe,$e=0;$e<w;$e++){var Ue=Ce*w+$e,Ye=Fe*w+$e;I[Ge]+I[Ye]<I[Ue]&&(I[Ue]=I[Ge]+I[Ye],te[Ue]=te[Ge])}var at=function(wt){return E(function(wt){return(me(wt)?l.filter(wt):wt)[0]}(wt))};return{distance:function(wt,xt){var yt=at(wt),mt=at(xt);return I[yt*w+mt]},path:function(wt,xt){var yt=at(wt),mt=at(xt),Ze=k(yt);if(yt===mt)return Ze.collection();if(null==te[yt*w+mt])return l.collection();var St=l.collection();for(St.merge(Ze);yt!==mt;)St.merge(ne[yt*w+(yt=te[yt*w+mt])]),St.merge(k(yt));return St}}}},Bt=ni({weight:function(o){return 1},directed:!1,root:null}),un={bellmanFord:function(o){var l=this,d=Bt(o),p=d.directed,g=d.root,v=d.weight,b=this,y=this.cy(),w=this.byGroup(),S=w.edges,E=w.nodes,k=E.length,I=new Zi,$=!1,X=[];g=y.collection(g)[0],S.unmergeBy(function(qt){return qt.isLoop()});for(var W=S.length,te=function(Vt){var nn=I.get(Vt.id());return nn||(nn={},I.set(Vt.id(),nn)),nn},ne=function(Vt){return(me(Vt)?y.$(Vt):Vt)[0]},De=0;De<k;De++){var ae=E[De],Oe=te(ae);Oe.dist=ae.same(g)?0:1/0,Oe.pred=null,Oe.edge=null}for(var de=!1,Me=function(Vt,nn,Pn,wn,cn,At){var fe=wn.dist+At;fe<cn.dist&&!Pn.same(wn.edge)&&(cn.dist=fe,cn.pred=Vt,cn.edge=Pn,de=!0)},Te=1;Te<k;Te++){de=!1;for(var pe=0;pe<W;pe++){var Fe=S[pe],Ce=Fe.source(),Ge=Fe.target(),$e=v(Fe),Ue=te(Ce),Ye=te(Ge);Me(Ce,0,Fe,Ue,Ye,$e),p||Me(Ge,0,Fe,Ye,Ue,$e)}if(!de)break}if(de)for(var tt=[],at=0;at<W;at++){var et=S[at],Ke=et.source(),wt=et.target(),xt=v(et),yt=te(Ke).dist,mt=te(wt).dist;if(yt+xt<mt||!p&&mt+xt<yt){if($||(tr("Graph contains a negative weight cycle for Bellman-Ford"),$=!0),!1===o.findNegativeWeightCycles)break;var Ze=[];yt+xt<mt&&Ze.push(Ke),!p&&mt+xt<yt&&Ze.push(wt);for(var St=Ze.length,Dt=0;Dt<St;Dt++){var Nt=Ze[Dt],Qt=[Nt];Qt.push(te(Nt).edge);for(var vn=te(Nt).pred;-1===Qt.indexOf(vn);)Qt.push(vn),Qt.push(te(vn).edge),vn=te(vn).pred;for(var Dn=(Qt=Qt.slice(Qt.indexOf(vn)))[0].id(),$t=0,Lt=2;Lt<Qt.length;Lt+=2)Qt[Lt].id()<Dn&&(Dn=Qt[Lt].id(),$t=Lt);(Qt=Qt.slice($t).concat(Qt.slice(0,$t))).push(Qt[0]);var ln=Qt.map(function(qt){return qt.id()}).join(",");-1===tt.indexOf(ln)&&(X.push(b.spawn(Qt)),tt.push(ln))}}}return{distanceTo:function(Vt){return te(ne(Vt)).dist},pathTo:function(Vt){for(var nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,Pn=ne(Vt),wn=[],cn=Pn;;){if(null==cn)return l.spawn();var At=te(cn),fe=At.edge,rt=At.pred;if(wn.unshift(cn[0]),cn.same(nn)&&wn.length>0)break;null!=fe&&wn.unshift(fe),cn=rt}return b.spawn(wn)},hasNegativeWeightCycle:$,negativeWeightCycles:X}}},it=Math.sqrt(2),Gn=function(o,l,d){0===d.length&&gr("Karger-Stein must be run on a connected (sub)graph");for(var h=d[o],v=l[h[1]],b=l[h[2]],y=d,w=y.length-1;w>=0;w--){var S=y[w],E=S[1],k=S[2];(l[E]===v&&l[k]===b||l[E]===b&&l[k]===v)&&y.splice(w,1)}for(var I=0;I<y.length;I++){var $=y[I];$[1]===b?(y[I]=$.slice(),y[I][1]=v):$[2]===b&&(y[I]=$.slice(),y[I][2]=v)}for(var X=0;X<l.length;X++)l[X]===b&&(l[X]=v);return y},zt=function(o,l,d,h){for(;d>h;){var p=Math.floor(Math.random()*l.length);l=Gn(p,o,l),d--}return l},jt={kargerStein:function(){var o=this,l=this.byGroup(),d=l.nodes,h=l.edges;h.unmergeBy(function(Ye){return Ye.isLoop()});var p=d.length,g=h.length,v=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),b=Math.floor(p/it);if(!(p<2)){for(var y=[],w=0;w<g;w++){var S=h[w];y.push([w,d.indexOf(S.source()),d.indexOf(S.target())])}for(var E=1/0,k=[],I=new Array(p),$=new Array(p),X=new Array(p),W=function(tt,at){for(var et=0;et<p;et++)at[et]=tt[et]},te=0;te<=v;te++){for(var ne=0;ne<p;ne++)$[ne]=ne;var se=zt($,y.slice(),p,b),xe=se.slice();W($,X);var De=zt($,se,b,2),ae=zt(X,xe,b,2);De.length<=ae.length&&De.length<E?(E=De.length,k=De,W($,I)):ae.length<=De.length&&ae.length<E&&(E=ae.length,k=ae,W(X,I))}for(var Oe=this.spawn(k.map(function(Ye){return h[Ye[0]]})),de=this.spawn(),Me=this.spawn(),Te=I[0],pe=0;pe<I.length;pe++){var Ce=d[pe];I[pe]===Te?de.merge(Ce):Me.merge(Ce)}var Ge=function(tt){var at=o.spawn();return tt.forEach(function(et){at.merge(et),et.connectedEdges().forEach(function(Ke){o.contains(Ke)&&!Oe.contains(Ke)&&at.merge(Ke)})}),at},$e=[Ge(de),Ge(Me)];return{cut:Oe,components:$e,partition1:de,partition2:Me}}gr("At least 2 nodes are required for Karger-Stein algorithm")}},Vn=function(o,l,d){return{x:o.x*l+d.x,y:o.y*l+d.y}},Un=function(o,l,d){return{x:(o.x-d.x)/l,y:(o.y-d.y)/l}},zn=function(o){return{x:o[0],y:o[1]}},vr=function(o,l){return Math.atan2(l,o)-Math.PI/2},Vr=Math.log2||function(u){return Math.log(u)/Math.log(2)},Xr=function(o){return o>0?1:o<0?-1:0},wr=function(o,l){return Math.sqrt(fr(o,l))},fr=function(o,l){var d=l.x-o.x,h=l.y-o.y;return d*d+h*h},to=function(o){for(var l=o.length,d=0,h=0;h<l;h++)d+=o[h];for(var p=0;p<l;p++)o[p]=o[p]/d;return o},Wn=function(o,l,d,h){return(1-h)*(1-h)*o+2*(1-h)*h*l+h*h*d},ks=function(o,l,d,h){return{x:Wn(o.x,l.x,d.x,h),y:Wn(o.y,l.y,d.y,h)}},mn=function(o,l,d){return Math.max(o,Math.min(d,l))},xr=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},xn=function(o,l){o.x1=Math.min(o.x1,l.x1),o.x2=Math.max(o.x2,l.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,l.y1),o.y2=Math.max(o.y2,l.y2),o.h=o.y2-o.y1},nf=function(o,l,d){o.x1=Math.min(o.x1,l),o.x2=Math.max(o.x2,l),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,d),o.y2=Math.max(o.y2,d),o.h=o.y2-o.y1},Ir=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=l,o.x2+=l,o.y1-=l,o.y2+=l,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},yo=function(o){var d,h,p,g,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===l.length)d=h=p=g=l[0];else if(2===l.length)d=p=l[0],g=h=l[1];else if(4===l.length){var v=le(l,4);d=v[0],h=v[1],p=v[2],g=v[3]}return o.x1-=g,o.x2+=h,o.y1-=d,o.y2+=p,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Ya=function(o,l){o.x1=l.x1,o.y1=l.y1,o.x2=l.x2,o.y2=l.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},Is=function(o,l){return!(o.x1>l.x2||l.x1>o.x2||o.x2<l.x1||l.x2<o.x1||o.y2<l.y1||l.y2<o.y1||o.y1>l.y2||l.y1>o.y2)},no=function(o,l,d){return o.x1<=l&&l<=o.x2&&o.y1<=d&&d<=o.y2},xu=function(o,l){return no(o,l.x,l.y)},Oo=function(o,l){return no(o,l.x1,l.y1)&&no(o,l.x2,l.y2)},ca=function(o,l,d,h,p,g,v){var S,b=Fc(p,g),y=p/2,w=g/2,k=h-w-v;if((S=vs(o,l,d,h,d-y+b-v,k,d+y-b+v,k,!1)).length>0)return S;var X=d+y+v;if((S=vs(o,l,d,h,X,h-w+b-v,X,h+w-b+v,!1)).length>0)return S;var xe=h+w+v;if((S=vs(o,l,d,h,d-y+b-v,xe,d+y-b+v,xe,!1)).length>0)return S;var pe,Oe=d-y-v;if((S=vs(o,l,d,h,Oe,h-w+b-v,Oe,h+w-b+v,!1)).length>0)return S;var Fe=d-y+b,Ce=h-w+b;if((pe=ro(o,l,d,h,Fe,Ce,b+v)).length>0&&pe[0]<=Fe&&pe[1]<=Ce)return[pe[0],pe[1]];var Ge=d+y-b,$e=h-w+b;if((pe=ro(o,l,d,h,Ge,$e,b+v)).length>0&&pe[0]>=Ge&&pe[1]<=$e)return[pe[0],pe[1]];var Ue=d+y-b,Ye=h+w-b;if((pe=ro(o,l,d,h,Ue,Ye,b+v)).length>0&&pe[0]>=Ue&&pe[1]>=Ye)return[pe[0],pe[1]];var tt=d-y+b,at=h+w-b;return(pe=ro(o,l,d,h,tt,at,b+v)).length>0&&pe[0]<=tt&&pe[1]>=at?[pe[0],pe[1]]:[]},Rc=function(o,l,d,h,p,g,v){var b=v,y=Math.min(d,p),w=Math.max(d,p),S=Math.min(h,g),E=Math.max(h,g);return y-b<=o&&o<=w+b&&S-b<=l&&l<=E+b},Du=function(o,l,d,h,p,g,v,b,y){var w_x1=Math.min(d,v,p)-y,w_x2=Math.max(d,v,p)+y,w_y1=Math.min(h,b,g)-y,w_y2=Math.max(h,b,g)+y;return!(o<w_x1||o>w_x2||l<w_y1||l>w_y2)},Nc=function(o,l,d,h,p,g,v,b){var k=[];!function(o,l,d,h,p){var v,b,y,w,S,E,k,I;0===o&&(o=1e-5),y=-27*(h/=o)+(l/=o)*(9*(d/=o)-l*l*2),v=(b=(3*d-l*l)/9)*b*b+(y/=54)*y,p[1]=0,k=l/3,v>0?(S=(S=y+Math.sqrt(v))<0?-Math.pow(-S,1/3):Math.pow(S,1/3),E=(E=y-Math.sqrt(v))<0?-Math.pow(-E,1/3):Math.pow(E,1/3),p[0]=-k+S+E,p[4]=p[2]=-(k+=(S+E)/2),k=Math.sqrt(3)*(-E+S)/2,p[3]=k,p[5]=-k):(p[5]=p[3]=0,0===v?(I=y<0?-Math.pow(-y,1/3):Math.pow(y,1/3),p[0]=2*I-k,p[4]=p[2]=-(I+k)):(w=(b=-b)*b*b,w=Math.acos(y/Math.sqrt(w)),I=2*Math.sqrt(b),p[0]=-k+I*Math.cos(w/3),p[2]=-k+I*Math.cos((w+2*Math.PI)/3),p[4]=-k+I*Math.cos((w+4*Math.PI)/3)))}(1*d*d-4*d*p+2*d*v+4*p*p-4*p*v+v*v+h*h-4*h*g+2*h*b+4*g*g-4*g*b+b*b,9*d*p-3*d*d-3*d*v-6*p*p+3*p*v+9*h*g-3*h*h-3*h*b-6*g*g+3*g*b,3*d*d-6*d*p+d*v-d*o+2*p*p+2*p*o-v*o+3*h*h-6*h*g+h*b-h*l+2*g*g+2*g*l-b*l,1*d*p-d*d+d*o-p*o+h*g-h*h+h*l-g*l,k);for(var $=[],X=0;X<6;X+=2)Math.abs(k[X+1])<1e-7&&k[X]>=0&&k[X]<=1&&$.push(k[X]);$.push(1),$.push(0);for(var te,ne,se,W=-1,xe=0;xe<$.length;xe++)te=Math.pow(1-$[xe],2)*d+2*(1-$[xe])*$[xe]*p+$[xe]*$[xe]*v,ne=Math.pow(1-$[xe],2)*h+2*(1-$[xe])*$[xe]*g+$[xe]*$[xe]*b,se=Math.pow(te-o,2)+Math.pow(ne-l,2),W>=0?se<W&&(W=se):W=se;return W},ep=function(o,l,d,h,p,g){var v=[o-d,l-h],b=[p-d,g-h],y=b[0]*b[0]+b[1]*b[1],w=v[0]*v[0]+v[1]*v[1],S=v[0]*b[0]+v[1]*b[1],E=S*S/y;return S<0?w:E>y?(o-p)*(o-p)+(l-g)*(l-g):w-E},mr=function(o,l,d){for(var h,p,g,v,y=0,w=0;w<d.length/2;w++)if(p=d[2*w+1],w+1<d.length/2?(g=d[2*(w+1)],v=d[2*(w+1)+1]):(g=d[2*(w+1-d.length/2)],v=d[2*(w+1-d.length/2)+1]),(h=d[2*w])!=o||g!=o){if(!(h>=o&&o>=g||h<=o&&o<=g))continue;(o-h)/(g-h)*(v-p)+p>l&&y++}return y%2!=0},Ps=function(o,l,d,h,p,g,v,b,y){var S,$,w=new Array(d.length);null!=b[0]?(S=Math.atan(b[1]/b[0]),b[0]<0?S+=Math.PI/2:S=-S-Math.PI/2):S=b;for(var E=Math.cos(-S),k=Math.sin(-S),I=0;I<w.length/2;I++)w[2*I]=g/2*(d[2*I]*E-d[2*I+1]*k),w[2*I+1]=v/2*(d[2*I+1]*E+d[2*I]*k),w[2*I]+=h,w[2*I+1]+=p;if(y>0){var X=da(w,-y);$=hr(X)}else $=w;return mr(o,l,$)},hr=function(o){for(var v,b,y,w,l=new Array(o.length/2),S=0;S<o.length/4;S++){S<o.length/4-1?(v=o[4*(S+1)],b=o[4*(S+1)+1],y=o[4*(S+1)+2],w=o[4*(S+1)+3]):(v=o[0],b=o[1],y=o[2],w=o[3]);var E=vs(o[4*S],o[4*S+1],o[4*S+2],o[4*S+3],v,b,y,w,!0);l[2*S]=E[0],l[2*S+1]=E[1]}return l},da=function(o,l){for(var h,p,g,v,d=new Array(2*o.length),b=0;b<o.length/2;b++){b<o.length/2-1?(g=o[2*(b+1)],v=o[2*(b+1)+1]):(g=o[0],v=o[1]);var y=v-(p=o[2*b+1]),w=-(g-(h=o[2*b])),S=Math.sqrt(y*y+w*w),E=y/S,k=w/S;d[4*b]=h+E*l,d[4*b+1]=p+k*l,d[4*b+2]=g+E*l,d[4*b+3]=v+k*l}return d},fa=function(o,l,d,h,p,g,v){return o-=p,l-=g,(o/=d/2+v)*o+(l/=h/2+v)*l<=1},ro=function(o,l,d,h,p,g,v){var b=[d-o,h-l],y=[o-p,l-g],w=b[0]*b[0]+b[1]*b[1],S=2*(y[0]*b[0]+y[1]*b[1]),k=S*S-4*w*(y[0]*y[0]+y[1]*y[1]-v*v);if(k<0)return[];var I=(-S+Math.sqrt(k))/(2*w),$=(-S-Math.sqrt(k))/(2*w),X=Math.min(I,$),W=Math.max(I,$),te=[];if(X>=0&&X<=1&&te.push(X),W>=0&&W<=1&&te.push(W),0===te.length)return[];var ne=te[0]*b[0]+o,se=te[0]*b[1]+l;return te.length>1?te[0]==te[1]?[ne,se]:[ne,se,te[1]*b[0]+o,te[1]*b[1]+l]:[ne,se]},ha=function(o,l,d){return l<=o&&o<=d||d<=o&&o<=l?o:o<=l&&l<=d||d<=l&&l<=o?l:d},vs=function(o,l,d,h,p,g,v,b,y){var w=o-p,S=d-o,E=v-p,k=l-g,I=h-l,$=b-g,X=E*k-$*w,W=S*k-I*w,te=$*S-E*I;if(0!==te){var ne=X/te,se=W/te;return-.001<=ne&&ne<=1.001&&-.001<=se&&se<=1.001||y?[o+ne*S,l+ne*I]:[]}return 0===X||0===W?ha(o,d,v)===v?[v,b]:ha(o,d,p)===p?[p,g]:ha(p,v,d)===d?[d,h]:[]:[]},qa=function(o,l,d,h,p,g,v,b){var w,k,y=[],S=new Array(d.length),E=!0;if(null==g&&(E=!1),E){for(var I=0;I<S.length/2;I++)S[2*I]=d[2*I]*g+h,S[2*I+1]=d[2*I+1]*v+p;if(b>0){var $=da(S,-b);k=hr($)}else k=S}else k=d;for(var te,ne,se=0;se<k.length/2;se++)se<k.length/2-1?(te=k[2*(se+1)],ne=k[2*(se+1)+1]):(te=k[0],ne=k[1]),0!==(w=vs(o,l,h,p,k[2*se],k[2*se+1],te,ne)).length&&y.push(w[0],w[1]);return y},$l=function(o,l,d){var h=[o[0]-l[0],o[1]-l[1]],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]),g=(p-d)/p;return g<0&&(g=1e-5),[l[0]+g*h[0],l[1]+g*h[1]]},$i=function(o,l){var d=Ka(o,l);return Cu(d)},Cu=function(o){for(var l,d,h=o.length/2,p=1/0,g=1/0,v=-1/0,b=-1/0,y=0;y<h;y++)l=o[2*y],d=o[2*y+1],p=Math.min(p,l),v=Math.max(v,l),g=Math.min(g,d),b=Math.max(b,d);for(var w=2/(v-p),S=2/(b-g),E=0;E<h;E++)l=o[2*E]=o[2*E]*w,d=o[2*E+1]=o[2*E+1]*S,p=Math.min(p,l),v=Math.max(v,l),g=Math.min(g,d),b=Math.max(b,d);if(g<-1)for(var k=0;k<h;k++)d=o[2*k+1]=o[2*k+1]+(-1-g);return o},Ka=function(o,l){var d=1/o*2*Math.PI,h=o%2==0?Math.PI/2+d/2:Math.PI/2;h+=l;for(var g,p=new Array(2*o),v=0;v<o;v++)g=v*d+h,p[2*v]=Math.cos(g),p[2*v+1]=Math.sin(-g);return p},Fc=function(o,l){return Math.min(o/4,l/4,8)},an=function(o,l){return Math.min(o/10,l/10,8)},_u=function(o,l){return{heightOffset:Math.min(15,.05*l),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},np=ni({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),Qc={pageRank:function(o){for(var l=np(o),d=l.dampingFactor,h=l.precision,p=l.iterations,g=l.weight,v=this._private.cy,b=this.byGroup(),y=b.nodes,w=b.edges,S=y.length,k=w.length,I=new Array(S*S),$=new Array(S),X=(1-d)/S,W=0;W<S;W++){for(var te=0;te<S;te++)I[W*S+te]=0;$[W]=0}for(var se=0;se<k;se++){var xe=w[se],De=xe.data("source"),ae=xe.data("target");if(De!==ae){var Oe=y.indexOfId(De),de=y.indexOfId(ae),Me=g(xe);I[de*S+Oe]+=Me,$[Oe]+=Me}}for(var pe=1/S+X,Fe=0;Fe<S;Fe++)if(0===$[Fe])for(var Ce=0;Ce<S;Ce++)I[Ce*S+Fe]=pe;else for(var $e=0;$e<S;$e++){var Ue=$e*S+Fe;I[Ue]=I[Ue]/$[Fe]+X}for(var at,Ye=new Array(S),tt=new Array(S),et=0;et<S;et++)Ye[et]=1;for(var Ke=0;Ke<p;Ke++){for(var wt=0;wt<S;wt++)tt[wt]=0;for(var xt=0;xt<S;xt++)for(var yt=0;yt<S;yt++)tt[xt]+=I[xt*S+yt]*Ye[yt];to(tt),at=Ye,Ye=tt,tt=at;for(var Ze=0,St=0;St<S;St++){var Dt=at[St]-Ye[St];Ze+=Dt*Dt}if(Ze<h)break}return{rank:function(vn){return vn=v.collection(vn)[0],Ye[y.indexOf(vn)]}}}},Bm=ni({root:null,weight:function(o){return 1},directed:!1,alpha:0}),Tu={degreeCentralityNormalized:function(o){o=Bm(o);var l=this.cy(),d=this.nodes(),h=d.length;if(o.directed){for(var w={},S={},E=0,k=0,I=0;I<h;I++){var $=d[I],X=$.id();o.root=$;var W=this.degreeCentrality(o);E<W.indegree&&(E=W.indegree),k<W.outdegree&&(k=W.outdegree),w[X]=W.indegree,S[X]=W.outdegree}return{indegree:function(ne){return 0==E?0:(me(ne)&&(ne=l.filter(ne)),w[ne.id()]/E)},outdegree:function(ne){return 0===k?0:(me(ne)&&(ne=l.filter(ne)),S[ne.id()]/k)}}}for(var p={},g=0,v=0;v<h;v++){var b=d[v];o.root=b;var y=this.degreeCentrality(o);g<y.degree&&(g=y.degree),p[b.id()]=y.degree}return{degree:function(ne){return 0===g?0:(me(ne)&&(ne=l.filter(ne)),p[ne.id()]/g)}}},degreeCentrality:function(o){o=Bm(o);var l=this.cy(),d=this,p=o.root,g=o.weight,v=o.directed,b=o.alpha;if(p=l.collection(p)[0],v){for(var k=p.connectedEdges(),I=k.filter(function(De){return De.target().same(p)&&d.has(De)}),$=k.filter(function(De){return De.source().same(p)&&d.has(De)}),X=I.length,W=$.length,te=0,ne=0,se=0;se<I.length;se++)te+=g(I[se]);for(var xe=0;xe<$.length;xe++)ne+=g($[xe]);return{indegree:Math.pow(X,1-b)*Math.pow(te,b),outdegree:Math.pow(W,1-b)*Math.pow(ne,b)}}for(var y=p.connectedEdges().intersection(d),w=y.length,S=0,E=0;E<y.length;E++)S+=g(y[E]);return{degree:Math.pow(w,1-b)*Math.pow(S,b)}}};Tu.dc=Tu.degreeCentrality,Tu.dcn=Tu.degreeCentralityNormalised=Tu.degreeCentralityNormalized;var Vm=ni({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Rs={closenessCentralityNormalized:function(o){for(var l=Vm(o),d=l.harmonic,h=l.weight,p=l.directed,g=this.cy(),v={},b=0,y=this.nodes(),w=this.floydWarshall({weight:h,directed:p}),S=0;S<y.length;S++){for(var E=0,k=y[S],I=0;I<y.length;I++)if(S!==I){var $=w.distance(k,y[I]);E+=d?1/$:$}d||(E=1/E),b<E&&(b=E),v[k.id()]=E}return{closeness:function(W){return 0==b?0:(W=me(W)?g.filter(W)[0].id():W.id(),v[W]/b)}}},closenessCentrality:function(o){var l=Vm(o),d=l.root,h=l.weight,p=l.directed,g=l.harmonic;d=this.filter(d)[0];for(var v=this.dijkstra({root:d,weight:h,directed:p}),b=0,y=this.nodes(),w=0;w<y.length;w++){var S=y[w];if(!S.same(d)){var E=v.distanceTo(S);b+=g?1/E:E}}return g?b:1/b}};Rs.cc=Rs.closenessCentrality,Rs.ccn=Rs.closenessCentralityNormalised=Rs.closenessCentralityNormalized;var bo=ni({weight:null,directed:!1}),Um={betweennessCentrality:function(o){for(var l=bo(o),d=l.directed,h=l.weight,p=null!=h,g=this.cy(),v=this.nodes(),b={},y={},w=0,S={set:function(ne,se){y[ne]=se,se>w&&(w=se)},get:function(ne){return y[ne]}},E=0;E<v.length;E++){var k=v[E],I=k.id();b[I]=d?k.outgoers().nodes():k.openNeighborhood().nodes(),S.set(I,0)}for(var $=function(ne){for(var se=v[ne].id(),xe=[],De={},ae={},Oe={},de=new _.default(function(yt,mt){return Oe[yt]-Oe[mt]}),Me=0;Me<v.length;Me++){var Te=v[Me].id();De[Te]=[],ae[Te]=0,Oe[Te]=1/0}for(ae[se]=1,Oe[se]=0,de.push(se);!de.empty();){var pe=de.pop();if(xe.push(pe),p)for(var Fe=0;Fe<b[pe].length;Fe++){var $e,Ce=b[pe][Fe],Ge=g.getElementById(pe);$e=Ge.edgesTo(Ce).length>0?Ge.edgesTo(Ce)[0]:Ce.edgesTo(Ge)[0];var Ue=h($e);Ce=Ce.id(),Oe[Ce]>Oe[pe]+Ue&&(Oe[Ce]=Oe[pe]+Ue,de.nodes.indexOf(Ce)<0?de.push(Ce):de.updateItem(Ce),ae[Ce]=0,De[Ce]=[]),Oe[Ce]==Oe[pe]+Ue&&(ae[Ce]=ae[Ce]+ae[pe],De[Ce].push(pe))}else for(var Ye=0;Ye<b[pe].length;Ye++){var tt=b[pe][Ye].id();Oe[tt]==1/0&&(de.push(tt),Oe[tt]=Oe[pe]+1),Oe[tt]==Oe[pe]+1&&(ae[tt]=ae[tt]+ae[pe],De[tt].push(pe))}}for(var at={},et=0;et<v.length;et++)at[v[et].id()]=0;for(;xe.length>0;){for(var Ke=xe.pop(),wt=0;wt<De[Ke].length;wt++){var xt=De[Ke][wt];at[xt]=at[xt]+ae[xt]/ae[Ke]*(1+at[Ke])}Ke!=v[ne].id()&&S.set(Ke,S.get(Ke)+at[Ke])}},X=0;X<v.length;X++)$(X);var W={betweenness:function(ne){var se=g.collection(ne).id();return S.get(se)},betweennessNormalized:function(ne){if(0==w)return 0;var se=g.collection(ne).id();return S.get(se)/w}};return W.betweennessNormalised=W.betweennessNormalized,W}};Um.bc=Um.betweennessCentrality;var WD=ni({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(u){return 1}]}),pa=function(o,l){for(var d=0,h=0;h<l.length;h++)d+=l[h](o);return d},$c=function(o,l){for(var d,h=0;h<l;h++){d=0;for(var p=0;p<l;p++)d+=o[p*l+h];for(var g=0;g<l;g++)o[g*l+h]=o[g*l+h]/d}},rp=function(o,l,d){for(var h=new Array(d*d),p=0;p<d;p++){for(var g=0;g<d;g++)h[p*d+g]=0;for(var v=0;v<d;v++)for(var b=0;b<d;b++)h[p*d+b]+=o[p*d+v]*l[v*d+b]}return h},ip=function(o,l,d){for(var h=o.slice(0),p=1;p<d;p++)o=rp(o,h,l);return o},zm=function(o,l,d){for(var h=new Array(l*l),p=0;p<l*l;p++)h[p]=Math.pow(o[p],d);return $c(h,l),h},ga=function(o,l,d,h){for(var p=0;p<d;p++)if(Math.round(o[p]*Math.pow(10,h))/Math.pow(10,h)!=Math.round(l[p]*Math.pow(10,h))/Math.pow(10,h))return!1;return!0},eb=function(o,l){for(var d=0;d<o.length;d++)if(!l[d]||o[d].id()!==l[d].id())return!1;return!0},jm=function(o){for(var l=this.nodes(),d=this.edges(),h=this.cy(),p=function(o){return WD(o)}(o),g={},v=0;v<l.length;v++)g[l[v].id()]=v;for(var S,b=l.length,y=b*b,w=new Array(y),E=0;E<y;E++)w[E]=0;for(var k=0;k<d.length;k++){var I=d[k],$=g[I.source().id()],X=g[I.target().id()],W=pa(I,p.attributes);w[$*b+X]+=W,w[X*b+$]+=W}(function(o,l,d){for(var h=0;h<l;h++)o[h*l+h]=d})(w,b,p.multFactor),$c(w,b);for(var te=!0,ne=0;te&&ne<p.maxIterations;)te=!1,S=ip(w,b,p.expandFactor),w=zm(S,b,p.inflateFactor),ga(w,S,y,4)||(te=!0),ne++;var se=function(o,l,d,h){for(var p=[],g=0;g<l;g++){for(var v=[],b=0;b<l;b++)Math.round(1e3*o[g*l+b])/1e3>0&&v.push(d[b]);0!==v.length&&p.push(h.collection(v))}return p}(w,b,l,h);return se=function(o){for(var l=0;l<o.length;l++)for(var d=0;d<o.length;d++)l!=d&&eb(o[l],o[d])&&o.splice(d,1);return o}(se),se},Hm={markovClustering:jm,mcl:jm},Xm=function(o){return o},ys=function(o,l){return Math.abs(l-o)},Gm=function(o,l,d){return o+ys(l,d)},sp=function(o,l,d){return o+Math.pow(d-l,2)},fn=function(o){return Math.sqrt(o)},Os=function(o,l,d){return Math.max(o,ys(l,d))},Zn=function(o,l,d,h,p){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xm,v=h,w=0;w<o;w++)v=p(v,l(w),d(w));return g(v)},Gr={euclidean:function(o,l,d){return o>=2?Zn(o,l,d,0,sp,fn):Zn(o,l,d,0,Gm)},squaredEuclidean:function(o,l,d){return Zn(o,l,d,0,sp)},manhattan:function(o,l,d){return Zn(o,l,d,0,Gm)},max:function(o,l,d){return Zn(o,l,d,-1/0,Os)}};function hi(u,o,l,d,h,p){var g;return g=Xe(u)?u:Gr[u]||Gr.euclidean,0===o&&Xe(u)?g(h,p):g(o,l,d,h,p)}Gr["squared-euclidean"]=Gr.squaredEuclidean,Gr.squaredeuclidean=Gr.squaredEuclidean;var Vc=ni({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Yi=function(o){return Vc(o)},io=function(o,l,d,h,p){var v="kMedoids"!==p?function(S){return d[S]}:function(S){return h[S](d)};return hi(o,h.length,v,function(E){return h[E](l)},d,l)},Ht=function(o,l,d){for(var h=d.length,p=new Array(h),g=new Array(h),v=new Array(l),b=null,y=0;y<h;y++)p[y]=o.min(d[y]).value,g[y]=o.max(d[y]).value;for(var w=0;w<l;w++){b=[];for(var S=0;S<h;S++)b[S]=Math.random()*(g[S]-p[S])+p[S];v[w]=b}return v},Cn=function(o,l,d,h,p){for(var g=1/0,v=0,b=0;b<l.length;b++){var y=io(d,o,l[b],h,p);y<g&&(g=y,v=b)}return v},Pr=function(o,l,d){for(var h=[],p=null,g=0;g<l.length;g++)d[(p=l[g]).id()]===o&&h.push(p);return h},So=function(o,l,d){return Math.abs(l-o)<=d},Bl=function(o,l,d){for(var h=0;h<o.length;h++)for(var p=0;p<o[h].length;p++)if(Math.abs(o[h][p]-l[h][p])>d)return!1;return!0},Bi=function(o,l,d){for(var h=0;h<d;h++)if(o===l[h])return!0;return!1},Vl=function(o,l){var d=new Array(l);if(o.length<50)for(var h=0;h<l;h++){for(var p=o[Math.floor(Math.random()*o.length)];Bi(p,d,h);)p=o[Math.floor(Math.random()*o.length)];d[h]=p}else for(var g=0;g<l;g++)d[g]=o[Math.floor(Math.random()*o.length)];return d},Ur=function(o,l,d){for(var h=0,p=0;p<l.length;p++)h+=io("manhattan",l[p],o,d,"kMedoids");return h},Tn=function(o,l,d,h,p){for(var g,v,b=0;b<l.length;b++)for(var y=0;y<o.length;y++)h[b][y]=Math.pow(d[b][y],p.m);for(var w=0;w<o.length;w++)for(var S=0;S<p.attributes.length;S++){g=0,v=0;for(var E=0;E<l.length;E++)g+=h[E][w]*p.attributes[S](l[E]),v+=h[E][w];o[w][S]=g/v}},op=function(o,l,d,h,p){for(var g=0;g<o.length;g++)l[g]=o[g].slice();for(var v,b,y,w=2/(p.m-1),S=0;S<d.length;S++)for(var E=0;E<h.length;E++){v=0;for(var k=0;k<d.length;k++)b=io(p.distance,h[E],d[S],p.attributes,"cmeans"),y=io(p.distance,h[E],d[k],p.attributes,"cmeans"),v+=Math.pow(b/y,w);o[E][S]=1/v}},ap=function(o){var p,g,v,b,y,l=this.cy(),d=this.nodes(),h=Yi(o);b=new Array(d.length);for(var w=0;w<d.length;w++)b[w]=new Array(h.k);v=new Array(d.length);for(var S=0;S<d.length;S++)v[S]=new Array(h.k);for(var E=0;E<d.length;E++){for(var k=0,I=0;I<h.k;I++)v[E][I]=Math.random(),k+=v[E][I];for(var $=0;$<h.k;$++)v[E][$]=v[E][$]/k}g=new Array(h.k);for(var X=0;X<h.k;X++)g[X]=new Array(h.attributes.length);y=new Array(d.length);for(var W=0;W<d.length;W++)y[W]=new Array(h.k);for(var te=!0,ne=0;te&&ne<h.maxIterations;)te=!1,Tn(g,d,v,y,h),op(v,b,g,d,h),Bl(v,b,h.sensitivityThreshold)||(te=!0),ne++;return p=function(o,l,d,h){for(var p=new Array(d.k),g=0;g<p.length;g++)p[g]=[];for(var v,b,y=0;y<l.length;y++){v=-1/0,b=-1;for(var w=0;w<l[0].length;w++)l[y][w]>v&&(v=l[y][w],b=w);p[b].push(o[y])}for(var S=0;S<p.length;S++)p[S]=h.collection(p[S]);return p}(d,v,h,l),{clusters:p,degreeOfMembership:v}},Mu={kMeans:function(o){var b,l=this.cy(),d=this.nodes(),h=null,p=Yi(o),g=new Array(p.k),v={};b=p.testMode?"number"==typeof p.testCentroids?Ht(d,p.k,p.attributes):"object"===ee(p.testCentroids)?p.testCentroids:Ht(d,p.k,p.attributes):Ht(d,p.k,p.attributes);for(var y=!0,w=0;y&&w<p.maxIterations;){for(var S=0;S<d.length;S++)v[(h=d[S]).id()]=Cn(h,b,p.distance,p.attributes,"kMeans");y=!1;for(var E=0;E<p.k;E++){var k=Pr(E,d,v);if(0!==k.length){for(var I=p.attributes.length,$=b[E],X=new Array(I),W=new Array(I),te=0;te<I;te++){W[te]=0;for(var ne=0;ne<k.length;ne++)W[te]+=p.attributes[te](h=k[ne]);X[te]=W[te]/k.length,So(X[te],$[te],p.sensitivityThreshold)||(y=!0)}b[E]=X,g[E]=l.collection(k)}}w++}return g},kMedoids:function(o){var v,y,l=this.cy(),d=this.nodes(),h=null,p=Yi(o),g=new Array(p.k),b={},w=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(v="object"===ee(p.testCentroids)?p.testCentroids:Vl(d,p.k)):v=Vl(d,p.k);for(var S=!0,E=0;S&&E<p.maxIterations;){for(var k=0;k<d.length;k++)b[(h=d[k]).id()]=Cn(h,v,p.distance,p.attributes,"kMedoids");S=!1;for(var I=0;I<v.length;I++){var $=Pr(I,d,b);if(0!==$.length){w[I]=Ur(v[I],$,p.attributes);for(var X=0;X<$.length;X++)(y=Ur($[X],$,p.attributes))<w[I]&&(w[I]=y,v[I]=$[X],S=!0);g[I]=l.collection($)}}E++}return g},fuzzyCMeans:ap,fcm:ap},Vi=ni({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),zc={single:"min",complete:"max"},xo=function(o,l,d,h,p){for(var b,g=0,v=1/0,y=p.attributes,w=function(de,Me){return hi(p.distance,y.length,function(Te){return y[Te](de)},function(Te){return y[Te](Me)},de,Me)},S=0;S<o.length;S++){var E=o[S].key,k=d[E][h[E]];k<v&&(g=E,v=k)}if("threshold"===p.mode&&v>=p.threshold||"dendrogram"===p.mode&&1===o.length)return!1;var X,I=l[g],$=l[h[g]];X="dendrogram"===p.mode?{left:I,right:$,key:I.key}:{value:I.value.concat($.value),key:I.key},o[I.index]=X,o.splice($.index,1),l[I.key]=X;for(var W=0;W<o.length;W++){var te=o[W];I.key===te.key?b=1/0:"min"===p.linkage?(b=d[I.key][te.key],d[I.key][te.key]>d[$.key][te.key]&&(b=d[$.key][te.key])):"max"===p.linkage?(b=d[I.key][te.key],d[I.key][te.key]<d[$.key][te.key]&&(b=d[$.key][te.key])):b="mean"===p.linkage?(d[I.key][te.key]*I.size+d[$.key][te.key]*$.size)/(I.size+$.size):"dendrogram"===p.mode?w(te.value,I.value):w(te.value[0],I.value[0]),d[I.key][te.key]=d[te.key][I.key]=b}for(var ne=0;ne<o.length;ne++){var se=o[ne].key;if(h[se]===I.key||h[se]===$.key){for(var xe=se,De=0;De<o.length;De++){var ae=o[De].key;d[se][ae]<d[se][xe]&&(xe=ae)}h[se]=xe}o[ne].index=ne}return I.key=$.key=I.index=$.index=null,!0},Ja=function u(o,l,d){o&&(o.value?l.push(o.value):(o.left&&u(o.left,l),o.right&&u(o.right,l)))},Wm=function u(o,l){if(!o)return"";if(o.left&&o.right){var d=u(o.left,l),h=u(o.right,l),p=l.add({group:"nodes",data:{id:d+","+h}});return l.add({group:"edges",data:{source:d,target:p.id()}}),l.add({group:"edges",data:{source:h,target:p.id()}}),p.id()}return o.value?o.value.id():void 0},Dr=function u(o,l,d){if(!o)return[];var h=[],p=[],g=[];return 0===l?(o.left&&Ja(o.left,h),o.right&&Ja(o.right,p),g=h.concat(p),[d.collection(g)]):1===l?o.value?[d.collection(o.value)]:(o.left&&Ja(o.left,h),o.right&&Ja(o.right,p),[d.collection(h),d.collection(p)]):o.value?[d.collection(o.value)]:(o.left&&(h=u(o.left,l-1,d)),o.right&&(p=u(o.right,l-1,d)),h.concat(p))},tb=function(o){for(var l=this.cy(),d=this.nodes(),h=function(o){var l=Vi(o),d=zc[l.linkage];return null!=d&&(l.linkage=d),l}(o),p=h.attributes,g=function(ne,se){return hi(h.distance,p.length,function(xe){return p[xe](ne)},function(xe){return p[xe](se)},ne,se)},v=[],b=[],y=[],w=[],S=0;S<d.length;S++){var E={value:"dendrogram"===h.mode?d[S]:[d[S]],key:S,index:S};v[S]=E,w[S]=E,b[S]=[],y[S]=0}for(var k=0;k<v.length;k++)for(var I=0;I<=k;I++){var $;$="dendrogram"===h.mode?k===I?1/0:g(v[k].value,v[I].value):k===I?1/0:g(v[k].value[0],v[I].value[0]),b[k][I]=$,b[I][k]=$,$<b[k][y[k]]&&(y[k]=I)}for(var X=xo(v,w,b,y,h);X;)X=xo(v,w,b,y,h);var W;return"dendrogram"===h.mode?(W=Dr(v[0],h.dendrogramDepth,l),h.addDendrogram&&Wm(v[0],l)):(W=new Array(v.length),v.forEach(function(te,ne){te.key=te.index=null,W[ne]=l.collection(te.value)})),W},lp={hierarchicalClustering:tb,hca:tb},Zm=ni({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),lf=function(o,l,d,h){var p=function(v,b){return h[b](v)};return-hi(o,h.length,function(g){return p(l,g)},function(g){return p(d,g)},l,d)},nb=function(o,l,d){for(var h=[],p=0;p<o;p++){for(var g=-1,v=-1/0,b=0;b<d.length;b++){var y=d[b];l[p*o+y]>v&&(g=y,v=l[p*o+y])}g>0&&h.push(g)}for(var w=0;w<d.length;w++)h[d[w]]=d[w];return h},so=function(o){for(var l=this.cy(),d=this.nodes(),h=function(o){var l=o.damping,d=o.preference;.5<=l&&l<1||gr("Damping must range on [0.5, 1).  Got: ".concat(l));var h=["median","mean","min","max"];return h.some(function(p){return p===d})||he(d)||gr("Preference must be one of [".concat(h.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(d)),Zm(o)}(o),p={},g=0;g<d.length;g++)p[d[g].id()]=g;var v,b,y,w,S,E,de;b=(v=d.length)*v,y=new Array(b);for(var k=0;k<b;k++)y[k]=-1/0;for(var I=0;I<v;I++)for(var $=0;$<v;$++)I!==$&&(y[I*v+$]=lf(h.distance,d[I],d[$],h.attributes));w=function(o,l){var d;return d="median"===l?function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];!(arguments.length>3&&void 0!==arguments[3])||arguments[3]?o=o.slice(l,d):(d<o.length&&o.splice(d,o.length-d),l>0&&o.splice(0,l));for(var v=0,b=o.length-1;b>=0;b--)g?isFinite(o[b])||(o[b]=-1/0,v++):o.splice(b,1);p&&o.sort(function(E,k){return E-k});var w=o.length,S=Math.floor(w/2);return w%2!=0?o[S+1+v]:(o[S-1+v]+o[S+v])/2}(o):"mean"===l?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=0,p=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<d;g++){var v=o[g];isFinite(v)&&(h+=v,p++)}return h/p}(o):"min"===l?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var g=o[p];isFinite(g)&&(h=Math.min(g,h))}return h}(o):"max"===l?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var g=o[p];isFinite(g)&&(h=Math.max(g,h))}return h}(o):l,d}(y,h.preference);for(var X=0;X<v;X++)y[X*v+X]=w;S=new Array(b);for(var W=0;W<b;W++)S[W]=0;E=new Array(b);for(var te=0;te<b;te++)E[te]=0;for(var ne=new Array(v),se=new Array(v),xe=new Array(v),De=0;De<v;De++)ne[De]=0,se[De]=0,xe[De]=0;for(var ae=new Array(v*h.minIterations),Oe=0;Oe<ae.length;Oe++)ae[Oe]=0;for(de=0;de<h.maxIterations;de++){for(var Me=0;Me<v;Me++){for(var Te=-1/0,pe=-1/0,Fe=-1,Ce=0,Ge=0;Ge<v;Ge++)ne[Ge]=S[Me*v+Ge],(Ce=E[Me*v+Ge]+y[Me*v+Ge])>=Te?(pe=Te,Te=Ce,Fe=Ge):Ce>pe&&(pe=Ce);for(var $e=0;$e<v;$e++)S[Me*v+$e]=(1-h.damping)*(y[Me*v+$e]-Te)+h.damping*ne[$e];S[Me*v+Fe]=(1-h.damping)*(y[Me*v+Fe]-pe)+h.damping*ne[Fe]}for(var Ue=0;Ue<v;Ue++){for(var Ye=0,tt=0;tt<v;tt++)ne[tt]=E[tt*v+Ue],se[tt]=Math.max(0,S[tt*v+Ue]),Ye+=se[tt];Ye-=se[Ue],se[Ue]=S[Ue*v+Ue],Ye+=se[Ue];for(var at=0;at<v;at++)E[at*v+Ue]=(1-h.damping)*Math.min(0,Ye-se[at])+h.damping*ne[at];E[Ue*v+Ue]=(1-h.damping)*(Ye-se[Ue])+h.damping*ne[Ue]}for(var et=0,Ke=0;Ke<v;Ke++){var wt=E[Ke*v+Ke]+S[Ke*v+Ke]>0?1:0;ae[de%h.minIterations*v+Ke]=wt,et+=wt}if(et>0&&(de>=h.minIterations-1||de==h.maxIterations-1)){for(var xt=0,yt=0;yt<v;yt++){xe[yt]=0;for(var mt=0;mt<h.minIterations;mt++)xe[yt]+=ae[mt*v+yt];(0===xe[yt]||xe[yt]===h.minIterations)&&xt++}if(xt===v)break}}for(var Ze=function(o,l,d){for(var h=[],p=0;p<o;p++)l[p*o+p]+d[p*o+p]>0&&h.push(p);return h}(v,S,E),St=function(o,l,d){for(var h=nb(o,l,d),p=0;p<d.length;p++){for(var g=[],v=0;v<h.length;v++)h[v]===d[p]&&g.push(v);for(var b=-1,y=-1/0,w=0;w<g.length;w++){for(var S=0,E=0;E<g.length;E++)S+=l[g[E]*o+g[w]];S>y&&(b=w,y=S)}d[p]=g[b]}return nb(o,l,d)}(v,y,Ze),Dt={},Nt=0;Nt<Ze.length;Nt++)Dt[Ze[Nt]]=[];for(var Qt=0;Qt<d.length;Qt++){var Dn=St[p[d[Qt].id()]];null!=Dn&&Dt[Dn].push(d[Qt])}for(var $t=new Array(Ze.length),Lt=0;Lt<Ze.length;Lt++)$t[Lt]=l.collection(Dt[Ze[Lt]]);return $t},up={affinityPropagation:so,ap:so},jc=ni({root:void 0,directed:!1}),uf={hierholzer:function(o){if(!Ae(o)){var l=arguments;o={root:l[0],directed:l[1]}}var b,y,w,d=jc(o),h=d.root,p=d.directed,g=this,v=!1;h&&(w=me(h)?this.filter(h)[0].id():h[0].id());var S={},E={};g.forEach(p?function(te){var ne=te.id();if(te.isNode()){var se=te.indegree(!0),xe=te.outdegree(!0),De=se-xe,ae=xe-se;1==De?b?v=!0:b=ne:1==ae?y?v=!0:y=ne:(ae>1||De>1)&&(v=!0),S[ne]=[],te.outgoers().forEach(function(Oe){Oe.isEdge()&&S[ne].push(Oe.id())})}else E[ne]=[void 0,te.target().id()]}:function(te){var ne=te.id();te.isNode()?(te.degree(!0)%2&&(b?y?v=!0:y=ne:b=ne),S[ne]=[],te.connectedEdges().forEach(function(xe){return S[ne].push(xe.id())})):E[ne]=[te.source().id(),te.target().id()]});var k={found:!1,trail:void 0};if(v)return k;if(y&&b)if(p){if(w&&y!=w)return k;w=y}else{if(w&&y!=w&&b!=w)return k;w||(w=y)}else w||(w=g[0].id());var I=function(ne){for(var De,ae,Oe,se=ne,xe=[ne];S[se].length;)De=S[se].shift(),ae=E[De][0],se!=(Oe=E[De][1])?(S[Oe]=S[Oe].filter(function(de){return de!=De}),se=Oe):!p&&se!=ae&&(S[ae]=S[ae].filter(function(de){return de!=De}),se=ae),xe.unshift(De),xe.unshift(se);return xe},$=[],X=[];for(X=I(w);1!=X.length;)0==S[X[0]].length?($.unshift(g.getElementById(X.shift())),$.unshift(g.getElementById(X.shift()))):X=I(X.shift()).concat(X);for(var W in $.unshift(g.getElementById(X.shift())),S)if(S[W].length)return k;return k.found=!0,k.trail=this.spawn($,!0),k}},bs=function(){var o=this,l={},d=0,h=0,p=[],g=[],v={},y=function S(E,k,I){E===I&&(h+=1),l[k]={id:d,low:d++,cutVertex:!1};var X,W,te,ne,$=o.getElementById(k).connectedEdges().intersection(o);0===$.size()?p.push(o.spawn(o.getElementById(k))):$.forEach(function(se){X=se.source().id(),W=se.target().id(),(te=X===k?W:X)!==I&&(ne=se.id(),v[ne]||(v[ne]=!0,g.push({x:k,y:te,edge:se})),te in l?l[k].low=Math.min(l[k].low,l[te].id):(S(E,te,k),l[k].low=Math.min(l[k].low,l[te].low),l[k].id<=l[te].low&&(l[k].cutVertex=!0,function(E,k){for(var I=g.length-1,$=[],X=o.spawn();g[I].x!=E||g[I].y!=k;)$.push(g.pop().edge),I--;$.push(g.pop().edge),$.forEach(function(W){var te=W.connectedNodes().intersection(o);X.merge(W),te.forEach(function(ne){var se=ne.id(),xe=ne.connectedEdges().intersection(o);X.merge(ne),X.merge(l[se].cutVertex?xe.filter(function(De){return De.isLoop()}):xe)})}),p.push(X)}(k,te))))})};o.forEach(function(S){if(S.isNode()){var E=S.id();E in l||(h=0,y(E,E),l[E].cutVertex=h>1)}});var w=Object.keys(l).filter(function(S){return l[S].cutVertex}).map(function(S){return o.getElementById(S)});return{cut:o.spawn(w),components:p}},cp=function(){var o=this,l={},d=0,h=[],p=[],g=o.spawn(o),v=function b(y){if(p.push(y),l[y]={index:d,low:d++,explored:!1},o.getElementById(y).connectedEdges().intersection(o).forEach(function($){var X=$.target().id();X!==y&&(X in l||b(X),l[X].explored||(l[y].low=Math.min(l[y].low,l[X].low)))}),l[y].index===l[y].low){for(var S=o.spawn();;){var E=p.pop();if(S.merge(o.getElementById(E)),l[E].low=l[y].index,l[E].explored=!0,E===y)break}var k=S.edgesWith(S),I=S.merge(k);h.push(I),g=g.difference(I)}};return o.forEach(function(b){if(b.isNode()){var y=b.id();y in l||v(y)}}),{cut:g,components:h}},Ym={};[_e,ze,Ot,ut,Ft,un,jt,Qc,Tu,Rs,Um,Hm,Mu,lp,up,uf,{hopcroftTarjanBiconnected:bs,htbc:bs,htb:bs,hopcroftTarjanBiconnectedComponents:bs},{tarjanStronglyConnected:cp,tsc:cp,tscc:cp,tarjanStronglyConnectedComponents:cp}].forEach(function(u){Wt(Ym,u)});var el=function u(o){if(!(this instanceof u))return new u(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};el.prototype={fulfill:function(o){return lb(this,1,"fulfillValue",o)},reject:function(o){return lb(this,2,"rejectReason",o)},then:function(o,l){var d=this,h=new el;return d.onFulfilled.push(db(o,h,"fulfill")),d.onRejected.push(db(l,h,"reject")),ub(d),h.proxy}};var lb=function(o,l,d,h){return 0===o.state&&(o.state=l,o[d]=h,ub(o)),o},ub=function(o){1===o.state?cb(o,"onFulfilled",o.fulfillValue):2===o.state&&cb(o,"onRejected",o.rejectReason)},cb=function(o,l,d){if(0!==o[l].length){var h=o[l];o[l]=[];var p=function(){for(var v=0;v<h.length;v++)h[v](d)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},db=function(o,l,d){return function(h){if("function"!=typeof o)l[d].call(l,h);else{var p;try{p=o(h)}catch(g){return void l.reject(g)}ZD(l,p)}}},ZD=function u(o,l){if(o!==l&&o.proxy!==l){var d;if("object"===ee(l)&&null!==l||"function"==typeof l)try{d=l.then}catch(p){return void o.reject(p)}if("function"!=typeof d)o.fulfill(l);else{var h=!1;try{d.call(l,function(p){h||(h=!0,p===l?o.reject(new TypeError("circular thenable chain")):u(o,p))},function(p){h||(h=!0,o.reject(p))})}catch(p){h||o.reject(p)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};el.all=function(u){return new el(function(o,l){for(var d=new Array(u.length),h=0,p=function(b,y){d[b]=y,++h===u.length&&o(d)},g=0;g<u.length;g++)!function(v){var b=u[v];null!=b&&null!=b.then?b.then(function(S){p(v,S)},function(S){l(S)}):p(v,b)}(g)})},el.resolve=function(u){return new el(function(o,l){o(u)})},el.reject=function(u){return new el(function(o,l){l(u)})};var Hc=typeof Promise<"u"?Promise:el,qm=function(o,l,d){var h=ht(o),p=!h,g=this._private=Wt({duration:1e3},l,d);if(g.target=o,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&Xe(g.complete)&&g.completes.push(g.complete),p){var v=o.position();g.startPosition=g.startPosition||{x:v.x,y:v.y},g.startStyle=g.startStyle||o.cy().style().getAnimationStartStyle(o,g.style)}if(h){var b=o.pan();g.startPan={x:b.x,y:b.y},g.startZoom=o.zoom()}this.length=1,this[0]=this},Iu=qm.prototype;Wt(Iu,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var d=o.target._private.animation;(o.queue?d.queue:d.current).push(this),Ne(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var l=this._private;return void 0===o?l.progress*l.duration:this.progress(o/l.duration)},progress:function(o){var l=this._private,d=l.playing;return void 0===o?l.progress:(d&&this.pause(),l.progress=o,l.started=!1,d&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,l=o.playing;l&&this.pause(),o.progress=1-o.progress,o.started=!1;var d=function(y,w){var S=o[y];null!=S&&(o[y]=o[w],o[w]=S)};if(d("zoom","startZoom"),d("pan","startPan"),d("position","startPosition"),o.style)for(var h=0;h<o.style.length;h++){var p=o.style[h],g=p.name,v=o.startStyle[g];o.startStyle[g]=p,o.style[h]=v}return l&&this.play(),this},promise:function(o){var d,l=this._private;return d="frame"===o?l.frames:l.completes,new Hc(function(h,p){d.push(function(){h()})})}}),Iu.complete=Iu.completed,Iu.run=Iu.play,Iu.running=Iu.playing;var Jm={data:function(o){return o=Wt({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(h){},beforeSet:function(h,p){},onSet:function(h){},canSet:function(h){return!0}},o),function(h,p){var g=o,v=this,b=void 0!==v.length,y=b?v:[v],w=b?v[0]:v;if(me(h)){var k,E=-1!==h.indexOf(".")&&Y.default(h);if(g.allowGetting&&void 0===p)return w&&(g.beforeGet(w),k=E&&void 0===w._private[g.field][h]?B.default(w._private[g.field],E):w._private[g.field][h]),k;if(g.allowSetting&&void 0!==p&&!g.immutableKeys[h]){var $=q({},h,p);g.beforeSet(v,$);for(var X=0,W=y.length;X<W;X++){var te=y[X];g.canSet(te)&&(E&&void 0===w._private[g.field][h]?F.default(te._private[g.field],E,p):te._private[g.field][h]=p)}g.updateStyle&&v.updateStyle(),g.onSet(v),g.settingTriggersEvent&&v[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&Ae(h)){var se,xe,ne=h,De=Object.keys(ne);g.beforeSet(v,ne);for(var ae=0;ae<De.length;ae++)if(xe=ne[se=De[ae]],!g.immutableKeys[se])for(var de=0;de<y.length;de++){var Me=y[de];g.canSet(Me)&&(Me._private[g.field][se]=xe)}g.updateStyle&&v.updateStyle(),g.onSet(v),g.settingTriggersEvent&&v[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&Xe(h))v.on(g.bindingEvent,h);else if(g.allowGetting&&void 0===h){var pe;return w&&(g.beforeGet(w),pe=w._private[g.field]),pe}return v}},removeData:function(o){return o=Wt({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(h){var p=o,g=this,b=void 0!==g.length?g:[g];if(me(h)){for(var y=h.split(/\s+/),w=y.length,S=0;S<w;S++){var E=y[S];if(!je(E)&&!p.immutableKeys[E])for(var I=0,$=b.length;I<$;I++)b[I]._private[p.field][E]=void 0}p.triggerEvent&&g[p.triggerFnName](p.event)}else if(void 0===h){for(var X=0,W=b.length;X<W;X++)for(var te=b[X]._private[p.field],ne=Object.keys(te),se=0;se<ne.length;se++){var xe=ne[se];!p.immutableKeys[xe]&&(te[xe]=void 0)}p.triggerEvent&&g[p.triggerFnName](p.event)}return g}}},YD={eventAliasesOn:function(o){var l=o;l.addListener=l.listen=l.bind=l.on,l.unlisten=l.unbind=l.off=l.removeListener,l.trigger=l.emit,l.pon=l.promiseOn=function(d,h){var p=this,g=Array.prototype.slice.call(arguments,0);return new Hc(function(v,b){var w=g.concat([function(k){p.off.apply(p,S),v(k)}]),S=w.concat([]);p.on.apply(p,w)})}}},pr={};[{animated:function(){return function(){var l=this,h=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return!1;var g=h[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var l=this,h=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<h.length;g++)h[g]._private.animation.queue=[];return this}},delay:function(){return function(l,d){return(this._private.cy||this).styleEnabled()?this.animate({delay:l,duration:l,complete:d}):this}},delayAnimation:function(){return function(l,d){return(this._private.cy||this).styleEnabled()?this.animation({delay:l,duration:l,complete:d}):this}},animation:function(){return function(l,d){var h=this,p=void 0!==h.length,g=p?h:[h],v=this._private.cy||this,b=!p,y=!b;if(!v.styleEnabled())return this;var w=v.style();if(l=Wt({},l,d),0===Object.keys(l).length)return new qm(g[0],l);switch(void 0===l.duration&&(l.duration=400),l.duration){case"slow":l.duration=600;break;case"fast":l.duration=200}if(y&&(l.style=w.getPropsList(l.style||l.css),l.css=void 0),y&&null!=l.renderedPosition){var E=l.renderedPosition,k=v.pan(),I=v.zoom();l.position=Un(E,I,k)}if(b&&null!=l.panBy){var $=l.panBy,X=v.pan();l.pan={x:X.x+$.x,y:X.y+$.y}}var W=l.center||l.centre;if(b&&null!=W){var te=v.getCenterPan(W.eles,l.zoom);null!=te&&(l.pan=te)}if(b&&null!=l.fit){var ne=l.fit,se=v.getFitViewport(ne.eles||ne.boundingBox,ne.padding);null!=se&&(l.pan=se.pan,l.zoom=se.zoom)}if(b&&Ae(l.zoom)){var xe=v.getZoomedViewport(l.zoom);null!=xe?(xe.zoomed&&(l.zoom=xe.zoom),xe.panned&&(l.pan=xe.pan)):l.zoom=null}return new qm(g[0],l)}},animate:function(){return function(l,d){var h=this,g=void 0!==h.length?h:[h];if(!(this._private.cy||this).styleEnabled())return this;d&&(l=Wt({},l,d));for(var b=0;b<g.length;b++){var y=g[b],w=y.animated()&&(void 0===l.queue||l.queue);y.animation(l,w?{queue:!0}:void 0).play()}return this}},stop:function(){return function(l,d){var h=this,g=void 0!==h.length?h:[h],v=this._private.cy||this;if(!v.styleEnabled())return this;for(var b=0;b<g.length;b++){for(var w=g[b]._private,S=w.animation.current,E=0;E<S.length;E++)d&&(S[E]._private.duration=0);l&&(w.animation.queue=[]),d||(w.animation.current=[])}return v.notify("draw"),this}}},Jm,YD].forEach(function(u){Wt(pr,u)});var qD={animate:pr.animate(),animation:pr.animation(),animated:pr.animated(),clearQueue:pr.clearQueue(),delay:pr.delay(),delayAnimation:pr.delayAnimation(),stop:pr.stop()},Uo={classes:function(o){var l=this;if(void 0===o){var d=[];return l[0]._private.classes.forEach(function(I){return d.push(I)}),d}Ve(o)||(o=(o||"").match(/\S+/g)||[]);for(var h=[],p=new ua(o),g=0;g<l.length;g++){for(var v=l[g],b=v._private,y=b.classes,w=!1,S=0;S<o.length;S++)if(!y.has(o[S])){w=!0;break}w||(w=y.size!==o.length),w&&(b.classes=p,h.push(v))}return h.length>0&&this.spawn(h).updateStyle().emit("class"),l},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var l=this[0];return null!=l&&l._private.classes.has(o)},toggleClass:function(o,l){Ve(o)||(o=o.match(/\S+/g)||[]);for(var d=this,h=void 0===l,p=[],g=0,v=d.length;g<v;g++)for(var b=d[g],y=b._private.classes,w=!1,S=0;S<o.length;S++){var E=o[S],k=y.has(E),I=!1;l||h&&!k?(y.add(E),I=!0):(!l||h&&k)&&(y.delete(E),I=!0),!w&&I&&(p.push(b),w=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),d},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,l){var d=this;if(null==l)l=250;else if(0===l)return d;return d.addClass(o),setTimeout(function(){d.removeClass(o)},l),d}};Uo.className=Uo.classNames=Uo.classes;var Jn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:on,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Jn.variable="(?:[\\w-.]|(?:\\\\"+Jn.metaChar+"))+",Jn.className="(?:[\\w-]|(?:\\\\"+Jn.metaChar+"))+",Jn.value=Jn.string+"|"+Jn.number,Jn.id=Jn.variable,function(){var u,o,l;for(u=Jn.comparatorOp.split("|"),l=0;l<u.length;l++)Jn.comparatorOp+="|@"+(o=u[l]);for(u=Jn.comparatorOp.split("|"),l=0;l<u.length;l++)!((o=u[l]).indexOf("!")>=0)&&"="!==o&&(Jn.comparatorOp+="|\\!"+o)}();var dp=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(u,o){return function(o,l){return-1*hs(o,l)}(u.selector,o.selector)}),fb=function(){for(var o,u={},l=0;l<dp.length;l++)u[(o=dp[l]).selector]=o.matches;return u}(),tv="("+dp.map(function(u){return u.selector}).join("|")+")",Pu=function(o){return o.replace(new RegExp("\\\\("+Jn.metaChar+")","g"),function(l,d){return d})},zo=function(o,l,d){o[o.length-1]=d},fp=[{name:"group",query:!0,regex:"("+Jn.group+")",populate:function(o,l,d){var p=le(d,1)[0];l.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:tv,populate:function(o,l,d){var h=le(d,1);l.checks.push({type:7,value:h[0]})}},{name:"id",query:!0,regex:"\\#("+Jn.id+")",populate:function(o,l,d){var h=le(d,1);l.checks.push({type:8,value:Pu(h[0])})}},{name:"className",query:!0,regex:"\\.("+Jn.className+")",populate:function(o,l,d){var h=le(d,1);l.checks.push({type:9,value:Pu(h[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Jn.variable+")\\s*\\]",populate:function(o,l,d){var h=le(d,1);l.checks.push({type:4,field:Pu(h[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Jn.variable+")\\s*("+Jn.comparatorOp+")\\s*("+Jn.value+")\\s*\\]",populate:function(o,l,d){var h=le(d,3),p=h[0],g=h[1],v=h[2];v=null!=new RegExp("^"+Jn.string+"$").exec(v)?v.substring(1,v.length-1):parseFloat(v),l.checks.push({type:3,field:Pu(p),operator:g,value:v})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Jn.boolOp+")\\s*("+Jn.variable+")\\s*\\]",populate:function(o,l,d){var h=le(d,2),p=h[0];l.checks.push({type:5,field:Pu(h[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Jn.meta+")\\s*("+Jn.comparatorOp+")\\s*("+Jn.number+")\\s*\\]\\]",populate:function(o,l,d){var h=le(d,3),g=h[1],v=h[2];l.checks.push({type:6,field:Pu(h[0]),operator:g,value:parseFloat(v)})}},{name:"nextQuery",separator:!0,regex:Jn.separator,populate:function(o,l){var d=o.currentSubject,h=o.edgeCount,p=o.compoundCount,g=o[o.length-1];return null!=d&&(g.subject=d,o.currentSubject=null),g.edgeCount=h,g.compoundCount=p,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Jn.directedEdge,populate:function(o,l){if(null==o.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:11,source:l,target:p}),zo(o,0,d),o.edgeCount++,p}var g={checks:[]},b={checks:[]};return g.checks.push({type:12,source:l,target:b}),zo(o,0,g),o.edgeCount++,b}},{name:"undirectedEdge",separator:!0,regex:Jn.undirectedEdge,populate:function(o,l){if(null==o.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:10,nodes:[l,p]}),zo(o,0,d),o.edgeCount++,p}var g={checks:[]},b={checks:[]};return g.checks.push({type:14,node:l,neighbor:b}),zo(o,0,g),b}},{name:"child",separator:!0,regex:Jn.child,populate:function(o,l){if(null==o.currentSubject){var d={checks:[]},h={checks:[]};return d.checks.push({type:15,parent:o[o.length-1],child:h}),zo(o,0,d),o.compoundCount++,h}if(o.currentSubject===l){var g={checks:[]},b={checks:[]},y={checks:[]},w={checks:[]},S={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:b,subject:y}),y.checks=l.checks,l.checks=[{type:20}],S.checks.push({type:20}),b.checks.push({type:17,parent:S,child:w}),zo(o,0,g),o.currentSubject=y,o.compoundCount++,w}var E={checks:[]},k={checks:[]},I=[{type:17,parent:E,child:k}];return E.checks=l.checks,l.checks=I,o.compoundCount++,k}},{name:"descendant",separator:!0,regex:Jn.descendant,populate:function(o,l){if(null==o.currentSubject){var d={checks:[]},h={checks:[]};return d.checks.push({type:16,ancestor:o[o.length-1],descendant:h}),zo(o,0,d),o.compoundCount++,h}if(o.currentSubject===l){var g={checks:[]},b={checks:[]},y={checks:[]},w={checks:[]},S={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:b,subject:y}),y.checks=l.checks,l.checks=[{type:20}],S.checks.push({type:20}),b.checks.push({type:18,ancestor:S,descendant:w}),zo(o,0,g),o.currentSubject=y,o.compoundCount++,w}var E={checks:[]},k={checks:[]},I=[{type:18,ancestor:E,descendant:k}];return E.checks=l.checks,l.checks=I,o.compoundCount++,k}},{name:"subject",modifier:!0,regex:Jn.subject,populate:function(o,l){if(null!=o.currentSubject&&o.currentSubject!==l)return tr("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=l;var h=o[o.length-1].checks[0],p=null==h?null:h.type;11===p?h.type=13:10===p&&(h.type=14,h.node=h.nodes[1],h.neighbor=h.nodes[0],h.nodes=null)}}];fp.forEach(function(u){return u.regexObj=new RegExp("^"+u.regex)});var oo=function(o){for(var l,d,h,p=0;p<fp.length;p++){var g=fp[p],v=g.name,b=o.match(g.regexObj);if(null!=b){d=b,l=g,h=v,o=o.substring(b[0].length);break}}return{expr:l,match:d,name:h,remaining:o}},hb={parse:function(o){var l=this,d=l.inputText=o,h=l[0]={checks:[]};for(l.length=1,d=function(o){var l=o.match(/^\s+/);return l&&(o=o.substring(l[0].length)),o}(d);;){var p=oo(d);if(null==p.expr)return tr("The selector `"+o+"`is invalid"),!1;var g=p.match.slice(1),v=p.expr.populate(l,h,g);if(!1===v)return!1;if(null!=v&&(h=v),(d=p.remaining).match(/^\s*$/))break}var b=l[l.length-1];null!=l.currentSubject&&(b.subject=l.currentSubject),b.edgeCount=l.edgeCount,b.compoundCount=l.compoundCount;for(var y=0;y<l.length;y++){var w=l[y];if(w.compoundCount>0&&w.edgeCount>0)return tr("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(w.edgeCount>1)return tr("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===w.edgeCount&&tr("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(w){return w??""},l=function(w){return me(w)?'"'+w+'"':o(w)},d=function(w){return" "+w+" "},p=function(w,S){return w.checks.reduce(function(E,k,I){return E+(S===w&&0===I?"$":"")+function(w,S){var k=w.value;switch(w.type){case 0:var I=o(k);return I.substring(0,I.length-1);case 3:return"["+w.field+d(o(w.operator))+l(k)+"]";case 5:var te=w.field;return"["+o(w.operator)+te+"]";case 4:return"["+w.field+"]";case 6:return"[["+w.field+d(o(w.operator))+l(k)+"]]";case 7:return k;case 8:return"#"+k;case 9:return"."+k;case 17:case 15:return p(w.parent,S)+d(">")+p(w.child,S);case 18:case 16:return p(w.ancestor,S)+" "+p(w.descendant,S);case 19:var De=p(w.left,S),ae=p(w.subject,S),Oe=p(w.right,S);return De+(De.length>0?" ":"")+ae+Oe;case 20:return""}}(k,S)},"")},g="",v=0;v<this.length;v++){var b=this[v];g+=p(b,b.subject),this.length>1&&v<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},Xc=function(o,l,d){var h,b,y,p=me(o),g=he(o),v=me(d),w=!1,S=!1,E=!1;switch(l.indexOf("!")>=0&&(l=l.replace("!",""),S=!0),l.indexOf("@")>=0&&(l=l.replace("@",""),w=!0),(p||v||w)&&(b=p||g?""+o:"",y=""+d),w&&(o=b=b.toLowerCase(),d=y=y.toLowerCase()),l){case"*=":h=b.indexOf(y)>=0;break;case"$=":h=b.indexOf(y,b.length-y.length)>=0;break;case"^=":h=0===b.indexOf(y);break;case"=":h=o===d;break;case">":E=!0,h=o>d;break;case">=":E=!0,h=o>=d;break;case"<":E=!0,h=o<d;break;case"<=":E=!0,h=o<=d;break;default:h=!1}return S&&(null!=o||!E)&&(h=!h),h},cf=function(o,l){return o.data(l)},Yn=[],Cr=function(o,l){return o.checks.every(function(d){return Yn[d.type](d,l)})};Yn[0]=function(u,o){var l=u.value;return"*"===l||l===o.group()},Yn[7]=function(u,o){return function(o,l){return fb[o](l)}(u.value,o)},Yn[8]=function(u,o){var l=u.value;return o.id()===l},Yn[9]=function(u,o){return o.hasClass(u.value)},Yn[6]=function(u,o){var d=u.operator,h=u.value;return Xc(function(o,l){return o[l]()}(o,u.field),d,h)},Yn[3]=function(u,o){var d=u.operator,h=u.value;return Xc(cf(o,u.field),d,h)},Yn[5]=function(u,o){var d=u.operator;return function(o,l){switch(l){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(cf(o,u.field),d)},Yn[4]=function(u,o){return function(o){return void 0!==o}(cf(o,u.field))},Yn[10]=function(u,o){var l=u.nodes[0],d=u.nodes[1],h=o.source(),p=o.target();return Cr(l,h)&&Cr(d,p)||Cr(d,h)&&Cr(l,p)},Yn[14]=function(u,o){return Cr(u.node,o)&&o.neighborhood().some(function(l){return l.isNode()&&Cr(u.neighbor,l)})},Yn[11]=function(u,o){return Cr(u.source,o.source())&&Cr(u.target,o.target())},Yn[12]=function(u,o){return Cr(u.source,o)&&o.outgoers().some(function(l){return l.isNode()&&Cr(u.target,l)})},Yn[13]=function(u,o){return Cr(u.target,o)&&o.incomers().some(function(l){return l.isNode()&&Cr(u.source,l)})},Yn[15]=function(u,o){return Cr(u.child,o)&&Cr(u.parent,o.parent())},Yn[17]=function(u,o){return Cr(u.parent,o)&&o.children().some(function(l){return Cr(u.child,l)})},Yn[16]=function(u,o){return Cr(u.descendant,o)&&o.ancestors().some(function(l){return Cr(u.ancestor,l)})},Yn[18]=function(u,o){return Cr(u.ancestor,o)&&o.descendants().some(function(l){return Cr(u.descendant,l)})},Yn[19]=function(u,o){return Cr(u.subject,o)&&Cr(u.left,o)&&Cr(u.right,o)},Yn[20]=function(){return!0},Yn[1]=function(u,o){return u.value.has(o)},Yn[2]=function(u,o){return(0,u.value)(o)};var tl={matches:function(o){for(var d=0;d<this.length;d++)if(Cr(this[d],o))return!0;return!1},filter:function(o){var l=this;if(1===l.length&&1===l[0].checks.length&&8===l[0].checks[0].type)return o.getElementById(l[0].checks[0].value).collection();var d=function(p){for(var g=0;g<l.length;g++)if(Cr(l[g],p))return!0;return!1};return null==l.text()&&(d=function(){return!0}),o.filter(d)}},ma=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||me(o)&&o.match(/^\s*$/)||(Ne(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):Xe(o)?this.addQuery({checks:[{type:2,value:o}]}):me(o)?this.parse(o)||(this.invalid=!0):gr("A selector must be created from a string; found "))},jo=ma.prototype;[hb,tl].forEach(function(u){return Wt(jo,u)}),jo.text=function(){return this.inputText},jo.size=function(){return this.length},jo.eq=function(u){return this[u]},jo.sameText=function(u){return!this.invalid&&!u.invalid&&this.text()===u.text()},jo.addQuery=function(u){this[this.length++]=u},jo.selector=jo.toString;var dn={allAre:function(o){var l=new ma(o);return this.every(function(d){return l.matches(d)})},is:function(o){var l=new ma(o);return this.some(function(d){return l.matches(d)})},some:function(o,l){for(var d=0;d<this.length;d++)if(l?o.apply(l,[this[d],d,this]):o(this[d],d,this))return!0;return!1},every:function(o,l){for(var d=0;d<this.length;d++)if(!(l?o.apply(l,[this[d],d,this]):o(this[d],d,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var l=this.length;return l===o.length&&(1===l?this[0]===o[0]:this.every(function(h){return o.hasElementWithId(h.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(l){return o.hasElementWithId(l.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var l=this.neighborhood();return o.every(function(d){return l.hasElementWithId(d.id())})},contains:function(o){o=this.cy().collection(o);var l=this;return o.every(function(d){return l.hasElementWithId(d.id())})}};dn.allAreNeighbours=dn.allAreNeighbors,dn.has=dn.contains,dn.equal=dn.equals=dn.same;var Wc,av,Fs=function(o,l){return function(h,p,g,v){var w,b=h,y=this;if(null==b?w="":Ne(b)&&1===b.length&&(w=b.id()),1===y.length&&w){var S=y[0]._private,E=S.traversalCache=S.traversalCache||{},k=E[l]=E[l]||[],I=la(w);return k[I]||(k[I]=o.call(y,h,p,g,v))}return o.call(y,h,p,g,v)}},Gc={parent:function(o){var l=[];if(1===this.length){var d=this[0]._private.parent;if(d)return d}for(var h=0;h<this.length;h++){var g=this[h]._private.parent;g&&l.push(g)}return this.spawn(l,!0).filter(o)},parents:function(o){for(var l=[],d=this.parent();d.nonempty();){for(var h=0;h<d.length;h++)l.push(d[h]);d=d.parent()}return this.spawn(l,!0).filter(o)},commonAncestors:function(o){for(var l,d=0;d<this.length;d++){var p=this[d].parents();l=(l=l||p).intersect(p)}return l.filter(o)},orphans:function(o){return this.stdFilter(function(l){return l.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(l){return l.isChild()}).filter(o)},children:Fs(function(u){for(var o=[],l=0;l<this.length;l++)for(var h=this[l]._private.children,p=0;p<h.length;p++)o.push(h[p]);return this.spawn(o,!0).filter(u)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var l=[];return function d(h){for(var p=0;p<h.length;p++){var g=h[p];l.push(g),g.children().nonempty()&&d(g.children())}}(this.children()),this.spawn(l,!0).filter(o)}};function hp(u,o,l,d){for(var h=[],p=new ua,v=u.cy().hasCompoundNodes(),b=0;b<u.length;b++){var y=u[b];l?h.push(y):v&&d(h,p,y)}for(;h.length>0;){var w=h.shift();o(w),p.add(w.id()),v&&d(h,p,w)}return u}function iv(u,o,l){if(l.isParent())for(var d=l._private.children,h=0;h<d.length;h++){var p=d[h];o.has(p.id())||u.push(p)}}function sv(u,o,l){if(l.isChild()){var d=l._private.parent;o.has(d.id())||u.push(d)}}function ov(u,o,l){sv(u,o,l),iv(u,o,l)}Gc.forEachDown=function(u){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return hp(this,u,o,iv)},Gc.forEachUp=function(u){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return hp(this,u,o,sv)},Gc.forEachUpAndDown=function(u){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return hp(this,u,o,ov)},Gc.ancestors=Gc.parents,Wc=av={data:pr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:pr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:pr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:pr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:pr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:pr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},Wc.attr=Wc.data,Wc.removeAttr=Wc.removeData;var Ct=av,Ln={};function nl(u){return function(o){var l=this;if(void 0===o&&(o=!0),0===l.length);else if(l.isNode()&&!l.removed()){for(var d=0,h=l[0],p=h._private.edges,g=0;g<p.length;g++){var v=p[g];!o&&v.isLoop()||(d+=u(h,v))}return d}}}function Do(u,o){return function(l){for(var d,h=this.nodes(),p=0;p<h.length;p++){var v=h[p][u](l);void 0!==v&&(void 0===d||o(v,d))&&(d=v)}return d}}Wt(Ln,{degree:nl(function(u,o){return o.source().same(o.target())?2:1}),indegree:nl(function(u,o){return o.target().same(u)?1:0}),outdegree:nl(function(u,o){return o.source().same(u)?1:0})}),Wt(Ln,{minDegree:Do("degree",function(u,o){return u<o}),maxDegree:Do("degree",function(u,o){return u>o}),minIndegree:Do("indegree",function(u,o){return u<o}),maxIndegree:Do("indegree",function(u,o){return u>o}),minOutdegree:Do("outdegree",function(u,o){return u<o}),maxOutdegree:Do("outdegree",function(u,o){return u>o})}),Wt(Ln,{totalDegree:function(o){for(var l=0,d=this.nodes(),h=0;h<d.length;h++)l+=d[h].degree(o);return l}});var yr,pp,Nu=function(o,l,d){for(var h=0;h<o.length;h++){var p=o[h];if(!p.locked()){var g=p._private.position,v={x:null!=l.x?l.x-g.x:0,y:null!=l.y?l.y-g.y:0};p.isParent()&&!(0===v.x&&0===v.y)&&p.children().shift(v,d),p.dirtyBoundingBoxCache()}}},Co={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,l){Nu(o,l,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};yr=pp={position:pr.data(Co),silentPosition:pr.data(Wt({},Co,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,l){Nu(o,l,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,l){if(Ae(o))l?this.silentPosition(o):this.position(o);else if(Xe(o)){var d=o,h=this.cy();h.startBatch();for(var p=0;p<this.length;p++){var v,g=this[p];(v=d(g,p))&&(l?g.silentPosition(v):g.position(v))}h.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,l,d){var h;if(Ae(o)?(h={x:he(o.x)?o.x:0,y:he(o.y)?o.y:0},d=l):me(o)&&he(l)&&((h={x:0,y:0})[o]=l),null!=h){var p=this.cy();p.startBatch();for(var g=0;g<this.length;g++){var v=this[g];if(!(p.hasCompoundNodes()&&v.isChild()&&v.ancestors().anySame(this))){var b=v.position(),y={x:b.x+h.x,y:b.y+h.y};d?v.silentPosition(y):v.position(y)}}p.endBatch()}return this},silentShift:function(o,l){return Ae(o)?this.shift(o,!0):me(o)&&he(l)&&this.shift(o,l,!0),this},renderedPosition:function(o,l){var d=this[0],h=this.cy(),p=h.zoom(),g=h.pan(),v=Ae(o)?o:void 0,b=void 0!==v||void 0!==l&&me(o);if(d&&d.isNode()){if(!b){var S=d.position();return v=Vn(S,p,g),void 0===o?v:v[o]}for(var y=0;y<this.length;y++){var w=this[y];void 0!==l?w.position(o,(l-g[o])/p):void 0!==v&&w.position(Un(v,p,g))}}else if(!b)return;return this},relativePosition:function(o,l){var d=this[0],h=this.cy(),p=Ae(o)?o:void 0,g=void 0!==p||void 0!==l&&me(o),v=h.hasCompoundNodes();if(d&&d.isNode()){if(!g){var I=d.position(),$=v?d.parent():null,X=$&&$.length>0;X&&($=$[0]);var te=X?$.position():{x:0,y:0};return p={x:I.x-te.x,y:I.y-te.y},void 0===o?p:p[o]}for(var b=0;b<this.length;b++){var y=this[b],w=v?y.parent():null,S=w&&w.length>0;S&&(w=w[0]);var k=S?w.position():{x:0,y:0};void 0!==l?y.position(o,l+k[o]):void 0!==p&&y.position({x:p.x+k.x,y:p.y+k.y})}}else if(!g)return;return this}},yr.modelPosition=yr.point=yr.position,yr.modelPositions=yr.points=yr.positions,yr.renderedPoint=yr.renderedPosition,yr.relativePoint=yr.relativePosition;var rl,il,gp=pp;rl=il={},il.renderedBoundingBox=function(u){var o=this.boundingBox(u),l=this.cy(),d=l.zoom(),h=l.pan(),p=o.x1*d+h.x,g=o.x2*d+h.x,v=o.y1*d+h.y,b=o.y2*d+h.y;return{x1:p,x2:g,y1:v,y2:b,w:g-p,h:b-v}},il.dirtyCompoundBoundsCache=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(l){if(l.isParent()){var d=l._private;d.compoundBoundsClean=!1,d.bbCache=null,u||l.emitAndNotify("bounds")}}),this):this},il.updateCompoundBounds=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!u&&o.batching())return this;function l(g){if(g.isParent()){var v=g._private,b=g.children(),y="include"===g.pstyle("compound-sizing-wrt-labels").value,w={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},S=b.boundingBox({includeLabels:y,includeOverlays:!1,useCache:!1}),E=v.position;(0===S.w||0===S.h)&&((S={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=E.x-S.w/2,S.x2=E.x+S.w/2,S.y1=E.y-S.h/2,S.y2=E.y+S.h/2);var $=w.width.left.value;"px"===w.width.left.units&&w.width.val>0&&($=100*$/w.width.val);var X=w.width.right.value;"px"===w.width.right.units&&w.width.val>0&&(X=100*X/w.width.val);var W=w.height.top.value;"px"===w.height.top.units&&w.height.val>0&&(W=100*W/w.height.val);var te=w.height.bottom.value;"px"===w.height.bottom.units&&w.height.val>0&&(te=100*te/w.height.val);var ne=k(w.width.val-S.w,$,X),se=ne.biasDiff,xe=ne.biasComplementDiff,De=k(w.height.val-S.h,W,te),ae=De.biasDiff,Oe=De.biasComplementDiff;v.autoPadding=function I(de,Me,Te,pe){if("%"!==Te.units)return"px"===Te.units?Te.pfValue:0;switch(pe){case"width":return de>0?Te.pfValue*de:0;case"height":return Me>0?Te.pfValue*Me:0;case"average":return de>0&&Me>0?Te.pfValue*(de+Me)/2:0;case"min":return de>0&&Me>0?de>Me?Te.pfValue*Me:Te.pfValue*de:0;case"max":return de>0&&Me>0?de>Me?Te.pfValue*de:Te.pfValue*Me:0;default:return 0}}(S.w,S.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),v.autoWidth=Math.max(S.w,w.width.val),E.x=(-se+S.x1+S.x2+xe)/2,v.autoHeight=Math.max(S.h,w.height.val),E.y=(-ae+S.y1+S.y2+Oe)/2}function k(de,Me,Te){var pe=0,Fe=0,Ce=Me+Te;return de>0&&Ce>0&&(pe=Me/Ce*de,Fe=Te/Ce*de),{biasDiff:pe,biasComplementDiff:Fe}}}for(var d=0;d<this.length;d++){var h=this[d],p=h._private;(!p.compoundBoundsClean||u)&&(l(h),o.batching()||(p.compoundBoundsClean=!0))}return this};var Eo=function(o){return o===1/0||o===-1/0?0:o},ao=function(o,l,d,h,p){h-l==0||p-d==0||null==l||null==d||null==h||null==p||(o.x1=l<o.x1?l:o.x1,o.x2=h>o.x2?h:o.x2,o.y1=d<o.y1?d:o.y1,o.y2=p>o.y2?p:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},Wr=function(o,l){return null==l?o:ao(o,l.x1,l.y1,l.x2,l.y2)},Qs=function(o,l,d){return Js(o,l,d)},Zc=function(o,l,d){if(!l.cy().headless()){var b,y,h=l._private,p=h.rstyle,g=p.arrowWidth/2;if("none"!==l.pstyle(d+"-arrow-shape").value){"source"===d?(b=p.srcX,y=p.srcY):"target"===d?(b=p.tgtX,y=p.tgtY):(b=p.midX,y=p.midY);var w=h.arrowBounds=h.arrowBounds||{},S=w[d]=w[d]||{};S.x1=b-g,S.y1=y-g,S.x2=b+g,S.y2=y+g,S.w=S.x2-S.x1,S.h=S.y2-S.y1,Ir(S,1),ao(o,S.x1,S.y1,S.x2,S.y2)}}},sl=function(o,l,d){if(!l.cy().headless()){var h,p=l._private,g=p.rstyle;if(l.pstyle((h=d?d+"-":"")+"label").strValue){var Te,pe,Fe,Ce,b=l.pstyle("text-halign"),y=l.pstyle("text-valign"),w=Qs(g,"labelWidth",d),S=Qs(g,"labelHeight",d),E=Qs(g,"labelX",d),k=Qs(g,"labelY",d),I=l.pstyle(h+"text-margin-x").pfValue,$=l.pstyle(h+"text-margin-y").pfValue,X=l.isEdge(),W=l.pstyle(h+"text-rotation"),te=l.pstyle("text-outline-width").pfValue,se=l.pstyle("text-border-width").pfValue/2,xe=l.pstyle("text-background-padding").pfValue,ae=S,Oe=w,de=Oe/2,Me=ae/2;if(X)Te=E-de,pe=E+de,Fe=k-Me,Ce=k+Me;else{switch(b.value){case"left":Te=E-Oe,pe=E;break;case"center":Te=E-de,pe=E+de;break;case"right":Te=E,pe=E+Oe}switch(y.value){case"top":Fe=k-ae,Ce=k;break;case"center":Fe=k-Me,Ce=k+Me;break;case"bottom":Fe=k,Ce=k+ae}}Te+=I-Math.max(te,se)-xe-2,pe+=I+Math.max(te,se)+xe+2,Fe+=$-Math.max(te,se)-xe-2,Ce+=$+Math.max(te,se)+xe+2;var Ge=d||"main",$e=p.labelBounds,Ue=$e[Ge]=$e[Ge]||{};Ue.x1=Te,Ue.y1=Fe,Ue.x2=pe,Ue.y2=Ce,Ue.w=pe-Te,Ue.h=Ce-Fe;var Ye=X&&"autorotate"===W.strValue;if(Ye||null!=W.pfValue&&0!==W.pfValue){var at=Ye?Qs(p.rstyle,"labelAngle",d):W.pfValue,et=Math.cos(at),Ke=Math.sin(at),wt=(Te+pe)/2,xt=(Fe+Ce)/2;if(!X){switch(b.value){case"left":wt=pe;break;case"right":wt=Te}switch(y.value){case"top":xt=Ce;break;case"bottom":xt=Fe}}var yt=function(Dn,$t){return{x:(Dn-=wt)*et-($t-=xt)*Ke+wt,y:Dn*Ke+$t*et+xt}},mt=yt(Te,Fe),Ze=yt(Te,Ce),St=yt(pe,Fe),Dt=yt(pe,Ce);Te=Math.min(mt.x,Ze.x,St.x,Dt.x),pe=Math.max(mt.x,Ze.x,St.x,Dt.x),Fe=Math.min(mt.y,Ze.y,St.y,Dt.y),Ce=Math.max(mt.y,Ze.y,St.y,Dt.y)}var Nt=Ge+"Rot",Qt=$e[Nt]=$e[Nt]||{};Qt.x1=Te,Qt.y1=Fe,Qt.x2=pe,Qt.y2=Ce,Qt.w=pe-Te,Qt.h=Ce-Fe,ao(o,Te,Fe,pe,Ce),ao(p.labelBounds.all,Te,Fe,pe,Ce)}return o}},lv=function(o){var l=0,d=function(g){return(g?1:0)<<l++},h=0;return h+=d(o.incudeNodes),h+=d(o.includeEdges),h+=d(o.includeLabels),h+=d(o.includeMainLabels),h+=d(o.includeSourceLabels),(h+=d(o.includeTargetLabels))+d(o.includeOverlays)},mp=function(o){if(o.isEdge()){var l=o.source().position(),d=o.target().position(),h=function(g){return Math.round(g)};return function(o,l){var d={value:0,done:!1},h=0,p=o.length;return Tc({next:function(){return h<p?d.value=o[h++]:d.done=!0,d}},void 0)}([h(l.x),h(l.y),h(d.x),h(d.y)])}return 0},uv=function(o,l){var h,d=o._private,p=o.isEdge(),v=(null==l?ff:lv(l))===ff,b=mp(o),y=d.bbCachePosKey===b,w=l.useCache&&y,S=function($){return null==$._private.bbCache||$._private.styleDirty};if(!w||S(o)||p&&S(o.source())||S(o.target())?(y||o.recalculateRenderedStyle(w),h=function(o,l){var w,S,E,k,I,$,d=o._private.cy,h=d.styleEnabled(),p=d.headless(),g=xr(),v=o._private,b=o.isNode(),y=o.isEdge(),X=v.rstyle,W=b&&h?o.pstyle("bounds-expansion").pfValue:[0],te=function(ln){return"none"!==ln.pstyle("display").value},ne=!h||te(o)&&(!y||te(o.source())&&te(o.target()));if(ne){var xe=0;h&&l.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(xe=o.pstyle("overlay-padding").value);var ae=0;h&&l.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(ae=o.pstyle("underlay-padding").value);var Oe=Math.max(xe,ae),Me=0;if(h&&(Me=o.pstyle("width").pfValue/2),b&&l.includeNodes){var Te=o.position();I=Te.x,$=Te.y;var Fe=o.outerWidth()/2,Ge=o.outerHeight()/2;ao(g,w=I-Fe,E=$-Ge,S=I+Fe,k=$+Ge)}else if(y&&l.includeEdges)if(h&&!p){var $e=o.pstyle("curve-style").strValue;if(w=Math.min(X.srcX,X.midX,X.tgtX),S=Math.max(X.srcX,X.midX,X.tgtX),E=Math.min(X.srcY,X.midY,X.tgtY),k=Math.max(X.srcY,X.midY,X.tgtY),ao(g,w-=Me,E-=Me,S+=Me,k+=Me),"haystack"===$e){var Ue=X.haystackPts;if(Ue&&2===Ue.length){if((w=Ue[0].x)>(S=Ue[1].x)){var Ye=w;w=S,S=Ye}if((E=Ue[0].y)>(k=Ue[1].y)){var tt=E;E=k,k=tt}ao(g,w-Me,E-Me,S+Me,k+Me)}}else if("bezier"===$e||"unbundled-bezier"===$e||"segments"===$e||"taxi"===$e){var at;switch($e){case"bezier":case"unbundled-bezier":at=X.bezierPts;break;case"segments":case"taxi":at=X.linePts}if(null!=at)for(var et=0;et<at.length;et++){var Ke=at[et];ao(g,w=Ke.x-Me,E=Ke.y-Me,S=Ke.x+Me,k=Ke.y+Me)}}}else{var xt=o.source().position(),mt=o.target().position();if((w=xt.x)>(S=mt.x)){var Ze=w;w=S,S=Ze}if((E=xt.y)>(k=mt.y)){var St=E;E=k,k=St}ao(g,w-=Me,E-=Me,S+=Me,k+=Me)}if(h&&l.includeEdges&&y&&(Zc(g,o,"mid-source"),Zc(g,o,"mid-target"),Zc(g,o,"source"),Zc(g,o,"target")),h&&"yes"===o.pstyle("ghost").value){var Nt=o.pstyle("ghost-offset-x").pfValue,Qt=o.pstyle("ghost-offset-y").pfValue;ao(g,g.x1+Nt,g.y1+Qt,g.x2+Nt,g.y2+Qt)}var vn=v.bodyBounds=v.bodyBounds||{};Ya(vn,g),yo(vn,W),Ir(vn,1),h&&ao(g,(w=g.x1)-Oe,(E=g.y1)-Oe,(S=g.x2)+Oe,(k=g.y2)+Oe);var Dn=v.overlayBounds=v.overlayBounds||{};Ya(Dn,g),yo(Dn,W),Ir(Dn,1);var $t=v.labelBounds=v.labelBounds||{};null!=$t.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}($t.all):$t.all=xr(),h&&l.includeLabels&&(l.includeMainLabels&&sl(g,o,null),y&&(l.includeSourceLabels&&sl(g,o,"source"),l.includeTargetLabels&&sl(g,o,"target")))}return g.x1=Eo(g.x1),g.y1=Eo(g.y1),g.x2=Eo(g.x2),g.y2=Eo(g.y2),g.w=Eo(g.x2-g.x1),g.h=Eo(g.y2-g.y1),g.w>0&&g.h>0&&ne&&(yo(g,W),Ir(g,1)),g}(o,Yc),d.bbCache=h,d.bbCachePosKey=b):h=d.bbCache,!v){var k=o.isNode();h=xr(),(l.includeNodes&&k||l.includeEdges&&!k)&&Wr(h,l.includeOverlays?d.overlayBounds:d.bodyBounds),l.includeLabels&&(l.includeMainLabels&&(!p||l.includeSourceLabels&&l.includeTargetLabels)?Wr(h,d.labelBounds.all):(l.includeMainLabels&&Wr(h,d.labelBounds.mainRot),l.includeSourceLabels&&Wr(h,d.labelBounds.sourceRot),l.includeTargetLabels&&Wr(h,d.labelBounds.targetRot))),h.w=h.x2-h.x1,h.h=h.y2-h.y1}return h},Yc={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},ff=lv(Yc),hf=ni(Yc);il.boundingBox=function(u){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==u&&void 0!==u.useCache&&!0!==u.useCache){o=xr();var l=hf(u=u||Yc),d=this;if(d.cy().styleEnabled())for(var g=0;g<d.length;g++){var v=d[g],b=v._private,y=mp(v);v.recalculateRenderedStyle(l.useCache&&b.bbCachePosKey===y&&!b.styleDirty)}this.updateCompoundBounds(!u.useCache);for(var E=0;E<d.length;E++)Wr(o,uv(d[E],l))}else u=void 0===u?Yc:hf(u),o=uv(this[0],u);return o.x1=Eo(o.x1),o.y1=Eo(o.y1),o.x2=Eo(o.x2),o.y2=Eo(o.y2),o.w=Eo(o.x2-o.x1),o.h=Eo(o.y2-o.y1),o},il.dirtyBoundingBoxCache=function(){for(var u=0;u<this.length;u++){var o=this[u]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},il.boundingBoxAt=function(u){var o=this.nodes(),l=this.cy(),d=l.hasCompoundNodes(),h=l.collection();if(d&&(h=o.filter(function(y){return y.isParent()}),o=o.not(h)),Ae(u)){var p=u;u=function(){return p}}l.startBatch(),o.forEach(function(w,S){return w._private.bbAtOldPos=u(w,S)}).silentPositions(u),d&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0));var b=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(w){return w._private.bbAtOldPos}),d&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0)),l.endBatch(),b},rl.boundingbox=rl.bb=rl.boundingBox,rl.renderedBoundingbox=rl.renderedBoundingBox;var Ul,qc,cv=il;Ul=qc={};var vp=function(o){o.uppercaseName=en(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=en(o.outerName),Ul[o.name]=function(){var d=this[0],h=d._private;if(d){if(h.cy._private.styleEnabled){if(d.isParent())return d.updateCompoundBounds(),h[o.autoName]||0;var v=d.pstyle(o.name);return"label"===v.strValue?(d.recalculateRenderedStyle(),h.rstyle[o.labelName]||0):v.pfValue}return 1}},Ul["outer"+o.uppercaseName]=function(){var d=this[0];if(d)return d._private.cy._private.styleEnabled?d[o.name]()+d.pstyle("border-width").pfValue+2*d.padding():1},Ul["rendered"+o.uppercaseName]=function(){var d=this[0];if(d)return d[o.name]()*this.cy().zoom()},Ul["rendered"+o.uppercaseOuterName]=function(){var d=this[0];if(d)return d[o.outerName]()*this.cy().zoom()}};vp({name:"width"}),vp({name:"height"}),qc.padding=function(){var u=this[0],o=u._private;return u.isParent()?(u.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:u.pstyle("padding").pfValue):u.pstyle("padding").pfValue},qc.paddedHeight=function(){var u=this[0];return u.height()+2*u.padding()},qc.paddedWidth=function(){var u=this[0];return u.width()+2*u.padding()};var yp=qc,ol={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},gv=Object.keys(ol).reduce(function(u,o){var l=ol[o],d=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return u[o]=function(){return function(o,l){if(o.isEdge())return l(o)}(this,l.get)},u[d]=l.mult?function(){return function(o,l){if(o.isEdge()){var d=o.cy(),h=d.pan(),p=d.zoom();return l(o).map(function(g){return Vn(g,p,h)})}}(this,l.get)}:function(){return function(o,l){if(o.isEdge()){var d=o.cy();return Vn(l(o),d.zoom(),d.pan())}}(this,l.get)},u},{}),yb=Wt({},gp,cv,yp,gv),bp=function(o,l){this.recycle(o,l)};function Kc(){return!1}function pf(){return!0}bp.prototype={instanceString:function(){return"event"},recycle:function(o,l){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Kc,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?pf:Kc):null!=o&&o.type?l=o:this.type=o,null!=l&&(this.originalEvent=l.originalEvent,this.type=null!=l.type?l.type:this.type,this.cy=l.cy,this.target=l.target,this.position=l.position,this.renderedPosition=l.renderedPosition,this.namespace=l.namespace,this.layout=l.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var d=this.position,h=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:d.x*h+p.x,y:d.y*h+p.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=pf;var o=this.originalEvent;o&&o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=pf;var o=this.originalEvent;o&&o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=pf,this.stopPropagation()},isDefaultPrevented:Kc,isPropagationStopped:Kc,isImmediatePropagationStopped:Kc};var mv=/^([^.]+)(\.(?:[^.]+))?$/,Jc={qualifierCompare:function(o,l){return o===l},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},ed=Object.keys(Jc),wp={};function td(){for(var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wp,o=arguments.length>1?arguments[1]:void 0,l=0;l<ed.length;l++){var d=ed[l];this[d]=u[d]||Jc[d]}this.context=o||this.context,this.listeners=[],this.emitting=0}var al=td.prototype,zl=function(o,l,d,h,p,g,v){Xe(h)&&(p=h,h=null),v&&(g=null==g?v:Wt({},g,v));for(var b=Ve(d)?d:d.split(/\s+/),y=0;y<b.length;y++){var w=b[y];if(!je(w)){var S=w.match(mv);if(S&&!1===l(o,w,S[1],S[2]?S[2]:null,h,p,g))break}}},Lu=function(o,l){return o.addEventFields(o.context,l),new bp(l.type,l)};al.on=al.addListener=function(u,o,l,d,h){return zl(this,function(p,g,v,b,y,w,S){Xe(w)&&p.listeners.push({event:g,callback:w,type:v,namespace:b,qualifier:y,conf:S})},u,o,l,d,h),this},al.one=function(u,o,l,d){return this.on(u,o,l,d,{one:!0})},al.removeListener=al.off=function(u,o,l,d){var h=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var p=this.listeners,g=function(y){var w=p[y];zl(h,function(S,E,k,I,$,X){if((w.type===k||"*"===u)&&(!I&&".*"!==w.namespace||w.namespace===I)&&(!$||S.qualifierCompare(w.qualifier,$))&&(!X||w.callback===X))return p.splice(y,1),!1},u,o,l,d)},v=p.length-1;v>=0;v--)g(v);return this},al.removeAllListeners=function(){return this.removeListener("*")},al.emit=al.trigger=function(u,o,l){var d=this.listeners,h=d.length;return this.emitting++,Ve(o)||(o=[o]),function(o,l,d){if(function(o){return"event"===Le(o)}(d))l(o,d);else if(Ae(d))l(o,Lu(o,d));else for(var h=Ve(d)?d:d.split(/\s+/),p=0;p<h.length;p++){var g=h[p];if(!je(g)){var v=g.match(mv);v&&l(o,Lu(o,{type:v[1],namespace:v[2]?v[2]:null,target:o.context}))}}}(this,function(p,g){null!=l&&(h=(d=[{event:g.event,type:g.type,namespace:g.namespace,callback:l}]).length);for(var v=function(w){var S=d[w];if(S.type===g.type&&(!S.namespace||S.namespace===g.namespace||".*"===S.namespace)&&p.eventMatches(p.context,S,g)){var E=[g];null!=o&&function(o,l){for(var d=0;d<l.length;d++)o.push(l[d])}(E,o),p.beforeEmit(p.context,S,g),S.conf&&S.conf.one&&(p.listeners=p.listeners.filter(function($){return $!==S}));var k=p.callbackContext(p.context,S,g),I=S.callback.apply(k,E);p.afterEmit(p.context,S,g),!1===I&&(g.stopPropagation(),g.preventDefault())}},b=0;b<h;b++)v(b);p.bubble(p.context)&&!g.isPropagationStopped()&&p.parent(p.context).emit(g,o)},u),this.emitting--,this};var KD={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,d){var h=l.qualifier;return null==h||o!==d.target&&qe(d.target)&&h.matches(d.target)},addEventFields:function(o,l){l.cy=o.cy(),l.target=o},callbackContext:function(o,l,d){return null!=l.qualifier?d.target:o},beforeEmit:function(o,l){l.conf&&l.conf.once&&l.conf.onceCollection.removeListener(l.event,l.qualifier,l.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},Fu=function(o){return me(o)?new ma(o):o},bb={createEmitter:function(){for(var o=0;o<this.length;o++){var l=this[o],d=l._private;d.emitter||(d.emitter=new td(KD,l))}return this},emitter:function(){return this._private.emitter},on:function(o,l,d){for(var h=Fu(l),p=0;p<this.length;p++)this[p].emitter().on(o,h,d);return this},removeListener:function(o,l,d){for(var h=Fu(l),p=0;p<this.length;p++)this[p].emitter().removeListener(o,h,d);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,l,d){for(var h=Fu(l),p=0;p<this.length;p++)this[p].emitter().one(o,h,d);return this},once:function(o,l,d){for(var h=Fu(l),p=0;p<this.length;p++)this[p].emitter().on(o,h,d,{once:!0,onceCollection:this})},emit:function(o,l){for(var d=0;d<this.length;d++)this[d].emitter().emit(o,l);return this},emitAndNotify:function(o,l){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,l),this}};pr.eventAliasesOn(bb);var vv={nodes:function(o){return this.filter(function(l){return l.isNode()}).filter(o)},edges:function(o){return this.filter(function(l){return l.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),l=this.spawn(),d=0;d<this.length;d++){var h=this[d];h.isNode()?o.push(h):l.push(h)}return{nodes:o,edges:l}},filter:function(o,l){if(void 0===o)return this;if(me(o)||Ne(o))return new ma(o).filter(this);if(Xe(o)){for(var d=this.spawn(),h=this,p=0;p<h.length;p++){var g=h[p];(l?o.apply(l,[g,p,h]):o(g,p,h))&&d.push(g)}return d}return this.spawn()},not:function(o){if(o){me(o)&&(o=this.filter(o));for(var l=this.spawn(),d=0;d<this.length;d++){var h=this[d];o.has(h)||l.push(h)}return l}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(me(o))return this.filter(o);for(var d=this.spawn(),g=this.length<o.length,v=g?this:o,b=g?o:this,y=0;y<v.length;y++){var w=v[y];b.has(w)&&d.push(w)}return d},xor:function(o){var l=this._private.cy;me(o)&&(o=l.$(o));var d=this.spawn(),p=o,g=function(b,y){for(var w=0;w<b.length;w++){var S=b[w];y.hasElementWithId(S._private.data.id)||d.push(S)}};return g(this,p),g(p,this),d},diff:function(o){var l=this._private.cy;me(o)&&(o=l.$(o));var d=this.spawn(),h=this.spawn(),p=this.spawn(),v=o,b=function(w,S,E){for(var k=0;k<w.length;k++){var I=w[k];S.hasElementWithId(I._private.data.id)?p.merge(I):E.push(I)}};return b(this,v,d),b(v,this,h),{left:d,right:h,both:p}},add:function(o){var l=this._private.cy;if(!o)return this;if(me(o)){var d=o;o=l.mutableElements().filter(d)}for(var h=this.spawnSelf(),p=0;p<o.length;p++){var g=o[p];!this.has(g)&&h.push(g)}return h},merge:function(o){var l=this._private,d=l.cy;if(!o)return this;if(o&&me(o)){var h=o;o=d.mutableElements().filter(h)}for(var p=l.map,g=0;g<o.length;g++){var v=o[g],b=v._private.data.id;if(!p.has(b)){var w=this.length++;this[w]=v,p.set(b,{ele:v,index:w})}}return this},unmergeAt:function(o){var d=this[o].id(),p=this._private.map;if(this[o]=void 0,p.delete(d),this.length>1&&o!==this.length-1){var v=this.length-1,b=this[v],y=b._private.data.id;this[v]=void 0,this[o]=b,p.set(y,{ele:b,index:o})}return this.length--,this},unmergeOne:function(o){var p=this._private.map.get((o=o[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(o){var l=this._private.cy;if(!o)return this;if(o&&me(o)){var d=o;o=l.mutableElements().filter(d)}for(var h=0;h<o.length;h++)this.unmergeOne(o[h]);return this},unmergeBy:function(o){for(var l=this.length-1;l>=0;l--)o(this[l])&&this.unmergeAt(l);return this},map:function(o,l){for(var d=[],h=this,p=0;p<h.length;p++){var g=h[p],v=l?o.apply(l,[g,p,h]):o(g,p,h);d.push(v)}return d},reduce:function(o,l){for(var d=l,h=this,p=0;p<h.length;p++)d=o(d,h[p],p,h);return d},max:function(o,l){for(var h,d=-1/0,p=this,g=0;g<p.length;g++){var v=p[g],b=l?o.apply(l,[v,g,p]):o(v,g,p);b>d&&(d=b,h=v)}return{value:d,ele:h}},min:function(o,l){for(var h,d=1/0,p=this,g=0;g<p.length;g++){var v=p[g],b=l?o.apply(l,[v,g,p]):o(v,g,p);b<d&&(d=b,h=v)}return{value:d,ele:h}}},nr=vv;nr.u=nr["|"]=nr["+"]=nr.union=nr.or=nr.add,nr["\\"]=nr["!"]=nr["-"]=nr.difference=nr.relativeComplement=nr.subtract=nr.not,nr.n=nr["&"]=nr["."]=nr.and=nr.intersection=nr.intersect,nr["^"]=nr["(+)"]=nr["(-)"]=nr.symmetricDifference=nr.symdiff=nr.xor,nr.fnFilter=nr.filterFn=nr.stdFilter=nr.filter,nr.complement=nr.abscomp=nr.absoluteComplement;var o,wb=function(o,l){var h=o.cy().hasCompoundNodes();function p(w){var S=w.pstyle("z-compound-depth");return"auto"===S.value?h?w.zDepth():0:"bottom"===S.value?-1:"top"===S.value?bu:0}var g=p(o)-p(l);if(0!==g)return g;function v(w){return"auto"===w.pstyle("z-index-compare").value&&w.isNode()?1:0}var b=v(o)-v(l);if(0!==b)return b;var y=o.pstyle("z-index").value-l.pstyle("z-index").value;return 0!==y?y:o.poolIndex()-l.poolIndex()},Qu={forEach:function(o,l){if(Xe(o))for(var d=this.length,h=0;h<d;h++){var p=this[h];if(!1===(l?o.apply(l,[p,h,this]):o(p,h,this)))break}return this},toArray:function(){for(var o=[],l=0;l<this.length;l++)o.push(this[l]);return o},slice:function(o,l){var d=[],h=this.length;null==l&&(l=h),null==o&&(o=0),o<0&&(o=h+o),l<0&&(l=h+l);for(var p=o;p>=0&&p<l&&p<h;p++)d.push(this[p]);return this.spawn(d)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!Xe(o))return this;var l=this.toArray().sort(o);return this.spawn(l)},sortByZIndex:function(){return this.sort(wb)},zDepth:function(){var o=this[0];if(o){var l=o._private;if("nodes"===l.group){var h=l.data.parent?o.parents().size():0;return o.isParent()?h:bu-1}var g=l.target,v=l.source.zDepth(),b=g.zDepth();return Math.max(v,b,0)}}};Qu.each=Qu.forEach,o="undefined",(typeof Symbol>"u"?"undefined":ee(Symbol))!=o&&ee(Symbol.iterator)!=o&&(Qu[Symbol.iterator]=function(){var d=this,h={value:void 0,done:!1},p=0,g=this.length;return q({next:function(){return p<g?h.value=d[p++]:(h.value=void 0,h.done=!0),h}},Symbol.iterator,function(){return this})});var Ov=ni({nodeDimensionsIncludeLabels:!1}),ll={layoutDimensions:function(o){var l;if(o=Ov(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var d=this.boundingBox();l={w:d.w,h:d.h}}else l={w:this.outerWidth(),h:this.outerHeight()};else l={w:0,h:0};return(0===l.w||0===l.h)&&(l.w=l.h=1),l},layoutPositions:function(o,l,d){var h=this.nodes().filter(function(xe){return!xe.isParent()}),p=this.cy(),g=l.eles,v=function(De){return De.id()},b=dt(d,v);o.emit({type:"layoutstart",layout:o}),o.animations=[];var w=l.spacingFactor&&1!==l.spacingFactor,E=function(){if(!w)return null;for(var De=xr(),ae=0;ae<h.length;ae++){var de=b(h[ae],ae);nf(De,de.x,de.y)}return De}(),k=dt(function(xe,De){var ae=b(xe,De);return w&&(ae=function(De,ae,Oe){var de_x=ae.x1+ae.w/2,de_y=ae.y1+ae.h/2;return{x:de_x+(Oe.x-de_x)*De,y:de_y+(Oe.y-de_y)*De}}(Math.abs(l.spacingFactor),E,ae)),null!=l.transform&&(ae=l.transform(xe,ae)),ae},v);if(l.animate){for(var I=0;I<h.length;I++){var $=h[I],X=k($,I);if(null==l.animateFilter||l.animateFilter($,I)){var te=$.animation({position:X,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(te)}else $.position(X)}if(l.fit){var ne=p.animation({fit:{boundingBox:g.boundingBoxAt(k),padding:l.padding},duration:l.animationDuration,easing:l.animationEasing});o.animations.push(ne)}else if(void 0!==l.zoom&&void 0!==l.pan){var se=p.animation({zoom:l.zoom,pan:l.pan,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(se)}o.animations.forEach(function(xe){return xe.play()}),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),Hc.all(o.animations.map(function(xe){return xe.promise()})).then(function(){o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o})})}else h.positions(k),l.fit&&p.fit(l.eles,l.padding),null!=l.zoom&&p.zoom(l.zoom),l.pan&&p.pan(l.pan),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout(Wt({},o,{eles:this}))}};function Sp(u,o,l){var p,d=l._private,h=d.styleCache=d.styleCache||[];return null!=(p=h[u])||(p=h[u]=o(l)),p}function nd(u,o){return u=la(u),function(d){return Sp(u,o,d)}}function jl(u,o){u=la(u);var l=function(h){return o.call(h)};return function(){var h=this[0];if(h)return Sp(u,l,h)}}ll.createLayout=ll.makeLayout=ll.layout;var Ti={recalculateRenderedStyle:function(o){var l=this.cy(),d=l.renderer(),h=l.styleEnabled();return d&&h&&d.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var d,o=this.cy(),l=function(p){return p._private.styleCache=null};return o.hasCompoundNodes()?((d=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(d.connectedEdges()),d.forEach(l)):this.forEach(function(h){l(h),h.connectedEdges().forEach(l)}),this},updateStyle:function(o){var l=this._private.cy;if(!l.styleEnabled())return this;if(l.batching())return l._private.batchStyleEles.merge(this),this;var p=this;o=!(!o&&void 0!==o),l.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=p;return o?g.emitAndNotify("style"):g.emit("style"),p.forEach(function(v){return v._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var l=0;l<this.length;l++){var d=this[l];d._private.styleDirty&&(d._private.styleDirty=!1,o.style().apply(d))}},parsedStyle:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=this[0],h=d.cy();if(h.styleEnabled()&&d){this.cleanStyle();var p=d._private.style[o];return p??(l?h.style().getDefaultProperty(o):null)}},numericStyle:function(o){var l=this[0];if(l.cy().styleEnabled()&&l){var d=l.pstyle(o);return void 0!==d.pfValue?d.pfValue:d.value}},numericStyleUnits:function(o){var l=this[0];if(l.cy().styleEnabled()&&l)return l.pstyle(o).units},renderedStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var d=this[0];return d?l.style().getRenderedStyle(d,o):void 0},style:function(o,l){var d=this.cy();if(!d.styleEnabled())return this;var p=d.style();if(Ae(o))p.applyBypass(this,o,!1),this.emitAndNotify("style");else if(me(o)){if(void 0===l){var v=this[0];return v?p.getStylePropertyValue(v,o):void 0}p.applyBypass(this,o,l,!1),this.emitAndNotify("style")}else if(void 0===o){var b=this[0];return b?p.getRawStyle(b):void 0}return this},removeStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var h=l.style(),p=this;if(void 0===o)for(var g=0;g<p.length;g++)h.removeAllBypasses(p[g],!1);else{o=o.split(/\s+/);for(var b=0;b<p.length;b++)h.removeBypasses(p[b],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var l=o.hasCompoundNodes(),d=this[0];if(d){var h=d._private,p=d.pstyle("opacity").value;if(!l)return p;var g=h.data.parent?d.parents():null;if(g)for(var v=0;v<g.length;v++)p*=g[v].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var l=this[0],d=l.cy().hasCompoundNodes();return l?d?0===l.effectiveOpacity():0===l.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function $u(u,o){var d=u._private.data.parent?u.parents():null;if(d)for(var h=0;h<d.length;h++)if(!o(d[h]))return!1;return!0}function rd(u){var o=u.ok,l=u.edgeOkViaNode||u.ok,d=u.parentOk||u.ok;return function(){var h=this.cy();if(!h.styleEnabled())return!0;var p=this[0],g=h.hasCompoundNodes();if(p){var v=p._private;if(!o(p))return!1;if(p.isNode())return!g||$u(p,d);var b=v.source,y=v.target;return l(b)&&(!g||$u(b,l))&&(b===y||l(y)&&(!g||$u(y,l)))}}}var ya=nd("eleTakesUpSpace",function(u){return"element"===u.pstyle("display").value&&0!==u.width()&&(!u.isNode()||0!==u.height())});Ti.takesUpSpace=jl("takesUpSpace",rd({ok:ya}));var eC=nd("eleInteractive",function(u){return"yes"===u.pstyle("events").value&&"visible"===u.pstyle("visibility").value&&ya(u)}),bv=nd("parentInteractive",function(u){return"visible"===u.pstyle("visibility").value&&ya(u)});Ti.interactive=jl("interactive",rd({ok:eC,parentOk:bv,edgeOkViaNode:ya})),Ti.noninteractive=function(){var u=this[0];if(u)return!u.interactive()};var wv=nd("eleVisible",function(u){return"visible"===u.pstyle("visibility").value&&0!==u.pstyle("opacity").pfValue&&ya(u)});Ti.visible=jl("visible",rd({ok:wv,edgeOkViaNode:ya})),Ti.hidden=function(){var u=this[0];if(u)return!u.visible()},Ti.isBundledBezier=jl("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Ti.bypass=Ti.css=Ti.style,Ti.renderedCss=Ti.renderedStyle,Ti.removeBypass=Ti.removeCss=Ti.removeStyle,Ti.pstyle=Ti.parsedStyle;var Mi={};function Sv(u){return function(){var o=arguments,l=[];if(2===o.length){var d=o[0],h=o[1];this.on(u.event,d,h)}else if(1===o.length&&Xe(o[0])){var p=o[0];this.on(u.event,p)}else if(0===o.length||1===o.length&&Ve(o[0])){for(var g=1===o.length?o[0]:null,v=0;v<this.length;v++){var b=this[v],y=!u.ableField||b._private[u.ableField],w=b._private[u.field]!=u.value;if(u.overrideAble){var S=u.overrideAble(b);if(void 0!==S&&(y=S,!S))return this}y&&(b._private[u.field]=u.value,w&&l.push(b))}var E=this.spawn(l);E.updateStyle(),E.emit(u.event),g&&E.emit(g)}return this}}function Oa(u){Mi[u.field]=function(){var o=this[0];if(o){if(u.overrideField){var l=u.overrideField(o);if(void 0!==l)return l}return o._private[u.field]}},Mi[u.on]=Sv({event:u.on,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!0}),Mi[u.off]=Sv({event:u.off,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!1})}Oa({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),Oa({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Oa({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Oa({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Mi.deselect=Mi.unselect,Mi.grabbed=function(){var u=this[0];if(u)return u._private.grabbed},Oa({field:"active",on:"activate",off:"unactivate"}),Oa({field:"pannable",on:"panify",off:"unpanify"}),Mi.inactive=function(){var u=this[0];if(u)return!u._private.active};var pi={},xp=function(o){return function(d){for(var p=[],g=0;g<this.length;g++){var v=this[g];if(v.isNode()){for(var b=!1,y=v.connectedEdges(),w=0;w<y.length;w++){var S=y[w],E=S.source(),k=S.target();if(o.noIncomingEdges&&k===v&&E!==v||o.noOutgoingEdges&&E===v&&k!==v){b=!0;break}}b||p.push(v)}}return this.spawn(p,!0).filter(d)}},mf=function(o){return function(l){for(var h=[],p=0;p<this.length;p++){var g=this[p];if(g.isNode())for(var v=g.connectedEdges(),b=0;b<v.length;b++){var y=v[b],w=y.source(),S=y.target();o.outgoing&&w===g?(h.push(y),h.push(S)):o.incoming&&S===g&&(h.push(y),h.push(w))}}return this.spawn(h,!0).filter(l)}},vf=function(o){return function(l){for(var d=this,h=[],p={};;){var g=o.outgoing?d.outgoers():d.incomers();if(0===g.length)break;for(var v=!1,b=0;b<g.length;b++){var y=g[b],w=y.id();p[w]||(p[w]=!0,h.push(y),v=!0)}if(!v)break;d=g}return this.spawn(h,!0).filter(l)}};function xv(u){return function(l){for(var d=[],h=0;h<this.length;h++){var g=this[h]._private[u.attr];g&&d.push(g)}return this.spawn(d,!0).filter(l)}}function Dp(u){return function(l){var d=[],h=this._private.cy,p=u||{};me(l)&&(l=h.$(l));for(var g=0;g<l.length;g++)for(var v=l[g]._private.edges,b=0;b<v.length;b++){var y=v[b],w=y._private.data,S=this.hasElementWithId(w.source)&&l.hasElementWithId(w.target),E=l.hasElementWithId(w.source)&&this.hasElementWithId(w.target);(S||E)&&((p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!S||p.thisIsTgt&&!E)||d.push(y))}return this.spawn(d,!0)}}function Cp(u){return u=Wt({},{codirected:!1},u),function(d){for(var h=[],p=this.edges(),g=u,v=0;v<p.length;v++)for(var y=p[v]._private,w=y.source,S=w._private.data.id,E=y.data.target,k=w._private.edges,I=0;I<k.length;I++){var $=k[I],X=$._private.data,W=X.target,te=X.source,ne=W===E&&te===S;(g.codirected&&ne||!g.codirected&&(ne||S===W&&E===te))&&h.push($)}return this.spawn(h,!0).filter(d)}}pi.clearTraversalCache=function(){for(var u=0;u<this.length;u++)this[u]._private.traversalCache=null},Wt(pi,{roots:xp({noIncomingEdges:!0}),leaves:xp({noOutgoingEdges:!0}),outgoers:Fs(mf({outgoing:!0}),"outgoers"),successors:vf({outgoing:!0}),incomers:Fs(mf({incoming:!0}),"incomers"),predecessors:vf({incoming:!0})}),Wt(pi,{neighborhood:Fs(function(u){for(var o=[],l=this.nodes(),d=0;d<l.length;d++)for(var h=l[d],p=h.connectedEdges(),g=0;g<p.length;g++){var v=p[g],b=v.source(),y=v.target(),w=h===b?y:b;w.length>0&&o.push(w[0]),o.push(v[0])}return this.spawn(o,!0).filter(u)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),pi.neighbourhood=pi.neighborhood,pi.closedNeighbourhood=pi.closedNeighborhood,pi.openNeighbourhood=pi.openNeighborhood,Wt(pi,{source:Fs(function(o){var d,l=this[0];return l&&(d=l._private.source||l.cy().collection()),d&&o?d.filter(o):d},"source"),target:Fs(function(o){var d,l=this[0];return l&&(d=l._private.target||l.cy().collection()),d&&o?d.filter(o):d},"target"),sources:xv({attr:"source"}),targets:xv({attr:"target"})}),Wt(pi,{edgesWith:Fs(Dp(),"edgesWith"),edgesTo:Fs(Dp({thisIsSrc:!0}),"edgesTo")}),Wt(pi,{connectedEdges:Fs(function(u){for(var o=[],d=0;d<this.length;d++){var h=this[d];if(h.isNode())for(var p=h._private.edges,g=0;g<p.length;g++)o.push(p[g])}return this.spawn(o,!0).filter(u)},"connectedEdges"),connectedNodes:Fs(function(u){for(var o=[],d=0;d<this.length;d++){var h=this[d];h.isEdge()&&(o.push(h.source()[0]),o.push(h.target()[0]))}return this.spawn(o,!0).filter(u)},"connectedNodes"),parallelEdges:Fs(Cp(),"parallelEdges"),codirectedEdges:Fs(Cp({codirected:!0}),"codirectedEdges")}),Wt(pi,{components:function(o){var l=this,d=l.cy(),h=d.collection(),p=null==o?l.nodes():o.nodes(),g=[];null!=o&&p.empty()&&(p=o.sources());var v=function(w,S){h.merge(w),p.unmerge(w),S.merge(w)};if(p.empty())return l.spawn();var b=function(){var w=d.collection();g.push(w);var S=p[0];v(S,w),l.bfs({directed:!1,roots:S,visit:function(k){return v(k,w)}}),w.forEach(function(E){E.connectedEdges().forEach(function(k){l.has(k)&&w.has(k.source())&&w.has(k.target())&&w.merge(k)})})};do{b()}while(p.length>0);return g},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),pi.componentsOf=pi.components;var gi=function(o,l){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var p=new Zi,g=!1;if(l){if(l.length>0&&Ae(l[0])&&!qe(l[0])){g=!0;for(var v=[],b=new ua,y=0,w=l.length;y<w;y++){var S=l[y];null==S.data&&(S.data={});var E=S.data;if(null==E.id)E.id=Xa();else if(o.hasElementWithId(E.id)||b.has(E.id))continue;var k=new Wa(o,S,!1);v.push(k),b.add(E.id)}l=v}}else l=[];this.length=0;for(var I=0,$=l.length;I<$;I++){var X=l[I][0];if(null!=X){var W=X._private.data.id;(!d||!p.has(W))&&(d&&p.set(W,{index:this.length,ele:X}),this[this.length]=X,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(te){this.lazyMap=te},rebuildMap:function(){for(var ne=this.lazyMap=new Zi,se=this.eles,xe=0;xe<se.length;xe++){var De=se[xe];ne.set(De.id(),{index:xe,ele:De})}}},d&&(this._private.map=p),g&&!h&&this.restore()}else gr("A collection must have a reference to the core")},Or=Wa.prototype=gi.prototype=Object.create(Array.prototype);Or.instanceString=function(){return"collection"},Or.spawn=function(u,o){return new gi(this.cy(),u,o)},Or.spawnSelf=function(){return this.spawn(this)},Or.cy=function(){return this._private.cy},Or.renderer=function(){return this._private.cy.renderer()},Or.element=function(){return this[0]},Or.collection=function(){return kt(this)?this:new gi(this._private.cy,[this])},Or.unique=function(){return new gi(this._private.cy,this,!0)},Or.hasElementWithId=function(u){return this._private.map.has(u=""+u)},Or.getElementById=function(u){var o=this._private.cy,l=this._private.map.get(u=""+u);return l?l.ele:new gi(o)},Or.$id=Or.getElementById,Or.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Or.indexOf=function(u){return this._private.map.get(u[0]._private.data.id).index},Or.indexOfId=function(u){return this._private.map.get(u=""+u).index},Or.json=function(u){var o=this.element(),l=this.cy();if(null==o&&u)return this;if(null!=o){var d=o._private;if(Ae(u)){if(l.startBatch(),u.data){o.data(u.data);var h=d.data;if(o.isEdge()){var p=!1,g={},v=u.data.source,b=u.data.target;null!=v&&v!=h.source&&(g.source=""+v,p=!0),null!=b&&b!=h.target&&(g.target=""+b,p=!0),p&&(o=o.move(g))}else{var w=u.data.parent;"parent"in u.data&&(null!=w||null!=h.parent)&&w!=h.parent&&(void 0===w&&(w=null),null!=w&&(w=""+w),o=o.move({parent:w}))}}u.position&&o.position(u.position);var S=function($,X,W){var te=u[$];null!=te&&te!==d[$]&&(te?o[X]():o[W]())};return S("removed","remove","restore"),S("selected","select","unselect"),S("selectable","selectify","unselectify"),S("locked","lock","unlock"),S("grabbable","grabify","ungrabify"),S("pannable","panify","unpanify"),null!=u.classes&&o.classes(u.classes),l.endBatch(),this}if(void 0===u){var E={data:ms(d.data),position:ms(d.position),group:d.group,removed:d.removed,selected:d.selected,selectable:d.selectable,locked:d.locked,grabbable:d.grabbable,pannable:d.pannable,classes:""},k=0;return d.classes.forEach(function(I){return E.classes+=0==k++?I:" "+I}),E}}},Or.jsons=function(){for(var u=[],o=0;o<this.length;o++){var d=this[o].json();u.push(d)}return u},Or.clone=function(){for(var u=this.cy(),o=[],l=0;l<this.length;l++){var h=this[l].json(),p=new Wa(u,h,!1);o.push(p)}return new gi(u,o)},Or.copy=Or.clone,Or.restore=function(){for(var v,u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,d=l.cy(),h=d._private,p=[],g=[],b=0,y=l.length;b<y;b++){var w=l[b];o&&!w.removed()||(w.isNode()?p.push(w):g.push(w))}v=p.concat(g);var S,E=function(){v.splice(S,1),S--};for(S=0;S<v.length;S++){var k=v[S],I=k._private,$=I.data;if(k.clearTraversalCache(),o||I.removed)if(void 0===$.id)$.id=Xa();else if(he($.id))$.id=""+$.id;else{if(je($.id)||!me($.id)){gr("Can not create element with invalid string ID `"+$.id+"`"),E();continue}if(d.hasElementWithId($.id)){gr("Can not create second element with ID `"+$.id+"`"),E();continue}}var X=$.id;if(k.isNode()){var W=I.position;null==W.x&&(W.x=0),null==W.y&&(W.y=0)}if(k.isEdge()){for(var te=k,ne=["source","target"],se=ne.length,xe=!1,De=0;De<se;De++){var ae=ne[De],Oe=$[ae];he(Oe)&&(Oe=$[ae]=""+$[ae]),null==Oe||""===Oe?(gr("Can not create edge `"+X+"` with unspecified "+ae),xe=!0):d.hasElementWithId(Oe)||(gr("Can not create edge `"+X+"` with nonexistant "+ae+" `"+Oe+"`"),xe=!0)}if(xe){E();continue}var de=d.getElementById($.source),Me=d.getElementById($.target);de.same(Me)?de._private.edges.push(te):(de._private.edges.push(te),Me._private.edges.push(te)),te._private.source=de,te._private.target=Me}I.map=new Zi,I.map.set(X,{ele:k,index:0}),I.removed=!1,o&&d.addToPool(k)}for(var Te=0;Te<p.length;Te++){var pe=p[Te],Fe=pe._private.data;he(Fe.parent)&&(Fe.parent=""+Fe.parent);var Ce=Fe.parent,Ge=null!=Ce;if(Ge||pe._private.parent){var $e=pe._private.parent?d.collection().merge(pe._private.parent):d.getElementById(Ce);if($e.empty())Fe.parent=void 0;else if($e[0].removed())tr("Node added with missing parent, reference to parent removed"),Fe.parent=void 0,pe._private.parent=null;else{for(var Ue=!1,Ye=$e;!Ye.empty();){if(pe.same(Ye)){Ue=!0,Fe.parent=void 0;break}Ye=Ye.parent()}Ue||($e[0]._private.children.push(pe),pe._private.parent=$e[0],h.hasCompoundNodes=!0)}}}if(v.length>0){for(var tt=v.length===l.length?l:new gi(d,v),at=0;at<tt.length;at++){var et=tt[at];et.isNode()||(et.parallelEdges().clearTraversalCache(),et.source().clearTraversalCache(),et.target().clearTraversalCache())}(h.hasCompoundNodes?d.collection().merge(tt).merge(tt.connectedNodes()).merge(tt.parent()):tt).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(u),u?tt.emitAndNotify("add"):o&&tt.emit("add")}return l},Or.removed=function(){var u=this[0];return u&&u._private.removed},Or.inside=function(){var u=this[0];return u&&!u._private.removed},Or.remove=function(){var u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,d=[],h={},p=l._private.cy;function g(Ce){for(var Ge=Ce._private.edges,$e=0;$e<Ge.length;$e++)b(Ge[$e])}function v(Ce){for(var Ge=Ce._private.children,$e=0;$e<Ge.length;$e++)b(Ge[$e])}function b(Ce){var Ge=h[Ce.id()];o&&Ce.removed()||Ge||(h[Ce.id()]=!0,Ce.isNode()?(d.push(Ce),g(Ce),v(Ce)):d.unshift(Ce))}for(var y=0,w=l.length;y<w;y++){var S=l[y];b(S)}function E(Ce,Ge){Bo(Ce._private.edges,Ge),Ce.clearTraversalCache()}function k(Ce){Ce.clearTraversalCache()}var I=[];function $(Ce,Ge){Ge=Ge[0];var $e=(Ce=Ce[0])._private.children,Ue=Ce.id();Bo($e,Ge),Ge._private.parent=null,I.ids[Ue]||(I.ids[Ue]=!0,I.push(Ce))}I.ids={},l.dirtyCompoundBoundsCache(),o&&p.removeFromPool(d);for(var X=0;X<d.length;X++){var W=d[X];if(W.isEdge()){var te=W.source()[0],ne=W.target()[0];E(te,W),E(ne,W);for(var se=W.parallelEdges(),xe=0;xe<se.length;xe++){var De=se[xe];k(De),De.isBundledBezier()&&De.dirtyBoundingBoxCache()}}else{var ae=W.parent();0!==ae.length&&$(ae,W)}o&&(W._private.removed=!0)}var Oe=p._private.elements;p._private.hasCompoundNodes=!1;for(var de=0;de<Oe.length;de++){var Me=Oe[de];if(Me.isParent()){p._private.hasCompoundNodes=!0;break}}var Te=new gi(this.cy(),d);Te.size()>0&&(u?Te.emitAndNotify("remove"):o&&Te.emit("remove"));for(var pe=0;pe<I.length;pe++){var Fe=I[pe];(!o||!Fe.removed())&&Fe.updateStyle()}return Te},Or.move=function(u){var o=this._private.cy,l=this,d=!1,h=!1,p=function(I){return null==I?I:""+I};if(void 0!==u.source||void 0!==u.target){var g=p(u.source),v=p(u.target),b=null!=g&&o.hasElementWithId(g),y=null!=v&&o.hasElementWithId(v);(b||y)&&(o.batch(function(){l.remove(d,h),l.emitAndNotify("moveout");for(var k=0;k<l.length;k++){var I=l[k],$=I._private.data;I.isEdge()&&(b&&($.source=g),y&&($.target=v))}l.restore(d,h)}),l.emitAndNotify("move"))}else if(void 0!==u.parent){var w=p(u.parent);if(null===w||o.hasElementWithId(w)){var E=null===w?void 0:w;o.batch(function(){var k=l.remove(d,h);k.emitAndNotify("moveout");for(var I=0;I<l.length;I++){var $=l[I],X=$._private.data;$.isNode()&&(X.parent=E)}k.restore(d,h)}),l.emitAndNotify("move")}}return this},[Ym,qD,Uo,dn,Gc,Ct,Ln,yb,bb,vv,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},Qu,ll,Ti,Mi,pi].forEach(function(u){Wt(Or,u)});var xb={add:function(o){var l,d=this;if(Ne(o)){var h=o;if(h._private.cy===d)l=h.restore();else{for(var p=[],g=0;g<h.length;g++)p.push(h[g].json());l=new gi(d,p)}}else if(Ve(o))l=new gi(d,o);else if(Ae(o)&&(Ve(o.nodes)||Ve(o.edges))){for(var y=o,w=[],S=["nodes","edges"],E=0,k=S.length;E<k;E++){var I=S[E],$=y[I];if(Ve($))for(var X=0,W=$.length;X<W;X++){var te=Wt({group:I},$[X]);w.push(te)}}l=new gi(d,w)}else l=new Wa(d,o).collection();return l},remove:function(o){return Ne(o)||me(o)&&(o=this.$(o)),o.remove()}},Hl=function(){function u(d){return-d.tension*d.x-d.friction*d.v}function o(d,h,p){var g={x:d.x+p.dx*h,v:d.v+p.dv*h,tension:d.tension,friction:d.friction};return{dx:g.v,dv:u(g)}}function l(d,h){var p={dx:d.v,dv:u(d)},g=o(d,.5*h,p),v=o(d,.5*h,g),b=o(d,h,v),w=1/6*(p.dv+2*(g.dv+v.dv)+b.dv);return d.x=d.x+1/6*(p.dx+2*(g.dx+v.dx)+b.dx)*h,d.v=d.v+w*h,d}return function d(h,p,g){var E,k,I,v={x:-1,v:0,tension:null,friction:null},b=[0],y=0,w=1e-4;for(h=parseFloat(h)||500,p=parseFloat(p)||20,g=g||null,v.tension=h,v.friction=p,k=(E=null!==g)?(y=d(h,p))/g*.016:.016;I=l(I||v,k),b.push(1+I.x),y+=16,Math.abs(I.x)>w&&Math.abs(I.v)>w;);return E?function($){return b[$*(b.length-1)|0]}:y}}(),Sr=function(o,l,d,h){var p=function yf(u,o,l,d){var h=4,p=.001,g=1e-7,v=10,b=11,y=1/(b-1),w=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var S=0;S<4;++S)if("number"!=typeof arguments[S]||isNaN(arguments[S])||!isFinite(arguments[S]))return!1;u=Math.min(u,1),l=Math.min(l,1),u=Math.max(u,0),l=Math.max(l,0);var E=w?new Float32Array(b):new Array(b);function k(Me,Te){return 1-3*Te+3*Me}function I(Me,Te){return 3*Te-6*Me}function $(Me){return 3*Me}function X(Me,Te,pe){return((k(Te,pe)*Me+I(Te,pe))*Me+$(Te))*Me}function W(Me,Te,pe){return 3*k(Te,pe)*Me*Me+2*I(Te,pe)*Me+$(Te)}function te(Me,Te){for(var pe=0;pe<h;++pe){var Fe=W(Te,u,l);if(0===Fe)return Te;Te-=(X(Te,u,l)-Me)/Fe}return Te}function ne(){for(var Me=0;Me<b;++Me)E[Me]=X(Me*y,u,l)}function se(Me,Te,pe){var Fe,Ce,Ge=0;do{(Fe=X(Ce=Te+(pe-Te)/2,u,l)-Me)>0?pe=Ce:Te=Ce}while(Math.abs(Fe)>g&&++Ge<v);return Ce}function xe(Me){for(var Te=0,pe=1,Fe=b-1;pe!==Fe&&E[pe]<=Me;++pe)Te+=y;--pe;var Ge=Te+(Me-E[pe])/(E[pe+1]-E[pe])*y,$e=W(Ge,u,l);return $e>=p?te(Me,Ge):0===$e?Ge:se(Me,Te,Te+y)}var De=!1;function ae(){De=!0,(u!==o||l!==d)&&ne()}var Oe=function(Te){return De||ae(),u===o&&l===d?Te:0===Te?0:1===Te?1:X(xe(Te),o,d)};Oe.getControlPoints=function(){return[{x:u,y:o},{x:l,y:d}]};var de="generateBezier("+[u,o,l,d]+")";return Oe.toString=function(){return de},Oe}(o,l,d,h);return function(g,v,b){return g+(v-g)*p(b)}},id={linear:function(o,l,d){return o+(l-o)*d},ease:Sr(.25,.1,.25,1),"ease-in":Sr(.42,0,1,1),"ease-out":Sr(0,0,.58,1),"ease-in-out":Sr(.42,0,.58,1),"ease-in-sine":Sr(.47,0,.745,.715),"ease-out-sine":Sr(.39,.575,.565,1),"ease-in-out-sine":Sr(.445,.05,.55,.95),"ease-in-quad":Sr(.55,.085,.68,.53),"ease-out-quad":Sr(.25,.46,.45,.94),"ease-in-out-quad":Sr(.455,.03,.515,.955),"ease-in-cubic":Sr(.55,.055,.675,.19),"ease-out-cubic":Sr(.215,.61,.355,1),"ease-in-out-cubic":Sr(.645,.045,.355,1),"ease-in-quart":Sr(.895,.03,.685,.22),"ease-out-quart":Sr(.165,.84,.44,1),"ease-in-out-quart":Sr(.77,0,.175,1),"ease-in-quint":Sr(.755,.05,.855,.06),"ease-out-quint":Sr(.23,1,.32,1),"ease-in-out-quint":Sr(.86,0,.07,1),"ease-in-expo":Sr(.95,.05,.795,.035),"ease-out-expo":Sr(.19,1,.22,1),"ease-in-out-expo":Sr(1,0,0,1),"ease-in-circ":Sr(.6,.04,.98,.335),"ease-out-circ":Sr(.075,.82,.165,1),"ease-in-out-circ":Sr(.785,.135,.15,.86),spring:function(o,l,d){if(0===d)return id.linear;var h=Hl(o,l,d);return function(p,g,v){return p+(g-p)*h(v)}},"cubic-bezier":Sr};function Ep(u,o,l,d,h){if(1===d||o===l)return l;var p=h(o,l,d);return null==u||((u.roundValue||u.color)&&(p=Math.round(p)),void 0!==u.min&&(p=Math.max(p,u.min)),void 0!==u.max&&(p=Math.min(p,u.max))),p}function Xl(u,o){return null!=u.pfValue||null!=u.value?null==u.pfValue||null!=o&&"%"===o.type.units?u.value:u.pfValue:u}function Bu(u,o,l,d,h){var p=null!=h?h.type:null;l<0?l=0:l>1&&(l=1);var g=Xl(u,h),v=Xl(o,h);if(he(g)&&he(v))return Ep(p,g,v,l,d);if(Ve(g)&&Ve(v)){for(var b=[],y=0;y<v.length;y++){var w=g[y],S=v[y];if(null!=w&&null!=S){var E=Ep(p,w,S,l,d);b.push(E)}else b.push(S)}return b}}function Ai(u,o,l,d){var h=!d,p=u._private,g=o._private,v=g.easing,b=g.startTime,w=(d?u:u.cy()).style();if(!g.easingImpl)if(null==v)g.easingImpl=id.linear;else{var S,k,I;S=me(v)?w.parse("transition-timing-function",v).value:v,me(S)?(k=S,I=[]):(k=S[1],I=S.slice(2).map(function(tt){return+tt})),I.length>0?("spring"===k&&I.push(g.duration),g.easingImpl=id[k].apply(null,I)):g.easingImpl=id[k]}var X,$=g.easingImpl;if(X=0===g.duration?1:(l-b)/g.duration,g.applying&&(X=g.progress),X<0?X=0:X>1&&(X=1),null==g.delay){var W=g.startPosition,te=g.position;if(te&&h&&!u.locked()){var ne={};Gl(W.x,te.x)&&(ne.x=Bu(W.x,te.x,X,$)),Gl(W.y,te.y)&&(ne.y=Bu(W.y,te.y,X,$)),u.position(ne)}var se=g.startPan,xe=g.pan,De=p.pan,ae=null!=xe&&d;ae&&(Gl(se.x,xe.x)&&(De.x=Bu(se.x,xe.x,X,$)),Gl(se.y,xe.y)&&(De.y=Bu(se.y,xe.y,X,$)),u.emit("pan"));var Oe=g.startZoom,de=g.zoom,Me=null!=de&&d;Me&&(Gl(Oe,de)&&(p.zoom=mn(p.minZoom,Bu(Oe,de,X,$),p.maxZoom)),u.emit("zoom")),(ae||Me)&&u.emit("viewport");var Te=g.style;if(Te&&Te.length>0&&h){for(var pe=0;pe<Te.length;pe++){var Fe=Te[pe],Ce=Fe.name,$e=g.startStyle[Ce],Ye=Bu($e,Fe,X,$,w.properties[$e.name]);w.overrideBypass(u,Ce,Ye)}u.emit("style")}}return g.progress=X,X}function Gl(u,o){return!!(null!=u&&null!=o&&(he(u)&&he(o)||u&&o))}function Db(u,o,l,d){var h=o._private;h.started=!0,h.startTime=l-h.progress*h.duration}function _p(u,o){var l=o._private.aniEles,d=[];function h(w,S){var E=w._private,k=E.animation.current,I=E.animation.queue,$=!1;if(0===k.length){var X=I.shift();X&&k.push(X)}for(var W=function(De){for(var ae=De.length-1;ae>=0;ae--)(0,De[ae])();De.splice(0,De.length)},te=k.length-1;te>=0;te--){var ne=k[te],se=ne._private;se.stopped?(k.splice(te,1),se.hooked=!1,se.playing=!1,se.started=!1,W(se.frames)):!se.playing&&!se.applying||(se.playing&&se.applying&&(se.applying=!1),se.started||Db(0,ne,u),Ai(w,ne,u,S),se.applying&&(se.applying=!1),W(se.frames),null!=se.step&&se.step(u),ne.completed()&&(k.splice(te,1),se.hooked=!1,se.playing=!1,se.started=!1,W(se.completes)),$=!0)}return!S&&0===k.length&&0===I.length&&d.push(w),$}for(var p=!1,g=0;g<l.length;g++){var b=h(l[g]);p=p||b}var y=h(o,!0);(p||y)&&(l.length>0?o.notify("draw",l):o.notify("draw")),l.unmerge(d),o.emit("step")}var sd={animate:pr.animate(),animation:pr.animation(),animated:pr.animated(),clearQueue:pr.clearQueue(),delay:pr.delay(),delayAnimation:pr.delayAnimation(),stop:pr.stop(),addToAnimationPool:function(o){this.styleEnabled()&&this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var d=o.renderer();d&&d.beforeRender?d.beforeRender(function(p,g){_p(g,o)},d.beforeRenderPriorities.animations):function l(){o._private.animationsRunning&&Ua(function(p){_p(p,o),l()})}()}}},Vu={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,d){var h=l.qualifier;return null==h||o!==d.target&&qe(d.target)&&h.matches(d.target)},addEventFields:function(o,l){l.cy=o,l.target=o},callbackContext:function(o,l,d){return null!=l.qualifier?d.target:o}},ba=function(o){return me(o)?new ma(o):o},Wl={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new td(Vu,this)),this},emitter:function(){return this._private.emitter},on:function(o,l,d){return this.emitter().on(o,ba(l),d),this},removeListener:function(o,l,d){return this.emitter().removeListener(o,ba(l),d),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,l,d){return this.emitter().one(o,ba(l),d),this},once:function(o,l,d){return this.emitter().one(o,ba(l),d),this},emit:function(o,l){return this.emitter().emit(o,l),this},emitAndNotify:function(o,l){return this.emit(o),this.notify(o,l),this}};pr.eventAliasesOn(Wl);var Of={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var l=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",l.jpg(o)}};Of.jpeg=Of.jpg;var Uu={layout:function(o){var l=this;if(null!=o)if(null!=o.name){var p,d=o.name,h=l.extension("layout",d);if(null!=h)return p=me(o.eles)?l.$(o.eles):null!=o.eles?o.eles:l.$(),new h(Wt({},o,{cy:l,eles:p}));gr("No such layout `"+d+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else gr("A `name` must be specified to make a layout");else gr("Layout options must be specified to make a layout")}};Uu.createLayout=Uu.makeLayout=Uu.layout;var zu={notify:function(o,l){var d=this._private;if(this.batching()){d.batchNotifications=d.batchNotifications||{};var h=d.batchNotifications[o]=d.batchNotifications[o]||this.collection();null!=l&&h.merge(l)}else if(d.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(o,l)}},notifications:function(o){var l=this._private;return void 0===o?l.notificationsEnabled:(l.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var l=this.renderer();Object.keys(o.batchNotifications).forEach(function(d){var h=o.batchNotifications[d];h.empty()?l.notify(d):l.notify(d,h)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var l=this;return this.batch(function(){for(var d=Object.keys(o),h=0;h<d.length;h++){var p=d[h],g=o[p];l.getElementById(p).data(g)}})}},tC=ni({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Tp={renderTo:function(o,l,d,h){return this._private.renderer.renderTo(o,l,d,h),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var l=this,d=l.extension("renderer",o.name);if(null!=d){void 0!==o.wheelSensitivity&&tr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var h=tC(o);h.cy=l,l._private.renderer=new d(h),this.notify("init")}else gr("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var l=o.container();if(l)for(l._cyreg=null;l.childNodes.length>0;)l.removeChild(l.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(d){var h=d._private;h.rscratch={},h.rstyle={},h.animation.current=[],h.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};Tp.invalidateDimensions=Tp.resize;var Xt={collection:function(o,l){return me(o)?this.$(o):Ne(o)?o.collection():Ve(o)?(l||(l={}),new gi(this,o,l.unique,l.removed)):new gi(this)},nodes:function(o){var l=this.$(function(d){return d.isNode()});return o?l.filter(o):l},edges:function(o){var l=this.$(function(d){return d.isEdge()});return o?l.filter(o):l},$:function(o){var l=this._private.elements;return o?l.filter(o):l.spawnSelf()},mutableElements:function(){return this._private.elements}};Xt.elements=Xt.filter=Xt.$;var Ji={apply:function(u){for(var o=this,h=o._private.cy.collection(),p=0;p<u.length;p++){var g=u[p],v=o.getContextMeta(g);if(!v.empty){var b=o.getContextStyle(v),y=o.applyContextStyle(v,b,g);g._private.appliedInitStyle?o.updateTransitions(g,y.diffProps):g._private.appliedInitStyle=!0,o.updateStyleHints(g)&&h.push(g)}}return h},getPropertiesDiff:function(u,o){var l=this,d=l._private.propDiffs=l._private.propDiffs||{},h=u+"-"+o,p=d[h];if(p)return p;for(var g=[],v={},b=0;b<l.length;b++){var y=l[b],S="t"===o[b],E="t"===u[b]!==S,k=y.mappedProperties.length>0;if(E||S&&k){var I=void 0;E&&k||E?I=y.properties:k&&(I=y.mappedProperties);for(var $=0;$<I.length;$++){for(var X=I[$],W=X.name,te=!1,ne=b+1;ne<l.length&&("t"!==o[ne]||!(te=null!=l[ne].properties[X.name]));ne++);!v[W]&&!te&&(v[W]=!0,g.push(W))}}}return d[h]=g,g},getContextMeta:function(u){for(var d,o=this,l="",h=u._private.styleCxtKey||"",p=0;p<o.length;p++){var g=o[p];l+=g.selector&&g.selector.matches(u)?"t":"f"}return d=o.getPropertiesDiff(h,l),u._private.styleCxtKey=l,{key:l,diffPropNames:d,empty:0===d.length}},getContextStyle:function(u){var o=u.key,d=this._private.contextStyles=this._private.contextStyles||{};if(d[o])return d[o];for(var h={_private:{key:o}},p=0;p<this.length;p++){var g=this[p];if("t"===o[p])for(var b=0;b<g.properties.length;b++){var y=g.properties[b];h[y.name]=y}}return d[o]=h,h},applyContextStyle:function(u,o,l){for(var h=u.diffPropNames,p={},g=this.types,v=0;v<h.length;v++){var b=h[v],y=o[b],w=l.pstyle(b);if(!y){if(!w)continue;y=w.bypass?{name:b,deleteBypassed:!0}:{name:b,delete:!0}}if(w!==y){if(y.mapped===g.fn&&null!=w&&null!=w.mapping&&w.mapping.value===y.value){var S=w.mapping;if((S.fnValue=y.value(l))===S.prevFnValue)continue}var k=p[b]={prev:w};this.applyParsedProperty(l,y),k.next=l.pstyle(b),k.next&&k.next.bypass&&(k.next=k.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(u){var d,o=u._private,l=this,h=l.propertyGroupKeys,p=function(Nt,Qt,vn){return l.getPropertiesHash(Nt,Qt,vn)},g=o.styleKey;if(u.removed())return!1;var Nt,v="nodes"===o.group,b=u._private.style;d=Object.keys(b);for(var y=0;y<h.length;y++)o.styleKeys[h[y]]=[Qo,$o];for(var S=function(Nt,Qt){return o.styleKeys[Qt][0]=za(Nt,o.styleKeys[Qt][0])},E=function(Nt,Qt){return o.styleKeys[Qt][1]=ja(Nt,o.styleKeys[Qt][1])},k=function(Nt,Qt){S(Nt,Qt),E(Nt,Qt)},I=function(Nt,Qt){for(var vn=0;vn<Nt.length;vn++){var Dn=Nt.charCodeAt(vn);S(Dn,Qt),E(Dn,Qt)}},W=0;W<d.length;W++){var te=d[W],ne=b[te];if(null!=ne){var se=this.properties[te],xe=se.type,De=se.groupKey,ae=void 0;null!=se.hashOverride?ae=se.hashOverride(u,ne):null!=ne.pfValue&&(ae=ne.pfValue);var Oe=null==se.enums?ne.value:null,de=null!=ae,pe=ne.units;!xe.number||!de&&null==Oe||xe.multiple?I(ne.strValue,De):(k(-128<(Nt=de?ae:Oe)&&Nt<128&&Math.floor(Nt)!==Nt?2e9-(1024*Nt|0):Nt,De),!de&&null!=pe&&I(pe,De))}}for(var Ce=[Qo,$o],Ge=0;Ge<h.length;Ge++){var Ue=o.styleKeys[h[Ge]];Ce[0]=za(Ue[0],Ce[0]),Ce[1]=ja(Ue[1],Ce[1])}o.styleKey=function(o,l){return 2097152*o+l}(Ce[0],Ce[1]);var Ye=o.styleKeys;o.labelDimsKey=Ys(Ye.labelDimensions);var tt=p(u,["label"],Ye.labelDimensions);if(o.labelKey=Ys(tt),o.labelStyleKey=Ys(qs(Ye.commonLabel,tt)),!v){var at=p(u,["source-label"],Ye.labelDimensions);o.sourceLabelKey=Ys(at),o.sourceLabelStyleKey=Ys(qs(Ye.commonLabel,at));var et=p(u,["target-label"],Ye.labelDimensions);o.targetLabelKey=Ys(et),o.targetLabelStyleKey=Ys(qs(Ye.commonLabel,et))}if(v){var Ke=o.styleKeys,Ze=Ke.pie,St=[Ke.nodeBody,Ke.nodeBorder,Ke.backgroundImage,Ke.compound,Ze].filter(function(Dt){return null!=Dt}).reduce(qs,[Qo,$o]);o.nodeKey=Ys(St),o.hasPie=null!=Ze&&Ze[0]!==Qo&&Ze[1]!==$o}return g!==o.styleKey},clearStyleHints:function(u){var o=u._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(u,o){var p,l=this,d=o,h=u._private.style,g=l.types,v=l.properties[d.name].type,b=d.bypass,y=h[d.name],w=y&&y.bypass,S=u._private,E="mapping",k=function(wt){return null==wt?null:null!=wt.pfValue?wt.pfValue:wt.value},I=function(){var wt=k(y),xt=k(d);l.checkTriggers(u,d.name,wt,xt)};if(d&&"pie"===d.name.substr(0,3)&&tr("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===o.name&&u.isEdge()&&("bezier"!==o.value&&u.isLoop()||"haystack"===o.value&&(u.source().isParent()||u.target().isParent()))&&(d=o=this.parse(o.name,"bezier",b)),d.delete)return h[d.name]=void 0,I(),!0;if(d.deleteBypassed)return y?!!y.bypass&&(y.bypassed=void 0,I(),!0):(I(),!0);if(d.deleteBypass)return y?!!y.bypass&&(h[d.name]=y.bypassed,I(),!0):(I(),!0);var $=function(){tr("Do not assign mappings to elements without corresponding data (i.e. ele `"+u.id()+"` has no mapping for property `"+d.name+"` with data field `"+d.field+"`); try a `["+d.field+"]` selector to limit scope to elements with `"+d.field+"` defined")};switch(d.mapped){case g.mapData:for(var X=d.field.split("."),W=S.data,te=0;te<X.length&&W;te++)W=W[X[te]];if(null==W)return $(),!1;var se;if(!he(W))return tr("Do not use continuous mappers without specifying numeric data (i.e. `"+d.field+": "+W+"` for `"+u.id()+"` is non-numeric)"),!1;var xe=d.fieldMax-d.fieldMin;if((se=0===xe?0:(W-d.fieldMin)/xe)<0?se=0:se>1&&(se=1),v.color){var De=d.valueMin[0],Oe=d.valueMin[1],de=d.valueMax[1],Me=d.valueMin[2],Te=d.valueMax[2],pe=null==d.valueMin[3]?1:d.valueMin[3],Fe=null==d.valueMax[3]?1:d.valueMax[3],Ce=[Math.round(De+(d.valueMax[0]-De)*se),Math.round(Oe+(de-Oe)*se),Math.round(Me+(Te-Me)*se),Math.round(pe+(Fe-pe)*se)];p={bypass:d.bypass,name:d.name,value:Ce,strValue:"rgb("+Ce[0]+", "+Ce[1]+", "+Ce[2]+")"}}else{if(!v.number)return!1;p=this.parse(d.name,d.valueMin+(d.valueMax-d.valueMin)*se,d.bypass,E)}if(!p)return $(),!1;p.mapping=d,d=p;break;case g.data:for(var $e=d.field.split("."),Ue=S.data,Ye=0;Ye<$e.length&&Ue;Ye++)Ue=Ue[$e[Ye]];if(null!=Ue&&(p=this.parse(d.name,Ue,d.bypass,E)),!p)return $(),!1;p.mapping=d,d=p;break;case g.fn:var et=null!=d.fnValue?d.fnValue:(0,d.value)(u);if(d.prevFnValue=et,null==et)return tr("Custom function mappers may not return null (i.e. `"+d.name+"` for ele `"+u.id()+"` is null)"),!1;if(!(p=this.parse(d.name,et,d.bypass,E)))return tr("Custom function mappers may not return invalid values for the property type (i.e. `"+d.name+"` for ele `"+u.id()+"` is invalid)"),!1;p.mapping=ms(d),d=p;break;case void 0:break;default:return!1}return b?(d.bypassed=w?y.bypassed:y,h[d.name]=d):w?y.bypassed=d:h[d.name]=d,I(),!0},cleanElements:function(u,o){for(var l=0;l<u.length;l++){var d=u[l];if(this.clearStyleHints(d),d.dirtyCompoundBoundsCache(),d.dirtyBoundingBoxCache(),o)for(var h=d._private.style,p=Object.keys(h),g=0;g<p.length;g++){var v=p[g],b=h[v];null!=b&&(b.bypass?b.bypassed=null:h[v]=null)}else d._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(u,o){var l=this,d=u._private,h=u.pstyle("transition-property").value,p=u.pstyle("transition-duration").pfValue,g=u.pstyle("transition-delay").pfValue;if(h.length>0&&p>0){for(var v={},b=!1,y=0;y<h.length;y++){var w=h[y],S=u.pstyle(w),E=o[w];if(E){var I=E.prev,$=null!=E.next?E.next:S,X=!1,W=void 0;I&&(he(I.pfValue)&&he($.pfValue)?W=I.pfValue+1e-6*(X=$.pfValue-I.pfValue):he(I.value)&&he($.value)?W=I.value+1e-6*(X=$.value-I.value):Ve(I.value)&&Ve($.value)&&(X=I.value[0]!==$.value[0]||I.value[1]!==$.value[1]||I.value[2]!==$.value[2],W=I.strValue),X&&(v[w]=$.strValue,this.applyBypass(u,w,W),b=!0))}}if(!b)return;d.transitioning=!0,new Hc(function(ne){g>0?u.delayAnimation(g).play().promise().then(ne):ne()}).then(function(){return u.animation({style:v,duration:p,easing:u.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){l.removeBypasses(u,h),u.emitAndNotify("style"),d.transitioning=!1})}else d.transitioning&&(this.removeBypasses(u,h),u.emitAndNotify("style"),d.transitioning=!1)},checkTrigger:function(u,o,l,d,h,p){var g=this.properties[o],v=h(g);null!=v&&v(l,d)&&p(g)},checkZOrderTrigger:function(u,o,l,d){var h=this;this.checkTrigger(u,o,l,d,function(p){return p.triggersZOrder},function(){h._private.cy.notify("zorder",u)})},checkBoundsTrigger:function(u,o,l,d){this.checkTrigger(u,o,l,d,function(h){return h.triggersBounds},function(h){u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),h.triggersBoundsOfParallelBeziers&&("curve-style"===o&&("bezier"===l||"bezier"===d)||"display"===o&&("none"===l||"none"===d))&&u.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(u,o,l,d){u.dirtyStyleCache(),this.checkZOrderTrigger(u,o,l,d),this.checkBoundsTrigger(u,o,l,d)}},wf={applyBypass:function(u,o,l,d){var p=[];if("*"===o||"**"===o){if(void 0!==l)for(var v=0;v<this.properties.length;v++){var w=this.parse(this.properties[v].name,l,!0);w&&p.push(w)}}else if(me(o)){var S=this.parse(o,l,!0);S&&p.push(S)}else{if(!Ae(o))return!1;var E=o;d=l;for(var k=Object.keys(E),I=0;I<k.length;I++){var $=k[I],X=E[$];if(void 0===X&&(X=E[Kt($)]),void 0!==X){var W=this.parse($,X,!0);W&&p.push(W)}}}if(0===p.length)return!1;for(var te=!1,ne=0;ne<u.length;ne++){for(var se=u[ne],xe={},De=void 0,ae=0;ae<p.length;ae++){var Oe=p[ae];if(d){var de=se.pstyle(Oe.name);De=xe[Oe.name]={prev:de}}te=this.applyParsedProperty(se,ms(Oe))||te,d&&(De.next=se.pstyle(Oe.name))}te&&this.updateStyleHints(se),d&&this.updateTransitions(se,xe,!0)}return te},overrideBypass:function(u,o,l){o=It(o);for(var d=0;d<u.length;d++){var h=u[d],p=h._private.style[o],g=this.properties[o].type,v=g.color,b=g.mutiple,y=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=l,null!=p.pfValue&&(p.pfValue=l),p.strValue=v?"rgb("+l.join(",")+")":b?l.join(" "):""+l,this.updateStyleHints(h)):this.applyBypass(h,o,l),this.checkTriggers(h,o,y,l)}},removeAllBypasses:function(u,o){return this.removeBypasses(u,this.propertyNames,o)},removeBypasses:function(u,o,l){for(var h=0;h<u.length;h++){for(var p=u[h],g={},v=0;v<o.length;v++){var b=o[v],y=this.properties[b],w=p.pstyle(y.name);if(w&&w.bypass){var E=this.parse(b,"",!0),k=g[y.name]={prev:w};this.applyParsedProperty(p,E),k.next=p.pstyle(y.name)}}this.updateStyleHints(p),l&&this.updateTransitions(p,g,!0)}}},Dv={getEmSizeInPixels:function(){var u=this.containerCss("font-size");return null!=u?parseFloat(u):1},containerCss:function(u){var l=this._private.cy.container();if(Q&&l&&Q.getComputedStyle)return Q.getComputedStyle(l).getPropertyValue(u)}},wa={getRenderedStyle:function(u,o){return o?this.getStylePropertyValue(u,o,!0):this.getRawStyle(u,!0)},getRawStyle:function(u,o){var l=this;if(u=u[0]){for(var d={},h=0;h<l.properties.length;h++){var p=l.properties[h],g=l.getStylePropertyValue(u,p.name,o);null!=g&&(d[p.name]=g,d[Kt(p.name)]=g)}return d}},getIndexedStyle:function(u,o,l,d){return u.pstyle(o)[l][d]??u.cy().style().getDefaultProperty(o)[l][0]},getStylePropertyValue:function(u,o,l){if(u=u[0]){var h=this.properties[o];h.alias&&(h=h.pointsTo);var p=h.type,g=u.pstyle(h.name);if(g){var v=g.value,b=g.units,y=g.strValue;if(l&&p.number&&null!=v&&he(v)){var w=u.cy().zoom(),S=function(X){return X*w},E=function(X,W){return S(X)+W},k=Ve(v);return(k?b.every(function($){return null!=$}):null!=b)?k?v.map(function($,X){return E($,b[X])}).join(" "):E(v,b):k?v.map(function($){return me($)?$:""+S($)}).join(" "):""+S(v)}if(null!=y)return y}return null}},getAnimationStartStyle:function(u,o){for(var l={},d=0;d<o.length;d++){var p=o[d].name,g=u.pstyle(p);void 0!==g&&(g=Ae(g)?this.parse(p,g.strValue):this.parse(p,g)),g&&(l[p]=g)}return l},getPropsList:function(u){var l=[],d=u,h=this.properties;if(d)for(var p=Object.keys(d),g=0;g<p.length;g++){var v=p[g],b=d[v],y=h[v]||h[It(v)],w=this.parse(y.name,b);w&&l.push(w)}return l},getNonDefaultPropertiesHash:function(u,o,l){var p,g,v,b,y,d=l.slice();for(b=0;b<o.length;b++)if(null!=(p=u.pstyle(o[b],!1)))if(null!=p.pfValue)d[0]=za(v,d[0]),d[1]=ja(v,d[1]);else for(g=p.strValue,y=0;y<g.length;y++)v=g.charCodeAt(y),d[0]=za(v,d[0]),d[1]=ja(v,d[1]);return d}};wa.getPropertiesHash=wa.getNonDefaultPropertiesHash;var Mp={appendFromJson:function(u){for(var o=this,l=0;l<u.length;l++){var d=u[l],h=d.selector,p=d.style||d.css,g=Object.keys(p);o.selector(h);for(var v=0;v<g.length;v++){var b=g[v];o.css(b,p[b])}}return o},fromJson:function(u){var o=this;return o.resetToDefault(),o.appendFromJson(u),o},json:function(){for(var u=[],o=this.defaultLength;o<this.length;o++){for(var l=this[o],d=l.selector,h=l.properties,p={},g=0;g<h.length;g++){var v=h[g];p[v.name]=v.strValue}u.push({selector:d?d.toString():"core",style:p})}return u}},Zl={appendFromString:function(u){var h,p,g,l=this,d=""+u;function v(){d=d.length>h.length?d.substr(h.length):""}function b(){p=p.length>g.length?p.substr(g.length):""}for(d=d.replace(/[/][*](\s|.)+?[*][/]/g,"");!d.match(/^\s*$/);){var w=d.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!w){tr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+d);break}h=w[0];var S=w[1];if("core"!==S&&new ma(S).invalid)tr("Skipping parsing of block: Invalid selector found in string stylesheet: "+S),v();else{var k=w[2],I=!1;p=k;for(var $=[];!p.match(/^\s*$/);){var W=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!W){tr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+k),I=!0;break}g=W[0];var te=W[1],ne=W[2];this.properties[te]?l.parse(te,ne)?($.push({name:te,val:ne}),b()):(tr("Skipping property: Invalid property definition in: "+g),b()):(tr("Skipping property: Invalid property name in: "+g),b())}if(I){v();break}l.selector(S);for(var De=0;De<$.length;De++){var ae=$[De];l.css(ae.name,ae.val)}v()}}return l},fromString:function(u){var o=this;return o.resetToDefault(),o.appendFromString(u),o}},Ui={};(function(){var u=on,o=dr,l=Hr,p=function(St){return"^"+St+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(St){var Dt=u+"|\\w+|"+o+"|"+l+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+St+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+u+")\\s*\\,\\s*("+u+")\\s*,\\s*("+Dt+")\\s*\\,\\s*("+Dt+")\\)$"},v=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Ui.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:v,singleRegexMatchValue:!0},urls:{regexes:v,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(St,Dt){switch(St.length){case 2:return"deg"!==Dt[0]&&"rad"!==Dt[0]&&"deg"!==Dt[1]&&"rad"!==Dt[1];case 1:return me(St[0])||"deg"===Dt[0]||"rad"===Dt[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(St){var Dt=St.length;return 1===Dt||2===Dt||4===Dt}}};var b={zeroNonZero:function(St,Dt){return(null==St||null==Dt)&&St!==Dt||0==St&&0!=Dt||0!=St&&0==Dt},any:function(St,Dt){return St!=Dt},emptyNonEmpty:function(St,Dt){var Nt=je(St),Qt=je(Dt);return Nt&&!Qt||!Nt&&Qt}},y=Ui.types,w=[{name:"label",type:y.text,triggersBounds:b.any,triggersZOrder:b.emptyNonEmpty},{name:"text-rotation",type:y.textRotation,triggersBounds:b.any},{name:"text-margin-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"text-margin-y",type:y.bidirectionalSize,triggersBounds:b.any}],S=[{name:"source-label",type:y.text,triggersBounds:b.any},{name:"source-text-rotation",type:y.textRotation,triggersBounds:b.any},{name:"source-text-margin-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"source-text-margin-y",type:y.bidirectionalSize,triggersBounds:b.any},{name:"source-text-offset",type:y.size,triggersBounds:b.any}],E=[{name:"target-label",type:y.text,triggersBounds:b.any},{name:"target-text-rotation",type:y.textRotation,triggersBounds:b.any},{name:"target-text-margin-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"target-text-margin-y",type:y.bidirectionalSize,triggersBounds:b.any},{name:"target-text-offset",type:y.size,triggersBounds:b.any}],k=[{name:"font-family",type:y.fontFamily,triggersBounds:b.any},{name:"font-style",type:y.fontStyle,triggersBounds:b.any},{name:"font-weight",type:y.fontWeight,triggersBounds:b.any},{name:"font-size",type:y.size,triggersBounds:b.any},{name:"text-transform",type:y.textTransform,triggersBounds:b.any},{name:"text-wrap",type:y.textWrap,triggersBounds:b.any},{name:"text-overflow-wrap",type:y.textOverflowWrap,triggersBounds:b.any},{name:"text-max-width",type:y.size,triggersBounds:b.any},{name:"text-outline-width",type:y.size,triggersBounds:b.any},{name:"line-height",type:y.positiveNumber,triggersBounds:b.any}],I=[{name:"text-valign",type:y.valign,triggersBounds:b.any},{name:"text-halign",type:y.halign,triggersBounds:b.any},{name:"color",type:y.color},{name:"text-outline-color",type:y.color},{name:"text-outline-opacity",type:y.zeroOneNumber},{name:"text-background-color",type:y.color},{name:"text-background-opacity",type:y.zeroOneNumber},{name:"text-background-padding",type:y.size,triggersBounds:b.any},{name:"text-border-opacity",type:y.zeroOneNumber},{name:"text-border-color",type:y.color},{name:"text-border-width",type:y.size,triggersBounds:b.any},{name:"text-border-style",type:y.borderStyle,triggersBounds:b.any},{name:"text-background-shape",type:y.textBackgroundShape,triggersBounds:b.any},{name:"text-justification",type:y.justification}],$=[{name:"events",type:y.bool},{name:"text-events",type:y.bool}],X=[{name:"display",type:y.display,triggersZOrder:b.any,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:y.visibility,triggersZOrder:b.any},{name:"opacity",type:y.zeroOneNumber,triggersZOrder:b.zeroNonZero},{name:"text-opacity",type:y.zeroOneNumber},{name:"min-zoomed-font-size",type:y.size},{name:"z-compound-depth",type:y.zCompoundDepth,triggersZOrder:b.any},{name:"z-index-compare",type:y.zIndexCompare,triggersZOrder:b.any},{name:"z-index",type:y.nonNegativeInt,triggersZOrder:b.any}],W=[{name:"overlay-padding",type:y.size,triggersBounds:b.any},{name:"overlay-color",type:y.color},{name:"overlay-opacity",type:y.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"overlay-shape",type:y.overlayShape,triggersBounds:b.any}],te=[{name:"underlay-padding",type:y.size,triggersBounds:b.any},{name:"underlay-color",type:y.color},{name:"underlay-opacity",type:y.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"underlay-shape",type:y.overlayShape,triggersBounds:b.any}],ne=[{name:"transition-property",type:y.propList},{name:"transition-duration",type:y.time},{name:"transition-delay",type:y.time},{name:"transition-timing-function",type:y.easing}],se=function(St,Dt){return"label"===Dt.value?-St.poolIndex():Dt.pfValue},xe=[{name:"height",type:y.nodeSize,triggersBounds:b.any,hashOverride:se},{name:"width",type:y.nodeSize,triggersBounds:b.any,hashOverride:se},{name:"shape",type:y.nodeShape,triggersBounds:b.any},{name:"shape-polygon-points",type:y.polygonPointList,triggersBounds:b.any},{name:"background-color",type:y.color},{name:"background-fill",type:y.fill},{name:"background-opacity",type:y.zeroOneNumber},{name:"background-blacken",type:y.nOneOneNumber},{name:"background-gradient-stop-colors",type:y.colors},{name:"background-gradient-stop-positions",type:y.percentages},{name:"background-gradient-direction",type:y.gradientDirection},{name:"padding",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"padding-relative-to",type:y.paddingRelativeTo,triggersBounds:b.any},{name:"bounds-expansion",type:y.boundsExpansion,triggersBounds:b.any}],De=[{name:"border-color",type:y.color},{name:"border-opacity",type:y.zeroOneNumber},{name:"border-width",type:y.size,triggersBounds:b.any},{name:"border-style",type:y.borderStyle}],ae=[{name:"background-image",type:y.urls},{name:"background-image-crossorigin",type:y.bgCrossOrigin},{name:"background-image-opacity",type:y.zeroOneNumbers},{name:"background-image-containment",type:y.bgContainment},{name:"background-image-smoothing",type:y.bools},{name:"background-position-x",type:y.bgPos},{name:"background-position-y",type:y.bgPos},{name:"background-width-relative-to",type:y.bgRelativeTo},{name:"background-height-relative-to",type:y.bgRelativeTo},{name:"background-repeat",type:y.bgRepeat},{name:"background-fit",type:y.bgFit},{name:"background-clip",type:y.bgClip},{name:"background-width",type:y.bgWH},{name:"background-height",type:y.bgWH},{name:"background-offset-x",type:y.bgPos},{name:"background-offset-y",type:y.bgPos}],Oe=[{name:"position",type:y.position,triggersBounds:b.any},{name:"compound-sizing-wrt-labels",type:y.compoundIncludeLabels,triggersBounds:b.any},{name:"min-width",type:y.size,triggersBounds:b.any},{name:"min-width-bias-left",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"min-width-bias-right",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"min-height",type:y.size,triggersBounds:b.any},{name:"min-height-bias-top",type:y.sizeMaybePercent,triggersBounds:b.any},{name:"min-height-bias-bottom",type:y.sizeMaybePercent,triggersBounds:b.any}],de=[{name:"line-style",type:y.lineStyle},{name:"line-color",type:y.color},{name:"line-fill",type:y.fill},{name:"line-cap",type:y.lineCap},{name:"line-opacity",type:y.zeroOneNumber},{name:"line-dash-pattern",type:y.numbers},{name:"line-dash-offset",type:y.number},{name:"line-gradient-stop-colors",type:y.colors},{name:"line-gradient-stop-positions",type:y.percentages},{name:"curve-style",type:y.curveStyle,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:y.zeroOneNumber,triggersBounds:b.any},{name:"source-endpoint",type:y.edgeEndpoint,triggersBounds:b.any},{name:"target-endpoint",type:y.edgeEndpoint,triggersBounds:b.any},{name:"control-point-step-size",type:y.size,triggersBounds:b.any},{name:"control-point-distances",type:y.bidirectionalSizes,triggersBounds:b.any},{name:"control-point-weights",type:y.numbers,triggersBounds:b.any},{name:"segment-distances",type:y.bidirectionalSizes,triggersBounds:b.any},{name:"segment-weights",type:y.numbers,triggersBounds:b.any},{name:"taxi-turn",type:y.bidirectionalSizeMaybePercent,triggersBounds:b.any},{name:"taxi-turn-min-distance",type:y.size,triggersBounds:b.any},{name:"taxi-direction",type:y.axisDirection,triggersBounds:b.any},{name:"edge-distances",type:y.edgeDistances,triggersBounds:b.any},{name:"arrow-scale",type:y.positiveNumber,triggersBounds:b.any},{name:"loop-direction",type:y.angle,triggersBounds:b.any},{name:"loop-sweep",type:y.angle,triggersBounds:b.any},{name:"source-distance-from-node",type:y.size,triggersBounds:b.any},{name:"target-distance-from-node",type:y.size,triggersBounds:b.any}],Me=[{name:"ghost",type:y.bool,triggersBounds:b.any},{name:"ghost-offset-x",type:y.bidirectionalSize,triggersBounds:b.any},{name:"ghost-offset-y",type:y.bidirectionalSize,triggersBounds:b.any},{name:"ghost-opacity",type:y.zeroOneNumber}],Te=[{name:"selection-box-color",type:y.color},{name:"selection-box-opacity",type:y.zeroOneNumber},{name:"selection-box-border-color",type:y.color},{name:"selection-box-border-width",type:y.size},{name:"active-bg-color",type:y.color},{name:"active-bg-opacity",type:y.zeroOneNumber},{name:"active-bg-size",type:y.size},{name:"outside-texture-bg-color",type:y.color},{name:"outside-texture-bg-opacity",type:y.zeroOneNumber}],pe=[];Ui.pieBackgroundN=16,pe.push({name:"pie-size",type:y.sizeMaybePercent});for(var Fe=1;Fe<=Ui.pieBackgroundN;Fe++)pe.push({name:"pie-"+Fe+"-background-color",type:y.color}),pe.push({name:"pie-"+Fe+"-background-size",type:y.percent}),pe.push({name:"pie-"+Fe+"-background-opacity",type:y.zeroOneNumber});var Ce=[],Ge=Ui.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:y.arrowShape,triggersBounds:b.any},{name:"arrow-color",type:y.color},{name:"arrow-fill",type:y.arrowFill}].forEach(function(Ze){Ge.forEach(function(St){Ce.push({name:St+"-"+Ze.name,type:Ze.type,triggersBounds:Ze.triggersBounds})})},{});var $e=Ui.properties=[].concat($,ne,X,W,te,Me,I,k,w,S,E,xe,De,ae,pe,Oe,de,Ce,Te),Ue=Ui.propertyGroups={behavior:$,transition:ne,visibility:X,overlay:W,underlay:te,ghost:Me,commonLabel:I,labelDimensions:k,mainLabel:w,sourceLabel:S,targetLabel:E,nodeBody:xe,nodeBorder:De,backgroundImage:ae,pie:pe,compound:Oe,edgeLine:de,edgeArrow:Ce,core:Te},Ye=Ui.propertyGroupNames={};(Ui.propertyGroupKeys=Object.keys(Ue)).forEach(function(Ze){Ye[Ze]=Ue[Ze].map(function(St){return St.name}),Ue[Ze].forEach(function(St){return St.groupKey=Ze})});var at=Ui.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Ui.propertyNames=$e.map(function(Ze){return Ze.name});for(var et=0;et<$e.length;et++){var Ke=$e[et];$e[Ke.name]=Ke}for(var wt=0;wt<at.length;wt++){var xt=at[wt],mt={name:xt.name,alias:!0,pointsTo:$e[xt.pointsTo]};$e.push(mt),$e[xt.name]=mt}})(),Ui.getDefaultProperty=function(u){return this.getDefaultProperties()[u]},Ui.getDefaultProperties=function(){var u=this._private;if(null!=u.defaultProperties)return u.defaultProperties;for(var o=Wt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(b,y){for(var w=1;w<=Ui.pieBackgroundN;w++)b[y.name.replace("{{i}}",w)]=y.value;return b},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(b,y){return Ui.arrowPrefixes.forEach(function(w){b[w+"-"+y.name]=y.value}),b},{})),l={},d=0;d<this.properties.length;d++){var h=this.properties[d];if(!h.pointsTo){var p=h.name,v=this.parse(p,o[p]);l[p]=v}}return u.defaultProperties=l,u.defaultProperties},Ui.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ap={parse:function(u,o,l,d){var h=this;if(Xe(o))return h.parseImplWarn(u,o,l,d);var w,b=qd(u,""+o,l?"t":"f","mapping"===d||!0===d||!1===d||null==d?"dontcare":d),y=h.propCache=h.propCache||[];return(w=y[b])||(w=y[b]=h.parseImplWarn(u,o,l,d)),(l||"mapping"===d)&&(w=ms(w))&&(w.value=ms(w.value)),w},parseImplWarn:function(u,o,l,d){var h=this.parseImpl(u,o,l,d);return!h&&null!=o&&tr("The style property `".concat(u,": ").concat(o,"` is invalid")),h&&("width"===h.name||"height"===h.name)&&"label"===o&&tr("The style value of `label` is deprecated for `"+h.name+"`"),h}};Ap.parseImpl=function(u,o,l,d){var h=this;u=It(u);var p=h.properties[u],g=o,v=h.types;if(!p||void 0===o)return null;p.alias&&(u=(p=p.pointsTo).name);var b=me(o);b&&(o=o.trim());var w,S,y=p.type;if(!y)return null;if(l&&(""===o||null===o))return{name:u,value:o,bypass:!0,deleteBypass:!0};if(Xe(o))return{name:u,value:o,strValue:"fn",mapped:v.fn,bypass:l};if(!(!b||d||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(w=new RegExp(v.data.regex).exec(o)))return!l&&{name:u,value:w,strValue:""+o,mapped:v.data,field:w[1],bypass:l};if(o.length>=10&&"m"===o[0]&&(S=new RegExp(v.mapData.regex).exec(o))){if(l||y.multiple)return!1;var k=v.mapData;if(!y.color&&!y.number)return!1;var I=this.parse(u,S[4]);if(!I||I.mapped)return!1;var $=this.parse(u,S[5]);if(!$||$.mapped)return!1;if(I.pfValue===$.pfValue||I.strValue===$.strValue)return tr("`"+u+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+u+": "+I.strValue+"`"),this.parse(u,I.strValue);if(y.color){var X=I.value,W=$.value;if(!(X[0]!==W[0]||X[1]!==W[1]||X[2]!==W[2]||X[3]!==W[3]&&(null!=X[3]&&1!==X[3]||null!=W[3]&&1!==W[3])))return!1}return{name:u,value:S,strValue:""+o,mapped:k,field:S[1],fieldMin:parseFloat(S[2]),fieldMax:parseFloat(S[3]),valueMin:I.value,valueMax:$.value,bypass:l}}}if(y.multiple&&"multiple"!==d){var ne;if(ne=b?o.split(/\s+/):Ve(o)?o:[o],y.evenMultiple&&ne.length%2!=0)return null;for(var se=[],xe=[],De=[],ae="",Oe=!1,de=0;de<ne.length;de++){var Me=h.parse(u,ne[de],l,"multiple");Oe=Oe||me(Me.value),se.push(Me.value),De.push(null!=Me.pfValue?Me.pfValue:Me.value),xe.push(Me.units),ae+=(de>0?" ":"")+Me.strValue}return y.validate&&!y.validate(se,xe)?null:y.singleEnum&&Oe?1===se.length&&me(se[0])?{name:u,value:se[0],strValue:se[0],bypass:l}:null:{name:u,value:se,pfValue:De,strValue:ae,bypass:l,units:xe}}var Te=function(){for(var Dt=0;Dt<y.enums.length;Dt++)if(y.enums[Dt]===o)return{name:u,value:o,strValue:""+o,bypass:l};return null};if(y.number){var pe,Fe="px";if(y.units&&(pe=y.units),y.implicitUnits&&(Fe=y.implicitUnits),!y.unitless)if(b){var Ce="px|em"+(y.allowPercent?"|\\%":"");pe&&(Ce=pe);var Ge=o.match("^("+on+")("+Ce+")?$");Ge&&(o=Ge[1],pe=Ge[2]||Fe)}else(!pe||y.implicitUnits)&&(pe=Fe);if(o=parseFloat(o),isNaN(o)&&void 0===y.enums)return null;if(isNaN(o)&&void 0!==y.enums)return o=g,Te();if(y.integer&&!function(o){return he(o)&&Math.floor(o)===o}(o)||void 0!==y.min&&(o<y.min||y.strictMin&&o===y.min)||void 0!==y.max&&(o>y.max||y.strictMax&&o===y.max))return null;var $e={name:u,value:o,strValue:""+o+(pe||""),units:pe,bypass:l};return $e.pfValue=y.unitless||"px"!==pe&&"em"!==pe?o:"px"!==pe&&pe?this.getEmSizeInPixels()*o:o,("ms"===pe||"s"===pe)&&($e.pfValue="ms"===pe?o:1e3*o),("deg"===pe||"rad"===pe)&&($e.pfValue="rad"===pe?o:function(o){return Math.PI*o/180}(o)),"%"===pe&&($e.pfValue=o/100),$e}if(y.propList){var Ue=[],Ye=""+o;if("none"!==Ye){for(var tt=Ye.split(/\s*,\s*|\s+/),at=0;at<tt.length;at++){var et=tt[at].trim();h.properties[et]?Ue.push(et):tr("`"+et+"` is not a valid property name")}if(0===Ue.length)return null}return{name:u,value:Ue,strValue:0===Ue.length?"none":Ue.join(" "),bypass:l}}if(y.color){var Ke=function(o){return(Ve(o)?o:null)||function(o){return Fl[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var d,h,p,g=16;return 4===o.length?(d=parseInt(o[1]+o[1],g),h=parseInt(o[2]+o[2],g),p=parseInt(o[3]+o[3],g)):(d=parseInt(o[1]+o[2],g),h=parseInt(o[3]+o[4],g),p=parseInt(o[5]+o[6],g)),[d,h,p]}}(o)||function(o){var l,d=new RegExp("^"+Bn+"$").exec(o);if(d){l=[];for(var h=[],p=1;p<=3;p++){var g=d[p];if("%"===g[g.length-1]&&(h[p]=!0),g=parseFloat(g),h[p]&&(g=g/100*255),g<0||g>255)return;l.push(Math.floor(g))}if((h[1]||h[2]||h[3])&&!(h[1]&&h[2]&&h[3]))return;var y=d[4];if(void 0!==y){if((y=parseFloat(y))<0||y>1)return;l.push(y)}}return l}(o)||function(o){var l,d,h,p,g,v,b,y;function w(I,$,X){return X<0&&(X+=1),X>1&&(X-=1),X<1/6?I+6*($-I)*X:X<.5?$:X<2/3?I+($-I)*(2/3-X)*6:I}var S=new RegExp("^"+lr+"$").exec(o);if(S){if((d=parseInt(S[1]))<0?d=(360- -1*d%360)%360:d>360&&(d%=360),d/=360,(h=parseFloat(S[2]))<0||h>100||(h/=100,(p=parseFloat(S[3]))<0||p>100)||(p/=100,void 0!==(g=S[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===h)v=b=y=Math.round(255*p);else{var E=p<.5?p*(1+h):p+h-p*h,k=2*p-E;v=Math.round(255*w(k,E,d+1/3)),b=Math.round(255*w(k,E,d)),y=Math.round(255*w(k,E,d-1/3))}l=[v,b,y,g]}return l}(o)}(o);return Ke?{name:u,value:Ke,pfValue:Ke,strValue:"rgb("+Ke[0]+","+Ke[1]+","+Ke[2]+")",bypass:l}:null}if(y.regex||y.regexes){if(y.enums){var wt=Te();if(wt)return wt}for(var xt=y.regexes?y.regexes:[y.regex],yt=0;yt<xt.length;yt++){var Ze=new RegExp(xt[yt]).exec(o);if(Ze)return{name:u,value:y.singleRegexMatchValue?Ze[1]:Ze,strValue:""+o,bypass:l}}return null}return y.string?{name:u,value:""+o,strValue:""+o,bypass:l}:y.enums?Te():null};var qn=function u(o){if(!(this instanceof u))return new u(o);ht(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):gr("A style must have a core reference")},mi=qn.prototype;mi.instanceString=function(){return"style"},mi.clear=function(){for(var u=this._private,l=u.cy.elements(),d=0;d<this.length;d++)this[d]=void 0;return this.length=0,u.contextStyles={},u.propDiffs={},this.cleanElements(l,!0),l.forEach(function(h){var p=h[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},mi.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},mi.core=function(u){return this._private.coreStyle[u]||this.getDefaultProperty(u)},mi.selector=function(u){var o="core"===u?null:new ma(u),l=this.length++;return this[l]={selector:o,properties:[],mappedProperties:[],index:l},this},mi.css=function(){var u=this,o=arguments;if(1===o.length)for(var l=o[0],d=0;d<u.properties.length;d++){var h=u.properties[d],p=l[h.name];void 0===p&&(p=l[Kt(h.name)]),void 0!==p&&this.cssRule(h.name,p)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},mi.style=mi.css,mi.cssRule=function(u,o){var l=this.parse(u,o);if(l){var d=this.length-1;this[d].properties.push(l),this[d].properties[l.name]=l,l.name.match(/pie-(\d+)-background-size/)&&l.value&&(this._private.hasPie=!0),l.mapped&&this[d].mappedProperties.push(l),!this[d].selector&&(this._private.coreStyle[l.name]=l)}return this},mi.append=function(u){return ot(u)?u.appendToStyle(this):Ve(u)?this.appendFromJson(u):me(u)&&this.appendFromString(u),this},qn.fromJson=function(u,o){var l=new qn(u);return l.fromJson(o),l},qn.fromString=function(u,o){return new qn(u).fromString(o)},[Ji,wf,Dv,wa,Mp,Zl,Ui,Ap].forEach(function(u){Wt(mi,u)}),qn.types=mi.types,qn.properties=mi.properties,qn.propertyGroups=mi.propertyGroups,qn.propertyGroupNames=mi.propertyGroupNames,qn.propertyGroupKeys=mi.propertyGroupKeys;var od={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var l=this._private;return l.style=ot(o)?o.generateStyle(this):Ve(o)?qn.fromJson(this,o):me(o)?qn.fromString(this,o):qn(this),l.style},updateStyle:function(){this.mutableElements().updateStyle()}},vi={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var l=this._private;return null==l.selectionType&&(l.selectionType="single"),void 0===o?l.selectionType:(("additive"===o||"single"===o)&&(l.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var d,h,p,g,v,o=arguments,l=this._private.pan;switch(o.length){case 0:return l;case 1:if(me(o[0]))return l[d=o[0]];if(Ae(o[0])){if(!this._private.panningEnabled)return this;v=(p=o[0]).y,he(g=p.x)&&(l.x=g),he(v)&&(l.y=v),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;h=o[1],("x"===(d=o[0])||"y"===d)&&he(h)&&(l[d]=h),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,l){var p,g,v,b,y,d=arguments,h=this._private.pan;if(!this._private.panningEnabled)return this;switch(d.length){case 1:Ae(o)&&(y=(v=d[0]).y,he(b=v.x)&&(h.x+=b),he(y)&&(h.y+=y),this.emit("pan viewport"));break;case 2:g=l,("x"===(p=o)||"y"===p)&&he(g)&&(h[p]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,l){var d=this.getFitViewport(o,l);if(d){var h=this._private;h.zoom=d.zoom,h.pan=d.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,l){var d;if((he(o)&&void 0===l&&(l=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(me(o)?o=this.$(o):!function(o){return Ae(o)&&he(o.x1)&&he(o.x2)&&he(o.y1)&&he(o.y2)}(o)?Ne(o)||(o=this.mutableElements()):((d={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=d.x2-d.x1,d.h=d.y2-d.y1),!Ne(o)||!o.empty())){d=d||o.boundingBox();var b,g=this.width(),v=this.height();if(l=he(l)?l:0,!isNaN(g)&&!isNaN(v)&&g>0&&v>0&&!isNaN(d.w)&&!isNaN(d.h)&&d.w>0&&d.h>0)return{zoom:b=(b=(b=Math.min((g-2*l)/d.w,(v-2*l)/d.h))>this._private.maxZoom?this._private.maxZoom:b)<this._private.minZoom?this._private.minZoom:b,pan:{x:(g-b*(d.x1+d.x2))/2,y:(v-b*(d.y1+d.y2))/2}}}},zoomRange:function(o,l){var d=this._private;if(null==l){var h=o;o=h.min,l=h.max}return he(o)&&he(l)&&o<=l?(d.minZoom=o,d.maxZoom=l):he(o)&&void 0===l&&o<=d.maxZoom?d.minZoom=o:he(l)&&void 0===o&&l>=d.minZoom&&(d.maxZoom=l),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var p,g,l=this._private,d=l.pan,h=l.zoom,v=!1;return l.zoomingEnabled||(v=!0),he(o)?g=o:Ae(o)&&(g=o.level,null!=o.position?p=Vn(o.position,h,d):null!=o.renderedPosition&&(p=o.renderedPosition),null!=p&&!l.panningEnabled&&(v=!0)),g=(g=g>l.maxZoom?l.maxZoom:g)<l.minZoom?l.minZoom:g,!v&&he(g)&&g!==h&&(null==p||he(p.x)&&he(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/h*(p.x-d.x)+p.x,y:-g/h*(p.y-d.y)+p.y}}:{zoomed:!0,panned:!1,zoom:g,pan:d}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var l=this.getZoomedViewport(o),d=this._private;return null!=l&&l.zoomed?(d.zoom=l.zoom,l.panned&&(d.pan.x=l.pan.x,d.pan.y=l.pan.y),this.emit("zoom"+(l.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var l=this._private,d=!0,h=!0,p=[],g=!1,v=!1;if(!o)return this;if(he(o.zoom)||(d=!1),Ae(o.pan)||(h=!1),!d&&!h)return this;if(d){var b=o.zoom;b<l.minZoom||b>l.maxZoom||!l.zoomingEnabled?g=!0:(l.zoom=b,p.push("zoom"))}if(h&&(!g||!o.cancelOnFailedZoom)&&l.panningEnabled){var y=o.pan;he(y.x)&&(l.pan.x=y.x,v=!1),he(y.y)&&(l.pan.y=y.y,v=!1),v||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(o){var l=this.getCenterPan(o);return l&&(this._private.pan=l,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,l){if(this._private.panningEnabled){if(me(o)){var d=o;o=this.mutableElements().filter(d)}else Ne(o)||(o=this.mutableElements());if(0!==o.length){var h=o.boundingBox(),p=this.width(),g=this.height();return{x:(p-(l=void 0===l?this._private.zoom:l)*(h.x1+h.x2))/2,y:(g-l*(h.y1+h.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var d,h,o=this._private,l=o.container;return o.sizeCache=o.sizeCache||(l?(d=Q.getComputedStyle(l),{width:l.clientWidth-(h=function(g){return parseFloat(d.getPropertyValue(g))})("padding-left")-h("padding-right"),height:l.clientHeight-h("padding-top")-h("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,l=this._private.zoom,d=this.renderedExtent(),h={x1:(d.x1-o.x)/l,x2:(d.x2-o.x)/l,y1:(d.y1-o.y)/l,y2:(d.y2-o.y)/l};return h.w=h.x2-h.x1,h.h=h.y2-h.y1,h},renderedExtent:function(){var o=this.width(),l=this.height();return{x1:0,y1:0,x2:o,y2:l,w:o,h:l}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};vi.centre=vi.center,vi.autolockNodes=vi.autolock,vi.autoungrabifyNodes=vi.autoungrabify;var _o={data:pr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:pr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:pr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:pr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};_o.attr=_o.data,_o.removeAttr=_o.removeData;var ju=function(o){var l=this,d=(o=Wt({},o)).container;d&&!He(d)&&He(d[0])&&(d=d[0]);var h=d?d._cyreg:null;(h=h||{})&&h.cy&&(h.cy.destroy(),h={});var p=h.readies=h.readies||[];d&&(d._cyreg=h),h.cy=l;var g=void 0!==Q&&void 0!==d&&!o.headless,v=o;v.layout=Wt({name:g?"grid":"null"},v.layout),v.renderer=Wt({name:g?"canvas":"null"},v.renderer);var b=function(I,$,X){return void 0!==$?$:void 0!==X?X:I},y=this._private={container:d,ready:!1,options:v,elements:new gi(this),listeners:[],aniEles:new gi(this),data:v.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:b(!0,v.zoomingEnabled),userZoomingEnabled:b(!0,v.userZoomingEnabled),panningEnabled:b(!0,v.panningEnabled),userPanningEnabled:b(!0,v.userPanningEnabled),boxSelectionEnabled:b(!0,v.boxSelectionEnabled),autolock:b(!1,v.autolock,v.autolockNodes),autoungrabify:b(!1,v.autoungrabify,v.autoungrabifyNodes),autounselectify:b(!1,v.autounselectify),styleEnabled:void 0===v.styleEnabled?g:v.styleEnabled,zoom:he(v.zoom)?v.zoom:1,pan:{x:Ae(v.pan)&&he(v.pan.x)?v.pan.x:0,y:Ae(v.pan)&&he(v.pan.y)?v.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:b(250,v.multiClickDebounceTime)};this.createEmitter(),this.selectionType(v.selectionType),this.zoomRange({min:v.minZoom,max:v.maxZoom}),y.styleEnabled&&l.setStyle([]);var S=Wt({},v,v.renderer);l.initRenderer(S),function(I,$){if(I.some(ct))return Hc.all(I).then($);$(I)}([v.style,v.elements],function(k){var I=k[0],$=k[1];y.styleEnabled&&l.style().append(I),function(I,$,X){l.notifications(!1);var W=l.mutableElements();W.length>0&&W.remove(),null!=I&&(Ae(I)||Ve(I))&&l.add(I),l.one("layoutready",function(ne){l.notifications(!0),l.emit(ne),l.one("load",$),l.emitAndNotify("load")}).one("layoutstop",function(){l.one("done",X),l.emit("done")});var te=Wt({},l._private.options.layout);te.eles=l.elements(),l.layout(te).run()}($,function(){l.startAnimationLoop(),y.ready=!0,Xe(v.ready)&&l.on("ready",v.ready);for(var X=0;X<p.length;X++)l.on("ready",p[X]);h&&(h.readies=[]),l.emit("ready")},v.done)})},Yl=ju.prototype;Wt(Yl,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},mount:function(o){if(null!=o){var l=this,d=l._private,h=d.options;return!He(o)&&He(o[0])&&(o=o[0]),l.stopAnimationLoop(),l.destroyRenderer(),d.container=o,d.styleEnabled=!0,l.invalidateSize(),l.initRenderer(Wt({},h,h.renderer,{name:"null"===h.renderer.name?"canvas":h.renderer.name})),l.startAnimationLoop(),l.style(h.style),l.emit("mount"),l}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return ms(this._private.options)},json:function(o){var l=this,d=l._private,h=l.mutableElements();if(Ae(o)){if(l.startBatch(),o.elements){var g={},v=function(se,xe){for(var De=[],ae=[],Oe=0;Oe<se.length;Oe++){var de=se[Oe];if(de.data.id){var Me=""+de.data.id,Te=l.getElementById(Me);g[Me]=!0,0!==Te.length?ae.push({ele:Te,json:de}):(xe&&(de.group=xe),De.push(de))}else tr("cy.json() cannot handle elements without an ID attribute")}l.add(De);for(var pe=0;pe<ae.length;pe++){var Fe=ae[pe];Fe.ele.json(Fe.json)}};if(Ve(o.elements))v(o.elements);else for(var b=["nodes","edges"],y=0;y<b.length;y++){var w=b[y],S=o.elements[w];Ve(S)&&v(S,w)}var E=l.collection();h.filter(function(ne){return!g[ne.id()]}).forEach(function(ne){ne.isParent()?E.merge(ne):ne.remove()}),E.forEach(function(ne){return ne.children().move({parent:null})}),E.forEach(function(ne){return(se=ne,l.getElementById(se.id())).remove();var se})}o.style&&l.style(o.style),null!=o.zoom&&o.zoom!==d.zoom&&l.zoom(o.zoom),o.pan&&(o.pan.x!==d.pan.x||o.pan.y!==d.pan.y)&&l.pan(o.pan),o.data&&l.data(o.data);for(var k=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],I=0;I<k.length;I++){var $=k[I];null!=o[$]&&l[$](o[$])}return l.endBatch(),this}var W={};o?W.elements=this.elements().map(function(ne){return ne.json()}):(W.elements={},h.forEach(function(ne){var se=ne.group();W.elements[se]||(W.elements[se]=[]),W.elements[se].push(ne.json())})),this._private.styleEnabled&&(W.style=l.style().json()),W.data=ms(l.data());var te=d.options;return W.zoomingEnabled=d.zoomingEnabled,W.userZoomingEnabled=d.userZoomingEnabled,W.zoom=d.zoom,W.minZoom=d.minZoom,W.maxZoom=d.maxZoom,W.panningEnabled=d.panningEnabled,W.userPanningEnabled=d.userPanningEnabled,W.pan=ms(d.pan),W.boxSelectionEnabled=d.boxSelectionEnabled,W.renderer=ms(te.renderer),W.hideEdgesOnViewport=te.hideEdgesOnViewport,W.textureOnViewport=te.textureOnViewport,W.wheelSensitivity=te.wheelSensitivity,W.motionBlur=te.motionBlur,W.multiClickDebounceTime=te.multiClickDebounceTime,W}}),Yl.$id=Yl.getElementById,[xb,sd,Wl,Of,Uu,zu,Tp,Xt,od,vi,_o].forEach(function(u){Wt(Yl,u)});var ad={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}},Hu=function(o){return o.scratch("breadthfirst")},Eb=function(o,l){return o.scratch("breadthfirst",l)};function Cv(u){this.options=Wt({},ad,u)}Cv.prototype.run=function(){var y,u=this.options,o=u,l=u.cy,d=o.eles,h=d.nodes().filter(function($t){return!$t.isParent()}),p=d,g=o.directed,v=o.maximal||o.maximalAdjustments>0,b=xr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(Ne(o.roots))y=o.roots;else if(Ve(o.roots)){for(var w=[],S=0;S<o.roots.length;S++){var k=l.getElementById(o.roots[S]);w.push(k)}y=l.collection(w)}else if(me(o.roots))y=l.$(o.roots);else if(g)y=h.roots();else{var I=d.components();y=l.collection();for(var $=function(Lt){var ln=I[Lt],qt=ln.maxDegree(!1),Vt=ln.filter(function(nn){return nn.degree(!1)===qt});y=y.add(Vt)},X=0;X<I.length;X++)$(X)}var W=[],te={},ne=function(Lt,ln){null==W[ln]&&(W[ln]=[]);var qt=W[ln].length;W[ln].push(Lt),Eb(Lt,{index:qt,depth:ln})};p.bfs({roots:y,directed:o.directed,visit:function(Lt,ln,qt,Vt,nn){var Pn=Lt[0],wn=Pn.id();ne(Pn,nn),te[wn]=!0}});for(var xe=[],De=0;De<h.length;De++){var ae=h[De];te[ae.id()]||xe.push(ae)}var Oe=function(Lt){for(var ln=W[Lt],qt=0;qt<ln.length;qt++){var Vt=ln[qt];null!=Vt?Eb(Vt,{depth:Lt,index:qt}):(ln.splice(qt,1),qt--)}},de=function(){for(var Lt=0;Lt<W.length;Lt++)Oe(Lt)},Me=function(Lt,ln){for(var qt=Hu(Lt),Vt=Lt.incomers().filter(function(fe){return fe.isNode()&&d.has(fe)}),nn=-1,Pn=Lt.id(),wn=0;wn<Vt.length;wn++){var At=Hu(Vt[wn]);nn=Math.max(nn,At.depth)}return qt.depth<=nn&&(ln[Pn]?null:(function(Lt,ln){var qt=Hu(Lt);W[qt.depth][qt.index]=null,ne(Lt,ln)}(Lt,nn+1),ln[Pn]=!0,!0))};if(g&&v){var Te=[],pe={},Fe=function(Lt){return Te.push(Lt)};for(h.forEach(function($t){return Te.push($t)});Te.length>0;){var Ge=Te.shift(),$e=Me(Ge,pe);if($e)Ge.outgoers().filter(function($t){return $t.isNode()&&d.has($t)}).forEach(Fe);else if(null===$e){tr("Detected double maximal shift for node `"+Ge.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}de();var Ue=0;if(o.avoidOverlap)for(var Ye=0;Ye<h.length;Ye++){var at=h[Ye].layoutDimensions(o);Ue=Math.max(Ue,at.w,at.h)}var wt={},xt=function(Lt){if(wt[Lt.id()])return wt[Lt.id()];for(var ln=Hu(Lt).depth,qt=Lt.neighborhood(),Vt=0,nn=0,Pn=0;Pn<qt.length;Pn++){var wn=qt[Pn];if(!wn.isEdge()&&!wn.isParent()&&h.has(wn)){var cn=Hu(wn);if(null!=cn){var At=cn.index,fe=cn.depth;null!=At&&null!=fe&&fe<ln&&(Vt+=At/W[fe].length,nn++)}}}return Vt/=nn=Math.max(1,nn),0===nn&&(Vt=0),wt[Lt.id()]=Vt,Vt},yt=function(Lt,ln){var nn=xt(Lt)-xt(ln);return 0===nn?hs(Lt.id(),ln.id()):nn};void 0!==o.depthSort&&(yt=o.depthSort);for(var mt=0;mt<W.length;mt++)W[mt].sort(yt),Oe(mt);for(var Ze=[],St=0;St<xe.length;St++)Ze.push(xe[St]);W.unshift(Ze),de();for(var Dt=0,Nt=0;Nt<W.length;Nt++)Dt=Math.max(W[Nt].length,Dt);var Qt_x=b.x1+b.w/2,Qt_y=b.x1+b.h/2,vn=W.reduce(function($t,Lt){return Math.max($t,Lt.length)},0);return d.nodes().layoutPositions(this,o,function(Lt){var ln=Hu(Lt),qt=ln.depth,Vt=ln.index,nn=W[qt].length,Pn=Math.max(b.w/((o.grid?vn:nn)+1),Ue),wn=Math.max(b.h/(W.length+1),Ue),cn=Math.min(b.w/2/W.length,b.h/2/W.length);if(cn=Math.max(cn,Ue),o.circle){var fe=cn*qt+cn-(W.length>0&&W[0].length<=3?cn/2:0),rt=2*Math.PI/W[qt].length*Vt;return 0===qt&&1===W[0].length&&(fe=1),{x:Qt_x+fe*Math.cos(rt),y:Qt_y+fe*Math.sin(rt)}}return{x:Qt_x+(Vt+1-(nn+1)/2)*Pn,y:(qt+1)*wn}}),this};var rC={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function ws(u){this.options=Wt({},rC,u)}ws.prototype.run=function(){var u=this.options,o=u,l=u.cy,d=o.eles,h=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,p=d.nodes().not(":parent");o.sort&&(p=p.sort(o.sort));for(var w,g=xr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),v={x:g.x1+g.w/2,y:g.y1+g.h/2},y=(void 0===o.sweep?2*Math.PI-2*Math.PI/p.length:o.sweep)/Math.max(1,p.length-1),S=0,E=0;E<p.length;E++){var I=p[E].layoutDimensions(o);S=Math.max(S,I.w,I.h)}if(w=he(o.radius)?o.radius:p.length<=1?0:Math.min(g.h,g.w)/2-S,p.length>1&&o.avoidOverlap){S*=1.75;var W=Math.cos(y)-Math.cos(0),te=Math.sin(y)-Math.sin(0),ne=Math.sqrt(S*S/(W*W+te*te));w=Math.max(ne,w)}return d.nodes().layoutPositions(this,o,function(De,ae){var Oe=o.startAngle+ae*y*(h?1:-1),de=w*Math.cos(Oe),Me=w*Math.sin(Oe);return{x:v.x+de,y:v.y+Me}}),this};var kp={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function ql(u){this.options=Wt({},kp,u)}ql.prototype.run=function(){for(var u=this.options,o=u,l=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,d=u.cy,h=o.eles,p=h.nodes().not(":parent"),g=xr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),v={x:g.x1+g.w/2,y:g.y1+g.h/2},b=[],y=0,w=0;w<p.length;w++){var E,S=p[w];E=o.concentric(S),b.push({value:E,node:S}),S._private.scratch.concentric=E}p.updateStyle();for(var k=0;k<p.length;k++){var $=p[k].layoutDimensions(o);y=Math.max(y,$.w,$.h)}b.sort(function($t,Lt){return Lt.value-$t.value});for(var X=o.levelWidth(p),W=[[]],te=W[0],ne=0;ne<b.length;ne++){var se=b[ne];te.length>0&&Math.abs(te[0].value-se.value)>=X&&W.push(te=[]),te.push(se)}var De=y+o.minNodeSpacing;if(!o.avoidOverlap){var ae=W.length>0&&W[0].length>1,Oe=Math.min(g.w,g.h)/2-De;De=Math.min(De,Oe/(W.length+ae?1:0))}for(var Me=0,Te=0;Te<W.length;Te++){var pe=W[Te],Fe=void 0===o.sweep?2*Math.PI-2*Math.PI/pe.length:o.sweep,Ce=pe.dTheta=Fe/Math.max(1,pe.length-1);if(pe.length>1&&o.avoidOverlap){var Ge=Math.cos(Ce)-Math.cos(0),$e=Math.sin(Ce)-Math.sin(0),Ue=Math.sqrt(De*De/(Ge*Ge+$e*$e));Me=Math.max(Ue,Me)}pe.r=Me,Me+=De}if(o.equidistant){for(var Ye=0,tt=0,at=0;at<W.length;at++)Ye=Math.max(Ye,W[at].r-tt);tt=0;for(var wt=0;wt<W.length;wt++){var xt=W[wt];0===wt&&(tt=xt.r),xt.r=tt,tt+=Ye}}for(var yt={},mt=0;mt<W.length;mt++)for(var Ze=W[mt],St=Ze.dTheta,Dt=Ze.r,Nt=0;Nt<Ze.length;Nt++){var Qt=Ze[Nt],vn=o.startAngle+(l?1:-1)*St*Nt,Dn={x:v.x+Dt*Math.cos(vn),y:v.y+Dt*Math.sin(vn)};yt[Qt.node.id()]=Dn}return h.nodes().layoutPositions(this,o,function($t){var Lt=$t.id();return yt[Lt]}),this};var Ev,_v={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,l){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Sf(u){this.options=Wt({},_v,u),this.options.layout=this}Sf.prototype.run=function(){var u=this.options,o=u.cy,l=this;l.stopped=!1,(!0===u.animate||!1===u.animate)&&l.emit({type:"layoutstart",layout:l}),Ev=!0===u.debug;var d=_b(o,l,u);Ev&&(void 0)(d),u.randomize&&kb(d);var h=Ei(),p=function(){Df(d,o,u),!0===u.fit&&o.fit(u.padding)},g=function(E){return!(l.stopped||E>=u.numIter||(Ip(d,u),d.temperature=d.temperature*u.coolingFactor,d.temperature<u.minTemp))},v=function(){if(!0===u.animate||!1===u.animate)p(),l.one("layoutstop",u.stop),l.emit({type:"layoutstop",layout:l});else{var E=u.eles.nodes(),k=xf(d,u,E);E.layoutPositions(l,u,k)}},b=0,y=!0;if(!0===u.animate)!function S(){for(var E=0;y&&E<u.refresh;)y=g(b),b++,E++;y?(Ei()-h>=u.animationThreshold&&p(),Ua(S)):(Gu(d,u),v())}();else{for(;y;)y=g(b),b++;Gu(d,u),v()}return this},Sf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Sf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var _b=function(o,l,d){for(var h=d.eles.edges(),p=d.eles.nodes(),g={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:h.size(),temperature:d.initialTemp,clientWidth:o.width(),clientHeight:o.width(),boundingBox:xr(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()})},v=d.eles.components(),b={},y=0;y<v.length;y++)for(var w=v[y],S=0;S<w.length;S++)b[w[S].id()]=y;for(y=0;y<g.nodeSize;y++){var I=(k=p[y]).layoutDimensions(d);($={}).isLocked=k.locked(),$.id=k.data("id"),$.parentId=k.data("parent"),$.cmptId=b[k.id()],$.children=[],$.positionX=k.position("x"),$.positionY=k.position("y"),$.offsetX=0,$.offsetY=0,$.height=I.w,$.width=I.h,$.maxX=$.positionX+$.width/2,$.minX=$.positionX-$.width/2,$.maxY=$.positionY+$.height/2,$.minY=$.positionY-$.height/2,$.padLeft=parseFloat(k.style("padding")),$.padRight=parseFloat(k.style("padding")),$.padTop=parseFloat(k.style("padding")),$.padBottom=parseFloat(k.style("padding")),$.nodeRepulsion=Xe(d.nodeRepulsion)?d.nodeRepulsion(k):d.nodeRepulsion,g.layoutNodes.push($),g.idToIndex[$.id]=y}var X=[],W=0,te=-1,ne=[];for(y=0;y<g.nodeSize;y++){var k,se=(k=g.layoutNodes[y]).parentId;null!=se?g.layoutNodes[g.idToIndex[se]].children.push(k.id):(X[++te]=k.id,ne.push(k.id))}for(g.graphSet.push(ne);W<=te;){var xe=X[W++],ae=g.layoutNodes[g.idToIndex[xe]].children;if(ae.length>0)for(g.graphSet.push(ae),y=0;y<ae.length;y++)X[++te]=ae[y]}for(y=0;y<g.graphSet.length;y++){var Oe=g.graphSet[y];for(S=0;S<Oe.length;S++)g.indexToGraph[g.idToIndex[Oe[S]]]=y}for(y=0;y<g.edgeSize;y++){var Me=h[y],Te={};Te.id=Me.data("id"),Te.sourceId=Me.data("source"),Te.targetId=Me.data("target");var pe=Xe(d.idealEdgeLength)?d.idealEdgeLength(Me):d.idealEdgeLength,Fe=Xe(d.edgeElasticity)?d.edgeElasticity(Me):d.edgeElasticity,Ce=g.idToIndex[Te.sourceId],Ge=g.idToIndex[Te.targetId];if(g.indexToGraph[Ce]!=g.indexToGraph[Ge]){for(var Ye=Tb(Te.sourceId,Te.targetId,g),tt=g.graphSet[Ye],at=0,$=g.layoutNodes[Ce];-1===tt.indexOf($.id);)$=g.layoutNodes[g.idToIndex[$.parentId]],at++;for($=g.layoutNodes[Ge];-1===tt.indexOf($.id);)$=g.layoutNodes[g.idToIndex[$.parentId]],at++;pe*=at*d.nestingFactor}Te.idealLength=pe,Te.elasticity=Fe,g.layoutEdges.push(Te)}return g},Tb=function(o,l,d){var h=Mb(o,l,0,d);return 2>h.count?0:h.graph},Mb=function u(o,l,d,h){var p=h.graphSet[d];if(-1<p.indexOf(o)&&-1<p.indexOf(l))return{count:2,graph:d};for(var g=0,v=0;v<p.length;v++){var w=h.layoutNodes[h.idToIndex[p[v]]].children;if(0!==w.length){var E=u(o,l,h.indexToGraph[h.idToIndex[w[0]]],h);if(0!==E.count){if(1!==E.count)return E;if(2==++g)break}}}return{count:g,graph:d}},kb=function(o,l){for(var d=o.clientWidth,h=o.clientHeight,p=0;p<o.nodeSize;p++){var g=o.layoutNodes[p];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*d,g.positionY=Math.random()*h)}},xf=function(o,l,d){var h=o.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return l.boundingBox&&(d.forEach(function(g){var v=o.layoutNodes[o.idToIndex[g.data("id")]];p.x1=Math.min(p.x1,v.positionX),p.x2=Math.max(p.x2,v.positionX),p.y1=Math.min(p.y1,v.positionY),p.y2=Math.max(p.y2,v.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(g,v){var b=o.layoutNodes[o.idToIndex[g.data("id")]];return l.boundingBox?{x:h.x1+(b.positionX-p.x1)/p.w*h.w,y:h.y1+(b.positionY-p.y1)/p.h*h.h}:{x:b.positionX,y:b.positionY}}},Df=function(o,l,d){var h=d.layout,p=d.eles.nodes(),g=xf(o,d,p);p.positions(g),!0!==o.ready&&(o.ready=!0,h.one("layoutready",d.ready),h.emit({type:"layoutready",layout:this}))},Ip=function(o,l,d){Kl(o,l),cd(o),Cf(o,l),Tv(o),Pb(o)},Kl=function(o,l){for(var d=0;d<o.graphSet.length;d++)for(var h=o.graphSet[d],p=h.length,g=0;g<p;g++)for(var v=o.layoutNodes[o.idToIndex[h[g]]],b=g+1;b<p;b++)ld(v,o.layoutNodes[o.idToIndex[h[b]]],o,l)},Pp=function(o){return-o+2*o*Math.random()},ld=function(o,l,d,h){if(o.cmptId===l.cmptId||d.isCompound){var v=l.positionX-o.positionX,b=l.positionY-o.positionY;0===v&&0===b&&(v=Pp(1),b=Pp(1));var w=Ib(o,l,v,b);if(w>0)var k=(S=h.nodeOverlap*w)*v/(E=Math.sqrt(v*v+b*b)),I=S*b/E;else{var S,$=ud(o,v,b),X=ud(l,-1*v,-1*b),W=X.x-$.x,te=X.y-$.y,ne=W*W+te*te,E=Math.sqrt(ne);k=(S=(o.nodeRepulsion+l.nodeRepulsion)/ne)*W/E,I=S*te/E}o.isLocked||(o.offsetX-=k,o.offsetY-=I),l.isLocked||(l.offsetX+=k,l.offsetY+=I)}},Ib=function(o,l,d,h){if(d>0)var p=o.maxX-l.minX;else p=l.maxX-o.minX;if(h>0)var g=o.maxY-l.minY;else g=l.maxY-o.minY;return p>=0&&g>=0?Math.sqrt(p*p+g*g):0},ud=function(o,l,d){var h=o.positionX,p=o.positionY,g=o.height||1,v=o.width||1,b=d/l,y=g/v,w={};return 0===l&&0<d||0===l&&0>d?(w.x=h,w.y=p+g/2,w):0<l&&-1*y<=b&&b<=y?(w.x=h+v/2,w.y=p+v*d/2/l,w):0>l&&-1*y<=b&&b<=y?(w.x=h-v/2,w.y=p-v*d/2/l,w):0<d&&(b<=-1*y||b>=y)?(w.x=h+g*l/2/d,w.y=p+g/2,w):(0>d&&(b<=-1*y||b>=y)&&(w.x=h-g*l/2/d,w.y=p-g/2),w)},cd=function(o,l){for(var d=0;d<o.edgeSize;d++){var h=o.layoutEdges[d],g=o.layoutNodes[o.idToIndex[h.sourceId]],b=o.layoutNodes[o.idToIndex[h.targetId]],y=b.positionX-g.positionX,w=b.positionY-g.positionY;if(0!==y||0!==w){var S=ud(g,y,w),E=ud(b,-1*y,-1*w),k=E.x-S.x,I=E.y-S.y,$=Math.sqrt(k*k+I*I),X=Math.pow(h.idealLength-$,2)/h.elasticity;if(0!==$)var W=X*k/$,te=X*I/$;else W=0,te=0;g.isLocked||(g.offsetX+=W,g.offsetY+=te),b.isLocked||(b.offsetX-=W,b.offsetY-=te)}}},Cf=function(o,l){if(0!==l.gravity)for(var h=0;h<o.graphSet.length;h++){var p=o.graphSet[h],g=p.length;if(0===h)var v=o.clientHeight/2,b=o.clientWidth/2;else{var w=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[p[0]]].parentId]];v=w.positionX,b=w.positionY}for(var S=0;S<g;S++){var E=o.layoutNodes[o.idToIndex[p[S]]];if(!E.isLocked){var k=v-E.positionX,I=b-E.positionY,$=Math.sqrt(k*k+I*I);if($>1){var W=l.gravity*I/$;E.offsetX+=l.gravity*k/$,E.offsetY+=W}}}}},Tv=function(o,l){var d=[],h=0,p=-1;for(d.push.apply(d,o.graphSet[0]),p+=o.graphSet[0].length;h<=p;){var g=d[h++],b=o.layoutNodes[o.idToIndex[g]],y=b.children;if(0<y.length&&!b.isLocked){for(var w=b.offsetX,S=b.offsetY,E=0;E<y.length;E++){var k=o.layoutNodes[o.idToIndex[y[E]]];k.offsetX+=w,k.offsetY+=S,d[++p]=y[E]}b.offsetX=0,b.offsetY=0}}},Pb=function(o,l){for(var d=0;d<o.nodeSize;d++)0<(h=o.layoutNodes[d]).children.length&&(h.maxX=void 0,h.minX=void 0,h.maxY=void 0,h.minY=void 0);for(d=0;d<o.nodeSize;d++)if(!(0<(h=o.layoutNodes[d]).children.length||h.isLocked)){var p=Rb(h.offsetX,h.offsetY,o.temperature);h.positionX+=p.x,h.positionY+=p.y,h.offsetX=0,h.offsetY=0,h.minX=h.positionX-h.width,h.maxX=h.positionX+h.width,h.minY=h.positionY-h.height,h.maxY=h.positionY+h.height,Xu(h,o)}for(d=0;d<o.nodeSize;d++){var h;0<(h=o.layoutNodes[d]).children.length&&!h.isLocked&&(h.positionX=(h.maxX+h.minX)/2,h.positionY=(h.maxY+h.minY)/2,h.width=h.maxX-h.minX,h.height=h.maxY-h.minY)}},Rb=function(o,l,d){var h=Math.sqrt(o*o+l*l);if(h>d)var p={x:d*o/h,y:d*l/h};else p={x:o,y:l};return p},Xu=function u(o,l){var d=o.parentId;if(null!=d){var h=l.layoutNodes[l.idToIndex[d]],p=!1;if((null==h.maxX||o.maxX+h.padRight>h.maxX)&&(h.maxX=o.maxX+h.padRight,p=!0),(null==h.minX||o.minX-h.padLeft<h.minX)&&(h.minX=o.minX-h.padLeft,p=!0),(null==h.maxY||o.maxY+h.padBottom>h.maxY)&&(h.maxY=o.maxY+h.padBottom,p=!0),(null==h.minY||o.minY-h.padTop<h.minY)&&(h.minY=o.minY-h.padTop,p=!0),p)return u(h,l)}},Gu=function(o,l){for(var d=o.layoutNodes,h=[],p=0;p<d.length;p++){var g=d[p],v=g.cmptId;(h[v]=h[v]||[]).push(g)}var y=0;for(p=0;p<h.length;p++)if(w=h[p]){w.x1=1/0,w.x2=-1/0,w.y1=1/0,w.y2=-1/0;for(var S=0;S<w.length;S++){var E=w[S];w.x1=Math.min(w.x1,E.positionX-E.width/2),w.x2=Math.max(w.x2,E.positionX+E.width/2),w.y1=Math.min(w.y1,E.positionY-E.height/2),w.y2=Math.max(w.y2,E.positionY+E.height/2)}w.w=w.x2-w.x1,w.h=w.y2-w.y1,y+=w.w*w.h}h.sort(function(te,ne){return ne.w*ne.h-te.w*te.h});var k=0,I=0,$=0,X=0,W=Math.sqrt(y)*o.clientWidth/o.clientHeight;for(p=0;p<h.length;p++){var w;if(w=h[p]){for(S=0;S<w.length;S++)(E=w[S]).isLocked||(E.positionX+=k-w.x1,E.positionY+=I-w.y1);k+=w.w+l.componentSpacing,$+=w.w+l.componentSpacing,X=Math.max(X,w.h),$>W&&(I+=X+l.componentSpacing,k=0,$=0,X=0)}}},Nb={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Lb(u){this.options=Wt({},Nb,u)}Lb.prototype.run=function(){var u=this.options,o=u,l=u.cy,d=o.eles,h=d.nodes().not(":parent");o.sort&&(h=h.sort(o.sort));var p=xr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(0===p.h||0===p.w)d.nodes().layoutPositions(this,o,function(wt){return{x:p.x1,y:p.y1}});else{var g=h.size(),v=Math.sqrt(g*p.h/p.w),b=Math.round(v),y=Math.round(p.w/p.h*v),w=function(xt){if(null==xt)return Math.min(b,y);Math.min(b,y)==b?b=xt:y=xt},S=function(xt){if(null==xt)return Math.max(b,y);Math.max(b,y)==b?b=xt:y=xt},E=o.rows,k=null!=o.cols?o.cols:o.columns;if(null!=E&&null!=k)b=E,y=k;else if(null!=E&&null==k)b=E,y=Math.ceil(g/b);else if(null==E&&null!=k)y=k,b=Math.ceil(g/y);else if(y*b>g){var I=w(),$=S();(I-1)*$>=g?w(I-1):($-1)*I>=g&&S($-1)}else for(;y*b<g;){var X=w(),W=S();(W+1)*X>=g?S(W+1):w(X+1)}var te=p.w/y,ne=p.h/b;if(o.condense&&(te=0,ne=0),o.avoidOverlap)for(var se=0;se<h.length;se++){var xe=h[se],De=xe._private.position;(null==De.x||null==De.y)&&(De.x=0,De.y=0);var ae=xe.layoutDimensions(o),Oe=o.avoidOverlapPadding,Me=ae.h+Oe;te=Math.max(te,ae.w+Oe),ne=Math.max(ne,Me)}for(var Te={},pe=function(xt,yt){return!!Te["c-"+xt+"-"+yt]},Fe=function(xt,yt){Te["c-"+xt+"-"+yt]=!0},Ce=0,Ge=0,$e=function(){++Ge>=y&&(Ge=0,Ce++)},Ue={},Ye=0;Ye<h.length;Ye++){var tt=h[Ye],at=o.position(tt);if(at&&(void 0!==at.row||void 0!==at.col)){var et={row:at.row,col:at.col};if(void 0===et.col)for(et.col=0;pe(et.row,et.col);)et.col++;else if(void 0===et.row)for(et.row=0;pe(et.row,et.col);)et.row++;Ue[tt.id()]=et,Fe(et.row,et.col)}}h.layoutPositions(this,o,function(xt,yt){var mt,Ze;if(xt.locked()||xt.isParent())return!1;var St=Ue[xt.id()];if(St)mt=St.col*te+te/2+p.x1,Ze=St.row*ne+ne/2+p.y1;else{for(;pe(Ce,Ge);)$e();mt=Ge*te+te/2+p.x1,Ze=Ce*ne+ne/2+p.y1,Fe(Ce,Ge),$e()}return{x:mt,y:Ze}})}return this};var Mv={ready:function(){},stop:function(){}};function Rp(u){this.options=Wt({},Mv,u)}Rp.prototype.run=function(){var u=this.options,o=u.eles,l=this;return l.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),l.one("layoutready",u.ready),l.emit("layoutready"),l.one("layoutstop",u.stop),l.emit("layoutstop"),this},Rp.prototype.stop=function(){return this};var iC={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Av(u){this.options=Wt({},iC,u)}Av.prototype.run=function(){var u=this.options,l=u.eles.nodes(),d=Xe(u.positions);return l.layoutPositions(this,u,function(p,g){var v=function h(p){return null==u.positions?function(o){return{x:o.x,y:o.y}}(p.position()):d?u.positions(p):u.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=v&&v}),this};var Fb={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function kv(u){this.options=Wt({},Fb,u)}kv.prototype.run=function(){var u=this.options,o=u.cy,l=u.eles,d=xr(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return l.nodes().layoutPositions(this,u,function(g,v){return{x:d.x1+Math.round(Math.random()*d.w),y:d.y1+Math.round(Math.random()*d.h)}}),this};var Ef=[{name:"breadthfirst",impl:Cv},{name:"circle",impl:ws},{name:"concentric",impl:ql},{name:"cose",impl:Sf},{name:"grid",impl:Lb},{name:"null",impl:Rp},{name:"preset",impl:Av},{name:"random",impl:kv}];function Np(u){this.options=u,this.notifications=0}var Iv=function(){},Lp=function(){throw new Error("A headless instance can not render images")};Np.prototype={recalculateRenderedStyle:Iv,notify:function(){this.notifications++},init:Iv,isHeadless:function(){return!0},png:Lp,jpg:Lp};var Pv={arrowShapeWidth:.3,registerArrowShapes:function(){var u=this.arrowShapes={},o=this,l=function(y,w,S,E,k,I,$){return k.x-S/2-$<=y&&y<=k.x+S/2+$&&k.y-S/2-$<=w&&w<=k.y+S/2+$},d=function(y,w,S,E,k){var I=y*Math.cos(E)-w*Math.sin(E),$=y*Math.sin(E)+w*Math.cos(E);return{x:I*S+k.x,y:$*S+k.y}},h=function(y,w,S,E){for(var k=[],I=0;I<y.length;I+=2)k.push(d(y[I],y[I+1],w,S,E));return k},p=function(y){for(var w=[],S=0;S<y.length;S++){var E=y[S];w.push(E.x,E.y)}return w},g=function(y){return y.pstyle("width").pfValue*y.pstyle("arrow-scale").pfValue*2},v=function(y,w){me(w)&&(w=u[w]),u[y]=Wt({name:y,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(E,k,I,$,X,W){var te=p(h(this.points,I+2*W,$,X));return mr(E,k,te)},roughCollide:l,draw:function(E,k,I,$){var X=h(this.points,k,I,$);o.arrowShapeImpl("polygon")(E,X)},spacing:function(E){return 0},gap:g},w)};v("none",{collide:wu,roughCollide:wu,draw:Su,spacing:Ha,gap:Ha}),v("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),v("arrow","triangle"),v("triangle-backcurve",{points:u.triangle.points,controlPoint:[0,-.15],roughCollide:l,draw:function(y,w,S,E,k){var I=h(this.points,w,S,E),$=this.controlPoint,X=d($[0],$[1],w,S,E);o.arrowShapeImpl(this.name)(y,I,X)},gap:function(y){return.8*g(y)}}),v("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(y,w,S,E,k,I,$){var X=p(h(this.points,S+2*$,E,k)),W=p(h(this.pointsTee,S+2*$,E,k));return mr(y,w,X)||mr(y,w,W)},draw:function(y,w,S,E,k){var I=h(this.points,w,S,E),$=h(this.pointsTee,w,S,E);o.arrowShapeImpl(this.name)(y,I,$)}}),v("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(y,w,S,E,k,I,$){var X=k,W=Math.pow(X.x-y,2)+Math.pow(X.y-w,2)<=Math.pow((S+2*$)*this.radius,2),te=p(h(this.points,S+2*$,E,k));return mr(y,w,te)||W},draw:function(y,w,S,E,k){var I=h(this.pointsTr,w,S,E);o.arrowShapeImpl(this.name)(y,I,E.x,E.y,this.radius*w)},spacing:function(y){return o.getArrowWidth(y.pstyle("width").pfValue,y.pstyle("arrow-scale").value)*this.radius}}),v("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(y,w){var S=this.baseCrossLinePts.slice(),E=w/y;return S[3]=S[3]-E,S[5]=S[5]-E,S},collide:function(y,w,S,E,k,I,$){var X=p(h(this.points,S+2*$,E,k)),W=p(h(this.crossLinePts(S,I),S+2*$,E,k));return mr(y,w,X)||mr(y,w,W)},draw:function(y,w,S,E,k){var I=h(this.points,w,S,E),$=h(this.crossLinePts(w,k),w,S,E);o.arrowShapeImpl(this.name)(y,I,$)}}),v("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(y){return.525*g(y)}}),v("circle",{radius:.15,collide:function(y,w,S,E,k,I,$){var X=k;return Math.pow(X.x-y,2)+Math.pow(X.y-w,2)<=Math.pow((S+2*$)*this.radius,2)},draw:function(y,w,S,E,k){o.arrowShapeImpl(this.name)(y,E.x,E.y,this.radius*w)},spacing:function(y){return o.getArrowWidth(y.pstyle("width").pfValue,y.pstyle("arrow-scale").value)*this.radius}}),v("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(y){return 1},gap:function(y){return 1}}),v("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),v("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(y){return y.pstyle("width").pfValue*y.pstyle("arrow-scale").value}}),v("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(y){return.95*y.pstyle("width").pfValue*y.pstyle("arrow-scale").value}})}},ul={projectIntoViewport:function(u,o){var l=this.cy,d=this.findContainerClientCoords(),h=d[0],p=d[1],g=d[4],v=l.pan(),b=l.zoom();return[((u-h)/g-v.x)/b,((o-p)/g-v.y)/b]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var u=this.container,o=u.getBoundingClientRect(),l=Q.getComputedStyle(u),d=function(W){return parseFloat(l.getPropertyValue(W))},h_left=d("padding-left"),h_right=d("padding-right"),h_top=d("padding-top"),h_bottom=d("padding-bottom"),p_left=d("border-left-width"),p_right=d("border-right-width"),p_top=d("border-top-width"),g=(d("border-bottom-width"),u.clientWidth);return this.containerBB=[o.left+h_left+p_left,o.top+h_top+p_top,g-(h_left+h_right),u.clientHeight-(h_top+h_bottom),o.width/(g+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(u,o,l,d){return this.findNearestElements(u,o,l,d)[0]},findNearestElements:function(u,o,l,d){var I,$,h=this,p=this,g=p.getCachedZSortedEles(),v=[],b=p.cy.zoom(),y=p.cy.hasCompoundNodes(),w=(d?24:8)/b,S=(d?8:2)/b,E=(d?8:2)/b,k=1/0;function X(ae,Oe){if(ae.isNode()){if($)return;$=ae,v.push(ae)}if(ae.isEdge()&&(null==Oe||Oe<k))if(I){if(I.pstyle("z-compound-depth").value===ae.pstyle("z-compound-depth").value&&I.pstyle("z-compound-depth").value===ae.pstyle("z-compound-depth").value)for(var de=0;de<v.length;de++)if(v[de].isEdge()){v[de]=ae,I=ae,k=Oe??k;break}}else v.push(ae),I=ae,k=Oe??k}function W(ae){var Oe=ae.outerWidth()+2*S,de=ae.outerHeight()+2*S,Me=Oe/2,Te=de/2,pe=ae.position();if(pe.x-Me<=u&&u<=pe.x+Me&&pe.y-Te<=o&&o<=pe.y+Te&&p.nodeShapes[h.getNodeShape(ae)].checkPoint(u,o,0,Oe,de,pe.x,pe.y))return X(ae,0),!0}function te(ae){var Ge,Oe=ae._private,de=Oe.rscratch,Me=ae.pstyle("width").pfValue,Te=ae.pstyle("arrow-scale").value,pe=Me/2+w,Fe=pe*pe,Ce=2*pe,Ye=Oe.source,tt=Oe.target;if("segments"===de.edgeType||"straight"===de.edgeType||"haystack"===de.edgeType){for(var $e=de.allpts,Ue=0;Ue+3<$e.length;Ue+=2)if(Rc(u,o,$e[Ue],$e[Ue+1],$e[Ue+2],$e[Ue+3],Ce)&&Fe>(Ge=ep(u,o,$e[Ue],$e[Ue+1],$e[Ue+2],$e[Ue+3])))return X(ae,Ge),!0}else if("bezier"===de.edgeType||"multibezier"===de.edgeType||"self"===de.edgeType||"compound"===de.edgeType)for($e=de.allpts,Ue=0;Ue+5<de.allpts.length;Ue+=4)if(Du(u,o,$e[Ue],$e[Ue+1],$e[Ue+2],$e[Ue+3],$e[Ue+4],$e[Ue+5],Ce)&&Fe>(Ge=Nc(u,o,$e[Ue],$e[Ue+1],$e[Ue+2],$e[Ue+3],$e[Ue+4],$e[Ue+5])))return X(ae,Ge),!0;Ye=Ye||Oe.source,tt=tt||Oe.target;var at=h.getArrowWidth(Me,Te),et=[{name:"source",x:de.arrowStartX,y:de.arrowStartY,angle:de.srcArrowAngle},{name:"target",x:de.arrowEndX,y:de.arrowEndY,angle:de.tgtArrowAngle},{name:"mid-source",x:de.midX,y:de.midY,angle:de.midsrcArrowAngle},{name:"mid-target",x:de.midX,y:de.midY,angle:de.midtgtArrowAngle}];for(Ue=0;Ue<et.length;Ue++){var Ke=et[Ue],wt=p.arrowShapes[ae.pstyle(Ke.name+"-arrow-shape").value],xt=ae.pstyle("width").pfValue;if(wt.roughCollide(u,o,at,Ke.angle,{x:Ke.x,y:Ke.y},xt,w)&&wt.collide(u,o,at,Ke.angle,{x:Ke.x,y:Ke.y},xt,w))return X(ae),!0}y&&v.length>0&&(W(Ye),W(tt))}function ne(ae,Oe,de){return Js(ae,Oe,de)}function se(ae,Oe){var Te,de=ae._private,Me=E;Te=Oe?Oe+"-":"",ae.boundingBox();var pe=de.labelBounds[Oe||"main"],Fe=ae.pstyle(Te+"label").value;if("yes"===ae.pstyle("text-events").strValue&&Fe){var Ge=ne(de.rscratch,"labelX",Oe),$e=ne(de.rscratch,"labelY",Oe),Ue=ne(de.rscratch,"labelAngle",Oe),Ye=ae.pstyle(Te+"text-margin-x").pfValue,tt=ae.pstyle(Te+"text-margin-y").pfValue,at=pe.x1-Me-Ye,et=pe.x2+Me-Ye,Ke=pe.y1-Me-tt,wt=pe.y2+Me-tt;if(Ue){var xt=Math.cos(Ue),yt=Math.sin(Ue),mt=function(Dn,$t){return{x:(Dn-=Ge)*xt-($t-=$e)*yt+Ge,y:Dn*yt+$t*xt+$e}},Ze=mt(at,Ke),St=mt(at,wt),Dt=mt(et,Ke),Nt=mt(et,wt);if(mr(u,o,[Ze.x+Ye,Ze.y+tt,Dt.x+Ye,Dt.y+tt,Nt.x+Ye,Nt.y+tt,St.x+Ye,St.y+tt]))return X(ae),!0}else if(no(pe,u,o))return X(ae),!0}}l&&(g=g.interactive);for(var xe=g.length-1;xe>=0;xe--){var De=g[xe];De.isNode()?W(De)||se(De):te(De)||se(De)||se(De,"source")||se(De,"target")}return v},getAllInBox:function(u,o,l,d){for(var h=this.getCachedZSortedEles().interactive,p=[],g=Math.min(u,l),v=Math.max(u,l),b=Math.min(o,d),y=Math.max(o,d),w=xr({x1:u=g,y1:o=b,x2:l=v,y2:d=y}),S=0;S<h.length;S++){var E=h[S];if(E.isNode()){var k=E,I=k.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Is(w,I)&&!Oo(I,w)&&p.push(k)}else{var $=E,X=$._private,W=X.rscratch;if(null!=W.startX&&null!=W.startY&&!no(w,W.startX,W.startY)||null!=W.endX&&null!=W.endY&&!no(w,W.endX,W.endY))continue;if("bezier"===W.edgeType||"multibezier"===W.edgeType||"self"===W.edgeType||"compound"===W.edgeType||"segments"===W.edgeType||"haystack"===W.edgeType){for(var te=X.rstyle.bezierPts||X.rstyle.linePts||X.rstyle.haystackPts,ne=!0,se=0;se<te.length;se++)if(!xu(w,te[se])){ne=!1;break}ne&&p.push($)}else("haystack"===W.edgeType||"straight"===W.edgeType)&&p.push($)}}return p}},Fp={calculateArrowAngles:function(u){var b,y,w,S,E,k,o=u._private.rscratch,l="haystack"===o.edgeType,d="bezier"===o.edgeType,h="multibezier"===o.edgeType,p="segments"===o.edgeType,g="compound"===o.edgeType,v="self"===o.edgeType;l?(w=o.haystackPts[0],S=o.haystackPts[1],E=o.haystackPts[2],k=o.haystackPts[3]):(w=o.arrowStartX,S=o.arrowStartY,E=o.arrowEndX,k=o.arrowEndY),W=o.midX,te=o.midY,p?(b=w-o.segpts[0],y=S-o.segpts[1]):h||g||v||d?(b=w-Wn((I=o.allpts)[0],I[2],I[4],.1),y=S-Wn(I[1],I[3],I[5],.1)):(b=w-W,y=S-te),o.srcArrowAngle=vr(b,y);var W=o.midX,te=o.midY;if(l&&(W=(w+E)/2,te=(S+k)/2),b=E-w,y=k-S,p)if((I=o.allpts).length/2%2==0)b=I[ne=I.length/2]-I[se=ne-2],y=I[ne+1]-I[se+1];else{var ne,se,xe=2+(ne=I.length/2-1);b=I[ne]-I[se=ne-2],y=I[ne+1]-I[se+1]}else if(h||g||v){var ae,Oe,de,Me,pe,Te,Fe,I=o.allpts;o.ctrlpts.length/2%2==0?(ae=Wn(I[Te=I.length/2-1],I[pe=Te+2],I[Fe=pe+2],0),Oe=Wn(I[Te+1],I[pe+1],I[Fe+1],0),de=Wn(I[Te],I[pe],I[Fe],1e-4),Me=Wn(I[Te+1],I[pe+1],I[Fe+1],1e-4)):(ae=Wn(I[Te=(pe=I.length/2-1)-2],I[pe],I[Fe=pe+2],.4999),Oe=Wn(I[Te+1],I[pe+1],I[Fe+1],.4999),de=Wn(I[Te],I[pe],I[Fe],.5),Me=Wn(I[Te+1],I[pe+1],I[Fe+1],.5)),b=de-ae,y=Me-Oe}if(o.midtgtArrowAngle=vr(b,y),o.midDispX=b,o.midDispY=y,b*=-1,y*=-1,p&&(I=o.allpts).length/2%2!=0&&(b=-(I[xe=2+(ne=I.length/2-1)]-I[ne]),y=-(I[xe+1]-I[ne+1])),o.midsrcArrowAngle=vr(b,y),p)b=E-o.segpts[o.segpts.length-2],y=k-o.segpts[o.segpts.length-1];else if(h||g||v||d){var Ce=(I=o.allpts).length;b=E-Wn(I[Ce-6],I[Ce-4],I[Ce-2],.9),y=k-Wn(I[Ce-5],I[Ce-3],I[Ce-1],.9)}else b=E-W,y=k-te;o.tgtArrowAngle=vr(b,y)}};Fp.getArrowWidth=Fp.getArrowHeight=function(u,o){var l=this.arrowWidthCache=this.arrowWidthCache||{},d=l[u+", "+o];return d||(d=Math.max(Math.pow(13.37*u,.9),29)*o,l[u+", "+o]=d,d)};var es={};function Rv(u){var o=[];if(null!=u){for(var l=0;l<u.length;l+=2)o.push({x:u[l],y:u[l+1]});return o}}es.findHaystackPoints=function(u){for(var o=0;o<u.length;o++){var l=u[o],d=l._private,h=d.rscratch;if(!h.haystack){var p=2*Math.random()*Math.PI;h.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,h.target={x:Math.cos(p),y:Math.sin(p)}}var g=d.source,v=d.target,b=g.position(),y=v.position(),w=g.width(),S=v.width(),E=g.height(),k=v.height(),$=l.pstyle("haystack-radius").value/2;h.haystackPts=h.allpts=[h.source.x*w*$+b.x,h.source.y*E*$+b.y,h.target.x*S*$+y.x,h.target.y*k*$+y.y],h.midX=(h.allpts[0]+h.allpts[2])/2,h.midY=(h.allpts[1]+h.allpts[3])/2,h.edgeType="haystack",h.haystack=!0,this.storeEdgeProjections(l),this.calculateArrowAngles(l),this.recalculateEdgeLabelProjections(l),this.calculateLabelAngles(l)}},es.findSegmentsPoints=function(u,o){var l=u._private.rscratch,d=o.posPts,h=o.intersectionPts,p=o.vectorNormInverse,g=u.pstyle("edge-distances").value,v=u.pstyle("segment-weights"),b=u.pstyle("segment-distances"),y=Math.min(v.pfValue.length,b.pfValue.length);l.edgeType="segments",l.segpts=[];for(var w=0;w<y;w++){var S=v.pfValue[w],E=b.pfValue[w],k=1-S,$="node-position"===g?d:h,X={x:$.x1*k+$.x2*S,y:$.y1*k+$.y2*S};l.segpts.push(X.x+p.x*E,X.y+p.y*E)}},es.findLoopPoints=function(u,o,l,d){var h=u._private.rscratch,p=o.dirCounts,g=o.srcPos,v=u.pstyle("control-point-distances"),b=v?v.pfValue[0]:void 0,y=u.pstyle("loop-direction").pfValue,w=u.pstyle("loop-sweep").pfValue,S=u.pstyle("control-point-step-size").pfValue;h.edgeType="self";var E=l,k=S;d&&(E=0,k=b);var I=y-Math.PI/2,$=I-w/2,X=I+w/2,W=String(y+"_"+w);E=void 0===p[W]?p[W]=0:++p[W],h.ctrlpts=[g.x+1.4*Math.cos($)*k*(E/3+1),g.y+1.4*Math.sin($)*k*(E/3+1),g.x+1.4*Math.cos(X)*k*(E/3+1),g.y+1.4*Math.sin(X)*k*(E/3+1)]},es.findCompoundLoopPoints=function(u,o,l,d){var h=u._private.rscratch;h.edgeType="compound";var p=o.srcPos,g=o.tgtPos,v=o.srcW,b=o.srcH,y=o.tgtW,w=o.tgtH,S=u.pstyle("control-point-step-size").pfValue,E=u.pstyle("control-point-distances"),I=l,$=S;d&&(I=0,$=E?E.pfValue[0]:void 0);var W={x:p.x-v/2,y:p.y-b/2},te={x:g.x-y/2,y:g.y-w/2},ne={x:Math.min(W.x,te.x),y:Math.min(W.y,te.y)},xe=Math.max(.5,Math.log(.01*v)),De=Math.max(.5,Math.log(.01*y));h.ctrlpts=[ne.x,ne.y-(1+Math.pow(50,1.12)/100)*$*(I/3+1)*xe,ne.x-(1+Math.pow(50,1.12)/100)*$*(I/3+1)*De,ne.y]},es.findStraightEdgePoints=function(u){u._private.rscratch.edgeType="straight"},es.findBezierPoints=function(u,o,l,d,h){var p=u._private.rscratch,g=o.vectorNormInverse,v=o.posPts,b=o.intersectionPts,y=u.pstyle("edge-distances").value,w=u.pstyle("control-point-step-size").pfValue,S=u.pstyle("control-point-distances"),E=u.pstyle("control-point-weights"),k=S&&E?Math.min(S.value.length,E.value.length):1,I=S?S.pfValue[0]:void 0,$=E.value[0],X=d;p.edgeType=X?"multibezier":"bezier",p.ctrlpts=[];for(var W=0;W<k;W++){var ne,te=(.5-o.eles.length/2+l)*w*(h?-1:1),se=Xr(te);X&&(I=S?S.pfValue[W]:w,$=E.value[W]);var xe=void 0!==(ne=d?I:void 0!==I?se*I:void 0)?ne:te,De=1-$,Oe="node-position"===y?v:b,de={x:Oe.x1*De+Oe.x2*$,y:Oe.y1*De+Oe.y2*$};p.ctrlpts.push(de.x+g.x*xe,de.y+g.y*xe)}},es.findTaxiPoints=function(u,o){var l=u._private.rscratch;l.edgeType="segments";var d="vertical",h="horizontal",p="leftward",g="rightward",v="downward",b="upward",w=o.posPts,S=o.srcW,E=o.srcH,k=o.tgtW,I=o.tgtH,X="node-position"!==u.pstyle("edge-distances").value,W=u.pstyle("taxi-direction").value,te=W,ne=u.pstyle("taxi-turn"),se="%"===ne.units,xe=ne.pfValue,De=xe<0,ae=u.pstyle("taxi-turn-min-distance").pfValue,de=X?(E+I)/2:0,Me=w.x2-w.x1,Te=w.y2-w.y1,pe=function(Jt,Fn){return Jt>0?Math.max(Jt-Fn,0):Math.min(Jt+Fn,0)},Fe=pe(Me,X?(S+k)/2:0),Ce=pe(Te,de),Ge=!1;"auto"===te?W=Math.abs(Fe)>Math.abs(Ce)?h:d:te===b||te===v?(W=d,Ge=!0):(te===p||te===g)&&(W=h,Ge=!0);var et,$e=W===d,Ue=$e?Ce:Fe,Ye=$e?Te:Me,tt=Xr(Ye),at=!1;(!Ge||!se&&!De)&&(te===v&&Ye<0||te===b&&Ye>0||te===p&&Ye>0||te===g&&Ye<0)&&(Ue=(tt*=-1)*Math.abs(Ue),at=!0);var xt=function(Jt){return Math.abs(Jt)<ae||Math.abs(Jt)>=Math.abs(Ue)},yt=xt(et=se?(xe<0?1+xe:xe)*Ue:(xe<0?Ue:0)+xe*tt),mt=xt(Math.abs(Ue)-Math.abs(et));if(!yt&&!mt||at)if($e){var fe=w.y1+et+(X?E/2*tt:0);l.segpts=[w.x1,fe,w.x2,fe]}else{var pt=w.x1+et+(X?S/2*tt:0);l.segpts=[pt,w.y1,pt,w.y2]}else if($e){var St=Math.abs(Ye)<=E/2,Dt=Math.abs(Me)<=k/2;if(St){var Nt=(w.x1+w.x2)/2;l.segpts=[Nt,w.y1,Nt,w.y2]}else if(Dt){var Dn=(w.y1+w.y2)/2;l.segpts=[w.x1,Dn,w.x2,Dn]}else l.segpts=[w.x1,w.y2]}else{var ln=Math.abs(Ye)<=S/2,qt=Math.abs(Te)<=I/2;if(ln){var Vt=(w.y1+w.y2)/2;l.segpts=[w.x1,Vt,w.x2,Vt]}else if(qt){var wn=(w.x1+w.x2)/2;l.segpts=[wn,w.y1,wn,w.y2]}else l.segpts=[w.x2,w.y1]}},es.tryToCorrectInvalidPoints=function(u,o){var l=u._private.rscratch;if("bezier"===l.edgeType){var d=o.srcPos,h=o.tgtPos,p=o.srcW,g=o.srcH,v=o.tgtW,b=o.tgtH,y=o.srcShape,w=o.tgtShape,S=!he(l.startX)||!he(l.startY),E=!he(l.arrowStartX)||!he(l.arrowStartY),k=!he(l.endX)||!he(l.endY),I=!he(l.arrowEndX)||!he(l.arrowEndY),W=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,te=wr({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.startX,y:l.startY}),ne=te<W,se=wr({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.endX,y:l.endY}),xe=se<W,De=!1;if(S||E||ne){De=!0;var ae={x:l.ctrlpts[0]-d.x,y:l.ctrlpts[1]-d.y},Oe=Math.sqrt(ae.x*ae.x+ae.y*ae.y),de={x:ae.x/Oe,y:ae.y/Oe},Me=Math.max(p,g),Te={x:l.ctrlpts[0]+2*de.x*Me,y:l.ctrlpts[1]+2*de.y*Me},pe=y.intersectLine(d.x,d.y,p,g,Te.x,Te.y,0);ne?(l.ctrlpts[0]=l.ctrlpts[0]+de.x*(W-te),l.ctrlpts[1]=l.ctrlpts[1]+de.y*(W-te)):(l.ctrlpts[0]=pe[0]+de.x*W,l.ctrlpts[1]=pe[1]+de.y*W)}if(k||I||xe){De=!0;var Fe={x:l.ctrlpts[0]-h.x,y:l.ctrlpts[1]-h.y},Ce=Math.sqrt(Fe.x*Fe.x+Fe.y*Fe.y),Ge={x:Fe.x/Ce,y:Fe.y/Ce},$e=Math.max(p,g),Ue={x:l.ctrlpts[0]+2*Ge.x*$e,y:l.ctrlpts[1]+2*Ge.y*$e},Ye=w.intersectLine(h.x,h.y,v,b,Ue.x,Ue.y,0);xe?(l.ctrlpts[0]=l.ctrlpts[0]+Ge.x*(W-se),l.ctrlpts[1]=l.ctrlpts[1]+Ge.y*(W-se)):(l.ctrlpts[0]=Ye[0]+Ge.x*W,l.ctrlpts[1]=Ye[1]+Ge.y*W)}De&&this.findEndpoints(u)}},es.storeAllpts=function(u){var o=u._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var l=0;l+1<o.ctrlpts.length;l+=2)o.allpts.push(o.ctrlpts[l],o.ctrlpts[l+1]),l+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[l]+o.ctrlpts[l+2])/2,(o.ctrlpts[l+1]+o.ctrlpts[l+3])/2);var d;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[d=o.allpts.length/2-1],o.midY=o.allpts[d+1]):(o.midX=Wn(o.allpts[d=o.allpts.length/2-3],o.allpts[d+2],o.allpts[d+4],.5),o.midY=Wn(o.allpts[d+1],o.allpts[d+3],o.allpts[d+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var p=o.segpts.length/2,g=p-2;o.midX=(o.segpts[g]+o.segpts[p])/2,o.midY=(o.segpts[g+1]+o.segpts[p+1])/2}else{var v=o.segpts.length/2-1;o.midX=o.segpts[v],o.midY=o.segpts[v+1]}},es.checkForInvalidEdgeWarning=function(u){var o=u[0]._private.rscratch;o.nodesOverlap||he(o.startX)&&he(o.startY)&&he(o.endX)&&he(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,tr("Edge `"+u.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},es.findEdgeControlPoints=function(u){var o=this;if(u&&0!==u.length){for(var l=this,h=l.cy.hasCompoundNodes(),p={map:new Zi,get:function(ae){var Oe=this.map.get(ae[0]);return null!=Oe?Oe.get(ae[1]):null},set:function(ae,Oe){var de=this.map.get(ae[0]);null==de&&(de=new Zi,this.map.set(ae[0],de)),de.set(ae[1],Oe)}},g=[],v=[],b=0;b<u.length;b++){var y=u[b],w=y._private,S=y.pstyle("curve-style").value;if(!y.removed()&&y.takesUpSpace()){if("haystack"===S){v.push(y);continue}var E="unbundled-bezier"===S||"segments"===S||"straight"===S||"straight-triangle"===S||"taxi"===S,k="unbundled-bezier"===S||"bezier"===S,$=w.target,te=[w.source.poolIndex(),$.poolIndex()].sort(),ne=p.get(te);null==ne&&(p.set(te,ne={eles:[]}),g.push(te)),ne.eles.push(y),E&&(ne.hasUnbundled=!0),k&&(ne.hasBezier=!0)}}for(var se=function(ae){var de=p.get(g[ae]),Me=void 0;if(!de.hasUnbundled){var Te=de.eles[0].parallelEdges().filter(function(At){return At.isBundledBezier()});Ic(de.eles),Te.forEach(function(At){return de.eles.push(At)}),de.eles.sort(function(At,fe){return At.poolIndex()-fe.poolIndex()})}var pe=de.eles[0],Fe=pe.source(),Ce=pe.target();if(Fe.poolIndex()>Ce.poolIndex()){var Ge=Fe;Fe=Ce,Ce=Ge}var $e=de.srcPos=Fe.position(),Ue=de.tgtPos=Ce.position(),Ye=de.srcW=Fe.outerWidth(),tt=de.srcH=Fe.outerHeight(),at=de.tgtW=Ce.outerWidth(),et=de.tgtH=Ce.outerHeight(),Ke=de.srcShape=l.nodeShapes[o.getNodeShape(Fe)],wt=de.tgtShape=l.nodeShapes[o.getNodeShape(Ce)];de.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var xt=0;xt<de.eles.length;xt++){var yt=de.eles[xt],mt=yt[0]._private.rscratch,Ze=yt.pstyle("curve-style").value,St="unbundled-bezier"===Ze||"segments"===Ze||"taxi"===Ze,Dt=!Fe.same(yt.source());if(!de.calculatedIntersection&&Fe!==Ce&&(de.hasBezier||de.hasUnbundled)){de.calculatedIntersection=!0;var Nt=Ke.intersectLine($e.x,$e.y,Ye,tt,Ue.x,Ue.y,0),Qt=de.srcIntn=Nt,vn=wt.intersectLine(Ue.x,Ue.y,at,et,$e.x,$e.y,0),Dn=de.tgtIntn=vn,$t=de.intersectionPts={x1:Nt[0],x2:vn[0],y1:Nt[1],y2:vn[1]},Lt=de.posPts={x1:$e.x,x2:Ue.x,y1:$e.y,y2:Ue.y},ln=vn[1]-Nt[1],qt=vn[0]-Nt[0],Vt=Math.sqrt(qt*qt+ln*ln),nn=de.vector={x:qt,y:ln},Pn=de.vectorNorm={x:nn.x/Vt,y:nn.y/Vt},wn={x:-Pn.y,y:Pn.x};de.nodesOverlap=!he(Vt)||wt.checkPoint(Nt[0],Nt[1],0,at,et,Ue.x,Ue.y)||Ke.checkPoint(vn[0],vn[1],0,Ye,tt,$e.x,$e.y),de.vectorNormInverse=wn,Me={nodesOverlap:de.nodesOverlap,dirCounts:de.dirCounts,calculatedIntersection:!0,hasBezier:de.hasBezier,hasUnbundled:de.hasUnbundled,eles:de.eles,srcPos:Ue,tgtPos:$e,srcW:at,srcH:et,tgtW:Ye,tgtH:tt,srcIntn:Dn,tgtIntn:Qt,srcShape:wt,tgtShape:Ke,posPts:{x1:Lt.x2,y1:Lt.y2,x2:Lt.x1,y2:Lt.y1},intersectionPts:{x1:$t.x2,y1:$t.y2,x2:$t.x1,y2:$t.y1},vector:{x:-nn.x,y:-nn.y},vectorNorm:{x:-Pn.x,y:-Pn.y},vectorNormInverse:{x:-wn.x,y:-wn.y}}}var cn=Dt?Me:de;mt.nodesOverlap=cn.nodesOverlap,mt.srcIntn=cn.srcIntn,mt.tgtIntn=cn.tgtIntn,h&&(Fe.isParent()||Fe.isChild()||Ce.isParent()||Ce.isChild())&&(Fe.parents().anySame(Ce)||Ce.parents().anySame(Fe)||Fe.same(Ce)&&Fe.isParent())?o.findCompoundLoopPoints(yt,cn,xt,St):Fe===Ce?o.findLoopPoints(yt,cn,xt,St):"segments"===Ze?o.findSegmentsPoints(yt,cn):"taxi"===Ze?o.findTaxiPoints(yt,cn):"straight"===Ze||!St&&de.eles.length%2==1&&xt===Math.floor(de.eles.length/2)?o.findStraightEdgePoints(yt):o.findBezierPoints(yt,cn,xt,St,Dt),o.findEndpoints(yt),o.tryToCorrectInvalidPoints(yt,cn),o.checkForInvalidEdgeWarning(yt),o.storeAllpts(yt),o.storeEdgeProjections(yt),o.calculateArrowAngles(yt),o.recalculateEdgeLabelProjections(yt),o.calculateLabelAngles(yt)}},xe=0;xe<g.length;xe++)se(xe);this.findHaystackPoints(v)}},es.getSegmentPoints=function(u){var o=u[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(u),Rv(o.segpts)},es.getControlPoints=function(u){var o=u[0]._private.rscratch,l=o.edgeType;if("bezier"===l||"multibezier"===l||"self"===l||"compound"===l)return this.recalculateRenderedStyle(u),Rv(o.ctrlpts)},es.getEdgeMidpoint=function(u){var o=u[0]._private.rscratch;return this.recalculateRenderedStyle(u),{x:o.midX,y:o.midY}};var Jl={manualEndptToPx:function(u,o){var d=u.position(),h=u.outerWidth(),p=u.outerHeight();if(2===o.value.length){var g=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(g[0]=g[0]*h),"%"===o.units[1]&&(g[1]=g[1]*p),g[0]+=d.x,g[1]+=d.y,g}var v=o.pfValue[0];v=-Math.PI/2+v;var b=2*Math.max(h,p),y=[d.x+Math.cos(v)*b,d.y+Math.sin(v)*b];return this.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,h,p,y[0],y[1],0)},findEndpoints:function(u){var l,Me,Te,pe,Fe,o=this,d=u.source()[0],h=u.target()[0],p=d.position(),g=h.position(),v=u.pstyle("target-arrow-shape").value,b=u.pstyle("source-arrow-shape").value,y=u.pstyle("target-distance-from-node").pfValue,w=u.pstyle("source-distance-from-node").pfValue,S=u.pstyle("curve-style").value,E=u._private.rscratch,k=E.edgeType,$="self"===k||"compound"===k,X="bezier"===k||"multibezier"===k||$,W="bezier"!==k,te="straight"===k||"segments"===k,ne="segments"===k,se=X||W||te,xe=$||"taxi"===S,De=u.pstyle("source-endpoint"),ae=xe?"outside-to-node":De.value,Oe=u.pstyle("target-endpoint"),de=xe?"outside-to-node":Oe.value;if(E.srcManEndpt=De,E.tgtManEndpt=Oe,X){var Ce=[E.ctrlpts[0],E.ctrlpts[1]];Me=W?[E.ctrlpts[E.ctrlpts.length-2],E.ctrlpts[E.ctrlpts.length-1]]:Ce,Te=Ce}else if(te){var $e=ne?E.segpts.slice(0,2):[g.x,g.y];Me=ne?E.segpts.slice(E.segpts.length-2):[p.x,p.y],Te=$e}if("inside-to-node"===de)l=[g.x,g.y];else if(Oe.units)l=this.manualEndptToPx(h,Oe);else if("outside-to-line"===de)l=E.tgtIntn;else if("outside-to-node"===de||"outside-to-node-or-label"===de?pe=Me:("outside-to-line"===de||"outside-to-line-or-label"===de)&&(pe=[p.x,p.y]),l=o.nodeShapes[this.getNodeShape(h)].intersectLine(g.x,g.y,h.outerWidth(),h.outerHeight(),pe[0],pe[1],0),"outside-to-node-or-label"===de||"outside-to-line-or-label"===de){var Ye=h._private.rscratch,et=Ye.labelX,Ke=Ye.labelY,wt=Ye.labelWidth/2,xt=Ye.labelHeight/2,yt=h.pstyle("text-valign").value;"top"===yt?Ke-=xt:"bottom"===yt&&(Ke+=xt);var mt=h.pstyle("text-halign").value;"left"===mt?et-=wt:"right"===mt&&(et+=wt);var Ze=qa(pe[0],pe[1],[et-wt,Ke-xt,et+wt,Ke-xt,et+wt,Ke+xt,et-wt,Ke+xt],g.x,g.y);if(Ze.length>0){var St=p,Dt=fr(St,zn(l)),Nt=fr(St,zn(Ze)),Qt=Dt;Nt<Dt&&(l=Ze,Qt=Nt),Ze.length>2&&fr(St,{x:Ze[2],y:Ze[3]})<Qt&&(l=[Ze[2],Ze[3]])}}var Dn=$l(l,Me,o.arrowShapes[v].spacing(u)+y),$t=$l(l,Me,o.arrowShapes[v].gap(u)+y);if(E.endX=$t[0],E.endY=$t[1],E.arrowEndX=Dn[0],E.arrowEndY=Dn[1],"inside-to-node"===ae)l=[p.x,p.y];else if(De.units)l=this.manualEndptToPx(d,De);else if("outside-to-line"===ae)l=E.srcIntn;else if("outside-to-node"===ae||"outside-to-node-or-label"===ae?Fe=Te:("outside-to-line"===ae||"outside-to-line-or-label"===ae)&&(Fe=[g.x,g.y]),l=o.nodeShapes[this.getNodeShape(d)].intersectLine(p.x,p.y,d.outerWidth(),d.outerHeight(),Fe[0],Fe[1],0),"outside-to-node-or-label"===ae||"outside-to-line-or-label"===ae){var Lt=d._private.rscratch,Vt=Lt.labelX,nn=Lt.labelY,Pn=Lt.labelWidth/2,wn=Lt.labelHeight/2,cn=d.pstyle("text-valign").value;"top"===cn?nn-=wn:"bottom"===cn&&(nn+=wn);var At=d.pstyle("text-halign").value;"left"===At?Vt-=Pn:"right"===At&&(Vt+=Pn);var fe=qa(Fe[0],Fe[1],[Vt-Pn,nn-wn,Vt+Pn,nn-wn,Vt+Pn,nn+wn,Vt-Pn,nn+wn],p.x,p.y);if(fe.length>0){var rt=g,Tt=fr(rt,zn(l)),pt=fr(rt,zn(fe)),vt=Tt;pt<Tt&&(l=[fe[0],fe[1]],vt=pt),fe.length>2&&fr(rt,{x:fe[2],y:fe[3]})<vt&&(l=[fe[2],fe[3]])}}var Et=$l(l,Te,o.arrowShapes[b].spacing(u)+w),Jt=$l(l,Te,o.arrowShapes[b].gap(u)+w);E.startX=Jt[0],E.startY=Jt[1],E.arrowStartX=Et[0],E.arrowStartY=Et[1],se&&(E.badLine=!(he(E.startX)&&he(E.startY)&&he(E.endX)&&he(E.endY)))},getSourceEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},Nv={};function sC(u,o,l){for(var d=function(y,w,S,E){return Wn(y,w,S,E)},p=o._private.rstyle.bezierPts,g=0;g<u.bezierProjPcts.length;g++){var v=u.bezierProjPcts[g];p.push({x:d(l[0],l[2],l[4],v),y:d(l[1],l[3],l[5],v)})}}Nv.storeEdgeProjections=function(u){var o=u._private,l=o.rscratch,d=l.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===d||"bezier"===d||"self"===d||"compound"===d){o.rstyle.bezierPts=[];for(var h=0;h+5<l.allpts.length;h+=4)sC(this,u,l.allpts.slice(h,h+6))}else if("segments"===d){var p=o.rstyle.linePts=[];for(h=0;h+1<l.allpts.length;h+=2)p.push({x:l.allpts[h],y:l.allpts[h+1]})}else if("haystack"===d){var g=l.haystackPts;o.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth},Nv.recalculateEdgeProjections=function(u){this.findEdgeControlPoints(u)};var lo={recalculateNodeLabelProjection:function(u){var o=u.pstyle("label").strValue;if(!je(o)){var l,d,h=u._private,p=u.width(),g=u.height(),v=u.padding(),b=u.position(),y=u.pstyle("text-halign").strValue,w=u.pstyle("text-valign").strValue,S=h.rscratch,E=h.rstyle;switch(y){case"left":l=b.x-p/2-v;break;case"right":l=b.x+p/2+v;break;default:l=b.x}switch(w){case"top":d=b.y-g/2-v;break;case"bottom":d=b.y+g/2+v;break;default:d=b.y}S.labelX=l,S.labelY=d,E.labelX=l,E.labelY=d,this.calculateLabelAngles(u),this.applyLabelDimensions(u)}}},Qb=function(o,l){var d=Math.atan(l/o);return 0===o&&d<0&&(d*=-1),d},$b=function(o,l){return Qb(l.x-o.x,l.y-o.y)};lo.recalculateEdgeLabelProjections=function(u){var o,l=u._private,d=l.rscratch,h=this,p={mid:u.pstyle("label").strValue,source:u.pstyle("source-label").strValue,target:u.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var g=function(S,E,k){eo(l.rscratch,S,E,k),eo(l.rstyle,S,E,k)};g("labelX",null,(o={x:d.midX,y:d.midY}).x),g("labelY",null,o.y);var v=Qb(d.midDispX,d.midDispY);g("labelAutoAngle",null,v);var b=function w(){if(w.cache)return w.cache;for(var S=[],E=0;E+5<d.allpts.length;E+=4)S.push({p0:{x:d.allpts[E],y:d.allpts[E+1]},p1:{x:d.allpts[E+2],y:d.allpts[E+3]},p2:{x:d.allpts[E+4],y:d.allpts[E+5]},startDist:0,length:0,segments:[]});var X=l.rstyle.bezierPts,W=h.bezierProjPcts.length;function te(ae,Oe,de,Me,Te){var pe=wr(Oe,de),Fe=ae.segments[ae.segments.length-1];ae.segments.push({p0:Oe,p1:de,t0:Me,t1:Te,startDist:Fe?Fe.startDist+Fe.length:0,length:pe}),ae.length+=pe}for(var ne=0;ne<S.length;ne++){var se=S[ne],xe=S[ne-1];xe&&(se.startDist=xe.startDist+xe.length),te(se,se.p0,X[ne*W],0,h.bezierProjPcts[0]);for(var De=0;De<W-1;De++)te(se,X[ne*W+De],X[ne*W+De+1],h.bezierProjPcts[De],h.bezierProjPcts[De+1]);te(se,X[ne*W+W-1],se.p2,h.bezierProjPcts[W-1],1)}return w.cache=S},y=function(S){var E,k="source"===S;if(p[S]){var I=u.pstyle(S+"-text-offset").pfValue;switch(d.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var X,$=b(),W=0,te=0,ne=0;ne<$.length;ne++){for(var se=$[k?ne:$.length-1-ne],xe=0;xe<se.segments.length;xe++){var De=se.segments[k?xe:se.segments.length-1-xe];if(W=te,(te+=De.length)>=I||ne===$.length-1&&xe===se.segments.length-1){X={cp:se,segment:De};break}}if(X)break}var Oe=X.cp,de=X.segment,Me=(I-W)/de.length,Te=de.t1-de.t0,pe=k?de.t0+Te*Me:de.t1-Te*Me;pe=mn(0,pe,1),o=ks(Oe.p0,Oe.p1,Oe.p2,pe),E=function(o,l,d,h){var p=mn(0,h-.001,1),g=mn(0,h+.001,1),v=ks(o,l,d,p),b=ks(o,l,d,g);return $b(v,b)}(Oe.p0,Oe.p1,Oe.p2,pe);break;case"straight":case"segments":case"haystack":for(var Ce,Ge,$e,Ue,Fe=0,Ye=d.allpts.length,tt=0;tt+3<Ye&&(k?($e={x:d.allpts[tt],y:d.allpts[tt+1]},Ue={x:d.allpts[tt+2],y:d.allpts[tt+3]}):($e={x:d.allpts[Ye-2-tt],y:d.allpts[Ye-1-tt]},Ue={x:d.allpts[Ye-4-tt],y:d.allpts[Ye-3-tt]}),Ge=Fe,!((Fe+=Ce=wr($e,Ue))>=I));tt+=2);var et=(I-Ge)/Ce;et=mn(0,et,1),o=function(o,l,d,h){var p_x=l.x-o.x,p_y=l.y-o.y,g=wr(o,l);return d=d??0,{x:o.x+p_x/g*(h=h??d*g),y:o.y+p_y/g*h}}($e,Ue,et),E=$b($e,Ue)}g("labelX",S,o.x),g("labelY",S,o.y),g("labelAutoAngle",S,E)}};y("source"),y("target"),this.applyLabelDimensions(u)}},lo.applyLabelDimensions=function(u){this.applyPrefixedLabelDimensions(u),u.isEdge()&&(this.applyPrefixedLabelDimensions(u,"source"),this.applyPrefixedLabelDimensions(u,"target"))},lo.applyPrefixedLabelDimensions=function(u,o){var l=u._private,d=this.getLabelText(u,o),h=this.calculateLabelDimensions(u,d),p=u.pstyle("line-height").pfValue,g=u.pstyle("text-wrap").strValue,v=Js(l.rscratch,"labelWrapCachedLines",o)||[],b="wrap"!==g?1:Math.max(v.length,1),y=h.height/b,w=y*p,S=h.width,E=h.height+(b-1)*(p-1)*y;eo(l.rstyle,"labelWidth",o,S),eo(l.rscratch,"labelWidth",o,S),eo(l.rstyle,"labelHeight",o,E),eo(l.rscratch,"labelHeight",o,E),eo(l.rscratch,"labelLineHeight",o,w)},lo.getLabelText=function(u,o){var l=u._private,h=u.pstyle((o?o+"-":"")+"label").strValue,p=u.pstyle("text-transform").value,g=function(at,et){return et?(eo(l.rscratch,at,o,et),et):Js(l.rscratch,at,o)};if(!h)return"";"none"==p||("uppercase"==p?h=h.toUpperCase():"lowercase"==p&&(h=h.toLowerCase()));var v=u.pstyle("text-wrap").value;if("wrap"===v){var b=g("labelKey");if(null!=b&&g("labelWrapKey")===b)return g("labelWrapCachedText");for(var w=h.split("\n"),S=u.pstyle("text-max-width").pfValue,k="anywhere"===u.pstyle("text-overflow-wrap").value,I=[],$=/[\s\u200b]+/,X=k?"":" ",W=0;W<w.length;W++){var te=w[W],se=this.calculateLabelDimensions(u,te).width;if(k){var xe=te.split("").join("\u200b");te=xe}if(se>S){for(var De=te.split($),ae="",Oe=0;Oe<De.length;Oe++){var de=De[Oe];this.calculateLabelDimensions(u,0===ae.length?de:ae+X+de).width<=S?ae+=de+X:(ae&&I.push(ae),ae=de+X)}ae.match(/^[\s\u200b]+$/)||I.push(ae)}else I.push(te)}g("labelWrapCachedLines",I),h=g("labelWrapCachedText",I.join("\n")),g("labelWrapKey",b)}else if("ellipsis"===v){var Fe=u.pstyle("text-max-width").pfValue,Ce="",$e=!1;if(this.calculateLabelDimensions(u,h).width<Fe)return h;for(var Ue=0;Ue<h.length&&!(this.calculateLabelDimensions(u,Ce+h[Ue]+"\u2026").width>Fe);Ue++)Ce+=h[Ue],Ue===h.length-1&&($e=!0);return $e||(Ce+="\u2026"),Ce}return h},lo.getLabelJustification=function(u){var o=u.pstyle("text-justification").strValue,l=u.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!u.isNode())return"center";switch(l){case"left":return"right";case"right":return"left";default:return"center"}},lo.calculateLabelDimensions=function(u,o){var d=la(o,u._private.labelDimsKey),h=this.labelDimCache||(this.labelDimCache=[]),p=h[d];if(null!=p)return p;var v=u.pstyle("font-style").strValue,b=u.pstyle("font-size").pfValue,y=u.pstyle("font-family").strValue,w=u.pstyle("font-weight").strValue,S=this.labelCalcCanvas,E=this.labelCalcCanvasContext;if(!S){S=this.labelCalcCanvas=document.createElement("canvas"),E=this.labelCalcCanvasContext=S.getContext("2d");var k=S.style;k.position="absolute",k.left="-9999px",k.top="-9999px",k.zIndex="-1",k.visibility="hidden",k.pointerEvents="none"}E.font="".concat(v," ").concat(w," ").concat(b,"px ").concat(y);for(var I=0,$=0,X=o.split("\n"),W=0;W<X.length;W++){var ne=E.measureText(X[W]),se=Math.ceil(ne.width),xe=b;I=Math.max(se,I),$+=xe}return h[d]={width:I+=0,height:$+=0}},lo.calculateLabelAngle=function(u,o){var d=u._private.rscratch,h=u.isEdge(),g=u.pstyle((o?o+"-":"")+"text-rotation"),v=g.strValue;return"none"===v?0:h&&"autorotate"===v?d.labelAutoAngle:"autorotate"===v?0:g.pfValue},lo.calculateLabelAngles=function(u){var o=this,l=u.isEdge(),h=u._private.rscratch;h.labelAngle=o.calculateLabelAngle(u),l&&(h.sourceLabelAngle=o.calculateLabelAngle(u,"source"),h.targetLabelAngle=o.calculateLabelAngle(u,"target"))};var Bb={},Lv=!1;Bb.getNodeShape=function(u){var l=u.pstyle("shape").value;if("cutrectangle"===l&&(u.width()<28||u.height()<28))return Lv||(tr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Lv=!0),"rectangle";if(u.isParent())return"rectangle"===l||"roundrectangle"===l||"round-rectangle"===l||"cutrectangle"===l||"cut-rectangle"===l||"barrel"===l?l:"rectangle";if("polygon"===l){var d=u.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(d).name}return l};var Wu={updateCachedGrabbedEles:function(){var u=this.cachedZSortedEles;if(u){u.drag=[],u.nondrag=[];for(var o=[],l=0;l<u.length;l++){var h=(d=u[l])._private.rscratch;d.grabbed()&&!d.isParent()?o.push(d):h.inDragLayer?u.drag.push(d):u.nondrag.push(d)}for(l=0;l<o.length;l++){var d;u.drag.push(d=o[l])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(u){if(u||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(wb),o.interactive=o.filter(function(l){return l.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},Qp={};[ul,Fp,es,Jl,Nv,lo,Bb,{registerCalculationListeners:function(){var u=this.cy,o=u.collection(),l=this,d=function(g){var v=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(g),v)for(var b=0;b<g.length;b++){var y=g[b],w=y._private,S=w.rstyle;S.clean=!1,S.cleanConnected=!1}};l.binder(u).on("bounds.* dirty.*",function(g){d(g.target)}).on("style.* background.*",function(g){d(g.target,!1)});var h=function(g){if(g){var v=l.onUpdateEleCalcsFns;o.cleanStyle();for(var b=0;b<o.length;b++){var y=o[b],w=y._private.rstyle;y.isNode()&&!w.cleanConnected&&(d(y.connectedEdges()),w.cleanConnected=!0)}if(v)for(var S=0;S<v.length;S++)(0,v[S])(g,o);l.recalculateRenderedStyle(o),o=u.collection()}};l.flushRenderedStyleQueue=function(){h(!0)},l.beforeRender(h,l.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(u){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(u)},recalculateRenderedStyle:function(u,o){var l=function(se){return se._private.rstyle.cleanConnected},d=[],h=[];if(!this.destroyed){void 0===o&&(o=!0);for(var p=0;p<u.length;p++){var g=u[p],v=g._private,b=v.rstyle;g.isEdge()&&(!l(g.source())||!l(g.target()))&&(b.clean=!1),!(o&&b.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===v.group?h.push(g):d.push(g),b.clean=!0)}for(var y=0;y<h.length;y++){var w=h[y],E=w._private.rstyle,k=w.position();this.recalculateNodeLabelProjection(w),E.nodeX=k.x,E.nodeY=k.y,E.nodeW=w.pstyle("width").pfValue,E.nodeH=w.pstyle("height").pfValue}this.recalculateEdgeProjections(d);for(var I=0;I<d.length;I++){var X=d[I]._private,W=X.rstyle,te=X.rscratch;W.srcX=te.arrowStartX,W.srcY=te.arrowStartY,W.tgtX=te.arrowEndX,W.tgtY=te.arrowEndY,W.midX=te.midX,W.midY=te.midY,W.labelAngle=te.labelAngle,W.sourceLabelAngle=te.sourceLabelAngle,W.targetLabelAngle=te.targetLabelAngle}}}},Wu].forEach(function(u){Wt(Qp,u)});var $p={getCachedImage:function(u,o,l){var h=this.imageCache=this.imageCache||{},p=h[u];if(p)return p.image.complete||p.image.addEventListener("load",l),p.image;var g=(p=h[u]=h[u]||{}).image=new Image;g.addEventListener("load",l),g.addEventListener("error",function(){g.error=!0});var v="data:";return u.substring(0,v.length).toLowerCase()===v||(g.crossOrigin=o),g.src=u,g}},eu={registerBinding:function(u,o,l,d){var h=Array.prototype.slice.apply(arguments,[1]),p=this.binder(u);return p.on.apply(p,h)},binder:function(u){var o=this,l=u===window||u===document||u===document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(u);if(null==o.supportsPassiveEvents){var d=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return d=!0,!0}});window.addEventListener("test",null,h)}catch{}o.supportsPassiveEvents=d}var p=function(v,b,y){var w=Array.prototype.slice.call(arguments);return l&&o.supportsPassiveEvents&&(w[2]={capture:y??!1,passive:!1,once:!1}),o.bindings.push({target:u,args:w}),(u.addEventListener||u.on).apply(u,w),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(u){return u&&u.isNode()&&!u.locked()&&u.grabbable()},nodeIsGrabbable:function(u){return this.nodeIsDraggable(u)&&u.interactive()}};eu.load=function(){var u=this,o=function(fe){return fe.selected()},l=function(fe,rt,Tt,pt){null==fe&&(fe=u.cy);for(var vt=0;vt<rt.length;vt++)fe.emit({originalEvent:Tt,type:rt[vt],position:pt})},d=function(fe){return fe.shiftKey||fe.metaKey||fe.ctrlKey},h=function(fe,rt){var Tt=!0;if(u.cy.hasCompoundNodes()&&fe&&fe.pannable()){for(var pt=0;rt&&pt<rt.length;pt++)if((fe=rt[pt]).isNode()&&fe.isParent()&&!fe.pannable()){Tt=!1;break}}else Tt=!0;return Tt},v=function(fe){fe[0]._private.rscratch.inDragLayer=!0},y=function(fe){fe[0]._private.rscratch.isGrabTarget=!0},S=function(fe,rt){var Tt=rt.addToList;!Tt.has(fe)&&fe.grabbable()&&!fe.locked()&&(Tt.merge(fe),function(fe){fe[0]._private.grabbed=!0}(fe))},k=function(fe,rt){rt=rt||{};var Tt=fe.cy().hasCompoundNodes();rt.inDragLayer&&(fe.forEach(v),fe.neighborhood().stdFilter(function(pt){return!Tt||pt.isEdge()}).forEach(v)),rt.addToList&&fe.forEach(function(pt){S(pt,rt)}),function(fe,rt){if(fe.cy().hasCompoundNodes()&&(null!=rt.inDragLayer||null!=rt.addToList)){var Tt=fe.descendants();rt.inDragLayer&&(Tt.forEach(v),Tt.connectedEdges().forEach(v)),rt.addToList&&S(Tt,rt)}}(fe,rt),X(fe,{inDragLayer:rt.inDragLayer}),u.updateCachedGrabbedEles()},I=k,$=function(fe){fe&&(u.getCachedZSortedEles().forEach(function(rt){(function(fe){fe[0]._private.grabbed=!1})(rt),function(fe){fe[0]._private.rscratch.inDragLayer=!1}(rt),function(fe){fe[0]._private.rscratch.isGrabTarget=!1}(rt)}),u.updateCachedGrabbedEles())},X=function(fe,rt){if((null!=rt.inDragLayer||null!=rt.addToList)&&fe.cy().hasCompoundNodes()){var Tt=fe.ancestors().orphans();if(!Tt.same(fe)){var pt=Tt.descendants().spawnSelf().merge(Tt).unmerge(fe).unmerge(fe.descendants()),vt=pt.connectedEdges();rt.inDragLayer&&(vt.forEach(v),pt.forEach(v)),rt.addToList&&pt.forEach(function(Sn){S(Sn,rt)})}}},W=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},te=typeof MutationObserver<"u",ne=typeof ResizeObserver<"u";te?(u.removeObserver=new MutationObserver(function(At){for(var fe=0;fe<At.length;fe++){var Tt=At[fe].removedNodes;if(Tt)for(var pt=0;pt<Tt.length;pt++)if(Tt[pt]===u.container){u.destroy();break}}}),u.container.parentNode&&u.removeObserver.observe(u.container.parentNode,{childList:!0})):u.registerBinding(u.container,"DOMNodeRemoved",function(At){u.destroy()});var se=T.default(function(){u.cy.resize()},100);te&&(u.styleObserver=new MutationObserver(se),u.styleObserver.observe(u.container,{attributes:!0})),u.registerBinding(window,"resize",se),ne&&(u.resizeObserver=new ResizeObserver(se),u.resizeObserver.observe(u.container));var De=function(){u.invalidateContainerClientCoordsCache()};(function(fe,rt){for(;null!=fe;)u.registerBinding(At=fe,"transitionend",De),u.registerBinding(At,"animationend",De),u.registerBinding(At,"scroll",De),fe=fe.parentNode;var At})(u.container),u.registerBinding(u.container,"contextmenu",function(At){At.preventDefault()});var de,Me,Te,Oe=function(fe){for(var rt=u.findContainerClientCoords(),Tt=rt[0],pt=rt[1],vt=rt[2],Sn=rt[3],Et=fe.touches?fe.touches:[fe],Jt=!1,Fn=0;Fn<Et.length;Fn++){var ir=Et[Fn];if(Tt<=ir.clientX&&ir.clientX<=Tt+vt&&pt<=ir.clientY&&ir.clientY<=pt+Sn){Jt=!0;break}}if(!Jt)return!1;for(var Mn=u.container,On=fe.target.parentNode,bn=!1;On;){if(On===Mn){bn=!0;break}On=On.parentNode}return!!bn};u.registerBinding(u.container,"mousedown",function(fe){if(Oe(fe)){fe.preventDefault(),W(),u.hoverData.capture=!0,u.hoverData.which=fe.which;var rt=u.cy,Tt=[fe.clientX,fe.clientY],pt=u.projectIntoViewport(Tt[0],Tt[1]),vt=u.selection,Sn=u.findNearestElements(pt[0],pt[1],!0,!1),Et=Sn[0],Jt=u.dragData.possibleDragElements;if(u.hoverData.mdownPos=pt,u.hoverData.mdownGPos=Tt,3==fe.which){u.hoverData.cxtStarted=!0;var ir={originalEvent:fe,type:"cxttapstart",position:{x:pt[0],y:pt[1]}};Et?(Et.activate(),Et.emit(ir),u.hoverData.down=Et):rt.emit(ir),u.hoverData.downTime=(new Date).getTime(),u.hoverData.cxtDragged=!1}else if(1==fe.which){if(Et&&Et.activate(),null!=Et&&u.nodeIsGrabbable(Et)){var Mn=function(Nr){return{originalEvent:fe,type:Nr,position:{x:pt[0],y:pt[1]}}};if(y(Et),Et.selected()){Jt=u.dragData.possibleDragElements=rt.collection();var On=rt.$(function(bn){return bn.isNode()&&bn.selected()&&u.nodeIsGrabbable(bn)});k(On,{addToList:Jt}),Et.emit(Mn("grabon")),On.forEach(function(Nr){Nr.emit(Mn("grab"))})}else Jt=u.dragData.possibleDragElements=rt.collection(),I(Et,{addToList:Jt}),Et.emit(Mn("grabon")).emit(Mn("grab"));u.redrawHint("eles",!0),u.redrawHint("drag",!0)}u.hoverData.down=Et,u.hoverData.downs=Sn,u.hoverData.downTime=(new Date).getTime(),l(Et,["mousedown","tapstart","vmousedown"],fe,{x:pt[0],y:pt[1]}),null==Et?(vt[4]=1,u.data.bgActivePosistion={x:pt[0],y:pt[1]},u.redrawHint("select",!0),u.redraw()):Et.pannable()&&(vt[4]=1),u.hoverData.tapholdCancelled=!1,clearTimeout(u.hoverData.tapholdTimeout),u.hoverData.tapholdTimeout=setTimeout(function(){if(!u.hoverData.tapholdCancelled){var Nr=u.hoverData.down;Nr?Nr.emit({originalEvent:fe,type:"taphold",position:{x:pt[0],y:pt[1]}}):rt.emit({originalEvent:fe,type:"taphold",position:{x:pt[0],y:pt[1]}})}},u.tapholdDuration)}vt[0]=vt[2]=pt[0],vt[1]=vt[3]=pt[1]}},!1),u.registerBinding(window,"mousemove",function(fe){var ns;if(u.hoverData.capture||Oe(fe)){var Tt=!1,pt=u.cy,vt=pt.zoom(),Sn=[fe.clientX,fe.clientY],Et=u.projectIntoViewport(Sn[0],Sn[1]),Jt=u.hoverData.mdownPos,Fn=u.hoverData.mdownGPos,ir=u.selection,Mn=null;!u.hoverData.draggingEles&&!u.hoverData.dragging&&!u.hoverData.selecting&&(Mn=u.findNearestElement(Et[0],Et[1],!0,!1));var li,er=u.hoverData.last,On=u.hoverData.down,bn=[Et[0]-ir[2],Et[1]-ir[3]],Nr=u.dragData.possibleDragElements;if(Fn){var To=Sn[0]-Fn[0],yi=Sn[1]-Fn[1];u.hoverData.isOverThresholdDrag=li=To*To+yi*yi>=u.desktopTapThreshold2}var Da=d(fe);li&&(u.hoverData.tapholdCancelled=!0),Tt=!0,l(Mn,["mousemove","vmousemove","tapdrag"],fe,{x:Et[0],y:Et[1]});var hl=function(){u.data.bgActivePosistion=void 0,u.hoverData.selecting||pt.emit({originalEvent:fe,type:"boxstart",position:{x:Et[0],y:Et[1]}}),ir[4]=1,u.hoverData.selecting=!0,u.redrawHint("select",!0),u.redraw()};if(3===u.hoverData.which){if(li){var su={originalEvent:fe,type:"cxtdrag",position:{x:Et[0],y:Et[1]}};On?On.emit(su):pt.emit(su),u.hoverData.cxtDragged=!0,(!u.hoverData.cxtOver||Mn!==u.hoverData.cxtOver)&&(u.hoverData.cxtOver&&u.hoverData.cxtOver.emit({originalEvent:fe,type:"cxtdragout",position:{x:Et[0],y:Et[1]}}),u.hoverData.cxtOver=Mn,Mn&&Mn.emit({originalEvent:fe,type:"cxtdragover",position:{x:Et[0],y:Et[1]}}))}}else if(u.hoverData.dragging){if(Tt=!0,pt.panningEnabled()&&pt.userPanningEnabled()){var ou;if(u.hoverData.justStartedPan){var Qf=u.hoverData.mdownPos;ou={x:(Et[0]-Qf[0])*vt,y:(Et[1]-Qf[1])*vt},u.hoverData.justStartedPan=!1}else ou={x:bn[0]*vt,y:bn[1]*vt};pt.panBy(ou),pt.emit("dragpan"),u.hoverData.dragged=!0}Et=u.projectIntoViewport(fe.clientX,fe.clientY)}else if(1!=ir[4]||null!=On&&!On.pannable()){if(On&&On.pannable()&&On.active()&&On.unactivate(),(!On||!On.grabbed())&&Mn!=er&&(er&&l(er,["mouseout","tapdragout"],fe,{x:Et[0],y:Et[1]}),Mn&&l(Mn,["mouseover","tapdragover"],fe,{x:Et[0],y:Et[1]}),u.hoverData.last=Mn),On)if(li){if(pt.boxSelectionEnabled()&&Da)On&&On.grabbed()&&($(Nr),On.emit("freeon"),Nr.emit("free"),u.dragData.didDrag&&(On.emit("dragfreeon"),Nr.emit("dragfree"))),hl();else if(On&&On.grabbed()&&u.nodeIsDraggable(On)){var $s=!u.dragData.didDrag;$s&&u.redrawHint("eles",!0),u.dragData.didDrag=!0,u.hoverData.draggingEles||k(Nr,{inDragLayer:!0});var Xi={x:0,y:0};if(he(bn[0])&&he(bn[1])&&(Xi.x+=bn[0],Xi.y+=bn[1],$s)){var Pi=u.hoverData.dragDelta;Pi&&he(Pi[0])&&he(Pi[1])&&(Xi.x+=Pi[0],Xi.y+=Pi[1])}u.hoverData.draggingEles=!0,Nr.silentShift(Xi).emit("position drag"),u.redrawHint("drag",!0),u.redraw()}}else 0===(ns=u.hoverData.dragDelta=u.hoverData.dragDelta||[]).length?(ns.push(bn[0]),ns.push(bn[1])):(ns[0]+=bn[0],ns[1]+=bn[1]);Tt=!0}else li&&(u.hoverData.dragging||!pt.boxSelectionEnabled()||!Da&&pt.panningEnabled()&&pt.userPanningEnabled()?!u.hoverData.selecting&&pt.panningEnabled()&&pt.userPanningEnabled()&&h(On,u.hoverData.downs)&&(u.hoverData.dragging=!0,u.hoverData.justStartedPan=!0,ir[4]=0,u.data.bgActivePosistion=zn(Jt),u.redrawHint("select",!0),u.redraw()):hl(),On&&On.pannable()&&On.active()&&On.unactivate());if(ir[2]=Et[0],ir[3]=Et[1],Tt)return fe.stopPropagation&&fe.stopPropagation(),fe.preventDefault&&fe.preventDefault(),!1}},!1),u.registerBinding(window,"mouseup",function(fe){if(u.hoverData.capture){u.hoverData.capture=!1;var Tt=u.cy,pt=u.projectIntoViewport(fe.clientX,fe.clientY),vt=u.selection,Sn=u.findNearestElement(pt[0],pt[1],!0,!1),Et=u.dragData.possibleDragElements,Jt=u.hoverData.down,Fn=d(fe);if(u.data.bgActivePosistion&&(u.redrawHint("select",!0),u.redraw()),u.hoverData.tapholdCancelled=!0,u.data.bgActivePosistion=void 0,Jt&&Jt.unactivate(),3===u.hoverData.which){var ir={originalEvent:fe,type:"cxttapend",position:{x:pt[0],y:pt[1]}};if(Jt?Jt.emit(ir):Tt.emit(ir),!u.hoverData.cxtDragged){var Mn={originalEvent:fe,type:"cxttap",position:{x:pt[0],y:pt[1]}};Jt?Jt.emit(Mn):Tt.emit(Mn)}u.hoverData.cxtDragged=!1,u.hoverData.which=null}else if(1===u.hoverData.which){if(l(Sn,["mouseup","tapend","vmouseup"],fe,{x:pt[0],y:pt[1]}),!u.dragData.didDrag&&!u.hoverData.dragged&&!u.hoverData.selecting&&!u.hoverData.isOverThresholdDrag&&(l(Jt,["click","tap","vclick"],fe,{x:pt[0],y:pt[1]}),Me=!1,fe.timeStamp-Te<=Tt.multiClickDebounceTime()?(de&&clearTimeout(de),Me=!0,Te=null,l(Jt,["dblclick","dbltap","vdblclick"],fe,{x:pt[0],y:pt[1]})):(de=setTimeout(function(){Me||l(Jt,["oneclick","onetap","voneclick"],fe,{x:pt[0],y:pt[1]})},Tt.multiClickDebounceTime()),Te=fe.timeStamp)),null==Jt&&!u.dragData.didDrag&&!u.hoverData.selecting&&!u.hoverData.dragged&&!d(fe)&&(Tt.$(o).unselect(["tapunselect"]),Et.length>0&&u.redrawHint("eles",!0),u.dragData.possibleDragElements=Et=Tt.collection()),Sn==Jt&&!u.dragData.didDrag&&!u.hoverData.selecting&&null!=Sn&&Sn._private.selectable&&(u.hoverData.dragging||("additive"===Tt.selectionType()||Fn?Sn.selected()?Sn.unselect(["tapunselect"]):Sn.select(["tapselect"]):Fn||(Tt.$(o).unmerge(Sn).unselect(["tapunselect"]),Sn.select(["tapselect"]))),u.redrawHint("eles",!0)),u.hoverData.selecting){var er=Tt.collection(u.getAllInBox(vt[0],vt[1],vt[2],vt[3]));u.redrawHint("select",!0),er.length>0&&u.redrawHint("eles",!0),Tt.emit({type:"boxend",originalEvent:fe,position:{x:pt[0],y:pt[1]}}),"additive"===Tt.selectionType()||Fn||Tt.$(o).unmerge(er).unselect(),er.emit("box").stdFilter(function(li){return li.selectable()&&!li.selected()}).select().emit("boxselect"),u.redraw()}if(u.hoverData.dragging&&(u.hoverData.dragging=!1,u.redrawHint("select",!0),u.redrawHint("eles",!0),u.redraw()),!vt[4]){u.redrawHint("drag",!0),u.redrawHint("eles",!0);var bn=Jt&&Jt.grabbed();$(Et),bn&&(Jt.emit("freeon"),Et.emit("free"),u.dragData.didDrag&&(Jt.emit("dragfreeon"),Et.emit("dragfree")))}}vt[4]=0,u.hoverData.down=null,u.hoverData.cxtStarted=!1,u.hoverData.draggingEles=!1,u.hoverData.selecting=!1,u.hoverData.isOverThresholdDrag=!1,u.dragData.didDrag=!1,u.hoverData.dragged=!1,u.hoverData.dragDelta=[],u.hoverData.mdownPos=null,u.hoverData.mdownGPos=null}},!1);var pe=function(fe){if(!u.scrollingPage){var rt=u.cy,Tt=rt.zoom(),pt=rt.pan(),vt=u.projectIntoViewport(fe.clientX,fe.clientY),Sn=[vt[0]*Tt+pt.x,vt[1]*Tt+pt.y];if(u.hoverData.draggingEles||u.hoverData.dragging||u.hoverData.cxtStarted||0!==u.selection[4])return void fe.preventDefault();if(rt.panningEnabled()&&rt.userPanningEnabled()&&rt.zoomingEnabled()&&rt.userZoomingEnabled()){var Et;fe.preventDefault(),u.data.wheelZooming=!0,clearTimeout(u.data.wheelTimeout),u.data.wheelTimeout=setTimeout(function(){u.data.wheelZooming=!1,u.redrawHint("eles",!0),u.redraw()},150),Et=null!=fe.deltaY?fe.deltaY/-250:null!=fe.wheelDeltaY?fe.wheelDeltaY/1e3:fe.wheelDelta/1e3,Et*=u.wheelSensitivity,1===fe.deltaMode&&(Et*=33);var Fn=rt.zoom()*Math.pow(10,Et);"gesturechange"===fe.type&&(Fn=u.gestureStartZoom*fe.scale),rt.zoom({level:Fn,renderedPosition:{x:Sn[0],y:Sn[1]}}),rt.emit("gesturechange"===fe.type?"pinchzoom":"scrollzoom")}}};u.registerBinding(u.container,"wheel",pe,!0),u.registerBinding(window,"scroll",function(fe){u.scrollingPage=!0,clearTimeout(u.scrollingPageTimeout),u.scrollingPageTimeout=setTimeout(function(){u.scrollingPage=!1},250)},!0),u.registerBinding(u.container,"gesturestart",function(fe){u.gestureStartZoom=u.cy.zoom(),u.hasTouchStarted||fe.preventDefault()},!0),u.registerBinding(u.container,"gesturechange",function(At){u.hasTouchStarted||pe(At)},!0),u.registerBinding(u.container,"mouseout",function(fe){var rt=u.projectIntoViewport(fe.clientX,fe.clientY);u.cy.emit({originalEvent:fe,type:"mouseout",position:{x:rt[0],y:rt[1]}})},!1),u.registerBinding(u.container,"mouseover",function(fe){var rt=u.projectIntoViewport(fe.clientX,fe.clientY);u.cy.emit({originalEvent:fe,type:"mouseover",position:{x:rt[0],y:rt[1]}})},!1);var Fe,Ce,Ge,$e,Ue,Ye,tt,at,et,Ke,wt,xt,yt,St,Dt,Nt,Qt,vn,Dn,$t,mt=function(fe,rt,Tt,pt){return Math.sqrt((Tt-fe)*(Tt-fe)+(pt-rt)*(pt-rt))},Ze=function(fe,rt,Tt,pt){return(Tt-fe)*(Tt-fe)+(pt-rt)*(pt-rt)};if(u.registerBinding(u.container,"touchstart",St=function(fe){if(u.hasTouchStarted=!0,Oe(fe)){W(),u.touchData.capture=!0,u.data.bgActivePosistion=void 0;var rt=u.cy,Tt=u.touchData.now,pt=u.touchData.earlier;if(fe.touches[0]){var vt=u.projectIntoViewport(fe.touches[0].clientX,fe.touches[0].clientY);Tt[0]=vt[0],Tt[1]=vt[1]}if(fe.touches[1]&&(vt=u.projectIntoViewport(fe.touches[1].clientX,fe.touches[1].clientY),Tt[2]=vt[0],Tt[3]=vt[1]),fe.touches[2]&&(vt=u.projectIntoViewport(fe.touches[2].clientX,fe.touches[2].clientY),Tt[4]=vt[0],Tt[5]=vt[1]),fe.touches[1]){u.touchData.singleTouchMoved=!0,$(u.dragData.touchDragEles);var Sn=u.findContainerClientCoords();wt=Sn[2],xt=Sn[3],Ce=fe.touches[0].clientY-(Ke=Sn[1]),Ge=fe.touches[1].clientX-(et=Sn[0]),$e=fe.touches[1].clientY-Ke,yt=0<=(Fe=fe.touches[0].clientX-et)&&Fe<=wt&&0<=Ge&&Ge<=wt&&0<=Ce&&Ce<=xt&&0<=$e&&$e<=xt;var Et=rt.pan(),Jt=rt.zoom();if(Ue=mt(Fe,Ce,Ge,$e),Ye=Ze(Fe,Ce,Ge,$e),at=[((tt=[(Fe+Ge)/2,(Ce+$e)/2])[0]-Et.x)/Jt,(tt[1]-Et.y)/Jt],Ye<4e4&&!fe.touches[2]){var Mn=u.findNearestElement(Tt[0],Tt[1],!0,!0),er=u.findNearestElement(Tt[2],Tt[3],!0,!0);return Mn&&Mn.isNode()?(Mn.activate().emit({originalEvent:fe,type:"cxttapstart",position:{x:Tt[0],y:Tt[1]}}),u.touchData.start=Mn):er&&er.isNode()?(er.activate().emit({originalEvent:fe,type:"cxttapstart",position:{x:Tt[0],y:Tt[1]}}),u.touchData.start=er):rt.emit({originalEvent:fe,type:"cxttapstart",position:{x:Tt[0],y:Tt[1]}}),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!0,u.touchData.cxtDragged=!1,u.data.bgActivePosistion=void 0,void u.redraw()}}if(fe.touches[2])rt.boxSelectionEnabled()&&fe.preventDefault();else if(!fe.touches[1]&&fe.touches[0]){var On=u.findNearestElements(Tt[0],Tt[1],!0,!0),bn=On[0];if(null!=bn&&(bn.activate(),u.touchData.start=bn,u.touchData.starts=On,u.nodeIsGrabbable(bn))){var Nr=u.dragData.touchDragEles=rt.collection(),li=null;u.redrawHint("eles",!0),u.redrawHint("drag",!0),bn.selected()?(li=rt.$(function(ts){return ts.selected()&&u.nodeIsGrabbable(ts)}),k(li,{addToList:Nr})):I(bn,{addToList:Nr}),y(bn);var To=function(Da){return{originalEvent:fe,type:Da,position:{x:Tt[0],y:Tt[1]}}};bn.emit(To("grabon")),li?li.forEach(function(ts){ts.emit(To("grab"))}):bn.emit(To("grab"))}l(bn,["touchstart","tapstart","vmousedown"],fe,{x:Tt[0],y:Tt[1]}),null==bn&&(u.data.bgActivePosistion={x:vt[0],y:vt[1]},u.redrawHint("select",!0),u.redraw()),u.touchData.singleTouchMoved=!1,u.touchData.singleTouchStartTime=+new Date,clearTimeout(u.touchData.tapholdTimeout),u.touchData.tapholdTimeout=setTimeout(function(){!1===u.touchData.singleTouchMoved&&!u.pinching&&!u.touchData.selecting&&l(u.touchData.start,["taphold"],fe,{x:Tt[0],y:Tt[1]})},u.tapholdDuration)}if(fe.touches.length>=1){for(var Mo=u.touchData.startPosition=[],yi=0;yi<Tt.length;yi++)Mo[yi]=pt[yi]=Tt[yi];var Ii=fe.touches[0];u.touchData.startGPosition=[Ii.clientX,Ii.clientY]}}},!1),u.registerBinding(window,"touchmove",Dt=function(fe){var rt=u.touchData.capture;if(rt||Oe(fe)){var Tt=u.selection,pt=u.cy,vt=u.touchData.now,Sn=u.touchData.earlier,Et=pt.zoom();if(fe.touches[0]){var Jt=u.projectIntoViewport(fe.touches[0].clientX,fe.touches[0].clientY);vt[0]=Jt[0],vt[1]=Jt[1]}fe.touches[1]&&(Jt=u.projectIntoViewport(fe.touches[1].clientX,fe.touches[1].clientY),vt[2]=Jt[0],vt[3]=Jt[1]),fe.touches[2]&&(Jt=u.projectIntoViewport(fe.touches[2].clientX,fe.touches[2].clientY),vt[4]=Jt[0],vt[5]=Jt[1]);var ir,Fn=u.touchData.startGPosition;if(rt&&fe.touches[0]&&Fn){for(var Mn=[],er=0;er<vt.length;er++)Mn[er]=vt[er]-Sn[er];var On=fe.touches[0].clientX-Fn[0],Nr=fe.touches[0].clientY-Fn[1];ir=On*On+Nr*Nr>=u.touchTapThreshold2}if(rt&&u.touchData.cxt){fe.preventDefault();var Da=Ze(Mo=fe.touches[0].clientX-et,yi=fe.touches[0].clientY-Ke,Ii=fe.touches[1].clientX-et,ts=fe.touches[1].clientY-Ke);if(Da/Ye>=2.25||Da>=22500){u.touchData.cxt=!1,u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var pl={originalEvent:fe,type:"cxttapend",position:{x:vt[0],y:vt[1]}};u.touchData.start?(u.touchData.start.unactivate().emit(pl),u.touchData.start=null):pt.emit(pl)}}if(rt&&u.touchData.cxt){pl={originalEvent:fe,type:"cxtdrag",position:{x:vt[0],y:vt[1]}},u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.touchData.start?u.touchData.start.emit(pl):pt.emit(pl),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxtDragged=!0;var $s=u.findNearestElement(vt[0],vt[1],!0,!0);(!u.touchData.cxtOver||$s!==u.touchData.cxtOver)&&(u.touchData.cxtOver&&u.touchData.cxtOver.emit({originalEvent:fe,type:"cxtdragout",position:{x:vt[0],y:vt[1]}}),u.touchData.cxtOver=$s,$s&&$s.emit({originalEvent:fe,type:"cxtdragover",position:{x:vt[0],y:vt[1]}}))}else if(rt&&fe.touches[2]&&pt.boxSelectionEnabled())fe.preventDefault(),u.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,u.touchData.selecting||pt.emit({originalEvent:fe,type:"boxstart",position:{x:vt[0],y:vt[1]}}),u.touchData.selecting=!0,u.touchData.didSelect=!0,Tt[4]=1,Tt&&0!==Tt.length&&void 0!==Tt[0]?(Tt[2]=(vt[0]+vt[2]+vt[4])/3,Tt[3]=(vt[1]+vt[3]+vt[5])/3):(Tt[0]=(vt[0]+vt[2]+vt[4])/3,Tt[1]=(vt[1]+vt[3]+vt[5])/3,Tt[2]=(vt[0]+vt[2]+vt[4])/3+1,Tt[3]=(vt[1]+vt[3]+vt[5])/3+1),u.redrawHint("select",!0),u.redraw();else if(rt&&fe.touches[1]&&!u.touchData.didSelect&&pt.zoomingEnabled()&&pt.panningEnabled()&&pt.userZoomingEnabled()&&pt.userPanningEnabled()){if(fe.preventDefault(),u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),Xi=u.dragData.touchDragEles){u.redrawHint("drag",!0);for(var Pi=0;Pi<Xi.length;Pi++){var $f=Xi[Pi]._private;$f.grabbed=!1,$f.rscratch.inDragLayer=!1}}var Mo,yi,Ii,ts,ns=u.touchData.start,ii=mt(Mo=fe.touches[0].clientX-et,yi=fe.touches[0].clientY-Ke,Ii=fe.touches[1].clientX-et,ts=fe.touches[1].clientY-Ke),tw=ii/Ue;if(yt){var Ju=(Mo-Fe+(Ii-Ge))/2,iw=(yi-Ce+(ts-$e))/2,au=pt.zoom(),bd=au*tw,Bf=pt.pan(),Vf=at[0]*au+Bf.x,Go=at[1]*au+Bf.y,sw={x:-bd/au*(Vf-Bf.x-Ju)+Vf,y:-bd/au*(Go-Bf.y-iw)+Go};ns&&ns.active()&&($(Xi=u.dragData.touchDragEles),u.redrawHint("drag",!0),u.redrawHint("eles",!0),ns.unactivate().emit("freeon"),Xi.emit("free"),u.dragData.didDrag&&(ns.emit("dragfreeon"),Xi.emit("dragfree"))),pt.viewport({zoom:bd,pan:sw,cancelOnFailedZoom:!0}),pt.emit("pinchzoom"),Ue=ii,Fe=Mo,Ce=yi,Ge=Ii,$e=ts,u.pinching=!0}fe.touches[0]&&(Jt=u.projectIntoViewport(fe.touches[0].clientX,fe.touches[0].clientY),vt[0]=Jt[0],vt[1]=Jt[1]),fe.touches[1]&&(Jt=u.projectIntoViewport(fe.touches[1].clientX,fe.touches[1].clientY),vt[2]=Jt[0],vt[3]=Jt[1]),fe.touches[2]&&(Jt=u.projectIntoViewport(fe.touches[2].clientX,fe.touches[2].clientY),vt[4]=Jt[0],vt[5]=Jt[1])}else if(fe.touches[0]&&!u.touchData.didSelect){var Ao=u.touchData.start,sg=u.touchData.last;if(!u.hoverData.draggingEles&&!u.swipePanning&&($s=u.findNearestElement(vt[0],vt[1],!0,!0)),rt&&null!=Ao&&fe.preventDefault(),rt&&null!=Ao&&u.nodeIsDraggable(Ao))if(ir){var Xi=u.dragData.touchDragEles,cy=!u.dragData.didDrag;cy&&k(Xi,{inDragLayer:!0}),u.dragData.didDrag=!0;var ec={x:0,y:0};he(Mn[0])&&he(Mn[1])&&(ec.x+=Mn[0],ec.y+=Mn[1],cy)&&(u.redrawHint("eles",!0),(Bs=u.touchData.dragDelta)&&he(Bs[0])&&he(Bs[1])&&(ec.x+=Bs[0],ec.y+=Bs[1])),u.hoverData.draggingEles=!0,Xi.silentShift(ec).emit("position drag"),u.redrawHint("drag",!0),u.touchData.startPosition[0]==Sn[0]&&u.touchData.startPosition[1]==Sn[1]&&u.redrawHint("eles",!0),u.redraw()}else{var Bs;0===(Bs=u.touchData.dragDelta=u.touchData.dragDelta||[]).length?(Bs.push(Mn[0]),Bs.push(Mn[1])):(Bs[0]+=Mn[0],Bs[1]+=Mn[1])}if(l(Ao||$s,["touchmove","tapdrag","vmousemove"],fe,{x:vt[0],y:vt[1]}),(!Ao||!Ao.grabbed())&&$s!=sg&&(sg&&sg.emit({originalEvent:fe,type:"tapdragout",position:{x:vt[0],y:vt[1]}}),$s&&$s.emit({originalEvent:fe,type:"tapdragover",position:{x:vt[0],y:vt[1]}})),u.touchData.last=$s,rt)for(Pi=0;Pi<vt.length;Pi++)vt[Pi]&&u.touchData.startPosition[Pi]&&ir&&(u.touchData.singleTouchMoved=!0);rt&&(null==Ao||Ao.pannable())&&pt.panningEnabled()&&pt.userPanningEnabled()&&(h(Ao,u.touchData.starts)&&(fe.preventDefault(),u.data.bgActivePosistion||(u.data.bgActivePosistion=zn(u.touchData.startPosition)),u.swipePanning?(pt.panBy({x:Mn[0]*Et,y:Mn[1]*Et}),pt.emit("dragpan")):ir&&(u.swipePanning=!0,pt.panBy({x:On*Et,y:Nr*Et}),pt.emit("dragpan"),Ao&&(Ao.unactivate(),u.redrawHint("select",!0),u.touchData.start=null))),Jt=u.projectIntoViewport(fe.touches[0].clientX,fe.touches[0].clientY),vt[0]=Jt[0],vt[1]=Jt[1])}for(er=0;er<vt.length;er++)Sn[er]=vt[er];rt&&fe.touches.length>0&&!u.hoverData.draggingEles&&!u.swipePanning&&null!=u.data.bgActivePosistion&&(u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.redraw())}},!1),u.registerBinding(window,"touchcancel",Nt=function(fe){var rt=u.touchData.start;u.touchData.capture=!1,rt&&rt.unactivate()}),u.registerBinding(window,"touchend",Qt=function(fe){var rt=u.touchData.start;if(u.touchData.capture){0===fe.touches.length&&(u.touchData.capture=!1),fe.preventDefault();var pt=u.selection;u.swipePanning=!1,u.hoverData.draggingEles=!1;var ir,vt=u.cy,Sn=vt.zoom(),Et=u.touchData.now,Jt=u.touchData.earlier;if(fe.touches[0]){var Fn=u.projectIntoViewport(fe.touches[0].clientX,fe.touches[0].clientY);Et[0]=Fn[0],Et[1]=Fn[1]}if(fe.touches[1]&&(Fn=u.projectIntoViewport(fe.touches[1].clientX,fe.touches[1].clientY),Et[2]=Fn[0],Et[3]=Fn[1]),fe.touches[2]&&(Fn=u.projectIntoViewport(fe.touches[2].clientX,fe.touches[2].clientY),Et[4]=Fn[0],Et[5]=Fn[1]),rt&&rt.unactivate(),u.touchData.cxt){if(ir={originalEvent:fe,type:"cxttapend",position:{x:Et[0],y:Et[1]}},rt?rt.emit(ir):vt.emit(ir),!u.touchData.cxtDragged){var Mn={originalEvent:fe,type:"cxttap",position:{x:Et[0],y:Et[1]}};rt?rt.emit(Mn):vt.emit(Mn)}return u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!1,u.touchData.start=null,void u.redraw()}if(!fe.touches[2]&&vt.boxSelectionEnabled()&&u.touchData.selecting){u.touchData.selecting=!1;var er=vt.collection(u.getAllInBox(pt[0],pt[1],pt[2],pt[3]));pt[0]=void 0,pt[1]=void 0,pt[2]=void 0,pt[3]=void 0,pt[4]=0,u.redrawHint("select",!0),vt.emit({type:"boxend",originalEvent:fe,position:{x:Et[0],y:Et[1]}}),er.emit("box").stdFilter(function(su){return su.selectable()&&!su.selected()}).select().emit("boxselect"),er.nonempty()&&u.redrawHint("eles",!0),u.redraw()}if(rt?.unactivate(),fe.touches[2])u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);else if(!fe.touches[1]&&!fe.touches[0]&&!fe.touches[0]){u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var bn=u.dragData.touchDragEles;if(null!=rt){var Nr=rt._private.grabbed;$(bn),u.redrawHint("drag",!0),u.redrawHint("eles",!0),Nr&&(rt.emit("freeon"),bn.emit("free"),u.dragData.didDrag&&(rt.emit("dragfreeon"),bn.emit("dragfree"))),l(rt,["touchend","tapend","vmouseup","tapdragout"],fe,{x:Et[0],y:Et[1]}),rt.unactivate(),u.touchData.start=null}else{var li=u.findNearestElement(Et[0],Et[1],!0,!0);l(li,["touchend","tapend","vmouseup","tapdragout"],fe,{x:Et[0],y:Et[1]})}var To=u.touchData.startPosition[0]-Et[0],yi=u.touchData.startPosition[1]-Et[1],Da=(To*To+yi*yi)*Sn*Sn;u.touchData.singleTouchMoved||(rt||vt.$(":selected").unselect(["tapunselect"]),l(rt,["tap","vclick"],fe,{x:Et[0],y:Et[1]}),vn=!1,fe.timeStamp-$t<=vt.multiClickDebounceTime()?(Dn&&clearTimeout(Dn),vn=!0,$t=null,l(rt,["dbltap","vdblclick"],fe,{x:Et[0],y:Et[1]})):(Dn=setTimeout(function(){vn||l(rt,["onetap","voneclick"],fe,{x:Et[0],y:Et[1]})},vt.multiClickDebounceTime()),$t=fe.timeStamp)),null!=rt&&!u.dragData.didDrag&&rt._private.selectable&&Da<u.touchTapThreshold2&&!u.pinching&&("single"===vt.selectionType()?(vt.$(o).unmerge(rt).unselect(["tapunselect"]),rt.select(["tapselect"])):rt.selected()?rt.unselect(["tapunselect"]):rt.select(["tapselect"]),u.redrawHint("eles",!0)),u.touchData.singleTouchMoved=!0}for(var fl=0;fl<Et.length;fl++)Jt[fl]=Et[fl];u.dragData.didDrag=!1,0===fe.touches.length&&(u.touchData.dragDelta=[],u.touchData.startPosition=null,u.touchData.startGPosition=null,u.touchData.didSelect=!1),fe.touches.length<2&&(1===fe.touches.length&&(u.touchData.startGPosition=[fe.touches[0].clientX,fe.touches[0].clientY]),u.pinching=!1,u.redrawHint("eles",!0),u.redraw())}},!1),typeof TouchEvent>"u"){var Lt=[],ln=function(fe){return{clientX:fe.clientX,clientY:fe.clientY,force:1,identifier:fe.pointerId,pageX:fe.pageX,pageY:fe.pageY,radiusX:fe.width/2,radiusY:fe.height/2,screenX:fe.screenX,screenY:fe.screenY,target:fe.target}},nn=function(fe){for(var rt=0;rt<Lt.length;rt++)if(Lt[rt].event.pointerId===fe.pointerId)return void Lt.splice(rt,1)},wn=function(fe){fe.touches=Lt.map(function(rt){return rt.touch})},cn=function(fe){return"mouse"===fe.pointerType||4===fe.pointerType};u.registerBinding(u.container,"pointerdown",function(At){cn(At)||(At.preventDefault(),Lt.push(function(fe){return{event:fe,touch:ln(fe)}}(At)),wn(At),St(At))}),u.registerBinding(u.container,"pointerup",function(At){cn(At)||(nn(At),wn(At),Qt(At))}),u.registerBinding(u.container,"pointercancel",function(At){cn(At)||(nn(At),wn(At),Nt())}),u.registerBinding(u.container,"pointermove",function(At){var fe,rt;cn(At)||(At.preventDefault(),fe=At,(rt=Lt.filter(function(Tt){return Tt.event.pointerId===fe.pointerId})[0]).event=fe,rt.touch=ln(fe),wn(At),Dt(At))})}};var zr={generatePolygon:function(u,o){return this.nodeShapes[u]={renderer:this,name:u,points:o,draw:function(d,h,p,g,v){this.renderer.nodeShapeImpl("polygon",d,h,p,g,v,this.points)},intersectLine:function(d,h,p,g,v,b,y){return qa(v,b,this.points,d,h,p/2,g/2,y)},checkPoint:function(d,h,p,g,v,b,y){return Ps(d,h,this.points,b,y,g,v,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,l,d,h,p){this.renderer.nodeShapeImpl(this.name,o,l,d,h,p)},intersectLine:function(o,l,d,h,p,g,v){return function(o,l,d,h,p,g){var v=d-o,b=h-l;v/=p,b/=g;var y=Math.sqrt(v*v+b*b),w=y-1;if(w<0)return[];var S=w/y;return[(d-o)*S+o,(h-l)*S+l]}(p,g,o,l,d/2+v,h/2+v)},checkPoint:function(o,l,d,h,p,g,v){return fa(o,l,h,p,g,v,d)}}},generateRoundPolygon:function(u,o){for(var l=new Array(2*o.length),d=0;d<o.length/2;d++){var p,h=2*d;p=d<o.length/2-1?2*(d+1):0,l[4*d]=o[h],l[4*d+1]=o[h+1];var g=o[p]-o[h],v=o[p+1]-o[h+1],b=Math.sqrt(g*g+v*v);l[4*d+2]=g/b,l[4*d+3]=v/b}return this.nodeShapes[u]={renderer:this,name:u,points:l,draw:function(w,S,E,k,I){this.renderer.nodeShapeImpl("round-polygon",w,S,E,k,I,this.points)},intersectLine:function(w,S,E,k,I,$,X){return function(o,l,d,h,p,g,v,b){for(var w,y=[],S=new Array(d.length),E=g/2,k=v/2,I=an(g,v),$=0;$<d.length/4;$++){var W,X;X=0===$?d.length-2:4*$-2,W=4*$+2;var te=h+E*d[4*$],ne=p+k*d[4*$+1],xe=I/Math.tan(Math.acos(-d[X]*d[W]-d[X+1]*d[W+1])/2),De=te-xe*d[X],ae=ne-xe*d[X+1],Oe=te+xe*d[W],de=ne+xe*d[W+1];0===$?(S[d.length-2]=De,S[d.length-1]=ae):(S[4*$-2]=De,S[4*$-1]=ae),S[4*$]=Oe,S[4*$+1]=de;var Me=d[X+1],Te=-d[X];Me*d[W]+Te*d[W+1]<0&&(Me*=-1,Te*=-1),0!==(w=ro(o,l,h,p,De+Me*I,ae+Te*I,I)).length&&y.push(w[0],w[1])}for(var Ge=0;Ge<S.length/4;Ge++)0!==(w=vs(o,l,h,p,S[4*Ge],S[4*Ge+1],S[4*Ge+2],S[4*Ge+3],!1)).length&&y.push(w[0],w[1]);if(y.length>2){for(var $e=[y[0],y[1]],Ue=Math.pow($e[0]-o,2)+Math.pow($e[1]-l,2),Ye=1;Ye<y.length/2;Ye++){var tt=Math.pow(y[2*Ye]-o,2)+Math.pow(y[2*Ye+1]-l,2);tt<=Ue&&($e[0]=y[2*Ye],$e[1]=y[2*Ye+1],Ue=tt)}return $e}return y}(I,$,this.points,w,S,E,k)},checkPoint:function(w,S,E,k,I,$,X){return function(o,l,d,h,p,g,v){for(var b=new Array(d.length),y=g/2,w=v/2,S=an(g,v),E=S*S,k=0;k<d.length/4;k++){var $,I;I=0===k?d.length-2:4*k-2,$=4*k+2;var X=h+y*d[4*k],W=p+w*d[4*k+1],ne=S/Math.tan(Math.acos(-d[I]*d[$]-d[I+1]*d[$+1])/2),se=X-ne*d[I],xe=W-ne*d[I+1],De=X+ne*d[$],ae=W+ne*d[$+1];b[4*k]=se,b[4*k+1]=xe,b[4*k+2]=De,b[4*k+3]=ae;var Oe=d[I+1],de=-d[I];Oe*d[$]+de*d[$+1]<0&&(Oe*=-1,de*=-1);var pe=xe+de*S;if(Math.pow(se+Oe*S-o,2)+Math.pow(pe-l,2)<=E)return!0}return mr(o,l,b)}(w,S,this.points,$,X,k,I)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:$i(4,0),draw:function(o,l,d,h,p){this.renderer.nodeShapeImpl(this.name,o,l,d,h,p)},intersectLine:function(o,l,d,h,p,g,v){return ca(p,g,o,l,d,h,v)},checkPoint:function(o,l,d,h,p,g,v){var b=Fc(h,p),y=2*b;return!!(Ps(o,l,this.points,g,v,h,p-y,[0,-1],d)||Ps(o,l,this.points,g,v,h-y,p,[0,-1],d)||fa(o,l,y,y,g-h/2+b,v-p/2+b,d)||fa(o,l,y,y,g+h/2-b,v-p/2+b,d)||fa(o,l,y,y,g+h/2-b,v+p/2-b,d)||fa(o,l,y,y,g-h/2+b,v+p/2-b,d))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:$i(4,0),draw:function(o,l,d,h,p){this.renderer.nodeShapeImpl(this.name,o,l,d,h,p)},generateCutTrianglePts:function(o,l,d,h){var p=this.cornerLength,g=l/2,v=o/2,b=d-v,y=d+v,w=h-g,S=h+g;return{topLeft:[b,w+p,b+p,w,b+p,w+p],topRight:[y-p,w,y,w+p,y-p,w+p],bottomRight:[y,S-p,y-p,S,y-p,S-p],bottomLeft:[b+p,S,b,S-p,b+p,S-p]}},intersectLine:function(o,l,d,h,p,g,v){var b=this.generateCutTrianglePts(d+2*v,h+2*v,o,l),y=[].concat.apply([],[b.topLeft.splice(0,4),b.topRight.splice(0,4),b.bottomRight.splice(0,4),b.bottomLeft.splice(0,4)]);return qa(p,g,y,o,l)},checkPoint:function(o,l,d,h,p,g,v){if(Ps(o,l,this.points,g,v,h,p-2*this.cornerLength,[0,-1],d)||Ps(o,l,this.points,g,v,h-2*this.cornerLength,p,[0,-1],d))return!0;var b=this.generateCutTrianglePts(h,p,g,v);return mr(o,l,b.topLeft)||mr(o,l,b.topRight)||mr(o,l,b.bottomRight)||mr(o,l,b.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:$i(4,0),draw:function(o,l,d,h,p){this.renderer.nodeShapeImpl(this.name,o,l,d,h,p)},intersectLine:function(o,l,d,h,p,g,v){var S=this.generateBarrelBezierPts(d+2*v,h+2*v,o,l),E=function($){var X=ks({x:$[0],y:$[1]},{x:$[2],y:$[3]},{x:$[4],y:$[5]},.15),W=ks({x:$[0],y:$[1]},{x:$[2],y:$[3]},{x:$[4],y:$[5]},.5),te=ks({x:$[0],y:$[1]},{x:$[2],y:$[3]},{x:$[4],y:$[5]},.85);return[$[0],$[1],X.x,X.y,W.x,W.y,te.x,te.y,$[4],$[5]]},k=[].concat(E(S.topLeft),E(S.topRight),E(S.bottomRight),E(S.bottomLeft));return qa(p,g,k,o,l)},generateBarrelBezierPts:function(o,l,d,h){var p=l/2,g=o/2,v=d-g,b=d+g,y=h-p,w=h+p,S=_u(o,l),E=S.heightOffset,k=S.widthOffset,I=S.ctrlPtOffsetPct*o,$={topLeft:[v,y+E,v+I,y,v+k,y],topRight:[b-k,y,b-I,y,b,y+E],bottomRight:[b,w-E,b-I,w,b-k,w],bottomLeft:[v+k,w,v+I,w,v,w-E]};return $.topLeft.isTop=!0,$.topRight.isTop=!0,$.bottomLeft.isBottom=!0,$.bottomRight.isBottom=!0,$},checkPoint:function(o,l,d,h,p,g,v){var b=_u(h,p),w=b.widthOffset;if(Ps(o,l,this.points,g,v,h,p-2*b.heightOffset,[0,-1],d)||Ps(o,l,this.points,g,v,h-2*w,p,[0,-1],d))return!0;for(var S=this.generateBarrelBezierPts(h,p,g,v),E=function(ae,Oe,de){var Me=de[4],Te=de[2],pe=de[0],Fe=de[5],Ce=de[1],Ge=Math.min(Me,pe),$e=Math.max(Me,pe),Ue=Math.min(Fe,Ce),Ye=Math.max(Fe,Ce);if(Ge<=ae&&ae<=$e&&Ue<=Oe&&Oe<=Ye){var tt=function(o,l,d){return[o-2*l+d,2*(l-o),o]}(Me,Te,pe),at=function(o,l,d,h){var p=l*l-4*o*(d-=h);if(p<0)return[];var g=Math.sqrt(p),v=2*o;return[(-l+g)/v,(-l-g)/v]}(tt[0],tt[1],tt[2],ae),et=at.filter(function(Ke){return 0<=Ke&&Ke<=1});if(et.length>0)return et[0]}return null},k=Object.keys(S),I=0;I<k.length;I++){var X=S[k[I]],W=E(o,l,X);if(null!=W){var xe=Wn(X[5],X[3],X[1],W);if(X.isTop&&xe<=l||X.isBottom&&l<=xe)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:$i(4,0),draw:function(o,l,d,h,p){this.renderer.nodeShapeImpl(this.name,o,l,d,h,p)},intersectLine:function(o,l,d,h,p,g,v){var y=l-(h/2+v),E=vs(p,g,o,l,o-(d/2+v),y,o+(d/2+v),y,!1);return E.length>0?E:ca(p,g,o,l,d,h,v)},checkPoint:function(o,l,d,h,p,g,v){var b=Fc(h,p),y=2*b;if(Ps(o,l,this.points,g,v,h,p-y,[0,-1],d)||Ps(o,l,this.points,g,v,h-y,p,[0,-1],d))return!0;var w=h/2+2*d,S=p/2+2*d;return!!(mr(o,l,[g-w,v-S,g-w,v,g+w,v,g+w,v-S])||fa(o,l,y,y,g+h/2-b,v+p/2-b,d)||fa(o,l,y,y,g-h/2+b,v+p/2-b,d))}}},registerNodeShapes:function(){var u=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",$i(3,0)),this.generateRoundPolygon("round-triangle",$i(3,0)),this.generatePolygon("rectangle",$i(4,0)),u.square=u.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var l=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",l),this.generateRoundPolygon("round-diamond",l),this.generatePolygon("pentagon",$i(5,0)),this.generateRoundPolygon("round-pentagon",$i(5,0)),this.generatePolygon("hexagon",$i(6,0)),this.generateRoundPolygon("round-hexagon",$i(6,0)),this.generatePolygon("heptagon",$i(7,0)),this.generateRoundPolygon("round-heptagon",$i(7,0)),this.generatePolygon("octagon",$i(8,0)),this.generateRoundPolygon("round-octagon",$i(8,0));var d=new Array(20),h=Ka(5,0),p=Ka(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var v=0;v<p.length/2;v++)p[2*v]*=g,p[2*v+1]*=g;for(v=0;v<5;v++)d[4*v]=h[2*v],d[4*v+1]=h[2*v+1],d[4*v+2]=p[2*v],d[4*v+3]=p[2*v+1];d=Cu(d),this.generatePolygon("star",d),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var b=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",b),this.generateRoundPolygon("round-tag",b),u.makePolygon=function(y){var E,S="polygon-"+y.join("$");return(E=this[S])?E:o.generatePolygon(S,y)}}},fd={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(u){u=u||kc();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=u},beforeRender:function(u,o){if(!this.destroyed){null==o&&gr("Priority is not optional for beforeRender");var l=this.beforeRenderCallbacks;l.push({fn:u,priority:o}),l.sort(function(d,h){return h.priority-d.priority})}}},Fv=function(o,l,d){for(var h=o.beforeRenderCallbacks,p=0;p<h.length;p++)h[p].fn(l,d)};fd.startRenderLoop=function(){var u=this,o=u.cy;u.renderLoopStarted||(u.renderLoopStarted=!0,Ua(function d(h){if(!u.destroyed){if(!o.batching())if(u.requestedFrame&&!u.skipFrame){Fv(u,!0,h);var p=Ei();u.render(u.renderOptions);var g=u.lastDrawTime=Ei();void 0===u.averageRedrawTime&&(u.averageRedrawTime=g-p),void 0===u.redrawCount&&(u.redrawCount=0),u.redrawCount++,void 0===u.redrawTotalTime&&(u.redrawTotalTime=0);var v=g-p;u.redrawTotalTime+=v,u.lastRedrawTime=v,u.averageRedrawTime=u.averageRedrawTime/2+v/2,u.requestedFrame=!1}else Fv(u,!1,h);u.skipFrame=!1,Ua(d)}}))};var Bp=function(o){this.init(o)},cl=Bp.prototype;cl.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],cl.init=function(u){var o=this;o.options=u,o.cy=u.cy;var l=o.container=u.cy.container();if(Q){var d=Q.document,h=d.head,p="__________cytoscape_stylesheet",g="__________cytoscape_container",v=null!=d.getElementById(p);if(l.className.indexOf(g)<0&&(l.className=(l.className||"")+" "+g),!v){var b=d.createElement("style");b.id=p,b.innerHTML="."+g+" { position: relative; }",h.insertBefore(b,h.children[0])}"static"===Q.getComputedStyle(l).getPropertyValue("position")&&tr("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=u.showFps,o.debug=u.debug,o.hideEdgesOnViewport=u.hideEdgesOnViewport,o.textureOnViewport=u.textureOnViewport,o.wheelSensitivity=u.wheelSensitivity,o.motionBlurEnabled=u.motionBlur,o.forcedPixelRatio=he(u.pixelRatio)?u.pixelRatio:null,o.motionBlur=u.motionBlur,o.motionBlurOpacity=u.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=u.desktopTapThreshold,o.desktopTapThreshold2=u.desktopTapThreshold*u.desktopTapThreshold,o.touchTapThreshold=u.touchTapThreshold,o.touchTapThreshold2=u.touchTapThreshold*u.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},cl.notify=function(u,o){var l=this,d=l.cy;if(!this.destroyed){if("init"===u)return void l.load();if("destroy"===u)return void l.destroy();("add"===u||"remove"===u||"move"===u&&d.hasCompoundNodes()||"load"===u||"zorder"===u||"mount"===u)&&l.invalidateCachedZSortedEles(),"viewport"===u&&l.redrawHint("select",!0),("load"===u||"resize"===u||"mount"===u)&&(l.invalidateContainerClientCoordsCache(),l.matchCanvasSize(l.container)),l.redrawHint("eles",!0),l.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},cl.destroy=function(){var u=this;u.destroyed=!0,u.cy.stopAnimationLoop();for(var o=0;o<u.bindings.length;o++){var l=u.bindings[o],h=l.target;(h.off||h.removeEventListener).apply(h,l.args)}if(u.bindings=[],u.beforeRenderCallbacks=[],u.onUpdateEleCalcsFns=[],u.removeObserver&&u.removeObserver.disconnect(),u.styleObserver&&u.styleObserver.disconnect(),u.resizeObserver&&u.resizeObserver.disconnect(),u.labelCalcDiv)try{document.body.removeChild(u.labelCalcDiv)}catch{}},cl.isHeadless=function(){return!1},[Pv,Qp,$p,eu,zr,fd].forEach(function(u){Wt(cl,u)});var Vp=1e3/60,Qv_setupDequeueing=function(o){return function(){var d=this,h=this.renderer;if(!d.dequeueingSetup){d.dequeueingSetup=!0;var p=T.default(function(){h.redrawHint("eles",!0),h.redrawHint("drag",!0),h.redraw()},o.deqRedrawThreshold);h.beforeRender(function(y,w){var S=Ei(),E=h.averageRedrawTime,k=h.lastRedrawTime,I=[],$=h.cy.extent(),X=h.getPixelRatio();for(y||h.flushRenderedStyleQueue();;){var W=Ei(),te=W-S,ne=W-w;if(k<Vp){if(ne>=o.deqFastCost*(Vp-(y?E:0)))break}else if(y){if(te>=o.deqCost*k||te>=o.deqAvgCost*E)break}else if(ne>=o.deqNoDrawCost*Vp)break;var xe=o.deq(d,X,$);if(!(xe.length>0))break;for(var De=0;De<xe.length;De++)I.push(xe[De])}I.length>0&&(o.onDeqd(d,I),!y&&o.shouldRedraw(d,I,X,$)&&p())},(o.priority||Su)(d))}}},zb=function(){function u(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wu;V(this,u),this.idsByKey=new Zi,this.keyForId=new Zi,this.cachesByLvl=new Zi,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=l}return oe(u,[{key:"getIdsFor",value:function(l){null==l&&gr("Can not get id list for null key");var d=this.idsByKey,h=this.idsByKey.get(l);return h||(h=new ua,d.set(l,h)),h}},{key:"addIdForKey",value:function(l,d){null!=l&&this.getIdsFor(l).add(d)}},{key:"deleteIdForKey",value:function(l,d){null!=l&&this.getIdsFor(l).delete(d)}},{key:"getNumberOfIdsForKey",value:function(l){return null==l?0:this.getIdsFor(l).size}},{key:"updateKeyMappingFor",value:function(l){var d=l.id(),h=this.keyForId.get(d),p=this.getKey(l);this.deleteIdForKey(h,d),this.addIdForKey(p,d),this.keyForId.set(d,p)}},{key:"deleteKeyMappingFor",value:function(l){var d=l.id(),h=this.keyForId.get(d);this.deleteIdForKey(h,d),this.keyForId.delete(d)}},{key:"keyHasChangedFor",value:function(l){var d=l.id();return this.keyForId.get(d)!==this.getKey(l)}},{key:"isInvalid",value:function(l){return this.keyHasChangedFor(l)||this.doesEleInvalidateKey(l)}},{key:"getCachesAt",value:function(l){var d=this.cachesByLvl,h=this.lvls,p=d.get(l);return p||(p=new Zi,d.set(l,p),h.push(l)),p}},{key:"getCache",value:function(l,d){return this.getCachesAt(d).get(l)}},{key:"get",value:function(l,d){var h=this.getKey(l),p=this.getCache(h,d);return null!=p&&this.updateKeyMappingFor(l),p}},{key:"getForCachedKey",value:function(l,d){var h=this.keyForId.get(l.id());return this.getCache(h,d)}},{key:"hasCache",value:function(l,d){return this.getCachesAt(d).has(l)}},{key:"has",value:function(l,d){var h=this.getKey(l);return this.hasCache(h,d)}},{key:"setCache",value:function(l,d,h){h.key=l,this.getCachesAt(d).set(l,h)}},{key:"set",value:function(l,d,h){var p=this.getKey(l);this.setCache(p,d,h),this.updateKeyMappingFor(l)}},{key:"deleteCache",value:function(l,d){this.getCachesAt(d).delete(l)}},{key:"delete",value:function(l,d){var h=this.getKey(l);this.deleteCache(h,d)}},{key:"invalidateKey",value:function(l){var d=this;this.lvls.forEach(function(h){return d.deleteCache(l,h)})}},{key:"invalidate",value:function(l){var d=l.id(),h=this.keyForId.get(d);this.deleteKeyMappingFor(l);var p=this.doesEleInvalidateKey(l);return p&&this.invalidateKey(h),p||0===this.getNumberOfIdsForKey(h)}}]),u}(),Zu={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Hp=ni({getKey:null,doesEleInvalidateKey:wu,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Ks,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),tu=function(o,l){var d=this;d.renderer=o,d.onDequeues=[];var h=Hp(l);Wt(d,h),d.lookup=new zb(h.getKey,h.doesEleInvalidateKey),d.setupDequeueing()},ai=tu.prototype;ai.reasons=Zu,ai.getTextureQueue=function(u){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[u]=o.eleImgCaches[u]||[]},ai.getRetiredTextureQueue=function(u){var l=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return l[u]=l[u]||[]},ai.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new _.default(function(l,d){return d.reqs-l.reqs})},ai.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},ai.getElement=function(u,o,l,d,h){var p=this,g=this.renderer,v=g.cy.zoom(),b=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!u.visible()||u.removed()||!p.allowEdgeTxrCaching&&u.isEdge()||!p.allowParentTxrCaching&&u.isParent())return null;if(null==d&&(d=Math.ceil(Vr(v*l))),d<-4)d=-4;else if(v>=7.99||d>3)return null;var y=Math.pow(2,d),w=o.h*y,S=o.w*y,E=g.eleTextBiggerThanMin(u,y);if(!this.isVisible(u,E))return null;var I,k=b.get(u,d);if(k&&k.invalidated&&(k.invalidated=!1,k.texture.invalidatedWidth-=k.width),k)return k;if(I=w<=25?25:w<=50?50:50*Math.ceil(w/50),w>1024||S>1024)return null;var $=p.getTextureQueue(I),X=$[$.length-2],W=function(){return p.recycleTexture(I,S)||p.addTexture(I,S)};X||(X=$[$.length-1]),X||(X=W()),X.width-X.usedWidth<S&&(X=W());for(var De,te=function($e){return $e&&$e.scaledLabelShown===E},ne=h&&h===Zu.dequeue,se=h&&h===Zu.highQuality,xe=h&&h===Zu.downscale,ae=d+1;ae<=3;ae++){var Oe=b.get(u,ae);if(Oe){De=Oe;break}}var de=De&&De.level===d+1?De:null,Me=function(){X.context.drawImage(de.texture.canvas,de.x,0,de.width,de.height,X.usedWidth,0,S,w)};if(X.context.setTransform(1,0,0,1,0,0),X.context.clearRect(X.usedWidth,0,S,I),te(de))Me();else if(te(De)){if(!se)return p.queueElement(u,De.level-1),De;for(var Te=De.level;Te>d;Te--)de=p.getElement(u,o,l,Te,Zu.downscale);Me()}else{var pe;if(!ne&&!se&&!xe)for(var Fe=d-1;Fe>=-4;Fe--){var Ce=b.get(u,Fe);if(Ce){pe=Ce;break}}if(te(pe))return p.queueElement(u,d),pe;X.context.translate(X.usedWidth,0),X.context.scale(y,y),this.drawElement(X.context,u,o,E,!1),X.context.scale(1/y,1/y),X.context.translate(-X.usedWidth,0)}return k={x:X.usedWidth,texture:X,level:d,scale:y,width:S,height:w,scaledLabelShown:E},X.usedWidth+=Math.ceil(S+8),X.eleCaches.push(k),b.set(u,d,k),p.checkTextureFullness(X),k},ai.invalidateElements=function(u){for(var o=0;o<u.length;o++)this.invalidateElement(u[o])},ai.invalidateElement=function(u){var o=this,l=o.lookup,d=[];if(l.isInvalid(u)){for(var p=-4;p<=3;p++){var g=l.getForCachedKey(u,p);g&&d.push(g)}if(l.invalidate(u))for(var b=0;b<d.length;b++){var y=d[b],w=y.texture;w.invalidatedWidth+=y.width,y.invalidated=!0,o.checkTextureUtility(w)}o.removeFromQueue(u)}},ai.checkTextureUtility=function(u){u.invalidatedWidth>=.2*u.width&&this.retireTexture(u)},ai.checkTextureFullness=function(u){var l=this.getTextureQueue(u.height);u.usedWidth/u.width>.8&&u.fullnessChecks>=10?Bo(l,u):u.fullnessChecks++},ai.retireTexture=function(u){var l=u.height,d=this.getTextureQueue(l),h=this.lookup;Bo(d,u),u.retired=!0;for(var p=u.eleCaches,g=0;g<p.length;g++){var v=p[g];h.deleteCache(v.key,v.level)}Ic(p),this.getRetiredTextureQueue(l).push(u)},ai.addTexture=function(u,o){var h={};return this.getTextureQueue(u).push(h),h.eleCaches=[],h.height=u,h.width=Math.max(1024,o),h.usedWidth=0,h.invalidatedWidth=0,h.fullnessChecks=0,h.canvas=this.renderer.makeOffscreenCanvas(h.width,h.height),h.context=h.canvas.getContext("2d"),h},ai.recycleTexture=function(u,o){for(var d=this.getTextureQueue(u),h=this.getRetiredTextureQueue(u),p=0;p<h.length;p++){var g=h[p];if(g.width>=o)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,Ic(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),Bo(h,g),d.push(g),g}},ai.queueElement=function(u,o){var d=this.getElementQueue(),h=this.getElementKeyToQueue(),p=this.getKey(u),g=h[p];if(g)g.level=Math.max(g.level,o),g.eles.merge(u),g.reqs++,d.updateItem(g);else{var v={eles:u.spawn().merge(u),level:o,reqs:1,key:p};d.push(v),h[p]=v}},ai.dequeue=function(u){for(var o=this,l=o.getElementQueue(),d=o.getElementKeyToQueue(),h=[],p=o.lookup,g=0;g<1&&l.size()>0;g++){var v=l.pop(),b=v.key,y=v.eles[0],w=p.hasCache(y,v.level);if(d[b]=null,!w){h.push(v);var S=o.getBoundingBox(y);o.getElement(y,S,u,v.level,Zu.dequeue)}}return h},ai.removeFromQueue=function(u){var l=this.getElementQueue(),d=this.getElementKeyToQueue(),h=this.getKey(u),p=d[h];null!=p&&(1===p.eles.length?(p.reqs=bu,l.updateItem(p),l.pop(),d[h]=null):p.eles.unmerge(u))},ai.onDequeue=function(u){this.onDequeues.push(u)},ai.offDequeue=function(u){Bo(this.onDequeues,u)},ai.setupDequeueing=Qv_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l,d){return o.dequeue(l,d)},onDeqd:function(o,l){for(var d=0;d<o.onDequeues.length;d++)(0,o.onDequeues[d])(l)},shouldRedraw:function(o,l,d,h){for(var p=0;p<l.length;p++)for(var g=l[p].eles,v=0;v<g.length;v++){var b=g[v].boundingBox();if(Is(b,h))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var Wv=function(o){var l=this,d=l.renderer=o,h=d.cy;l.layersByLevel={},l.firstGet=!0,l.lastInvalidationTime=Ei()-500,l.skipping=!1,l.eleTxrDeqs=h.collection(),l.scheduleElementRefinement=T.default(function(){l.refineElementTextures(l.eleTxrDeqs),l.eleTxrDeqs.unmerge(l.eleTxrDeqs)},50),d.beforeRender(function(g,v){l.skipping=v-l.lastInvalidationTime<=250},d.beforeRenderPriorities.lyrTxrSkip),l.layersQueue=new _.default(function(v,b){return b.reqs-v.reqs}),l.setupDequeueing()},ki=Wv.prototype,Zv=0,Yv=Math.pow(2,53)-1;ki.makeLayer=function(u,o){var l=Math.pow(2,o),d=Math.ceil(u.w*l),h=Math.ceil(u.h*l),p=this.renderer.makeOffscreenCanvas(d,h),g={id:Zv=++Zv%Yv,bb:u,level:o,width:d,height:h,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},v=g.context,b=-g.bb.x1,y=-g.bb.y1;return v.scale(l,l),v.translate(b,y),g},ki.getLayers=function(u,o,l){var d=this,g=d.renderer.cy.zoom(),v=d.firstGet;if(d.firstGet=!1,null==l)if((l=Math.ceil(Vr(g*o)))<-4)l=-4;else if(g>=3.99||l>2)return null;d.validateLayersElesOrdering(l,u);var S,k,b=d.layersByLevel,y=Math.pow(2,l),w=b[l]=b[l]||[];if(d.levelIsComplete(l,u))return w;!function(){var Me=function(Ge){if(d.validateLayersElesOrdering(Ge,u),d.levelIsComplete(Ge,u))return k=b[Ge],!0},Te=function(Ge){if(!k)for(var $e=l+Ge;-4<=$e&&$e<=2&&!Me($e);$e+=Ge);};Te(1),Te(-1);for(var pe=w.length-1;pe>=0;pe--){var Fe=w[pe];Fe.invalid&&Bo(w,Fe)}}();var X=function(Me){var Te=(Me=Me||{}).after;if(function(){if(!S){S=xr();for(var Me=0;Me<u.length;Me++)xn(S,u[Me].boundingBox())}}(),S.w*y*(S.h*y)>16e6)return null;var Fe=d.makeLayer(S,l);if(null!=Te){var Ce=w.indexOf(Te)+1;w.splice(Ce,0,Fe)}else(void 0===Me.insert||Me.insert)&&w.unshift(Fe);return Fe};if(d.skipping&&!v)return null;for(var W=null,te=u.length/1,ne=!v,se=0;se<u.length;se++){var xe=u[se],De=xe._private.rscratch,ae=De.imgLayerCaches=De.imgLayerCaches||{},Oe=ae[l];if(Oe)W=Oe;else{if((!W||W.eles.length>=te||!Oo(W.bb,xe.boundingBox()))&&!(W=X({insert:!0,after:W})))return null;k||ne?d.queueLayer(W,xe):d.drawEleInLayer(W,xe,l,o),W.eles.push(xe),ae[l]=W}}return k||(ne?null:w)},ki.getEleLevelForLayerLevel=function(u,o){return u},ki.drawEleInLayer=function(u,o,l,d){var p=this.renderer,g=u.context,v=o.boundingBox();0===v.w||0===v.h||!o.visible()||(l=this.getEleLevelForLayerLevel(l,d),p.setImgSmoothing(g,!1),p.drawCachedElement(g,o,null,null,l,!0),p.setImgSmoothing(g,!0))},ki.levelIsComplete=function(u,o){var d=this.layersByLevel[u];if(!d||0===d.length)return!1;for(var h=0,p=0;p<d.length;p++){var g=d[p];if(g.reqs>0||g.invalid)return!1;h+=g.eles.length}return h===o.length},ki.validateLayersElesOrdering=function(u,o){var l=this.layersByLevel[u];if(l)for(var d=0;d<l.length;d++){for(var h=l[d],p=-1,g=0;g<o.length;g++)if(h.eles[0]===o[g]){p=g;break}if(p<0)this.invalidateLayer(h);else{var v=p;for(g=0;g<h.eles.length;g++)if(h.eles[g]!==o[v+g]){this.invalidateLayer(h);break}}}},ki.updateElementsInLayers=function(u,o){for(var d=qe(u[0]),h=0;h<u.length;h++)for(var p=d?null:u[h],g=d?u[h]:u[h].ele,v=g._private.rscratch,b=v.imgLayerCaches=v.imgLayerCaches||{},y=-4;y<=2;y++){var w=b[y];w&&(p&&this.getEleLevelForLayerLevel(w.level)!==p.level||o(w,g,p))}},ki.haveLayers=function(){for(var o=!1,l=-4;l<=2;l++){var d=this.layersByLevel[l];if(d&&d.length>0){o=!0;break}}return o},ki.invalidateElements=function(u){var o=this;0!==u.length&&(o.lastInvalidationTime=Ei(),0!==u.length&&o.haveLayers()&&o.updateElementsInLayers(u,function(d,h,p){o.invalidateLayer(d)}))},ki.invalidateLayer=function(u){if(this.lastInvalidationTime=Ei(),!u.invalid){var o=u.level,l=u.eles;Bo(this.layersByLevel[o],u),u.elesQueue=[],u.invalid=!0,u.replacement&&(u.replacement.invalid=!0);for(var h=0;h<l.length;h++){var p=l[h]._private.rscratch.imgLayerCaches;p&&(p[o]=null)}}},ki.refineElementTextures=function(u){var o=this;o.updateElementsInLayers(u,function(d,h,p){var g=d.replacement;if(g||((g=d.replacement=o.makeLayer(d.bb,d.level)).replaces=d,g.eles=d.eles),!g.reqs)for(var v=0;v<g.eles.length;v++)o.queueLayer(g,g.eles[v])})},ki.enqueueElementRefinement=function(u){this.eleTxrDeqs.merge(u),this.scheduleElementRefinement()},ki.queueLayer=function(u,o){var d=this.layersQueue,h=u.elesQueue,p=h.hasId=h.hasId||{};if(!u.replacement){if(o){if(p[o.id()])return;h.push(o),p[o.id()]=!0}u.reqs?(u.reqs++,d.updateItem(u)):(u.reqs=1,d.push(u))}},ki.dequeue=function(u){for(var o=this,l=o.layersQueue,d=[],h=0;h<1&&0!==l.size();){var p=l.peek();if(p.replacement)l.pop();else if(p.replaces&&p!==p.replaces.replacement)l.pop();else if(p.invalid)l.pop();else{var g=p.elesQueue.shift();g&&(o.drawEleInLayer(p,g,p.level,u),h++),0===d.length&&d.push(!0),0===p.elesQueue.length&&(l.pop(),p.reqs=0,p.replaces&&o.applyLayerReplacement(p),o.requestRedraw())}}return d},ki.applyLayerReplacement=function(u){var l=this.layersByLevel[u.level],d=u.replaces,h=l.indexOf(d);if(!(h<0||d.invalid)){l[h]=u;for(var p=0;p<u.eles.length;p++){var g=u.eles[p]._private,v=g.imgLayerCaches=g.imgLayerCaches||{};v&&(v[u.level]=u)}this.requestRedraw()}},ki.requestRedraw=T.default(function(){var u=this.renderer;u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},100),ki.setupDequeueing=Qv_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l){return o.dequeue(l)},onDeqd:Su,shouldRedraw:Ks,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var Yp,Af={};function qp(u,o){for(var l=0;l<o.length;l++){var d=o[l];u.lineTo(d.x,d.y)}}function qb(u,o,l){for(var d,h=0;h<o.length;h++){var p=o[h];0===h&&(d=p),u.lineTo(p.x,p.y)}u.quadraticCurveTo(l.x,l.y,d.x,d.y)}function qv(u,o,l){u.beginPath&&u.beginPath();for(var d=o,h=0;h<d.length;h++)u.lineTo((p=d[h]).x,p.y);var g=l,v=l[0];for(u.moveTo(v.x,v.y),h=1;h<g.length;h++){var p;u.lineTo((p=g[h]).x,p.y)}u.closePath&&u.closePath()}function Kv(u,o,l,d,h){u.beginPath&&u.beginPath(),u.arc(l,d,h,0,2*Math.PI,!1);var p=o,g=p[0];u.moveTo(g.x,g.y);for(var v=0;v<p.length;v++){var b=p[v];u.lineTo(b.x,b.y)}u.closePath&&u.closePath()}function Jv(u,o,l,d){u.arc(o,l,d,0,2*Math.PI,!1)}Af.arrowShapeImpl=function(u){return(Yp||(Yp={polygon:qp,"triangle-backcurve":qb,"triangle-tee":qv,"circle-triangle":Kv,"triangle-cross":qv,circle:Jv}))[u]};var Hi={drawElement:function(u,o,l,d,h,p){o.isNode()?this.drawNode(u,o,l,d,h,p):this.drawEdge(u,o,l,d,h,p)},drawElementOverlay:function(u,o){o.isNode()?this.drawNodeOverlay(u,o):this.drawEdgeOverlay(u,o)},drawElementUnderlay:function(u,o){o.isNode()?this.drawNodeUnderlay(u,o):this.drawEdgeUnderlay(u,o)},drawCachedElementPortion:function(u,o,l,d,h,p,g,v){var b=this,y=l.getBoundingBox(o);if(0!==y.w&&0!==y.h){var w=l.getElement(o,y,d,h,p);if(null!=w){var S=v(b,o);if(0===S)return;var W,te,ne,se,xe,Oe,E=g(b,o),k=y.x1,I=y.y1,$=y.w,X=y.h;if(0!==E){var De=l.getRotationPoint(o);u.translate(ne=De.x,se=De.y),u.rotate(E),(xe=b.getImgSmoothing(u))||b.setImgSmoothing(u,!0);var ae=l.getRotationOffset(o);W=ae.x,te=ae.y}else W=k,te=I;1!==S&&(u.globalAlpha=(Oe=u.globalAlpha)*S),u.drawImage(w.texture.canvas,w.x,0,w.width,w.height,W,te,$,X),1!==S&&(u.globalAlpha=Oe),0!==E&&(u.rotate(-E),u.translate(-ne,-se),xe||b.setImgSmoothing(u,!1))}else l.drawElement(u,o)}}},ey=function(){return 0},ty=function(o,l){return o.getTextAngle(l,null)},Kb=function(o,l){return o.getTextAngle(l,"source")},aC=function(o,l){return o.getTextAngle(l,"target")},kf=function(o,l){return l.effectiveOpacity()},Kp=function(o,l){return l.pstyle("text-opacity").pfValue*l.effectiveOpacity()};Hi.drawCachedElement=function(u,o,l,d,h,p){var g=this,v=g.data,b=v.eleTxrCache,y=v.lblTxrCache,w=v.slbTxrCache,S=v.tlbTxrCache,E=o.boundingBox(),k=!0===p?b.reasons.highQuality:null;if(0!==E.w&&0!==E.h&&o.visible()&&(!d||Is(E,d))){var I=o.isEdge(),$=o.element()._private.rscratch.badLine;g.drawElementUnderlay(u,o),g.drawCachedElementPortion(u,o,b,l,h,k,ey,kf),(!I||!$)&&g.drawCachedElementPortion(u,o,y,l,h,k,ty,Kp),I&&!$&&(g.drawCachedElementPortion(u,o,w,l,h,k,Kb,Kp),g.drawCachedElementPortion(u,o,S,l,h,k,aC,Kp)),g.drawElementOverlay(u,o)}},Hi.drawElements=function(u,o){for(var d=0;d<o.length;d++)this.drawElement(u,o[d])},Hi.drawCachedElements=function(u,o,l,d){for(var p=0;p<o.length;p++)this.drawCachedElement(u,o[p],l,d)},Hi.drawCachedNodes=function(u,o,l,d){for(var p=0;p<o.length;p++){var g=o[p];g.isNode()&&this.drawCachedElement(u,g,l,d)}},Hi.drawLayeredElements=function(u,o,l,d){var p=this.data.lyrTxrCache.getLayers(o,l);if(p)for(var g=0;g<p.length;g++){var v=p[g],b=v.bb;0===b.w||0===b.h||u.drawImage(v.canvas,b.x1,b.y1,b.w,b.h)}else this.drawCachedElements(u,o,l,d)};var Ho={drawEdge:function(u,o,l){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,v=o._private.rscratch;if((!p||o.visible())&&!v.badLine&&null!=v.allpts&&!isNaN(v.allpts[0])){var b;l&&u.translate(-(b=l).x1,-b.y1);var y=p?o.pstyle("opacity").value:1,w=p?o.pstyle("line-opacity").value:1,S=o.pstyle("curve-style").value,E=o.pstyle("line-style").value,k=o.pstyle("width").pfValue,I=o.pstyle("line-cap").value,$=y*w,X=y*w,W=function(){var pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;"straight-triangle"===S?(g.eleStrokeStyle(u,o,pe),g.drawEdgeTrianglePath(o,u,v.allpts)):(u.lineWidth=k,u.lineCap=I,g.eleStrokeStyle(u,o,pe),g.drawEdgePath(o,u,v.allpts,E),u.lineCap="butt")},te=function(){h&&g.drawEdgeOverlay(u,o)},ne=function(){h&&g.drawEdgeUnderlay(u,o)},se=function(){var pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;g.drawArrowheads(u,o,pe)},xe=function(){g.drawElementText(u,o,null,d)};u.lineJoin="round";var De="yes"===o.pstyle("ghost").value;if(De){var ae=o.pstyle("ghost-offset-x").pfValue,Oe=o.pstyle("ghost-offset-y").pfValue,de=o.pstyle("ghost-opacity").value,Me=$*de;u.translate(ae,Oe),W(Me),se(Me),u.translate(-ae,-Oe)}ne(),W(),se(),te(),xe(),l&&u.translate(b.x1,b.y1)}}},Jp=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,d){if(d.visible()){var h=d.pstyle("".concat(o,"-opacity")).value;if(0!==h){var p=this,g=p.usePaths(),v=d._private.rscratch,y=2*d.pstyle("".concat(o,"-padding")).pfValue,w=d.pstyle("".concat(o,"-color")).value;l.lineWidth=y,l.lineCap="self"!==v.edgeType||g?"round":"butt",p.colorStrokeStyle(l,w[0],w[1],w[2],h),p.drawEdgePath(d,l,v.allpts,"solid")}}}};Ho.drawEdgeOverlay=Jp("overlay"),Ho.drawEdgeUnderlay=Jp("underlay"),Ho.drawEdgePath=function(u,o,l,d){var g,h=u._private.rscratch,p=o,v=!1,b=this.usePaths(),y=u.pstyle("line-dash-pattern").pfValue,w=u.pstyle("line-dash-offset").pfValue;if(b){var S=l.join("$");h.pathCacheKey&&h.pathCacheKey===S?(g=o=h.pathCache,v=!0):(g=o=new Path2D,h.pathCacheKey=S,h.pathCache=g)}if(p.setLineDash)switch(d){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(y),p.lineDashOffset=w;break;case"solid":p.setLineDash([])}if(!v&&!h.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(l[0],l[1]),h.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var k=2;k+3<l.length;k+=4)o.quadraticCurveTo(l[k],l[k+1],l[k+2],l[k+3]);break;case"straight":case"segments":case"haystack":for(var I=2;I+1<l.length;I+=2)o.lineTo(l[I],l[I+1])}o=p,b?o.stroke(g):o.stroke(),o.setLineDash&&o.setLineDash([])},Ho.drawEdgeTrianglePath=function(u,o,l){o.fillStyle=o.strokeStyle;for(var d=u.pstyle("width").pfValue,h=0;h+1<l.length;h+=2){var p=[l[h+2]-l[h],l[h+3]-l[h+1]],g=Math.sqrt(p[0]*p[0]+p[1]*p[1]),v=[p[1]/g,-p[0]/g],b=[v[0]*d/2,v[1]*d/2];o.beginPath(),o.moveTo(l[h]-b[0],l[h+1]-b[1]),o.lineTo(l[h]+b[0],l[h+1]+b[1]),o.lineTo(l[h+2],l[h+3]),o.closePath(),o.fill()}},Ho.drawArrowheads=function(u,o,l){var d=o._private.rscratch,h="haystack"===d.edgeType;h||this.drawArrowhead(u,o,"source",d.arrowStartX,d.arrowStartY,d.srcArrowAngle,l),this.drawArrowhead(u,o,"mid-target",d.midX,d.midY,d.midtgtArrowAngle,l),this.drawArrowhead(u,o,"mid-source",d.midX,d.midY,d.midsrcArrowAngle,l),h||this.drawArrowhead(u,o,"target",d.arrowEndX,d.arrowEndY,d.tgtArrowAngle,l)},Ho.drawArrowhead=function(u,o,l,d,h,p,g){if(!(isNaN(d)||null==d||isNaN(h)||null==h||isNaN(p)||null==p)){var v=this,b=o.pstyle(l+"-arrow-shape").value;if("none"!==b){var y="hollow"===o.pstyle(l+"-arrow-fill").value?"both":"filled",w=o.pstyle(l+"-arrow-fill").value,S=o.pstyle("width").pfValue,E=o.pstyle("opacity").value;void 0===g&&(g=E);var k=u.globalCompositeOperation;(1!==g||"hollow"===w)&&(u.globalCompositeOperation="destination-out",v.colorFillStyle(u,255,255,255,1),v.colorStrokeStyle(u,255,255,255,1),v.drawArrowShape(o,u,y,S,b,d,h,p),u.globalCompositeOperation=k);var I=o.pstyle(l+"-arrow-color").value;v.colorFillStyle(u,I[0],I[1],I[2],g),v.colorStrokeStyle(u,I[0],I[1],I[2],g),v.drawArrowShape(o,u,w,S,b,d,h,p)}}},Ho.drawArrowShape=function(u,o,l,d,h,p,g,v){var S,b=this,y=this.usePaths()&&"triangle-cross"!==h,w=!1,E=o,k={x:p,y:g},I=u.pstyle("arrow-scale").value,$=this.getArrowWidth(d,I),X=b.arrowShapes[h];if(y){var W=b.arrowPathCache=b.arrowPathCache||[],te=la(h),ne=W[te];null!=ne?(S=o=ne,w=!0):(S=o=new Path2D,W[te]=S)}w||(o.beginPath&&o.beginPath(),y?X.draw(o,1,0,{x:0,y:0},1):X.draw(o,$,v,k,d),o.closePath&&o.closePath()),o=E,y&&(o.translate(p,g),o.rotate(v),o.scale($,$)),("filled"===l||"both"===l)&&(y?o.fill(S):o.fill()),("hollow"===l||"both"===l)&&(o.lineWidth=(X.matchEdgeWidth?d:1)/(y?$:1),o.lineJoin="miter",y?o.stroke(S):o.stroke()),y&&(o.scale(1/$,1/$),o.rotate(-v),o.translate(-p,-g))};var If={safeDrawImage:function(u,o,l,d,h,p,g,v,b,y){if(!(h<=0||p<=0||b<=0||y<=0))try{u.drawImage(o,l,d,h,p,g,v,b,y)}catch(w){tr(w)}},drawInscribedImage:function(u,o,l,d,h){var p=this,g=l.position(),v=g.x,b=g.y,y=l.cy().style(),w=y.getIndexedStyle.bind(y),S=w(l,"background-fit","value",d),E=w(l,"background-repeat","value",d),k=l.width(),I=l.height(),$=2*l.padding(),X=k+("inner"===w(l,"background-width-relative-to","value",d)?0:$),W=I+("inner"===w(l,"background-height-relative-to","value",d)?0:$),te=l._private.rscratch,se="node"===w(l,"background-clip","value",d),xe=w(l,"background-image-opacity","value",d)*h,De=w(l,"background-image-smoothing","value",d),ae=o.width||o.cachedW,Oe=o.height||o.cachedH;(null==ae||null==Oe)&&(document.body.appendChild(o),ae=o.cachedW=o.width||o.offsetWidth,Oe=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var de=ae,Me=Oe;if("auto"!==w(l,"background-width","value",d)&&(de="%"===w(l,"background-width","units",d)?w(l,"background-width","pfValue",d)*X:w(l,"background-width","pfValue",d)),"auto"!==w(l,"background-height","value",d)&&(Me="%"===w(l,"background-height","units",d)?w(l,"background-height","pfValue",d)*W:w(l,"background-height","pfValue",d)),0!==de&&0!==Me){if("contain"===S)de*=Te=Math.min(X/de,W/Me),Me*=Te;else if("cover"===S){var Te;de*=Te=Math.max(X/de,W/Me),Me*=Te}var pe=v-X/2,Fe=w(l,"background-position-x","units",d),Ce=w(l,"background-position-x","pfValue",d);pe+="%"===Fe?(X-de)*Ce:Ce;var Ge=w(l,"background-offset-x","units",d),$e=w(l,"background-offset-x","pfValue",d);pe+="%"===Ge?(X-de)*$e:$e;var Ue=b-W/2,Ye=w(l,"background-position-y","units",d),tt=w(l,"background-position-y","pfValue",d);Ue+="%"===Ye?(W-Me)*tt:tt;var at=w(l,"background-offset-y","units",d),et=w(l,"background-offset-y","pfValue",d);Ue+="%"===at?(W-Me)*et:et,te.pathCache&&(pe-=v,Ue-=b,v=0,b=0);var Ke=u.globalAlpha;u.globalAlpha=xe;var wt=p.getImgSmoothing(u),xt=!1;if("no"===De&&wt?(p.setImgSmoothing(u,!1),xt=!0):"yes"===De&&!wt&&(p.setImgSmoothing(u,!0),xt=!0),"no-repeat"===E)se&&(u.save(),te.pathCache?u.clip(te.pathCache):(p.nodeShapes[p.getNodeShape(l)].draw(u,v,b,X,W),u.clip())),p.safeDrawImage(u,o,0,0,ae,Oe,pe,Ue,de,Me),se&&u.restore();else{var yt=u.createPattern(o,E);u.fillStyle=yt,p.nodeShapes[p.getNodeShape(l)].draw(u,v,b,X,W),u.translate(pe,Ue),u.fill(),u.translate(-pe,-Ue)}u.globalAlpha=Ke,xt&&p.setImgSmoothing(u,wt)}}},Sa={};function ny(u,o,l,d,h){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;u.beginPath(),u.moveTo(o+p,l),u.lineTo(o+d-p,l),u.quadraticCurveTo(o+d,l,o+d,l+p),u.lineTo(o+d,l+h-p),u.quadraticCurveTo(o+d,l+h,o+d-p,l+h),u.lineTo(o+p,l+h),u.quadraticCurveTo(o,l+h,o,l+h-p),u.lineTo(o,l+p),u.quadraticCurveTo(o,l,o+p,l),u.closePath(),u.fill()}Sa.eleTextBiggerThanMin=function(u,o){if(!o){var l=u.cy().zoom(),d=this.getPixelRatio(),h=Math.ceil(Vr(l*d));o=Math.pow(2,h)}return!(u.pstyle("font-size").pfValue*o<u.pstyle("min-zoomed-font-size").pfValue)},Sa.drawElementText=function(u,o,l,d,h){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==d){if(p&&!g.eleTextBiggerThanMin(o))return}else if(!1===d)return;if(o.isNode()){var v=o.pstyle("label");if(!v||!v.value)return;var b=g.getLabelJustification(o);u.textAlign=b,u.textBaseline="bottom"}else{var y=o.element()._private.rscratch.badLine,w=o.pstyle("label"),S=o.pstyle("source-label"),E=o.pstyle("target-label");if(y||(!w||!w.value)&&(!S||!S.value)&&(!E||!E.value))return;u.textAlign="center",u.textBaseline="bottom"}var I,k=!l;l&&u.translate(-(I=l).x1,-I.y1),null==h?(g.drawText(u,o,null,k,p),o.isEdge()&&(g.drawText(u,o,"source",k,p),g.drawText(u,o,"target",k,p))):g.drawText(u,o,h,k,p),l&&u.translate(I.x1,I.y1)},Sa.getFontCache=function(u){var o;this.fontCaches=this.fontCaches||[];for(var l=0;l<this.fontCaches.length;l++)if((o=this.fontCaches[l]).context===u)return o;return this.fontCaches.push(o={context:u}),o},Sa.setupTextStyle=function(u,o){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=o.pstyle("font-style").strValue,h=o.pstyle("font-size").pfValue+"px",p=o.pstyle("font-family").strValue,g=o.pstyle("font-weight").strValue,v=l?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,b=o.pstyle("text-outline-opacity").value*v,y=o.pstyle("color").value,w=o.pstyle("text-outline-color").value;u.font=d+" "+g+" "+h+" "+p,u.lineJoin="round",this.colorFillStyle(u,y[0],y[1],y[2],v),this.colorStrokeStyle(u,w[0],w[1],w[2],b)},Sa.getTextAngle=function(u,o){var h=u._private.rscratch,g=u.pstyle((o?o+"-":"")+"text-rotation"),v=Js(h,"labelAngle",o);return"autorotate"===g.strValue?u.isEdge()?v:0:"none"===g.strValue?0:g.pfValue},Sa.drawText=function(u,o,l){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=o._private,g=p.rscratch,v=h?o.effectiveOpacity():1;if(!h||0!==v&&0!==o.pstyle("text-opacity").value){"main"===l&&(l=null);var w,S,b=Js(g,"labelX",l),y=Js(g,"labelY",l),E=this.getLabelText(o,l);if(null!=E&&""!==E&&!isNaN(b)&&!isNaN(y)){this.setupTextStyle(u,o,h);var xe,k=l?l+"-":"",I=Js(g,"labelWidth",l),$=Js(g,"labelHeight",l),X=o.pstyle(k+"text-margin-x").pfValue,W=o.pstyle(k+"text-margin-y").pfValue,te=o.isEdge(),ne=o.pstyle("text-halign").value,se=o.pstyle("text-valign").value;switch(te&&(ne="center",se="center"),b+=X,y+=W,0!==(xe=d?this.getTextAngle(o,l):0)&&(u.translate(w=b,S=y),u.rotate(xe),b=0,y=0),se){case"top":break;case"center":y+=$/2;break;case"bottom":y+=$}var De=o.pstyle("text-background-opacity").value,ae=o.pstyle("text-border-opacity").value,Oe=o.pstyle("text-border-width").pfValue,de=o.pstyle("text-background-padding").pfValue;if(De>0||Oe>0&&ae>0){var Me=b-de;switch(ne){case"left":Me-=I;break;case"center":Me-=I/2}var Te=y-$-de,pe=I+2*de,Fe=$+2*de;if(De>0){var Ce=u.fillStyle,Ge=o.pstyle("text-background-color").value;u.fillStyle="rgba("+Ge[0]+","+Ge[1]+","+Ge[2]+","+De*v+")";var $e=o.pstyle("text-background-shape").strValue;0===$e.indexOf("round")?ny(u,Me,Te,pe,Fe,2):u.fillRect(Me,Te,pe,Fe),u.fillStyle=Ce}if(Oe>0&&ae>0){var Ue=u.strokeStyle,Ye=u.lineWidth,tt=o.pstyle("text-border-color").value,at=o.pstyle("text-border-style").value;if(u.strokeStyle="rgba("+tt[0]+","+tt[1]+","+tt[2]+","+ae*v+")",u.lineWidth=Oe,u.setLineDash)switch(at){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"double":u.lineWidth=Oe/4,u.setLineDash([]);break;case"solid":u.setLineDash([])}if(u.strokeRect(Me,Te,pe,Fe),"double"===at){var et=Oe/2;u.strokeRect(Me+et,Te+et,pe-2*et,Fe-2*et)}u.setLineDash&&u.setLineDash([]),u.lineWidth=Ye,u.strokeStyle=Ue}}var Ke=2*o.pstyle("text-outline-width").pfValue;if(Ke>0&&(u.lineWidth=Ke),"wrap"===o.pstyle("text-wrap").value){var wt=Js(g,"labelWrapCachedLines",l),xt=Js(g,"labelLineHeight",l),yt=I/2,mt=this.getLabelJustification(o);switch("auto"===mt||("left"===ne?"left"===mt?b+=-I:"center"===mt&&(b+=-yt):"center"===ne?"left"===mt?b+=-yt:"right"===mt&&(b+=yt):"right"===ne&&("center"===mt?b+=yt:"right"===mt&&(b+=I))),se){case"top":case"center":case"bottom":y-=(wt.length-1)*xt}for(var Ze=0;Ze<wt.length;Ze++)Ke>0&&u.strokeText(wt[Ze],b,y),u.fillText(wt[Ze],b,y),y+=xt}else Ke>0&&u.strokeText(E,b,y),u.fillText(E,b,y);0!==xe&&(u.rotate(-xe),u.translate(-w,-S))}}};var xa={drawNode:function(u,o,l){var v,b,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,y=o._private,w=y.rscratch,S=o.position();if(he(S.x)&&he(S.y)&&(!p||o.visible())){var I,W,E=p?o.effectiveOpacity():1,k=g.usePaths(),$=!1,X=o.padding();v=o.width()+2*X,b=o.height()+2*X,l&&u.translate(-(W=l).x1,-W.y1);for(var te=o.pstyle("background-image"),ne=te.value,se=new Array(ne.length),xe=new Array(ne.length),De=0,ae=0;ae<ne.length;ae++){var Oe=ne[ae],de=se[ae]=null!=Oe&&"none"!==Oe;if(de){var Me=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",ae);De++,xe[ae]=g.getCachedImage(Oe,Me,function(){y.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var Te=o.pstyle("background-blacken").value,pe=o.pstyle("border-width").pfValue,Fe=o.pstyle("background-opacity").value*E,Ce=o.pstyle("border-color").value,Ge=o.pstyle("border-style").value,$e=o.pstyle("border-opacity").value*E;u.lineJoin="miter";var Ue=function(){var Vt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe;g.eleFillStyle(u,o,Vt)},Ye=function(){var Vt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e;g.colorStrokeStyle(u,Ce[0],Ce[1],Ce[2],Vt)},tt=o.pstyle("shape").strValue,at=o.pstyle("shape-polygon-points").pfValue;if(k){u.translate(S.x,S.y);var et=g.nodePathCache=g.nodePathCache||[],Ke=qd("polygon"===tt?tt+","+at.join(","):tt,""+b,""+v),wt=et[Ke];null!=wt?($=!0,w.pathCache=I=wt):(I=new Path2D,et[Ke]=w.pathCache=I)}var xt=function(){if(!$){var Vt=S;k&&(Vt={x:0,y:0}),g.nodeShapes[g.getNodeShape(o)].draw(I||u,Vt.x,Vt.y,v,b)}k?u.fill(I):u.fill()},yt=function(){for(var Vt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,nn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Pn=y.backgrounding,wn=0,cn=0;cn<xe.length;cn++){var At=o.cy().style().getIndexedStyle(o,"background-image-containment","value",cn);nn&&"over"===At||!nn&&"inside"===At?wn++:se[cn]&&xe[cn].complete&&!xe[cn].error&&(wn++,g.drawInscribedImage(u,xe[cn],o,cn,Vt))}y.backgrounding=wn!==De,Pn!==y.backgrounding&&o.updateStyle(!1)},mt=function(){var Vt=arguments.length>0&&void 0!==arguments[0]&&arguments[0],nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;g.hasPie(o)&&(g.drawPie(u,o,nn),Vt&&(k||g.nodeShapes[g.getNodeShape(o)].draw(u,S.x,S.y,v,b)))},Ze=function(){var Vt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,nn=(Te>0?Te:-Te)*Vt,Pn=Te>0?0:255;0!==Te&&(g.colorFillStyle(u,Pn,Pn,Pn,nn),k?u.fill(I):u.fill())},St=function(){if(pe>0){if(u.lineWidth=pe,u.lineCap="butt",u.setLineDash)switch(Ge){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"solid":case"double":u.setLineDash([])}if(k?u.stroke(I):u.stroke(),"double"===Ge){u.lineWidth=pe/3;var Vt=u.globalCompositeOperation;u.globalCompositeOperation="destination-out",k?u.stroke(I):u.stroke(),u.globalCompositeOperation=Vt}u.setLineDash&&u.setLineDash([])}},Dt=function(){h&&g.drawNodeOverlay(u,o,S,v,b)},Nt=function(){h&&g.drawNodeUnderlay(u,o,S,v,b)},Qt=function(){g.drawElementText(u,o,null,d)},vn="yes"===o.pstyle("ghost").value;if(vn){var Dn=o.pstyle("ghost-offset-x").pfValue,$t=o.pstyle("ghost-offset-y").pfValue,Lt=o.pstyle("ghost-opacity").value,ln=Lt*E;u.translate(Dn,$t),Ue(Lt*Fe),xt(),yt(ln,!0),Ye(Lt*$e),St(),mt(0!==Te||0!==pe),yt(ln,!1),Ze(ln),u.translate(-Dn,-$t)}k&&u.translate(-S.x,-S.y),Nt(),k&&u.translate(S.x,S.y),Ue(),xt(),yt(E,!0),Ye(),St(),mt(0!==Te||0!==pe),yt(E,!1),Ze(),k&&u.translate(-S.x,-S.y),Qt(),Dt(),l&&u.translate(W.x1,W.y1)}}},md=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,d,h,p,g){if(d.visible()){var b=d.pstyle("".concat(o,"-padding")).pfValue,y=d.pstyle("".concat(o,"-opacity")).value,w=d.pstyle("".concat(o,"-color")).value,S=d.pstyle("".concat(o,"-shape")).value;if(y>0){if(h=h||d.position(),null==p||null==g){var E=d.padding();p=d.width()+2*E,g=d.height()+2*E}this.colorFillStyle(l,w[0],w[1],w[2],y),this.nodeShapes[S].draw(l,h.x,h.y,p+2*b,g+2*b),l.fill()}}}};xa.drawNodeOverlay=md("overlay"),xa.drawNodeUnderlay=md("underlay"),xa.hasPie=function(u){return(u=u[0])._private.hasPie},xa.drawPie=function(u,o,l,d){o=o[0],d=d||o.position();var h=o.cy().style(),p=o.pstyle("pie-size"),g=d.x,v=d.y,b=o.width(),y=o.height(),w=Math.min(b,y)/2,S=0;this.usePaths()&&(g=0,v=0),"%"===p.units?w*=p.pfValue:void 0!==p.pfValue&&(w=p.pfValue/2);for(var k=1;k<=h.pieBackgroundN;k++){var I=o.pstyle("pie-"+k+"-background-size").value,$=o.pstyle("pie-"+k+"-background-color").value,X=o.pstyle("pie-"+k+"-background-opacity").value*l,W=I/100;W+S>1&&(W=1-S);var te=1.5*Math.PI+2*Math.PI*S,se=te+2*Math.PI*W;0===I||S>=1||S+W>1||(u.beginPath(),u.moveTo(g,v),u.arc(g,v,w,te,se),u.closePath(),this.colorFillStyle(u,$[0],$[1],$[2],X),u.fill(),S+=W)}};for(var Ss={getPixelRatio:function(){var u=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(u.backingStorePixelRatio||u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1)},paintCache:function(u){for(var d,o=this.paintCaches=this.paintCaches||[],l=!0,h=0;h<o.length;h++)if((d=o[h]).context===u){l=!1;break}return l&&o.push(d={context:u}),d},createGradientStyleFor:function(u,o,l,d,h){var p,g=this.usePaths(),v=l.pstyle(o+"-gradient-stop-colors").value,b=l.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===d)if(l.isEdge()){var y=l.sourceEndpoint(),w=l.targetEndpoint(),S=l.midpoint(),E=wr(y,S),k=wr(w,S);p=u.createRadialGradient(S.x,S.y,0,S.x,S.y,Math.max(E,k))}else{var I=g?{x:0,y:0}:l.position(),$=l.paddedWidth(),X=l.paddedHeight();p=u.createRadialGradient(I.x,I.y,0,I.x,I.y,Math.max($,X))}else if(l.isEdge()){var W=l.sourceEndpoint(),te=l.targetEndpoint();p=u.createLinearGradient(W.x,W.y,te.x,te.y)}else{var ne=g?{x:0,y:0}:l.position(),De=l.paddedWidth()/2,ae=l.paddedHeight()/2;switch(l.pstyle("background-gradient-direction").value){case"to-bottom":p=u.createLinearGradient(ne.x,ne.y-ae,ne.x,ne.y+ae);break;case"to-top":p=u.createLinearGradient(ne.x,ne.y+ae,ne.x,ne.y-ae);break;case"to-left":p=u.createLinearGradient(ne.x+De,ne.y,ne.x-De,ne.y);break;case"to-right":p=u.createLinearGradient(ne.x-De,ne.y,ne.x+De,ne.y);break;case"to-bottom-right":case"to-right-bottom":p=u.createLinearGradient(ne.x-De,ne.y-ae,ne.x+De,ne.y+ae);break;case"to-top-right":case"to-right-top":p=u.createLinearGradient(ne.x-De,ne.y+ae,ne.x+De,ne.y-ae);break;case"to-bottom-left":case"to-left-bottom":p=u.createLinearGradient(ne.x+De,ne.y-ae,ne.x-De,ne.y+ae);break;case"to-top-left":case"to-left-top":p=u.createLinearGradient(ne.x+De,ne.y+ae,ne.x-De,ne.y-ae)}}if(!p)return null;for(var de=b.length===v.length,Me=v.length,Te=0;Te<Me;Te++)p.addColorStop(de?b[Te]:Te/(Me-1),"rgba("+v[Te][0]+","+v[Te][1]+","+v[Te][2]+","+h+")");return p},gradientFillStyle:function(u,o,l,d){var h=this.createGradientStyleFor(u,"background",o,l,d);if(!h)return null;u.fillStyle=h},colorFillStyle:function(u,o,l,d,h){u.fillStyle="rgba("+o+","+l+","+d+","+h+")"},eleFillStyle:function(u,o,l){var d=o.pstyle("background-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientFillStyle(u,o,d,l);else{var h=o.pstyle("background-color").value;this.colorFillStyle(u,h[0],h[1],h[2],l)}},gradientStrokeStyle:function(u,o,l,d){var h=this.createGradientStyleFor(u,"line",o,l,d);if(!h)return null;u.strokeStyle=h},colorStrokeStyle:function(u,o,l,d,h){u.strokeStyle="rgba("+o+","+l+","+d+","+h+")"},eleStrokeStyle:function(u,o,l){var d=o.pstyle("line-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientStrokeStyle(u,o,d,l);else{var h=o.pstyle("line-color").value;this.colorStrokeStyle(u,h[0],h[1],h[2],l)}},matchCanvasSize:function(u){var o=this,l=o.data,d=o.findContainerClientCoords(),h=d[2],p=d[3],g=o.getPixelRatio();(u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(g=o.motionBlurPxRatio);var w,b=h*g,y=p*g;if(b!==o.canvasWidth||y!==o.canvasHeight){o.fontCaches=null;var S=l.canvasContainer;S.style.width=h+"px",S.style.height=p+"px";for(var E=0;E<o.CANVAS_LAYERS;E++)(w=l.canvases[E]).width=b,w.height=y,w.style.width=h+"px",w.style.height=p+"px";for(E=0;E<o.BUFFER_COUNT;E++)(w=l.bufferCanvases[E]).width=b,w.height=y,w.style.width=h+"px",w.style.height=p+"px";o.textureMult=1,g<=1&&(w=l.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,w.width=b*o.textureMult,w.height=y*o.textureMult),o.canvasWidth=b,o.canvasHeight=y}},renderTo:function(u,o,l,d){this.render({forcedContext:u,forcedZoom:o,forcedPan:l,drawAllLayers:!0,forcedPxRatio:d})},render:function(u){var o=(u=u||kc()).forcedContext,l=u.drawAllLayers,d=u.drawOnlyNodeLayer,h=u.forcedZoom,p=u.forcedPan,g=this,v=void 0===u.forcedPxRatio?this.getPixelRatio():u.forcedPxRatio,b=g.cy,y=g.data,w=y.canvasNeedsRedraw,S=g.textureOnViewport&&!o&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),E=void 0!==u.motionBlur?u.motionBlur:g.motionBlur,k=g.motionBlurPxRatio,I=b.hasCompoundNodes(),$=g.hoverData.draggingEles,W=E=E&&!o&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);o||(g.prevPxRatio!==v&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=v),!o&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),E&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(W=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!S&&(w[g.NODE]=!0,w[g.SELECT_BOX]=!0);var te=b.style(),ne=b.zoom(),se=void 0!==h?h:ne,xe=b.pan(),De={x:xe.x,y:xe.y},ae={zoom:ne,pan:{x:xe.x,y:xe.y}},Oe=g.prevViewport;!(void 0===Oe||ae.zoom!==Oe.zoom||ae.pan.x!==Oe.pan.x||ae.pan.y!==Oe.pan.y)&&!($&&!I)&&(g.motionBlurPxRatio=1),p&&(De=p),se*=v,De.x*=v,De.y*=v;var Me=g.getCachedZSortedEles();function Te($t,Lt,ln,qt,Vt){var nn=$t.globalCompositeOperation;$t.globalCompositeOperation="destination-out",g.colorFillStyle($t,255,255,255,g.motionBlurTransparency),$t.fillRect(Lt,ln,qt,Vt),$t.globalCompositeOperation=nn}function pe($t,Lt){var ln,qt,Vt,nn;g.clearingMotionBlur||$t!==y.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&$t!==y.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(ln=De,qt=se,Vt=g.canvasWidth,nn=g.canvasHeight):(ln={x:xe.x*k,y:xe.y*k},qt=ne*k,Vt=g.canvasWidth*k,nn=g.canvasHeight*k),$t.setTransform(1,0,0,1,0,0),"motionBlur"===Lt?Te($t,0,0,Vt,nn):!o&&(void 0===Lt||Lt)&&$t.clearRect(0,0,Vt,nn),l||($t.translate(ln.x,ln.y),$t.scale(qt,qt)),p&&$t.translate(p.x,p.y),h&&$t.scale(h,h)}if(S||(g.textureDrawLastFrame=!1),S){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=b.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var Fe=g.data.bufferContexts[g.TEXTURE_BUFFER];Fe.setTransform(1,0,0,1,0,0),Fe.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:Fe,drawOnlyNodeLayer:!0,forcedPxRatio:v*g.textureMult}),(ae=g.textureCache.viewport={zoom:b.zoom(),pan:b.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-ae.pan.x)/ae.zoom,y:(0-ae.pan.y)/ae.zoom}}w[g.DRAG]=!1,w[g.NODE]=!1;var Ge=g.textureCache.texture;ae=g.textureCache.viewport,(Ce=y.contexts[g.NODE]).setTransform(1,0,0,1,0,0),E?Te(Ce,0,0,ae.width,ae.height):Ce.clearRect(0,0,ae.width,ae.height);var $e=te.core("outside-texture-bg-color").value,Ue=te.core("outside-texture-bg-opacity").value;g.colorFillStyle(Ce,$e[0],$e[1],$e[2],Ue),Ce.fillRect(0,0,ae.width,ae.height),ne=b.zoom(),pe(Ce,!1),Ce.clearRect(ae.mpan.x,ae.mpan.y,ae.width/ae.zoom/v,ae.height/ae.zoom/v),Ce.drawImage(Ge,ae.mpan.x,ae.mpan.y,ae.width/ae.zoom/v,ae.height/ae.zoom/v)}else g.textureOnViewport&&!o&&(g.textureCache=null);var Ye=b.extent(),tt=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),at=g.hideEdgesOnViewport&&tt,et=[];if(et[g.NODE]=!w[g.NODE]&&E&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,et[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),et[g.DRAG]=!w[g.DRAG]&&E&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,et[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),w[g.NODE]||l||d||et[g.NODE]){var Ke=E&&!et[g.NODE]&&1!==k;pe(Ce=o||(Ke?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:y.contexts[g.NODE]),E&&!Ke?"motionBlur":void 0),at?g.drawCachedNodes(Ce,Me.nondrag,v,Ye):g.drawLayeredElements(Ce,Me.nondrag,v,Ye),g.debug&&g.drawDebugPoints(Ce,Me.nondrag),!l&&!E&&(w[g.NODE]=!1)}if(!d&&(w[g.DRAG]||l||et[g.DRAG])&&(Ke=E&&!et[g.DRAG]&&1!==k,pe(Ce=o||(Ke?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:y.contexts[g.DRAG]),E&&!Ke?"motionBlur":void 0),at?g.drawCachedNodes(Ce,Me.drag,v,Ye):g.drawCachedElements(Ce,Me.drag,v,Ye),g.debug&&g.drawDebugPoints(Ce,Me.drag),!l&&!E&&(w[g.DRAG]=!1)),g.showFps||!d&&w[g.SELECT_BOX]&&!l){var Ce;if(pe(Ce=o||y.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){ne=g.cy.zoom();var xt=te.core("selection-box-border-width").value/ne;Ce.lineWidth=xt,Ce.fillStyle="rgba("+te.core("selection-box-color").value[0]+","+te.core("selection-box-color").value[1]+","+te.core("selection-box-color").value[2]+","+te.core("selection-box-opacity").value+")",Ce.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),xt>0&&(Ce.strokeStyle="rgba("+te.core("selection-box-border-color").value[0]+","+te.core("selection-box-border-color").value[1]+","+te.core("selection-box-border-color").value[2]+","+te.core("selection-box-opacity").value+")",Ce.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(y.bgActivePosistion&&!g.hoverData.selecting){ne=g.cy.zoom();var yt=y.bgActivePosistion;Ce.fillStyle="rgba("+te.core("active-bg-color").value[0]+","+te.core("active-bg-color").value[1]+","+te.core("active-bg-color").value[2]+","+te.core("active-bg-opacity").value+")",Ce.beginPath(),Ce.arc(yt.x,yt.y,te.core("active-bg-size").pfValue/ne,0,2*Math.PI),Ce.fill()}var mt=g.lastRedrawTime;if(g.showFps&&mt){mt=Math.round(mt);var Ze=Math.round(1e3/mt);Ce.setTransform(1,0,0,1,0,0),Ce.fillStyle="rgba(255, 0, 0, 0.75)",Ce.strokeStyle="rgba(255, 0, 0, 0.75)",Ce.lineWidth=1,Ce.fillText("1 frame = "+mt+" ms = "+Ze+" fps",0,20),Ce.strokeRect(0,30,250,20),Ce.fillRect(0,30,250*Math.min(Ze/60,1),20)}l||(w[g.SELECT_BOX]=!1)}if(E&&1!==k){var Qt=y.contexts[g.DRAG],vn=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],Dn=function(Lt,ln,qt){Lt.setTransform(1,0,0,1,0,0),qt||!W?Lt.clearRect(0,0,g.canvasWidth,g.canvasHeight):Te(Lt,0,0,g.canvasWidth,g.canvasHeight),Lt.drawImage(ln,0,0,g.canvasWidth*k,g.canvasHeight*k,0,0,g.canvasWidth,g.canvasHeight)};(w[g.NODE]||et[g.NODE])&&(Dn(y.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],et[g.NODE]),w[g.NODE]=!1),(w[g.DRAG]||et[g.DRAG])&&(Dn(Qt,vn,et[g.DRAG]),w[g.DRAG]=!1)}g.prevViewport=ae,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),E&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!S,g.mbFrames=0,w[g.NODE]=!0,w[g.DRAG]=!0,g.redraw()},100)),o||b.emit("render")}},Xo={drawPolygonPath:function(u,o,l,d,h,p){var g=d/2,v=h/2;u.beginPath&&u.beginPath(),u.moveTo(o+g*p[0],l+v*p[1]);for(var b=1;b<p.length/2;b++)u.lineTo(o+g*p[2*b],l+v*p[2*b+1]);u.closePath()},drawRoundPolygonPath:function(u,o,l,d,h,p){var g=d/2,v=h/2,b=an(d,h);u.beginPath&&u.beginPath();for(var y=0;y<p.length/4;y++){var S,w;w=0===y?p.length-2:4*y-2,S=4*y+2;var E=o+g*p[4*y],k=l+v*p[4*y+1],$=b/Math.tan(Math.acos(-p[w]*p[S]-p[w+1]*p[S+1])/2),X=E-$*p[w],W=k-$*p[w+1],te=E+$*p[S],ne=k+$*p[S+1];0===y?u.moveTo(X,W):u.lineTo(X,W),u.arcTo(E,k,te,ne,b)}u.closePath()},drawRoundRectanglePath:function(u,o,l,d,h){var p=d/2,g=h/2,v=Fc(d,h);u.beginPath&&u.beginPath(),u.moveTo(o,l-g),u.arcTo(o+p,l-g,o+p,l,v),u.arcTo(o+p,l+g,o,l+g,v),u.arcTo(o-p,l+g,o-p,l,v),u.arcTo(o-p,l-g,o,l-g,v),u.lineTo(o,l-g),u.closePath()},drawBottomRoundRectanglePath:function(u,o,l,d,h){var p=d/2,g=h/2,v=Fc(d,h);u.beginPath&&u.beginPath(),u.moveTo(o,l-g),u.lineTo(o+p,l-g),u.lineTo(o+p,l),u.arcTo(o+p,l+g,o,l+g,v),u.arcTo(o-p,l+g,o-p,l,v),u.lineTo(o-p,l-g),u.lineTo(o,l-g),u.closePath()},drawCutRectanglePath:function(u,o,l,d,h){var p=d/2,g=h/2;u.beginPath&&u.beginPath(),u.moveTo(o-p+8,l-g),u.lineTo(o+p-8,l-g),u.lineTo(o+p,l-g+8),u.lineTo(o+p,l+g-8),u.lineTo(o+p-8,l+g),u.lineTo(o-p+8,l+g),u.lineTo(o-p,l+g-8),u.lineTo(o-p,l-g+8),u.closePath()},drawBarrelPath:function(u,o,l,d,h){var p=d/2,g=h/2,v=o-p,b=o+p,y=l-g,w=l+g,S=_u(d,h),E=S.widthOffset,k=S.heightOffset,I=S.ctrlPtOffsetPct*E;u.beginPath&&u.beginPath(),u.moveTo(v,y+k),u.lineTo(v,w-k),u.quadraticCurveTo(v+I,w,v+E,w),u.lineTo(b-E,w),u.quadraticCurveTo(b-I,w,b,w-k),u.lineTo(b,y+k),u.quadraticCurveTo(b-I,y,b-E,y),u.lineTo(v+E,y),u.quadraticCurveTo(v+I,y,v,y+k),u.closePath()}},Pf=Math.sin(0),qu=Math.cos(0),tg={},Rf={},ry=Math.PI/40,Ku=0*Math.PI;Ku<2*Math.PI;Ku+=ry)tg[Ku]=Math.sin(Ku),Rf[Ku]=Math.cos(Ku);Xo.drawEllipsePath=function(u,o,l,d,h){if(u.beginPath&&u.beginPath(),u.ellipse)u.ellipse(o,l,d/2,h/2,0,0,2*Math.PI);else for(var p,g,v=d/2,b=h/2,y=0*Math.PI;y<2*Math.PI;y+=ry)p=o-v*tg[y]*Pf+v*Rf[y]*qu,g=l+b*Rf[y]*Pf+b*tg[y]*qu,0===y?u.moveTo(p,g):u.lineTo(p,g);u.closePath()};var vd={};function ng(u){var o=u.indexOf(",");return u.substr(o+1)}function yd(u,o,l){var d=function(){return o.toDataURL(l,u.quality)};switch(u.output){case"blob-promise":return new Hc(function(h,p){try{o.toBlob(function(g){null!=g?h(g):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},l,u.quality)}catch(g){p(g)}});case"blob":return function iy(u,o){for(var l=atob(u),d=new ArrayBuffer(l.length),h=new Uint8Array(d),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);return new Blob([d],{type:o})}(ng(d()),l);case"base64":return ng(d());default:return d()}}vd.createBuffer=function(u,o){var l=document.createElement("canvas");return l.width=u,l.height=o,[l,l.getContext("2d")]},vd.bufferCanvasImage=function(u){var o=this.cy,d=o.mutableElements().boundingBox(),h=this.findContainerClientCoords(),p=u.full?Math.ceil(d.w):h[2],g=u.full?Math.ceil(d.h):h[3],v=he(u.maxWidth)||he(u.maxHeight),b=this.getPixelRatio(),y=1;if(void 0!==u.scale)p*=u.scale,g*=u.scale,y=u.scale;else if(v){var w=1/0,S=1/0;he(u.maxWidth)&&(w=y*u.maxWidth/p),he(u.maxHeight)&&(S=y*u.maxHeight/g),p*=y=Math.min(w,S),g*=y}v||(p*=b,g*=b,y*=b);var E=document.createElement("canvas");E.width=p,E.height=g,E.style.width=p+"px",E.style.height=g+"px";var k=E.getContext("2d");if(p>0&&g>0){k.clearRect(0,0,p,g),k.globalCompositeOperation="source-over";var I=this.getCachedZSortedEles();if(u.full)k.translate(-d.x1*y,-d.y1*y),k.scale(y,y),this.drawElements(k,I),k.scale(1/y,1/y),k.translate(d.x1*y,d.y1*y);else{var $=o.pan(),X={x:$.x*y,y:$.y*y};y*=o.zoom(),k.translate(X.x,X.y),k.scale(y,y),this.drawElements(k,I),k.scale(1/y,1/y),k.translate(-X.x,-X.y)}u.bg&&(k.globalCompositeOperation="destination-over",k.fillStyle=u.bg,k.rect(0,0,p,g),k.fill())}return E},vd.png=function(u){return yd(u,this.bufferCanvasImage(u),"image/png")},vd.jpg=function(u){return yd(u,this.bufferCanvasImage(u),"image/jpeg")};var nu=sy,rr=sy.prototype;function sy(u){var o=this;o.data={canvases:new Array(rr.CANVAS_LAYERS),contexts:new Array(rr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(rr.CANVAS_LAYERS),bufferCanvases:new Array(rr.BUFFER_COUNT),bufferContexts:new Array(rr.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",d="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var h=o.data.canvasContainer.style;o.data.canvasContainer.style[l]=d,h.position="relative",h.zIndex="0",h.overflow="hidden";var p=u.cy.container();p.appendChild(o.data.canvasContainer),p.style[l]=d;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};K&&K.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var v=0;v<rr.CANVAS_LAYERS;v++){var b=o.data.canvases[v]=document.createElement("canvas");o.data.contexts[v]=b.getContext("2d"),Object.keys(g).forEach(function(mt){b.style[mt]=g[mt]}),b.style.position="absolute",b.setAttribute("data-id","layer"+v),b.style.zIndex=String(rr.CANVAS_LAYERS-v),o.data.canvasContainer.appendChild(b),o.data.canvasNeedsRedraw[v]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[rr.NODE].setAttribute("data-id","layer"+rr.NODE+"-node"),o.data.canvases[rr.SELECT_BOX].setAttribute("data-id","layer"+rr.SELECT_BOX+"-selectbox"),o.data.canvases[rr.DRAG].setAttribute("data-id","layer"+rr.DRAG+"-drag"),v=0;v<rr.BUFFER_COUNT;v++)o.data.bufferCanvases[v]=document.createElement("canvas"),o.data.bufferContexts[v]=o.data.bufferCanvases[v].getContext("2d"),o.data.bufferCanvases[v].style.position="absolute",o.data.bufferCanvases[v].setAttribute("data-id","buffer"+v),o.data.bufferCanvases[v].style.zIndex=String(-v-1),o.data.bufferCanvases[v].style.visibility="hidden";o.pathsEnabled=!0;var y=xr(),S=function(Ze){return{x:-Ze.w/2,y:-Ze.h/2}},xe=function(Ze){return Ze.boundingBox(),Ze[0]._private.bodyBounds},De=function(Ze){return Ze.boundingBox(),Ze[0]._private.labelBounds.main||y},ae=function(Ze){return Ze.boundingBox(),Ze[0]._private.labelBounds.source||y},Oe=function(Ze){return Ze.boundingBox(),Ze[0]._private.labelBounds.target||y},de=function(Ze,St){return St},Te=function(Ze,St,Dt){var Nt=Ze?Ze+"-":"";return{x:St.x+Dt.pstyle(Nt+"text-margin-x").pfValue,y:St.y+Dt.pstyle(Nt+"text-margin-y").pfValue}},pe=function(Ze,St,Dt){var Nt=Ze[0]._private.rscratch;return{x:Nt[St],y:Nt[Dt]}},at=o.data.eleTxrCache=new tu(o,{getKey:function(Ze){return Ze[0]._private.nodeKey},doesEleInvalidateKey:function(Ze){var St=Ze[0]._private;return!(St.oldBackgroundTimestamp===St.backgroundTimestamp)},drawElement:function(Ze,St,Dt,Nt,Qt){return o.drawElement(Ze,St,Dt,!1,!1,Qt)},getBoundingBox:xe,getRotationPoint:function(Ze){return function(Ze){return{x:(Ze.x1+Ze.x2)/2,y:(Ze.y1+Ze.y2)/2}}(xe(Ze))},getRotationOffset:function(Ze){return S(xe(Ze))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),et=o.data.lblTxrCache=new tu(o,{getKey:function(Ze){return Ze[0]._private.labelStyleKey},drawElement:function(Ze,St,Dt,Nt,Qt){return o.drawElementText(Ze,St,Dt,Nt,"main",Qt)},getBoundingBox:De,getRotationPoint:function(Ze){return Te("",pe(Ze,"labelX","labelY"),Ze)},getRotationOffset:function(Ze){var St=De(Ze),Dt=S(De(Ze));if(Ze.isNode()){switch(Ze.pstyle("text-halign").value){case"left":Dt.x=-St.w;break;case"right":Dt.x=0}switch(Ze.pstyle("text-valign").value){case"top":Dt.y=-St.h;break;case"bottom":Dt.y=0}}return Dt},isVisible:de}),Ke=o.data.slbTxrCache=new tu(o,{getKey:function(Ze){return Ze[0]._private.sourceLabelStyleKey},drawElement:function(Ze,St,Dt,Nt,Qt){return o.drawElementText(Ze,St,Dt,Nt,"source",Qt)},getBoundingBox:ae,getRotationPoint:function(Ze){return Te("source",pe(Ze,"sourceLabelX","sourceLabelY"),Ze)},getRotationOffset:function(Ze){return S(ae(Ze))},isVisible:de}),wt=o.data.tlbTxrCache=new tu(o,{getKey:function(Ze){return Ze[0]._private.targetLabelStyleKey},drawElement:function(Ze,St,Dt,Nt,Qt){return o.drawElementText(Ze,St,Dt,Nt,"target",Qt)},getBoundingBox:Oe,getRotationPoint:function(Ze){return Te("target",pe(Ze,"targetLabelX","targetLabelY"),Ze)},getRotationOffset:function(Ze){return S(Oe(Ze))},isVisible:de}),xt=o.data.lyrTxrCache=new Wv(o);o.onUpdateEleCalcs(function(Ze,St){at.invalidateElements(St),et.invalidateElements(St),Ke.invalidateElements(St),wt.invalidateElements(St),xt.invalidateElements(St);for(var Dt=0;Dt<St.length;Dt++){var Nt=St[Dt]._private;Nt.oldBackgroundTimestamp=Nt.backgroundTimestamp}});var yt=function(Ze){for(var St=0;St<Ze.length;St++)xt.enqueueElementRefinement(Ze[St].ele)};at.onDequeue(yt),et.onDequeue(yt),Ke.onDequeue(yt),wt.onDequeue(yt)}rr.CANVAS_LAYERS=3,rr.SELECT_BOX=0,rr.DRAG=1,rr.NODE=2,rr.BUFFER_COUNT=3,rr.TEXTURE_BUFFER=0,rr.MOTIONBLUR_BUFFER_NODE=1,rr.MOTIONBLUR_BUFFER_DRAG=2,rr.redrawHint=function(u,o){var l=this;switch(u){case"eles":l.data.canvasNeedsRedraw[rr.NODE]=o;break;case"drag":l.data.canvasNeedsRedraw[rr.DRAG]=o;break;case"select":l.data.canvasNeedsRedraw[rr.SELECT_BOX]=o}};var lC=typeof Path2D<"u";rr.path2dEnabled=function(u){if(void 0===u)return this.pathsEnabled;this.pathsEnabled=!!u},rr.usePaths=function(){return lC&&this.pathsEnabled},rr.setImgSmoothing=function(u,o){null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled=o:(u.webkitImageSmoothingEnabled=o,u.mozImageSmoothingEnabled=o,u.msImageSmoothingEnabled=o)},rr.getImgSmoothing=function(u){return null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled:u.webkitImageSmoothingEnabled||u.mozImageSmoothingEnabled||u.msImageSmoothingEnabled},rr.makeOffscreenCanvas=function(u,o){var l;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":ee(OffscreenCanvas))?l=new OffscreenCanvas(u,o):((l=document.createElement("canvas")).width=u,l.height=o),l},[Af,Hi,Ho,If,Sa,xa,Ss,Xo,vd,{nodeShapeImpl:function(u,o,l,d,h,p,g){switch(u){case"ellipse":return this.drawEllipsePath(o,l,d,h,p);case"polygon":return this.drawPolygonPath(o,l,d,h,p,g);case"round-polygon":return this.drawRoundPolygonPath(o,l,d,h,p,g);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,l,d,h,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,l,d,h,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,l,d,h,p);case"barrel":return this.drawBarrelPath(o,l,d,h,p)}}}].forEach(function(u){Wt(rr,u)});var rg=[{type:"layout",extensions:Ef},{type:"renderer",extensions:[{name:"null",impl:Np},{name:"base",impl:Bp},{name:"canvas",impl:nu}]}],oy={},ig={};function Od(u,o,l){var d=l,h=function(Oe){tr("Can not register `"+o+"` for `"+u+"` since `"+Oe+"` already exists in the prototype and can not be overridden")};if("core"===u){if(ju.prototype[o])return h(o);ju.prototype[o]=l}else if("collection"===u){if(gi.prototype[o])return h(o);gi.prototype[o]=l}else if("layout"===u){for(var p=function(Oe){this.options=Oe,l.call(this,Oe),Ae(this._private)||(this._private={}),this._private.cy=Oe.cy,this._private.listeners=[],this.createEmitter()},g=p.prototype=Object.create(l.prototype),v=[],b=0;b<v.length;b++){var y=v[b];g[y]=g[y]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var w=l.prototype.stop;g.stop=function(){var ae=this.options;if(ae&&ae.animate){var Oe=this.animations;if(Oe)for(var de=0;de<Oe.length;de++)Oe[de].stop()}return w?w.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var S=function(Oe){return Oe._private.cy},E={addEventFields:function(Oe,de){de.layout=Oe,de.cy=S(Oe),de.target=Oe},bubble:function(){return!0},parent:function(Oe){return S(Oe)}};Wt(g,{createEmitter:function(){return this._private.emitter=new td(E,this),this},emitter:function(){return this._private.emitter},on:function(Oe,de){return this.emitter().on(Oe,de),this},one:function(Oe,de){return this.emitter().one(Oe,de),this},once:function(Oe,de){return this.emitter().one(Oe,de),this},removeListener:function(Oe,de){return this.emitter().removeListener(Oe,de),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Oe,de){return this.emitter().emit(Oe,de),this}}),pr.eventAliasesOn(g),d=p}else if("renderer"===u&&"null"!==o&&"base"!==o){var k=Lf("renderer","base"),I=k.prototype,$=l,X=l.prototype,W=function(){k.apply(this,arguments),$.apply(this,arguments)},te=W.prototype;for(var ne in I){var se=I[ne];if(null!=X[ne])return h(ne);te[ne]=se}for(var De in X)te[De]=X[De];I.clientFunctions.forEach(function(ae){te[ae]=te[ae]||function(){gr("Renderer does not implement `renderer."+ae+"()` on its prototype")}}),d=W}else if("__proto__"===u||"constructor"===u||"prototype"===u)return gr(u+" is an illegal type to be registered, possibly lead to prototype pollutions");return Ou({map:oy,keys:[u,o],value:d})}function Lf(u,o){return Va({map:oy,keys:[u,o]})}function ay(u,o,l,d,h){return Ou({map:ig,keys:[u,o,l,d],value:h})}function ly(u,o,l,d){return Va({map:ig,keys:[u,o,l,d]})}var Ff=function(){return 2===arguments.length?Lf.apply(null,arguments):3===arguments.length?Od.apply(null,arguments):4===arguments.length?ly.apply(null,arguments):5===arguments.length?ay.apply(null,arguments):void gr("Invalid extension access syntax")};ju.prototype.extension=Ff,rg.forEach(function(u){u.extensions.forEach(function(o){Od(u.type,o.name,o.impl)})});var dl=function u(){if(!(this instanceof u))return new u;this.length=0},ru=dl.prototype;ru.instanceString=function(){return"stylesheet"},ru.selector=function(u){return this[this.length++]={selector:u,properties:[]},this},ru.css=function(u,o){var l=this.length-1;if(me(u))this[l].properties.push({name:u,value:o});else if(Ae(u))for(var d=u,h=Object.keys(d),p=0;p<h.length;p++){var g=h[p],v=d[g];if(null!=v){var b=qn.properties[g]||qn.properties[Kt(g)];null!=b&&this[l].properties.push({name:b.name,value:v})}}return this},ru.style=ru.css,ru.generateStyle=function(u){var o=new qn(u);return this.appendToStyle(o)},ru.appendToStyle=function(u){for(var o=0;o<this.length;o++){var l=this[o],h=l.properties;u.selector(l.selector);for(var p=0;p<h.length;p++){var g=h[p];u.css(g.name,g.value)}}return u};var iu=function(o){return void 0===o&&(o={}),Ae(o)?new ju(o):me(o)?Ff.apply(Ff,arguments):void 0};iu.use=function(u){var o=Array.prototype.slice.call(arguments,1);return o.unshift(iu),u.apply(null,o),this},iu.warnings=function(u){return Yh(u)},iu.version="3.23.0",iu.stylesheet=iu.Stylesheet=dl,Pe.exports=iu},5203:(Pe,Re,j)=>{Pe.exports=j(8732)},8732:function(Pe,Re){var j,H,N;(function(){var M,C,R,D,T,_,B,F,Y,ee,V,G,oe,q,le;R=Math.floor,ee=Math.min,C=function(J,ke){return J<ke?-1:J>ke?1:0},Y=function(J,ke,ce,z,L){var Q;if(null==ce&&(ce=0),null==L&&(L=C),ce<0)throw new Error("lo must be non-negative");for(null==z&&(z=J.length);ce<z;)L(ke,J[Q=R((ce+z)/2)])<0?z=Q:ce=Q+1;return[].splice.apply(J,[ce,ce-ce].concat(ke)),ke},_=function(J,ke,ce){return null==ce&&(ce=C),J.push(ke),q(J,0,J.length-1,ce)},T=function(J,ke){var ce,z;return null==ke&&(ke=C),ce=J.pop(),J.length?(z=J[0],J[0]=ce,le(J,0,ke)):z=ce,z},F=function(J,ke,ce){var z;return null==ce&&(ce=C),z=J[0],J[0]=ke,le(J,0,ce),z},B=function(J,ke,ce){var z;return null==ce&&(ce=C),J.length&&ce(J[0],ke)<0&&(ke=(z=[J[0],ke])[0],J[0]=z[1],le(J,0,ce)),ke},D=function(J,ke){var z,Q,ue,ge,ie;for(null==ke&&(ke=C),ge=[],z=0,Q=(ue=function(){ie=[];for(var be=0,Le=R(J.length/2);0<=Le?be<Le:be>Le;0<=Le?be++:be--)ie.push(be);return ie}.apply(this).reverse()).length;z<Q;z++)ge.push(le(J,ue[z],ke));return ge},oe=function(J,ke,ce){var z;if(null==ce&&(ce=C),-1!==(z=J.indexOf(ke)))return q(J,0,z,ce),le(J,z,ce)},V=function(J,ke,ce){var L,Q,K,ue;if(null==ce&&(ce=C),!(L=J.slice(0,ke)).length)return L;for(D(L,ce),Q=0,K=(ue=J.slice(ke)).length;Q<K;Q++)B(L,ue[Q],ce);return L.sort(ce).reverse()},G=function(J,ke,ce){var z,Q,K,ue,ge,ie,be,Le,me;if(null==ce&&(ce=C),10*ke<=J.length){if(!(K=J.slice(0,ke).sort(ce)).length)return K;for(Q=K[K.length-1],ue=0,ie=(be=J.slice(ke)).length;ue<ie;ue++)ce(z=be[ue],Q)<0&&(Y(K,z,0,null,ce),K.pop(),Q=K[K.length-1]);return K}for(D(J,ce),me=[],ge=0,Le=ee(ke,J.length);0<=Le?ge<Le:ge>Le;0<=Le?++ge:--ge)me.push(T(J,ce));return me},q=function(J,ke,ce,z){var L,Q,K;for(null==z&&(z=C),L=J[ce];ce>ke&&z(L,Q=J[K=ce-1>>1])<0;)J[ce]=Q,ce=K;return J[ce]=L},le=function(J,ke,ce){var z,L,Q,K,ue;for(null==ce&&(ce=C),L=J.length,ue=ke,Q=J[ke],z=2*ke+1;z<L;)(K=z+1)<L&&!(ce(J[z],J[K])<0)&&(z=K),J[ke]=J[z],z=2*(ke=z)+1;return J[ke]=Q,q(J,ue,ke,ce)},M=function(){function J(ke){this.cmp=ke??C,this.nodes=[]}return J.push=_,J.pop=T,J.replace=F,J.pushpop=B,J.heapify=D,J.updateItem=oe,J.nlargest=V,J.nsmallest=G,J.prototype.push=function(ke){return _(this.nodes,ke,this.cmp)},J.prototype.pop=function(){return T(this.nodes,this.cmp)},J.prototype.peek=function(){return this.nodes[0]},J.prototype.contains=function(ke){return-1!==this.nodes.indexOf(ke)},J.prototype.replace=function(ke){return F(this.nodes,ke,this.cmp)},J.prototype.pushpop=function(ke){return B(this.nodes,ke,this.cmp)},J.prototype.heapify=function(){return D(this.nodes,this.cmp)},J.prototype.updateItem=function(ke){return oe(this.nodes,ke,this.cmp)},J.prototype.clear=function(){return this.nodes=[]},J.prototype.empty=function(){return 0===this.nodes.length},J.prototype.size=function(){return this.nodes.length},J.prototype.clone=function(){var ke;return(ke=new J).nodes=this.nodes.slice(0),ke},J.prototype.toArray=function(){return this.nodes.slice(0)},J.prototype.insert=J.prototype.push,J.prototype.top=J.prototype.peek,J.prototype.front=J.prototype.peek,J.prototype.has=J.prototype.contains,J.prototype.copy=J.prototype.clone,J}(),H=[],void 0===(N="function"==typeof(j=function(){return M})?j.apply(Re,H):j)||(Pe.exports=N)}).call(this)},4918:(Pe,Re,j)=>{"use strict";var H=j(9344).default;const{isArray:N,isObject:M,isString:C}=j(2353),{asArray:R}=j(4249),{prependBase:D}=j(4920),T=j(3327),_=j(9522);function F(ee){throw new T("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:ee})}function Y({context:ee,base:V}){if(!ee)return;const G=ee["@context"];if(C(G))ee["@context"]=D(V,G);else if(N(G))for(let oe=0;oe<G.length;++oe){const q=G[oe];C(q)?G[oe]=D(V,q):M(q)&&Y({context:{"@context":q},base:V})}else if(M(G))for(const oe in G)Y({context:G[oe],base:V})}Pe.exports=class{constructor({sharedCache:V}){this.perOpCache=new Map,this.sharedCache=V}resolve({activeCtx:V,context:G,documentLoader:oe,base:q,cycles:le=new Set}){var J=this;return H(function*(){G&&M(G)&&G["@context"]&&(G=G["@context"]),G=R(G);const ke=[];for(const ce of G){if(C(ce)){let Q=J._get(ce);Q||(Q=yield J._resolveRemoteContext({activeCtx:V,url:ce,documentLoader:oe,base:q,cycles:le})),N(Q)?ke.push(...Q):ke.push(Q);continue}if(null===ce){ke.push(new _({document:null}));continue}M(ce)||F(G);const z=JSON.stringify(ce);let L=J._get(z);L||(L=new _({document:ce}),J._cacheResolvedContext({key:z,resolved:L,tag:"static"})),ke.push(L)}return ke})()}_get(V){let G=this.perOpCache.get(V);if(!G){const oe=this.sharedCache.get(V);oe&&(G=oe.get("static"),G&&this.perOpCache.set(V,G))}return G}_cacheResolvedContext({key:V,resolved:G,tag:oe}){if(this.perOpCache.set(V,G),void 0!==oe){let q=this.sharedCache.get(V);q||(q=new Map,this.sharedCache.set(V,q)),q.set(oe,G)}return G}_resolveRemoteContext({activeCtx:V,url:G,documentLoader:oe,base:q,cycles:le}){var J=this;return H(function*(){G=D(q,G);const{context:ke,remoteDoc:ce}=yield J._fetchContext({activeCtx:V,url:G,documentLoader:oe,cycles:le});Y({context:ke,base:q=ce.documentUrl||G});const z=yield J.resolve({activeCtx:V,context:ke,documentLoader:oe,base:q,cycles:le});return J._cacheResolvedContext({key:G,resolved:z,tag:ce.tag}),z})()}_fetchContext({activeCtx:V,url:G,documentLoader:oe,cycles:q}){return H(function*(){if(q.size>10)throw new T("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===V.processingMode?"loading remote context failed":"context overflow",max:10});if(q.has(G))throw new T("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===V.processingMode?"recursive context inclusion":"context overflow",url:G});let le,J;q.add(G);try{J=yield oe(G),le=J.document||null,C(le)&&(le=JSON.parse(le))}catch(ke){throw new T("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:G,cause:ke})}if(!M(le))throw new T("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:G});return le="@context"in le?{"@context":le["@context"]}:{"@context":{}},J.contextUrl&&(N(le["@context"])||(le["@context"]=[le["@context"]]),le["@context"].push(J.contextUrl)),{context:le,remoteDoc:J}})()}}},3327:Pe=>{"use strict";Pe.exports=class extends Error{constructor(j="An unspecified JSON-LD error occurred.",H="jsonld.Error",N={}){super(j),this.name=H,this.message=j,this.details=N}}},779:Pe=>{"use strict";Pe.exports=Re=>{class j{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(j,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(j.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:j}),j.compact=function(H,N){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):Re.compact(H,N)},j.expand=function(H){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):Re.expand(H)},j.flatten=function(H){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):Re.flatten(H)},j}},3865:(Pe,Re,j)=>{"use strict";Pe.exports=j(4308).NQuads},2210:(Pe,Re,j)=>{"use strict";var H=j(9344).default;Pe.exports=class{constructor(){this._requests={}}wrapLoader(M){const C=this;return C._loader=M,function(){return C.add.apply(C,arguments)}}add(M){var C=this;return H(function*(){let R=C._requests[M];if(R)return Promise.resolve(R);R=C._requests[M]=C._loader(M);try{return yield R}finally{delete C._requests[M]}})()}}},9522:(Pe,Re,j)=>{"use strict";const H=j(5943);Pe.exports=class{constructor({document:C}){this.document=C,this.cache=new H({max:10})}getProcessed(C){return this.cache.get(C)}setProcessed(C,R){this.cache.set(C,R)}}},9857:(Pe,Re,j)=>{"use strict";var H=j(9344).default;const N=j(3327),{isArray:M,isObject:C,isString:R,isUndefined:D}=j(2353),{isList:T,isValue:_,isGraph:B,isSimpleGraph:F,isSubjectReference:Y}=j(9094),{expandIri:ee,getContextValue:V,isKeyword:G,process:oe,processingMode:q}=j(2134),{removeBase:le,prependBase:J}=j(4920),{REGEX_KEYWORD:ke,addValue:ce,asArray:z,compareShortestLeast:L}=j(4249),Q={};function ue(ge,ie,be){if("@nest"!==ee(ge,ie,{vocab:!0},be))throw new N("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}Pe.exports=Q,Q.compact=function(){var ge=H(function*({activeCtx:ie,activeProperty:be=null,element:Le,options:me={}}){if(M(Le)){let Ve=[];for(let Ae=0;Ae<Le.length;++Ae){const ve=yield Q.compact({activeCtx:ie,activeProperty:be,element:Le[Ae],options:me});null!==ve&&Ve.push(ve)}return me.compactArrays&&1===Ve.length&&0===(V(ie,be,"@container")||[]).length&&(Ve=Ve[0]),Ve}const Xe=V(ie,be,"@context");if(D(Xe)||(ie=yield oe({activeCtx:ie,localCtx:Xe,propagate:!0,overrideProtected:!0,options:me})),C(Le)){if(me.link&&"@id"in Le&&me.link.hasOwnProperty(Le["@id"])){const qe=me.link[Le["@id"]];for(let kt=0;kt<qe.length;++kt)if(qe[kt].expanded===Le)return qe[kt].compacted}if(_(Le)||Y(Le)){const qe=Q.compactValue({activeCtx:ie,activeProperty:be,value:Le,options:me});return me.link&&Y(Le)&&(me.link.hasOwnProperty(Le["@id"])||(me.link[Le["@id"]]=[]),me.link[Le["@id"]].push({expanded:Le,compacted:qe})),qe}if(T(Le)&&(V(ie,be,"@container")||[]).includes("@list"))return Q.compact({activeCtx:ie,activeProperty:be,element:Le["@list"],options:me});const Ve="@reverse"===be,Ae={},ve=ie;!_(Le)&&!Y(Le)&&(ie=ie.revertToPreviousContext());const he=V(ve,be,"@context");D(he)||(ie=yield oe({activeCtx:ie,localCtx:he,propagate:!0,overrideProtected:!0,options:me})),me.link&&"@id"in Le&&(me.link.hasOwnProperty(Le["@id"])||(me.link[Le["@id"]]=[]),me.link[Le["@id"]].push({expanded:Le,compacted:Ae}));let Je=Le["@type"]||[];Je.length>1&&(Je=Array.from(Je).sort());const He=ie;for(const qe of Je){const kt=Q.compactIri({activeCtx:He,iri:qe,relativeTo:{vocab:!0}}),ht=V(ve,kt,"@context");D(ht)||(ie=yield oe({activeCtx:ie,localCtx:ht,options:me,propagate:!1}))}const Ne=Object.keys(Le).sort();for(const qe of Ne){const kt=Le[qe];if("@id"!==qe)if("@type"!==qe)if("@reverse"!==qe)if("@preserve"!==qe)if("@index"!==qe)if("@graph"!==qe&&"@list"!==qe&&"@included"!==qe&&G(qe)){const ht=Q.compactIri({activeCtx:ie,iri:qe,relativeTo:{vocab:!0}});ce(Ae,ht,kt)}else{if(!M(kt))throw new N("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===kt.length){const ht=Q.compactIri({activeCtx:ie,iri:qe,value:kt,relativeTo:{vocab:!0},reverse:Ve}),ot=ie.mappings.has(ht)?ie.mappings.get(ht)["@nest"]:null;let lt=Ae;ot&&(ue(ie,ot,me),C(Ae[ot])||(Ae[ot]={}),lt=Ae[ot]),ce(lt,ht,kt,{propertyIsArray:!0})}for(const ht of kt){const ot=Q.compactIri({activeCtx:ie,iri:qe,value:ht,relativeTo:{vocab:!0},reverse:Ve}),lt=ie.mappings.has(ot)?ie.mappings.get(ot)["@nest"]:null;let je=Ae;lt&&(ue(ie,lt,me),C(Ae[lt])||(Ae[lt]={}),je=Ae[lt]);const we=V(ie,ot,"@container")||[],Qe=B(ht),ct=T(ht);let _t;ct?_t=ht["@list"]:Qe&&(_t=ht["@graph"]);let dt=yield Q.compact({activeCtx:ie,activeProperty:ot,element:ct||Qe?_t:ht,options:me});if(ct){if(M(dt)||(dt=[dt]),we.includes("@list")){ce(je,ot,dt,{valueIsArray:!0,allowDuplicate:!0});continue}dt={[Q.compactIri({activeCtx:ie,iri:"@list",relativeTo:{vocab:!0}})]:dt},"@index"in ht&&(dt[Q.compactIri({activeCtx:ie,iri:"@index",relativeTo:{vocab:!0}})]=ht["@index"])}if(Qe)if(we.includes("@graph")&&(we.includes("@id")||we.includes("@index")&&F(ht))){let It;je.hasOwnProperty(ot)?It=je[ot]:je[ot]=It={};const Kt=(we.includes("@id")?ht["@id"]:ht["@index"])||Q.compactIri({activeCtx:ie,iri:"@none",relativeTo:{vocab:!0}});ce(It,Kt,dt,{propertyIsArray:!me.compactArrays||we.includes("@set")})}else we.includes("@graph")&&F(ht)?(M(dt)&&dt.length>1&&(dt={"@included":dt}),ce(je,ot,dt,{propertyIsArray:!me.compactArrays||we.includes("@set")})):(M(dt)&&1===dt.length&&me.compactArrays&&(dt=dt[0]),dt={[Q.compactIri({activeCtx:ie,iri:"@graph",relativeTo:{vocab:!0}})]:dt},"@id"in ht&&(dt[Q.compactIri({activeCtx:ie,iri:"@id",relativeTo:{vocab:!0}})]=ht["@id"]),"@index"in ht&&(dt[Q.compactIri({activeCtx:ie,iri:"@index",relativeTo:{vocab:!0}})]=ht["@index"]),ce(je,ot,dt,{propertyIsArray:!me.compactArrays||we.includes("@set")}));else if(we.includes("@language")||we.includes("@index")||we.includes("@id")||we.includes("@type")){let It,Kt;if(je.hasOwnProperty(ot)?It=je[ot]:je[ot]=It={},we.includes("@language"))_(dt)&&(dt=dt["@value"]),Kt=ht["@language"];else if(we.includes("@index")){const Mt=V(ie,ot,"@index")||"@index",en=Q.compactIri({activeCtx:ie,iri:Mt,relativeTo:{vocab:!0}});if("@index"===Mt)Kt=ht["@index"],delete dt[en];else{let on;if([Kt,...on]=z(dt[Mt]||[]),R(Kt))switch(on.length){case 0:delete dt[Mt];break;case 1:dt[Mt]=on[0];break;default:dt[Mt]=on}else Kt=null}}else if(we.includes("@id")){const Mt=Q.compactIri({activeCtx:ie,iri:"@id",relativeTo:{vocab:!0}});Kt=dt[Mt],delete dt[Mt]}else if(we.includes("@type")){const Mt=Q.compactIri({activeCtx:ie,iri:"@type",relativeTo:{vocab:!0}});let en;switch([Kt,...en]=z(dt[Mt]||[]),en.length){case 0:delete dt[Mt];break;case 1:dt[Mt]=en[0];break;default:dt[Mt]=en}1===Object.keys(dt).length&&"@id"in ht&&(dt=yield Q.compact({activeCtx:ie,activeProperty:ot,element:{"@id":ht["@id"]},options:me}))}Kt||(Kt=Q.compactIri({activeCtx:ie,iri:"@none",relativeTo:{vocab:!0}})),ce(It,Kt,dt,{propertyIsArray:we.includes("@set")})}else{const It=!me.compactArrays||we.includes("@set")||we.includes("@list")||M(dt)&&0===dt.length||"@list"===qe||"@graph"===qe;ce(je,ot,dt,{propertyIsArray:It})}}}else{if((V(ie,be,"@container")||[]).includes("@index"))continue;const ot=Q.compactIri({activeCtx:ie,iri:qe,relativeTo:{vocab:!0}});ce(Ae,ot,kt)}else{const ht=yield Q.compact({activeCtx:ie,activeProperty:be,element:kt,options:me});M(ht)&&0===ht.length||ce(Ae,qe,ht)}else{const ht=yield Q.compact({activeCtx:ie,activeProperty:"@reverse",element:kt,options:me});for(const ot in ht)if(ie.mappings.has(ot)&&ie.mappings.get(ot).reverse){const lt=ht[ot],we=(V(ie,ot,"@container")||[]).includes("@set")||!me.compactArrays;ce(Ae,ot,lt,{propertyIsArray:we}),delete ht[ot]}if(Object.keys(ht).length>0){const ot=Q.compactIri({activeCtx:ie,iri:qe,relativeTo:{vocab:!0}});ce(Ae,ot,ht)}}else{let ht=z(kt).map(Qe=>Q.compactIri({activeCtx:ve,iri:Qe,relativeTo:{vocab:!0}}));1===ht.length&&(ht=ht[0]);const ot=Q.compactIri({activeCtx:ie,iri:"@type",relativeTo:{vocab:!0}}),we=(V(ie,ot,"@container")||[]).includes("@set")&&q(ie,1.1)||M(ht)&&0===kt.length;ce(Ae,ot,ht,{propertyIsArray:we})}else{let ht=z(kt).map(lt=>Q.compactIri({activeCtx:ie,iri:lt,relativeTo:{vocab:!1},base:me.base}));1===ht.length&&(ht=ht[0]),Ae[Q.compactIri({activeCtx:ie,iri:"@id",relativeTo:{vocab:!0}})]=ht}}return Ae}return Le});return function(ie){return ge.apply(this,arguments)}}(),Q.compactIri=({activeCtx:ge,iri:ie,value:be=null,relativeTo:Le={vocab:!1},reverse:me=!1,base:Xe=null})=>{if(null===ie)return ie;ge.isPropertyTermScoped&&ge.previousContext&&(ge=ge.previousContext);const Ve=ge.getInverse();if(G(ie)&&ie in Ve&&"@none"in Ve[ie]&&"@type"in Ve[ie]["@none"]&&"@none"in Ve[ie]["@none"]["@type"])return Ve[ie]["@none"]["@type"]["@none"];if(Le.vocab&&ie in Ve){const He=ge["@language"]||"@none",Ne=[];C(be)&&"@index"in be&&!("@graph"in be)&&Ne.push("@index","@index@set"),C(be)&&"@preserve"in be&&(be=be["@preserve"][0]),B(be)?("@index"in be&&Ne.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in be&&Ne.push("@graph@id","@graph@id@set"),Ne.push("@graph","@graph@set","@set"),"@index"in be||Ne.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in be||Ne.push("@graph@id","@graph@id@set")):C(be)&&!_(be)&&Ne.push("@id","@id@set","@type","@set@type");let qe="@language",kt="@null";if(me)qe="@type",kt="@reverse",Ne.push("@set");else if(T(be)){"@index"in be||Ne.push("@list");const ot=be["@list"];if(0===ot.length)qe="@any",kt="@none";else{let lt=0===ot.length?He:null,je=null;for(let we=0;we<ot.length;++we){const Qe=ot[we];let ct="@none",_t="@none";if(_(Qe)?"@direction"in Qe?ct=`${(Qe["@language"]||"").toLowerCase()}_${Qe["@direction"]}`:"@language"in Qe?ct=Qe["@language"].toLowerCase():"@type"in Qe?_t=Qe["@type"]:ct="@null":_t="@id",null===lt?lt=ct:ct!==lt&&_(Qe)&&(lt="@none"),null===je?je=_t:_t!==je&&(je="@none"),"@none"===lt&&"@none"===je)break}lt=lt||"@none",je=je||"@none","@none"!==je?(qe="@type",kt=je):kt=lt}}else{if(_(be))if("@language"in be&&!("@index"in be)){Ne.push("@language","@language@set"),kt=be["@language"];const ot=be["@direction"];ot&&(kt=`${kt}_${ot}`)}else"@direction"in be&&!("@index"in be)?kt=`_${be["@direction"]}`:"@type"in be&&(qe="@type",kt=be["@type"]);else qe="@type",kt="@id";Ne.push("@set")}Ne.push("@none"),C(be)&&!("@index"in be)&&Ne.push("@index","@index@set"),_(be)&&1===Object.keys(be).length&&Ne.push("@language","@language@set");const ht=function K(ge,ie,be,Le,me,Xe){null===Xe&&(Xe="@null");const Ve=[];if(("@id"===Xe||"@reverse"===Xe)&&C(be)&&"@id"in be){"@reverse"===Xe&&Ve.push("@reverse");const ve=Q.compactIri({activeCtx:ge,iri:be["@id"],relativeTo:{vocab:!0}});ge.mappings.has(ve)&&ge.mappings.get(ve)&&ge.mappings.get(ve)["@id"]===be["@id"]?Ve.push.apply(Ve,["@vocab","@id"]):Ve.push.apply(Ve,["@id","@vocab"])}else{Ve.push(Xe);const ve=Ve.find(he=>he.includes("_"));ve&&Ve.push(ve.replace(/^[^_]+_/,"_"))}Ve.push("@none");const Ae=ge.inverse[ie];for(const ve of Le){if(!(ve in Ae))continue;const he=Ae[ve][me];for(const Je of Ve)if(Je in he)return he[Je]}return null}(ge,ie,be,Ne,qe,kt);if(null!==ht)return ht}if(Le.vocab&&"@vocab"in ge){const He=ge["@vocab"];if(0===ie.indexOf(He)&&ie!==He){const Ne=ie.substr(He.length);if(!ge.mappings.has(Ne))return Ne}}let Ae=null;const ve=[];let he=ge.fastCurieMap;const Je=ie.length-1;for(let He=0;He<Je&&ie[He]in he;++He)he=he[ie[He]],""in he&&ve.push(he[""][0]);for(let He=ve.length-1;He>=0;--He){const Ne=ve[He],qe=Ne.terms;for(const kt of qe){const ht=kt+":"+ie.substr(Ne.iri.length);ge.mappings.get(kt)._prefix&&(!ge.mappings.has(ht)||null===be&&ge.mappings.get(ht)["@id"]===ie)&&(null===Ae||L(ht,Ae)<0)&&(Ae=ht)}}if(null!==Ae)return Ae;for(const[He,Ne]of ge.mappings)if(Ne&&Ne._prefix&&ie.startsWith(He+":"))throw new N(`Absolute IRI "${ie}" confused with prefix "${He}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:ge});if(!Le.vocab){if("@base"in ge){if(ge["@base"]){const He=le(J(Xe,ge["@base"]),ie);return ke.test(He)?`./${He}`:He}return ie}return le(Xe,ie)}return ie},Q.compactValue=({activeCtx:ge,activeProperty:ie,value:be,options:Le})=>{if(_(be)){const Ae=V(ge,ie,"@type"),ve=V(ge,ie,"@language"),he=V(ge,ie,"@direction"),Je=V(ge,ie,"@container")||[],He="@index"in be&&!Je.includes("@index");if(!He&&"@none"!==Ae&&(be["@type"]===Ae||"@language"in be&&be["@language"]===ve&&"@direction"in be&&be["@direction"]===he||"@language"in be&&be["@language"]===ve||"@direction"in be&&be["@direction"]===he))return be["@value"];const Ne=Object.keys(be).length,qe=1===Ne||2===Ne&&"@index"in be&&!He,kt="@language"in ge,ht=R(be["@value"]),ot=ge.mappings.has(ie)&&null===ge.mappings.get(ie)["@language"];if(qe&&"@none"!==Ae&&(!kt||!ht||ot))return be["@value"];const lt={};return He&&(lt[Q.compactIri({activeCtx:ge,iri:"@index",relativeTo:{vocab:!0}})]=be["@index"]),"@type"in be?lt[Q.compactIri({activeCtx:ge,iri:"@type",relativeTo:{vocab:!0}})]=Q.compactIri({activeCtx:ge,iri:be["@type"],relativeTo:{vocab:!0}}):"@language"in be&&(lt[Q.compactIri({activeCtx:ge,iri:"@language",relativeTo:{vocab:!0}})]=be["@language"]),"@direction"in be&&(lt[Q.compactIri({activeCtx:ge,iri:"@direction",relativeTo:{vocab:!0}})]=be["@direction"]),lt[Q.compactIri({activeCtx:ge,iri:"@value",relativeTo:{vocab:!0}})]=be["@value"],lt}const me=ee(ge,ie,{vocab:!0},Le),Xe=V(ge,ie,"@type"),Ve=Q.compactIri({activeCtx:ge,iri:be["@id"],relativeTo:{vocab:"@vocab"===Xe},base:Le.base});return"@id"===Xe||"@vocab"===Xe||"@graph"===me?Ve:{[Q.compactIri({activeCtx:ge,iri:"@id",relativeTo:{vocab:!0}})]:Ve}}},313:Pe=>{"use strict";const Re="http://www.w3.org/1999/02/22-rdf-syntax-ns#",j="http://www.w3.org/2001/XMLSchema#";Pe.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:Re,RDF_LIST:Re+"List",RDF_FIRST:Re+"first",RDF_REST:Re+"rest",RDF_NIL:Re+"nil",RDF_TYPE:Re+"type",RDF_PLAIN_LITERAL:Re+"PlainLiteral",RDF_XML_LITERAL:Re+"XMLLiteral",RDF_JSON_LITERAL:Re+"JSON",RDF_OBJECT:Re+"object",RDF_LANGSTRING:Re+"langString",XSD:j,XSD_BOOLEAN:j+"boolean",XSD_DOUBLE:j+"double",XSD_INTEGER:j+"integer",XSD_STRING:j+"string"}},2134:(Pe,Re,j)=>{"use strict";var H=j(9344).default;const N=j(4249),M=j(3327),{isArray:C,isObject:R,isString:D,isUndefined:T}=j(2353),{isAbsolute:_,isRelative:B,prependBase:F}=j(4920),{handleEvent:Y}=j(5775),{REGEX_BCP47:ee,REGEX_KEYWORD:V,asArray:G,compareShortestLeast:oe}=j(4249),q=new Map,J={};function ke(z,L,Q,K,ue,ge){if(null===L||!D(L)||J.isKeyword(L))return L;if(L.match(V))return null;if(K&&K.hasOwnProperty(L)&&!0!==ue.get(L)&&J.createTermDefinition({activeCtx:z,localCtx:K,term:L,defined:ue,options:ge}),(Q=Q||{}).vocab){const be=z.mappings.get(L);if(null===be)return null;if(R(be)&&"@id"in be)return be["@id"]}const ie=L.indexOf(":");if(ie>0){const be=L.substr(0,ie),Le=L.substr(ie+1);if("_"===be||0===Le.indexOf("//"))return L;K&&K.hasOwnProperty(be)&&J.createTermDefinition({activeCtx:z,localCtx:K,term:be,defined:ue,options:ge});const me=z.mappings.get(be);if(me&&me._prefix)return me["@id"]+Le;if(_(L))return L}if(Q.vocab&&"@vocab"in z)L=z["@vocab"]+L;else if(Q.base){let be,Le;"@base"in z?z["@base"]?(Le=F(ge.base,z["@base"]),be=F(Le,L)):(Le=z["@base"],be=L):(Le=ge.base,be=F(ge.base,L)),L=be}return L}function ce(z,L){if(!z||"object"!=typeof z||!L||"object"!=typeof L)return z===L;const Q=Array.isArray(z);if(Q!==Array.isArray(L))return!1;if(Q){if(z.length!==L.length)return!1;for(let ge=0;ge<z.length;++ge)if(!ce(z[ge],L[ge]))return!1;return!0}const K=Object.keys(z),ue=Object.keys(L);if(K.length!==ue.length)return!1;for(const ge in z){let ie=z[ge],be=L[ge];if("@container"===ge&&Array.isArray(ie)&&Array.isArray(be)&&(ie=ie.slice().sort(),be=be.slice().sort()),!ce(ie,be))return!1}return!0}Pe.exports=J,J.process=function(){var z=H(function*({activeCtx:L,localCtx:Q,options:K,propagate:ue=!0,overrideProtected:ge=!1,cycles:ie=new Set}){if(R(Q)&&"@context"in Q&&C(Q["@context"])&&(Q=Q["@context"]),0===G(Q).length)return L;const Le=[],me=[({event:ve,next:he})=>{Le.push(ve),he()}];K.eventHandler&&me.push(K.eventHandler);const Xe=K;K={...K,eventHandler:me};const Ve=yield K.contextResolver.resolve({activeCtx:L,context:Q,documentLoader:K.documentLoader,base:K.base});R(Ve[0].document)&&"boolean"==typeof Ve[0].document["@propagate"]&&(ue=Ve[0].document["@propagate"]);let Ae=L;!ue&&!Ae.previousContext&&(Ae=Ae.clone(),Ae.previousContext=L);for(const ve of Ve){let{document:he}=ve;if(L=Ae,null===he){if(!ge&&0!==Object.keys(L.protected).length)throw new M("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});Ae=L=J.getInitialContext(K).clone();continue}const Je=ve.getProcessed(L);if(Je){if(Xe.eventHandler)for(const Ne of Je.events)Y({event:Ne,options:Xe});Ae=L=Je.context;continue}if(R(he)&&"@context"in he&&(he=he["@context"]),!R(he))throw new M("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:he});Ae=Ae.clone();const He=new Map;if("@version"in he){if(1.1!==he["@version"])throw new M("Unsupported JSON-LD version: "+he["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:he});if(L.processingMode&&"json-ld-1.0"===L.processingMode)throw new M("@version: "+he["@version"]+" not compatible with "+L.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:he});Ae.processingMode="json-ld-1.1",Ae["@version"]=he["@version"],He.set("@version",!0)}if(Ae.processingMode=Ae.processingMode||L.processingMode,"@base"in he){let Ne=he["@base"];if(null!==Ne&&!_(Ne)){if(!B(Ne))throw new M('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:he});Ne=F(Ae["@base"],Ne)}Ae["@base"]=Ne,He.set("@base",!0)}if("@vocab"in he){const Ne=he["@vocab"];if(null===Ne)delete Ae["@vocab"];else{if(!D(Ne))throw new M('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:he});if(!_(Ne)&&J.processingMode(Ae,1))throw new M('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:he});{const qe=ke(Ae,Ne,{vocab:!0,base:!0},void 0,void 0,K);_(qe)||K.eventHandler&&Y({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:qe}},options:K}),Ae["@vocab"]=qe}}He.set("@vocab",!0)}if("@language"in he){const Ne=he["@language"];if(null===Ne)delete Ae["@language"];else{if(!D(Ne))throw new M('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:he});Ne.match(ee)||K.eventHandler&&Y({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Ne}},options:K}),Ae["@language"]=Ne.toLowerCase()}He.set("@language",!0)}if("@direction"in he){const Ne=he["@direction"];if("json-ld-1.0"===L.processingMode)throw new M("Invalid JSON-LD syntax; @direction not compatible with "+L.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:he});if(null===Ne)delete Ae["@direction"];else{if("ltr"!==Ne&&"rtl"!==Ne)throw new M('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:he});Ae["@direction"]=Ne}He.set("@direction",!0)}if("@propagate"in he){const Ne=he["@propagate"];if("json-ld-1.0"===L.processingMode)throw new M("Invalid JSON-LD syntax; @propagate not compatible with "+L.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:he});if("boolean"!=typeof Ne)throw new M("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:Q});He.set("@propagate",!0)}if("@import"in he){const Ne=he["@import"];if("json-ld-1.0"===L.processingMode)throw new M("Invalid JSON-LD syntax; @import not compatible with "+L.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:he});if(!D(Ne))throw new M("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:Q});const qe=yield K.contextResolver.resolve({activeCtx:L,context:Ne,documentLoader:K.documentLoader,base:K.base});if(1!==qe.length)throw new M("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:Q});const kt=qe[0].getProcessed(L);if(kt)he=kt;else{const ht=qe[0].document;if("@import"in ht)throw new M("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:Q});for(const ot in ht)he.hasOwnProperty(ot)||(he[ot]=ht[ot]);qe[0].setProcessed(L,he)}He.set("@import",!0)}He.set("@protected",he["@protected"]||!1);for(const Ne in he)if(J.createTermDefinition({activeCtx:Ae,localCtx:he,term:Ne,defined:He,options:K,overrideProtected:ge}),R(he[Ne])&&"@context"in he[Ne]){const qe=he[Ne]["@context"];let kt=!0;if(D(qe)){const ht=F(K.base,qe);ie.has(ht)?kt=!1:ie.add(ht)}if(kt)try{yield J.process({activeCtx:Ae.clone(),localCtx:he[Ne]["@context"],overrideProtected:!0,options:K,cycles:ie})}catch{throw new M("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:he[Ne]["@context"],term:Ne})}}ve.setProcessed(L,{context:Ae,events:Le})}return Ae});return function(L){return z.apply(this,arguments)}}(),J.createTermDefinition=({activeCtx:z,localCtx:L,term:Q,defined:K,options:ue,overrideProtected:ge=!1})=>{if(K.has(Q)){if(K.get(Q))return;throw new M("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:L,term:Q})}let ie;if(K.set(Q,!1),L.hasOwnProperty(Q)&&(ie=L[Q]),"@type"===Q&&R(ie)&&"@set"===(ie["@container"]||"@set")&&J.processingMode(z,1.1)){const ve=["@container","@id","@protected"],he=Object.keys(ie);if(0===he.length||he.some(Je=>!ve.includes(Je)))throw new M("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:L,term:Q})}else{if(J.isKeyword(Q))throw new M("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:L,term:Q});if(Q.match(V))return void(ue.eventHandler&&Y({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:Q}},options:ue}));if(""===Q)throw new M("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:L})}const be=z.mappings.get(Q);z.mappings.has(Q)&&z.mappings.delete(Q);let Le=!1;if((D(ie)||null===ie)&&(Le=!0,ie={"@id":ie}),!R(ie))throw new M("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:L});const me={};z.mappings.set(Q,me),me.reverse=!1;const Xe=["@container","@id","@language","@reverse","@type"];J.processingMode(z,1.1)&&Xe.push("@context","@direction","@index","@nest","@prefix","@protected");for(const ve in ie)if(!Xe.includes(ve))throw new M("Invalid JSON-LD syntax; a term definition must not contain "+ve,"jsonld.SyntaxError",{code:"invalid term definition",context:L});const Ve=Q.indexOf(":");if(me._termHasColon=Ve>0,"@reverse"in ie){if("@id"in ie)throw new M("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:L});if("@nest"in ie)throw new M("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:L});const ve=ie["@reverse"];if(!D(ve))throw new M("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:L});if(ve.match(V))return ue.eventHandler&&Y({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:ve}},options:ue}),void(be?z.mappings.set(Q,be):z.mappings.delete(Q));const he=ke(z,ve,{vocab:!0,base:!1},L,K,ue);if(!_(he))throw new M("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:L});me["@id"]=he,me.reverse=!0}else if("@id"in ie){let ve=ie["@id"];if(ve&&!D(ve))throw new M("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:L});if(null===ve)me["@id"]=null;else{if(!J.isKeyword(ve)&&ve.match(V))return ue.eventHandler&&Y({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:ve}},options:ue}),void(be?z.mappings.set(Q,be):z.mappings.delete(Q));if(ve!==Q){if(ve=ke(z,ve,{vocab:!0,base:!1},L,K,ue),!_(ve)&&!J.isKeyword(ve))throw new M("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:L});if(Q.match(/(?::[^:])|\//)&&ke(z,Q,{vocab:!0,base:!1},L,new Map(K).set(Q,!0),ue)!==ve)throw new M("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:L});me["@id"]=ve,me._prefix=Le&&!me._termHasColon&&ve.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in me))if(me._termHasColon){const ve=Q.substr(0,Ve);if(L.hasOwnProperty(ve)&&J.createTermDefinition({activeCtx:z,localCtx:L,term:ve,defined:K,options:ue}),z.mappings.has(ve)){const he=Q.substr(Ve+1);me["@id"]=z.mappings.get(ve)["@id"]+he}else me["@id"]=Q}else if("@type"===Q)me["@id"]=Q;else{if(!("@vocab"in z))throw new M("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:L,term:Q});me["@id"]=z["@vocab"]+Q}if((!0===ie["@protected"]||!0===K.get("@protected")&&!1!==ie["@protected"])&&(z.protected[Q]=!0,me.protected=!0),K.set(Q,!0),"@type"in ie){let ve=ie["@type"];if(!D(ve))throw new M("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:L});if("@json"===ve||"@none"===ve){if(J.processingMode(z,1))throw new M(`Invalid JSON-LD syntax; an @context @type value must not be "${ve}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:L})}else if("@id"!==ve&&"@vocab"!==ve){if(ve=ke(z,ve,{vocab:!0,base:!1},L,K,ue),!_(ve))throw new M("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:L});if(0===ve.indexOf("_:"))throw new M("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:L})}me["@type"]=ve}if("@container"in ie){const ve=D(ie["@container"])?[ie["@container"]]:ie["@container"]||[],he=["@list","@set","@index","@language"];let Je=!0;const He=ve.includes("@set");if(J.processingMode(z,1.1)){if(he.push("@graph","@id","@type"),ve.includes("@list")){if(1!==ve.length)throw new M("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:L})}else if(ve.includes("@graph")){if(ve.some(Ne=>"@graph"!==Ne&&"@id"!==Ne&&"@index"!==Ne&&"@set"!==Ne))throw new M("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:L})}else Je&=ve.length<=(He?2:1);if(ve.includes("@type")&&(me["@type"]=me["@type"]||"@id",!["@id","@vocab"].includes(me["@type"])))throw new M("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:L})}else Je&=!C(ie["@container"]),Je&=ve.length<=1;if(Je&=ve.every(Ne=>he.includes(Ne)),Je&=!(He&&ve.includes("@list")),!Je)throw new M("Invalid JSON-LD syntax; @context @container value must be one of the following: "+he.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:L});if(me.reverse&&!ve.every(Ne=>["@index","@set"].includes(Ne)))throw new M("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:L});me["@container"]=ve}if("@index"in ie){if(!("@container"in ie)||!me["@container"].includes("@index"))throw new M(`Invalid JSON-LD syntax; @index without @index in @container: "${ie["@index"]}" on term "${Q}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:L});if(!D(ie["@index"])||0===ie["@index"].indexOf("@"))throw new M(`Invalid JSON-LD syntax; @index must expand to an IRI: "${ie["@index"]}" on term "${Q}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:L});me["@index"]=ie["@index"]}if("@context"in ie&&(me["@context"]=ie["@context"]),"@language"in ie&&!("@type"in ie)){let ve=ie["@language"];if(null!==ve&&!D(ve))throw new M("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:L});null!==ve&&(ve=ve.toLowerCase()),me["@language"]=ve}if("@prefix"in ie){if(Q.match(/:|\//))throw new M("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:L});if(J.isKeyword(me["@id"]))throw new M("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:L});if("boolean"!=typeof ie["@prefix"])throw new M("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:L});me._prefix=!0===ie["@prefix"]}if("@direction"in ie){const ve=ie["@direction"];if(null!==ve&&"ltr"!==ve&&"rtl"!==ve)throw new M('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:L});me["@direction"]=ve}if("@nest"in ie){const ve=ie["@nest"];if(!D(ve)||"@nest"!==ve&&0===ve.indexOf("@"))throw new M("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:L});me["@nest"]=ve}const Ae=me["@id"];if("@context"===Ae||"@preserve"===Ae)throw new M("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:L});if(be&&be.protected&&!ge&&(z.protected[Q]=!0,me.protected=!0,!ce(be,me)))throw new M("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:L,term:Q})},J.expandIri=(z,L,Q,K)=>ke(z,L,Q,void 0,void 0,K),J.getInitialContext=z=>{const L=JSON.stringify({processingMode:z.processingMode}),Q=q.get(L);if(Q)return Q;const K={processingMode:z.processingMode,mappings:new Map,inverse:null,getInverse:function ue(){const me=this;if(me.inverse)return me.inverse;const Xe=me.inverse={},Ve=me.fastCurieMap={},Ae={},ve=(me["@language"]||"@none").toLowerCase(),he=me["@direction"],Je=me.mappings,He=[...Je.keys()].sort(oe);for(const Ne of He){const qe=Je.get(Ne);if(null===qe)continue;let kt=qe["@container"]||"@none";if(kt=[].concat(kt).sort().join(""),null===qe["@id"])continue;const ht=G(qe["@id"]);for(const ot of ht){let lt=Xe[ot];const je=J.isKeyword(ot);if(lt)!je&&!qe._termHasColon&&Ae[ot].push(Ne);else if(Xe[ot]=lt={},!je&&!qe._termHasColon){Ae[ot]=[Ne];const we={iri:ot,terms:Ae[ot]};ot[0]in Ve?Ve[ot[0]].push(we):Ve[ot[0]]=[we]}if(lt[kt]||(lt[kt]={"@language":{},"@type":{},"@any":{}}),lt=lt[kt],ie(Ne,lt["@any"],"@none"),qe.reverse)ie(Ne,lt["@type"],"@reverse");else if("@none"===qe["@type"])ie(Ne,lt["@any"],"@none"),ie(Ne,lt["@language"],"@none"),ie(Ne,lt["@type"],"@none");else if("@type"in qe)ie(Ne,lt["@type"],qe["@type"]);else if("@language"in qe&&"@direction"in qe){const we=qe["@language"],Qe=qe["@direction"];ie(Ne,lt["@language"],we&&Qe?`${we}_${Qe}`.toLowerCase():we?we.toLowerCase():Qe?`_${Qe}`:"@null")}else"@language"in qe?ie(Ne,lt["@language"],(qe["@language"]||"@null").toLowerCase()):"@direction"in qe?ie(Ne,lt["@language"],qe["@direction"]?`_${qe["@direction"]}`:"@none"):he?(ie(Ne,lt["@language"],`_${he}`),ie(Ne,lt["@language"],"@none"),ie(Ne,lt["@type"],"@none")):(ie(Ne,lt["@language"],ve),ie(Ne,lt["@language"],"@none"),ie(Ne,lt["@type"],"@none"))}}for(const Ne in Ve)ge(Ve,Ne,1);return Xe},clone:function be(){const me={};return me.mappings=N.clone(this.mappings),me.clone=this.clone,me.inverse=null,me.getInverse=this.getInverse,me.protected=N.clone(this.protected),this.previousContext&&(me.previousContext=this.previousContext.clone()),me.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(me["@base"]=this["@base"]),"@language"in this&&(me["@language"]=this["@language"]),"@vocab"in this&&(me["@vocab"]=this["@vocab"]),me},revertToPreviousContext:function Le(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===q.size&&q.clear(),q.set(L,K),K;function ge(me,Xe,Ve){const Ae=me[Xe],ve=me[Xe]={};let he,Je;for(const He of Ae)he=He.iri,Je=Ve>=he.length?"":he[Ve],Je in ve?ve[Je].push(He):ve[Je]=[He];for(const He in ve)""!==He&&ge(ve,He,Ve+1)}function ie(me,Xe,Ve){Xe.hasOwnProperty(Ve)||(Xe[Ve]=me)}},J.getContextValue=(z,L,Q)=>{if(null===L)return"@context"===Q?void 0:null;if(z.mappings.has(L)){const K=z.mappings.get(L);if(T(Q))return K;if(K.hasOwnProperty(Q))return K[Q]}return"@language"===Q&&Q in z||"@direction"===Q&&Q in z?z[Q]:"@context"!==Q?null:void 0},J.processingMode=(z,L)=>L.toString()>="1.1"?!z.processingMode||z.processingMode>="json-ld-"+L.toString():"json-ld-1.0"===z.processingMode,J.isKeyword=z=>{if(!D(z)||"@"!==z[0])return!1;switch(z){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},8719:(Pe,Re,j)=>{"use strict";var H=j(9344).default;const{parseLinkHeader:N,buildHeaders:M}=j(4249),{LINK_HEADER_CONTEXT:C}=j(313),R=j(3327),D=j(2210),{prependBase:T}=j(4920),_=/(^|(\r\n))link:/i;function B(F,Y,ee){const V=new(F=F||XMLHttpRequest);return new Promise((G,oe)=>{V.onload=()=>G(V),V.onerror=q=>oe(q),V.open("GET",Y,!0);for(const q in ee)V.setRequestHeader(q,ee[q]);V.send()})}Pe.exports=({secure:F,headers:Y={},xhr:ee}={headers:{}})=>{return Y=M(Y),(new D).wrapLoader(G);function G(q){return oe.apply(this,arguments)}function oe(){return(oe=H(function*(q){if(0!==q.indexOf("http:")&&0!==q.indexOf("https:"))throw new R('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:q});if(F&&0!==q.indexOf("https"))throw new R('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:q});let le;try{le=yield B(ee,q,Y)}catch(L){throw new R("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:q,cause:L})}if(le.status>=400)throw new R("URL could not be dereferenced: "+le.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:q,httpStatusCode:le.status});let J={contextUrl:null,documentUrl:q,document:le.response},ke=null;const ce=le.getResponseHeader("Content-Type");let z;if(_.test(le.getAllResponseHeaders())&&(z=le.getResponseHeader("Link")),z&&"application/ld+json"!==ce){const L=N(z),Q=L[C];if(Array.isArray(Q))throw new R("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:q});Q&&(J.contextUrl=Q.target),ke=L.alternate,ke&&"application/ld+json"==ke.type&&!(ce||"").match(/^application\/(\w*\+)?json$/)&&(J=yield G(T(q,ke.target)))}return J})).apply(this,arguments)}}},5775:(Pe,Re,j)=>{"use strict";const H=j(3327),{isArray:N}=j(2353),{asArray:M}=j(4249),C={};function R({event:T,handlers:_}){let B=!0;for(let F=0;B&&F<_.length;++F){B=!1;const Y=_[F];if(N(Y))B=R({event:T,handlers:Y});else if("function"==typeof Y)Y({event:T,next:()=>{B=!0}});else{if("object"!=typeof Y)throw new H("Invalid event handler.","jsonld.InvalidEventHandler",{event:T});T.code in Y?Y[T.code]({event:T,next:()=>{B=!0}}):B=!0}}return B}Pe.exports=C,C.defaultEventHandler=null,C.setupEventHandler=({options:T={}})=>{const _=[].concat(T.safe?C.safeEventHandler:[],T.eventHandler?M(T.eventHandler):[],C.defaultEventHandler?C.defaultEventHandler:[]);return 0===_.length?null:_},C.handleEvent=({event:T,options:_})=>{R({event:T,handlers:_.eventHandler})};const D=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference"]);C.safeEventHandler=function({event:_,next:B}){if("warning"===_.level&&D.has(_.code))throw new H("Safe mode validation error.","jsonld.ValidationError",{event:_});B()},C.logEventHandler=function({event:_,next:B}){console.log(`EVENT: ${_.message}`,{event:_}),B()},C.logWarningEventHandler=function({event:_,next:B}){"warning"===_.level&&console.warn(`WARNING: ${_.message}`,{event:_}),B()},C.unhandledEventHandler=function({event:_}){throw new H("No handler for event.","jsonld.UnhandledEvent",{event:_})},C.setDefaultEventHandler=function({eventHandler:T}={}){C.defaultEventHandler=T?M(T):null}},554:(Pe,Re,j)=>{"use strict";var H=j(9344).default;const N=j(3327),{isArray:M,isObject:C,isEmptyObject:R,isString:D,isUndefined:T}=j(2353),{isList:_,isValue:B,isGraph:F,isSubject:Y}=j(9094),{expandIri:ee,getContextValue:V,isKeyword:G,process:oe,processingMode:q}=j(2134),{isAbsolute:le}=j(4920),{REGEX_BCP47:J,REGEX_KEYWORD:ke,addValue:ce,asArray:z,getValues:L,validateTypeValue:Q}=j(4249),{handleEvent:K}=j(5775),ue={};function ge(Ve){return ie.apply(this,arguments)}function ie(){return(ie=H(function*({activeCtx:Ve,activeProperty:Ae,expandedActiveProperty:ve,element:he,expandedParent:Je,options:He={},insideList:Ne,typeKey:qe,typeScopedContext:kt}){const ht=Object.keys(he).sort(),ot=[];let lt;const je=he[qe]&&"@json"===ee(Ve,M(he[qe])?he[qe][0]:he[qe],{vocab:!0},{...He,typeExpansion:!0});for(const we of ht){let ct,Qe=he[we];if("@context"===we)continue;const _t=ee(Ve,we,{vocab:!0},He);if(null===_t||!le(_t)&&!G(_t)){He.eventHandler&&K({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:we,expandedProperty:_t}},options:He});continue}if(G(_t)){if("@reverse"===ve)throw new N("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:Qe});if(_t in Je&&"@included"!==_t&&"@type"!==_t)throw new N("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:_t})}if("@id"===_t){if(!D(Qe)){if(!He.isFrame)throw new N('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:Qe});if(C(Qe)){if(!R(Qe))throw new N('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Qe})}else{if(!M(Qe))throw new N('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Qe});if(!Qe.every(Mt=>D(Mt)))throw new N('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Qe})}}ce(Je,"@id",z(Qe).map(Mt=>{if(D(Mt)){const en=ee(Ve,Mt,{base:!0},He);return He.eventHandler&&(null===en?K(null===Mt?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:Mt}},options:He}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:Mt}},options:He}):le(en)||K({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:Mt,expandedId:en}},options:He})),en}return Mt}),{propertyIsArray:He.isFrame});continue}if("@type"===_t){C(Qe)&&(Qe=Object.fromEntries(Object.entries(Qe).map(([Mt,en])=>[ee(kt,Mt,{vocab:!0}),z(en).map(on=>ee(kt,on,{base:!0,vocab:!0},{...He,typeExpansion:!0}))]))),Q(Qe,He.isFrame),ce(Je,"@type",z(Qe).map(Mt=>{if(D(Mt)){const en=ee(kt,Mt,{base:!0,vocab:!0},{...He,typeExpansion:!0});return"@json"!==en&&!le(en)&&He.eventHandler&&K({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:Mt}},options:He}),en}return Mt}),{propertyIsArray:He.isFrame});continue}if("@included"===_t&&q(Ve,1.1)){const Mt=z(yield ue.expand({activeCtx:Ve,activeProperty:Ae,element:Qe,options:He}));if(!Mt.every(en=>Y(en)))throw new N("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:Qe});ce(Je,"@included",Mt,{propertyIsArray:!0});continue}if("@graph"===_t&&!C(Qe)&&!M(Qe))throw new N('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:Qe});if("@value"===_t){lt=Qe,je&&q(Ve,1.1)?Je["@value"]=Qe:ce(Je,"@value",Qe,{propertyIsArray:He.isFrame});continue}if("@language"===_t){if(null===Qe)continue;if(!D(Qe)&&!He.isFrame)throw new N('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:Qe});Qe=z(Qe).map(Mt=>D(Mt)?Mt.toLowerCase():Mt);for(const Mt of Qe)D(Mt)&&!Mt.match(J)&&He.eventHandler&&K({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Mt}},options:He});ce(Je,"@language",Qe,{propertyIsArray:He.isFrame});continue}if("@direction"===_t){if(!D(Qe)&&!He.isFrame)throw new N('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:Qe});Qe=z(Qe);for(const Mt of Qe)if(D(Mt)&&"ltr"!==Mt&&"rtl"!==Mt)throw new N('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:Qe});ce(Je,"@direction",Qe,{propertyIsArray:He.isFrame});continue}if("@index"===_t){if(!D(Qe))throw new N('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:Qe});ce(Je,"@index",Qe);continue}if("@reverse"===_t){if(!C(Qe))throw new N('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:Qe});if(ct=yield ue.expand({activeCtx:Ve,activeProperty:"@reverse",element:Qe,options:He}),"@reverse"in ct)for(const en in ct["@reverse"])ce(Je,en,ct["@reverse"][en],{propertyIsArray:!0});let Mt=Je["@reverse"]||null;for(const en in ct){if("@reverse"===en)continue;null===Mt&&(Mt=Je["@reverse"]={}),ce(Mt,en,[],{propertyIsArray:!0});const on=ct[en];for(let Bn=0;Bn<on.length;++Bn){const dr=on[Bn];if(B(dr)||_(dr))throw new N('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:ct});ce(Mt,en,dr,{propertyIsArray:!0})}}continue}if("@nest"===_t){ot.push(we);continue}let dt=Ve;const It=V(Ve,we,"@context");T(It)||(dt=yield oe({activeCtx:Ve,localCtx:It,propagate:!0,overrideProtected:!0,options:He}));const Kt=V(dt,we,"@container")||[];if(Kt.includes("@language")&&C(Qe))ct=Le(dt,Qe,V(dt,we,"@direction"),He);else if(Kt.includes("@index")&&C(Qe)){const Mt=Kt.includes("@graph"),en=V(dt,we,"@index")||"@index",on="@index"!==en&&ee(Ve,en,{vocab:!0},He);ct=yield me({activeCtx:dt,options:He,activeProperty:we,value:Qe,asGraph:Mt,indexKey:en,propertyIndex:on})}else if(Kt.includes("@id")&&C(Qe)){const Mt=Kt.includes("@graph");ct=yield me({activeCtx:dt,options:He,activeProperty:we,value:Qe,asGraph:Mt,indexKey:"@id"})}else if(Kt.includes("@type")&&C(Qe))ct=yield me({activeCtx:dt.revertToPreviousContext(),options:He,activeProperty:we,value:Qe,asGraph:!1,indexKey:"@type"});else{const Mt="@list"===_t;if(Mt||"@set"===_t){let en=Ae;Mt&&"@graph"===ve&&(en=null),ct=yield ue.expand({activeCtx:dt,activeProperty:en,element:Qe,options:He,insideList:Mt})}else ct="@json"===V(Ve,we,"@type")?{"@type":"@json","@value":Qe}:yield ue.expand({activeCtx:dt,activeProperty:we,element:Qe,options:He,insideList:!1})}if(null!==ct||"@value"===_t){if("@list"!==_t&&!_(ct)&&Kt.includes("@list")&&(ct={"@list":z(ct)}),Kt.includes("@graph")&&!Kt.some(Mt=>"@id"===Mt||"@index"===Mt)&&(ct=z(ct).map(Mt=>({"@graph":z(Mt)}))),dt.mappings.has(we)&&dt.mappings.get(we).reverse){const Mt=Je["@reverse"]=Je["@reverse"]||{};ct=z(ct);for(let en=0;en<ct.length;++en){const on=ct[en];if(B(on)||_(on))throw new N('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:ct});ce(Mt,_t,on,{propertyIsArray:!0})}continue}ce(Je,_t,ct,{propertyIsArray:!0})}}if("@value"in Je&&("@json"!==Je["@type"]||!q(Ve,1.1))&&(C(lt)||M(lt))&&!He.isFrame)throw new N('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:lt});for(const we of ot){const Qe=M(he[we])?he[we]:[he[we]];for(const ct of Qe){if(!C(ct)||Object.keys(ct).some(_t=>"@value"===ee(Ve,_t,{vocab:!0},He)))throw new N("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:ct});yield ge({activeCtx:Ve,activeProperty:Ae,expandedActiveProperty:ve,element:ct,expandedParent:Je,options:He,insideList:Ne,typeScopedContext:kt,typeKey:qe})}}})).apply(this,arguments)}function be({activeCtx:Ve,activeProperty:Ae,value:ve,options:he}){if(null==ve)return null;const Je=ee(Ve,Ae,{vocab:!0},he);if("@id"===Je)return ee(Ve,ve,{base:!0},he);if("@type"===Je)return ee(Ve,ve,{vocab:!0,base:!0},{...he,typeExpansion:!0});const He=V(Ve,Ae,"@type");if(("@id"===He||"@graph"===Je)&&D(ve)){const qe=ee(Ve,ve,{base:!0},he);return null===qe&&ve.match(ke)&&he.eventHandler&&K({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:Ae}},options:he}),{"@id":qe}}if("@vocab"===He&&D(ve))return{"@id":ee(Ve,ve,{vocab:!0,base:!0},he)};if(G(Je))return ve;const Ne={};if(He&&!["@id","@vocab","@none"].includes(He))Ne["@type"]=He;else if(D(ve)){const qe=V(Ve,Ae,"@language");null!==qe&&(Ne["@language"]=qe);const kt=V(Ve,Ae,"@direction");null!==kt&&(Ne["@direction"]=kt)}return["boolean","number","string"].includes(typeof ve)||(ve=ve.toString()),Ne["@value"]=ve,Ne}function Le(Ve,Ae,ve,he){const Je=[],He=Object.keys(Ae).sort();for(const Ne of He){const qe=ee(Ve,Ne,{vocab:!0},he);let kt=Ae[Ne];M(kt)||(kt=[kt]);for(const ht of kt){if(null===ht)continue;if(!D(ht))throw new N("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:Ae});const ot={"@value":ht};"@none"!==qe&&(Ne.match(J)||he.eventHandler&&K({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Ne}},options:he}),ot["@language"]=Ne.toLowerCase()),ve&&(ot["@direction"]=ve),Je.push(ot)}}return Je}function me(Ve){return Xe.apply(this,arguments)}function Xe(){return(Xe=H(function*({activeCtx:Ve,options:Ae,activeProperty:ve,value:he,asGraph:Je,indexKey:He,propertyIndex:Ne}){const qe=[],kt=Object.keys(he).sort(),ht="@type"===He;for(let ot of kt){if(ht){const we=V(Ve,ot,"@context");T(we)||(Ve=yield oe({activeCtx:Ve,localCtx:we,propagate:!1,options:Ae}))}let je,lt=he[ot];M(lt)||(lt=[lt]),lt=yield ue.expand({activeCtx:Ve,activeProperty:ve,element:lt,options:Ae,insideList:!1,insideIndex:!0}),je=Ne?"@none"===ot?"@none":be({activeCtx:Ve,activeProperty:He,value:ot,options:Ae}):ee(Ve,ot,{vocab:!0},Ae),"@id"===He?ot=ee(Ve,ot,{base:!0},Ae):ht&&(ot=je);for(let we of lt){if(Je&&!F(we)&&(we={"@graph":[we]}),"@type"===He)"@none"===je||(we["@type"]=we["@type"]?[ot].concat(we["@type"]):[ot]);else{if(B(we)&&!["@language","@type","@index"].includes(He))throw new N(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${He}".`,"jsonld.SyntaxError",{code:"invalid value object",value:we});Ne?"@none"!==je&&ce(we,Ne,je,{propertyIsArray:!0,prependValue:!0}):"@none"!==je&&!(He in we)&&(we[He]=ot)}qe.push(we)}}return qe})).apply(this,arguments)}Pe.exports=ue,ue.expand=function(){var Ve=H(function*({activeCtx:Ae,activeProperty:ve=null,element:he,options:Je={},insideList:He=!1,insideIndex:Ne=!1,typeScopedContext:qe=null}){if(null==he)return null;if("@default"===ve&&(Je=Object.assign({},Je,{isFrame:!1})),!M(he)&&!C(he))return He||null!==ve&&"@graph"!==ee(Ae,ve,{vocab:!0},Je)?be({activeCtx:Ae,activeProperty:ve,value:he,options:Je}):(Je.eventHandler&&K({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:he}},options:Je}),null);if(M(he)){let ct=[];const _t=V(Ae,ve,"@container")||[];He=He||_t.includes("@list");for(let dt=0;dt<he.length;++dt){let It=yield ue.expand({activeCtx:Ae,activeProperty:ve,element:he[dt],options:Je,insideIndex:Ne,typeScopedContext:qe});He&&M(It)&&(It={"@list":It}),null!==It&&(M(It)?ct=ct.concat(It):ct.push(It))}return ct}const kt=ee(Ae,ve,{vocab:!0},Je),ht=V(Ae,ve,"@context");qe=qe||(Ae.previousContext?Ae:null);let ot=Object.keys(he).sort(),lt=!Ne;if(lt&&qe&&ot.length<=2&&!ot.includes("@context"))for(const ct of ot){const _t=ee(qe,ct,{vocab:!0},Je);if("@value"===_t){lt=!1,Ae=qe;break}if("@id"===_t&&1===ot.length){lt=!1;break}}lt&&(Ae=Ae.revertToPreviousContext()),T(ht)||(Ae=yield oe({activeCtx:Ae,localCtx:ht,propagate:!0,overrideProtected:!0,options:Je})),"@context"in he&&(Ae=yield oe({activeCtx:Ae,localCtx:he["@context"],options:Je})),qe=Ae;let je=null;for(const ct of ot)if("@type"===ee(Ae,ct,{vocab:!0},Je)){je=je||ct;const dt=he[ct],It=Array.isArray(dt)?dt.length>1?dt.slice().sort():dt:[dt];for(const Kt of It){const Mt=V(qe,Kt,"@context");T(Mt)||(Ae=yield oe({activeCtx:Ae,localCtx:Mt,options:Je,propagate:!1}))}}let we={};yield ge({activeCtx:Ae,activeProperty:ve,expandedActiveProperty:kt,element:he,expandedParent:we,options:Je,insideList:He,typeKey:je,typeScopedContext:qe}),ot=Object.keys(we);let Qe=ot.length;if("@value"in we){if("@type"in we&&("@language"in we||"@direction"in we))throw new N('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:we});let ct=Qe-1;if("@type"in we&&(ct-=1),"@index"in we&&(ct-=1),"@language"in we&&(ct-=1),"@direction"in we&&(ct-=1),0!==ct)throw new N('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:we});const _t=null===we["@value"]?[]:z(we["@value"]),dt=L(we,"@type");if(!q(Ae,1.1)||!dt.includes("@json")||1!==dt.length)if(0===_t.length)Je.eventHandler&&K({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:we}},options:Je}),we=null;else{if(!_t.every(It=>D(It)||R(It))&&"@language"in we)throw new N("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:we});if(!dt.every(It=>le(It)&&!(D(It)&&0===It.indexOf("_:"))||R(It)))throw new N('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:we})}}else if("@type"in we&&!M(we["@type"]))we["@type"]=[we["@type"]];else if("@set"in we||"@list"in we){if(Qe>1&&(2!==Qe||!("@index"in we)))throw new N('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:we});"@set"in we&&(we=we["@set"],ot=Object.keys(we),Qe=ot.length)}else 1===Qe&&"@language"in we&&(Je.eventHandler&&K({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:we}},options:Je}),we=null);if(C(we)&&!Je.keepFreeFloatingNodes&&!He&&(null===ve||"@graph"===kt)&&(0===Qe||"@value"in we||"@list"in we||1===Qe&&"@id"in we)){if(Je.eventHandler){let ct,_t;0===Qe?(ct="empty object",_t="Dropping empty object."):"@value"in we?(ct="object with only @value",_t="Dropping object with only @value."):"@list"in we?(ct="object with only @list",_t="Dropping object with only @list."):1===Qe&&"@id"in we&&(ct="object with only @id",_t="Dropping object with only @id."),K({event:{type:["JsonLdEvent"],code:ct,level:"warning",message:_t,details:{value:we}},options:Je})}we=null}return we});return function(Ae){return Ve.apply(this,arguments)}}()},7613:(Pe,Re,j)=>{"use strict";const{isSubjectReference:H}=j(9094),{createMergedNodeMap:N}=j(5057),M={};Pe.exports=M,M.flatten=C=>{const R=N(C),D=[],T=Object.keys(R).sort();for(let _=0;_<T.length;++_){const B=R[T[_]];H(B)||D.push(B)}return D}},1938:(Pe,Re,j)=>{"use strict";const{isKeyword:H}=j(2134),N=j(9094),M=j(2353),C=j(4249),R=j(4920),D=j(3327),{createNodeMap:T,mergeNodeMapGraphs:_}=j(5057),B={};function F(z){const L={};for(const Q in z)void 0!==z[Q]&&(L["@"+Q]=[z[Q]]);return[L]}function Y(z,L,Q){for(let K=Q.length-1;K>=0;--K){const ue=Q[K];if(ue.graph===L&&ue.subject["@id"]===z["@id"])return!0}return!1}function ee(z,L,Q){const K="@"+Q;let ue=K in z?z[K][0]:L[Q];if("embed"===Q)if(!0===ue)ue="@once";else if(!1===ue)ue="@never";else if("@always"!==ue&&"@never"!==ue&&"@link"!==ue&&"@first"!==ue&&"@last"!==ue&&"@once"!==ue)throw new D("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:z});return ue}function V(z){if(!M.isArray(z)||1!==z.length||!M.isObject(z[0]))throw new D("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:z});if("@id"in z[0])for(const L of C.asArray(z[0]["@id"]))if(!M.isObject(L)&&!R.isAbsolute(L)||M.isString(L)&&0===L.indexOf("_:"))throw new D("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:z});if("@type"in z[0])for(const L of C.asArray(z[0]["@type"]))if(!M.isObject(L)&&!R.isAbsolute(L)||M.isString(L)&&0===L.indexOf("_:"))throw new D("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:z})}function oe(z,L,Q,K){let ue=!0,ge=!1;for(const ie in Q){let be=!1;const Le=C.getValues(L,ie),me=0===C.getValues(Q,ie).length;if("@id"===ie){if(M.isEmptyObject(Q["@id"][0]||{})?be=!0:Q["@id"].length>=0&&(be=Q["@id"].includes(Le[0])),!K.requireAll)return be}else if("@type"===ie){if(ue=!1,me){if(Le.length>0)return!1;be=!0}else if(1===Q["@type"].length&&M.isEmptyObject(Q["@type"][0]))be=Le.length>0;else for(const Xe of Q["@type"])be=!(!M.isObject(Xe)||!("@default"in Xe))||be||Le.some(Ve=>Ve===Xe);if(!K.requireAll)return be}else{if(H(ie))continue;{const Xe=C.getValues(Q,ie)[0];let Ve=!1;if(Xe&&(V([Xe]),Ve="@default"in Xe),ue=!1,0===Le.length&&Ve)continue;if(Le.length>0&&me)return!1;if(void 0===Xe){if(Le.length>0)return!1;be=!0}else if(N.isList(Xe)){const Ae=Xe["@list"][0];if(N.isList(Le[0])){const ve=Le[0]["@list"];N.isValue(Ae)?be=ve.some(he=>ce(Ae,he)):(N.isSubject(Ae)||N.isSubjectReference(Ae))&&(be=ve.some(he=>ke(z,Ae,he,K)))}}else be=N.isValue(Xe)?Le.some(Ae=>ce(Xe,Ae)):N.isSubjectReference(Xe)?Le.some(Ae=>ke(z,Xe,Ae,K)):!!M.isObject(Xe)&&Le.length>0}}if(!be&&K.requireAll)return!1;ge=ge||be}return ue||ge}function q(z,L){const Q=z.uniqueEmbeds[z.graph],K=Q[L],ue=K.parent,ge=K.property,ie={"@id":L};if(M.isArray(ue)){for(let Le=0;Le<ue.length;++Le)if(C.compareValues(ue[Le],ie)){ue[Le]=ie;break}}else{const Le=M.isArray(ue[ge]);C.removeValue(ue,ge,ie,{propertyIsArray:Le}),C.addValue(ue,ge,ie,{propertyIsArray:Le})}const be=Le=>{const me=Object.keys(Q);for(const Xe of me)Xe in Q&&M.isObject(Q[Xe].parent)&&Q[Xe].parent["@id"]===Le&&(delete Q[Xe],be(Xe))};be(L)}function le(z,L){if(M.isArray(z))return z.map(Q=>le(Q,L));if(M.isObject(z)){if("@preserve"in z)return z["@preserve"][0];if(N.isValue(z))return z;if(N.isList(z))return z["@list"]=le(z["@list"],L),z;if("@id"in z){const Q=z["@id"];if(L.link.hasOwnProperty(Q)){const K=L.link[Q].indexOf(z);if(-1!==K)return L.link[Q][K];L.link[Q].push(z)}else L.link[Q]=[z]}for(const Q in z)"@id"===Q&&L.bnodesToClear.includes(z[Q])?delete z["@id"]:z[Q]=le(z[Q],L)}return z}function J(z,L,Q){M.isObject(z)?C.addValue(z,L,Q,{propertyIsArray:!0}):z.push(Q)}function ke(z,L,Q,K){if(!("@id"in Q))return!1;const ue=z.subjects[Q["@id"]];return ue&&oe(z,ue,L,K)}function ce(z,L){const Q=L["@value"],K=L["@type"],ue=L["@language"],ge=z["@value"]?M.isArray(z["@value"])?z["@value"]:[z["@value"]]:[],ie=z["@type"]?M.isArray(z["@type"])?z["@type"]:[z["@type"]]:[],be=z["@language"]?M.isArray(z["@language"])?z["@language"]:[z["@language"]]:[];return 0===ge.length&&0===ie.length&&0===be.length||!(!ge.includes(Q)&&!M.isEmptyObject(ge[0])||!(!K&&0===ie.length||ie.includes(K)||K&&M.isEmptyObject(ie[0]))||!(!ue&&0===be.length||be.includes(ue)||ue&&M.isEmptyObject(be[0])))}Pe.exports=B,B.frameMergedOrDefault=(z,L,Q)=>{const K={options:Q,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},ue=new C.IdentifierIssuer("_:b");T(z,K.graphMap,"@default",ue),Q.merged&&(K.graphMap["@merged"]=_(K.graphMap),K.graph="@merged"),K.subjects=K.graphMap[K.graph];const ge=[];return B.frame(K,Object.keys(K.subjects).sort(),L,ge),Q.pruneBlankNodeIdentifiers&&(Q.bnodesToClear=Object.keys(K.bnodeMap).filter(ie=>1===K.bnodeMap[ie].length)),Q.link={},le(ge,Q)},B.frame=(z,L,Q,K,ue=null)=>{V(Q);const ge=z.options,ie={embed:ee(Q=Q[0],ge,"embed"),explicit:ee(Q,ge,"explicit"),requireAll:ee(Q,ge,"requireAll")};z.link.hasOwnProperty(z.graph)||(z.link[z.graph]={});const be=z.link[z.graph],Le=function G(z,L,Q,K){const ue={};for(const ge of L){const ie=z.graphMap[z.graph][ge];oe(z,ie,Q,K)&&(ue[ge]=ie)}return ue}(z,L,Q,ie),me=Object.keys(Le).sort();for(const Xe of me){const Ve=Le[Xe];if(null===ue?z.uniqueEmbeds={[z.graph]:{}}:z.uniqueEmbeds[z.graph]=z.uniqueEmbeds[z.graph]||{},"@link"===ie.embed&&Xe in be){J(K,ue,be[Xe]);continue}const Ae={"@id":Xe};if(0===Xe.indexOf("_:")&&C.addValue(z.bnodeMap,Xe,Ae,{propertyIsArray:!0}),be[Xe]=Ae,("@first"===ie.embed||"@last"===ie.embed)&&z.is11)throw new D("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:Q});if(z.embedded||!z.uniqueEmbeds[z.graph].hasOwnProperty(Xe)){if(z.embedded&&("@never"===ie.embed||Y(Ve,z.graph,z.subjectStack))){J(K,ue,Ae);continue}if(z.embedded&&("@first"==ie.embed||"@once"==ie.embed)&&z.uniqueEmbeds[z.graph].hasOwnProperty(Xe)){J(K,ue,Ae);continue}if("@last"===ie.embed&&Xe in z.uniqueEmbeds[z.graph]&&q(z,Xe),z.uniqueEmbeds[z.graph][Xe]={parent:K,property:ue},z.subjectStack.push({subject:Ve,graph:z.graph}),Xe in z.graphMap){let ve=!1,he=null;"@graph"in Q?(he=Q["@graph"][0],ve=!("@merged"===Xe||"@default"===Xe),M.isObject(he)||(he={})):(ve="@merged"!==z.graph,he={}),ve&&B.frame({...z,graph:Xe,embedded:!1},Object.keys(z.graphMap[Xe]).sort(),[he],Ae,"@graph")}"@included"in Q&&B.frame({...z,embedded:!1},L,Q["@included"],Ae,"@included");for(const ve of Object.keys(Ve).sort())if(H(ve)){if(Ae[ve]=C.clone(Ve[ve]),"@type"===ve)for(const he of Ve["@type"])0===he.indexOf("_:")&&C.addValue(z.bnodeMap,he,Ae,{propertyIsArray:!0})}else if(!ie.explicit||ve in Q)for(const he of Ve[ve]){const Je=ve in Q?Q[ve]:F(ie);if(N.isList(he)){const He=Q[ve]&&Q[ve][0]&&Q[ve][0]["@list"]?Q[ve][0]["@list"]:F(ie),Ne={"@list":[]};J(Ae,ve,Ne);const qe=he["@list"];for(const kt of qe)N.isSubjectReference(kt)?B.frame({...z,embedded:!0},[kt["@id"]],He,Ne,"@list"):J(Ne,"@list",C.clone(kt))}else N.isSubjectReference(he)?B.frame({...z,embedded:!0},[he["@id"]],Je,Ae,ve):ce(Je[0],he)&&J(Ae,ve,C.clone(he))}for(const ve of Object.keys(Q).sort()){if("@type"===ve){if(!M.isObject(Q[ve][0])||!("@default"in Q[ve][0]))continue}else if(H(ve))continue;const he=Q[ve][0]||{};if(!ee(he,ge,"omitDefault")&&!(ve in Ae)){let He="@null";"@default"in he&&(He=C.clone(he["@default"])),M.isArray(He)||(He=[He]),Ae[ve]=[{"@preserve":He}]}}for(const ve of Object.keys(Q["@reverse"]||{}).sort()){const he=Q["@reverse"][ve];for(const Je of Object.keys(z.subjects))C.getValues(z.subjects[Je],ve).some(Ne=>Ne["@id"]===Xe)&&(Ae["@reverse"]=Ae["@reverse"]||{},C.addValue(Ae["@reverse"],ve,[],{propertyIsArray:!0}),B.frame({...z,embedded:!0},[Je],he,Ae["@reverse"][ve],ue))}J(K,ue,Ae),z.subjectStack.pop()}}},B.cleanupNull=(z,L)=>{if(M.isArray(z))return z.map(K=>B.cleanupNull(K,L)).filter(K=>K);if("@null"===z)return null;if(M.isObject(z)){if("@id"in z){const Q=z["@id"];if(L.link.hasOwnProperty(Q)){const K=L.link[Q].indexOf(z);if(-1!==K)return L.link[Q][K];L.link[Q].push(z)}else L.link[Q]=[z]}for(const Q in z)z[Q]=B.cleanupNull(z[Q],L)}return z}},2216:(Pe,Re,j)=>{"use strict";var H=j(9344).default;const N=j(3327),M=j(9094),C=j(2353),{REGEX_BCP47:R,addValue:D}=j(4249),{handleEvent:T}=j(5775),{RDF_LIST:_,RDF_FIRST:B,RDF_REST:F,RDF_NIL:Y,RDF_TYPE:ee,RDF_JSON_LITERAL:V,XSD_BOOLEAN:G,XSD_DOUBLE:oe,XSD_INTEGER:q,XSD_STRING:le}=j(313),J={};function ke(ce,z,L,Q){if(ce.termType.endsWith("Node"))return{"@id":ce.value};const K={"@value":ce.value};if(ce.language)ce.language.match(R)||Q.eventHandler&&T({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:ce.language}},options:Q}),K["@language"]=ce.language;else{let ue=ce.datatype.value;if(ue||(ue=le),ue===V){ue="@json";try{K["@value"]=JSON.parse(K["@value"])}catch(ge){throw new N("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:K["@value"],cause:ge})}}if(z){if(ue===G)"true"===K["@value"]?K["@value"]=!0:"false"===K["@value"]&&(K["@value"]=!1);else if(C.isNumeric(K["@value"]))if(ue===q){const ge=parseInt(K["@value"],10);ge.toFixed(0)===K["@value"]&&(K["@value"]=ge)}else ue===oe&&(K["@value"]=parseFloat(K["@value"]));[G,q,oe,le].includes(ue)||(K["@type"]=ue)}else if("i18n-datatype"===L&&ue.startsWith("https://www.w3.org/ns/i18n#")){const[,ge,ie]=ue.split(/[#_]/);ge.length>0&&(K["@language"]=ge,ge.match(R)||Q.eventHandler&&T({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:ge}},options:Q})),K["@direction"]=ie}else ue!==le&&(K["@type"]=ue)}return K}Pe.exports=J,J.fromRDF=function(){var ce=H(function*(z,L){const Q={},K={"@default":Q},ue={},{useRdfType:ge=!1,useNativeTypes:ie=!1,rdfDirection:be=null}=L;for(const Xe of z){const Ve="DefaultGraph"===Xe.graph.termType?"@default":Xe.graph.value;Ve in K||(K[Ve]={}),"@default"!==Ve&&!(Ve in Q)&&(Q[Ve]={"@id":Ve});const Ae=K[Ve],ve=Xe.subject.value,he=Xe.predicate.value,Je=Xe.object;ve in Ae||(Ae[ve]={"@id":ve});const He=Ae[ve],Ne=Je.termType.endsWith("Node");if(Ne&&!(Je.value in Ae)&&(Ae[Je.value]={"@id":Je.value}),he===ee&&!ge&&Ne){D(He,"@type",Je.value,{propertyIsArray:!0});continue}const qe=ke(Je,ie,be,L);if(D(He,he,qe,{propertyIsArray:!0}),Ne)if(Je.value===Y){const kt=Ae[Je.value];"usages"in kt||(kt.usages=[]),kt.usages.push({node:He,property:he,value:qe})}else ue[Je.value]=!(Je.value in ue)&&{node:He,property:he,value:qe}}for(const Xe in K){const Ve=K[Xe];if(!(Y in Ve))continue;const Ae=Ve[Y];if(Ae.usages){for(let ve of Ae.usages){let he=ve.node,Je=ve.property,He=ve.value;const Ne=[],qe=[];let kt=Object.keys(he).length;for(;Je===F&&C.isObject(ue[he["@id"]])&&C.isArray(he[B])&&1===he[B].length&&C.isArray(he[F])&&1===he[F].length&&(3===kt||4===kt&&C.isArray(he["@type"])&&1===he["@type"].length&&he["@type"][0]===_)&&(Ne.push(he[B][0]),qe.push(he["@id"]),ve=ue[he["@id"]],he=ve.node,Je=ve.property,He=ve.value,kt=Object.keys(he).length,M.isBlankNode(he)););delete He["@id"],He["@list"]=Ne.reverse();for(const ht of qe)delete Ve[ht]}delete Ae.usages}}const Le=[],me=Object.keys(Q).sort();for(const Xe of me){const Ve=Q[Xe];if(Xe in K){const Ae=Ve["@graph"]=[],ve=K[Xe],he=Object.keys(ve).sort();for(const Je of he){const He=ve[Je];M.isSubjectReference(He)||Ae.push(He)}}M.isSubjectReference(Ve)||Le.push(Ve)}return Le});return function(z,L){return ce.apply(this,arguments)}}()},9094:(Pe,Re,j)=>{"use strict";const H=j(2353),N={};Pe.exports=N,N.isSubject=M=>!(!H.isObject(M)||"@value"in M||"@set"in M||"@list"in M)&&(Object.keys(M).length>1||!("@id"in M)),N.isSubjectReference=M=>H.isObject(M)&&1===Object.keys(M).length&&"@id"in M,N.isValue=M=>H.isObject(M)&&"@value"in M,N.isList=M=>H.isObject(M)&&"@list"in M,N.isGraph=M=>H.isObject(M)&&"@graph"in M&&1===Object.keys(M).filter(C=>"@id"!==C&&"@index"!==C).length,N.isSimpleGraph=M=>N.isGraph(M)&&!("@id"in M),N.isBlankNode=M=>{if(H.isObject(M)){if("@id"in M){const C=M["@id"];return!H.isString(C)||0===C.indexOf("_:")}return 0===Object.keys(M).length||!("@value"in M||"@set"in M||"@list"in M)}return!1}},5049:(Pe,Re,j)=>{var H=j(9344).default;const N=j(4308),M=j(2363),C=j(4249),R=j(4918),D=C.IdentifierIssuer,T=j(3327),_=j(5943),B=j(3865),{expand:F}=j(554),{flatten:Y}=j(7613),{fromRDF:ee}=j(2216),{toRDF:V}=j(5671),{frameMergedOrDefault:G,cleanupNull:oe}=j(1938),{isArray:q,isObject:le,isString:J}=j(2353),{isSubjectReference:ke}=j(9094),{expandIri:ce,getInitialContext:z,process:L,processingMode:Q}=j(2134),{compact:K,compactIri:ue}=j(9857),{createNodeMap:ge,createMergedNodeMap:ie,mergeNodeMaps:be}=j(5057),{logEventHandler:Le,logWarningEventHandler:me,safeEventHandler:Xe,setDefaultEventHandler:Ve,setupEventHandler:Ae,strictEventHandler:ve,unhandledEventHandler:he}=j(5775),Je=function(Ne){const qe={},ht=new _({max:100});function ot(lt,{documentLoader:je=Ne.documentLoader,...we}){if(lt&&"compactionMap"in lt)throw new T('"compactionMap" not supported.',"jsonld.OptionsError");if(lt&&"expansionMap"in lt)throw new T('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:je},we,lt,{eventHandler:Ae({options:lt})})}return Ne.compact=function(){var lt=H(function*(je,we,Qe){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===we)throw new T("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===je)return null;let ct;(Qe=ot(Qe,{base:J(je)?je:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new D("_:b"),contextResolver:new R({sharedCache:ht})})).link&&(Qe.skipExpansion=!0),Qe.compactToRelative||delete Qe.base,ct=Qe.skipExpansion?je:yield Ne.expand(je,Qe);const _t=yield Ne.processContext(z(Qe),we,Qe);let dt=yield K({activeCtx:_t,element:ct,options:Qe});Qe.compactArrays&&!Qe.graph&&q(dt)?1===dt.length?dt=dt[0]:0===dt.length&&(dt={}):Qe.graph&&le(dt)&&(dt=[dt]),le(we)&&"@context"in we&&(we=we["@context"]),we=C.clone(we),q(we)||(we=[we]);const It=we;we=[];for(let Mt=0;Mt<It.length;++Mt)(!le(It[Mt])||Object.keys(It[Mt]).length>0)&&we.push(It[Mt]);const Kt=we.length>0;if(1===we.length&&(we=we[0]),q(dt)){const Mt=ue({activeCtx:_t,iri:"@graph",relativeTo:{vocab:!0}}),en=dt;dt={},Kt&&(dt["@context"]=we),dt[Mt]=en}else if(le(dt)&&Kt){const Mt=dt;dt={"@context":we};for(const en in Mt)dt[en]=Mt[en]}return dt});return function(je,we,Qe){return lt.apply(this,arguments)}}(),Ne.expand=function(){var lt=H(function*(je,we){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const Qe={},ct=[];if("expandContext"in(we=ot(we,{keepFreeFloatingNodes:!1,contextResolver:new R({sharedCache:ht})}))){const Kt=C.clone(we.expandContext);Qe.expandContext=le(Kt)&&"@context"in Kt?Kt:{"@context":Kt},ct.push(Qe.expandContext)}let _t;if(J(je)){const Kt=yield Ne.get(je,we);_t=Kt.documentUrl,Qe.input=Kt.document,Kt.contextUrl&&(Qe.remoteContext={"@context":Kt.contextUrl},ct.push(Qe.remoteContext))}else Qe.input=C.clone(je);"base"in we||(we.base=_t||"");let dt=z(we);for(const Kt of ct)dt=yield L({activeCtx:dt,localCtx:Kt,options:we});let It=yield F({activeCtx:dt,element:Qe.input,options:we});return le(It)&&"@graph"in It&&1===Object.keys(It).length?It=It["@graph"]:null===It&&(It=[]),q(It)||(It=[It]),It});return function(je,we){return lt.apply(this,arguments)}}(),Ne.flatten=function(){var lt=H(function*(je,we,Qe){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");we="function"==typeof we?null:we||null,Qe=ot(Qe,{base:J(je)?je:"",contextResolver:new R({sharedCache:ht})});const ct=yield Ne.expand(je,Qe),_t=Y(ct);return null===we?_t:(Qe.graph=!0,Qe.skipExpansion=!0,yield Ne.compact(_t,we,Qe))});return function(je,we,Qe){return lt.apply(this,arguments)}}(),Ne.frame=function(){var lt=H(function*(je,we,Qe){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(Qe=ot(Qe,{base:J(je)?je:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new R({sharedCache:ht})}),J(we)){const Bn=yield Ne.get(we,Qe);if(we=Bn.document,Bn.contextUrl){let dr=we["@context"];dr?q(dr)?dr.push(Bn.contextUrl):dr=[dr,Bn.contextUrl]:dr=Bn.contextUrl,we["@context"]=dr}}const ct=we&&we["@context"]||{},_t=yield Ne.processContext(z(Qe),ct,Qe);Qe.hasOwnProperty("omitGraph")||(Qe.omitGraph=Q(_t,1.1)),Qe.hasOwnProperty("pruneBlankNodeIdentifiers")||(Qe.pruneBlankNodeIdentifiers=Q(_t,1.1));const dt=yield Ne.expand(je,Qe),It={...Qe};It.isFrame=!0,It.keepFreeFloatingNodes=!0;const Kt=yield Ne.expand(we,It),Mt=Object.keys(we).map(Bn=>ce(_t,Bn,{vocab:!0}));It.merged=!Mt.includes("@graph"),It.is11=Q(_t,1.1);const en=G(dt,Kt,It);It.graph=!Qe.omitGraph,It.skipExpansion=!0,It.link={},It.framing=!0;let on=yield Ne.compact(en,ct,It);return It.link={},on=oe(on,It),on});return function(je,we,Qe){return lt.apply(this,arguments)}}(),Ne.link=function(){var lt=H(function*(je,we,Qe){const ct={};return we&&(ct["@context"]=we),ct["@embed"]="@link",Ne.frame(je,ct,Qe)});return function(je,we,Qe){return lt.apply(this,arguments)}}(),Ne.normalize=Ne.canonize=function(){var lt=H(function*(je,we){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(we=ot(we,{base:J(je)?je:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new R({sharedCache:ht})}))){if("application/n-quads"!==we.inputFormat&&"application/nquads"!==we.inputFormat)throw new T("Unknown canonicalization input format.","jsonld.CanonizeError");const _t=B.parse(je);return N.canonize(_t,we)}const Qe={...we};delete Qe.format,Qe.produceGeneralizedRdf=!1;const ct=yield Ne.toRDF(je,Qe);return N.canonize(ct,we)});return function(je,we){return lt.apply(this,arguments)}}(),Ne.fromRDF=function(){var lt=H(function*(je,we){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");we=ot(we,{format:J(je)?"application/n-quads":void 0});const{format:Qe}=we;let{rdfParser:ct}=we;if(Qe){if(ct=ct||qe[Qe],!ct)throw new T("Unknown input format.","jsonld.UnknownFormat",{format:Qe})}else ct=()=>je;const _t=yield ct(je);return ee(_t,we)});return function(je,we){return lt.apply(this,arguments)}}(),Ne.toRDF=function(){var lt=H(function*(je,we){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let Qe;Qe=(we=ot(we,{base:J(je)?je:"",skipExpansion:!1,contextResolver:new R({sharedCache:ht})})).skipExpansion?je:yield Ne.expand(je,we);const ct=V(Qe,we);if(we.format){if("application/n-quads"===we.format||"application/nquads"===we.format)return B.serialize(ct);throw new T("Unknown output format.","jsonld.UnknownFormat",{format:we.format})}return ct});return function(je,we){return lt.apply(this,arguments)}}(),Ne.createNodeMap=function(){var lt=H(function*(je,we){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");we=ot(we,{base:J(je)?je:"",contextResolver:new R({sharedCache:ht})});const Qe=yield Ne.expand(je,we);return ie(Qe,we)});return function(je,we){return lt.apply(this,arguments)}}(),Ne.merge=function(){var lt=H(function*(je,we,Qe){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!q(je))throw new TypeError('Could not merge, "docs" must be an array.');we="function"==typeof we?null:we||null,Qe=ot(Qe,{contextResolver:new R({sharedCache:ht})});const ct=yield Promise.all(je.map(Bn=>{const dr={...Qe};return Ne.expand(Bn,dr)}));let _t=!0;"mergeNodes"in Qe&&(_t=Qe.mergeNodes);const dt=Qe.issuer||new D("_:b"),It={"@default":{}};for(let Bn=0;Bn<ct.length;++Bn){const dr=C.relabelBlankNodes(ct[Bn],{issuer:new D("_:b"+Bn+"-")}),lr=_t||0===Bn?It:{"@default":{}};if(ge(dr,lr,"@default",dt),lr!==It)for(const Hr in lr){const ti=lr[Hr];if(!(Hr in It)){It[Hr]=ti;continue}const fs=It[Hr];for(const hs in ti)hs in fs||(fs[hs]=ti[hs])}}const Kt=be(It),Mt=[],en=Object.keys(Kt).sort();for(let Bn=0;Bn<en.length;++Bn){const dr=Kt[en[Bn]];ke(dr)||Mt.push(dr)}return null===we?Mt:(Qe.graph=!0,Qe.skipExpansion=!0,yield Ne.compact(Mt,we,Qe))});return function(je,we,Qe){return lt.apply(this,arguments)}}(),Object.defineProperty(Ne,"documentLoader",{get:()=>Ne._documentLoader,set:lt=>Ne._documentLoader=lt}),Ne.documentLoader=function(){var lt=H(function*(je){throw new T("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:je})});return function(je){return lt.apply(this,arguments)}}(),Ne.get=function(){var lt=H(function*(je,we){let Qe;Qe="function"==typeof we.documentLoader?we.documentLoader:Ne.documentLoader;const ct=yield Qe(je);try{if(!ct.document)throw new T("No remote document found at the given URL.","jsonld.NullRemoteDocument");J(ct.document)&&(ct.document=JSON.parse(ct.document))}catch(_t){throw new T("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:_t,remoteDoc:ct})}return ct});return function(je,we){return lt.apply(this,arguments)}}(),Ne.processContext=function(){var lt=H(function*(je,we,Qe){return Qe=ot(Qe,{base:"",contextResolver:new R({sharedCache:ht})}),null===we?z(Qe):(we=C.clone(we),le(we)&&"@context"in we||(we={"@context":we}),L({activeCtx:je,localCtx:we,options:Qe}))});return function(je,we,Qe){return lt.apply(this,arguments)}}(),Ne.getContextValue=j(2134).getContextValue,Ne.documentLoaders={},Ne.useDocumentLoader=function(lt){if(!(lt in Ne.documentLoaders))throw new T('Unknown document loader type: "'+lt+'"',"jsonld.UnknownDocumentLoader",{type:lt});Ne.documentLoader=Ne.documentLoaders[lt].apply(Ne,Array.prototype.slice.call(arguments,1))},Ne.registerRDFParser=function(lt,je){qe[lt]=je},Ne.unregisterRDFParser=function(lt){delete qe[lt]},Ne.registerRDFParser("application/n-quads",B.parse),Ne.registerRDFParser("application/nquads",B.parse),Ne.url=j(4920),Ne.logEventHandler=Le,Ne.logWarningEventHandler=me,Ne.safeEventHandler=Xe,Ne.setDefaultEventHandler=Ve,Ne.strictEventHandler=ve,Ne.unhandledEventHandler=he,Ne.util=C,Object.assign(Ne,C),Ne.promises=Ne,Ne.RequestQueue=j(2210),Ne.JsonLdProcessor=j(779)(Ne),M.setupGlobals(Ne),M.setupDocumentLoaders(Ne),Ne},He=function(){return Je(function(){return He()})};Je(He),Pe.exports=He},5057:(Pe,Re,j)=>{"use strict";const{isKeyword:H}=j(2134),N=j(9094),M=j(2353),C=j(4249),R=j(3327),D={};Pe.exports=D,D.createMergedNodeMap=(T,_)=>{const B=(_=_||{}).issuer||new C.IdentifierIssuer("_:b"),F={"@default":{}};return D.createNodeMap(T,F,"@default",B),D.mergeNodeMaps(F)},D.createNodeMap=(T,_,B,F,Y,ee)=>{if(M.isArray(T)){for(const q of T)D.createNodeMap(q,_,B,F,void 0,ee);return}if(!M.isObject(T))return void(ee&&ee.push(T));if(N.isValue(T)){if("@type"in T){let q=T["@type"];0===q.indexOf("_:")&&(T["@type"]=q=F.getId(q))}return void(ee&&ee.push(T))}if(ee&&N.isList(T)){const q=[];return D.createNodeMap(T["@list"],_,B,F,Y,q),void ee.push({"@list":q})}if("@type"in T){const q=T["@type"];for(const le of q)0===le.indexOf("_:")&&F.getId(le)}M.isUndefined(Y)&&(Y=N.isBlankNode(T)?F.getId(T["@id"]):T["@id"]),ee&&ee.push({"@id":Y});const V=_[B],G=V[Y]=V[Y]||{};G["@id"]=Y;const oe=Object.keys(T).sort();for(let q of oe){if("@id"===q)continue;if("@reverse"===q){const J={"@id":Y},ke=T["@reverse"];for(const ce in ke){const z=ke[ce];for(const L of z){let Q=L["@id"];N.isBlankNode(L)&&(Q=F.getId(Q)),D.createNodeMap(L,_,B,F,Q),C.addValue(V[Q],ce,J,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===q){Y in _||(_[Y]={}),D.createNodeMap(T[q],_,Y,F);continue}if("@included"===q){D.createNodeMap(T[q],_,B,F);continue}if("@type"!==q&&H(q)){if("@index"===q&&q in G&&(T[q]!==G[q]||T[q]["@id"]!==G[q]["@id"]))throw new R("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:G});G[q]=T[q];continue}const le=T[q];if(0===q.indexOf("_:")&&(q=F.getId(q)),0!==le.length)for(let J of le)if("@type"===q&&(J=0===J.indexOf("_:")?F.getId(J):J),N.isSubject(J)||N.isSubjectReference(J)){if("@id"in J&&!J["@id"])continue;const ke=N.isBlankNode(J)?F.getId(J["@id"]):J["@id"];C.addValue(G,q,{"@id":ke},{propertyIsArray:!0,allowDuplicate:!1}),D.createNodeMap(J,_,B,F,ke)}else if(N.isValue(J))C.addValue(G,q,J,{propertyIsArray:!0,allowDuplicate:!1});else if(N.isList(J)){const ke=[];D.createNodeMap(J["@list"],_,B,F,Y,ke),J={"@list":ke},C.addValue(G,q,J,{propertyIsArray:!0,allowDuplicate:!1})}else D.createNodeMap(J,_,B,F,Y),C.addValue(G,q,J,{propertyIsArray:!0,allowDuplicate:!1});else C.addValue(G,q,[],{propertyIsArray:!0})}},D.mergeNodeMapGraphs=T=>{const _={};for(const B of Object.keys(T).sort())for(const F of Object.keys(T[B]).sort()){const Y=T[B][F];F in _||(_[F]={"@id":F});const ee=_[F];for(const V of Object.keys(Y).sort())if(H(V)&&"@type"!==V)ee[V]=C.clone(Y[V]);else for(const G of Y[V])C.addValue(ee,V,C.clone(G),{propertyIsArray:!0,allowDuplicate:!1})}return _},D.mergeNodeMaps=T=>{const _=T["@default"],B=Object.keys(T).sort();for(const F of B){if("@default"===F)continue;const Y=T[F];let ee=_[F];ee?"@graph"in ee||(ee["@graph"]=[]):_[F]=ee={"@id":F,"@graph":[]};const V=ee["@graph"];for(const G of Object.keys(Y).sort()){const oe=Y[G];N.isSubjectReference(oe)||V.push(oe)}}return _}},2363:(Pe,Re,j)=>{"use strict";const H=j(8719),N={};Pe.exports=N,N.setupDocumentLoaders=function(M){typeof XMLHttpRequest<"u"&&(M.documentLoaders.xhr=H,M.useDocumentLoader("xhr"))},N.setupGlobals=function(M){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:M.JsonLdProcessor})}},5671:(Pe,Re,j)=>{"use strict";const{createNodeMap:H}=j(5057),{isKeyword:N}=j(2134),M=j(9094),C=j(5423),R=j(2353),D=j(4249),{handleEvent:T}=j(5775),{RDF_FIRST:_,RDF_REST:B,RDF_NIL:F,RDF_TYPE:Y,RDF_JSON_LITERAL:ee,RDF_LANGSTRING:V,XSD_BOOLEAN:G,XSD_DOUBLE:oe,XSD_INTEGER:q,XSD_STRING:le}=j(313),{isAbsolute:J}=j(4920),ke={};function ce(Q,K,ue,ge,ie){const be=Object.keys(K).sort();for(const Le of be){const me=K[Le],Xe=Object.keys(me).sort();for(let Ve of Xe){const Ae=me[Ve];if("@type"===Ve)Ve=Y;else if(N(Ve))continue;for(const ve of Ae){const he={termType:Le.startsWith("_:")?"BlankNode":"NamedNode",value:Le};if(!J(Le)){ie.eventHandler&&T({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:Le}},options:ie});continue}const Je={termType:Ve.startsWith("_:")?"BlankNode":"NamedNode",value:Ve};if(!J(Ve)){ie.eventHandler&&T({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:Ve}},options:ie});continue}if("BlankNode"===Je.termType&&!ie.produceGeneralizedRdf){ie.eventHandler&&T({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:ge.getOldIds().find(Ne=>ge.getId(Ne)===Ve)}},options:ie});continue}const He=L(ve,ge,Q,ue,ie.rdfDirection,ie);He&&Q.push({subject:he,predicate:Je,object:He,graph:ue})}}}}function L(Q,K,ue,ge,ie,be){const Le={};if(M.isValue(Q)){Le.termType="Literal",Le.value=void 0,Le.datatype={termType:"NamedNode"};let me=Q["@value"];const Xe=Q["@type"]||null;"@json"===Xe?(Le.value=C(me),Le.datatype.value=ee):R.isBoolean(me)?(Le.value=me.toString(),Le.datatype.value=Xe||G):R.isDouble(me)||Xe===oe?(R.isDouble(me)||(me=parseFloat(me)),Le.value=me.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),Le.datatype.value=Xe||oe):R.isNumber(me)?(Le.value=me.toFixed(0),Le.datatype.value=Xe||q):"i18n-datatype"===ie&&"@direction"in Q?(Le.datatype.value="https://www.w3.org/ns/i18n#"+(Q["@language"]||"")+`_${Q["@direction"]}`,Le.value=me):"@language"in Q?(Le.value=me,Le.datatype.value=Xe||V,Le.language=Q["@language"]):(Le.value=me,Le.datatype.value=Xe||le)}else if(M.isList(Q)){const me=function z(Q,K,ue,ge,ie,be){const Le={termType:"NamedNode",value:_},me={termType:"NamedNode",value:B},Xe={termType:"NamedNode",value:F},Ve=Q.pop(),Ae=Ve?{termType:"BlankNode",value:K.getId()}:Xe;let ve=Ae;for(const he of Q){const Je=L(he,K,ue,ge,ie,be),He={termType:"BlankNode",value:K.getId()};ue.push({subject:ve,predicate:Le,object:Je,graph:ge}),ue.push({subject:ve,predicate:me,object:He,graph:ge}),ve=He}if(Ve){const he=L(Ve,K,ue,ge,ie,be);ue.push({subject:ve,predicate:Le,object:he,graph:ge}),ue.push({subject:ve,predicate:me,object:Xe,graph:ge})}return Ae}(Q["@list"],K,ue,ge,ie,be);Le.termType=me.termType,Le.value=me.value}else{const me=R.isObject(Q)?Q["@id"]:Q;Le.termType=me.startsWith("_:")?"BlankNode":"NamedNode",Le.value=me}return"NamedNode"!==Le.termType||J(Le.value)?Le:(be.eventHandler&&T({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:Le.value}},options:be}),null)}Pe.exports=ke,ke.toRDF=(Q,K)=>{const ue=new D.IdentifierIssuer("_:b"),ge={"@default":{}};H(Q,ge,"@default",ue);const ie=[],be=Object.keys(ge).sort();for(const Le of be){let me;if("@default"===Le)me={termType:"DefaultGraph",value:""};else{if(!J(Le)){K.eventHandler&&T({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:Le}},options:K});continue}me=Le.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},me.value=Le}ce(ie,ge[Le],me,ue,K)}return ie}},2353:Pe=>{"use strict";const Re={};Pe.exports=Re,Re.isArray=Array.isArray,Re.isBoolean=j=>"boolean"==typeof j||"[object Boolean]"===Object.prototype.toString.call(j),Re.isDouble=j=>Re.isNumber(j)&&(-1!==String(j).indexOf(".")||Math.abs(j)>=1e21),Re.isEmptyObject=j=>Re.isObject(j)&&0===Object.keys(j).length,Re.isNumber=j=>"number"==typeof j||"[object Number]"===Object.prototype.toString.call(j),Re.isNumeric=j=>!isNaN(parseFloat(j))&&isFinite(j),Re.isObject=j=>"[object Object]"===Object.prototype.toString.call(j),Re.isString=j=>"string"==typeof j||"[object String]"===Object.prototype.toString.call(j),Re.isUndefined=j=>typeof j>"u"},4920:(Pe,Re,j)=>{"use strict";const H=j(2353),N={};Pe.exports=N,N.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},N.parse=(C,R)=>{const D={},T=N.parsers[R||"full"],_=T.regex.exec(C);let B=T.keys.length;for(;B--;)D[T.keys[B]]=void 0===_[B]?null:_[B];return("https"===D.scheme&&"443"===D.port||"http"===D.scheme&&"80"===D.port)&&(D.href=D.href.replace(":"+D.port,""),D.authority=D.authority.replace(":"+D.port,""),D.port=null),D.normalizedPath=N.removeDotSegments(D.path),D},N.prependBase=(C,R)=>{if(null===C||N.isAbsolute(R))return R;(!C||H.isString(C))&&(C=N.parse(C||""));const D=N.parse(R),T={protocol:C.protocol||""};if(null!==D.authority)T.authority=D.authority,T.path=D.path,T.query=D.query;else if(T.authority=C.authority,""===D.path)T.path=C.path,T.query=null!==D.query?D.query:C.query;else{if(0===D.path.indexOf("/"))T.path=D.path;else{let B=C.path;B=B.substr(0,B.lastIndexOf("/")+1),(B.length>0||C.authority)&&"/"!==B.substr(-1)&&(B+="/"),B+=D.path,T.path=B}T.query=D.query}""!==D.path&&(T.path=N.removeDotSegments(T.path));let _=T.protocol;return null!==T.authority&&(_+="//"+T.authority),_+=T.path,null!==T.query&&(_+="?"+T.query),null!==D.fragment&&(_+="#"+D.fragment),""===_&&(_="./"),_},N.removeBase=(C,R)=>{if(null===C)return R;(!C||H.isString(C))&&(C=N.parse(C||""));let D="";if(""!==C.href?D+=(C.protocol||"")+"//"+(C.authority||""):R.indexOf("//")&&(D+="//"),0!==R.indexOf(D))return R;const T=N.parse(R.substr(D.length)),_=C.normalizedPath.split("/"),B=T.normalizedPath.split("/"),F=T.fragment||T.query?0:1;for(;_.length>0&&B.length>F&&_[0]===B[0];)_.shift(),B.shift();let Y="";if(_.length>0){_.pop();for(let ee=0;ee<_.length;++ee)Y+="../"}return Y+=B.join("/"),null!==T.query&&(Y+="?"+T.query),null!==T.fragment&&(Y+="#"+T.fragment),""===Y&&(Y="./"),Y},N.removeDotSegments=C=>{if(0===C.length)return"";const R=C.split("/"),D=[];for(;R.length>0;){const T=R.shift(),_=0===R.length;"."!==T?".."!==T?D.push(T):(D.pop(),_&&D.push("")):_&&D.push("")}return"/"===C[0]&&D.length>0&&""!==D[0]&&D.unshift(""),1===D.length&&""===D[0]?"/":D.join("/")};const M=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;N.isAbsolute=C=>H.isString(C)&&M.test(C),N.isRelative=C=>H.isString(C)},4249:(Pe,Re,j)=>{"use strict";const H=j(9094),N=j(2353),M=j(4308).IdentifierIssuer,C=j(3327),D=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,T=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,_=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,F_headers_accept="application/ld+json, application/json",Y={};function ee(V,G){if(N.isArray(G))for(let oe=0;oe<G.length;++oe)G[oe]=ee(V,G[oe]);else if(H.isList(G))G["@list"]=ee(V,G["@list"]);else if(N.isObject(G)){H.isBlankNode(G)&&(G["@id"]=V.getId(G["@id"]));const oe=Object.keys(G).sort();for(let q=0;q<oe.length;++q){const le=oe[q];"@id"!==le&&(G[le]=ee(V,G[le]))}}return G}Pe.exports=Y,Y.IdentifierIssuer=M,Y.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,Y.REGEX_KEYWORD=/^@[a-zA-Z]+$/,Y.clone=function(V){if(V&&"object"==typeof V){let G;if(N.isArray(V)){G=[];for(let oe=0;oe<V.length;++oe)G[oe]=Y.clone(V[oe])}else if(V instanceof Map){G=new Map;for(const[oe,q]of V)G.set(oe,Y.clone(q))}else if(V instanceof Set){G=new Set;for(const oe of V)G.add(Y.clone(oe))}else if(N.isObject(V)){G={};for(const oe in V)G[oe]=Y.clone(V[oe])}else G=V.toString();return G}return V},Y.asArray=function(V){return Array.isArray(V)?V:[V]},Y.buildHeaders=(V={})=>{if(Object.keys(V).some(oe=>"accept"===oe.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+F_headers_accept+'" is supported.');return Object.assign({Accept:F_headers_accept},V)},Y.parseLinkHeader=V=>{const G={},oe=V.match(D);for(let q=0;q<oe.length;++q){let le=oe[q].match(T);if(!le)continue;const J={target:le[1]},ke=le[2];for(;le=_.exec(ke);)J[le[1]]=void 0===le[2]?le[3]:le[2];const ce=J.rel||"";Array.isArray(G[ce])?G[ce].push(J):G[ce]=G.hasOwnProperty(ce)?[G[ce],J]:J}return G},Y.validateTypeValue=(V,G)=>{if(!(N.isString(V)||N.isArray(V)&&V.every(oe=>N.isString(oe)))){if(G&&N.isObject(V))switch(Object.keys(V).length){case 0:return;case 1:if("@default"in V&&Y.asArray(V["@default"]).every(oe=>N.isString(oe)))return}throw new C('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:V})}},Y.hasProperty=(V,G)=>{if(V.hasOwnProperty(G)){const oe=V[G];return!N.isArray(oe)||oe.length>0}return!1},Y.hasValue=(V,G,oe)=>{if(Y.hasProperty(V,G)){let q=V[G];const le=H.isList(q);if(N.isArray(q)||le){le&&(q=q["@list"]);for(let J=0;J<q.length;++J)if(Y.compareValues(oe,q[J]))return!0}else if(!N.isArray(oe))return Y.compareValues(oe,q)}return!1},Y.addValue=(V,G,oe,q)=>{if("propertyIsArray"in(q=q||{})||(q.propertyIsArray=!1),"valueIsArray"in q||(q.valueIsArray=!1),"allowDuplicate"in q||(q.allowDuplicate=!0),"prependValue"in q||(q.prependValue=!1),q.valueIsArray)V[G]=oe;else if(N.isArray(oe)){0===oe.length&&q.propertyIsArray&&!V.hasOwnProperty(G)&&(V[G]=[]),q.prependValue&&(oe=oe.concat(V[G]),V[G]=[]);for(let le=0;le<oe.length;++le)Y.addValue(V,G,oe[le],q)}else if(V.hasOwnProperty(G)){const le=!q.allowDuplicate&&Y.hasValue(V,G,oe);!N.isArray(V[G])&&(!le||q.propertyIsArray)&&(V[G]=[V[G]]),le||(q.prependValue?V[G].unshift(oe):V[G].push(oe))}else V[G]=q.propertyIsArray?[oe]:oe},Y.getValues=(V,G)=>[].concat(V[G]||[]),Y.removeProperty=(V,G)=>{delete V[G]},Y.removeValue=(V,G,oe,q)=>{"propertyIsArray"in(q=q||{})||(q.propertyIsArray=!1);const le=Y.getValues(V,G).filter(J=>!Y.compareValues(J,oe));0===le.length?Y.removeProperty(V,G):V[G]=1!==le.length||q.propertyIsArray?le:le[0]},Y.relabelBlankNodes=(V,G)=>ee((G=G||{}).issuer||new M("_:b"),V),Y.compareValues=(V,G)=>!!(V===G||H.isValue(V)&&H.isValue(G)&&V["@value"]===G["@value"]&&V["@type"]===G["@type"]&&V["@language"]===G["@language"]&&V["@index"]===G["@index"])||!!(N.isObject(V)&&"@id"in V&&N.isObject(G)&&"@id"in G)&&V["@id"]===G["@id"],Y.compareShortestLeast=(V,G)=>V.length<G.length?-1:G.length<V.length?1:V===G?0:V<G?-1:1},5943:(Pe,Re,j)=>{"use strict";const H=j(1245),N=Symbol("max"),M=Symbol("length"),C=Symbol("lengthCalculator"),R=Symbol("allowStale"),D=Symbol("maxAge"),T=Symbol("dispose"),_=Symbol("noDisposeOnSet"),B=Symbol("lruList"),F=Symbol("cache"),Y=Symbol("updateAgeOnGet"),ee=()=>1,G=(ce,z,L)=>{const Q=ce[F].get(z);if(Q){const K=Q.value;if(oe(ce,K)){if(le(ce,Q),!ce[R])return}else L&&(ce[Y]&&(Q.value.now=Date.now()),ce[B].unshiftNode(Q));return K.value}},oe=(ce,z)=>{if(!z||!z.maxAge&&!ce[D])return!1;const L=Date.now()-z.now;return z.maxAge?L>z.maxAge:ce[D]&&L>ce[D]},q=ce=>{if(ce[M]>ce[N])for(let z=ce[B].tail;ce[M]>ce[N]&&null!==z;){const L=z.prev;le(ce,z),z=L}},le=(ce,z)=>{if(z){const L=z.value;ce[T]&&ce[T](L.key,L.value),ce[M]-=L.length,ce[F].delete(L.key),ce[B].removeNode(z)}};class J{constructor(z,L,Q,K,ue){this.key=z,this.value=L,this.length=Q,this.now=K,this.maxAge=ue||0}}const ke=(ce,z,L,Q)=>{let K=L.value;oe(ce,K)&&(le(ce,L),ce[R]||(K=void 0)),K&&z.call(Q,K.value,K.key,ce)};Pe.exports=class V{constructor(z){if("number"==typeof z&&(z={max:z}),z||(z={}),z.max&&("number"!=typeof z.max||z.max<0))throw new TypeError("max must be a non-negative number");this[N]=z.max||1/0;const Q=z.length||ee;if(this[C]="function"!=typeof Q?ee:Q,this[R]=z.stale||!1,z.maxAge&&"number"!=typeof z.maxAge)throw new TypeError("maxAge must be a number");this[D]=z.maxAge||0,this[T]=z.dispose,this[_]=z.noDisposeOnSet||!1,this[Y]=z.updateAgeOnGet||!1,this.reset()}set max(z){if("number"!=typeof z||z<0)throw new TypeError("max must be a non-negative number");this[N]=z||1/0,q(this)}get max(){return this[N]}set allowStale(z){this[R]=!!z}get allowStale(){return this[R]}set maxAge(z){if("number"!=typeof z)throw new TypeError("maxAge must be a non-negative number");this[D]=z,q(this)}get maxAge(){return this[D]}set lengthCalculator(z){"function"!=typeof z&&(z=ee),z!==this[C]&&(this[C]=z,this[M]=0,this[B].forEach(L=>{L.length=this[C](L.value,L.key),this[M]+=L.length})),q(this)}get lengthCalculator(){return this[C]}get length(){return this[M]}get itemCount(){return this[B].length}rforEach(z,L){L=L||this;for(let Q=this[B].tail;null!==Q;){const K=Q.prev;ke(this,z,Q,L),Q=K}}forEach(z,L){L=L||this;for(let Q=this[B].head;null!==Q;){const K=Q.next;ke(this,z,Q,L),Q=K}}keys(){return this[B].toArray().map(z=>z.key)}values(){return this[B].toArray().map(z=>z.value)}reset(){this[T]&&this[B]&&this[B].length&&this[B].forEach(z=>this[T](z.key,z.value)),this[F]=new Map,this[B]=new H,this[M]=0}dump(){return this[B].map(z=>!oe(this,z)&&{k:z.key,v:z.value,e:z.now+(z.maxAge||0)}).toArray().filter(z=>z)}dumpLru(){return this[B]}set(z,L,Q){if((Q=Q||this[D])&&"number"!=typeof Q)throw new TypeError("maxAge must be a number");const K=Q?Date.now():0,ue=this[C](L,z);if(this[F].has(z)){if(ue>this[N])return le(this,this[F].get(z)),!1;const be=this[F].get(z).value;return this[T]&&(this[_]||this[T](z,be.value)),be.now=K,be.maxAge=Q,be.value=L,this[M]+=ue-be.length,be.length=ue,this.get(z),q(this),!0}const ge=new J(z,L,ue,K,Q);return ge.length>this[N]?(this[T]&&this[T](z,L),!1):(this[M]+=ge.length,this[B].unshift(ge),this[F].set(z,this[B].head),q(this),!0)}has(z){if(!this[F].has(z))return!1;const L=this[F].get(z).value;return!oe(this,L)}get(z){return G(this,z,!0)}peek(z){return G(this,z,!1)}pop(){const z=this[B].tail;return z?(le(this,z),z.value):null}del(z){le(this,this[F].get(z))}load(z){this.reset();const L=Date.now();for(let Q=z.length-1;Q>=0;Q--){const K=z[Q],ue=K.e||0;if(0===ue)this.set(K.k,K.v);else{const ge=ue-L;ge>0&&this.set(K.k,K.v,ge)}}}prune(){this[F].forEach((z,L)=>G(this,L,!1))}}},6023:Pe=>{"use strict";Pe.exports=function(Re){Re.prototype[Symbol.iterator]=function*(){for(let j=this.head;j;j=j.next)yield j.value}}},1245:(Pe,Re,j)=>{"use strict";function H(D){var T=this;if(T instanceof H||(T=new H),T.tail=null,T.head=null,T.length=0,D&&"function"==typeof D.forEach)D.forEach(function(F){T.push(F)});else if(arguments.length>0)for(var _=0,B=arguments.length;_<B;_++)T.push(arguments[_]);return T}function N(D,T,_){var B=T===D.head?new R(_,null,T,D):new R(_,T,T.next,D);return null===B.next&&(D.tail=B),null===B.prev&&(D.head=B),D.length++,B}function M(D,T){D.tail=new R(T,D.tail,null,D),D.head||(D.head=D.tail),D.length++}function C(D,T){D.head=new R(T,null,D.head,D),D.tail||(D.tail=D.head),D.length++}function R(D,T,_,B){if(!(this instanceof R))return new R(D,T,_,B);this.list=B,this.value=D,T?(T.next=this,this.prev=T):this.prev=null,_?(_.prev=this,this.next=_):this.next=null}Pe.exports=H,H.Node=R,H.create=H,H.prototype.removeNode=function(D){if(D.list!==this)throw new Error("removing node which does not belong to this list");var T=D.next,_=D.prev;return T&&(T.prev=_),_&&(_.next=T),D===this.head&&(this.head=T),D===this.tail&&(this.tail=_),D.list.length--,D.next=null,D.prev=null,D.list=null,T},H.prototype.unshiftNode=function(D){if(D!==this.head){D.list&&D.list.removeNode(D);var T=this.head;D.list=this,D.next=T,T&&(T.prev=D),this.head=D,this.tail||(this.tail=D),this.length++}},H.prototype.pushNode=function(D){if(D!==this.tail){D.list&&D.list.removeNode(D);var T=this.tail;D.list=this,D.prev=T,T&&(T.next=D),this.tail=D,this.head||(this.head=D),this.length++}},H.prototype.push=function(){for(var D=0,T=arguments.length;D<T;D++)M(this,arguments[D]);return this.length},H.prototype.unshift=function(){for(var D=0,T=arguments.length;D<T;D++)C(this,arguments[D]);return this.length},H.prototype.pop=function(){if(this.tail){var D=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,D}},H.prototype.shift=function(){if(this.head){var D=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,D}},H.prototype.forEach=function(D,T){T=T||this;for(var _=this.head,B=0;null!==_;B++)D.call(T,_.value,B,this),_=_.next},H.prototype.forEachReverse=function(D,T){T=T||this;for(var _=this.tail,B=this.length-1;null!==_;B--)D.call(T,_.value,B,this),_=_.prev},H.prototype.get=function(D){for(var T=0,_=this.head;null!==_&&T<D;T++)_=_.next;if(T===D&&null!==_)return _.value},H.prototype.getReverse=function(D){for(var T=0,_=this.tail;null!==_&&T<D;T++)_=_.prev;if(T===D&&null!==_)return _.value},H.prototype.map=function(D,T){T=T||this;for(var _=new H,B=this.head;null!==B;)_.push(D.call(T,B.value,this)),B=B.next;return _},H.prototype.mapReverse=function(D,T){T=T||this;for(var _=new H,B=this.tail;null!==B;)_.push(D.call(T,B.value,this)),B=B.prev;return _},H.prototype.reduce=function(D,T){var _,B=this.head;if(arguments.length>1)_=T;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");B=this.head.next,_=this.head.value}for(var F=0;null!==B;F++)_=D(_,B.value,F),B=B.next;return _},H.prototype.reduceReverse=function(D,T){var _,B=this.tail;if(arguments.length>1)_=T;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");B=this.tail.prev,_=this.tail.value}for(var F=this.length-1;null!==B;F--)_=D(_,B.value,F),B=B.prev;return _},H.prototype.toArray=function(){for(var D=new Array(this.length),T=0,_=this.head;null!==_;T++)D[T]=_.value,_=_.next;return D},H.prototype.toArrayReverse=function(){for(var D=new Array(this.length),T=0,_=this.tail;null!==_;T++)D[T]=_.value,_=_.prev;return D},H.prototype.slice=function(D,T){(T=T||this.length)<0&&(T+=this.length),(D=D||0)<0&&(D+=this.length);var _=new H;if(T<D||T<0)return _;D<0&&(D=0),T>this.length&&(T=this.length);for(var B=0,F=this.head;null!==F&&B<D;B++)F=F.next;for(;null!==F&&B<T;B++,F=F.next)_.push(F.value);return _},H.prototype.sliceReverse=function(D,T){(T=T||this.length)<0&&(T+=this.length),(D=D||0)<0&&(D+=this.length);var _=new H;if(T<D||T<0)return _;D<0&&(D=0),T>this.length&&(T=this.length);for(var B=this.length,F=this.tail;null!==F&&B>T;B--)F=F.prev;for(;null!==F&&B>D;B--,F=F.prev)_.push(F.value);return _},H.prototype.splice=function(D,T,..._){D>this.length&&(D=this.length-1),D<0&&(D=this.length+D);for(var B=0,F=this.head;null!==F&&B<D;B++)F=F.next;var Y=[];for(B=0;F&&B<T;B++)Y.push(F.value),F=this.removeNode(F);for(null===F&&(F=this.tail),F!==this.head&&F!==this.tail&&(F=F.prev),B=0;B<_.length;B++)F=N(this,F,_[B]);return Y},H.prototype.reverse=function(){for(var D=this.head,T=this.tail,_=D;null!==_;_=_.prev){var B=_.prev;_.prev=_.next,_.next=B}return this.head=T,this.tail=D,this};try{j(6023)(H)}catch{}},5982:function(Pe){Pe.exports=function(Re){var j={};function H(N){if(j[N])return j[N].exports;var M=j[N]={i:N,l:!1,exports:{}};return Re[N].call(M.exports,M,M.exports,H),M.l=!0,M.exports}return H.m=Re,H.c=j,H.i=function(N){return N},H.d=function(N,M,C){H.o(N,M)||Object.defineProperty(N,M,{configurable:!1,enumerable:!0,get:C})},H.n=function(N){var M=N&&N.__esModule?function(){return N.default}:function(){return N};return H.d(M,"a",M),M},H.o=function(N,M){return Object.prototype.hasOwnProperty.call(N,M)},H.p="",H(H.s=26)}([function(Re,j,H){"use strict";function N(){}N.QUALITY=1,N.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,N.DEFAULT_INCREMENTAL=!1,N.DEFAULT_ANIMATION_ON_LAYOUT=!0,N.DEFAULT_ANIMATION_DURING_LAYOUT=!1,N.DEFAULT_ANIMATION_PERIOD=50,N.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,N.DEFAULT_GRAPH_MARGIN=15,N.NODE_DIMENSIONS_INCLUDE_LABELS=!1,N.SIMPLE_NODE_HALF_SIZE=(N.SIMPLE_NODE_SIZE=40)/2,N.EMPTY_COMPOUND_NODE_SIZE=40,N.MIN_EDGE_LENGTH=1,N.INITIAL_WORLD_BOUNDARY=(N.WORLD_BOUNDARY=1e6)/1e3,N.WORLD_CENTER_X=1200,N.WORLD_CENTER_Y=900,Re.exports=N},function(Re,j,H){"use strict";var N=H(2),M=H(8),C=H(9);function R(T,_,B){N.call(this,B),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=B,this.bendpoints=[],this.source=T,this.target=_}for(var D in R.prototype=Object.create(N.prototype),N)R[D]=N[D];R.prototype.getSource=function(){return this.source},R.prototype.getTarget=function(){return this.target},R.prototype.isInterGraph=function(){return this.isInterGraph},R.prototype.getLength=function(){return this.length},R.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},R.prototype.getBendpoints=function(){return this.bendpoints},R.prototype.getLca=function(){return this.lca},R.prototype.getSourceInLca=function(){return this.sourceInLca},R.prototype.getTargetInLca=function(){return this.targetInLca},R.prototype.getOtherEnd=function(T){if(this.source===T)return this.target;if(this.target===T)return this.source;throw"Node is not incident with this edge"},R.prototype.getOtherEndInGraph=function(T,_){for(var B=this.getOtherEnd(T),F=_.getGraphManager().getRoot();;){if(B.getOwner()==_)return B;if(B.getOwner()==F)break;B=B.getOwner().getParent()}return null},R.prototype.updateLength=function(){var T=new Array(4);this.isOverlapingSourceAndTarget=M.getIntersection(this.target.getRect(),this.source.getRect(),T),this.isOverlapingSourceAndTarget||(this.lengthX=T[0]-T[2],this.lengthY=T[1]-T[3],Math.abs(this.lengthX)<1&&(this.lengthX=C.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=C.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},R.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=C.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=C.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},Re.exports=R},function(Re,j,H){"use strict";Re.exports=function N(M){this.vGraphObject=M}},function(Re,j,H){"use strict";var N=H(2),M=H(10),C=H(13),R=H(0),D=H(16),T=H(4);function _(F,Y,ee,V){null==ee&&null==V&&(V=Y),N.call(this,V),null!=F.graphManager&&(F=F.graphManager),this.estimatedSize=M.MIN_VALUE,this.inclusionTreeDepth=M.MAX_VALUE,this.vGraphObject=V,this.edges=[],this.graphManager=F,this.rect=null!=ee&&null!=Y?new C(Y.x,Y.y,ee.width,ee.height):new C}for(var B in _.prototype=Object.create(N.prototype),N)_[B]=N[B];_.prototype.getEdges=function(){return this.edges},_.prototype.getChild=function(){return this.child},_.prototype.getOwner=function(){return this.owner},_.prototype.getWidth=function(){return this.rect.width},_.prototype.setWidth=function(F){this.rect.width=F},_.prototype.getHeight=function(){return this.rect.height},_.prototype.setHeight=function(F){this.rect.height=F},_.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},_.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},_.prototype.getCenter=function(){return new T(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},_.prototype.getLocation=function(){return new T(this.rect.x,this.rect.y)},_.prototype.getRect=function(){return this.rect},_.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},_.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},_.prototype.setRect=function(F,Y){this.rect.x=F.x,this.rect.y=F.y,this.rect.width=Y.width,this.rect.height=Y.height},_.prototype.setCenter=function(F,Y){this.rect.x=F-this.rect.width/2,this.rect.y=Y-this.rect.height/2},_.prototype.setLocation=function(F,Y){this.rect.x=F,this.rect.y=Y},_.prototype.moveBy=function(F,Y){this.rect.x+=F,this.rect.y+=Y},_.prototype.getEdgeListToNode=function(F){var Y=[],V=this;return V.edges.forEach(function(G){if(G.target==F){if(G.source!=V)throw"Incorrect edge source!";Y.push(G)}}),Y},_.prototype.getEdgesBetween=function(F){var Y=[],V=this;return V.edges.forEach(function(G){if(G.source!=V&&G.target!=V)throw"Incorrect edge source and/or target";(G.target==F||G.source==F)&&Y.push(G)}),Y},_.prototype.getNeighborsList=function(){var F=new Set,Y=this;return Y.edges.forEach(function(ee){if(ee.source==Y)F.add(ee.target);else{if(ee.target!=Y)throw"Incorrect incidency!";F.add(ee.source)}}),F},_.prototype.withChildren=function(){var F=new Set;if(F.add(this),null!=this.child)for(var V=this.child.getNodes(),G=0;G<V.length;G++)V[G].withChildren().forEach(function(oe){F.add(oe)});return F},_.prototype.getNoOfChildren=function(){var F=0;if(null==this.child)F=1;else for(var ee=this.child.getNodes(),V=0;V<ee.length;V++)F+=ee[V].getNoOfChildren();return 0==F&&(F=1),F},_.prototype.getEstimatedSize=function(){if(this.estimatedSize==M.MIN_VALUE)throw"assert failed";return this.estimatedSize},_.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},_.prototype.scatter=function(){var F,Y,ee=-R.INITIAL_WORLD_BOUNDARY,V=R.INITIAL_WORLD_BOUNDARY;F=R.WORLD_CENTER_X+D.nextDouble()*(V-ee)+ee;var G=-R.INITIAL_WORLD_BOUNDARY,oe=R.INITIAL_WORLD_BOUNDARY;Y=R.WORLD_CENTER_Y+D.nextDouble()*(oe-G)+G,this.rect.x=F,this.rect.y=Y},_.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var F=this.getChild();if(F.updateBounds(!0),this.rect.x=F.getLeft(),this.rect.y=F.getTop(),this.setWidth(F.getRight()-F.getLeft()),this.setHeight(F.getBottom()-F.getTop()),R.NODE_DIMENSIONS_INCLUDE_LABELS){var Y=F.getRight()-F.getLeft(),ee=F.getBottom()-F.getTop();this.labelWidth>Y&&(this.rect.x-=(this.labelWidth-Y)/2,this.setWidth(this.labelWidth)),this.labelHeight>ee&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-ee)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-ee),this.setHeight(this.labelHeight))}}},_.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==M.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},_.prototype.transform=function(F){var Y=this.rect.x;Y>R.WORLD_BOUNDARY?Y=R.WORLD_BOUNDARY:Y<-R.WORLD_BOUNDARY&&(Y=-R.WORLD_BOUNDARY);var ee=this.rect.y;ee>R.WORLD_BOUNDARY?ee=R.WORLD_BOUNDARY:ee<-R.WORLD_BOUNDARY&&(ee=-R.WORLD_BOUNDARY);var V=new T(Y,ee),G=F.inverseTransformPoint(V);this.setLocation(G.x,G.y)},_.prototype.getLeft=function(){return this.rect.x},_.prototype.getRight=function(){return this.rect.x+this.rect.width},_.prototype.getTop=function(){return this.rect.y},_.prototype.getBottom=function(){return this.rect.y+this.rect.height},_.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},Re.exports=_},function(Re,j,H){"use strict";function N(M,C){null==M&&null==C?(this.x=0,this.y=0):(this.x=M,this.y=C)}N.prototype.getX=function(){return this.x},N.prototype.getY=function(){return this.y},N.prototype.setX=function(M){this.x=M},N.prototype.setY=function(M){this.y=M},N.prototype.getDifference=function(M){return new DimensionD(this.x-M.x,this.y-M.y)},N.prototype.getCopy=function(){return new N(this.x,this.y)},N.prototype.translate=function(M){return this.x+=M.width,this.y+=M.height,this},Re.exports=N},function(Re,j,H){"use strict";var N=H(2),M=H(10),C=H(0),R=H(6),D=H(3),T=H(1),_=H(13),B=H(12),F=H(11);function Y(V,G,oe){N.call(this,oe),this.estimatedSize=M.MIN_VALUE,this.margin=C.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=V,null!=G&&G instanceof R?this.graphManager=G:null!=G&&G instanceof Layout&&(this.graphManager=G.graphManager)}for(var ee in Y.prototype=Object.create(N.prototype),N)Y[ee]=N[ee];Y.prototype.getNodes=function(){return this.nodes},Y.prototype.getEdges=function(){return this.edges},Y.prototype.getGraphManager=function(){return this.graphManager},Y.prototype.getParent=function(){return this.parent},Y.prototype.getLeft=function(){return this.left},Y.prototype.getRight=function(){return this.right},Y.prototype.getTop=function(){return this.top},Y.prototype.getBottom=function(){return this.bottom},Y.prototype.isConnected=function(){return this.isConnected},Y.prototype.add=function(V,G,oe){if(null==G&&null==oe){var q=V;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(q)>-1)throw"Node already in graph!";return q.owner=this,this.getNodes().push(q),q}var le=V;if(!(this.getNodes().indexOf(G)>-1&&this.getNodes().indexOf(oe)>-1))throw"Source or target not in graph!";if(G.owner!=oe.owner||G.owner!=this)throw"Both owners must be this graph!";return G.owner!=oe.owner?null:(le.source=G,le.target=oe,le.isInterGraph=!1,this.getEdges().push(le),G.edges.push(le),oe!=G&&oe.edges.push(le),le)},Y.prototype.remove=function(V){var G=V;if(V instanceof D){if(null==G)throw"Node is null!";if(null==G.owner||G.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var oe=G.edges.slice(),le=oe.length,J=0;J<le;J++)(q=oe[J]).isInterGraph?this.graphManager.remove(q):q.source.owner.remove(q);if(-1==(ke=this.nodes.indexOf(G)))throw"Node not in owner node list!";this.nodes.splice(ke,1)}else if(V instanceof T){var q;if(null==(q=V))throw"Edge is null!";if(null==q.source||null==q.target)throw"Source and/or target is null!";if(null==q.source.owner||null==q.target.owner||q.source.owner!=this||q.target.owner!=this)throw"Source and/or target owner is invalid!";var ke,ce=q.source.edges.indexOf(q),z=q.target.edges.indexOf(q);if(!(ce>-1&&z>-1))throw"Source and/or target doesn't know this edge!";if(q.source.edges.splice(ce,1),q.target!=q.source&&q.target.edges.splice(z,1),-1==(ke=q.source.owner.getEdges().indexOf(q)))throw"Not in owner's edge list!";q.source.owner.getEdges().splice(ke,1)}},Y.prototype.updateLeftTop=function(){for(var oe,q,le,V=M.MAX_VALUE,G=M.MAX_VALUE,J=this.getNodes(),ke=J.length,ce=0;ce<ke;ce++){var z=J[ce];V>(oe=z.getTop())&&(V=oe),G>(q=z.getLeft())&&(G=q)}return V==M.MAX_VALUE?null:(le=null!=J[0].getParent().paddingLeft?J[0].getParent().paddingLeft:this.margin,this.left=G-le,this.top=V-le,new B(this.left,this.top))},Y.prototype.updateBounds=function(V){for(var J,ke,ce,z,L,G=M.MAX_VALUE,oe=-M.MAX_VALUE,q=M.MAX_VALUE,le=-M.MAX_VALUE,Q=this.nodes,K=Q.length,ue=0;ue<K;ue++){var ge=Q[ue];V&&null!=ge.child&&ge.updateBounds(),G>(J=ge.getLeft())&&(G=J),oe<(ke=ge.getRight())&&(oe=ke),q>(ce=ge.getTop())&&(q=ce),le<(z=ge.getBottom())&&(le=z)}var ie=new _(G,q,oe-G,le-q);G==M.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),L=null!=Q[0].getParent().paddingLeft?Q[0].getParent().paddingLeft:this.margin,this.left=ie.x-L,this.right=ie.x+ie.width+L,this.top=ie.y-L,this.bottom=ie.y+ie.height+L},Y.calculateBounds=function(V){for(var J,ke,ce,z,G=M.MAX_VALUE,oe=-M.MAX_VALUE,q=M.MAX_VALUE,le=-M.MAX_VALUE,L=V.length,Q=0;Q<L;Q++){var K=V[Q];G>(J=K.getLeft())&&(G=J),oe<(ke=K.getRight())&&(oe=ke),q>(ce=K.getTop())&&(q=ce),le<(z=K.getBottom())&&(le=z)}return new _(G,q,oe-G,le-q)},Y.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},Y.prototype.getEstimatedSize=function(){if(this.estimatedSize==M.MIN_VALUE)throw"assert failed";return this.estimatedSize},Y.prototype.calcEstimatedSize=function(){for(var V=0,G=this.nodes,oe=G.length,q=0;q<oe;q++)V+=G[q].calcEstimatedSize();return this.estimatedSize=0==V?C.EMPTY_COMPOUND_NODE_SIZE:V/Math.sqrt(this.nodes.length),this.estimatedSize},Y.prototype.updateConnected=function(){var V=this;if(0!=this.nodes.length){var le,J,G=new F,oe=new Set,q=this.nodes[0];for(q.withChildren().forEach(function(ue){G.push(ue),oe.add(ue)});0!==G.length;)for(var ce=(le=(q=G.shift()).getEdges()).length,z=0;z<ce;z++)null==(J=le[z].getOtherEndInGraph(q,this))||oe.has(J)||J.withChildren().forEach(function(ue){G.push(ue),oe.add(ue)});if(this.isConnected=!1,oe.size>=this.nodes.length){var K=0;oe.forEach(function(ue){ue.owner==V&&K++}),K==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},Re.exports=Y},function(Re,j,H){"use strict";var N,M=H(1);function C(R){N=H(5),this.layout=R,this.graphs=[],this.edges=[]}C.prototype.addRoot=function(){var R=this.layout.newGraph(),D=this.layout.newNode(null),T=this.add(R,D);return this.setRootGraph(T),this.rootGraph},C.prototype.add=function(R,D,T,_,B){if(null==T&&null==_&&null==B){if(null==R)throw"Graph is null!";if(null==D)throw"Parent node is null!";if(this.graphs.indexOf(R)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(R),null!=R.parent)throw"Already has a parent!";if(null!=D.child)throw"Already has a child!";return R.parent=D,D.child=R,R}B=T,T=R;var F=(_=D).getOwner(),Y=B.getOwner();if(null==F||F.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==Y||Y.getGraphManager()!=this)throw"Target not in this graph mgr!";if(F==Y)return T.isInterGraph=!1,F.add(T,_,B);if(T.isInterGraph=!0,T.source=_,T.target=B,this.edges.indexOf(T)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(T),null==T.source||null==T.target)throw"Edge source and/or target is null!";if(-1!=T.source.edges.indexOf(T)||-1!=T.target.edges.indexOf(T))throw"Edge already in source and/or target incidency list!";return T.source.edges.push(T),T.target.edges.push(T),T},C.prototype.remove=function(R){if(R instanceof N){var D=R;if(D.getGraphManager()!=this)throw"Graph not in this graph mgr";if(D!=this.rootGraph&&(null==D.parent||D.parent.graphManager!=this))throw"Invalid parent node!";for(var _,T=[],B=(T=T.concat(D.getEdges())).length,F=0;F<B;F++)D.remove(_=T[F]);var Y=[];for(B=(Y=Y.concat(D.getNodes())).length,F=0;F<B;F++)D.remove(Y[F]);D==this.rootGraph&&this.setRootGraph(null);var V=this.graphs.indexOf(D);this.graphs.splice(V,1),D.parent=null}else if(R instanceof M){if(null==(_=R))throw"Edge is null!";if(!_.isInterGraph)throw"Not an inter-graph edge!";if(null==_.source||null==_.target)throw"Source and/or target is null!";if(-1==_.source.edges.indexOf(_)||-1==_.target.edges.indexOf(_))throw"Source and/or target doesn't know this edge!";if(V=_.source.edges.indexOf(_),_.source.edges.splice(V,1),V=_.target.edges.indexOf(_),_.target.edges.splice(V,1),null==_.source.owner||null==_.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==_.source.owner.getGraphManager().edges.indexOf(_))throw"Not in owner graph manager's edge list!";V=_.source.owner.getGraphManager().edges.indexOf(_),_.source.owner.getGraphManager().edges.splice(V,1)}},C.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},C.prototype.getGraphs=function(){return this.graphs},C.prototype.getAllNodes=function(){if(null==this.allNodes){for(var R=[],D=this.getGraphs(),T=D.length,_=0;_<T;_++)R=R.concat(D[_].getNodes());this.allNodes=R}return this.allNodes},C.prototype.resetAllNodes=function(){this.allNodes=null},C.prototype.resetAllEdges=function(){this.allEdges=null},C.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},C.prototype.getAllEdges=function(){if(null==this.allEdges){for(var R=[],D=this.getGraphs(),_=0;_<D.length;_++)R=R.concat(D[_].getEdges());R=R.concat(this.edges),this.allEdges=R}return this.allEdges},C.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},C.prototype.setAllNodesToApplyGravitation=function(R){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=R},C.prototype.getRoot=function(){return this.rootGraph},C.prototype.setRootGraph=function(R){if(R.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=R,null==R.parent&&(R.parent=this.layout.newNode("Root node"))},C.prototype.getLayout=function(){return this.layout},C.prototype.isOneAncestorOfOther=function(R,D){if(null==R||null==D)throw"assert failed";if(R==D)return!0;for(var _,T=R.getOwner();null!=(_=T.getParent());){if(_==D)return!0;if(null==(T=_.getOwner()))break}for(T=D.getOwner();null!=(_=T.getParent());){if(_==R)return!0;if(null==(T=_.getOwner()))break}return!1},C.prototype.calcLowestCommonAncestors=function(){for(var R,D,T,_,B,F=this.getAllEdges(),Y=F.length,ee=0;ee<Y;ee++)if(D=(R=F[ee]).source,T=R.target,R.lca=null,R.sourceInLca=D,R.targetInLca=T,D!=T){for(_=D.getOwner();null==R.lca;){for(R.targetInLca=T,B=T.getOwner();null==R.lca;){if(B==_){R.lca=B;break}if(B==this.rootGraph)break;if(null!=R.lca)throw"assert failed";R.targetInLca=B.getParent(),B=R.targetInLca.getOwner()}if(_==this.rootGraph)break;null==R.lca&&(R.sourceInLca=_.getParent(),_=R.sourceInLca.getOwner())}if(null==R.lca)throw"assert failed"}else R.lca=D.getOwner()},C.prototype.calcLowestCommonAncestor=function(R,D){if(R==D)return R.getOwner();for(var T=R.getOwner();null!=T;){for(var _=D.getOwner();null!=_;){if(_==T)return _;_=_.getParent().getOwner()}T=T.getParent().getOwner()}return T},C.prototype.calcInclusionTreeDepths=function(R,D){null==R&&null==D&&(R=this.rootGraph,D=1);for(var T,_=R.getNodes(),B=_.length,F=0;F<B;F++)(T=_[F]).inclusionTreeDepth=D,null!=T.child&&this.calcInclusionTreeDepths(T.child,D+1)},C.prototype.includesInvalidEdge=function(){for(var R,D=this.edges.length,T=0;T<D;T++)if(this.isOneAncestorOfOther((R=this.edges[T]).source,R.target))return!0;return!1},Re.exports=C},function(Re,j,H){"use strict";var N=H(0);function M(){}for(var C in N)M[C]=N[C];M.MAX_ITERATIONS=2500,M.DEFAULT_EDGE_LENGTH=50,M.DEFAULT_SPRING_STRENGTH=.45,M.DEFAULT_REPULSION_STRENGTH=4500,M.DEFAULT_GRAVITY_STRENGTH=.4,M.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,M.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,M.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,M.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,M.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,M.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,M.COOLING_ADAPTATION_FACTOR=.33,M.ADAPTATION_LOWER_NODE_LIMIT=1e3,M.ADAPTATION_UPPER_NODE_LIMIT=5e3,M.MAX_NODE_DISPLACEMENT=3*(M.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),M.MIN_REPULSION_DIST=M.DEFAULT_EDGE_LENGTH/10,M.CONVERGENCE_CHECK_PERIOD=100,M.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,M.MIN_EDGE_LENGTH=1,M.GRID_CALCULATION_CHECK_PERIOD=10,Re.exports=M},function(Re,j,H){"use strict";var N=H(12);function M(){}M.calcSeparationAmount=function(C,R,D,T){if(!C.intersects(R))throw"assert failed";var _=new Array(2);this.decideDirectionsForOverlappingNodes(C,R,_),D[0]=Math.min(C.getRight(),R.getRight())-Math.max(C.x,R.x),D[1]=Math.min(C.getBottom(),R.getBottom())-Math.max(C.y,R.y),C.getX()<=R.getX()&&C.getRight()>=R.getRight()?D[0]+=Math.min(R.getX()-C.getX(),C.getRight()-R.getRight()):R.getX()<=C.getX()&&R.getRight()>=C.getRight()&&(D[0]+=Math.min(C.getX()-R.getX(),R.getRight()-C.getRight())),C.getY()<=R.getY()&&C.getBottom()>=R.getBottom()?D[1]+=Math.min(R.getY()-C.getY(),C.getBottom()-R.getBottom()):R.getY()<=C.getY()&&R.getBottom()>=C.getBottom()&&(D[1]+=Math.min(C.getY()-R.getY(),R.getBottom()-C.getBottom()));var B=Math.abs((R.getCenterY()-C.getCenterY())/(R.getCenterX()-C.getCenterX()));R.getCenterY()===C.getCenterY()&&R.getCenterX()===C.getCenterX()&&(B=1);var F=B*D[0],Y=D[1]/B;D[0]<Y?Y=D[0]:F=D[1],D[0]=-1*_[0]*(Y/2+T),D[1]=-1*_[1]*(F/2+T)},M.decideDirectionsForOverlappingNodes=function(C,R,D){D[0]=C.getCenterX()<R.getCenterX()?-1:1,D[1]=C.getCenterY()<R.getCenterY()?-1:1},M.getIntersection2=function(C,R,D){var T=C.getCenterX(),_=C.getCenterY(),B=R.getCenterX(),F=R.getCenterY();if(C.intersects(R))return D[0]=T,D[1]=_,D[2]=B,D[3]=F,!0;var Y=C.getX(),ee=C.getY(),V=C.getRight(),G=C.getX(),oe=C.getBottom(),q=C.getRight(),le=C.getWidthHalf(),J=C.getHeightHalf(),ke=R.getX(),ce=R.getY(),z=R.getRight(),L=R.getX(),Q=R.getBottom(),K=R.getRight(),ue=R.getWidthHalf(),ge=R.getHeightHalf(),ie=!1,be=!1;if(T===B){if(_>F)return D[0]=T,D[1]=ee,D[2]=B,D[3]=Q,!1;if(_<F)return D[0]=T,D[1]=oe,D[2]=B,D[3]=ce,!1}else if(_===F){if(T>B)return D[0]=Y,D[1]=_,D[2]=z,D[3]=F,!1;if(T<B)return D[0]=V,D[1]=_,D[2]=ke,D[3]=F,!1}else{var Le=C.height/C.width,me=R.height/R.width,Xe=(F-_)/(B-T),Ve=void 0,Ae=void 0,he=void 0,He=void 0;if(-Le===Xe?T>B?(D[0]=G,D[1]=oe,ie=!0):(D[0]=V,D[1]=ee,ie=!0):Le===Xe&&(T>B?(D[0]=Y,D[1]=ee,ie=!0):(D[0]=q,D[1]=oe,ie=!0)),-me===Xe?B>T?(D[2]=L,D[3]=Q,be=!0):(D[2]=z,D[3]=ce,be=!0):me===Xe&&(B>T?(D[2]=ke,D[3]=ce,be=!0):(D[2]=K,D[3]=Q,be=!0)),ie&&be)return!1;if(T>B?_>F?(Ve=this.getCardinalDirection(Le,Xe,4),Ae=this.getCardinalDirection(me,Xe,2)):(Ve=this.getCardinalDirection(-Le,Xe,3),Ae=this.getCardinalDirection(-me,Xe,1)):_>F?(Ve=this.getCardinalDirection(-Le,Xe,1),Ae=this.getCardinalDirection(-me,Xe,3)):(Ve=this.getCardinalDirection(Le,Xe,2),Ae=this.getCardinalDirection(me,Xe,4)),!ie)switch(Ve){case 1:he=ee,D[0]=T+-J/Xe,D[1]=he;break;case 2:he=_+le*Xe,D[0]=q,D[1]=he;break;case 3:he=oe,D[0]=T+J/Xe,D[1]=he;break;case 4:he=_+-le*Xe,D[0]=G,D[1]=he}if(!be)switch(Ae){case 1:He=ce,D[2]=B+-ge/Xe,D[3]=He;break;case 2:He=F+ue*Xe,D[2]=K,D[3]=He;break;case 3:He=Q,D[2]=B+ge/Xe,D[3]=He;break;case 4:He=F+-ue*Xe,D[2]=L,D[3]=He}}return!1},M.getCardinalDirection=function(C,R,D){return C>R?D:1+D%4},M.getIntersection=function(C,R,D,T){if(null==T)return this.getIntersection2(C,R,D);var J,ke,ce,z,L,Q,K,_=C.x,B=C.y,F=R.x,Y=R.y,ee=D.x,V=D.y,G=T.x,oe=T.y;return L=F*B-_*Y,Q=G*V-ee*oe,0==(K=(J=Y-B)*(z=ee-G)-(ke=oe-V)*(ce=_-F))?null:new N((ce*Q-z*L)/K,(ke*L-J*Q)/K)},M.angleOfVector=function(C,R,D,T){var _=void 0;return C!==D?(_=Math.atan((T-R)/(D-C)),D<C?_+=Math.PI:T<R&&(_+=this.TWO_PI)):_=T<R?this.ONE_AND_HALF_PI:this.HALF_PI,_},M.doIntersect=function(C,R,D,T){var _=C.x,B=C.y,F=R.x,Y=R.y,ee=D.x,V=D.y,G=T.x,oe=T.y,q=(F-_)*(oe-V)-(G-ee)*(Y-B);if(0===q)return!1;var le=((oe-V)*(G-_)+(ee-G)*(oe-B))/q,J=((B-Y)*(G-_)+(F-_)*(oe-B))/q;return 0<le&&le<1&&0<J&&J<1},M.HALF_PI=.5*Math.PI,M.ONE_AND_HALF_PI=1.5*Math.PI,M.TWO_PI=2*Math.PI,M.THREE_PI=3*Math.PI,Re.exports=M},function(Re,j,H){"use strict";function N(){}N.sign=function(M){return M>0?1:M<0?-1:0},N.floor=function(M){return M<0?Math.ceil(M):Math.floor(M)},N.ceil=function(M){return M<0?Math.floor(M):Math.ceil(M)},Re.exports=N},function(Re,j,H){"use strict";function N(){}N.MAX_VALUE=2147483647,N.MIN_VALUE=-2147483648,Re.exports=N},function(Re,j,H){"use strict";var N=function(){function _(B,F){for(var Y=0;Y<F.length;Y++){var ee=F[Y];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(B,ee.key,ee)}}return function(B,F,Y){return F&&_(B.prototype,F),Y&&_(B,Y),B}}();var C=function(B){return{value:B,next:null,prev:null}},R=function(B,F,Y,ee){return null!==B?B.next=F:ee.head=F,null!==Y?Y.prev=F:ee.tail=F,F.prev=B,F.next=Y,ee.length++,F},D=function(B,F){var Y=B.prev,ee=B.next;return null!==Y?Y.next=ee:F.head=ee,null!==ee?ee.prev=Y:F.tail=Y,B.prev=B.next=null,F.length--,B},T=function(){function _(B){var F=this;(function M(_,B){if(!(_ instanceof B))throw new TypeError("Cannot call a class as a function")})(this,_),this.length=0,this.head=null,this.tail=null,B?.forEach(function(Y){return F.push(Y)})}return N(_,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(F,Y){return R(Y.prev,C(F),Y,this)}},{key:"insertAfter",value:function(F,Y){return R(Y,C(F),Y.next,this)}},{key:"insertNodeBefore",value:function(F,Y){return R(Y.prev,F,Y,this)}},{key:"insertNodeAfter",value:function(F,Y){return R(Y,F,Y.next,this)}},{key:"push",value:function(F){return R(this.tail,C(F),null,this)}},{key:"unshift",value:function(F){return R(null,C(F),this.head,this)}},{key:"remove",value:function(F){return D(F,this)}},{key:"pop",value:function(){return D(this.tail,this).value}},{key:"popNode",value:function(){return D(this.tail,this)}},{key:"shift",value:function(){return D(this.head,this).value}},{key:"shiftNode",value:function(){return D(this.head,this)}},{key:"get_object_at",value:function(F){if(F<=this.length()){for(var Y=1,ee=this.head;Y<F;)ee=ee.next,Y++;return ee.value}}},{key:"set_object_at",value:function(F,Y){if(F<=this.length()){for(var ee=1,V=this.head;ee<F;)V=V.next,ee++;V.value=Y}}}]),_}();Re.exports=T},function(Re,j,H){"use strict";function N(M,C,R){this.x=null,this.y=null,null==M&&null==C&&null==R?(this.x=0,this.y=0):"number"==typeof M&&"number"==typeof C&&null==R?(this.x=M,this.y=C):"Point"==M.constructor.name&&null==C&&null==R&&(this.x=(R=M).x,this.y=R.y)}N.prototype.getX=function(){return this.x},N.prototype.getY=function(){return this.y},N.prototype.getLocation=function(){return new N(this.x,this.y)},N.prototype.setLocation=function(M,C,R){"Point"==M.constructor.name&&null==C&&null==R?this.setLocation((R=M).x,R.y):"number"==typeof M&&"number"==typeof C&&null==R&&(parseInt(M)==M&&parseInt(C)==C?this.move(M,C):(this.x=Math.floor(M+.5),this.y=Math.floor(C+.5)))},N.prototype.move=function(M,C){this.x=M,this.y=C},N.prototype.translate=function(M,C){this.x+=M,this.y+=C},N.prototype.equals=function(M){return"Point"==M.constructor.name?this.x==M.x&&this.y==M.y:this==M},N.prototype.toString=function(){return(new N).constructor.name+"[x="+this.x+",y="+this.y+"]"},Re.exports=N},function(Re,j,H){"use strict";function N(M,C,R,D){this.x=0,this.y=0,this.width=0,this.height=0,null!=M&&null!=C&&null!=R&&null!=D&&(this.x=M,this.y=C,this.width=R,this.height=D)}N.prototype.getX=function(){return this.x},N.prototype.setX=function(M){this.x=M},N.prototype.getY=function(){return this.y},N.prototype.setY=function(M){this.y=M},N.prototype.getWidth=function(){return this.width},N.prototype.setWidth=function(M){this.width=M},N.prototype.getHeight=function(){return this.height},N.prototype.setHeight=function(M){this.height=M},N.prototype.getRight=function(){return this.x+this.width},N.prototype.getBottom=function(){return this.y+this.height},N.prototype.intersects=function(M){return!(this.getRight()<M.x||this.getBottom()<M.y||M.getRight()<this.x||M.getBottom()<this.y)},N.prototype.getCenterX=function(){return this.x+this.width/2},N.prototype.getMinX=function(){return this.getX()},N.prototype.getMaxX=function(){return this.getX()+this.width},N.prototype.getCenterY=function(){return this.y+this.height/2},N.prototype.getMinY=function(){return this.getY()},N.prototype.getMaxY=function(){return this.getY()+this.height},N.prototype.getWidthHalf=function(){return this.width/2},N.prototype.getHeightHalf=function(){return this.height/2},Re.exports=N},function(Re,j,H){"use strict";var N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function M(){}M.lastID=0,M.createID=function(C){return M.isPrimitive(C)?C:(null!=C.uniqueID||(C.uniqueID=M.getString(),M.lastID++),C.uniqueID)},M.getString=function(C){return null==C&&(C=M.lastID),"Object#"+C},M.isPrimitive=function(C){var R=typeof C>"u"?"undefined":N(C);return null==C||"object"!=R&&"function"!=R},Re.exports=M},function(Re,j,H){"use strict";function N(ee){if(Array.isArray(ee)){for(var V=0,G=Array(ee.length);V<ee.length;V++)G[V]=ee[V];return G}return Array.from(ee)}var M=H(0),C=H(6),R=H(3),D=H(1),T=H(5),_=H(4),B=H(17),F=H(27);function Y(ee){F.call(this),this.layoutQuality=M.QUALITY,this.createBendsAsNeeded=M.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=M.DEFAULT_INCREMENTAL,this.animationOnLayout=M.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=M.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=M.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=M.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new C(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=ee&&(this.isRemoteUse=ee)}Y.RANDOM_SEED=1,(Y.prototype=Object.create(F.prototype)).getGraphManager=function(){return this.graphManager},Y.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},Y.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},Y.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},Y.prototype.newGraphManager=function(){var ee=new C(this);return this.graphManager=ee,ee},Y.prototype.newGraph=function(ee){return new T(null,this.graphManager,ee)},Y.prototype.newNode=function(ee){return new R(this.graphManager,ee)},Y.prototype.newEdge=function(ee){return new D(null,null,ee)},Y.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},Y.prototype.runLayout=function(){var ee;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),ee=!this.checkLayoutSuccess()&&this.layout(),"during"!==M.ANIMATE&&(ee&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,ee)},Y.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},Y.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var V=this.graphManager.getAllEdges(),G=0;G<V.length;G++);var q=this.graphManager.getRoot().getNodes();for(G=0;G<q.length;G++);this.update(this.graphManager.getRoot())}},Y.prototype.update=function(ee){if(null==ee)this.update2();else if(ee instanceof R){var V=ee;if(null!=V.getChild())for(var G=V.getChild().getNodes(),oe=0;oe<G.length;oe++)update(G[oe]);null!=V.vGraphObject&&V.vGraphObject.update(V)}else ee instanceof D?null!=ee.vGraphObject&&ee.vGraphObject.update(ee):ee instanceof T&&null!=ee.vGraphObject&&ee.vGraphObject.update(ee)},Y.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=M.QUALITY,this.animationDuringLayout=M.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=M.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=M.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=M.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=M.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=M.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},Y.prototype.transform=function(ee){if(null==ee)this.transform(new _(0,0));else{var V=new B,G=this.graphManager.getRoot().updateLeftTop();if(null!=G){V.setWorldOrgX(ee.x),V.setWorldOrgY(ee.y),V.setDeviceOrgX(G.x),V.setDeviceOrgY(G.y);for(var oe=this.getAllNodes(),le=0;le<oe.length;le++)oe[le].transform(V)}}},Y.prototype.positionNodesRandomly=function(ee){if(null==ee)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var V,G,oe=ee.getNodes(),q=0;q<oe.length;q++)null==(G=(V=oe[q]).getChild())||0==G.getNodes().length?V.scatter():(this.positionNodesRandomly(G),V.updateBounds())},Y.prototype.getFlatForest=function(){for(var ee=[],V=!0,G=this.graphManager.getRoot().getNodes(),oe=!0,q=0;q<G.length;q++)null!=G[q].getChild()&&(oe=!1);if(!oe)return ee;var le=new Set,J=[],ke=new Map,ce=[];for(ce=ce.concat(G);ce.length>0&&V;){for(J.push(ce[0]);J.length>0&&V;){var z=J[0];J.splice(0,1),le.add(z);var L=z.getEdges();for(q=0;q<L.length;q++){var Q=L[q].getOtherEnd(z);if(ke.get(z)!=Q){if(le.has(Q)){V=!1;break}J.push(Q),ke.set(Q,z)}}}if(V){var K=[].concat(N(le));for(ee.push(K),q=0;q<K.length;q++){var ge=ce.indexOf(K[q]);ge>-1&&ce.splice(ge,1)}le=new Set,ke=new Map}else ee=[]}return ee},Y.prototype.createDummyNodesForBendpoints=function(ee){for(var V=[],G=ee.source,oe=this.graphManager.calcLowestCommonAncestor(ee.source,ee.target),q=0;q<ee.bendpoints.length;q++){var le=this.newNode(null);le.setRect(new Point(0,0),new Dimension(1,1)),oe.add(le);var J=this.newEdge(null);this.graphManager.add(J,G,le),V.add(le),G=le}return J=this.newEdge(null),this.graphManager.add(J,G,ee.target),this.edgeToDummyNodes.set(ee,V),ee.isInterGraph()?this.graphManager.remove(ee):oe.remove(ee),V},Y.prototype.createBendpointsFromDummyNodes=function(){var ee=[];ee=ee.concat(this.graphManager.getAllEdges()),ee=[].concat(N(this.edgeToDummyNodes.keys())).concat(ee);for(var V=0;V<ee.length;V++){var G=ee[V];if(G.bendpoints.length>0){for(var oe=this.edgeToDummyNodes.get(G),q=0;q<oe.length;q++){var le=oe[q],J=new _(le.getCenterX(),le.getCenterY()),ke=G.bendpoints.get(q);ke.x=J.x,ke.y=J.y,le.getOwner().remove(le)}this.graphManager.add(G,G.source,G.target)}}},Y.transform=function(ee,V,G,oe){if(null!=G&&null!=oe){var q=V;return ee<=50?q-=(V-V/G)/50*(50-ee):q+=(V*oe-V)/50*(ee-50),q}var ke,ce;return ee<=50?(ke=9*V/500,ce=V/10):(ke=9*V/50,ce=-8*V),ke*ee+ce},Y.findCenterOfTree=function(ee){var V=[];V=V.concat(ee);var G=[],oe=new Map,q=!1,le=null;(1==V.length||2==V.length)&&(q=!0,le=V[0]);for(var J=0;J<V.length;J++){var ce=(ke=V[J]).getNeighborsList().size;oe.set(ke,ke.getNeighborsList().size),1==ce&&G.push(ke)}var z=[];for(z=z.concat(G);!q;){var L=[];for(L=L.concat(z),z=[],J=0;J<V.length;J++){var ke,Q=V.indexOf(ke=V[J]);Q>=0&&V.splice(Q,1),ke.getNeighborsList().forEach(function(ie){if(G.indexOf(ie)<0){var Le=oe.get(ie)-1;1==Le&&z.push(ie),oe.set(ie,Le)}})}G=G.concat(z),(1==V.length||2==V.length)&&(q=!0,le=V[0])}return le},Y.prototype.setGraphManager=function(ee){this.graphManager=ee},Re.exports=Y},function(Re,j,H){"use strict";function N(){}N.seed=1,N.x=0,N.nextDouble=function(){return(N.x=1e4*Math.sin(N.seed++))-Math.floor(N.x)},Re.exports=N},function(Re,j,H){"use strict";var N=H(4);function M(C,R){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}M.prototype.getWorldOrgX=function(){return this.lworldOrgX},M.prototype.setWorldOrgX=function(C){this.lworldOrgX=C},M.prototype.getWorldOrgY=function(){return this.lworldOrgY},M.prototype.setWorldOrgY=function(C){this.lworldOrgY=C},M.prototype.getWorldExtX=function(){return this.lworldExtX},M.prototype.setWorldExtX=function(C){this.lworldExtX=C},M.prototype.getWorldExtY=function(){return this.lworldExtY},M.prototype.setWorldExtY=function(C){this.lworldExtY=C},M.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},M.prototype.setDeviceOrgX=function(C){this.ldeviceOrgX=C},M.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},M.prototype.setDeviceOrgY=function(C){this.ldeviceOrgY=C},M.prototype.getDeviceExtX=function(){return this.ldeviceExtX},M.prototype.setDeviceExtX=function(C){this.ldeviceExtX=C},M.prototype.getDeviceExtY=function(){return this.ldeviceExtY},M.prototype.setDeviceExtY=function(C){this.ldeviceExtY=C},M.prototype.transformX=function(C){var R=0,D=this.lworldExtX;return 0!=D&&(R=this.ldeviceOrgX+(C-this.lworldOrgX)*this.ldeviceExtX/D),R},M.prototype.transformY=function(C){var R=0,D=this.lworldExtY;return 0!=D&&(R=this.ldeviceOrgY+(C-this.lworldOrgY)*this.ldeviceExtY/D),R},M.prototype.inverseTransformX=function(C){var R=0,D=this.ldeviceExtX;return 0!=D&&(R=this.lworldOrgX+(C-this.ldeviceOrgX)*this.lworldExtX/D),R},M.prototype.inverseTransformY=function(C){var R=0,D=this.ldeviceExtY;return 0!=D&&(R=this.lworldOrgY+(C-this.ldeviceOrgY)*this.lworldExtY/D),R},M.prototype.inverseTransformPoint=function(C){return new N(this.inverseTransformX(C.x),this.inverseTransformY(C.y))},Re.exports=M},function(Re,j,H){"use strict";var M=H(15),C=H(7),R=H(0),D=H(8),T=H(9);function _(){M.call(this),this.useSmartIdealEdgeLengthCalculation=C.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=C.DEFAULT_EDGE_LENGTH,this.springConstant=C.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=C.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=C.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=C.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=C.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=C.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*C.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=C.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=C.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=C.MAX_ITERATIONS}for(var B in _.prototype=Object.create(M.prototype),M)_[B]=M[B];_.prototype.initParameters=function(){M.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=C.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},_.prototype.calcIdealEdgeLengths=function(){for(var F,Y,ee,V,G,oe,q=this.getGraphManager().getAllEdges(),le=0;le<q.length;le++)(F=q[le]).idealLength=this.idealEdgeLength,F.isInterGraph&&(ee=F.getSource(),V=F.getTarget(),G=F.getSourceInLca().getEstimatedSize(),oe=F.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(F.idealLength+=G+oe-2*R.SIMPLE_NODE_SIZE),Y=F.getLca().getInclusionTreeDepth(),F.idealLength+=C.DEFAULT_EDGE_LENGTH*C.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(ee.getInclusionTreeDepth()+V.getInclusionTreeDepth()-2*Y))},_.prototype.initSpringEmbedder=function(){var F=this.getAllNodes().length;this.incremental?(F>C.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*C.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(F-C.ADAPTATION_LOWER_NODE_LIMIT)/(C.ADAPTATION_UPPER_NODE_LIMIT-C.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-C.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=C.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=F>C.ADAPTATION_LOWER_NODE_LIMIT?Math.max(C.COOLING_ADAPTATION_FACTOR,1-(F-C.ADAPTATION_LOWER_NODE_LIMIT)/(C.ADAPTATION_UPPER_NODE_LIMIT-C.ADAPTATION_LOWER_NODE_LIMIT)*(1-C.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=C.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},_.prototype.calcSpringForces=function(){for(var Y,F=this.getAllEdges(),ee=0;ee<F.length;ee++)this.calcSpringForce(Y=F[ee],Y.idealLength)},_.prototype.calcRepulsionForces=function(){var ee,V,G,oe,le,F=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],Y=arguments.length>1&&void 0!==arguments[1]&&arguments[1],q=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%C.GRID_CALCULATION_CHECK_PERIOD==1&&F&&this.updateGrid(),le=new Set,ee=0;ee<q.length;ee++)this.calculateRepulsionForceOfANode(G=q[ee],le,F,Y),le.add(G);else for(ee=0;ee<q.length;ee++)for(G=q[ee],V=ee+1;V<q.length;V++)oe=q[V],G.getOwner()==oe.getOwner()&&this.calcRepulsionForce(G,oe)},_.prototype.calcGravitationalForces=function(){for(var Y=this.getAllNodesToApplyGravitation(),ee=0;ee<Y.length;ee++)this.calcGravitationalForce(Y[ee])},_.prototype.moveNodes=function(){for(var F=this.getAllNodes(),ee=0;ee<F.length;ee++)F[ee].move()},_.prototype.calcSpringForce=function(F,Y){var G,oe,q,le,ee=F.getSource(),V=F.getTarget();if(this.uniformLeafNodeSizes&&null==ee.getChild()&&null==V.getChild())F.updateLengthSimple();else if(F.updateLength(),F.isOverlapingSourceAndTarget)return;0!=(G=F.getLength())&&(le=(oe=this.springConstant*(G-Y))*(F.lengthY/G),ee.springForceX+=q=oe*(F.lengthX/G),ee.springForceY+=le,V.springForceX-=q,V.springForceY-=le)},_.prototype.calcRepulsionForce=function(F,Y){var q,le,J,ke,ce,z,L,ee=F.getRect(),V=Y.getRect(),G=new Array(2),oe=new Array(4);if(ee.intersects(V)){D.calcSeparationAmount(ee,V,G,C.DEFAULT_EDGE_LENGTH/2),L=2*G[1];var Q=F.noOfChildren*Y.noOfChildren/(F.noOfChildren+Y.noOfChildren);F.repulsionForceX-=Q*(z=2*G[0]),F.repulsionForceY-=Q*L,Y.repulsionForceX+=Q*z,Y.repulsionForceY+=Q*L}else this.uniformLeafNodeSizes&&null==F.getChild()&&null==Y.getChild()?(q=V.getCenterX()-ee.getCenterX(),le=V.getCenterY()-ee.getCenterY()):(D.getIntersection(ee,V,oe),q=oe[2]-oe[0],le=oe[3]-oe[1]),Math.abs(q)<C.MIN_REPULSION_DIST&&(q=T.sign(q)*C.MIN_REPULSION_DIST),Math.abs(le)<C.MIN_REPULSION_DIST&&(le=T.sign(le)*C.MIN_REPULSION_DIST),J=q*q+le*le,ke=Math.sqrt(J),L=(ce=this.repulsionConstant*F.noOfChildren*Y.noOfChildren/J)*le/ke,F.repulsionForceX-=z=ce*q/ke,F.repulsionForceY-=L,Y.repulsionForceX+=z,Y.repulsionForceY+=L},_.prototype.calcGravitationalForce=function(F){var Y,ee,V,G,oe,q,le,J;ee=((Y=F.getOwner()).getRight()+Y.getLeft())/2,V=(Y.getTop()+Y.getBottom())/2,G=F.getCenterX()-ee,oe=F.getCenterY()-V,q=Math.abs(G)+F.getWidth()/2,le=Math.abs(oe)+F.getHeight()/2,F.getOwner()==this.graphManager.getRoot()?(q>(J=Y.getEstimatedSize()*this.gravityRangeFactor)||le>J)&&(F.gravitationForceX=-this.gravityConstant*G,F.gravitationForceY=-this.gravityConstant*oe):(q>(J=Y.getEstimatedSize()*this.compoundGravityRangeFactor)||le>J)&&(F.gravitationForceX=-this.gravityConstant*G*this.compoundGravityConstant,F.gravitationForceY=-this.gravityConstant*oe*this.compoundGravityConstant)},_.prototype.isConverged=function(){var F,Y=!1;return this.totalIterations>this.maxIterations/3&&(Y=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),F=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,F||Y},_.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},_.prototype.calcNoOfChildrenForAllNodes=function(){for(var F,Y=this.graphManager.getAllNodes(),ee=0;ee<Y.length;ee++)(F=Y[ee]).noOfChildren=F.getNoOfChildren()},_.prototype.calcGrid=function(F){var Y,ee;Y=parseInt(Math.ceil((F.getRight()-F.getLeft())/this.repulsionRange)),ee=parseInt(Math.ceil((F.getBottom()-F.getTop())/this.repulsionRange));for(var V=new Array(Y),G=0;G<Y;G++)V[G]=new Array(ee);for(G=0;G<Y;G++)for(var oe=0;oe<ee;oe++)V[G][oe]=new Array;return V},_.prototype.addNodeToGrid=function(F,Y,ee){var V,G,oe,q;V=parseInt(Math.floor((F.getRect().x-Y)/this.repulsionRange)),G=parseInt(Math.floor((F.getRect().width+F.getRect().x-Y)/this.repulsionRange)),oe=parseInt(Math.floor((F.getRect().y-ee)/this.repulsionRange)),q=parseInt(Math.floor((F.getRect().height+F.getRect().y-ee)/this.repulsionRange));for(var le=V;le<=G;le++)for(var J=oe;J<=q;J++)this.grid[le][J].push(F),F.setGridCoordinates(V,G,oe,q)},_.prototype.updateGrid=function(){var F,ee=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),F=0;F<ee.length;F++)this.addNodeToGrid(ee[F],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},_.prototype.calculateRepulsionForceOfANode=function(F,Y,ee,V){if(this.totalIterations%C.GRID_CALCULATION_CHECK_PERIOD==1&&ee||V){var G=new Set;F.surrounding=new Array;for(var oe,q=this.grid,le=F.startX-1;le<F.finishX+2;le++)for(var J=F.startY-1;J<F.finishY+2;J++)if(!(le<0||J<0||le>=q.length||J>=q[0].length))for(var ke=0;ke<q[le][J].length;ke++)if(oe=q[le][J][ke],F.getOwner()==oe.getOwner()&&F!=oe&&!Y.has(oe)&&!G.has(oe)){var ce=Math.abs(F.getCenterX()-oe.getCenterX())-(F.getWidth()/2+oe.getWidth()/2),z=Math.abs(F.getCenterY()-oe.getCenterY())-(F.getHeight()/2+oe.getHeight()/2);ce<=this.repulsionRange&&z<=this.repulsionRange&&G.add(oe)}F.surrounding=[].concat(function N(F){if(Array.isArray(F)){for(var Y=0,ee=Array(F.length);Y<F.length;Y++)ee[Y]=F[Y];return ee}return Array.from(F)}(G))}for(le=0;le<F.surrounding.length;le++)this.calcRepulsionForce(F,F.surrounding[le])},_.prototype.calcRepulsionRange=function(){return 0},Re.exports=_},function(Re,j,H){"use strict";var N=H(1),M=H(7);function C(D,T,_){N.call(this,D,T,_),this.idealLength=M.DEFAULT_EDGE_LENGTH}for(var R in C.prototype=Object.create(N.prototype),N)C[R]=N[R];Re.exports=C},function(Re,j,H){"use strict";var N=H(3);function M(R,D,T,_){N.call(this,R,D,T,_),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var C in M.prototype=Object.create(N.prototype),N)M[C]=N[C];M.prototype.setGridCoordinates=function(R,D,T,_){this.startX=R,this.finishX=D,this.startY=T,this.finishY=_},Re.exports=M},function(Re,j,H){"use strict";function N(M,C){this.width=0,this.height=0,null!==M&&null!==C&&(this.height=C,this.width=M)}N.prototype.getWidth=function(){return this.width},N.prototype.setWidth=function(M){this.width=M},N.prototype.getHeight=function(){return this.height},N.prototype.setHeight=function(M){this.height=M},Re.exports=N},function(Re,j,H){"use strict";var N=H(14);function M(){this.map={},this.keys=[]}M.prototype.put=function(C,R){var D=N.createID(C);this.contains(D)||(this.map[D]=R,this.keys.push(C))},M.prototype.contains=function(C){return N.createID(C),null!=this.map[C]},M.prototype.get=function(C){var R=N.createID(C);return this.map[R]},M.prototype.keySet=function(){return this.keys},Re.exports=M},function(Re,j,H){"use strict";var N=H(14);function M(){this.set={}}M.prototype.add=function(C){var R=N.createID(C);this.contains(R)||(this.set[R]=C)},M.prototype.remove=function(C){delete this.set[N.createID(C)]},M.prototype.clear=function(){this.set={}},M.prototype.contains=function(C){return this.set[N.createID(C)]==C},M.prototype.isEmpty=function(){return 0===this.size()},M.prototype.size=function(){return Object.keys(this.set).length},M.prototype.addAllTo=function(C){for(var R=Object.keys(this.set),D=R.length,T=0;T<D;T++)C.push(this.set[R[T]])},M.prototype.size=function(){return Object.keys(this.set).length},M.prototype.addAll=function(C){for(var R=C.length,D=0;D<R;D++)this.add(C[D])},Re.exports=M},function(Re,j,H){"use strict";var N=function(){function D(T,_){for(var B=0;B<_.length;B++){var F=_[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(T,F.key,F)}}return function(T,_,B){return _&&D(T.prototype,_),B&&D(T,B),T}}();var C=H(11),R=function(){function D(T,_){(function M(D,T){if(!(D instanceof T))throw new TypeError("Cannot call a class as a function")})(this,D),(null!==_||void 0!==_)&&(this.compareFunction=this._defaultCompareFunction);var B;B=T instanceof C?T.size():T.length,this._quicksort(T,0,B-1)}return N(D,[{key:"_quicksort",value:function(_,B,F){if(B<F){var Y=this._partition(_,B,F);this._quicksort(_,B,Y),this._quicksort(_,Y+1,F)}}},{key:"_partition",value:function(_,B,F){for(var Y=this._get(_,B),ee=B,V=F;;){for(;this.compareFunction(Y,this._get(_,V));)V--;for(;this.compareFunction(this._get(_,ee),Y);)ee++;if(!(ee<V))return V;this._swap(_,ee,V),ee++,V--}}},{key:"_get",value:function(_,B){return _ instanceof C?_.get_object_at(B):_[B]}},{key:"_set",value:function(_,B,F){_ instanceof C?_.set_object_at(B,F):_[B]=F}},{key:"_swap",value:function(_,B,F){var Y=this._get(_,B);this._set(_,B,this._get(_,F)),this._set(_,F,Y)}},{key:"_defaultCompareFunction",value:function(_,B){return B>_}}]),D}();Re.exports=R},function(Re,j,H){"use strict";var N=function(){function R(D,T){for(var _=0;_<T.length;_++){var B=T[_];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(D,B.key,B)}}return function(D,T,_){return T&&R(D.prototype,T),_&&R(D,_),D}}();function M(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}var C=function(){function R(D,T){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,F=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;M(this,R),this.sequence1=D,this.sequence2=T,this.match_score=_,this.mismatch_penalty=B,this.gap_penalty=F,this.iMax=D.length+1,this.jMax=T.length+1,this.grid=new Array(this.iMax);for(var Y=0;Y<this.iMax;Y++){this.grid[Y]=new Array(this.jMax);for(var ee=0;ee<this.jMax;ee++)this.grid[Y][ee]=0}this.tracebackGrid=new Array(this.iMax);for(var V=0;V<this.iMax;V++){this.tracebackGrid[V]=new Array(this.jMax);for(var G=0;G<this.jMax;G++)this.tracebackGrid[V][G]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return N(R,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var T=1;T<this.jMax;T++)this.grid[0][T]=this.grid[0][T-1]+this.gap_penalty,this.tracebackGrid[0][T]=[!1,!1,!0];for(var _=1;_<this.iMax;_++)this.grid[_][0]=this.grid[_-1][0]+this.gap_penalty,this.tracebackGrid[_][0]=[!1,!0,!1];for(var B=1;B<this.iMax;B++)for(var F=1;F<this.jMax;F++){var G=[this.sequence1[B-1]===this.sequence2[F-1]?this.grid[B-1][F-1]+this.match_score:this.grid[B-1][F-1]+this.mismatch_penalty,this.grid[B-1][F]+this.gap_penalty,this.grid[B][F-1]+this.gap_penalty],oe=this.arrayAllMaxIndexes(G);this.grid[B][F]=G[oe[0]],this.tracebackGrid[B][F]=[oe.includes(0),oe.includes(1),oe.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var T=[];for(T.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});T[0];){var _=T[0],B=this.tracebackGrid[_.pos[0]][_.pos[1]];B[0]&&T.push({pos:[_.pos[0]-1,_.pos[1]-1],seq1:this.sequence1[_.pos[0]-1]+_.seq1,seq2:this.sequence2[_.pos[1]-1]+_.seq2}),B[1]&&T.push({pos:[_.pos[0]-1,_.pos[1]],seq1:this.sequence1[_.pos[0]-1]+_.seq1,seq2:"-"+_.seq2}),B[2]&&T.push({pos:[_.pos[0],_.pos[1]-1],seq1:"-"+_.seq1,seq2:this.sequence2[_.pos[1]-1]+_.seq2}),0===_.pos[0]&&0===_.pos[1]&&this.alignments.push({sequence1:_.seq1,sequence2:_.seq2}),T.shift()}return this.alignments}},{key:"getAllIndexes",value:function(T,_){for(var B=[],F=-1;-1!==(F=T.indexOf(_,F+1));)B.push(F);return B}},{key:"arrayAllMaxIndexes",value:function(T){return this.getAllIndexes(T,Math.max.apply(null,T))}}]),R}();Re.exports=C},function(Re,j,H){"use strict";var N=function(){};N.FDLayout=H(18),N.FDLayoutConstants=H(7),N.FDLayoutEdge=H(19),N.FDLayoutNode=H(20),N.DimensionD=H(21),N.HashMap=H(22),N.HashSet=H(23),N.IGeometry=H(8),N.IMath=H(9),N.Integer=H(10),N.Point=H(12),N.PointD=H(4),N.RandomSeed=H(16),N.RectangleD=H(13),N.Transform=H(17),N.UniqueIDGeneretor=H(14),N.Quicksort=H(24),N.LinkedList=H(11),N.LGraphObject=H(2),N.LGraph=H(5),N.LEdge=H(1),N.LGraphManager=H(6),N.LNode=H(3),N.Layout=H(15),N.LayoutConstants=H(0),N.NeedlemanWunsch=H(25),Re.exports=N},function(Re,j,H){"use strict";function N(){this.listeners=[]}var M=N.prototype;M.addListener=function(C,R){this.listeners.push({event:C,callback:R})},M.removeListener=function(C,R){for(var D=this.listeners.length;D>=0;D--){var T=this.listeners[D];T.event===C&&T.callback===R&&this.listeners.splice(D,1)}},M.emit=function(C,R){for(var D=0;D<this.listeners.length;D++){var T=this.listeners[D];C===T.event&&T.callback(R)}},Re.exports=N}])},4994:(Pe,Re,j)=>{var H=j(4312),N=j(6421),M=j(5764),C=j(8685),R=j(6676);function D(T){var _=-1,B=null==T?0:T.length;for(this.clear();++_<B;){var F=T[_];this.set(F[0],F[1])}}D.prototype.clear=H,D.prototype.delete=N,D.prototype.get=M,D.prototype.has=C,D.prototype.set=R,Pe.exports=D},9215:(Pe,Re,j)=>{var H=j(1840),N=j(4378),M=j(4981),C=j(7343),R=j(8895);function D(T){var _=-1,B=null==T?0:T.length;for(this.clear();++_<B;){var F=T[_];this.set(F[0],F[1])}}D.prototype.clear=H,D.prototype.delete=N,D.prototype.get=M,D.prototype.has=C,D.prototype.set=R,Pe.exports=D},1501:(Pe,Re,j)=>{var M=j(3436)(j(2119),"Map");Pe.exports=M},9850:(Pe,Re,j)=>{var H=j(638),N=j(1184),M=j(866),C=j(3771),R=j(1772);function D(T){var _=-1,B=null==T?0:T.length;for(this.clear();++_<B;){var F=T[_];this.set(F[0],F[1])}}D.prototype.clear=H,D.prototype.delete=N,D.prototype.get=M,D.prototype.has=C,D.prototype.set=R,Pe.exports=D},443:(Pe,Re,j)=>{var H=j(2119);Pe.exports=H.Symbol},4633:Pe=>{Pe.exports=function Re(j,H){for(var N=-1,M=null==j?0:j.length,C=Array(M);++N<M;)C[N]=H(j[N],N,j);return C}},9719:(Pe,Re,j)=>{var H=j(5683),N=j(217),C=Object.prototype.hasOwnProperty;Pe.exports=function R(D,T,_){var B=D[T];(!C.call(D,T)||!N(B,_)||void 0===_&&!(T in D))&&H(D,T,_)}},3503:(Pe,Re,j)=>{var H=j(217);Pe.exports=function N(M,C){for(var R=M.length;R--;)if(H(M[R][0],C))return R;return-1}},5683:(Pe,Re,j)=>{var H=j(6713);Pe.exports=function N(M,C,R){"__proto__"==C&&H?H(M,C,{configurable:!0,enumerable:!0,value:R,writable:!0}):M[C]=R}},5456:(Pe,Re,j)=>{var H=j(6884),N=j(8533);Pe.exports=function M(C,R){for(var D=0,T=(R=H(R,C)).length;null!=C&&D<T;)C=C[N(R[D++])];return D&&D==T?C:void 0}},3337:(Pe,Re,j)=>{var H=j(443),N=j(1318),M=j(2902),D=H?H.toStringTag:void 0;Pe.exports=function T(_){return null==_?void 0===_?"[object Undefined]":"[object Null]":D&&D in Object(_)?N(_):M(_)}},7304:(Pe,Re,j)=>{var H=j(5946),N=j(1943),M=j(5940),C=j(2827),D=/^\[object .+?Constructor\]$/,Y=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Pe.exports=function ee(V){return!(!M(V)||N(V))&&(H(V)?Y:D).test(C(V))}},5963:(Pe,Re,j)=>{var H=j(9719),N=j(6884),M=j(8442),C=j(5940),R=j(8533);Pe.exports=function D(T,_,B,F){if(!C(T))return T;for(var Y=-1,ee=(_=N(_,T)).length,V=ee-1,G=T;null!=G&&++Y<ee;){var oe=R(_[Y]),q=B;if("__proto__"===oe||"constructor"===oe||"prototype"===oe)return T;if(Y!=V){var le=G[oe];void 0===(q=F?F(le,oe,G):void 0)&&(q=C(le)?le:M(_[Y+1])?[]:{})}H(G,oe,q),G=G[oe]}return T}},3935:(Pe,Re,j)=>{var H=j(443),N=j(4633),M=j(1503),C=j(4129),D=H?H.prototype:void 0,T=D?D.toString:void 0;Pe.exports=function _(B){if("string"==typeof B)return B;if(M(B))return N(B,_)+"";if(C(B))return T?T.call(B):"";var F=B+"";return"0"==F&&1/B==-1/0?"-0":F}},3348:(Pe,Re,j)=>{var H=j(2760),N=/^\s+/;Pe.exports=function M(C){return C&&C.slice(0,H(C)+1).replace(N,"")}},6884:(Pe,Re,j)=>{var H=j(1503),N=j(5352),M=j(2855),C=j(3943);Pe.exports=function R(D,T){return H(D)?D:N(D,T)?[D]:M(C(D))}},9454:Pe=>{Pe.exports=function Re(j,H){var N=-1,M=j.length;for(H||(H=Array(M));++N<M;)H[N]=j[N];return H}},4610:(Pe,Re,j)=>{var H=j(2119);Pe.exports=H["__core-js_shared__"]},6713:(Pe,Re,j)=>{var H=j(3436),N=function(){try{var M=H(Object,"defineProperty");return M({},"",{}),M}catch{}}();Pe.exports=N},9122:Pe=>{var Re="object"==typeof global&&global&&global.Object===Object&&global;Pe.exports=Re},4537:(Pe,Re,j)=>{var H=j(3819);Pe.exports=function N(M,C){var R=M.__data__;return H(C)?R["string"==typeof C?"string":"hash"]:R.map}},3436:(Pe,Re,j)=>{var H=j(7304),N=j(1990);Pe.exports=function M(C,R){var D=N(C,R);return H(D)?D:void 0}},1318:(Pe,Re,j)=>{var H=j(443),N=Object.prototype,M=N.hasOwnProperty,C=N.toString,R=H?H.toStringTag:void 0;Pe.exports=function D(T){var _=M.call(T,R),B=T[R];try{T[R]=void 0;var F=!0}catch{}var Y=C.call(T);return F&&(_?T[R]=B:delete T[R]),Y}},1990:Pe=>{Pe.exports=function Re(j,H){return j?.[H]}},4312:(Pe,Re,j)=>{var H=j(862);Pe.exports=function N(){this.__data__=H?H(null):{},this.size=0}},6421:Pe=>{Pe.exports=function Re(j){var H=this.has(j)&&delete this.__data__[j];return this.size-=H?1:0,H}},5764:(Pe,Re,j)=>{var H=j(862),C=Object.prototype.hasOwnProperty;Pe.exports=function R(D){var T=this.__data__;if(H){var _=T[D];return"__lodash_hash_undefined__"===_?void 0:_}return C.call(T,D)?T[D]:void 0}},8685:(Pe,Re,j)=>{var H=j(862),M=Object.prototype.hasOwnProperty;Pe.exports=function C(R){var D=this.__data__;return H?void 0!==D[R]:M.call(D,R)}},6676:(Pe,Re,j)=>{var H=j(862);Pe.exports=function M(C,R){var D=this.__data__;return this.size+=this.has(C)?0:1,D[C]=H&&void 0===R?"__lodash_hash_undefined__":R,this}},8442:Pe=>{var j=/^(?:0|[1-9]\d*)$/;Pe.exports=function H(N,M){var C=typeof N;return!!(M=M??9007199254740991)&&("number"==C||"symbol"!=C&&j.test(N))&&N>-1&&N%1==0&&N<M}},5352:(Pe,Re,j)=>{var H=j(1503),N=j(4129),M=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C=/^\w*$/;Pe.exports=function R(D,T){if(H(D))return!1;var _=typeof D;return!("number"!=_&&"symbol"!=_&&"boolean"!=_&&null!=D&&!N(D))||C.test(D)||!M.test(D)||null!=T&&D in Object(T)}},3819:Pe=>{Pe.exports=function Re(j){var H=typeof j;return"string"==H||"number"==H||"symbol"==H||"boolean"==H?"__proto__"!==j:null===j}},1943:(Pe,Re,j)=>{var C,H=j(4610),N=(C=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"";Pe.exports=function M(C){return!!N&&N in C}},1840:Pe=>{Pe.exports=function Re(){this.__data__=[],this.size=0}},4378:(Pe,Re,j)=>{var H=j(3503),M=Array.prototype.splice;Pe.exports=function C(R){var D=this.__data__,T=H(D,R);return!(T<0||(T==D.length-1?D.pop():M.call(D,T,1),--this.size,0))}},4981:(Pe,Re,j)=>{var H=j(3503);Pe.exports=function N(M){var C=this.__data__,R=H(C,M);return R<0?void 0:C[R][1]}},7343:(Pe,Re,j)=>{var H=j(3503);Pe.exports=function N(M){return H(this.__data__,M)>-1}},8895:(Pe,Re,j)=>{var H=j(3503);Pe.exports=function N(M,C){var R=this.__data__,D=H(R,M);return D<0?(++this.size,R.push([M,C])):R[D][1]=C,this}},638:(Pe,Re,j)=>{var H=j(4994),N=j(9215),M=j(1501);Pe.exports=function C(){this.size=0,this.__data__={hash:new H,map:new(M||N),string:new H}}},1184:(Pe,Re,j)=>{var H=j(4537);Pe.exports=function N(M){var C=H(this,M).delete(M);return this.size-=C?1:0,C}},866:(Pe,Re,j)=>{var H=j(4537);Pe.exports=function N(M){return H(this,M).get(M)}},3771:(Pe,Re,j)=>{var H=j(4537);Pe.exports=function N(M){return H(this,M).has(M)}},1772:(Pe,Re,j)=>{var H=j(4537);Pe.exports=function N(M,C){var R=H(this,M),D=R.size;return R.set(M,C),this.size+=R.size==D?0:1,this}},719:(Pe,Re,j)=>{var H=j(535);Pe.exports=function M(C){var R=H(C,function(T){return 500===D.size&&D.clear(),T}),D=R.cache;return R}},862:(Pe,Re,j)=>{var N=j(3436)(Object,"create");Pe.exports=N},2902:Pe=>{var j=Object.prototype.toString;Pe.exports=function H(N){return j.call(N)}},2119:(Pe,Re,j)=>{var H=j(9122),N="object"==typeof self&&self&&self.Object===Object&&self,M=H||N||Function("return this")();Pe.exports=M},2855:(Pe,Re,j)=>{var H=j(719),N=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,M=/\\(\\)?/g,C=H(function(R){var D=[];return 46===R.charCodeAt(0)&&D.push(""),R.replace(N,function(T,_,B,F){D.push(B?F.replace(M,"$1"):_||T)}),D});Pe.exports=C},8533:(Pe,Re,j)=>{var H=j(4129);Pe.exports=function M(C){if("string"==typeof C||H(C))return C;var R=C+"";return"0"==R&&1/C==-1/0?"-0":R}},2827:Pe=>{var j=Function.prototype.toString;Pe.exports=function H(N){if(null!=N){try{return j.call(N)}catch{}try{return N+""}catch{}}return""}},2760:Pe=>{var Re=/\s/;Pe.exports=function j(H){for(var N=H.length;N--&&Re.test(H.charAt(N)););return N}},406:(Pe,Re,j)=>{var H=j(5940),N=j(1710),M=j(1467),R=Math.max,D=Math.min;Pe.exports=function T(_,B,F){var Y,ee,V,G,oe,q,le=0,J=!1,ke=!1,ce=!0;if("function"!=typeof _)throw new TypeError("Expected a function");function z(me){var Xe=Y,Ve=ee;return Y=ee=void 0,le=me,G=_.apply(Ve,Xe)}function L(me){return le=me,oe=setTimeout(ue,B),J?z(me):G}function K(me){var Xe=me-q;return void 0===q||Xe>=B||Xe<0||ke&&me-le>=V}function ue(){var me=N();if(K(me))return ge(me);oe=setTimeout(ue,function Q(me){var Ae=B-(me-q);return ke?D(Ae,V-(me-le)):Ae}(me))}function ge(me){return oe=void 0,ce&&Y?z(me):(Y=ee=void 0,G)}function Le(){var me=N(),Xe=K(me);if(Y=arguments,ee=this,q=me,Xe){if(void 0===oe)return L(q);if(ke)return clearTimeout(oe),oe=setTimeout(ue,B),z(q)}return void 0===oe&&(oe=setTimeout(ue,B)),G}return B=M(B)||0,H(F)&&(J=!!F.leading,V=(ke="maxWait"in F)?R(M(F.maxWait)||0,B):V,ce="trailing"in F?!!F.trailing:ce),Le.cancel=function ie(){void 0!==oe&&clearTimeout(oe),le=0,Y=q=ee=oe=void 0},Le.flush=function be(){return void 0===oe?G:ge(N())},Le}},217:Pe=>{Pe.exports=function Re(j,H){return j===H||j!=j&&H!=H}},8817:(Pe,Re,j)=>{var H=j(5456);Pe.exports=function N(M,C,R){var D=null==M?void 0:H(M,C);return void 0===D?R:D}},1503:Pe=>{Pe.exports=Array.isArray},5946:(Pe,Re,j)=>{var H=j(3337),N=j(5940);Pe.exports=function T(_){if(!N(_))return!1;var B=H(_);return"[object Function]"==B||"[object GeneratorFunction]"==B||"[object AsyncFunction]"==B||"[object Proxy]"==B}},5940:Pe=>{Pe.exports=function Re(j){var H=typeof j;return null!=j&&("object"==H||"function"==H)}},2671:Pe=>{Pe.exports=function Re(j){return null!=j&&"object"==typeof j}},4129:(Pe,Re,j)=>{var H=j(3337),N=j(2671);Pe.exports=function C(R){return"symbol"==typeof R||N(R)&&"[object Symbol]"==H(R)}},535:(Pe,Re,j)=>{var H=j(9850);function M(C,R){if("function"!=typeof C||null!=R&&"function"!=typeof R)throw new TypeError("Expected a function");var D=function(){var T=arguments,_=R?R.apply(this,T):T[0],B=D.cache;if(B.has(_))return B.get(_);var F=C.apply(this,T);return D.cache=B.set(_,F)||B,F};return D.cache=new(M.Cache||H),D}M.Cache=H,Pe.exports=M},1710:(Pe,Re,j)=>{var H=j(2119);Pe.exports=function(){return H.Date.now()}},4793:(Pe,Re,j)=>{var H=j(5963);Pe.exports=function N(M,C,R){return null==M?M:H(M,C,R)}},1467:(Pe,Re,j)=>{var H=j(3348),N=j(5940),M=j(4129),R=/^[-+]0x[0-9a-f]+$/i,D=/^0b[01]+$/i,T=/^0o[0-7]+$/i,_=parseInt;Pe.exports=function B(F){if("number"==typeof F)return F;if(M(F))return NaN;if(N(F)){var Y="function"==typeof F.valueOf?F.valueOf():F;F=N(Y)?Y+"":Y}if("string"!=typeof F)return 0===F?F:+F;F=H(F);var ee=D.test(F);return ee||T.test(F)?_(F.slice(2),ee?2:8):R.test(F)?NaN:+F}},4152:(Pe,Re,j)=>{var H=j(4633),N=j(9454),M=j(1503),C=j(4129),R=j(2855),D=j(8533),T=j(3943);Pe.exports=function _(B){return M(B)?H(B,D):C(B)?[B]:N(R(T(B)))}},3943:(Pe,Re,j)=>{var H=j(3935);Pe.exports=function N(M){return null==M?"":H(M)}},4308:(Pe,Re,j)=>{Pe.exports=j(1358)},4512:Pe=>{"use strict";Pe.exports=class w2{constructor(j,H=new Map,N=0){this.prefix=j,this._existing=H,this.counter=N}clone(){const{prefix:j,_existing:H,counter:N}=this;return new w2(j,new Map(H),N)}getId(j){const H=j&&this._existing.get(j);if(H)return H;const N=this.prefix+this.counter;return this.counter++,j&&this._existing.set(j,N),N}hasId(j){return this._existing.has(j)}getOldIds(){return[...this._existing.keys()]}}},7510:(Pe,Re,j)=>{"use strict";var H=j(9344).default;j(6563);const N=self.crypto||self.msCrypto;Pe.exports=class{constructor(C){if(!N||!N.subtle)throw new Error("crypto.subtle not found.");if("sha256"===C)this.algorithm={name:"SHA-256"};else{if("sha1"!==C)throw new Error(`Unsupported algorithm "${C}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(C){this._content+=C}digest(){var C=this;return H(function*(){const R=(new TextEncoder).encode(C._content),D=new Uint8Array(yield N.subtle.digest(C.algorithm,R));let T="";for(let _=0;_<D.length;++_)T+=D[_].toString(16).padStart(2,"0");return T})()}}},5090:Pe=>{"use strict";const H="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",N="http://www.w3.org/2001/XMLSchema#string",M="NamedNode",C="BlankNode",R="Literal",D="DefaultGraph",T={};function _(V,G){return V.subject.termType===G.subject.termType&&V.object.termType===G.object.termType&&V.subject.value===G.subject.value&&V.predicate.value===G.predicate.value&&V.object.value===G.object.value&&(V.object.termType!==R||V.object.datatype.termType===G.object.datatype.termType&&V.object.language===G.object.language&&V.object.datatype.value===G.object.datatype.value)}(()=>{const V="(?:<([^:]+:[^>]*)>)",oe="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_",q=oe+"0-9-\xb7\u0300-\u036f\u203f-\u2040",J="(_:(?:["+oe+"0-9])(?:(?:["+q+".])*(?:["+q+"]))?)",Q="[ \\t]+",K="[ \\t]*",ue="(?:"+V+"|"+J+")"+Q,ge=V+Q,ie="(?:"+V+"|"+J+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+V+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+K,be="(?:\\.|(?:(?:"+V+"|"+J+")"+K+"\\.))";T.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,T.empty=new RegExp("^"+K+"$"),T.quad=new RegExp("^"+K+ue+ge+ie+be+K+"$")})(),Pe.exports=class JO{static parse(G){const oe=[],q={},le=G.split(T.eoln);let J=0;for(const ke of le){if(J++,T.empty.test(ke))continue;const ce=ke.match(T.quad);if(null===ce)throw new Error("N-Quads parse error on line "+J+".");const z={subject:null,predicate:null,object:null,graph:null};if(z.subject=void 0!==ce[1]?{termType:M,value:ce[1]}:{termType:C,value:ce[2]},z.predicate={termType:M,value:ce[3]},void 0!==ce[4]?z.object={termType:M,value:ce[4]}:void 0!==ce[5]?z.object={termType:C,value:ce[5]}:(z.object={termType:R,value:void 0,datatype:{termType:M}},void 0!==ce[7]?z.object.datatype.value=ce[7]:void 0!==ce[8]?(z.object.datatype.value=H,z.object.language=ce[8]):z.object.datatype.value=N,z.object.value=ce[6].replace(Y,function(G,oe,q,le){if(oe)switch(oe){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(q)return String.fromCharCode(parseInt(q,16));if(le)throw new Error("Unsupported U escape")})),z.graph=void 0!==ce[9]?{termType:M,value:ce[9]}:void 0!==ce[10]?{termType:C,value:ce[10]}:{termType:D,value:""},z.graph.value in q){let L=!0;const Q=q[z.graph.value];for(const K of Q)if(_(K,z)){L=!1;break}L&&(Q.push(z),oe.push(z))}else q[z.graph.value]=[z],oe.push(z)}return oe}static serialize(G){Array.isArray(G)||(G=JO.legacyDatasetToQuads(G));const oe=[];for(const q of G)oe.push(JO.serializeQuad(q));return oe.sort().join("")}static serializeQuadComponents(G,oe,q,le){let J="";return J+=G.termType===M?`<${G.value}>`:`${G.value}`,J+=` <${oe.value}> `,q.termType===M?J+=`<${q.value}>`:q.termType===C?J+=q.value:(J+=`"${function F(V){return V.replace(B,function(G){switch(G){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(q.value)}"`,q.datatype.value===H?q.language&&(J+=`@${q.language}`):q.datatype.value!==N&&(J+=`^^<${q.datatype.value}>`)),le.termType===M?J+=` <${le.value}>`:le.termType===C&&(J+=` ${le.value}`),J+=" .\n",J}static serializeQuad(G){return JO.serializeQuadComponents(G.subject,G.predicate,G.object,G.graph)}static legacyDatasetToQuads(G){const oe=[],q={"blank node":C,IRI:M,literal:R};for(const le in G)G[le].forEach(ke=>{const ce={};for(const z in ke){const L=ke[z],Q={termType:q[L.type],value:L.value};Q.termType===R&&(Q.datatype={termType:M},"datatype"in L&&(Q.datatype.value=L.datatype),"language"in L?("datatype"in L||(Q.datatype.value=H),Q.language=L.language):"datatype"in L||(Q.datatype.value=N)),ce[z]=Q}ce.graph="@default"===le?{termType:D,value:""}:{termType:le.startsWith("_:")?C:M,value:le},oe.push(ce)});return oe}};const B=/["\\\n\r]/g,Y=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},5067:Pe=>{"use strict";Pe.exports=class{constructor(j){this.current=j.sort(),this.done=!1,this.dir=new Map;for(let H=0;H<j.length;++H)this.dir.set(j[H],!0)}hasNext(){return!this.done}next(){const{current:j,dir:H}=this,N=j.slice();let M=null,C=0;const R=j.length;for(let D=0;D<R;++D){const T=j[D],_=H.get(T);(null===M||T>M)&&(_&&D>0&&T>j[D-1]||!_&&D<R-1&&T>j[D+1])&&(M=T,C=D)}if(null===M)this.done=!0;else{const D=H.get(M)?C-1:C+1;j[C]=j[D],j[D]=M;for(const T of j)T>M&&H.set(T,!H.get(T))}return N}}},4103:(Pe,Re,j)=>{"use strict";var H=j(9344).default;const N=j(4512),M=j(7510),C=j(5067),R=j(5090);function D(T,_){return T.hash<_.hash?-1:T.hash>_.hash?1:0}Pe.exports=class{constructor({createMessageDigest:_=(()=>new M("sha256")),maxDeepIterations:B=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new N("_:c14n"),this.createMessageDigest=_,this.maxDeepIterations=B,this.quads=null,this.deepIterations=null}main(_){var B=this;return H(function*(){B.deepIterations=new Map,B.quads=_;for(const q of _)B._addBlankNodeQuadInfo({quad:q,component:q.subject}),B._addBlankNodeQuadInfo({quad:q,component:q.object}),B._addBlankNodeQuadInfo({quad:q,component:q.graph});const F=new Map,Y=[...B.blankNodeInfo.keys()];let ee=0;for(const q of Y)++ee%100==0&&(yield B._yield()),yield B._hashAndTrackBlankNode({id:q,hashToBlankNodes:F});const V=[...F.keys()].sort(),G=[];for(const q of V){const le=F.get(q);le.length>1?G.push(le):B.canonicalIssuer.getId(le[0])}for(const q of G){const le=[];for(const J of q){if(B.canonicalIssuer.hasId(J))continue;const ke=new N("_:b");ke.getId(J);const ce=yield B.hashNDegreeQuads(J,ke);le.push(ce)}le.sort(D);for(const J of le){const ke=J.issuer.getOldIds();for(const ce of ke)B.canonicalIssuer.getId(ce)}}const oe=[];for(const q of B.quads){const le=R.serializeQuadComponents(B._componentWithCanonicalId(q.subject),q.predicate,B._componentWithCanonicalId(q.object),B._componentWithCanonicalId(q.graph));oe.push(le)}return oe.sort(),oe.join("")})()}hashFirstDegreeQuads(_){var B=this;return H(function*(){const F=[],Y=B.blankNodeInfo.get(_),ee=Y.quads;for(const G of ee){const oe={subject:null,predicate:G.predicate,object:null,graph:null};oe.subject=B.modifyFirstDegreeComponent(_,G.subject,"subject"),oe.object=B.modifyFirstDegreeComponent(_,G.object,"object"),oe.graph=B.modifyFirstDegreeComponent(_,G.graph,"graph"),F.push(R.serializeQuad(oe))}F.sort();const V=B.createMessageDigest();for(const G of F)V.update(G);return Y.hash=yield V.digest(),Y.hash})()}hashRelatedBlankNode(_,B,F,Y){var ee=this;return H(function*(){let V;V=ee.canonicalIssuer.hasId(_)?ee.canonicalIssuer.getId(_):F.hasId(_)?F.getId(_):ee.blankNodeInfo.get(_).hash;const G=ee.createMessageDigest();return G.update(Y),"g"!==Y&&G.update(ee.getRelatedPredicate(B)),G.update(V),G.digest()})()}hashNDegreeQuads(_,B){var F=this;return H(function*(){const Y=F.deepIterations.get(_)||0;if(Y>F.maxDeepIterations)throw new Error(`Maximum deep iterations (${F.maxDeepIterations}) exceeded.`);F.deepIterations.set(_,Y+1);const ee=F.createMessageDigest(),V=yield F.createHashToRelated(_,B),G=[...V.keys()].sort();for(const oe of G){ee.update(oe);let le,q="";const J=new C(V.get(oe));let ke=0;for(;J.hasNext();){const ce=J.next();++ke%3==0&&(yield F._yield());let z=B.clone(),L="";const Q=[];let K=!1;for(const ue of ce)if(F.canonicalIssuer.hasId(ue)?L+=F.canonicalIssuer.getId(ue):(z.hasId(ue)||Q.push(ue),L+=z.getId(ue)),0!==q.length&&L>q){K=!0;break}if(!K){for(const ue of Q){const ge=yield F.hashNDegreeQuads(ue,z);if(L+=z.getId(ue),L+=`<${ge.hash}>`,z=ge.issuer,0!==q.length&&L>q){K=!0;break}}K||(0===q.length||L<q)&&(q=L,le=z)}}ee.update(q),B=le}return{hash:yield ee.digest(),issuer:B}})()}modifyFirstDegreeComponent(_,B){return"BlankNode"!==B.termType?B:{termType:"BlankNode",value:B.value===_?"_:a":"_:z"}}getRelatedPredicate(_){return`<${_.predicate.value}>`}createHashToRelated(_,B){var F=this;return H(function*(){const Y=new Map,ee=F.blankNodeInfo.get(_).quads;let V=0;for(const G of ee)++V%100==0&&(yield F._yield()),yield Promise.all([F._addRelatedBlankNodeHash({quad:G,component:G.subject,position:"s",id:_,issuer:B,hashToRelated:Y}),F._addRelatedBlankNodeHash({quad:G,component:G.object,position:"o",id:_,issuer:B,hashToRelated:Y}),F._addRelatedBlankNodeHash({quad:G,component:G.graph,position:"g",id:_,issuer:B,hashToRelated:Y})]);return Y})()}_hashAndTrackBlankNode({id:_,hashToBlankNodes:B}){var F=this;return H(function*(){const Y=yield F.hashFirstDegreeQuads(_),ee=B.get(Y);ee?ee.push(_):B.set(Y,[_])})()}_addBlankNodeQuadInfo({quad:_,component:B}){if("BlankNode"!==B.termType)return;const F=B.value,Y=this.blankNodeInfo.get(F);Y?Y.quads.add(_):this.blankNodeInfo.set(F,{quads:new Set([_]),hash:null})}_addRelatedBlankNodeHash({quad:_,component:B,position:F,id:Y,issuer:ee,hashToRelated:V}){var G=this;return H(function*(){if("BlankNode"!==B.termType||B.value===Y)return;const oe=B.value,q=yield G.hashRelatedBlankNode(oe,_,ee,F),le=V.get(q);le?le.push(oe):V.set(q,[oe])})()}_componentWithCanonicalId(_){return"BlankNode"!==_.termType||_.value.startsWith(this.canonicalIssuer.prefix)?_:{termType:"BlankNode",value:this.canonicalIssuer.getId(_.value)}}_yield(){return H(function*(){return new Promise(_=>setImmediate(_))})()}}},526:(Pe,Re,j)=>{"use strict";const H=j(4512),N=j(7510),M=j(5067),C=j(5090);function R(D,T){return D.hash<T.hash?-1:D.hash>T.hash?1:0}Pe.exports=class{constructor({createMessageDigest:T=(()=>new N("sha256")),maxDeepIterations:_=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new H("_:c14n"),this.createMessageDigest=T,this.maxDeepIterations=_,this.quads=null,this.deepIterations=null}main(T){this.deepIterations=new Map,this.quads=T;for(const V of T)this._addBlankNodeQuadInfo({quad:V,component:V.subject}),this._addBlankNodeQuadInfo({quad:V,component:V.object}),this._addBlankNodeQuadInfo({quad:V,component:V.graph});const _=new Map,B=[...this.blankNodeInfo.keys()];for(const V of B)this._hashAndTrackBlankNode({id:V,hashToBlankNodes:_});const F=[..._.keys()].sort(),Y=[];for(const V of F){const G=_.get(V);G.length>1?Y.push(G):this.canonicalIssuer.getId(G[0])}for(const V of Y){const G=[];for(const oe of V){if(this.canonicalIssuer.hasId(oe))continue;const q=new H("_:b");q.getId(oe);const le=this.hashNDegreeQuads(oe,q);G.push(le)}G.sort(R);for(const oe of G){const q=oe.issuer.getOldIds();for(const le of q)this.canonicalIssuer.getId(le)}}const ee=[];for(const V of this.quads){const G=C.serializeQuadComponents(this._componentWithCanonicalId({component:V.subject}),V.predicate,this._componentWithCanonicalId({component:V.object}),this._componentWithCanonicalId({component:V.graph}));ee.push(G)}return ee.sort(),ee.join("")}hashFirstDegreeQuads(T){const _=[],B=this.blankNodeInfo.get(T),F=B.quads;for(const ee of F){const V={subject:null,predicate:ee.predicate,object:null,graph:null};V.subject=this.modifyFirstDegreeComponent(T,ee.subject,"subject"),V.object=this.modifyFirstDegreeComponent(T,ee.object,"object"),V.graph=this.modifyFirstDegreeComponent(T,ee.graph,"graph"),_.push(C.serializeQuad(V))}_.sort();const Y=this.createMessageDigest();for(const ee of _)Y.update(ee);return B.hash=Y.digest(),B.hash}hashRelatedBlankNode(T,_,B,F){let Y;Y=this.canonicalIssuer.hasId(T)?this.canonicalIssuer.getId(T):B.hasId(T)?B.getId(T):this.blankNodeInfo.get(T).hash;const ee=this.createMessageDigest();return ee.update(F),"g"!==F&&ee.update(this.getRelatedPredicate(_)),ee.update(Y),ee.digest()}hashNDegreeQuads(T,_){const B=this.deepIterations.get(T)||0;if(B>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(T,B+1);const F=this.createMessageDigest(),Y=this.createHashToRelated(T,_),ee=[...Y.keys()].sort();for(const V of ee){F.update(V);let oe,G="";const q=new M(Y.get(V));for(;q.hasNext();){const le=q.next();let J=_.clone(),ke="";const ce=[];let z=!1;for(const L of le)if(this.canonicalIssuer.hasId(L)?ke+=this.canonicalIssuer.getId(L):(J.hasId(L)||ce.push(L),ke+=J.getId(L)),0!==G.length&&ke>G){z=!0;break}if(!z){for(const L of ce){const Q=this.hashNDegreeQuads(L,J);if(ke+=J.getId(L),ke+=`<${Q.hash}>`,J=Q.issuer,0!==G.length&&ke>G){z=!0;break}}z||(0===G.length||ke<G)&&(G=ke,oe=J)}}F.update(G),_=oe}return{hash:F.digest(),issuer:_}}modifyFirstDegreeComponent(T,_){return"BlankNode"!==_.termType?_:{termType:"BlankNode",value:_.value===T?"_:a":"_:z"}}getRelatedPredicate(T){return`<${T.predicate.value}>`}createHashToRelated(T,_){const B=new Map,F=this.blankNodeInfo.get(T).quads;for(const Y of F)this._addRelatedBlankNodeHash({quad:Y,component:Y.subject,position:"s",id:T,issuer:_,hashToRelated:B}),this._addRelatedBlankNodeHash({quad:Y,component:Y.object,position:"o",id:T,issuer:_,hashToRelated:B}),this._addRelatedBlankNodeHash({quad:Y,component:Y.graph,position:"g",id:T,issuer:_,hashToRelated:B});return B}_hashAndTrackBlankNode({id:T,hashToBlankNodes:_}){const B=this.hashFirstDegreeQuads(T),F=_.get(B);F?F.push(T):_.set(B,[T])}_addBlankNodeQuadInfo({quad:T,component:_}){if("BlankNode"!==_.termType)return;const B=_.value,F=this.blankNodeInfo.get(B);F?F.quads.add(T):this.blankNodeInfo.set(B,{quads:new Set([T]),hash:null})}_addRelatedBlankNodeHash({quad:T,component:_,position:B,id:F,issuer:Y,hashToRelated:ee}){if("BlankNode"!==_.termType||_.value===F)return;const V=_.value,G=this.hashRelatedBlankNode(V,T,Y,B),oe=ee.get(G);oe?oe.push(V):ee.set(G,[V])}_componentWithCanonicalId({component:T}){return"BlankNode"!==T.termType||T.value.startsWith(this.canonicalIssuer.prefix)?T:{termType:"BlankNode",value:this.canonicalIssuer.getId(T.value)}}}},1359:(Pe,Re,j)=>{"use strict";var H=j(9344).default;const N=j(7510),M=j(4103);Pe.exports=class extends M{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new N("sha1")}modifyFirstDegreeComponent(R,D,T){return"BlankNode"!==D.termType?D:"graph"===T?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:D.value===R?"_:a":"_:z"}}getRelatedPredicate(R){return R.predicate.value}createHashToRelated(R,D){var T=this;return H(function*(){const _=new Map,B=T.blankNodeInfo.get(R).quads;let F=0;for(const Y of B){let ee,V;if("BlankNode"===Y.subject.termType&&Y.subject.value!==R)V=Y.subject.value,ee="p";else{if("BlankNode"!==Y.object.termType||Y.object.value===R)continue;V=Y.object.value,ee="r"}++F%100==0&&(yield T._yield());const G=yield T.hashRelatedBlankNode(V,Y,D,ee),oe=_.get(G);oe?oe.push(V):_.set(G,[V])}return _})()}}},7492:(Pe,Re,j)=>{"use strict";const H=j(7510),N=j(526);Pe.exports=class extends N{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new H("sha1")}modifyFirstDegreeComponent(C,R,D){return"BlankNode"!==R.termType?R:"graph"===D?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:R.value===C?"_:a":"_:z"}}getRelatedPredicate(C){return C.predicate.value}createHashToRelated(C,R){const D=new Map,T=this.blankNodeInfo.get(C).quads;for(const _ of T){let B,F;if("BlankNode"===_.subject.termType&&_.subject.value!==C)F=_.subject.value,B="p";else{if("BlankNode"!==_.object.termType||_.object.value===C)continue;F=_.object.value,B="r"}const Y=this.hashRelatedBlankNode(F,_,R,B),ee=D.get(Y);ee?ee.push(F):D.set(Y,[F])}return D}}},1358:(Pe,Re,j)=>{"use strict";var H=j(9344).default;const N=j(4103),M=j(1359),C=j(526),R=j(7492);let D;try{D=j(7670)}catch{}Re.NQuads=j(5090),Re.IdentifierIssuer=j(4512),Re._rdfCanonizeNative=function(T){return T&&(D=T),D},Re.canonize=function(){var T=H(function*(_,B){if(Array.isArray(_)||(_=Re.NQuads.legacyDatasetToQuads(_)),B.useNative){if(!D)throw new Error("rdf-canonize-native not available");if(B.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((F,Y)=>D.canonize(_,B,(ee,V)=>ee?Y(ee):F(V)))}if("URDNA2015"===B.algorithm)return new N(B).main(_);if("URGNA2012"===B.algorithm){if(B.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new M(B).main(_)}throw"algorithm"in B?new Error("Invalid RDF Dataset Canonicalization algorithm: "+B.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")});return function(_,B){return T.apply(this,arguments)}}(),Re._canonizeSync=function(T,_){if(Array.isArray(T)||(T=Re.NQuads.legacyDatasetToQuads(T)),_.useNative){if(!D)throw new Error("rdf-canonize-native not available");if(_.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return D.canonizeSync(T,_)}if("URDNA2015"===_.algorithm)return new C(_).main(T);if("URGNA2012"===_.algorithm){if(_.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new R(_).main(T)}throw"algorithm"in _?new Error("Invalid RDF Dataset Canonicalization algorithm: "+_.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},6563:function(){!function(Pe,Re){"use strict";if(!Pe.setImmediate){var C,j=1,H={},N=!1,M=Pe.document,oe=Object.getPrototypeOf&&Object.getPrototypeOf(Pe);oe=oe&&oe.setTimeout?oe:Pe,"[object process]"==={}.toString.call(Pe.process)?function B(){C=function(q){process.nextTick(function(){_(q)})}}():function F(){if(Pe.postMessage&&!Pe.importScripts){var q=!0,le=Pe.onmessage;return Pe.onmessage=function(){q=!1},Pe.postMessage("","*"),Pe.onmessage=le,q}}()?function Y(){var q="setImmediate$"+Math.random()+"$",le=function(J){J.source===Pe&&"string"==typeof J.data&&0===J.data.indexOf(q)&&_(+J.data.slice(q.length))};Pe.addEventListener?Pe.addEventListener("message",le,!1):Pe.attachEvent("onmessage",le),C=function(J){Pe.postMessage(q+J,"*")}}():Pe.MessageChannel?function ee(){var q=new MessageChannel;q.port1.onmessage=function(le){_(le.data)},C=function(le){q.port2.postMessage(le)}}():M&&"onreadystatechange"in M.createElement("script")?function V(){var q=M.documentElement;C=function(le){var J=M.createElement("script");J.onreadystatechange=function(){_(le),J.onreadystatechange=null,q.removeChild(J),J=null},q.appendChild(J)}}():function G(){C=function(q){setTimeout(_,0,q)}}(),oe.setImmediate=function R(q){"function"!=typeof q&&(q=new Function(""+q));for(var le=new Array(arguments.length-1),J=0;J<le.length;J++)le[J]=arguments[J+1];var ke={callback:q,args:le};return H[j]=ke,C(j),j++},oe.clearImmediate=D}function D(q){delete H[q]}function _(q){if(N)setTimeout(_,0,q);else{var le=H[q];if(le){N=!0;try{!function T(q){var le=q.callback,J=q.args;switch(J.length){case 0:le();break;case 1:le(J[0]);break;case 2:le(J[0],J[1]);break;case 3:le(J[0],J[1],J[2]);break;default:le.apply(void 0,J)}}(le)}finally{D(q),N=!1}}}}}(typeof self>"u"?typeof global>"u"?this:global:self)},7670:()=>{},9344:Pe=>{function Re(H,N,M,C,R,D,T){try{var _=H[D](T),B=_.value}catch(F){return void M(F)}_.done?N(B):Promise.resolve(B).then(C,R)}Pe.exports=function j(H){return function(){var N=this,M=arguments;return new Promise(function(C,R){var D=H.apply(N,M);function T(B){Re(D,C,R,T,_,"next",B)}function _(B){Re(D,C,R,T,_,"throw",B)}T(void 0)})}},Pe.exports.__esModule=!0,Pe.exports.default=Pe.exports}},Pe=>{Pe(Pe.s=369)}]);
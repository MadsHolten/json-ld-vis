(self.webpackChunkjson_ld_vis=self.webpackChunkjson_ld_vis||[]).push([[179],{2749:(j,ee,v)=>{"use strict";function _(n){return"function"==typeof n}function T(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const x=T(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function E(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class C{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(_(r))try{r()}catch(o){e=o instanceof x?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{S(o)}catch(a){e=e??[],a instanceof x?e=[...e,...a.errors]:e.push(a)}}if(e)throw new x(e)}}add(e){var t;if(e&&e!==this)if(this.closed)S(e);else{if(e instanceof C){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&E(t,e)}remove(e){const{_finalizers:t}=this;t&&E(t,e),e instanceof C&&e._removeParent(this)}}C.EMPTY=(()=>{const n=new C;return n.closed=!0,n})();const b=C.EMPTY;function k(n){return n instanceof C||n&&"closed"in n&&_(n.remove)&&_(n.add)&&_(n.unsubscribe)}function S(n){_(n)?n():n.unsubscribe()}const P={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},R={setTimeout(n,e,...t){const{delegate:r}=R;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=R;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function A(n){R.setTimeout(()=>{const{onUnhandledError:e}=P;if(!e)throw n;e(n)})}function F(){}const N=U("C",void 0,void 0);function U(n,e,t){return{kind:n,value:e,error:t}}let Z=null;function X(n){if(P.useDeprecatedSynchronousErrorHandling){const e=!Z;if(e&&(Z={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Z;if(Z=null,t)throw r}}else n()}class te extends C{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,k(e)&&e.add(this)):this.destination=de}static create(e,t,r){return new q(e,t,r)}next(e){this.isStopped?se(function J(n){return U("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?se(function B(n){return U("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?se(N,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const G=Function.prototype.bind;function V(n,e){return G.call(n,e)}class H{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ae(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ae(r)}else ae(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ae(t)}}}class q extends te{constructor(e,t,r){let i;if(super(),_(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&P.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&V(e.next,o),error:e.error&&V(e.error,o),complete:e.complete&&V(e.complete,o)}):i=e}this.destination=new H(i)}}function ae(n){P.useDeprecatedSynchronousErrorHandling?function ie(n){P.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=n)}(n):A(n)}function se(n,e){const{onStoppedNotification:t}=P;t&&R.setTimeout(()=>t(n,e))}const de={closed:!0,next:F,error:function ue(n){throw n},complete:F},we="function"==typeof Symbol&&Symbol.observable||"@@observable";function fe(n){return n}let _e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function qe(n){return n&&n instanceof te||function ge(n){return n&&_(n.next)&&_(n.error)&&_(n.complete)}(n)&&k(n)}(t)?t:new q(t,r,i);return X(()=>{const{operator:a,source:c}=this;o.add(a?a.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ce(r))((i,o)=>{const a=new q({next:c=>{try{t(c)}catch(h){o(h),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[we](){return this}pipe(...t){return function Ve(n){return 0===n.length?fe:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Ce(t))((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return n.create=e=>new n(e),n})();function Ce(n){var e;return null!==(e=n??P.Promise)&&void 0!==e?e:Promise}const Xe=T(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Me=(()=>{class n extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new et(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Xe}next(t){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?b:(this.currentObservers=null,o.push(t),new C(()=>{this.currentObservers=null,E(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new _e;return t.source=this,t}}return n.create=(e,t)=>new et(e,t),n})();class et extends Me{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:b}}function Be(n){return e=>{if(function Tt(n){return _(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Le(n,e,t,r,i){return new Ue(n,e,t,r,i)}class Ue extends te{constructor(e,t,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=t?function(c){try{t(c)}catch(h){e.error(h)}}:super._next,this._error=i?function(c){try{i(c)}catch(h){e.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ne(n,e){return Be((t,r)=>{let i=0;t.subscribe(Le(r,o=>{r.next(n.call(e,o,i++))}))})}function Pn(n){return this instanceof Pn?(this.v=n,this):new Pn(n)}function Ys(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Rr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(a){return new Promise(function(c,h){!function i(o,a,c,h){Promise.resolve(h).then(function(g){o({value:g,done:c})},a)}(c,h,(a=n[o](a)).done,a.value)})}}}const Gi=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ba(n){return _(n?.then)}function Ga(n){return _(n[we])}function _a(n){return Symbol.asyncIterator&&_(n?.[Symbol.asyncIterator])}function fd(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Cl=function El(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Gh(n){return _(n?.[Cl])}function ks(n){return function xl(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a($){r[$]&&(i[$]=function(K){return new Promise(function(re,he){o.push([$,K,re,he])>1||c($,K)})})}function c($,K){try{!function h($){$.value instanceof Pn?Promise.resolve($.value.v).then(g,y):O(o[0][2],$)}(r[$](K))}catch(re){O(o[0][3],re)}}function g($){c("next",$)}function y($){c("throw",$)}function O($,K){$(K),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Pn(t.read());if(i)return yield Pn(void 0);yield yield Pn(r)}}finally{t.releaseLock()}})}function Ms(n){return _(n?.getReader)}function so(n){if(n instanceof _e)return n;if(null!=n){if(Ga(n))return function $a(n){return new _e(e=>{const t=n[we]();if(_(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Gi(n))return function $h(n){return new _e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ba(n))return function Wh(n){return new _e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,A)})}(n);if(_a(n))return md(n);if(Gh(n))return function pd(n){return new _e(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Ms(n))return function Yp(n){return md(ks(n))}(n)}throw fd(n)}function md(n){return new _e(e=>{(function ru(n,e){var t,r,i,o;return function ir(n,e,t,r){return new(t||(t=Promise))(function(o,a){function c(y){try{g(r.next(y))}catch(O){a(O)}}function h(y){try{g(r.throw(y))}catch(O){a(O)}}function g(y){y.done?o(y.value):function i(o){return o instanceof t?o:new t(function(a){a(o)})}(y.value).then(c,h)}g((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Ys(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ts(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Wa(n,e,t=1/0){return _(e)?Wa((r,i)=>Ne((o,a)=>e(r,o,i,a))(so(n(r,i))),t):("number"==typeof e&&(t=e),Be((r,i)=>function iu(n,e,t,r,i,o,a,c){const h=[];let g=0,y=0,O=!1;const $=()=>{O&&!h.length&&!g&&e.complete()},K=he=>g<r?re(he):h.push(he),re=he=>{o&&e.next(he),g++;let xe=!1;so(t(he,y++)).subscribe(Le(e,Pe=>{i?.(Pe),o?K(Pe):e.next(Pe)},()=>{xe=!0},void 0,()=>{if(xe)try{for(g--;h.length&&g<r;){const Pe=h.shift();a?Ts(e,a,()=>re(Pe)):re(Pe)}$()}catch(Pe){e.error(Pe)}}))};return n.subscribe(Le(e,K,()=>{O=!0,$()})),()=>{c?.()}}(r,i,n,t)))}function ou(n=1/0){return Wa(fe,n)}const Br=new _e(n=>n.complete());function gd(n){return n&&_(n.schedule)}function Yo(n){return n[n.length-1]}function Yh(n){return _(Yo(n))?n.pop():void 0}function Dl(n){return gd(Yo(n))?n.pop():void 0}function vd(n,e=0){return Be((t,r)=>{t.subscribe(Le(r,i=>Ts(r,n,()=>r.next(i),e),()=>Ts(r,n,()=>r.complete(),e),i=>Ts(r,n,()=>r.error(i),e)))})}function Ii(n,e=0){return Be((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Is(n,e){if(!n)throw new Error("Iterable cannot be null");return new _e(t=>{Ts(t,e,()=>{const r=n[Symbol.asyncIterator]();Ts(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Sl(n,e){return e?function Oo(n,e){if(null!=n){if(Ga(n))return function xa(n,e){return so(n).pipe(Ii(e),vd(e))}(n,e);if(Gi(n))return function Lv(n,e){return new _e(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ba(n))return function yd(n,e){return so(n).pipe(Ii(e),vd(e))}(n,e);if(_a(n))return Is(n,e);if(Gh(n))return function As(n,e){return new _e(t=>{let r;return Ts(t,e,()=>{r=n[Cl](),Ts(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){return void t.error(a)}o?t.complete():t.next(i)},0,!0)}),()=>_(r?.return)&&r.return()})}(n,e);if(Ms(n))return function Xh(n,e){return Is(ks(n),e)}(n,e)}throw fd(n)}(n,e):so(n)}function kl(...n){const e=Dl(n),t=function Kp(n,e){return"number"==typeof Yo(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?so(r[0]):ou(t)(Sl(r,e)):Br}function Ya(n={}){const{connector:e=(()=>new Me),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let a,c,h,g=0,y=!1,O=!1;const $=()=>{c?.unsubscribe(),c=void 0},K=()=>{$(),a=h=void 0,y=O=!1},re=()=>{const he=a;K(),he?.unsubscribe()};return Be((he,xe)=>{g++,!O&&!y&&$();const Pe=h=h??e();xe.add(()=>{g--,0===g&&!O&&!y&&(c=Ml(re,i))}),Pe.subscribe(xe),!a&&g>0&&(a=new q({next:Je=>Pe.next(Je),error:Je=>{O=!0,$(),c=Ml(K,t,Je),Pe.error(Je)},complete:()=>{y=!0,$(),c=Ml(K,r),Pe.complete()}}),so(he).subscribe(a))})(o)}}function Ml(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new q({next:()=>{r.unsubscribe(),n()}});return so(e(...t)).subscribe(r)}function Ir(n){for(let e in n)if(n[e]===Ir)return e;throw Error("Could not find renamed property on target object.")}function Ie(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function De(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(De).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ye(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const _t=Ir({__forward_ref__:Ir});function lt(n){return n.__forward_ref__=lt,n.toString=function(){return De(this())},n}function ht(n){return an(n)?n():n}function an(n){return"function"==typeof n&&n.hasOwnProperty(_t)&&n.__forward_ref__===lt}function Bt(n){return n&&!!n.\u0275providers}const vn="https://g.co/ng/security#xss";class Ze extends Error{constructor(e,t){super(fr(e,t)),this.code=e}}function fr(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function qt(n){return"string"==typeof n?n:null==n?"":String(n)}function Qt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():qt(n)}function lr(n,e){throw new Ze(-201,!1)}function Oi(n,e){null==n&&function En(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function on(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function zn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ks(n){return ls(n,Xa)||ls(n,au)}function ls(n,e){return n.hasOwnProperty(e)?n[e]:null}function qs(n){return n&&(n.hasOwnProperty(_d)||n.hasOwnProperty(qp))?n[_d]:null}const Xa=Ir({\u0275prov:Ir}),_d=Ir({\u0275inj:Ir}),au=Ir({ngInjectableDef:Ir}),qp=Ir({ngInjectorDef:Ir});var xn=(()=>((xn=xn||{})[xn.Default=0]="Default",xn[xn.Host=1]="Host",xn[xn.Self=2]="Self",xn[xn.SkipSelf=4]="SkipSelf",xn[xn.Optional=8]="Optional",xn))();let xd;function Vr(n){const e=xd;return xd=n,e}function cs(n,e,t){const r=Ks(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&xn.Optional?null:void 0!==e?e:void lr(De(n))}const Nr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ps={},Za="__NG_DI_FLAG__",Xo="ngTempTokenPath",Il="ngTokenPath",qh=/\n/gm,bc="\u0275",yo="__source";let lu;function Ol(n){const e=lu;return lu=n,e}function Ed(n,e=xn.Default){if(void 0===lu)throw new Ze(-203,!1);return null===lu?cs(n,void 0,e):lu.get(n,e&xn.Optional?null:void 0,e)}function xt(n,e=xn.Default){return(function Zp(){return xd}()||Ed)(ht(n),e)}function Zs(n,e=xn.Default){return xt(n,cu(e))}function cu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Jp(n){const e=[];for(let t=0;t<n.length;t++){const r=ht(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Ze(900,!1);let i,o=xn.Default;for(let a=0;a<r.length;a++){const c=r[a],h=Vv(c);"number"==typeof h?-1===h?i=c.token:o|=h:i=c}e.push(xt(i,o))}else e.push(xt(r))}return e}function Cd(n,e){return n[Za]=e,n.prototype[Za]=e,n}function Vv(n){return n[Za]}function us(n){return{toString:n}.toString()}var Qs=(()=>((Qs=Qs||{})[Qs.OnPush=0]="OnPush",Qs[Qs.Default=1]="Default",Qs))(),Js=(()=>{return(n=Js||(Js={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Js;var n})();const Qa={},Ar=[],Dd=Ir({\u0275cmp:Ir}),em=Ir({\u0275dir:Ir}),tm=Ir({\u0275pipe:Ir}),Ja=Ir({\u0275fac:Ir}),Sd=Ir({__NG_ELEMENT_ID__:Ir});let Ix=0;function ti(n){return us(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Qs.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ar,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Js.Emulated,id:"c"+Ix++,styles:n.styles||Ar,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=n.dependencies,a=n.features;return i.inputs=nm(n.inputs,r),i.outputs=nm(n.outputs),a&&a.forEach(c=>c(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Gv).filter($v):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map($i).filter($v):null,i})}function Gv(n){return mr(n)||wi(n)}function $v(n){return null!==n}function _r(n){return us(()=>({type:n.type,bootstrap:n.bootstrap||Ar,declarations:n.declarations||Ar,imports:n.imports||Ar,exports:n.exports||Ar,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function nm(n,e){if(null==n)return Qa;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const Jt=ti;function mr(n){return n[Dd]||null}function wi(n){return n[em]||null}function $i(n){return n[tm]||null}const Ns=0,en=1,Hn=2,li=3,ea=4,_c=5,bo=6,xc=7,mi=8,Zh=9,Qh=10,Gn=11,rm=12,Md=13,im=14,du=15,_o=16,Td=17,hu=18,ta=19,Rl=20,Yv=21,Qr=22,om=1,Xv=2,Jh=7,ef=8,fu=9,Po=10;function ds(n){return Array.isArray(n)&&"object"==typeof n[om]}function Fs(n){return Array.isArray(n)&&!0===n[om]}function sm(n){return 0!=(4&n.flags)}function Ad(n){return n.componentOffset>-1}function tf(n){return 1==(1&n.flags)}function qo(n){return null!==n.template}function Px(n){return 0!=(256&n[Hn])}function wa(n,e){return n.hasOwnProperty(Ja)?n[Ja]:null}class xr{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function $n(){return sn}function sn(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ux),lm}function lm(){const n=ey(this),e=n?.current;if(e){const t=n.previous;if(t===Qa)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Ux(n,e,t,r){const i=this.declaredInputs[t],o=ey(n)||function mu(n,e){return n[Jv]=e}(n,{previous:Qa,current:null}),a=o.current||(o.current={}),c=o.previous,h=c[i];a[i]=new xr(h&&h.currentValue,e,c===Qa),n[r]=e}$n.ngInherit=!0;const Jv="__ngSimpleChanges__";function ey(n){return n[Jv]||null}const Ls=function(n,e,t){},ty="svg";function ao(n){for(;Array.isArray(n);)n=n[Ns];return n}function Od(n,e){return ao(e[n])}function hs(n,e){return ao(e[n.index])}function nf(n,e){return n.data[e]}function gr(n,e){const t=e[n];return ds(t)?t:t[Ns]}function rf(n){return 64==(64&n[Hn])}function Nl(n,e){return null==e?null:n[e]}function el(n){n[hu]=0}function Ca(n,e){n[_c]+=e;let t=n,r=n[li];for(;null!==r&&(1===e&&1===t[_c]||-1===e&&0===t[_c]);)r[_c]+=e,t=r,r=r[li]}const _n={lFrame:dy(null),bindingsEnabled:!0};function oy(){return _n.bindingsEnabled}function At(){return _n.lFrame.lView}function Jn(){return _n.lFrame.tView}function Bi(n){return _n.lFrame.contextLView=n,n[mi]}function gi(n){return _n.lFrame.contextLView=null,n}function Ur(){let n=dm();for(;null!==n&&64===n.type;)n=n.parent;return n}function dm(){return _n.lFrame.currentTNode}function na(n,e){const t=_n.lFrame;t.currentTNode=n,t.isParent=e}function hm(){return _n.lFrame.isParent}function Fl(){_n.lFrame.isParent=!1}function Bl(){return _n.lFrame.bindingIndex++}function tl(n){const e=_n.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ly(n,e){const t=_n.lFrame;t.bindingIndex=t.bindingRootIndex=n,sf(e)}function sf(n){_n.lFrame.currentDirectiveIndex=n}function cy(){return _n.lFrame.currentQueryIndex}function wc(n){_n.lFrame.currentQueryIndex=n}function Ld(n){const e=n[en];return 2===e.type?e.declTNode:1===e.type?n[bo]:null}function pm(n,e,t){if(t&xn.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&xn.Host||(i=Ld(o),null===i||(o=o[du],10&i.type))););if(null===i)return!1;e=i,n=o}const r=_n.lFrame=uy();return r.currentTNode=e,r.lView=n,!0}function mm(n){const e=uy(),t=n[en];_n.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function uy(){const n=_n.lFrame,e=null===n?null:n.child;return null===e?dy(n):e}function dy(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function hy(){const n=_n.lFrame;return _n.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const fy=hy;function gm(){const n=hy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function No(){return _n.lFrame.selectedIndex}function Vl(n){_n.lFrame.selectedIndex=n}function ci(){const n=_n.lFrame;return nf(n.tView,n.selectedIndex)}function Bd(){_n.lFrame.currentNamespace=ty}function Vd(){!function zd(){_n.lFrame.currentNamespace=null}()}function cf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:h,ngAfterViewChecked:g,ngOnDestroy:y}=o;a&&(n.contentHooks||(n.contentHooks=[])).push(-t,a),c&&((n.contentHooks||(n.contentHooks=[])).push(t,c),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,c)),h&&(n.viewHooks||(n.viewHooks=[])).push(-t,h),g&&((n.viewHooks||(n.viewHooks=[])).push(t,g),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,g)),null!=y&&(n.destroyHooks||(n.destroyHooks=[])).push(t,y)}}function Hd(n,e,t){Ud(n,e,3,t)}function jd(n,e,t,r){(3&n[Hn])===t&&Ud(n,e,t,r)}function vm(n,e){let t=n[Hn];(3&t)===e&&(t&=2047,t+=1,n[Hn]=t)}function Ud(n,e,t,r){const o=r??-1,a=e.length-1;let c=0;for(let h=void 0!==r?65535&n[hu]:0;h<a;h++)if("number"==typeof e[h+1]){if(c=e[h],null!=r&&c>=r)break}else e[h]<0&&(n[hu]+=65536),(c<o||-1==o)&&(zl(n,t,e,h),n[hu]=(4294901760&n[hu])+h+2),h++}function zl(n,e,t,r){const i=t[r]<0,o=t[r+1],c=n[i?-t[r]:t[r]];if(i){if(n[Hn]>>11<n[hu]>>16&&(3&n[Hn])===e){n[Hn]+=2048,Ls(4,c,o);try{o.call(c)}finally{Ls(5,c,o)}}}else{Ls(4,c,o);try{o.call(c)}finally{Ls(5,c,o)}}}const Ec=-1;class yu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function _u(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],a=t[r++],c=t[r++];n.setAttribute(e,a,c,o)}else{const o=i,a=t[++r];vy(o)?n.setProperty(e,o,a):n.setAttribute(e,o,a),r++}}return r}function gy(n){return 3===n||4===n||6===n}function vy(n){return 64===n.charCodeAt(0)}function Hl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||ym(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function ym(n,e,t,r,i){let o=0,a=n.length;if(-1===e)a=-1;else for(;o<n.length;){const c=n[o++];if("number"==typeof c){if(c===e){a=-1;break}if(c>e){a=o-1;break}}}for(;o<n.length;){const c=n[o];if("number"==typeof c)break;if(c===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(n.splice(a,0,e),o=a+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Gd(n){return n!==Ec}function Cc(n){return 32767&n}function xu(n,e){let t=function lo(n){return n>>16}(n),r=e;for(;t>0;)r=r[du],t--;return r}let $d=!0;function nl(n){const e=$d;return $d=n,e}const yy=255,by=5;let Jx=0;const co={};function rl(n,e){const t=bm(n,e);if(-1!==t)return t;const r=e[en];r.firstCreatePass&&(n.injectorIndex=e.length,Wi(r.data,n),Wi(e,null),Wi(r.blueprint,null));const i=uf(n,e),o=n.injectorIndex;if(Gd(i)){const a=Cc(i),c=xu(i,e),h=c[en].data;for(let g=0;g<8;g++)e[o+g]=c[a+g]|h[a+g]}return e[o+8]=i,o}function Wi(n,e){n.push(0,0,0,0,0,0,0,0,e)}function bm(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function uf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Em(i),null===r)return Ec;if(t++,i=i[du],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ec}function df(n,e,t){!function _y(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Sd)&&(r=t[Sd]),null==r&&(r=t[Sd]=Jx++);const i=r&yy;e.data[n+(i>>by)]|=1<<i}(n,e,t)}function _m(n,e,t){if(t&xn.Optional||void 0!==n)return n;lr()}function xm(n,e,t,r){if(t&xn.Optional&&void 0===r&&(r=null),!(t&(xn.Self|xn.Host))){const i=n[Zh],o=Vr(void 0);try{return i?i.get(e,r,t&xn.Optional):cs(e,r,t&xn.Optional)}finally{Vr(o)}}return _m(r,0,t)}function Yi(n,e,t,r=xn.Default,i){if(null!==n){if(1024&e[Hn]){const a=function tw(n,e,t,r,i){let o=n,a=e;for(;null!==o&&null!==a&&1024&a[Hn]&&!(256&a[Hn]);){const c=Gr(o,a,t,r|xn.Self,co);if(c!==co)return c;let h=o.parent;if(!h){const g=a[Yv];if(g){const y=g.get(t,co,r);if(y!==co)return y}h=Em(a),a=a[du]}o=h}return i}(n,e,t,r,co);if(a!==co)return a}const o=Gr(n,e,t,r,co);if(o!==co)return o}return xm(e,t,r,i)}function Gr(n,e,t,r,i){const o=function Kr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Sd)?n[Sd]:void 0;return"number"==typeof e?e>=0?e&yy:wu:e}(t);if("function"==typeof o){if(!pm(e,n,r))return r&xn.Host?_m(i,0,r):xm(e,t,r,i);try{const a=o(r);if(null!=a||r&xn.Optional)return a;lr()}finally{fy()}}else if("number"==typeof o){let a=null,c=bm(n,e),h=Ec,g=r&xn.Host?e[_o][bo]:null;for((-1===c||r&xn.SkipSelf)&&(h=-1===c?uf(n,e):e[c+8],h!==Ec&&wm(r,!1)?(a=e[en],c=Cc(h),e=xu(h,e)):c=-1);-1!==c;){const y=e[en];if(Wd(o,c,y.data)){const O=ew(c,e,t,a,r,g);if(O!==co)return O}h=e[c+8],h!==Ec&&wm(r,e[en].data[c+8]===g)&&Wd(o,c,e)?(a=y,c=Cc(h),e=xu(h,e)):c=-1}}return i}function ew(n,e,t,r,i,o){const a=e[en],c=a.data[n+8],y=hf(c,a,t,null==r?Ad(c)&&$d:r!=a&&0!=(3&c.type),i&xn.Host&&o===c);return null!==y?Dc(e,a,y,c):co}function hf(n,e,t,r,i){const o=n.providerIndexes,a=e.data,c=1048575&o,h=n.directiveStart,y=o>>20,$=i?c+y:n.directiveEnd;for(let K=r?c:c+y;K<$;K++){const re=a[K];if(K<h&&t===re||K>=h&&re.type===t)return K}if(i){const K=a[h];if(K&&qo(K)&&K.type===t)return h}return null}function Dc(n,e,t,r){let i=n[t];const o=e.data;if(function qx(n){return n instanceof yu}(i)){const a=i;a.resolving&&function Yr(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${n}${t}`)}(Qt(o[t]));const c=nl(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?Vr(a.injectImpl):null;pm(n,r,xn.Default);try{i=n[t]=a.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function py(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const a=sn(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==h&&Vr(h),nl(c),a.resolving=!1,fy()}}return i}function Wd(n,e,t){return!!(t[e+(n>>by)]&1<<n)}function wm(n,e){return!(n&xn.Self||n&xn.Host&&e)}class Sc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Yi(this._tNode,this._lView,e,cu(r),t)}}function wu(){return new Sc(Ur(),At())}function Vi(n){return us(()=>{const e=n.prototype.constructor,t=e[Ja]||kc(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Ja]||kc(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function kc(n){return an(n)?()=>{const e=kc(ht(n));return e&&e()}:wa(n)}function Em(n){const e=n[en],t=e.type;return 2===t?e.declTNode:1===t?n[bo]:null}function Mc(n){return function xy(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(gy(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Ur(),n)}const il="__parameters__";function Du(n,e,t){return us(()=>{const r=function Cu(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const a=new i(...o);return c.annotation=a,c;function c(h,g,y){const O=h.hasOwnProperty(il)?h[il]:Object.defineProperty(h,il,{value:[]})[il];for(;O.length<=y;)O.push(null);return(O[y]=O[y]||[]).push(a),h}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Nt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=on({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ia(n,e){n.forEach(t=>Array.isArray(t)?ia(t,e):e(t))}function Su(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ic(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Xd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Zo(n,e,t){let r=Oc(n,e);return r>=0?n[1|r]=t:(r=~r,function Ey(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function km(n,e){const t=Oc(n,e);if(t>=0)return n[1|t]}function Oc(n,e){return function Dy(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),a=n[o<<t];if(e===a)return o<<t;a>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const bf=Cd(Du("Inject",n=>({token:n})),-1),jl=Cd(Du("Optional"),8),Kd=Cd(Du("SkipSelf"),4);var vi=(()=>((vi=vi||{})[vi.Important=1]="Important",vi[vi.DashCase=2]="DashCase",vi))();const Gl=new Map;let Fm=0;const Vm="__ngContext__";function Eo(n,e){ds(e)?(n[Vm]=e[Rl],function _w(n){Gl.set(n[Rl],n)}(e)):n[Vm]=e}let zm;function Nc(n,e){return zm(n,e)}function th(n){const e=n[li];return Fs(e)?e[li]:e}function Hm(n){return Uy(n[Md])}function jm(n){return Uy(n[ea])}function Uy(n){for(;null!==n&&!Fs(n);)n=n[ea];return n}function Ou(n,e,t,r,i){if(null!=r){let o,a=!1;Fs(r)?o=r:ds(r)&&(a=!0,r=r[Ns]);const c=ao(r);0===n&&null!==t?null==i?Qy(e,t,c):Co(e,t,c,i||null,!0):1===n&&null!==t?Co(e,t,c,i||null,!0):2===n?function Sa(n,e,t){const r=Sf(n,e);r&&function Tw(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,c,a):3===n&&e.destroyNode(c),null!=o&&function tb(n,e,t,r,i){const o=t[Jh];o!==ao(t)&&Ou(e,n,r,o,i);for(let c=Po;c<t.length;c++){const h=t[c];Ru(h[en],h,n,e,r,o)}}(e,n,o,t,i)}}function Gm(n,e,t){return n.createElement(e,t)}function Xy(n,e){const t=n[fu],r=t.indexOf(e),i=e[li];512&e[Hn]&&(e[Hn]&=-513,Ca(i,-1)),t.splice(r,1)}function Df(n,e){if(n.length<=Po)return;const t=Po+e,r=n[t];if(r){const i=r[Td];null!==i&&i!==n&&Xy(i,r),e>0&&(n[t-1][ea]=r[ea]);const o=Ic(n,Po+e);!function $y(n,e){Ru(n,e,e[Gn],2,null,null),e[Ns]=null,e[bo]=null}(r[en],r);const a=o[ta];null!==a&&a.detachView(o[en]),r[li]=null,r[ea]=null,r[Hn]&=-65}return r}function $m(n,e){if(!(128&e[Hn])){const t=e[Gn];t.destroyNode&&Ru(n,e,t,3,null,null),function Wy(n){let e=n[Md];if(!e)return Wm(n[en],n);for(;e;){let t=null;if(ds(e))t=e[Md];else{const r=e[Po];r&&(t=r)}if(!t){for(;e&&!e[ea]&&e!==n;)ds(e)&&Wm(e[en],e),e=e[li];null===e&&(e=n),ds(e)&&Wm(e[en],e),t=e&&e[ea]}e=t}}(e)}}function Wm(n,e){if(!(128&e[Hn])){e[Hn]&=-65,e[Hn]|=128,function Ky(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof yu)){const o=t[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const c=i[o[a]],h=o[a+1];Ls(4,c,h);try{h.call(c)}finally{Ls(5,c,h)}}else{Ls(4,i,o);try{o.call(i)}finally{Ls(5,i,o)}}}}}(n,e),function Mw(n,e){const t=n.cleanup,r=e[xc];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const a=t[o+3];a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const a=r[i=t[o+1]];t[o].call(a)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[xc]=null}}(n,e),1===e[en].type&&e[Gn].destroy();const t=e[Td];if(null!==t&&Fs(e[li])){t!==e[li]&&Xy(t,e);const r=e[ta];null!==r&&r.detachView(n)}!function wf(n){Gl.delete(n[Rl])}(e)}}function qy(n,e,t){return function Zy(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Ns];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Js.None||o===Js.Emulated)return null}return hs(r,t)}}(n,e.parent,t)}function Co(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Qy(n,e,t){n.appendChild(e,t)}function Jy(n,e,t,r,i){null!==r?Co(n,e,t,r,i):Qy(n,e,t)}function Sf(n,e){return n.parentNode(e)}function Da(n,e,t){return kf(n,e,t)}let sl,oh,Qm,kf=function Xm(n,e,t){return 40&n.type?hs(n,t):null};function al(n,e,t,r){const i=qy(n,r,e),o=e[Gn],c=Da(r.parent||e[bo],r,e);if(null!=i)if(Array.isArray(t))for(let h=0;h<t.length;h++)Jy(o,i,t[h],c,!1);else Jy(o,i,t,c,!1);void 0!==sl&&sl(o,r,e,t,i)}function rh(n,e){if(null!==e){const t=e.type;if(3&t)return hs(e,n);if(4&t)return Km(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return rh(n,r);{const i=n[e.index];return Fs(i)?Km(-1,i):ao(i)}}if(32&t)return Nc(e,n)()||ao(n[e.index]);{const r=Qo(n,e);return null!==r?Array.isArray(r)?r[0]:rh(th(n[_o]),r):rh(n,e.next)}}return null}function Qo(n,e){return null!==e?n[_o][bo].projection[e.projection]:null}function Km(n,e){const t=Po+n+1;if(t<e.length){const r=e[t],i=r[en].firstChild;if(null!==i)return rh(r,i)}return e[Jh]}function Mf(n,e,t,r,i,o,a){for(;null!=t;){const c=r[t.index],h=t.type;if(a&&0===e&&(c&&Eo(ao(c),r),t.flags|=2),32!=(32&t.flags))if(8&h)Mf(n,e,t.child,r,i,o,!1),Ou(e,n,i,c,o);else if(32&h){const g=Nc(t,r);let y;for(;y=g();)Ou(e,n,i,y,o);Ou(e,n,i,c,o)}else 16&h?Tf(n,e,r,t,i,o):Ou(e,n,i,c,o);t=a?t.projectionNext:t.next}}function Ru(n,e,t,r,i,o){Mf(t,r,n.firstChild,e,i,o,!1)}function Tf(n,e,t,r,i,o){const a=t[_o],h=a[bo].projection[r.projection];if(Array.isArray(h))for(let g=0;g<h.length;g++)Ou(e,n,i,h[g],o);else Mf(n,e,h,a[li],i,o,!0)}function nb(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Zm(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&_u(n,e,r),null!==i&&nb(n,e,i),null!==o&&function ih(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Fc(n){return function Af(){if(void 0===oh&&(oh=null,Nr.trustedTypes))try{oh=Nr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return oh}()?.createHTML(n)||n}class $l{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vn})`}}class Lc extends $l{getTypeName(){return"HTML"}}class Iw extends $l{getTypeName(){return"Style"}}class Bc extends $l{getTypeName(){return"Script"}}class u extends $l{getTypeName(){return"URL"}}class s extends $l{getTypeName(){return"ResourceURL"}}function l(n){return n instanceof $l?n.changingThisBreaksApplicationSecurity:n}function d(n,e){const t=function f(n){return n instanceof $l&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${vn})`)}return t===e}class L{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Fc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class z{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Fc(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Fc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const a=t.item(i).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&e.removeAttribute(a)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Y=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Q(n){return(n=String(n)).match(Y)?n:"unsafe:"+n}function ne(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function oe(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const le=ne("area,br,col,hr,img,wbr"),ce=ne("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pe=ne("rp,rt"),Se=oe(le,oe(ce,ne("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oe(pe,ne("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oe(pe,ce)),ve=ne("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ee=oe(ve,ne("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ne("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),He=ne("script,style,template");class Ae{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Se.hasOwnProperty(t))return this.sanitizedSomething=!0,!He.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),a=o.name,c=a.toLowerCase();if(!Ee.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let h=o.value;ve[c]&&(h=Q(h)),this.buf.push(" ",a,'="',We(h),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Se.hasOwnProperty(t)&&!le.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(We(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Qe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ge=/([^\#-~ |!])/g;function We(n){return n.replace(/&/g,"&amp;").replace(Qe,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Ge,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nt;function st(n,e){let t=null;try{nt=nt||function I(n){const e=new z(n);return function W(){try{return!!(new window.DOMParser).parseFromString(Fc(""),"text/html")}catch{return!1}}()?new L(e):e}(n);let r=e?String(e):"";t=nt.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=nt.getInertBodyElement(r)}while(r!==o);return Fc((new Ae).sanitizeChildren(dt(t)||t))}finally{if(t){const r=dt(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function dt(n){return"content"in n&&function it(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var rt=(()=>((rt=rt||{})[rt.NONE=0]="NONE",rt[rt.HTML=1]="HTML",rt[rt.STYLE=2]="STYLE",rt[rt.SCRIPT=3]="SCRIPT",rt[rt.URL=4]="URL",rt[rt.RESOURCE_URL=5]="RESOURCE_URL",rt))();const Lt=new Nt("ENVIRONMENT_INITIALIZER"),gn=new Nt("INJECTOR",-1),ln=new Nt("INJECTOR_DEF_TYPES");class Gt{get(e,t=Ps){if(t===Ps){const r=new Error(`NullInjectorError: No provider for ${De(e)}!`);throw r.name="NullInjectorError",r}return t}}function Zn(...n){return{\u0275providers:Nn(0,n),\u0275fromNgModule:!0}}function Nn(n,...e){const t=[],r=new Set;let i;return ia(e,o=>{const a=o;Rt(a,t,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&yn(i,t),t}function yn(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];ct(i,o=>{e.push(o)})}}function Rt(n,e,t,r){if(!(n=ht(n)))return!1;let i=null,o=qs(n);const a=!o&&mr(n);if(o||a){if(a&&!a.standalone)return!1;i=n}else{const h=n.ngModule;if(o=qs(h),!o)return!1;i=h}const c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){const h="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const g of h)Rt(g,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let g;r.add(i);try{ia(o.imports,y=>{Rt(y,e,t,r)&&(g||(g=[]),g.push(y))})}finally{}void 0!==g&&yn(g,e)}if(!c){const g=wa(i)||(()=>new i);e.push({provide:i,useFactory:g,deps:Ar},{provide:ln,useValue:i,multi:!0},{provide:Lt,useValue:()=>xt(i),multi:!0})}const h=o.providers;null==h||c||ct(h,y=>{e.push(y)})}}return i!==n&&void 0!==n.providers}function ct(n,e){for(let t of n)Bt(t)&&(t=t.\u0275providers),Array.isArray(t)?ct(t,e):e(t)}const Ot=Ir({provide:String,useValue:Ir});function mt(n){return null!==n&&"object"==typeof n&&Ot in n}function It(n){return"function"==typeof n}const er=new Nt("Set Injector scope."),Mr={},Wn={};let wr;function kn(){return void 0===wr&&(wr=new Gt),wr}class In{}class ui extends In{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yl(e,a=>this.processProvider(a)),this.records.set(gn,ho(void 0,this)),i.has("environment")&&this.records.set(In,ho(void 0,this));const o=this.records.get(er);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ln.multi,Ar,xn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ol(this),r=Vr(void 0);try{return e()}finally{Ol(t),Vr(r)}}get(e,t=Ps,r=xn.Default){this.assertNotDestroyed(),r=cu(r);const i=Ol(this),o=Vr(void 0);try{if(!(r&xn.SkipSelf)){let c=this.records.get(e);if(void 0===c){const h=function Wl(n){return"function"==typeof n||"object"==typeof n&&n instanceof Nt}(e)&&Ks(e);c=h&&this.injectableDefInScope(h)?ho(Hi(e),Mr):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&xn.Self?kn():this.parent).get(e,t=r&xn.Optional&&t===Ps?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Xo]=a[Xo]||[]).unshift(De(e)),i)throw a;return function uu(n,e,t,r){const i=n[Xo];throw e[yo]&&i.unshift(e[yo]),n.message=function zv(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==bc?n.slice(2):n;let i=De(e);if(Array.isArray(e))i=e.map(De).join(" -> ");else if("object"==typeof e){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];o.push(a+":"+("string"==typeof c?JSON.stringify(c):De(c)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(qh,"\n  ")}`}("\n"+n.message,i,t,r),n[Il]=i,n[Xo]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Vr(o),Ol(i)}}resolveInjectorInitializers(){const e=Ol(this),t=Vr(void 0);try{const r=this.get(Lt.multi,Ar,xn.Self);for(const i of r)i()}finally{Ol(e),Vr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(De(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(e){let t=It(e=ht(e))?e:ht(e&&e.provide);const r=function sa(n){return mt(n)?ho(void 0,n.useValue):ho(qi(n),Mr)}(e);if(It(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ho(void 0,Mr,!0),i.factory=()=>Jp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Mr&&(t.value=Wn,t.value=t.factory()),"object"==typeof t.value&&t.value&&function ll(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ht(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Hi(n){const e=Ks(n),t=null!==e?e.factory:wa(n);if(null!==t)return t;if(n instanceof Nt)throw new Ze(204,!1);if(n instanceof Function)return function oa(n){const e=n.length;if(e>0)throw Xd(e,"?"),new Ze(204,!1);const t=function Rs(n){const e=n&&(n[Xa]||n[au]);if(e){const t=function su(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ze(204,!1)}function qi(n,e,t){let r;if(It(n)){const i=ht(n);return wa(i)||Hi(i)}if(mt(n))r=()=>ht(n.useValue);else if(function Fn(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Jp(n.deps||[]));else if(function vt(n){return!(!n||!n.useExisting)}(n))r=()=>xt(ht(n.useExisting));else{const i=ht(n&&(n.useClass||n.provide));if(!function Bo(n){return!!n.deps}(n))return wa(i)||Hi(i);r=()=>new i(...Jp(n.deps))}return r}function ho(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Yl(n,e){for(const t of n)Array.isArray(t)?Yl(t,e):t&&Bt(t)?Yl(t.\u0275providers,e):e(t)}class Vc{}class zc{}class Do{resolveComponentFactory(e){throw function Rf(n){const e=Error(`No component factory found for ${De(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Zi=(()=>{class n{}return n.NULL=new Do,n})();function Pf(){return Vo(Ur(),At())}function Vo(n,e){return new Bn(hs(n,e))}let Bn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Pf,n})();function Ow(n){return n instanceof Bn?n.nativeElement:n}class ah{}let cl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Rw(){const n=At(),t=gr(Ur().index,n);return(ds(t)?t:n)[Gn]}(),n})(),Pw=(()=>{class n{}return n.\u0275prov=on({token:n,providedIn:"root",factory:()=>null}),n})();class Nu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Nw=new Nu("15.1.5"),Hc={},lh="ngOriginalError";function Ff(n){return n[lh]}class ka{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ff(e);for(;t&&Ff(t);)t=Ff(t);return t||null}}function Fu(n){return n.ownerDocument.defaultView}function gs(n){return n.ownerDocument}function bk(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const _k="ng-template";function _5(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==bk(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function xk(n){return 4===n.type&&n.value!==_k}function x5(n,e,t){return e===(4!==n.type||t?n.value:_k)}function w5(n,e,t){let r=4;const i=n.attrs||[],o=function D5(n){for(let e=0;e<n.length;e++)if(gy(n[e]))return e;return n.length}(i);let a=!1;for(let c=0;c<e.length;c++){const h=e[c];if("number"!=typeof h){if(!a)if(4&r){if(r=2|1&r,""!==h&&!x5(n,h,t)||""===h&&1===e.length){if(ul(r))return!1;a=!0}}else{const g=8&r?h:e[++c];if(8&r&&null!==n.attrs){if(!_5(n.attrs,g,t)){if(ul(r))return!1;a=!0}continue}const O=E5(8&r?"class":h,i,xk(n),t);if(-1===O){if(ul(r))return!1;a=!0;continue}if(""!==g){let $;$=O>o?"":i[O+1].toLowerCase();const K=8&r?$:null;if(K&&-1!==bk(K,g,0)||2&r&&g!==$){if(ul(r))return!1;a=!0}}}}else{if(!a&&!ul(r)&&!ul(h))return!1;if(a&&ul(h))continue;a=!1,r=h|1&r}}return ul(r)||a}function ul(n){return 0==(1&n)}function E5(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const a=e[i];if(a===n)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){let c=e[++i];for(;"string"==typeof c;)c=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function S5(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function wk(n,e,t=!1){for(let r=0;r<e.length;r++)if(w5(n,e[r],t))return!0;return!1}function k5(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Ek(n,e){return n?":not("+e.trim()+")":e}function M5(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&r){const c=n[++t];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!ul(a)&&(e+=Ek(o,i),i=""),r=a,o=o||!ul(r);t++}return""!==i&&(e+=Ek(o,i)),e}const jn={};function Kt(n){Ck(Jn(),At(),No()+n,!1)}function Ck(n,e,t,r){if(!r)if(3==(3&e[Hn])){const o=n.preOrderCheckHooks;null!==o&&Hd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&jd(e,o,0,t)}Vl(t)}function Mk(n,e=null,t=null,r){const i=function Tk(n,e=null,t=null,r,i=new Set){const o=[t||Ar,Zn(n)];return r=r||("object"==typeof n?void 0:De(n)),new ui(o,e||kn(),r||null,i)}(n,e,t,r);return i.resolveInjectorInitializers(),i}let dl=(()=>{class n{static create(t,r){if(Array.isArray(t))return Mk({name:""},r,t,"");{const i=t.name??"";return Mk({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ps,n.NULL=new Gt,n.\u0275prov=on({token:n,providedIn:"any",factory:()=>xt(gn)}),n.__NG_ELEMENT_ID__=-1,n})();function ze(n,e=xn.Default){const t=At();return null===t?xt(n,e):Yi(Ur(),t,ht(n),e)}function Vf(){throw new Error("invalid")}function Fk(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const a=n.data[o];wc(t[r]),a.contentQueries(2,e[o],o)}}}function cb(n,e,t,r,i,o,a,c,h,g,y){const O=e.blueprint.slice();return O[Ns]=i,O[Hn]=76|r,(null!==y||n&&1024&n[Hn])&&(O[Hn]|=1024),el(O),O[li]=O[du]=n,O[mi]=t,O[Qh]=a||n&&n[Qh],O[Gn]=c||n&&n[Gn],O[rm]=h||n&&n[rm]||null,O[Zh]=g||n&&n[Zh]||null,O[bo]=o,O[Rl]=function Fy(){return Fm++}(),O[Yv]=y,O[_o]=2==e.type?n[_o]:O,O}function zf(n,e,t,r,i){let o=n.data[e];if(null===o)o=function jw(n,e,t,r,i){const o=dm(),a=hm(),h=n.data[e]=function e3(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=h),null!==o&&(a?null==o.child&&null!==h.parent&&(o.child=h):null===o.next&&(o.next=h)),h}(n,e,t,r,i),function ay(){return _n.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const a=function vu(){const n=_n.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return na(o,!0),o}function tg(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Uw(n,e,t){mm(e);try{const r=n.viewQuery;null!==r&&Jw(1,r,t);const i=n.template;null!==i&&Lk(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Fk(n,e),n.staticViewQueries&&Jw(2,n.viewQuery,t);const o=n.components;null!==o&&function Z5(n,e){for(let t=0;t<e.length;t++)_3(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Hn]&=-5,gm()}}function ub(n,e,t,r){const i=e[Hn];if(128!=(128&i)){mm(e);try{el(e),function Nd(n){return _n.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Lk(n,e,t,2,r);const a=3==(3&i);if(a){const g=n.preOrderCheckHooks;null!==g&&Hd(e,g,null)}else{const g=n.preOrderHooks;null!==g&&jd(e,g,0,null),vm(e,0)}if(function y3(n){for(let e=Hm(n);null!==e;e=jm(e)){if(!e[Xv])continue;const t=e[fu];for(let r=0;r<t.length;r++){const i=t[r];512&i[Hn]||Ca(i[li],1),i[Hn]|=512}}}(e),function v3(n){for(let e=Hm(n);null!==e;e=jm(e))for(let t=Po;t<e.length;t++){const r=e[t],i=r[en];rf(r)&&ub(i,r,i.template,r[mi])}}(e),null!==n.contentQueries&&Fk(n,e),a){const g=n.contentCheckHooks;null!==g&&Hd(e,g)}else{const g=n.contentHooks;null!==g&&jd(e,g,1),vm(e,1)}!function K5(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Vl(~i);else{const o=i,a=t[++r],c=t[++r];ly(a,o),c(2,e[o])}}}finally{Vl(-1)}}(n,e);const c=n.components;null!==c&&function q5(n,e){for(let t=0;t<e.length;t++)b3(n,e[t])}(e,c);const h=n.viewQuery;if(null!==h&&Jw(2,h,r),a){const g=n.viewCheckHooks;null!==g&&Hd(e,g)}else{const g=n.viewHooks;null!==g&&jd(e,g,2),vm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Hn]&=-41,512&e[Hn]&&(e[Hn]&=-513,Ca(e[li],-1))}finally{gm()}}}function Lk(n,e,t,r,i){const o=No(),a=2&r;try{Vl(-1),a&&e.length>Qr&&Ck(n,e,Qr,!1),Ls(a?2:0,i),t(r,i)}finally{Vl(o),Ls(a?3:1,i)}}function Gw(n,e,t){if(sm(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}}function $w(n,e,t){oy()&&(function a3(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Ad(t)&&function p3(n,e,t){const r=hs(e,n),i=Bk(t),o=n[Qh],a=db(n,cb(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||rl(t,e),Eo(r,e);const a=t.initialInputs;for(let c=i;c<o;c++){const h=n.data[c],g=Dc(e,n,c,t);Eo(g,e),null!==a&&m3(0,c-i,g,h,0,a),qo(h)&&(gr(t.index,e)[mi]=Dc(e,n,c,t))}}(n,e,t,hs(t,e)),64==(64&t.flags)&&Gk(n,e,t))}function Ww(n,e,t=hs){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],c=-1===a?t(e,n):n[a];n[i++]=c}}}function Bk(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Yw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Yw(n,e,t,r,i,o,a,c,h,g){const y=Qr+r,O=y+i,$=function Q5(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:jn);return t}(y,O),K="function"==typeof g?g():g;return $[en]={type:n,blueprint:$,template:t,queries:null,viewQuery:c,declTNode:e,data:$.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:h,consts:K,incompleteFirstPass:!1}}function Vk(n,e,t,r){const i=Wk(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Yk(n).push(r,i.length-1))}function zk(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?Hk(t,e,i,o):r.hasOwnProperty(i)&&Hk(t,e,r[i],o)}return t}function Hk(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function la(n,e,t,r,i,o,a,c){const h=hs(e,t);let y,g=e.inputs;!c&&null!=g&&(y=g[r])?(e1(n,t,y,r,i),Ad(e)&&jk(t,e.index)):3&e.type&&(r=function n3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=a?a(i,e.value||"",r):i,o.setProperty(h,r,i))}function jk(n,e){const t=gr(e,n);16&t[Hn]||(t[Hn]|=32)}function Xw(n,e,t,r){let i=!1;if(oy()){const o=null===r?null:{"":-1},a=function c3(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const a=t[o];if(wk(e,a.selectors,!1))if(r||(r=[]),qo(a))if(null!==a.findHostDirectiveDefs){const c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),r.unshift(...c,a),Kw(n,e,c.length)}else r.unshift(a),Kw(n,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(n,t);let c,h;null===a?c=h=null:[c,h]=a,null!==c&&(i=!0,Uk(n,e,t,c,o,h)),o&&function u3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new Ze(-301,!1);r.push(e[i],o)}}}(t,r,o)}return t.mergedAttrs=Hl(t.mergedAttrs,t.attrs),i}function Uk(n,e,t,r,i,o){for(let g=0;g<r.length;g++)df(rl(t,e),n,r[g].type);!function h3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let g=0;g<r.length;g++){const y=r[g];y.providersResolver&&y.providersResolver(y)}let a=!1,c=!1,h=tg(n,e,r.length,null);for(let g=0;g<r.length;g++){const y=r[g];t.mergedAttrs=Hl(t.mergedAttrs,y.hostAttrs),f3(n,t,e,h,y),d3(h,y,i),null!==y.contentQueries&&(t.flags|=4),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(t.flags|=64);const O=y.type.prototype;!a&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!c&&(O.ngOnChanges||O.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),c=!0),h++}!function t3(n,e,t){const i=e.directiveEnd,o=n.data,a=e.attrs,c=[];let h=null,g=null;for(let y=e.directiveStart;y<i;y++){const O=o[y],$=t?t.get(O):null,re=$?$.outputs:null;h=zk(O.inputs,y,h,$?$.inputs:null),g=zk(O.outputs,y,g,re);const he=null===h||null===a||xk(e)?null:g3(h,y,a);c.push(he)}null!==h&&(h.hasOwnProperty("class")&&(e.flags|=8),h.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=h,e.outputs=g}(n,t,o)}function Gk(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function Fd(){return _n.lFrame.currentDirectiveIndex}();try{Vl(o);for(let c=r;c<i;c++){const h=n.data[c],g=e[c];sf(c),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&l3(h,g)}}finally{Vl(-1),sf(a)}}function l3(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Kw(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function d3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;qo(e)&&(t[""]=n)}}function f3(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=wa(i.type)),a=new yu(o,qo(i),ze);n.blueprint[r]=a,t[r]=a,function o3(n,e,t,r,i){const o=i.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~e.index;(function s3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=c&&a.push(c),a.push(t,r,o)}}(n,e,r,tg(n,t,i.hostVars,jn),i)}function Kl(n,e,t,r,i,o){const a=hs(n,e);!function qw(n,e,t,r,i,o,a){if(null==o)n.removeAttribute(e,i,t);else{const c=null==a?qt(o):a(o,r||"",i);n.setAttribute(e,i,c,t)}}(e[Gn],a,o,n.value,t,r,i)}function m3(n,e,t,r,i,o){const a=o[e];if(null!==a){const c=r.setInput;for(let h=0;h<a.length;){const g=a[h++],y=a[h++],O=a[h++];null!==c?r.setInput(t,O,g,y):t[y]=O}}}function g3(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const a=n[o];for(let c=0;c<a.length;c+=2)if(a[c]===e){r.push(o,a[c+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $k(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function b3(n,e){const t=gr(e,n);if(rf(t)){const r=t[en];48&t[Hn]?ub(r,t,r.template,t[mi]):t[_c]>0&&Zw(t)}}function Zw(n){for(let r=Hm(n);null!==r;r=jm(r))for(let i=Po;i<r.length;i++){const o=r[i];if(rf(o))if(512&o[Hn]){const a=o[en];ub(a,o,a.template,o[mi])}else o[_c]>0&&Zw(o)}const t=n[en].components;if(null!==t)for(let r=0;r<t.length;r++){const i=gr(t[r],n);rf(i)&&i[_c]>0&&Zw(i)}}function _3(n,e){const t=gr(e,n),r=t[en];(function x3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Uw(r,t,t[mi])}function db(n,e){return n[Md]?n[im][ea]=e:n[Md]=e,n[im]=e,e}function Qw(n){for(;n;){n[Hn]|=32;const e=th(n);if(Px(n)&&!e)return n;n=e}return null}function hb(n,e,t,r=!0){const i=e[Qh];i.begin&&i.begin();try{ub(n,e,n.template,t)}catch(a){throw r&&Kk(e,a),a}finally{i.end&&i.end()}}function Jw(n,e,t){wc(0),e(n,t)}function Wk(n){return n[xc]||(n[xc]=[])}function Yk(n){return n.cleanup||(n.cleanup=[])}function Kk(n,e){const t=n[Zh],r=t?t.get(ka,null):null;r&&r.handleError(e)}function e1(n,e,t,r,i){for(let o=0;o<t.length;){const a=t[o++],c=t[o++],h=e[a],g=n.data[a];null!==g.setInput?g.setInput(h,i,r,c):h[c]=i}}function fb(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let a=0;a<e.length;a++){const c=e[a];"number"==typeof c?o=c:1==o?i=Ye(i,c):2==o&&(r=Ye(r,c+": "+e[++a]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function pb(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(ao(o)),Fs(o))for(let c=Po;c<o.length;c++){const h=o[c],g=h[en].firstChild;null!==g&&pb(h[en],h,g,r)}const a=t.type;if(8&a)pb(n,e,t.child,r);else if(32&a){const c=Nc(t,e);let h;for(;h=c();)r.push(h)}else if(16&a){const c=Qo(e,t);if(Array.isArray(c))r.push(...c);else{const h=th(e[_o]);pb(h[en],h,c,r,!0)}}t=i?t.projectionNext:t.next}return r}class ng{get rootNodes(){const e=this._lView,t=e[en];return pb(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mi]}set context(e){this._lView[mi]=e}get destroyed(){return 128==(128&this._lView[Hn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[li];if(Fs(e)){const t=e[ef],r=t?t.indexOf(this):-1;r>-1&&(Df(e,r),Ic(t,r))}this._attachedToViewContainer=!1}$m(this._lView[en],this._lView)}onDestroy(e){Vk(this._lView[en],this._lView,null,e)}markForCheck(){Qw(this._cdRefInjectingView||this._lView)}detach(){this._lView[Hn]&=-65}reattach(){this._lView[Hn]|=64}detectChanges(){hb(this._lView[en],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kw(n,e){Ru(n,e,e[Gn],2,null,null)}(this._lView[en],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=e}}class w3 extends ng{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;hb(e[en],e,e[mi],!1)}checkNoChanges(){}get context(){return null}}class qk extends Zi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=mr(e);return new rg(t,this.ngModule)}}function Zk(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class C3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=cu(r);const i=this.injector.get(e,Hc,r);return i!==Hc||t===Hc?i:this.parentInjector.get(e,t,r)}}class rg extends zc{get inputs(){return Zk(this.componentDef.inputs)}get outputs(){return Zk(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function T5(n){return n.map(M5).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof In?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new C3(e,o):e,c=a.get(ah,null);if(null===c)throw new Ze(407,!1);const h=a.get(Pw,null),g=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",O=r?function J5(n,e,t){return n.selectRootElement(e,t===Js.ShadowDom)}(g,r,this.componentDef.encapsulation):Gm(g,y,function E3(n){const e=n.toLowerCase();return"svg"===e?ty:"math"===e?"math":null}(y)),$=this.componentDef.onPush?288:272,K=Yw(0,null,null,1,0,null,null,null,null,null),re=cb(null,K,null,$,null,null,c,g,h,a,null);let he,xe;mm(re);try{const Pe=this.componentDef;let Je,Ke=null;Pe.findHostDirectiveDefs?(Je=[],Ke=new Map,Pe.findHostDirectiveDefs(Pe,Je,Ke),Je.push(Pe)):Je=[Pe];const at=function S3(n,e){const t=n[en],r=Qr;return n[r]=e,zf(t,r,2,"#host",null)}(re,O),wt=function k3(n,e,t,r,i,o,a,c){const h=i[en];!function M3(n,e,t,r){for(const i of n)e.mergedAttrs=Hl(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(fb(e,e.mergedAttrs,!0),null!==t&&Zm(r,t,e))}(r,n,e,a);const g=o.createRenderer(e,t),y=cb(i,Bk(t),null,t.onPush?32:16,i[n.index],n,o,g,c||null,null,null);return h.firstCreatePass&&Kw(h,n,r.length-1),db(i,y),i[n.index]=y}(at,O,Pe,Je,re,c,g);xe=nf(K,Qr),O&&function A3(n,e,t,r){if(r)_u(n,t,["ng-version",Nw.full]);else{const{attrs:i,classes:o}=function A5(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!ul(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&_u(n,t,i),o&&o.length>0&&nb(n,t,o.join(" "))}}(g,Pe,O,r),void 0!==t&&function I3(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(xe,this.ngContentSelectors,t),he=function T3(n,e,t,r,i,o){const a=Ur(),c=i[en],h=hs(a,i);Uk(c,i,a,t,null,r);for(let y=0;y<t.length;y++)Eo(Dc(i,c,a.directiveStart+y,a),i);Gk(c,i,a),h&&Eo(h,i);const g=Dc(i,c,a.directiveStart+a.componentOffset,a);if(n[mi]=i[mi]=g,null!==o)for(const y of o)y(g,e);return Gw(c,a,n),g}(wt,Pe,Je,Ke,re,[O3]),Uw(K,re,null)}finally{gm()}return new D3(this.componentType,he,Vo(xe,re),re,xe)}}class D3 extends Vc{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new w3(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;e1(o[en],o,i,e,t),jk(o,this._tNode.index)}}get injector(){return new Sc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function O3(){const n=Ur();cf(At()[en],n)}function Dn(n){let e=function Qk(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(qo(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ze(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const a=n;a.inputs=t1(n.inputs),a.declaredInputs=t1(n.declaredInputs),a.outputs=t1(n.outputs);const c=i.hostBindings;c&&F3(n,c);const h=i.viewQuery,g=i.contentQueries;if(h&&P3(n,h),g&&N3(n,g),Ie(n.inputs,i.inputs),Ie(n.declaredInputs,i.declaredInputs),Ie(n.outputs,i.outputs),qo(i)&&i.data.animation){const y=n.data;y.animation=(y.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let a=0;a<o.length;a++){const c=o[a];c&&c.ngInherit&&c(n),c===Dn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function R3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hl(i.hostAttrs,t=Hl(t,i.hostAttrs))}}(r)}function t1(n){return n===Qa?{}:n===Ar?[]:n}function P3(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function N3(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function F3(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let mb=null;function ch(){if(!mb){const n=Nr.Symbol;if(n&&n.iterator)mb=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(mb=r)}}}return mb}function gb(n){return!!n1(n)&&(Array.isArray(n)||!(n instanceof Map)&&ch()in n)}function n1(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Jo(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ni(n,e,t,r){const i=At();return Jo(i,Bl(),e)&&(Jn(),Kl(ci(),i,n,e,t,r)),ni}function jf(n,e,t,r){return Jo(n,Bl(),t)?e+qt(t)+r:jn}function Yn(n,e,t,r,i,o,a,c){const h=At(),g=Jn(),y=n+Qr,O=g.firstCreatePass?function W3(n,e,t,r,i,o,a,c,h){const g=e.consts,y=zf(e,n,4,a||null,Nl(g,c));Xw(e,t,y,Nl(g,h)),cf(e,y);const O=y.tViews=Yw(2,y,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,g);return null!==e.queries&&(e.queries.template(e,y),O.queries=e.queries.embeddedTView(y)),y}(y,g,h,e,t,r,i,o,a):g.data[y];na(O,!1);const $=h[Gn].createComment("");al(g,h,$,O),Eo($,h),db(h,h[y]=$k($,h,$,O)),tf(O)&&$w(g,h,O),null!=a&&Ww(h,O,c)}function qf(n){return function gu(n,e){return n[e]}(function Ll(){return _n.lFrame.contextLView}(),Qr+n)}function $t(n,e,t){const r=At();return Jo(r,Bl(),e)&&la(Jn(),ci(),r,n,e,r[Gn],t,!1),$t}function r1(n,e,t,r,i){const a=i?"class":"style";e1(n,t,e.inputs[a],a,r)}function Ut(n,e,t,r){const i=At(),o=Jn(),a=Qr+n,c=i[Gn],h=i[a]=Gm(c,e,function lf(){return _n.lFrame.currentNamespace}()),g=o.firstCreatePass?function X3(n,e,t,r,i,o,a){const c=e.consts,g=zf(e,n,2,i,Nl(c,o));return Xw(e,t,g,Nl(c,a)),null!==g.attrs&&fb(g,g.attrs,!1),null!==g.mergedAttrs&&fb(g,g.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,g),g}(a,o,i,0,e,t,r):o.data[a];return na(g,!0),Zm(c,h,g),32!=(32&g.flags)&&al(o,i,h,g),0===function um(){return _n.lFrame.elementDepthCount}()&&Eo(h,i),function ry(){_n.lFrame.elementDepthCount++}(),tf(g)&&($w(o,i,g),Gw(o,g,i)),null!==r&&Ww(i,g),Ut}function Xt(){let n=Ur();hm()?Fl():(n=n.parent,na(n,!1));const e=n;!function iy(){_n.lFrame.elementDepthCount--}();const t=Jn();return t.firstCreatePass&&(cf(t,n),sm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function my(n){return 0!=(8&n.flags)}(e)&&r1(t,e,At(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Sr(n){return 0!=(16&n.flags)}(e)&&r1(t,e,At(),e.stylesWithoutHost,!1),Xt}function tr(n,e,t,r){return Ut(n,e,t,r),Xt(),tr}function yb(n,e,t){const r=At(),i=Jn(),o=n+Qr,a=i.firstCreatePass?function K3(n,e,t,r,i){const o=e.consts,a=Nl(o,r),c=zf(e,n,8,"ng-container",a);return null!==a&&fb(c,a,!0),Xw(e,t,c,Nl(o,i)),null!==e.queries&&e.queries.elementStart(e,c),c}(o,i,r,e,t):i.data[o];na(a,!0);const c=r[o]=r[Gn].createComment("");return al(i,r,c,a),Eo(c,r),tf(a)&&($w(i,r,a),Gw(i,a,r)),null!=t&&Ww(r,a),yb}function bb(){let n=Ur();const e=Jn();return hm()?Fl():(n=n.parent,na(n,!1)),e.firstCreatePass&&(cf(e,n),sm(n)&&e.queries.elementEnd(n)),bb}function Lu(){return At()}function _b(n){return!!n&&"function"==typeof n.then}const fM=function hM(n){return!!n&&"function"==typeof n.subscribe};function Kn(n,e,t,r){const i=At(),o=Jn(),a=Ur();return function mM(n,e,t,r,i,o,a){const c=tf(r),g=n.firstCreatePass&&Yk(n),y=e[mi],O=Wk(e);let $=!0;if(3&r.type||a){const he=hs(r,e),xe=a?a(he):he,Pe=O.length,Je=a?at=>a(ao(at[r.index])):r.index;let Ke=null;if(!a&&c&&(Ke=function q3(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const a=i[o];if(a===t&&i[o+1]===r){const c=e[xc],h=i[o+2];return c.length>h?c[h]:null}"string"==typeof a&&(o+=2)}return null}(n,e,i,r.index)),null!==Ke)(Ke.__ngLastListenerFn__||Ke).__ngNextListenerFn__=o,Ke.__ngLastListenerFn__=o,$=!1;else{o=vM(r,e,y,o,!1);const at=t.listen(xe,i,o);O.push(o,at),g&&g.push(i,Je,Pe,Pe+1)}}else o=vM(r,e,y,o,!1);const K=r.outputs;let re;if($&&null!==K&&(re=K[i])){const he=re.length;if(he)for(let xe=0;xe<he;xe+=2){const wt=e[re[xe]][re[xe+1]].subscribe(o),Dt=O.length;O.push(o,wt),g&&g.push(i,r.index,Dt,-(Dt+1))}}}(o,i,i[Gn],a,n,e,r),Kn}function gM(n,e,t,r){try{return Ls(6,e,t),!1!==t(r)}catch(i){return Kk(n,i),!1}finally{Ls(7,e,t)}}function vM(n,e,t,r,i){return function o(a){if(a===Function)return r;Qw(n.componentOffset>-1?gr(n.index,e):e);let h=gM(e,t,r,a),g=o.__ngNextListenerFn__;for(;g;)h=gM(e,t,g,a)&&h,g=g.__ngNextListenerFn__;return i&&!1===h&&(a.preventDefault(),a.returnValue=!1),h}}function Mn(n=1){return function Yx(n){return(_n.lFrame.contextLView=function Xx(n,e){for(;n>0;)e=e[du],n--;return e}(n,_n.lFrame.contextLView))[mi]}(n)}function Z3(n,e){let t=null;const r=function C5(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?wk(n,o,!0):k5(r,o))return i}else t=i}return t}function zs(n){const e=At()[_o][bo];if(!e.projection){const r=e.projection=Xd(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const a=n?Z3(o,n):0;null!==a&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o),o=o.next}}}function $r(n,e=0,t){const r=At(),i=Jn(),o=zf(i,Qr+n,16,null,t||null);null===o.projection&&(o.projection=e),Fl(),32!=(32&o.flags)&&function qm(n,e,t){Tf(e[Gn],0,e,t,qy(n,t,e),Da(t.parent||e[bo],t,e))}(i,r,o)}function xb(n,e){return n<<17|e<<2}function Bu(n){return n>>17&32767}function s1(n){return 2|n}function dh(n){return(131068&n)>>2}function a1(n,e){return-131069&n|e<<2}function l1(n){return 1|n}function kM(n,e,t,r,i){const o=n[t+1],a=null===e;let c=r?Bu(o):dh(o),h=!1;for(;0!==c&&(!1===h||a);){const y=n[c+1];r4(n[c],e)&&(h=!0,n[c+1]=r?l1(y):s1(y)),c=r?Bu(y):dh(y)}h&&(n[t+1]=r?s1(o):l1(o))}function r4(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Oc(n,e)>=0}const fo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MM(n){return n.substring(fo.key,fo.keyEnd)}function TM(n,e){const t=fo.textEnd;return t===e?-1:(e=fo.keyEnd=function l4(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,fo.key=e,t),Zf(n,e,t))}function Zf(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Gc(n,e,t){return hl(n,e,t,!1),Gc}function zr(n,e){return hl(n,e,null,!0),zr}function Ql(n,e){for(let t=function s4(n){return function IM(n){fo.key=0,fo.keyEnd=0,fo.value=0,fo.valueEnd=0,fo.textEnd=n.length}(n),TM(n,Zf(n,0,fo.textEnd))}(e);t>=0;t=TM(e,t))Zo(n,MM(e),!0)}function hl(n,e,t,r){const i=At(),o=Jn(),a=tl(2);o.firstUpdatePass&&FM(o,n,a,r),e!==jn&&Jo(i,a,e)&&BM(o,o.data[No()],i,i[Gn],n,i[a+1]=function y4(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=De(l(n)))),n}(e,t),r,a)}function fl(n,e,t,r){const i=Jn(),o=tl(2);i.firstUpdatePass&&FM(i,null,o,r);const a=At();if(t!==jn&&Jo(a,o,t)){const c=i.data[No()];if(zM(c,r)&&!NM(i,o)){let h=r?c.classesWithoutHost:c.stylesWithoutHost;null!==h&&(t=Ye(h,t||"")),r1(i,c,a,t,r)}else!function v4(n,e,t,r,i,o,a,c){i===jn&&(i=Ar);let h=0,g=0,y=0<i.length?i[0]:null,O=0<o.length?o[0]:null;for(;null!==y||null!==O;){const $=h<i.length?i[h+1]:void 0,K=g<o.length?o[g+1]:void 0;let he,re=null;y===O?(h+=2,g+=2,$!==K&&(re=O,he=K)):null===O||null!==y&&y<O?(h+=2,re=y):(g+=2,re=O,he=K),null!==re&&BM(n,e,t,r,re,he,a,c),y=h<i.length?i[h]:null,O=g<o.length?o[g]:null}}(i,c,a,a[Gn],a[o+1],a[o+1]=function g4(n,e,t){if(null==t||""===t)return Ar;const r=[],i=l(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}function NM(n,e){return e>=n.expandoStartIndex}function FM(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[No()],a=NM(n,t);zM(o,r)&&null===e&&!a&&(e=!1),e=function h4(n,e,t,r){const i=function af(n){const e=_n.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=og(t=c1(null,n,e,t,r),e.attrs,r),o=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==i)if(t=c1(i,n,e,t,r),null===o){let h=function f4(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==dh(r))return n[Bu(r)]}(n,e,r);void 0!==h&&Array.isArray(h)&&(h=c1(null,n,e,h[1],r),h=og(h,e.attrs,r),function p4(n,e,t,r){n[Bu(t?e.classBindings:e.styleBindings)]=r}(n,e,r,h))}else o=function m4(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=og(r,n[o].hostAttrs,t);return og(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function t4(n,e,t,r,i,o){let a=o?e.classBindings:e.styleBindings,c=Bu(a),h=dh(a);n[r]=t;let y,g=!1;if(Array.isArray(t)?(y=t[1],(null===y||Oc(t,y)>0)&&(g=!0)):y=t,i)if(0!==h){const $=Bu(n[c+1]);n[r+1]=xb($,c),0!==$&&(n[$+1]=a1(n[$+1],r)),n[c+1]=function J3(n,e){return 131071&n|e<<17}(n[c+1],r)}else n[r+1]=xb(c,0),0!==c&&(n[c+1]=a1(n[c+1],r)),c=r;else n[r+1]=xb(h,0),0===c?c=r:n[h+1]=a1(n[h+1],r),h=r;g&&(n[r+1]=s1(n[r+1])),kM(n,y,r,!0),kM(n,y,r,!1),function n4(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Oc(o,e)>=0&&(t[r+1]=l1(t[r+1]))}(e,y,n,r,o),a=xb(c,h),o?e.classBindings=a:e.styleBindings=a}(i,o,e,t,a,r)}}function c1(n,e,t,r,i){let o=null;const a=t.directiveEnd;let c=t.directiveStylingLast;for(-1===c?c=t.directiveStart:c++;c<a&&(o=e[c],r=og(r,o.hostAttrs,i),o!==n);)c++;return null!==n&&(t.directiveStylingLast=c),r}function og(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zo(n,a,!!t||e[++o]))}return void 0===n?null:n}function BM(n,e,t,r,i,o,a,c){if(!(3&e.type))return;const h=n.data,g=h[c+1],y=function e4(n){return 1==(1&n)}(g)?VM(h,e,t,i,dh(g),a):void 0;wb(y)||(wb(o)||function Q3(n){return 2==(2&n)}(g)&&(o=VM(h,null,t,i,c,a)),function Pu(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:vi.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=vi.Important),n.setStyle(t,r,i,o))}}(r,a,Od(No(),t),i,o))}function VM(n,e,t,r,i,o){const a=null===e;let c;for(;i>0;){const h=n[i],g=Array.isArray(h),y=g?h[1]:h,O=null===y;let $=t[i+1];$===jn&&($=O?Ar:void 0);let K=O?km($,r):y===r?$:void 0;if(g&&!wb(K)&&(K=km(h,r)),wb(K)&&(c=K,a))return c;const re=n[i+1];i=a?Bu(re):dh(re)}if(null!==e){let h=o?e.residualClasses:e.residualStyles;null!=h&&(c=km(h,r))}return c}function wb(n){return void 0!==n}function zM(n,e){return 0!=(n.flags&(e?8:16))}function Ci(n,e=""){const t=At(),r=Jn(),i=n+Qr,o=r.firstCreatePass?zf(r,i,1,e,null):r.data[i],a=t[i]=function Um(n,e){return n.createText(e)}(t[Gn],e);al(r,t,a,o),na(o,!1)}function Hs(n){return sg("",n,""),Hs}function sg(n,e,t){const r=At(),i=jf(r,n,e,t);return i!==jn&&function Uc(n,e,t){const r=Od(e,n);!function Gy(n,e,t){n.setValue(e,t)}(n[Gn],r,t)}(r,No(),i),sg}function Qf(n,e,t){const r=At();return Jo(r,Bl(),e)&&la(Jn(),ci(),r,n,e,r[Gn],t,!0),Qf}const ep="en-US";let lT=ep;function h1(n,e,t,r,i){if(n=ht(n),Array.isArray(n))for(let o=0;o<n.length;o++)h1(n[o],e,t,r,i);else{const o=Jn(),a=At();let c=It(n)?n:ht(n.provide),h=qi(n);const g=Ur(),y=1048575&g.providerIndexes,O=g.directiveStart,$=g.providerIndexes>>20;if(It(n)||!n.multi){const K=new yu(h,i,ze),re=p1(c,e,i?y:y+$,O);-1===re?(df(rl(g,a),o,c),f1(o,n,e.length),e.push(c),g.directiveStart++,g.directiveEnd++,i&&(g.providerIndexes+=1048576),t.push(K),a.push(K)):(t[re]=K,a[re]=K)}else{const K=p1(c,e,y+$,O),re=p1(c,e,y,y+$),xe=re>=0&&t[re];if(i&&!xe||!i&&!(K>=0&&t[K])){df(rl(g,a),o,c);const Pe=function Nz(n,e,t,r,i){const o=new yu(n,t,ze);return o.multi=[],o.index=e,o.componentProviders=0,RT(o,i,r&&!t),o}(i?Pz:Rz,t.length,i,r,h);!i&&xe&&(t[re].providerFactory=Pe),f1(o,n,e.length,0),e.push(c),g.directiveStart++,g.directiveEnd++,i&&(g.providerIndexes+=1048576),t.push(Pe),a.push(Pe)}else f1(o,n,K>-1?K:re,RT(t[i?re:K],h,!i&&r));!i&&r&&xe&&t[re].componentProviders++}}}function f1(n,e,t,r){const i=It(e),o=function cn(n){return!!n.useClass}(e);if(i||o){const h=(o?ht(e.useClass):e).prototype.ngOnDestroy;if(h){const g=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const y=g.indexOf(t);-1===y?g.push(t,[r,h]):g[y+1].push(r,h)}else g.push(t,h)}}}function RT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function p1(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Rz(n,e,t,r){return m1(this.multi,[])}function Pz(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=Dc(t,t[en],this.providerFactory.index,r);o=c.slice(0,a),m1(i,o);for(let h=a;h<c.length;h++)o.push(c[h])}else o=[],m1(i,o);return o}function m1(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Er(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Oz(n,e,t){const r=Jn();if(r.firstCreatePass){const i=qo(n);h1(t,r.data,r.blueprint,i,!0),h1(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class tp{}class Bz extends tp{constructor(e,t,r){super(),this.componentFactoryResolver=new qk(this),this.instance=null;const i=new ui([...e,{provide:tp,useValue:this},{provide:Zi,useValue:this.componentFactoryResolver}],t||kn(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function NT(n,e,t=null){return new Bz(n,e,t).injector}let Vz=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=Nn(0,t.type),i=r.length>0?NT([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=on({token:n,providedIn:"environment",factory:()=>new n(xt(In))}),n})();function fh(n){n.getStandaloneInjector=e=>e.get(Vz).getOrCreateStandaloneInjector(n)}function jT(n,e,t,r){return function UT(n,e,t,r,i,o){const a=e+t;return Jo(n,a,i)?function ql(n,e,t){return n[e]=t}(n,a+1,o?r.call(o,i):r(i)):function hg(n,e){const t=n[e];return t===jn?void 0:t}(n,a+1)}(At(),function Ei(){const n=_n.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function y1(n){return e=>{setTimeout(n,void 0,e)}}const On=class uH extends Me{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),a=r;if(e&&"object"==typeof e){const h=e;i=h.next?.bind(h),o=h.error?.bind(h),a=h.complete?.bind(h)}this.__isAsync&&(o=y1(o),i&&(i=y1(i)),a&&(a=y1(a)));const c=super.subscribe({next:i,error:o,complete:a});return e instanceof C&&e.add(c),c}};function dH(){return this._results[ch()]()}class pg{get changes(){return this._changes||(this._changes=new On)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ch(),r=pg.prototype;r[t]||(r[t]=dH)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Ki(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function nw(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Jl=(()=>{class n{}return n.__NG_ELEMENT_ID__=pH,n})();const hH=Jl,fH=class extends hH{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=cb(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Td]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[ta];return null!==a&&(i[ta]=a.createEmbeddedView(r)),Uw(r,i,e),new ng(i)}};function pH(){return kb(Ur(),At())}function kb(n,e){return 4&n.type?new fH(e,n,Vo(n,e)):null}let Ta=(()=>{class n{}return n.__NG_ELEMENT_ID__=mH,n})();function mH(){return qT(Ur(),At())}const gH=Ta,XT=class extends gH{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Vo(this._hostTNode,this._hostLView)}get injector(){return new Sc(this._hostTNode,this._hostLView)}get parentInjector(){const e=uf(this._hostTNode,this._hostLView);if(Gd(e)){const t=xu(e,this._hostLView),r=Cc(e);return new Sc(t[en].data[r+8],t)}return new Sc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=KT(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Po}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedView(t||{},o);return this.insert(a,i),a}createComponent(e,t,r,i,o){const a=e&&!function Yd(n){return"function"==typeof n}(e);let c;if(a)c=t;else{const O=t||{};c=O.index,r=O.injector,i=O.projectableNodes,o=O.environmentInjector||O.ngModuleRef}const h=a?e:new rg(mr(e)),g=r||this.parentInjector;if(!o&&null==h.ngModule){const $=(a?g:this.parentInjector).get(In,null);$&&(o=$)}const y=h.create(g,i,void 0,o);return this.insert(y.hostView,c),y}insert(e,t){const r=e._lView,i=r[en];if(function Wx(n){return Fs(n[li])}(r)){const y=this.indexOf(e);if(-1!==y)this.detach(y);else{const O=r[li],$=new XT(O,O[bo],O[li]);$.detach($.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;!function uo(n,e,t,r){const i=Po+r,o=t.length;r>0&&(t[i-1][ea]=e),r<o-Po?(e[ea]=t[i],Su(t,Po+r,e)):(t.push(e),e[ea]=null),e[li]=t;const a=e[Td];null!==a&&t!==a&&function Yy(n,e){const t=n[fu];e[_o]!==e[li][li][_o]&&(n[Xv]=!0),null===t?n[fu]=[e]:t.push(e)}(a,e);const c=e[ta];null!==c&&c.insertView(n),e[Hn]|=64}(i,r,a,o);const c=Km(o,a),h=r[Gn],g=Sf(h,a[Jh]);return null!==g&&function Sw(n,e,t,r,i,o){r[Ns]=i,r[bo]=e,Ru(n,r,t,1,i,o)}(i,a[bo],h,r,g,c),e.attachToViewContainerRef(),Su(b1(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=KT(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Df(this._lContainer,t);r&&(Ic(b1(this._lContainer),t),$m(r[en],r))}detach(e){const t=this._adjustIndex(e,-1),r=Df(this._lContainer,t);return r&&null!=Ic(b1(this._lContainer),t)?new ng(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function KT(n){return n[ef]}function b1(n){return n[ef]||(n[ef]=[])}function qT(n,e){let t;const r=e[n.index];if(Fs(r))t=r;else{let i;if(8&n.type)i=ao(r);else{const o=e[Gn];i=o.createComment("");const a=hs(n,e);Co(o,Sf(o,a),i,function Ym(n,e){return n.nextSibling(e)}(o,a),!1)}e[n.index]=t=$k(r,e,i,n),db(e,t)}return new XT(t,n,e)}class _1{constructor(e){this.queryList=e,this.matches=null}clone(){return new _1(this.queryList)}setDirty(){this.queryList.setDirty()}}class x1{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const a=t.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new x1(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==tA(e,t).matches&&this.queries[t].setDirty()}}class ZT{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class w1{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new w1(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class E1{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new E1(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,vH(t,o)),this.matchTNodeWithReadOption(e,t,hf(t,e,o,!1,!1))}else r===Jl?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Bn||i===Ta||i===Jl&&4&t.type)this.addMatch(t.index,-2);else{const o=hf(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function vH(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function bH(n,e,t,r){return-1===t?function yH(n,e){return 11&n.type?Vo(n,e):4&n.type?kb(n,e):null}(e,n):-2===t?function _H(n,e,t){return t===Bn?Vo(e,n):t===Jl?kb(e,n):t===Ta?qT(e,n):void 0}(n,e,r):Dc(n,n[en],t,e)}function QT(n,e,t,r){const i=e[ta].queries[r];if(null===i.matches){const o=n.data,a=t.matches,c=[];for(let h=0;h<a.length;h+=2){const g=a[h];c.push(g<0?null:bH(e,o[g],a[h+1],t.metadata.read))}i.matches=c}return i.matches}function C1(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const a=QT(n,e,i,t);for(let c=0;c<o.length;c+=2){const h=o[c];if(h>0)r.push(a[c/2]);else{const g=o[c+1],y=e[-h];for(let O=Po;O<y.length;O++){const $=y[O];$[Td]===$[li]&&C1($[en],$,g,r)}if(null!==y[fu]){const O=y[fu];for(let $=0;$<O.length;$++){const K=O[$];C1(K[en],K,g,r)}}}}}return r}function nr(n){const e=At(),t=Jn(),r=cy();wc(r+1);const i=tA(t,r);if(n.dirty&&function Jr(n){return 4==(4&n[Hn])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?C1(t,e,r,[]):QT(t,e,i,r);n.reset(o,Ow),n.notifyOnChanges()}return!0}return!1}function ri(n,e,t){const r=Jn();r.firstCreatePass&&(eA(r,new ZT(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),JT(r,At(),e)}function js(n,e,t,r){const i=Jn();if(i.firstCreatePass){const o=Ur();eA(i,new ZT(e,t,r),o.index),function wH(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}JT(i,At(),t)}function rr(){return function xH(n,e){return n[ta].queries[e].queryList}(At(),cy())}function JT(n,e,t){const r=new pg(4==(4&t));Vk(n,e,r,r.destroy),null===e[ta]&&(e[ta]=new x1),e[ta].queries.push(new _1(r))}function eA(n,e,t){null===n.queries&&(n.queries=new w1),n.queries.track(new E1(e,t))}function tA(n,e){return n.queries.getByIndex(e)}function nA(n,e){return kb(n,e)}function Tb(...n){}const xA=new Nt("Application Initializer");let Ab=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Tb,this.reject=Tb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(_b(o))t.push(o);else if(fM(o)){const a=new Promise((c,h)=>{o.subscribe({complete:c,error:h})});t.push(a)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(xt(xA,8))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ib=new Nt("AppId",{providedIn:"root",factory:function wA(){return`${T1()}${T1()}${T1()}`}});function T1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const EA=new Nt("Platform Initializer"),A1=new Nt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jH=new Nt("appBootstrapListener"),ca=new Nt("AnimationModuleType"),ec=new Nt("LocaleId",{providedIn:"root",factory:()=>Zs(ec,xn.Optional|xn.SkipSelf)||function UH(){return typeof $localize<"u"&&$localize.locale||ep}()}),XH=(()=>Promise.resolve(0))();class Tn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new On(!1),this.onMicrotaskEmpty=new On(!1),this.onStable=new On(!1),this.onError=new On(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function KH(){let n=Nr.requestAnimationFrame,e=Nr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function QH(n){const e=()=>{!function ZH(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Nr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,R1(n),n.isCheckStableRunning=!0,O1(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),R1(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,a,c)=>{try{return SA(n),t.invokeTask(i,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),kA(n)}},onInvoke:(t,r,i,o,a,c,h)=>{try{return SA(n),t.invoke(i,o,a,c,h)}finally{n.shouldCoalesceRunChangeDetection&&e(),kA(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,R1(n),O1(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tn.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(Tn.isInAngularZone())throw new Ze(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,qH,Tb,Tb);try{return o.runTask(a,t,r)}finally{o.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const qH={};function O1(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function R1(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function SA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kA(n){n._nesting--,O1(n)}class JH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new On,this.onMicrotaskEmpty=new On,this.onStable=new On,this.onError=new On}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const MA=new Nt("");let Vu=null;const L1=new Nt("PlatformDestroyListeners"),$c=!1;function o8(n){const{rootComponent:e,appProviders:t,platformProviders:r}=n;$c&&void 0!==e&&function y5(n){if(function b5(n){if(!mr(n))throw new Ze(906,`The ${Qt(n)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(n),!mr(n).standalone)throw new Ze(907,`The ${Qt(n)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${Qt(n)} component has the \`standalone: true\` flag in the decorator.`)}(e);const i=function i8(n=[]){if(Vu)return Vu;const e=function IA(n=[],e){return dl.create({name:e,providers:[{provide:er,useValue:"platform"},{provide:L1,useValue:new Set([()=>Vu=null])},...n]})}(n);return Vu=e,function AA(n){const e=n.get(EA,null);e&&e.forEach(t=>t())}(e),e}(r),o=function PA(n,e){let t;return t="noop"===n?new JH:("zone.js"===n?void 0:n)||new Tn(e),t}("zone.js",function RA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return o.run(()=>{const c=NT([{provide:Tn,useValue:o},...t||[]],i,"Environment Injector"),h=c.get(ka,null);if($c&&!h)throw new Ze(402,"No `ErrorHandler` found in the Dependency Injection tree.");let g;o.runOutsideAngular(()=>{g=o.onError.subscribe({next:$=>{h.handleError($)}})});const y=()=>c.destroy(),O=i.get(L1);return O.add(y),c.onDestroy(()=>{g.unsubscribe(),O.delete(y)}),function NA(n,e,t){try{const r=t();return _b(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(h,o,()=>{const $=c.get(Ab);return $.runInitializers(),$.donePromise.then(()=>{!function cT(n){Oi(n,"Expected localeId to be defined"),"string"==typeof n&&(lT=n.toLowerCase().replace(/_/g,"-"))}(c.get(ec,ep)||ep);const re=c.get(gg);return void 0!==e&&re.bootstrap(e),re})})})}let gg=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new _e(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),a=new _e(c=>{let h;this._zone.runOutsideAngular(()=>{h=this._zone.onStable.subscribe(()=>{Tn.assertNotInAngularZone(),function I1(n){typeof Zone>"u"?XH.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{Tn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),g.unsubscribe()}});this.isStable=kl(o,a.pipe(Ya()))}bootstrap(t,r){$c&&this.warnIfDestroyed();const i=t instanceof zc;if(!this._injector.get(Ab).done){const K="Cannot bootstrap as there are still asynchronous initializers running."+(!i&&function kd(n){const e=mr(n)||wi(n)||$i(n);return null!==e&&e.standalone}(t)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new Ze(405,$c&&K)}let a;a=i?t:this._injector.get(Zi).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const c=function n8(n){return n.isBoundToModule}(a)?void 0:this._injector.get(tp),g=a.create(dl.NULL,[],r||a.selector,c),y=g.location.nativeElement,O=g.injector.get(MA,null);return O?.registerApplication(y),g.onDestroy(()=>{this.detachView(g.hostView),Rb(this.components,g),O?.unregisterApplication(y)}),this._loadComponent(g),g}tick(){if($c&&this.warnIfDestroyed(),this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){$c&&this.warnIfDestroyed();const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){$c&&this.warnIfDestroyed();const r=t;Rb(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(jH,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return $c&&this.warnIfDestroyed(),this._destroyListeners.push(t),()=>Rb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ze(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){$c&&this._destroyed&&console.warn(fr(406,"This instance of the `ApplicationRef` has already been destroyed."))}}return n.\u0275fac=function(t){return new(t||n)(xt(Tn),xt(In),xt(ka))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let bs=(()=>{class n{}return n.__NG_ELEMENT_ID__=l8,n})();function l8(n){return function c8(n,e,t){if(Ad(n)&&!t){const r=gr(n.index,e);return new ng(r,r)}return 47&n.type?new ng(e[_o],e):null}(Ur(),At(),16==(16&n))}class HA{constructor(){}supports(e){return gb(e)}create(e){return new m8(e)}}const p8=(n,e)=>e;class m8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||p8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const a=!r||t&&t.currentIndex<UA(r,i,o)?t:r,c=UA(a,i,o),h=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{o||(o=[]);const g=c-i,y=h-i;if(g!=y){for(let $=0;$<g;$++){const K=$<o.length?o[$]:o[$]=0,re=K+$;y<=re&&re<g&&(o[$]=K+1)}o[a.previousIndex]=y-g}}c!==h&&e(a,c,h)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!gb(e))throw new Ze(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,a,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],a=this._trackByFn(c,o),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,o,a,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,a,c),r=!0),t=t._next}else i=0,function U3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[ch()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,c=>{a=this._trackByFn(i,c),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,c,a,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)):(t=this._mismatch(t,c,a,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new g8(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new jA),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jA),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class g8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class v8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class jA{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new v8,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UA(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class GA{constructor(){}supports(e){return e instanceof Map||n1(e)}create(){return new y8}}class y8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||n1(e)))throw new Ze(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,a=i._next;return o&&(o._next=a),a&&(a._prev=o),i._next=null,i._prev=null,i}const r=new b8(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class b8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $A(){return new Fb([new HA])}let Fb=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||$A()),deps:[[n,new Kd,new jl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Ze(901,!1)}}return n.\u0275prov=on({token:n,providedIn:"root",factory:$A}),n})();function WA(){return new vg([new GA])}let vg=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||WA()),deps:[[n,new Kd,new jl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Ze(901,!1)}}return n.\u0275prov=on({token:n,providedIn:"root",factory:WA}),n})();let G1=null;function tc(){return G1}class C8{}const or=new Nt("DocumentToken");let YA=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=on({token:n,factory:function(){return function D8(){return xt(XA)}()},providedIn:"platform"}),n})(),XA=(()=>{class n extends YA{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tc().getBaseHref(this._doc)}onPopState(t){const r=tc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=tc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){KA()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){KA()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(xt(or))},n.\u0275prov=on({token:n,factory:function(){return function S8(){return new XA(xt(or))}()},providedIn:"platform"}),n})();function KA(){return!!window.history.pushState}function qA(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ZA(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function mh(n){return n&&"?"!==n[0]?"?"+n:n}let $1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=on({token:n,factory:function(){return Zs(M8)},providedIn:"root"}),n})();const k8=new Nt("appBaseHref");let M8=(()=>{class n extends $1{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Zs(or).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qA(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+mh(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const a=this.prepareExternalUrl(i+mh(o));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,o){const a=this.prepareExternalUrl(i+mh(o));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(xt(YA),xt(k8,8))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QA=(()=>{class n{constructor(t){this._subject=new On,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function I8(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ZA(JA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+mh(r))}normalize(t){return n.stripTrailingSlash(function A8(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,JA(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mh(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mh(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=mh,n.joinWithSlash=qA,n.stripTrailingSlash=ZA,n.\u0275fac=function(t){return new(t||n)(xt($1))},n.\u0275prov=on({token:n,factory:function(){return function T8(){return new QA(xt($1))}()},providedIn:"root"}),n})();function JA(n){return n.replace(/\/index.html$/,"")}const tE=/\s+/,lI=[];let nE=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=lI,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(tE):lI}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(tE):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(tE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(ze(Fb),ze(vg),ze(Bn),ze(cl))},n.\u0275dir=Jt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class gj{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _g=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new gj(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===o?void 0:o);else if(null!==o){const c=r.get(o);r.move(c,a),dI(c,i)}});for(let i=0,o=r.length;i<o;i++){const c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{dI(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(ze(Ta),ze(Jl),ze(Fb))},n.\u0275dir=Jt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function dI(n,e){n.context.$implicit=e.item}let zu=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new yj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hI("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hI("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(ze(Ta),ze(Jl))},n.\u0275dir=Jt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class yj{constructor(){this.$implicit=null,this.ngIf=null}}function hI(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${De(e)}'.`)}class rE{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let xg=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Jt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),iE=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new rE(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(ze(Ta),ze(Jl),ze(xg,9))},n.\u0275dir=Jt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),fI=(()=>{class n{constructor(t,r,i){i._addDefault(new rE(t,r))}}return n.\u0275fac=function(t){return new(t||n)(ze(Ta),ze(Jl),ze(xg,9))},n.\u0275dir=Jt({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),mI=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=r.createEmbeddedView(i,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(ze(Ta))},n.\u0275dir=Jt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[$n]}),n})(),Oa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({}),n})();const vI="browser";class xU extends C8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class uE extends xU{static makeCurrent(){!function E8(n){G1||(G1=n)}(new uE)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function wU(){return Eg=Eg||document.querySelector("base"),Eg?Eg.getAttribute("href"):null}();return null==t?null:function EU(n){Yb=Yb||document.createElement("a"),Yb.setAttribute("href",n);const e=Yb.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Eg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function pj(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Yb,Eg=null,kU=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})();const Xb=new Nt("EventManagerPlugins");let Kb=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const a=i[o];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(xt(Xb),xt(Tn))},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})();class EI{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=tc().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let CI=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})(),Cg=(()=>{class n extends CI{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,i.push(r.appendChild(a))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(DI),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(DI))}}return n.\u0275fac=function(t){return new(t||n)(xt(or))},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})();function DI(n){tc().remove(n)}const dE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hE=/%COMP%/g;function fE(n,e){return e.flat(100).map(t=>t.replace(hE,n))}function MI(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let qb=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new pE(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Js.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new RU(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case Js.ShadowDom:return new PU(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=fE(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(xt(Kb),xt(Cg),xt(Ib))},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})();class pE{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(dE[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(AI(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(AI(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=dE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=dE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(vi.DashCase|vi.Important)?e.style.setProperty(t,r,i&vi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&vi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,MI(r)):this.eventManager.addEventListener(e,t,MI(r))}}function AI(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class RU extends pE{constructor(e,t,r,i){super(e),this.component=r;const o=fE(i+"-"+r.id,r.styles);t.addStyles(o),this.contentAttr=function AU(n){return"_ngcontent-%COMP%".replace(hE,n)}(i+"-"+r.id),this.hostAttr=function IU(n){return"_nghost-%COMP%".replace(hE,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class PU extends pE{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=fE(i.id,i.styles);for(let a=0;a<o.length;a++){const c=document.createElement("style");c.textContent=o[a],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const II=["alt","control","meta","shift"],FU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function RI(n){return{appProviders:[...WU,...n?.providers??[]],platformProviders:UU}}const UU=[{provide:A1,useValue:vI},{provide:EA,useValue:function zU(){uE.makeCurrent()},multi:!0},{provide:or,useFactory:function jU(){return function ib(n){Qm=n}(document),document},deps:[]}],WU=[{provide:er,useValue:"root"},{provide:ka,useFactory:function HU(){return new ka},deps:[]},{provide:Xb,useClass:(()=>{class n extends EI{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(xt(or))},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[or,Tn,A1]},{provide:Xb,useClass:(()=>{class n extends EI{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tc().onAndCancel(t,o.domEventName,a))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),II.forEach(g=>{const y=r.indexOf(g);y>-1&&(r.splice(y,1),a+=g+".")}),a+=o,0!=r.length||0===o.length)return null;const h={};return h.domEventName=i,h.fullKey=a,h}static matchEventFullKeyCode(t,r){let i=FU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),II.forEach(a=>{a!==i&&(0,LU[a])(t)&&(o+=a+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(xt(or))},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[or]},{provide:qb,useClass:qb,deps:[Kb,Cg,Ib]},{provide:ah,useExisting:qb},{provide:CI,useExisting:Cg},{provide:Cg,useClass:Cg,deps:[or]},{provide:Kb,useClass:Kb,deps:[Xb,Tn]},{provide:class Xj{},useClass:kU,deps:[]},[]];typeof window<"u"&&window;let gE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=on({token:n,factory:function(t){let r=null;return r=t?new(t||n):xt(FI),r},providedIn:"root"}),n})(),FI=(()=>{class n extends gE{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case rt.NONE:return r;case rt.HTML:return d(r,"HTML")?l(r):st(this._doc,String(r)).toString();case rt.STYLE:return d(r,"Style")?l(r):r;case rt.SCRIPT:if(d(r,"Script"))return l(r);throw new Error("unsafe value used in a script context");case rt.URL:return d(r,"URL")?l(r):Q(String(r));case rt.RESOURCE_URL:if(d(r,"ResourceURL"))return l(r);throw new Error(`unsafe value used in a resource URL context (see ${vn})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${vn})`)}}bypassSecurityTrustHtml(t){return function p(n){return new Lc(n)}(t)}bypassSecurityTrustStyle(t){return function m(n){return new Iw(n)}(t)}bypassSecurityTrustScript(t){return function w(n){return new Bc(n)}(t)}bypassSecurityTrustUrl(t){return function M(n){return new u(n)}(t)}bypassSecurityTrustResourceUrl(t){return function D(n){return new s(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(xt(or))},n.\u0275prov=on({token:n,factory:function(t){let r=null;return r=t?new t:function t6(n){return new FI(n.get(or))}(xt(dl)),r},providedIn:"root"}),n})();function LI(n,e,t,r,i,o,a){try{var c=n[o](a),h=c.value}catch(g){return void t(g)}c.done?e(h):Promise.resolve(h).then(r,i)}function gh(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(h){LI(o,r,i,a,c,"next",h)}function c(h){LI(o,r,i,a,c,"throw",h)}a(void 0)})}}class n6 extends C{constructor(e,t){super()}schedule(e,t=0){return this}}const Zb={setInterval(n,e,...t){const{delegate:r}=Zb;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Zb;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class vE extends n6{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Zb.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Zb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,E(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const BI={now:()=>(BI.delegate||Date).now(),delegate:void 0};class Dg{constructor(e,t=Dg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Dg.now=BI.now;class yE extends Dg{constructor(e,t=Dg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const bE=new yE(vE),r6=bE;function Sg(n,e=bE){return Be((t,r)=>{let i=null,o=null,a=null;const c=()=>{if(i){i.unsubscribe(),i=null;const g=o;o=null,r.next(g)}};function h(){const g=a+n,y=e.now();if(y<g)return i=this.schedule(void 0,g-y),void r.add(i);c()}t.subscribe(Le(r,g=>{o=g,a=e.now(),i||(i=e.schedule(h,n),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}const i6=["gutterEls"];function o6(n,e){if(1&n){const t=Lu();Ut(0,"div",2,3),Kn("keydown",function(i){Bi(t);const o=Mn().index;return gi(Mn().startKeyboardDrag(i,2*o+1,o+1))})("mousedown",function(i){Bi(t);const o=Mn().index;return gi(Mn().startMouseDrag(i,2*o+1,o+1))})("touchstart",function(i){Bi(t);const o=Mn().index;return gi(Mn().startMouseDrag(i,2*o+1,o+1))})("mouseup",function(i){Bi(t);const o=Mn().index;return gi(Mn().clickGutter(i,o+1))})("touchend",function(i){Bi(t);const o=Mn().index;return gi(Mn().clickGutter(i,o+1))}),tr(2,"div",4),Xt()}if(2&n){const t=Mn(),r=t.index,i=t.$implicit,o=Mn();Gc("flex-basis",o.gutterSize,"px")("order",2*r+1),ni("aria-label",o.gutterAriaLabel)("aria-orientation",o.direction)("aria-valuemin",i.minSize)("aria-valuemax",i.maxSize)("aria-valuenow",i.size)("aria-valuetext",o.getAriaAreaSizeText(i.size))}}function s6(n,e){1&n&&Yn(0,o6,3,10,"div",1),2&n&&$t("ngIf",!1===e.last)}const a6=["*"];function kg(n){if(void 0!==n.changedTouches&&n.changedTouches.length>0)return{x:n.changedTouches[0].clientX,y:n.changedTouches[0].clientY};if(void 0!==n.clientX&&void 0!==n.clientY)return{x:n.clientX,y:n.clientY};if(void 0!==n.currentTarget){const e=n.currentTarget;return{x:e.offsetLeft,y:e.offsetTop}}return null}function VI(n,e,t){return Math.abs(n.x-e.x)<=t&&Math.abs(n.y-e.y)<=t}function zI(n,e){const t=n.nativeElement.getBoundingClientRect();return"horizontal"===e?t.width:t.height}function Mg(n){return"boolean"==typeof n?n:"false"!==n}function ju(n,e){return null==n?e:(n=Number(n),!isNaN(n)&&n>=0?n:e)}function HI(n,e){if("percent"===n){const t=e.reduce((r,i)=>null!==i?r+i:r,0);return e.every(r=>null!==r)&&t>99.9&&t<100.1}if("pixel"===n)return 1===e.filter(t=>null===t).length}function Qb(n){return null===n.size?null:!0===n.component.lockSize?n.size:null===n.component.minSize?null:n.component.minSize>n.size?n.size:n.component.minSize}function Jb(n){return null===n.size?null:!0===n.component.lockSize?n.size:null===n.component.maxSize?null:n.component.maxSize<n.size?n.size:n.component.maxSize}function ip(n,e,t,r){return e.reduce((i,o)=>{const a=function c6(n,e,t,r){return 0===t?{areaSnapshot:e,pixelAbsorb:0,percentAfterAbsorption:e.sizePercentAtStart,pixelRemain:0}:0===e.sizePixelAtStart&&t<0?{areaSnapshot:e,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:t}:"percent"===n?function u6(n,e,t){const i=(n.sizePixelAtStart+e)/t*100;if(e>0){if(null!==n.area.maxSize&&i>n.area.maxSize){const o=n.area.maxSize/100*t;return{areaSnapshot:n,pixelAbsorb:o,percentAfterAbsorption:n.area.maxSize,pixelRemain:n.sizePixelAtStart+e-o}}return{areaSnapshot:n,pixelAbsorb:e,percentAfterAbsorption:i>100?100:i,pixelRemain:0}}if(e<0){if(null!==n.area.minSize&&i<n.area.minSize){const o=n.area.minSize/100*t;return{areaSnapshot:n,pixelAbsorb:o,percentAfterAbsorption:n.area.minSize,pixelRemain:n.sizePixelAtStart+e-o}}return i<0?{areaSnapshot:n,pixelAbsorb:-n.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:e+n.sizePixelAtStart}:{areaSnapshot:n,pixelAbsorb:e,percentAfterAbsorption:i,pixelRemain:0}}}(e,t,r):"pixel"===n?function d6(n,e,t){const r=n.sizePixelAtStart+e;return e>0?null!==n.area.maxSize&&r>n.area.maxSize?{areaSnapshot:n,pixelAbsorb:n.area.maxSize-n.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:r-n.area.maxSize}:{areaSnapshot:n,pixelAbsorb:e,percentAfterAbsorption:-1,pixelRemain:0}:e<0?null!==n.area.minSize&&r<n.area.minSize?{areaSnapshot:n,pixelAbsorb:n.area.minSize+e-r,percentAfterAbsorption:-1,pixelRemain:r-n.area.minSize}:r<0?{areaSnapshot:n,pixelAbsorb:-n.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:e+n.sizePixelAtStart}:{areaSnapshot:n,pixelAbsorb:e,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(e,t):void 0}(n,o,i.remain,r);return i.list.push(a),i.remain=a.pixelRemain,i},{remain:t,list:[]})}function jI(n,e){"percent"===n?e.areaSnapshot.area.size=e.percentAfterAbsorption:"pixel"===n&&null!==e.areaSnapshot.area.size&&(e.areaSnapshot.area.size=e.areaSnapshot.sizePixelAtStart+e.pixelAbsorb)}const h6=new Nt("angular-split-global-config");let UI=(()=>{class n{set direction(t){this._direction="vertical"===t?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,`as-${this._direction}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}get direction(){return this._direction}set unit(t){this._unit="pixel"===t?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,`as-${this._unit}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}get unit(){return this._unit}set gutterSize(t){this._gutterSize=ju(t,11),this.build(!1,!1)}get gutterSize(){return this._gutterSize}set gutterStep(t){this._gutterStep=ju(t,1)}get gutterStep(){return this._gutterStep}set restrictMove(t){this._restrictMove=Mg(t)}get restrictMove(){return this._restrictMove}set useTransition(t){this._useTransition=Mg(t),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}get useTransition(){return this._useTransition}set disabled(t){this._disabled=Mg(t),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}get disabled(){return this._disabled}set dir(t){this._dir="rtl"===t?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}get dir(){return this._dir}set gutterDblClickDuration(t){this._gutterDblClickDuration=ju(t,0)}get gutterDblClickDuration(){return this._gutterDblClickDuration}get transitionEnd(){return new _e(t=>this.transitionEndSubscriber=t).pipe(Sg(20))}constructor(t,r,i,o,a){this.ngZone=t,this.elRef=r,this.cdRef=i,this.renderer=o,this.gutterClickDeltaPx=2,this._config={direction:"horizontal",unit:"percent",gutterSize:11,gutterStep:1,restrictMove:!1,useTransition:!1,disabled:!1,dir:"ltr",gutterDblClickDuration:0},this.dragStart=new On(!1),this.dragEnd=new On(!1),this.gutterClick=new On(!1),this.gutterDblClick=new On(!1),this.dragProgressSubject=new Me,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.isWaitingInitialMove=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hiddenAreas=[],this._clickTimeout=null,this.direction=this._direction,this._config=a?Object.assign(this._config,a):this._config,Object.keys(this._config).forEach(c=>{this[c]=this._config[c]})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>this.renderer.addClass(this.elRef.nativeElement,"as-init"))})}getNbGutters(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}addArea(t){const r={component:t,order:0,size:0,minSize:null,maxSize:null,sizeBeforeCollapse:null,gutterBeforeCollapse:0};!0===t.visible?(this.displayedAreas.push(r),this.build(!0,!0)):this.hiddenAreas.push(r)}removeArea(t){if(this.displayedAreas.some(r=>r.component===t)){const r=this.displayedAreas.find(i=>i.component===t);this.displayedAreas.splice(this.displayedAreas.indexOf(r),1),this.build(!0,!0)}else if(this.hiddenAreas.some(r=>r.component===t)){const r=this.hiddenAreas.find(i=>i.component===t);this.hiddenAreas.splice(this.hiddenAreas.indexOf(r),1)}}updateArea(t,r,i){!0===t.visible&&this.build(r,i)}showArea(t){const r=this.hiddenAreas.find(o=>o.component===t);if(void 0===r)return;const i=this.hiddenAreas.splice(this.hiddenAreas.indexOf(r),1);this.displayedAreas.push(...i),this.build(!0,!0)}hideArea(t){const r=this.displayedAreas.find(o=>o.component===t);if(void 0===r)return;const i=this.displayedAreas.splice(this.displayedAreas.indexOf(r),1);i.forEach(o=>{o.order=0,o.size=0}),this.hiddenAreas.push(...i),this.build(!0,!0)}getVisibleAreaSizes(){return this.displayedAreas.map(t=>null===t.size?"*":t.size)}setVisibleAreaSizes(t){if(t.length!==this.displayedAreas.length)return!1;const r=t.map(o=>ju(o,null));return!1!==HI(this.unit,r)&&(this.displayedAreas.forEach((o,a)=>o.component._size=r[a]),this.build(!1,!0),!0)}build(t,r){if(this.stopDragging(),!0===t&&(this.displayedAreas.every(i=>null!==i.component.order)&&this.displayedAreas.sort((i,o)=>i.component.order-o.component.order),this.displayedAreas.forEach((i,o)=>{i.order=2*o,i.component.setStyleOrder(i.order)})),!0===r){const i=HI(this.unit,this.displayedAreas.map(o=>o.component.size));switch(this.unit){case"percent":{const o=100/this.displayedAreas.length;this.displayedAreas.forEach(a=>{a.size=i?a.component.size:o,a.minSize=Qb(a),a.maxSize=Jb(a)});break}case"pixel":if(i)this.displayedAreas.forEach(o=>{o.size=o.component.size,o.minSize=Qb(o),o.maxSize=Jb(o)});else{const o=this.displayedAreas.filter(a=>null===a.component.size);if(0===o.length&&this.displayedAreas.length>0)this.displayedAreas.forEach((a,c)=>{a.size=0===c?null:a.component.size,a.minSize=0===c?null:Qb(a),a.maxSize=0===c?null:Jb(a)});else if(o.length>1){let a=!1;this.displayedAreas.forEach(c=>{null===c.component.size?!1===a?(c.size=null,c.minSize=null,c.maxSize=null,a=!0):(c.size=100,c.minSize=null,c.maxSize=null):(c.size=c.component.size,c.minSize=Qb(c),c.maxSize=Jb(c))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}refreshStyleSizes(){if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{const t=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(r=>{r.component.setStyleFlex(0,0,`calc( ${r.size}% - ${r.size/100*t}px )`,null!==r.minSize&&r.minSize===r.size,null!==r.maxSize&&r.maxSize===r.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(t=>{null===t.size?t.component.setStyleFlex(1,1,1===this.displayedAreas.length?"100%":"auto",!1,!1):1===this.displayedAreas.length?t.component.setStyleFlex(0,0,"100%",!1,!1):t.component.setStyleFlex(0,0,`${t.size}px`,null!==t.minSize&&t.minSize===t.size,null!==t.maxSize&&t.maxSize===t.size)})}clickGutter(t,r){const i=kg(t);this.startPoint&&VI(this.startPoint,i,this.gutterClickDeltaPx)&&(!this.isDragging||this.isWaitingInitialMove)&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",r),this.stopDragging()):this._clickTimeout=window.setTimeout(()=>{this._clickTimeout=null,this.notify("click",r),this.stopDragging()},this.gutterDblClickDuration))}startKeyboardDrag(t,r,i){if(!0===this.disabled||!0===this.isWaitingClear)return;const o=function l6(n,e){if("horizontal"===e)switch(n.key){case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":break;default:return null}if("vertical"===e)switch(n.key){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":break;default:return null}const t=n.currentTarget,r="PageUp"===n.key||"PageDown"===n.key?500:50;let i=t.offsetLeft,o=t.offsetTop;switch(n.key){case"ArrowLeft":i-=r;break;case"ArrowRight":i+=r;break;case"ArrowUp":o-=r;break;case"ArrowDown":o+=r;break;case"PageUp":"vertical"===e?o-=r:i+=r;break;case"PageDown":"vertical"===e?o+=r:i-=r;break;default:return null}return{x:i,y:o}}(t,this.direction);null!==o&&(this.endPoint=o,this.startPoint=kg(t),t.preventDefault(),t.stopPropagation(),this.setupForDragEvent(r,i),this.startDragging(),this.drag(),this.stopDragging())}startMouseDrag(t,r,i){t.preventDefault(),t.stopPropagation(),this.startPoint=kg(t),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.setupForDragEvent(r,i),this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(()=>{this.dragListeners.push(this.renderer.listen("document","mousemove",this.mouseDragEvent.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchmove",this.mouseDragEvent.bind(this)))}),this.startDragging())}setupForDragEvent(t,r){this.snapshot={gutterNum:r,lastSteppedOffset:0,allAreasSizePixel:zI(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(i=>{const o={area:i,sizePixelAtStart:zI(i.component.elRef,this.direction),sizePercentAtStart:"percent"===this.unit?i.size:-1};i.order<t?!0===this.restrictMove?this.snapshot.areasBeforeGutter=[o]:this.snapshot.areasBeforeGutter.unshift(o):i.order>t&&(!0===this.restrictMove?0===this.snapshot.areasAfterGutter.length&&(this.snapshot.areasAfterGutter=[o]):this.snapshot.areasAfterGutter.push(o))}),this.snapshot.allInvolvedAreasSizePercent=[...this.snapshot.areasBeforeGutter,...this.snapshot.areasAfterGutter].reduce((i,o)=>i+o.sizePercentAtStart,0)}startDragging(){this.displayedAreas.forEach(t=>t.component.lockEvents()),this.isDragging=!0,this.isWaitingInitialMove=!0}mouseDragEvent(t){t.preventDefault(),t.stopPropagation();const r=kg(t);null!==this._clickTimeout&&!VI(this.startPoint,r,this.gutterClickDeltaPx)&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=kg(t),null!==this.endPoint&&this.drag())}drag(){if(this.isWaitingInitialMove){if(this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y)return;this.ngZone.run(()=>{this.isWaitingInitialMove=!1,this.renderer.addClass(this.elRef.nativeElement,"as-dragging"),this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.notify("start",this.snapshot.gutterNum)})}let t="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&"horizontal"===this.direction&&(t=-t);const r=Math.round(t/this.gutterStep)*this.gutterStep;if(r===this.snapshot.lastSteppedOffset)return;this.snapshot.lastSteppedOffset=r;let i=ip(this.unit,this.snapshot.areasBeforeGutter,-r,this.snapshot.allAreasSizePixel),o=ip(this.unit,this.snapshot.areasAfterGutter,r,this.snapshot.allAreasSizePixel);if(0!==i.remain&&0!==o.remain?Math.abs(i.remain)===Math.abs(o.remain)||(Math.abs(i.remain)>Math.abs(o.remain)?o=ip(this.unit,this.snapshot.areasAfterGutter,r+i.remain,this.snapshot.allAreasSizePixel):i=ip(this.unit,this.snapshot.areasBeforeGutter,-(r-o.remain),this.snapshot.allAreasSizePixel)):0!==i.remain?o=ip(this.unit,this.snapshot.areasAfterGutter,r+i.remain,this.snapshot.allAreasSizePixel):0!==o.remain&&(i=ip(this.unit,this.snapshot.areasBeforeGutter,-(r-o.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){const a=[...i.list,...o.list],c=a.find(h=>0!==h.percentAfterAbsorption&&h.percentAfterAbsorption!==h.areaSnapshot.area.minSize&&h.percentAfterAbsorption!==h.areaSnapshot.area.maxSize);c&&(c.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-a.filter(h=>h!==c).reduce((h,g)=>h+g.percentAfterAbsorption,0))}i.list.forEach(a=>jI(this.unit,a)),o.list.forEach(a=>jI(this.unit,a)),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}stopDragging(t){if(t&&(t.preventDefault(),t.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(r=>r.component.unlockEvents());this.dragListeners.length>0;){const r=this.dragListeners.pop();r&&r()}this.isDragging=!1,!1===this.isWaitingInitialMove&&this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.startPoint=null,this.endPoint=null,this.isWaitingClear=!1})})}}notify(t,r){const i=this.getVisibleAreaSizes();"start"===t?this.dragStart.emit({gutterNum:r,sizes:i}):"end"===t?this.dragEnd.emit({gutterNum:r,sizes:i}):"click"===t?this.gutterClick.emit({gutterNum:r,sizes:i}):"dblclick"===t?this.gutterDblClick.emit({gutterNum:r,sizes:i}):"transitionEnd"===t?this.transitionEndSubscriber&&this.ngZone.run(()=>this.transitionEndSubscriber.next(i)):"progress"===t&&this.dragProgressSubject.next({gutterNum:r,sizes:i})}ngOnDestroy(){this.stopDragging()}collapseArea(t,r,i){const o=this.displayedAreas.find(h=>h.component===t);if(void 0===o)return;const a="right"===i?1:-1;o.sizeBeforeCollapse||(o.sizeBeforeCollapse=o.size,o.gutterBeforeCollapse=a),o.size=r;const c=this.gutterEls.find(h=>h.nativeElement.style.order===`${o.order+a}`);c&&this.renderer.addClass(c.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}expandArea(t){const r=this.displayedAreas.find(o=>o.component===t);if(void 0===r||!r.sizeBeforeCollapse)return;r.size=r.sizeBeforeCollapse,r.sizeBeforeCollapse=null;const i=this.gutterEls.find(o=>o.nativeElement.style.order===`${r.order+r.gutterBeforeCollapse}`);i&&this.renderer.removeClass(i.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}getAriaAreaSizeText(t){return null===t?null:t.toFixed(0)+" "+this.unit}}return n.\u0275fac=function(t){return new(t||n)(ze(Tn),ze(Bn),ze(bs),ze(cl),ze(h6,8))},n.\u0275cmp=ti({type:n,selectors:[["as-split"]],viewQuery:function(t,r){if(1&t&&ri(i6,5),2&t){let i;nr(i=rr())&&(r.gutterEls=i)}},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration",gutterClickDeltaPx:"gutterClickDeltaPx",gutterAriaLabel:"gutterAriaLabel"},outputs:{transitionEnd:"transitionEnd",dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick"},exportAs:["asSplit"],ngContentSelectors:a6,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["role","slider","tabindex","0","class","as-split-gutter",3,"flex-basis","order","keydown","mousedown","touchstart","mouseup","touchend",4,"ngIf"],["role","slider","tabindex","0",1,"as-split-gutter",3,"keydown","mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(t,r){1&t&&(zs(),$r(0),Yn(1,s6,1,1,"ng-template",0)),2&t&&(Kt(1),$t("ngForOf",r.displayedAreas))},dependencies:[_g,zu],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{border:none;flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter.as-split-gutter-collapsed[_ngcontent-%COMP%]{flex-basis:1px!important;pointer-events:none}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%], .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area{transition:flex-basis .3s}"],changeDetection:0}),n})(),f6=(()=>{class n{set order(t){this._order=ju(t,null),this.split.updateArea(this,!0,!1)}get order(){return this._order}set size(t){this._size=ju(t,null),this.split.updateArea(this,!1,!0)}get size(){return this._size}set minSize(t){this._minSize=ju(t,null),this.split.updateArea(this,!1,!0)}get minSize(){return this._minSize}set maxSize(t){this._maxSize=ju(t,null),this.split.updateArea(this,!1,!0)}get maxSize(){return this._maxSize}set lockSize(t){this._lockSize=Mg(t),this.split.updateArea(this,!1,!0)}get lockSize(){return this._lockSize}set visible(t){this._visible=Mg(t),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}get visible(){return this._visible}constructor(t,r,i,o){this.ngZone=t,this.elRef=r,this.renderer=i,this.split=o,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}ngOnInit(){this.split.addArea(this),this.ngZone.runOutsideAngular(()=>{this.transitionListener=this.renderer.listen(this.elRef.nativeElement,"transitionend",t=>{"flex-basis"===t.propertyName&&this.split.notify("transitionEnd",-1)})})}setStyleOrder(t){this.renderer.setStyle(this.elRef.nativeElement,"order",t)}setStyleFlex(t,r,i,o,a){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",t),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",r),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",i),!0===o?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===a?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}lockEvents(){this.ngZone.runOutsideAngular(()=>{this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"selectstart",()=>!1)),this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"dragstart",()=>!1))})}unlockEvents(){for(;this.lockListeners.length>0;){const t=this.lockListeners.pop();t&&t()}}ngOnDestroy(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}collapse(t=0,r="right"){this.split.collapseArea(this,t,r)}expand(){this.split.expandArea(this)}}return n.\u0275fac=function(t){return new(t||n)(ze(Tn),ze(Bn),ze(cl),ze(UI))},n.\u0275dir=Jt({type:n,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),n})(),p6=(()=>{class n{static forRoot(){return console.warn("AngularSplitModule.forRoot() is deprecated and will be removed in v6"),{ngModule:n,providers:[]}}static forChild(){return console.warn("AngularSplitModule.forChild() is deprecated and will be removed in v6"),{ngModule:n,providers:[]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Oa]}),n})();class _E{constructor(){this.displayContextMenu=!0,this.hideClassAssignmentTriples=!0,this.hideDatatypePropertyTriples=!0,this.showClassLabelOnInstance=!0,this.graph=new m6,this.contextMenuCommands=new g6,this.individualCSS={"background-color":"rgb(64,153,218)",color:"#333","border-color":"#bbb","border-width":3,"border-opacity":.5},this.classNodeCSS={"background-color":"rgb(238, 75, 43)",color:"#333"},this.literalNodeCSS={"background-color":"white",color:"#333",opacity:1,width:"data(width)",shape:"rectangle","border-color":"#bbb","border-width":3,"border-opacity":.5}}}class m6{constructor(){this.scale=100,this.layout=Tg.COSE_BILKENT,this.randomize=!0,this.animation="end",this.animationDuration=500,this.nodeRepulsion=4500,this.idealEdgeLength=200}}var Tg=(()=>{return(n=Tg||(Tg={})).BREADTHFIRST="breadthfirst",n.CIRCLE="circle",n.CONCENTRIC="concentric",n.COSE_BILKENT="cose-bilkent",n.DAGRE="dagre",n.GRID="grid",Tg;var n})();class g6{constructor(){this.nodes=[{id:"copyURI",visible:!0,enabled:!0,label:"Copy"},{id:"search",visible:!0,enabled:!0,label:"Search"},{id:"focus",visible:!0,enabled:!0,label:"Focus"},{id:"expandInbound",visible:!0,enabled:!0,label:"+inbound"},{id:"expandOutbound",visible:!0,enabled:!0,label:"+outbound"}],this.edges=[{id:"copyURI",visible:!0,enabled:!0,label:"Copy"},{id:"search",visible:!0,enabled:!0,label:"Search"}],this.canvas=[]}}class v6{constructor(e,t,r){this.resourceURI=e,this.commandId=t,this.contextCategory=r}}var op=(()=>{return(n=op||(op={})).CANVAS="CANVAS",n.EDGE="EDGE",n.NODE="NODE",op;var n})();let xE;try{xE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{xE=!1}let Ag,e0,vh,wE,So=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Wj(n){return n===vI}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(xt(A1))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ap(n){return function y6(){if(null==Ag&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ag=!0}))}finally{Ag=Ag||!1}return Ag}()?n:!!n.capture}function $I(){if(null==vh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return vh=!1,vh;if("scrollBehavior"in document.documentElement.style)vh=!0;else{const n=Element.prototype.scrollTo;vh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return vh}function Ig(){if("object"!=typeof document||!document)return 0;if(null==e0){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),e0=0,0===n.scrollLeft&&(n.scrollLeft=1,e0=0===n.scrollLeft?1:2),n.remove()}return e0}function Uu(n){return n.composedPath?n.composedPath()[0]:n.target}function EE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class WI extends Me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Gu(...n){return Sl(n,Dl(n))}function lp(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function t0(n,e,t){const r=_(n)||e||t?{next:n,error:e,complete:t}:n;return r?Be((i,o)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let c=!0;i.subscribe(Le(o,h=>{var g;null===(g=r.next)||void 0===g||g.call(r,h),o.next(h)},()=>{var h;c=!1,null===(h=r.complete)||void 0===h||h.call(r),o.complete()},h=>{var g;c=!1,null===(g=r.error)||void 0===g||g.call(r,h),o.error(h)},()=>{var h,g;c&&(null===(h=r.unsubscribe)||void 0===h||h.call(r)),null===(g=r.finalize)||void 0===g||g.call(r)}))}):fe}function cp(n,e){return Be((t,r)=>{let i=0;t.subscribe(Le(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ZI(n){return cp((e,t)=>n<=t)}function QI(n,e=fe){return n=n??P6,Be((t,r)=>{let i,o=!0;t.subscribe(Le(r,a=>{const c=e(a);(o||!n(i,c))&&(o=!1,i=c,r.next(a))}))})}function P6(n,e){return n===e}function Pi(n){return Be((e,t)=>{so(n).subscribe(Le(t,()=>t.complete(),F)),!t.closed&&e.subscribe(t)})}function Hr(n){return null!=n&&"false"!=`${n}`}function es(n,e=0){return function N6(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function n0(n){return Array.isArray(n)?n:[n]}function to(n){return null==n?"":"string"==typeof n?n:`${n}px`}function yh(n){return n instanceof Bn?n.nativeElement:n}let JI=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F6=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=yh(t);return new _e(i=>{const a=this._observeElement(r).subscribe(i);return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Me,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(xt(JI))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L6=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Hr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=es(t),this._subscribe()}constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new On,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Sg(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(ze(F6),ze(Bn),ze(Tn))},n.\u0275dir=Jt({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),eO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({providers:[JI]}),n})();const{isArray:B6}=Array,{getPrototypeOf:V6,prototype:z6,keys:H6}=Object;function tO(n){if(1===n.length){const e=n[0];if(B6(e))return{args:e,keys:null};if(function j6(n){return n&&"object"==typeof n&&V6(n)===z6}(e)){const t=H6(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:U6}=Array;function ME(n){return Ne(e=>function G6(n,e){return U6(e)?n(...e):n(e)}(n,e))}function nO(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function rO(n,e,t){n?Ts(t,n,e):e()}function TE(...n){return function Y6(){return ou(1)}()(Sl(n,Dl(n)))}function bh(n){return n<=0?()=>Br:Be((e,t)=>{let r=0;e.subscribe(Le(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function r0(...n){const e=Dl(n);return Be((t,r)=>{(e?TE(n,t,e):TE(n,t)).subscribe(r)})}const iO=new Set;let up,X6=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):q6}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function K6(n){if(!iO.has(n))try{up||(up=document.createElement("style"),up.setAttribute("type","text/css"),document.head.appendChild(up)),up.sheet&&(up.sheet.insertRule(`@media ${n} {body{ }}`,0),iO.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(xt(So))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function q6(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Z6=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Me}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return oO(n0(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=function $6(...n){const e=Dl(n),t=Yh(n),{args:r,keys:i}=tO(n);if(0===r.length)return Sl([],e);const o=new _e(function W6(n,e,t=fe){return r=>{rO(e,()=>{const{length:i}=n,o=new Array(i);let a=i,c=i;for(let h=0;h<i;h++)rO(e,()=>{const g=Sl(n[h],e);let y=!1;g.subscribe(Le(r,O=>{o[h]=O,y||(y=!0,c--),c||r.next(t(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,e,i?a=>nO(i,a):fe));return t?o.pipe(ME(t)):o}(oO(n0(t)).map(a=>this._registerQuery(a).observable));return o=TE(o.pipe(bh(1)),o.pipe(ZI(1),Sg(0))),o.pipe(Ne(a=>{const c={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:g})=>{c.matches=c.matches||h,c.breakpoints[g]=h}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new _e(a=>{const c=h=>this._zone.run(()=>a.next(h));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(r0(r),Ne(({matches:a})=>({query:t,matches:a})),Pi(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(xt(X6),xt(Tn))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oO(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function o0(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const aO="cdk-describedby-message",s0="cdk-describedby-host";let AE=0,eG=(()=>{class n{constructor(t,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+AE++,this._document=t,this._id=Zs(Ib)+"-"+AE++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const o=IE(r,i);"string"!=typeof r?(lO(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const o=IE(r,i);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof r){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${s0}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(s0);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");lO(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(IE(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=o0(t,"aria-describedby").filter(i=>0!=i.indexOf(aO));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function Q6(n,e,t){const r=o0(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(s0,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function J6(n,e,t){const i=o0(n,e).filter(o=>o!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(s0)}_isElementDescribedByMessage(t,r){const i=o0(t,"aria-describedby"),o=this._messageRegistry.get(r),a=o&&o.messageElement.id;return!!a&&-1!=i.indexOf(a)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=t.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(xt(or),xt(So))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IE(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function lO(n,e){n.id||(n.id=`${aO}-${e}-${AE++}`)}class tG{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Me,this._typeaheadSubscription=C.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Me,this.change=new Me,e instanceof pg&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(t0(t=>this._pressedLetters.push(t)),Sg(e),cp(()=>this._pressedLetters.length>0),Ne(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,a=r[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}return;default:return void((i||lp(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof pg?this._items.toArray():this._items}}class nG extends tG{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function uO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function dO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const lG=new Nt("cdk-input-modality-detector-options"),cG={ignoreKeys:[18,17,224,91,16]},dp=ap({passive:!0,capture:!0});let uG=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new WI(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Uu(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(uO(a)?"keyboard":"mouse"),this._mostRecentTarget=Uu(a))},this._onTouchstart=a=>{dO(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Uu(a))},this._options={...cG,...o},this.modalityDetected=this._modality.pipe(ZI(1)),this.modalityChanged=this.modalityDetected.pipe(QI()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,dp),i.addEventListener("mousedown",this._onMousedown,dp),i.addEventListener("touchstart",this._onTouchstart,dp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dp),document.removeEventListener("mousedown",this._onMousedown,dp),document.removeEventListener("touchstart",this._onTouchstart,dp))}}return n.\u0275fac=function(t){return new(t||n)(xt(So),xt(Tn),xt(or),xt(lG,8))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dG=new Nt("liveAnnouncerElement",{providedIn:"root",factory:function hG(){return null}}),fG=new Nt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let pG=0,mG=(()=>{class n{constructor(t,r,i,o){this._ngZone=r,this._defaultOptions=o,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let o,a;return 1===r.length&&"number"==typeof r[0]?a=r[0]:[o,a]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),null==a&&i&&(a=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+pG++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const o=r[i],a=o.getAttribute("aria-owns");a?-1===a.indexOf(t)&&o.setAttribute("aria-owns",a+" "+t):o.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(xt(dG,8),xt(Tn),xt(or),xt(fG,8))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gG=new Nt("cdk-focus-monitor-default-options"),a0=ap({passive:!0,capture:!0});let OE=(()=>{class n{constructor(t,r,i,o,a){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Me,this._rootNodeFocusAndBlurListener=c=>{for(let g=Uu(c);g;g=g.parentElement)"focus"===c.type?this._onFocus(c,g):this._onBlur(c,g)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(t,r=!1){const i=yh(t);if(!this._platform.isBrowser||1!==i.nodeType)return Gu(null);const o=function _6(n){if(function b6(){if(null==wE){const n=typeof document<"u"?document.head:null;wE=!(!n||!n.createShadowRoot&&!n.attachShadow)}return wE}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),a=this._elementInfo.get(i);if(a)return r&&(a.checkChildren=!0),a.subject;const c={checkChildren:r,subject:new Me,rootNode:o};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){const r=yh(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=yh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([c,h])=>this._originChanged(c,r,h)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Uu(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,a0),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,a0)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Pi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,a0),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,a0),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(xt(Tn),xt(So),xt(uG),xt(or,8),xt(gG,8))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fO="cdk-high-contrast-black-on-white",pO="cdk-high-contrast-white-on-black",RE="cdk-high-contrast-active";let mO=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=Zs(Z6).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(RE,fO,pO),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(RE,fO):2===r&&t.add(RE,pO)}}}return n.\u0275fac=function(t){return new(t||n)(xt(So),xt(or))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vG=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(xt(mO))},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[eO]}),n})();const yG=new Nt("cdk-dir-doc",{providedIn:"root",factory:function bG(){return Zs(or)}}),_G=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Yc=(()=>{class n{constructor(t){this.value="ltr",this.change=new On,t&&(this.value=function xG(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?_G.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(xt(yG,8))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Og=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({}),n})();const wG=["text"];function EG(n,e){if(1&n&&tr(0,"mat-pseudo-checkbox",6),2&n){const t=Mn();$t("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function CG(n,e){1&n&&tr(0,"mat-pseudo-checkbox",7),2&n&&$t("disabled",Mn().disabled)}function DG(n,e){if(1&n&&(Ut(0,"span",8),Ci(1),Xt()),2&n){const t=Mn();Kt(1),sg("(",t.group.label,")")}}const SG=[[["mat-icon"]],"*"],kG=["mat-icon","*"],TG=new Nt("mat-sanity-checks",{providedIn:"root",factory:function MG(){return!0}});let Si=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!EE()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(xt(mO),xt(TG,8),xt(or))},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Og,Og]}),n})();function l0(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Hr(e)}constructor(...e){super(...e),this._disabled=!1}}}function hp(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function Rg(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Hr(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function PE(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?es(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function AG(n){return class extends n{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let OG=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RG{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const yO=ap({passive:!0,capture:!0});class PG{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Uu(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,r,i){const o=this._events.get(t);if(o){const a=o.get(r);a?a.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,yO)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const o=i.get(t);o&&(o.delete(r),0===o.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,yO)))}}const bO={enterDuration:225,exitDuration:150},_O=ap({passive:!0,capture:!0}),xO=["mousedown","touchstart"],wO=["mouseup","mouseleave","touchend","touchcancel"];class Ng{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=yh(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...bO,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const a=r.radius||function FG(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),c=e-i.left,h=t-i.top,g=o.enterDuration,y=document.createElement("div");y.classList.add("mat-ripple-element"),y.style.left=c-a+"px",y.style.top=h-a+"px",y.style.height=2*a+"px",y.style.width=2*a+"px",null!=r.color&&(y.style.backgroundColor=r.color),y.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(y);const O=window.getComputedStyle(y),K=O.transitionDuration,re="none"===O.transitionProperty||"0s"===K||"0s, 0s"===K||0===i.width&&0===i.height,he=new RG(this,y,r,re);y.style.transform="scale3d(1, 1, 1)",he.state=0,r.persistent||(this._mostRecentTransientRipple=he);let xe=null;return!re&&(g||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Pe=()=>this._finishRippleTransition(he),Je=()=>this._destroyRipple(he);y.addEventListener("transitionend",Pe),y.addEventListener("transitioncancel",Je),xe={onTransitionEnd:Pe,onTransitionCancel:Je}}),this._activeRipples.set(he,xe),(re||!g)&&this._finishRippleTransition(he),he}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...bO,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=yh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,xO.forEach(r=>{Ng._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{wO.forEach(t=>{this._triggerElement.addEventListener(t,this,_O)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=uO(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!dO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(xO.forEach(t=>Ng._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&wO.forEach(t=>e.removeEventListener(t,this,_O)))}}Ng._eventManager=new PG;const EO=new Nt("mat-ripple-global-options");let Xc=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,o,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Ng(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(Tn),ze(So),ze(EO,8),ze(ca,8))},n.\u0275dir=Jt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&zr("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Fg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Si,Si]}),n})(),LG=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(t){return new(t||n)(ze(ca,8))},n.\u0275cmp=ti({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(t,r){2&t&&zr("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),BG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Si]}),n})();const CO=new Nt("MAT_OPTION_PARENT_COMPONENT"),DO=new Nt("MatOptgroup");let VG=0;class zG{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let HG=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Hr(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,r,i,o){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+VG++,this.onSelectionChange=new On,this._stateChanges=new Me}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!lp(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new zG(this,t))}}return n.\u0275fac=function(t){Vf()},n.\u0275dir=Jt({type:n,viewQuery:function(t,r){if(1&t&&ri(wG,7),2&t){let i;nr(i=rr())&&(r._text=i.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),SO=(()=>{class n extends HG{constructor(t,r,i,o){super(t,r,i,o)}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(bs),ze(CO,8),ze(DO,8))},n.\u0275cmp=ti({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mat-mdc-focus-indicator","mdc-list-item"],hostVars:12,hostBindings:function(t,r){1&t&&Kn("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&t&&(Qf("id",r.id),ni("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),zr("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[Dn],ngContentSelectors:kG,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(zs(SG),Yn(0,EG,1,2,"mat-pseudo-checkbox",0),$r(1),Ut(2,"span",1,2),$r(4,1),Xt(),Yn(5,CG,1,1,"mat-pseudo-checkbox",3),Yn(6,DG,2,1,"span",4),tr(7,"div",5)),2&t&&($t("ngIf",r.multiple),Kt(5),$t("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),Kt(1),$t("ngIf",r.group&&r.group._inert),Kt(1),$t("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Xc,zu,LG],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),kO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Fg,Oa,Si,BG]}),n})();function MO(...n){const e=Yh(n),{args:t,keys:r}=tO(n),i=new _e(o=>{const{length:a}=t;if(!a)return void o.complete();const c=new Array(a);let h=a,g=a;for(let y=0;y<a;y++){let O=!1;so(t[y]).subscribe(Le(o,$=>{O||(O=!0,g--),c[y]=$},()=>h--,void 0,()=>{(!h||!O)&&(g||o.next(r?nO(r,c):c),o.complete())}))}});return e?i.pipe(ME(e)):i}function TO(n){return Be((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Le(t,void 0,void 0,a=>{o=so(n(a,TO(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}class NE{}class $u{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof $u?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new $u;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof $u?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let a=this.headers.get(t);if(!a)return;a=a.filter(c=>-1===o.indexOf(c)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class YG{encodeKey(e){return IO(e)}encodeValue(e){return IO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const KG=/%(\d[a-f0-9])/gi,qG={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function IO(n){return encodeURIComponent(n).replace(KG,(e,t)=>qG[t]??e)}function c0(n){return`${n}`}class Wu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new YG,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function XG(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[a,c]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],h=t.get(a)||[];h.push(c),t.set(a,h)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(c0):[c0(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Wu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(c0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(c0(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ZG{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function OO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function RO(n){return typeof Blob<"u"&&n instanceof Blob}function PO(n){return typeof FormData<"u"&&n instanceof FormData}class Lg{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function QG(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new $u),this.context||(this.context=new ZG),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const c=t.indexOf("?");this.urlWithParams=t+(-1===c?"?":c<t.length-1?"&":"")+a}}else this.params=new Wu,this.urlWithParams=t}serializeBody(){return null===this.body?null:OO(this.body)||RO(this.body)||PO(this.body)||function JG(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||PO(this.body)?null:RO(this.body)?this.body.type||null:OO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let h=e.headers||this.headers,g=e.params||this.params;const y=e.context??this.context;return void 0!==e.setHeaders&&(h=Object.keys(e.setHeaders).reduce((O,$)=>O.set($,e.setHeaders[$]),h)),e.setParams&&(g=Object.keys(e.setParams).reduce((O,$)=>O.set($,e.setParams[$]),g)),new Lg(t,r,o,{params:g,headers:h,context:y,reportProgress:c,responseType:i,withCredentials:a})}}var zo=(()=>((zo=zo||{})[zo.Sent=0]="Sent",zo[zo.UploadProgress=1]="UploadProgress",zo[zo.ResponseHeader=2]="ResponseHeader",zo[zo.DownloadProgress=3]="DownloadProgress",zo[zo.Response=4]="Response",zo[zo.User=5]="User",zo))();class e9{constructor(e,t=200,r="OK"){this.headers=e.headers||new $u,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class FE extends e9{constructor(e={}){super(e),this.type=zo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new FE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function LE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let BE=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Lg)o=t;else{let h,g;h=i.headers instanceof $u?i.headers:new $u(i.headers),i.params&&(g=i.params instanceof Wu?i.params:new Wu({fromObject:i.params})),o=new Lg(t,r,void 0!==i.body?i.body:null,{headers:h,context:i.context,params:g,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const a=Gu(o).pipe(function WG(n,e){return _(e)?Wa(n,e,1):Wa(n,1)}(h=>this.handler.handle(h)));if(t instanceof Lg||"events"===i.observe)return a;const c=a.pipe(cp(h=>h instanceof FE));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Ne(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return c.pipe(Ne(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return c.pipe(Ne(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return c.pipe(Ne(h=>h.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Wu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,LE(i,r))}post(t,r,i={}){return this.request("POST",t,LE(i,r))}put(t,r,i={}){return this.request("PUT",t,LE(i,r))}}return n.\u0275fac=function(t){return new(t||n)(xt(NE))},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})();const f9=["*"];let d0;function Bg(n){return function p9(){if(void 0===d0&&(d0=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(d0=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return d0}()?.createHTML(n)||n}function jO(n){return Error(`Unable to find icon with the name "${n}"`)}function UO(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function GO(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class _h{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let h0=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new _h(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const a=this._sanitizer.sanitize(rt.HTML,i);if(!a)throw GO(i);const c=Bg(a);return this._addSvgIconConfig(t,r,new _h("",c,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new _h(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(rt.HTML,r);if(!o)throw GO(r);const a=Bg(o);return this._addSvgIconSetConfig(t,new _h("",a,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(rt.RESOURCE_URL,t);if(!r)throw UO(t);const i=this._cachedIconsByUrl.get(r);return i?Gu(f0(i)):this._loadSvgIconFromConfig(new _h(t,null)).pipe(t0(o=>this._cachedIconsByUrl.set(r,o)),Ne(o=>f0(o)))}getNamedSvgIcon(t,r=""){const i=$O(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(t,a):function GG(n,e){const t=_(n)?n:()=>n,r=i=>i.error(t());return new _e(e?i=>e.schedule(r,0,i):r)}(jO(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Gu(f0(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Ne(r=>f0(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Gu(i):MO(r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(TO(c=>{const g=`Loading icon set URL: ${this._sanitizer.sanitize(rt.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(g)),Gu(null)})))).pipe(Ne(()=>{const a=this._extractIconWithNameFromAnySet(t,r);if(!a)throw jO(t);return a}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const a=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(a,t,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(t0(r=>t.svgText=r),Ne(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Gu(null):this._fetchIcon(t).pipe(t0(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,i);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),i);const c=this._svgElementFromString(Bg("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Bg("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:a,value:c}=i[o];"id"!==a&&r.setAttribute(a,c)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw function m9(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(rt.RESOURCE_URL,r);if(!a)throw UO(r);const c=this._inProgressUrlFetches.get(a);if(c)return c;const h=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(Ne(g=>Bg(g)),function $G(n){return Be((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>this._inProgressUrlFetches.delete(a)),Ya());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set($O(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return v9(o)?new _h(o.url,null,o.options):new _h(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(xt(BE,8),xt(gE),xt(or,8),xt(ka))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function f0(n){return n.cloneNode(!0)}function $O(n,e){return n+":"+e}function v9(n){return!(!n.url||!n.options)}const y9=hp(class{constructor(n){this._elementRef=n}}),b9=new Nt("MAT_ICON_DEFAULT_OPTIONS"),_9=new Nt("mat-icon-location",{providedIn:"root",factory:function x9(){const n=Zs(or),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),WO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],w9=WO.map(n=>`[${n}]`).join(", "),E9=/^url\(['"]?#(.*?)['"]?\)$/;let YO=(()=>{class n extends y9{get inline(){return this._inline}set inline(t){this._inline=Hr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,o,a,c){super(t),this._iconRegistry=r,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=C.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(a=>{o.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(w9),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)WO.forEach(a=>{const c=r[o],h=c.getAttribute(a),g=h?h.match(E9):null;if(g){let y=i.get(c);y||(y=[],i.set(c,y)),y.push({name:a,value:g[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(bh(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(h0),Mc("aria-hidden"),ze(_9),ze(ka),ze(b9,8))},n.\u0275cmp=ti({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(ni("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),zr("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Dn],ngContentSelectors:f9,decls:1,vars:0,template:function(t,r){1&t&&(zs(),$r(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),zE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Si,Si]}),n})(),C9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Oa,zE]}),n})();const HE=new _E;HE.contextMenuCommands.nodes=[{id:"copyURI",visible:!0,enabled:!0,label:"Copy"}],HE.contextMenuCommands.edges=[{id:"copyURI",visible:!0,enabled:!0,label:"Copy"}];let XO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(ze(cl),ze(Bn))},n.\u0275dir=Jt({type:n}),n})(),xh=(()=>{class n extends XO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Vi(n)))(r||n)}}(),n.\u0275dir=Jt({type:n,features:[Dn]}),n})();const Gs=new Nt("NgValueAccessor"),S9={provide:Gs,useExisting:lt(()=>jE),multi:!0},M9=new Nt("CompositionEventMode");let jE=(()=>{class n extends XO{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function k9(){const n=tc()?tc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(ze(cl),ze(Bn),ze(M9,8))},n.\u0275dir=Jt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Kn("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Er([S9]),Dn]}),n})();const T9=!1;function Yu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function qO(n){return null!=n&&"number"==typeof n.length}const ko=new Nt("NgValidators"),Xu=new Nt("NgAsyncValidators"),A9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class I9{static min(e){return function ZO(n){return e=>{if(Yu(e.value)||Yu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function QO(n){return e=>{if(Yu(e.value)||Yu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function JO(n){return Yu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function eR(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function tR(n){return Yu(n.value)||A9.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function nR(n){return e=>Yu(e.value)||!qO(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function rR(n){return e=>qO(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function iR(n){if(!n)return p0;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Yu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return uR(e)}static composeAsync(e){return dR(e)}}function p0(n){return null}function oR(n){return null!=n}function sR(n){const e=_b(n)?Sl(n):n;if(T9&&!fM(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new Ze(-1101,t)}return e}function aR(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lR(n,e){return e.map(t=>t(n))}function cR(n){return n.map(e=>function O9(n){return!n.validate}(e)?e:t=>e.validate(t))}function uR(n){if(!n)return null;const e=n.filter(oR);return 0==e.length?null:function(t){return aR(lR(t,e))}}function UE(n){return null!=n?uR(cR(n)):null}function dR(n){if(!n)return null;const e=n.filter(oR);return 0==e.length?null:function(t){return MO(lR(t,e).map(sR)).pipe(Ne(aR))}}function GE(n){return null!=n?dR(cR(n)):null}function hR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function fR(n){return n._rawValidators}function pR(n){return n._rawAsyncValidators}function $E(n){return n?Array.isArray(n)?n:[n]:[]}function m0(n,e){return Array.isArray(n)?n.includes(e):n===e}function mR(n,e){const t=$E(e);return $E(n).forEach(i=>{m0(t,i)||t.push(i)}),t}function gR(n,e){return $E(e).filter(t=>!m0(n,t))}class vR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=UE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class _s extends vR{get formDirective(){return null}get path(){return null}}class Kc extends vR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yR{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bR=(()=>{class n extends yR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(ze(Kc,2))},n.\u0275dir=Jt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&zr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Dn]}),n})();function _R(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const XE=!1,Vg="VALID",v0="INVALID",mp="PENDING",zg="DISABLED";function KE(n){return(y0(n)?n.validators:n)||null}function qE(n,e){return(y0(e)?e.asyncValidators:n)||null}function y0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class ER{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vg}get invalid(){return this.status===v0}get pending(){return this.status==mp}get disabled(){return this.status===zg}get enabled(){return this.status!==zg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gR(e,this._rawAsyncValidators))}hasValidator(e){return m0(this._rawValidators,e)}hasAsyncValidator(e){return m0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=mp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vg||this.status===mp)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zg:Vg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=mp,this._hasOwnPendingAsyncValidator=!0;const t=sR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new On,this.statusChanges=new On}_calculateStatus(){return this._allControlsDisabled()?zg:this.errors?v0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mp)?mp:this._anyControlsHaveStatus(v0)?v0:Vg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){y0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function z9(n){return Array.isArray(n)?UE(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function H9(n){return Array.isArray(n)?GE(n):n||null}(this._rawAsyncValidators)}}class ZE extends ER{constructor(e,t,r){super(KE(t),qE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function wR(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new Ze(1002,XE?function V9(n,e){return`Must supply a value for form control ${_R(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function xR(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ze(1e3,XE?function L9(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new Ze(1001,XE?function B9(n,e){return`Cannot find form control ${_R(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const gp=new Nt("CallSetDisabledState",{providedIn:"root",factory:()=>b0}),b0="always";function Hg(n,e,t=b0){QE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function G9(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&CR(n,e)})}(n,e),function W9(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $9(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&CR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function U9(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function x0(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),E0(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function w0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function QE(n,e){const t=fR(n);null!==e.validator?n.setValidators(hR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=pR(n);null!==e.asyncValidator?n.setAsyncValidators(hR(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();w0(e._rawValidators,i),w0(e._rawAsyncValidators,i)}function E0(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=fR(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=pR(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return w0(e._rawValidators,r),w0(e._rawAsyncValidators,r),t}function CR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function DR(n,e){QE(n,e)}function SR(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const Z9={provide:_s,useExisting:lt(()=>C0)},jg=(()=>Promise.resolve())();let C0=(()=>{class n extends _s{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new On,this.form=new ZE({},UE(t),GE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){jg.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Hg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){jg.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){jg.then(()=>{const r=this._findContainer(t.path),i=new ZE({});DR(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){jg.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){jg.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,SR(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(ze(ko,10),ze(Xu,10),ze(gp,8))},n.\u0275dir=Jt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Kn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Er([Z9]),Dn]}),n})();function kR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function MR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const TR=class extends ER{constructor(e=null,t,r){super(KE(t),qE(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),y0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=MR(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){MR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},e$={provide:Kc,useExisting:lt(()=>nC)},OR=(()=>Promise.resolve())();let nC=(()=>{class n extends Kc{constructor(t,r,i,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new TR,this._registered=!1,this.update=new On,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function tC(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===jE?t=o:function K9(n){return Object.getPrototypeOf(n.constructor)===xh}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function eC(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){OR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function U1(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);OR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function _0(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(ze(_s,9),ze(ko,10),ze(Xu,10),ze(Gs,10),ze(bs,8),ze(gp,8))},n.\u0275dir=Jt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Er([e$]),Dn,$n]}),n})(),PR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({}),n})();const a$={provide:_s,useExisting:lt(()=>D0)};let D0=(()=>{class n extends _s{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new On,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(E0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Hg(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){x0(t.control||null,t,!1),function q9(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,SR(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(x0(r||null,t),(n=>n instanceof TR)(i)&&(Hg(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);DR(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Y9(n,e){return E0(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QE(this.form,this),this._oldForm&&E0(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(ze(ko,10),ze(Xu,10),ze(gp,8))},n.\u0275dir=Jt({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Kn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Er([a$]),Dn,$n]}),n})(),D$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[PR]}),n})(),k$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gp,useValue:t.callSetDisabledState??b0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[D$]}),n})();const M$=["knob"],T$=["valueIndicatorContainer"];function A$(n,e){if(1&n&&(Ut(0,"div",4,5)(2,"div",6)(3,"span",7),Ci(4),Xt()()()),2&n){const t=Mn();Kt(4),Hs(t.valueIndicatorText)}}const I$=["trackActive"];function O$(n,e){if(1&n&&tr(0,"div"),2&n){const t=e.$implicit,r=e.index,i=Mn(3);(function PM(n){fl(Zo,Ql,n,!0)})(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Gc("transform",i._calcTickMarkTransform(r))}}function R$(n,e){if(1&n&&(yb(0),Yn(1,O$,1,4,"div",11),bb()),2&n){const t=Mn(2);Kt(1),$t("ngForOf",t._tickMarks)}}function P$(n,e){if(1&n&&(Ut(0,"div",8,9),Yn(2,R$,2,1,"ng-container",10),Xt()),2&n){const t=Mn();Kt(2),$t("ngIf",t._cachedWidth)}}function N$(n,e){if(1&n&&tr(0,"mat-slider-visual-thumb",7),2&n){const t=Mn();$t("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}const F$=["*"],k0=new Nt("_MatSlider"),ZR=new Nt("_MatSliderThumb"),QR=new Nt("_MatSliderRangeThumb"),JR=new Nt("_MatSliderVisualThumb");let L$=(()=>{class n{constructor(t,r,i,o){this._cdr=t,this._ngZone=r,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=a=>{if(this._sliderInput._isFocused)return;const c=this._hostElement.getBoundingClientRect(),h=this._isSliderThumbHovered(a,c);this._isHovered=h,h?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=()=>{this._isActive=!0,this._showActiveRipple()},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=i.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return 0===t?.state||1===t?.state}_showRipple(t,r){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||r))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const r=this._getSibling();r._isShowingAnyRipple()||(this._hideValueIndicator(),r._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}_isSliderThumbHovered(t,r){const i=r.width/2,h=t.clientY-(r.y+i);return Math.pow(t.clientX-(r.x+i),2)+Math.pow(h,2)<Math.pow(i,2)}}return n.\u0275fac=function(t){return new(t||n)(ze(bs),ze(Tn),ze(Bn),ze(k0))},n.\u0275cmp=ti({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(t,r){if(1&t&&(ri(Xc,5),ri(M$,5),ri(T$,5)),2&t){let i;nr(i=rr())&&(r._ripple=i.first),nr(i=rr())&&(r._knob=i.first),nr(i=rr())&&(r._valueIndicatorContainer=i.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Er([{provide:JR,useExisting:n}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(t,r){1&t&&(Yn(0,A$,5,1,"div",0),tr(1,"div",1,2)(3,"div",3)),2&t&&($t("ngIf",r.discrete),Kt(3),$t("matRippleDisabled",!0))},dependencies:[zu,Xc],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),n})();const B$=hp(Rg(class{constructor(n){this._elementRef=n}}),"primary");let V$=(()=>{class n extends B${get disabled(){return this._disabled}set disabled(t){this._disabled=Hr(t);const r=this._getInput(2),i=this._getInput(1);r&&(r.disabled=this._disabled),i&&(i.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=Hr(t),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(t){this._showTickMarks=Hr(t)}get min(){return this._min}set min(t){const r=es(t,this._min);this._min!==r&&this._updateMin(r)}_updateMin(t){const r=this._min;this._min=t,this._isRange?this._updateMinRange({old:r,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const r=this._getInput(2),i=this._getInput(1),o=r.value,a=i.value;i.min=t.new,r.min=Math.max(t.new,i.value),i.max=Math.min(r.max,r.value),i._updateWidthInactive(),r._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),o!==r.value&&this._onValueChange(r),a!==i.value&&this._onValueChange(i)}_updateMinNonRange(t){const r=this._getInput(2);if(r){const i=r.value;r.min=t,r._updateThumbUIByValue(),this._updateTrackUI(r),i!==r.value&&this._onValueChange(r)}}get max(){return this._max}set max(t){const r=es(t,this._max);this._max!==r&&this._updateMax(r)}_updateMax(t){const r=this._max;this._max=t,this._isRange?this._updateMaxRange({old:r,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const r=this._getInput(2),i=this._getInput(1),o=r.value,a=i.value;r.max=t.new,i.max=Math.min(t.new,r.value),r.min=i.value,r._updateWidthInactive(),i._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),o!==r.value&&this._onValueChange(r),a!==i.value&&this._onValueChange(i)}_updateMaxNonRange(t){const r=this._getInput(2);if(r){const i=r.value;r.max=t,r._updateThumbUIByValue(),this._updateTrackUI(r),i!==r.value&&this._onValueChange(r)}}get step(){return this._step}set step(t){const r=es(t,this._step);this._step!==r&&this._updateStep(r)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(2),r=this._getInput(1),i=t.value,o=r.value,a=r.value;t.min=this._min,r.max=this._max,t.step=this._step,r.step=this._step,this._platform.SAFARI&&(t.value=t.value,r.value=r.value),t.min=Math.max(this._min,r.value),r.max=Math.min(this._max,t.value),r._updateWidthInactive(),t._updateWidthInactive(),t.value<a?this._onTranslateXChangeBySideEffect(r,t):this._onTranslateXChangeBySideEffect(t,r),i!==t.value&&this._onValueChange(t),o!==r.value&&this._onValueChange(r)}_updateStepNonRange(){const t=this._getInput(2);if(t){const r=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),r!==t.value&&this._onValueChange(t)}}constructor(t,r,i,o,a,c,h){super(o),this._ngZone=t,this._cdr=r,this._platform=i,this._dir=a,this._globalRippleOptions=c,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=0,this.displayWith=g=>`${g}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===h,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(2),r=this._getInput(1);this._isRange=!!t&&!!r,this._cdr.detectChanges();const i=this._getThumb(2);this._rippleRadius=i._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(t,r):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,r){t.initProps(),t.initUI(),r.initProps(),r.initUI(),t._updateMinMax(),r._updateMinMax(),t._updateStaticStyles(),r._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),r._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(2),r=this._getInput(1);t._setIsLeftThumb(),r._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),r.translateX=r._calcTranslateXByValue(),t._updateStaticStyles(),r._updateStaticStyles(),t._updateWidthInactive(),r._updateWidthInactive(),t._updateThumbUIByValue(),r._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(t=2){const r=this._getInput(t);return r?r.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const r=this._trackActive.nativeElement.style,i=t.left!==r.left&&t.right!==r.right;r.left=t.left,r.right=t.right,r.transformOrigin=t.transformOrigin,i?(this._elementRef.nativeElement.classList.add("mat-mdc-slider-disable-track-animation"),this._ngZone.onStable.pipe(bh(1)).subscribe(()=>{this._elementRef.nativeElement.classList.remove("mat-mdc-slider-disable-track-animation"),r.transform=t.transform})):r.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,r){this._hasViewInitialized&&(t._updateThumbUIByValue(),r._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(2),r=this._getInput(1);t._updateThumbUIByValue(),r._updateThumbUIByValue(),t._updateStaticStyles(),r._updateStaticStyles(),t._updateMinMax(),r._updateMinMax(),t._updateWidthInactive(),r._updateWidthInactive()}else{const t=this._getInput(2);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(1),r=this._getInput(2);return!(!t||!r)&&r.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const r=t.getSibling(),i=this._getThumb(t.thumbPosition);this._getThumb(r.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),i._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(2===t.thumbPosition?2:1)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const r=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=r:t._hostElement.setAttribute("aria-valuetext",r),this.discrete){1===t.thumbPosition?this.startValueIndicatorText=r:this.endValueIndicatorText=r;const i=this._getThumb(t.thumbPosition);r.length<3?i._hostElement.classList.add("mdc-slider__thumb--short-value"):i._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(2),r=this._getInput(1);t&&this._updateValueIndicatorUI(t),r&&this._updateValueIndicatorUI(r)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,i=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*i-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const r=t.getSibling();if(!r||!this._cachedWidth)return;const i=Math.abs(r.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-r.translateX+"px",transformOrigin:"right",transform:`scaleX(${i})`}:{left:`${r.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${i})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const r=this._getValue();let i=Math.max(Math.round((r-this.min)/t),0),o=Math.max(Math.round((this.max-r)/t),0);this._isRtl?i++:o++,this._tickMarks=Array(i).fill(0).concat(Array(o).fill(1))}_updateTickMarkUIRange(t){const r=this._getValue(),i=this._getValue(1),o=Math.max(Math.floor((i-this.min)/t),0),a=Math.max(Math.floor((r-i)/t)+1,0),c=Math.max(Math.floor((this.max-r)/t),0);this._tickMarks=Array(o).fill(1).concat(Array(a).fill(0),Array(c).fill(1))}_getInput(t){return 2===t&&this._input?this._input:this._inputs?.length?1===t?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return 2===t?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}}return n.\u0275fac=function(t){return new(t||n)(ze(Tn),ze(bs),ze(So),ze(Bn),ze(Yc,8),ze(EO,8),ze(ca,8))},n.\u0275cmp=ti({type:n,selectors:[["mat-slider"]],contentQueries:function(t,r,i){if(1&t&&(js(i,ZR,5),js(i,QR,4)),2&t){let o;nr(o=rr())&&(r._input=o.first),nr(o=rr())&&(r._inputs=o)}},viewQuery:function(t,r){if(1&t&&(ri(I$,5),ri(JR,5)),2&t){let i;nr(i=rr())&&(r._trackActive=i.first),nr(i=rr())&&(r._thumbs=i)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(t,r){2&t&&zr("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[Er([{provide:k0,useExisting:n}]),Dn],ngContentSelectors:F$,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(zs(),$r(0),Ut(1,"div",0),tr(2,"div",1),Ut(3,"div",2),tr(4,"div",3,4),Xt(),Yn(6,P$,3,1,"div",5),Xt(),Yn(7,N$,1,3,"mat-slider-visual-thumb",6),tr(8,"mat-slider-visual-thumb",7)),2&t&&(Kt(6),$t("ngIf",r.showTickMarks),Kt(1),$t("ngIf",r._isRange),Kt(1),$t("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[_g,zu,L$],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:0;margin:0;height:100%;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const H$={provide:Gs,useExisting:lt(()=>lC),multi:!0};let lC=(()=>{class n{get value(){return es(this._hostElement.value)}set value(t){const r=es(t).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=r,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges()):this._initialValue=r}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return es(this._hostElement.min)}set min(t){this._hostElement.min=es(t).toString(),this._cdr.detectChanges()}get max(){return es(this._hostElement.max)}set max(t){this._hostElement.max=es(t).toString(),this._cdr.detectChanges()}get step(){return es(this._hostElement.step)}set step(t){this._hostElement.step=es(t).toString(),this._cdr.detectChanges()}get disabled(){return Hr(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=Hr(t),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,r,i,o){this._ngZone=t,this._elementRef=r,this._cdr=i,this._slider=o,this.valueChange=new On,this.dragStart=new On,this.dragEnd=new On,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Me,this._skipUIUpdate=!1,this._onChangeFn=()=>{},this._onTouchedFn=()=>{},this._hostElement=r.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){this.disabled||0!==t.button||(this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value})))}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const r=t.clientX-this._slider._cachedLeft,i=this._slider._cachedWidth,o=0===this._slider.step?1:this._slider.step,a=Math.floor((this._slider.max-this._slider.min)/o),g=Math.round((this._slider._isRtl?1-r/i:r/i)*a)/a*(this._slider.max-this._slider.min)+this._slider.min,y=Math.round(g/o)*o;if(y===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=y,this.valueChange.emit(this.value),this._onChangeFn(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive()))}_clamp(t){return Math.max(Math.min(t,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,r){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(r)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){this.value=t}registerOnChange(t){this._onChangeFn=t}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return n.\u0275fac=function(t){return new(t||n)(ze(Tn),ze(Bn),ze(bs),ze(k0))},n.\u0275dir=Jt({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(t,r){1&t&&Kn("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),2&t&&ni("aria-valuetext",r._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Er([H$,{provide:ZR,useExisting:n}])]}),n})(),G$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Si,Oa,Fg]}),n})(),$$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({}),n})();class eP{}class W${}const qc="*";function vp(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ku(n,e=null){return{type:4,styles:e,timings:n}}function tP(n,e=null){return{type:2,steps:n,options:e}}function ts(n){return{type:6,styles:n,offset:null}}function yp(n,e,t){return{type:0,name:n,styles:e,options:t}}function nP(n){return{type:5,steps:n}}function qu(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Y$(n=null){return{type:9,options:n}}function M0(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function rP(n){Promise.resolve().then(n)}class Ug{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){rP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class iP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?rP(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==o&&this._onFinish()}),a.onDestroy(()=>{++r==o&&this._onDestroy()}),a.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,c)=>Math.max(a,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const cC="!",K$=["matFormFieldNotchedOutline",""],q$=["*"],Z$=["textField"],Q$=["iconPrefixContainer"],J$=["textPrefixContainer"];function eW(n,e){1&n&&tr(0,"span",19)}function tW(n,e){if(1&n){const t=Lu();Ut(0,"label",17),Kn("cdkObserveContent",function(){return Bi(t),gi(Mn(2)._refreshOutlineNotchWidth())}),$r(1,1),Yn(2,eW,1,0,"span",18),Xt()}if(2&n){const t=Mn(2);$t("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),ni("for",t._control.id)("aria-owns",t._control.id),Kt(2),$t("ngIf",!t.hideRequiredMarker&&t._control.required)}}function nW(n,e){1&n&&Yn(0,tW,3,6,"label",16),2&n&&$t("ngIf",Mn()._hasFloatingLabel())}function rW(n,e){1&n&&tr(0,"div",20)}function iW(n,e){}function oW(n,e){1&n&&Yn(0,iW,0,0,"ng-template",22),2&n&&(Mn(2),$t("ngTemplateOutlet",qf(1)))}function sW(n,e){if(1&n&&(Ut(0,"div",21),Yn(1,oW,1,1,"ng-template",9),Xt()),2&n){const t=Mn();$t("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),Kt(1),$t("ngIf",!t._forceDisplayInfixLabel())}}function aW(n,e){1&n&&(Ut(0,"div",23,24),$r(2,2),Xt())}function lW(n,e){1&n&&(Ut(0,"div",25,26),$r(2,3),Xt())}function cW(n,e){}function uW(n,e){1&n&&Yn(0,cW,0,0,"ng-template",22),2&n&&(Mn(),$t("ngTemplateOutlet",qf(1)))}function dW(n,e){1&n&&(Ut(0,"div",27),$r(1,4),Xt())}function hW(n,e){1&n&&(Ut(0,"div",28),$r(1,5),Xt())}function fW(n,e){1&n&&tr(0,"div",29)}function pW(n,e){1&n&&(Ut(0,"div",30),$r(1,6),Xt()),2&n&&$t("@transitionMessages",Mn()._subscriptAnimationState)}function mW(n,e){if(1&n&&(Ut(0,"mat-hint",34),Ci(1),Xt()),2&n){const t=Mn(2);$t("id",t._hintLabelId),Kt(1),Hs(t.hintLabel)}}function gW(n,e){if(1&n&&(Ut(0,"div",31),Yn(1,mW,2,2,"mat-hint",32),$r(2,7),tr(3,"div",33),$r(4,8),Xt()),2&n){const t=Mn();$t("@transitionMessages",t._subscriptAnimationState),Kt(1),$t("ngIf",t.hintLabel)}}const vW=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yW=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let uC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Jt({type:n,selectors:[["mat-label"]]}),n})();const bW=new Nt("MatError");let _W=0,oP=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+_W++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Jt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,r){2&t&&(Qf("id",r.id),ni("align",null),zr("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const xW=new Nt("MatPrefix"),wW=new Nt("MatSuffix");let sP=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function EW(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const r=t.scrollWidth;return t.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn))},n.\u0275dir=Jt({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,r){2&t&&zr("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),n})();const aP="mdc-line-ripple--active",T0="mdc-line-ripple--deactivating";let lP=(()=>{class n{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=i=>{const o=this._elementRef.nativeElement.classList,a=o.contains(T0);"opacity"===i.propertyName&&a&&o.remove(aP,T0)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(T0),t.add(aP)}deactivate(){this._elementRef.nativeElement.classList.add(T0)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(Tn))},n.\u0275dir=Jt({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),cP=(()=>{class n{constructor(t,r){this._elementRef=t,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(Tn))},n.\u0275cmp=ti({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,r){2&t&&zr("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:K$,ngContentSelectors:q$,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,r){1&t&&(zs(),tr(0,"div",0),Ut(1,"div",1),$r(2),Xt(),tr(3,"div",2)),2&t&&(Kt(1),Gc("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const CW={transitionMessages:vp("transitionMessages",[yp("enter",ts({opacity:1,transform:"translateY(0%)"})),qu("void => enter",[ts({opacity:0,transform:"translateY(-5px)"}),Ku("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let uP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Jt({type:n}),n})();const dP=new Nt("MatFormField"),hP=new Nt("MAT_FORM_FIELD_DEFAULT_OPTIONS");let fP=0,kW=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Hr(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,i,o,a,c,h,g){this._elementRef=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=o,this._platform=a,this._defaults=c,this._animationMode=h,this._document=g,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+fP++,this._hintLabelId="mat-mdc-hint-"+fP++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Me,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=Boolean(c?.hideRequiredMarker),c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Pi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),kl(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Pi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Pi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,a=i?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+a}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(bs),ze(Tn),ze(Yc),ze(So),ze(hP,8),ze(ca,8),ze(or))},n.\u0275cmp=ti({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(js(i,uC,5),js(i,uC,7),js(i,uP,5),js(i,xW,5),js(i,wW,5),js(i,bW,5),js(i,oP,5)),2&t){let o;nr(o=rr())&&(r._labelChildNonStatic=o.first),nr(o=rr())&&(r._labelChildStatic=o.first),nr(o=rr())&&(r._formFieldControl=o.first),nr(o=rr())&&(r._prefixChildren=o),nr(o=rr())&&(r._suffixChildren=o),nr(o=rr())&&(r._errorChildren=o),nr(o=rr())&&(r._hintChildren=o)}},viewQuery:function(t,r){if(1&t&&(ri(Z$,5),ri(Q$,5),ri(J$,5),ri(sP,5),ri(cP,5),ri(lP,5)),2&t){let i;nr(i=rr())&&(r._textField=i.first),nr(i=rr())&&(r._iconPrefixContainer=i.first),nr(i=rr())&&(r._textPrefixContainer=i.first),nr(i=rr())&&(r._floatingLabel=i.first),nr(i=rr())&&(r._notchedOutline=i.first),nr(i=rr())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,r){2&t&&zr("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Er([{provide:dP,useExisting:n}])],ngContentSelectors:yW,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,r){1&t&&(zs(vW),Yn(0,nW,1,1,"ng-template",null,0,nA),Ut(2,"div",1,2),Kn("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),Yn(4,rW,1,0,"div",3),Ut(5,"div",4),Yn(6,sW,2,3,"div",5),Yn(7,aW,3,0,"div",6),Yn(8,lW,3,0,"div",7),Ut(9,"div",8),Yn(10,uW,1,1,"ng-template",9),$r(11),Xt(),Yn(12,dW,2,0,"div",10),Yn(13,hW,2,0,"div",11),Xt(),Yn(14,fW,1,0,"div",12),Xt(),Ut(15,"div",13),Yn(16,pW,2,1,"div",14),Yn(17,gW,5,2,"div",15),Xt()),2&t&&(Kt(2),zr("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),Kt(2),$t("ngIf",!r._hasOutline()&&!r._control.disabled),Kt(2),$t("ngIf",r._hasOutline()),Kt(1),$t("ngIf",r._hasIconPrefix),Kt(1),$t("ngIf",r._hasTextPrefix),Kt(2),$t("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),Kt(2),$t("ngIf",r._hasTextSuffix),Kt(1),$t("ngIf",r._hasIconSuffix),Kt(1),$t("ngIf",!r._hasOutline()),Kt(1),zr("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),$t("ngSwitch",r._getDisplayedMessages()),Kt(1),$t("ngSwitchCase","error"),Kt(1),$t("ngSwitchCase","hint"))},dependencies:[zu,mI,xg,iE,L6,oP,sP,cP,lP],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[CW.transitionMessages]},changeDetection:0}),n})(),A0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Si,Oa,eO,Si]}),n})(),MW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Si,A0,A0,$$,Si]}),n})();const TW=["addListener","removeListener"],AW=["addEventListener","removeEventListener"],IW=["on","off"];function I0(n,e,t,r){if(_(t)&&(r=t,t=void 0),r)return I0(n,e,t).pipe(ME(r));const[i,o]=function PW(n){return _(n.addEventListener)&&_(n.removeEventListener)}(n)?AW.map(a=>c=>n[a](e,c,t)):function OW(n){return _(n.addListener)&&_(n.removeListener)}(n)?TW.map(gP(n,e)):function RW(n){return _(n.on)&&_(n.off)}(n)?IW.map(gP(n,e)):[];if(!i&&Gi(n))return Wa(a=>I0(a,e,t))(so(n));if(!i)throw new TypeError("Invalid event target");return new _e(a=>{const c=(...h)=>a.next(1<h.length?h:h[0]);return i(c),()=>o(c)})}function gP(n,e){return t=>r=>n[t](e,r)}const Gg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Gg;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new C(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Gg;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Gg;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},LW=new class FW extends yE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class NW extends vE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Gg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(Gg.cancelAnimationFrame(t),e._scheduled=void 0)}});let dC,BW=1;const O0={};function vP(n){return n in O0&&(delete O0[n],!0)}const VW={setImmediate(n){const e=BW++;return O0[e]=!0,dC||(dC=Promise.resolve()),dC.then(()=>vP(e)&&n()),e},clearImmediate(n){vP(n)}},{setImmediate:zW,clearImmediate:HW}=VW,R0={setImmediate(...n){const{delegate:e}=R0;return(e?.setImmediate||zW)(...n)},clearImmediate(n){const{delegate:e}=R0;return(e?.clearImmediate||HW)(n)},delegate:void 0},GW=new class UW extends yE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class jW extends vE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=R0.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(R0.clearImmediate(t),e._scheduled=void 0)}});function hC(n,e=bE){return function $W(n){return Be((e,t)=>{let r=!1,i=null,o=null,a=!1;const c=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const g=i;i=null,t.next(g)}a&&t.complete()},h=()=>{o=null,a&&t.complete()};e.subscribe(Le(t,g=>{r=!0,i=g,o||so(n(g)).subscribe(o=Le(t,c,h))},()=>{a=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>function YW(n=0,e,t=r6){let r=-1;return null!=e&&(gd(e)?t=e:r=e),new _e(i=>{let o=function WW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,e))}const XW=["contentWrapper"],KW=["*"],qW=new Nt("VIRTUAL_SCROLL_STRATEGY");let $g=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Me,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _e(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(hC(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Gu()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(cp(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=yh(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>I0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(xt(Tn),xt(So),xt(or,8))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yP=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new Me,this._elementScrolled=new _e(a=>this.ngZone.runOutsideAngular(()=>I0(this.elementRef.nativeElement,"scroll").pipe(Pi(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Ig()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Ig()?t.left=t.right:1==Ig()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;$I()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==t?t=a?i:r:"end"==t&&(t=a?r:i),a&&2==Ig()?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==Ig()?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze($g),ze(Tn),ze(Yc,8))},n.\u0275dir=Jt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),P0=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Me,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(hC(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(xt(So),xt(Tn),xt(or,8))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bP=new Nt("VIRTUAL_SCROLLABLE");let JW=(()=>{class n extends yP{constructor(t,r,i,o){super(t,r,i,o)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze($g),ze(Tn),ze(Yc,8))},n.\u0275dir=Jt({type:n,features:[Dn]}),n})();const t7=typeof requestAnimationFrame<"u"?LW:GW;let n7=(()=>{class n extends JW{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Hr(t)}constructor(t,r,i,o,a,c,h,g){super(t,c,i,a),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=o,this.scrollable=g,this._platform=Zs(So),this._detachedSubject=new Me,this._renderedRangeSubject=new Me,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new _e(y=>this._scrollStrategy.scrolledIndexChange.subscribe(O=>Promise.resolve().then(()=>this.ngZone.run(()=>y.next(O))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=C.EMPTY,this._viewportChanges=h.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(r0(null),hC(0,t7)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Pi(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function e7(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const o="horizontal"==this.orientation,a=o?"X":"Y";let h=`translate${a}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(h+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=h&&(this._renderedContentTransform=h,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",o="right",a="rtl"==this.dir?.value;r="start"==t?a?o:i:"end"==t?a?i:o:t||("horizontal"===this.orientation?"left":"top");const c=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-c}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(bs),ze(Tn),ze(qW,8),ze(Yc,8),ze($g),ze(P0),ze(bP,8))},n.\u0275cmp=ti({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&ri(XW,7),2&t){let i;nr(i=rr())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&zr("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Er([{provide:yP,useFactory:(e,t)=>e||t,deps:[[new jl,new bf(bP)],n]}]),Dn,fh],ngContentSelectors:KW,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(zs(),Ut(0,"div",0,1),$r(2),Xt(),tr(3,"div",2)),2&t&&(Kt(3),Gc("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),N0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({}),n})(),_P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Og,N0,n7,Og,N0]}),n})();class fC{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class xP extends fC{constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class wP extends fC{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class r7 extends fC{constructor(e){super(),this.element=e instanceof Bn?e.nativeElement:e}}class i7{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof xP?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof wP?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof r7?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class o7 extends i7{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=a=>{const c=a.element,h=this._document.createComment("dom-portal");c.parentNode.insertBefore(h,c),this.outletElement.appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||dl.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let s7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({}),n})();const EP=$I();class l7{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=to(-this._previousScrollPosition.left),e.style.top=to(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),EP&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),EP&&(r.scrollBehavior=o,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class c7{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class CP{enable(){}disable(){}attach(){}}function pC(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function DP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class u7{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();pC(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let d7=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new CP,this.close=a=>new c7(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new l7(this._viewportRuler,this._document),this.reposition=a=>new u7(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(xt($g),xt(P0),xt(Tn),xt(or))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class SP{constructor(e){if(this.scrollStrategy=new CP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class h7{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let kP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(xt(or))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f7=(()=>{class n extends kP{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const c=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(i)):c.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(xt(or),xt(Tn,8))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p7=(()=>{class n extends kP{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Uu(o)},this._clickListener=o=>{const a=Uu(o),c="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let g=h.length-1;g>-1;g--){const y=h[g];if(y._outsidePointerEvents.observers.length<1||!y.hasAttached())continue;if(y.overlayElement.contains(a)||y.overlayElement.contains(c))break;const O=y._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>O.next(o)):O.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(xt(or),xt(So),xt(Tn,8))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MP=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||EE()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),EE()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(xt(or),xt(So))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class m7{constructor(e,t,r,i,o,a,c,h,g,y=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=c,this._location=h,this._outsideClickDispatcher=g,this._animationsDisabled=y,this._backdropElement=null,this._backdropClick=new Me,this._attachments=new Me,this._detachments=new Me,this._locationChanges=C.EMPTY,this._backdropClickHandler=O=>this._backdropClick.next(O),this._backdropTransitionendHandler=O=>{this._disposeBackdrop(O.target)},this._keydownEvents=new Me,this._outsidePointerEvents=new Me,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(bh(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=to(this._config.width),e.height=to(this._config.height),e.minWidth=to(this._config.minWidth),e.minHeight=to(this._config.minHeight),e.maxWidth=to(this._config.maxWidth),e.maxHeight=to(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=n0(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Pi(kl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const TP="cdk-overlay-connected-position-bounding-box",g7=/([A-Za-z%]+)$/;class v7{get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Me,this._resizeSubscription=C.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(TP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let a;for(let c of this._preferredPositions){let h=this._getOriginPoint(e,i,c),g=this._getOverlayPoint(h,t,c),y=this._getOverlayFit(g,t,r,c);if(y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,h);this._canFitWithFlexibleDimensions(y,g,r)?o.push({position:c,origin:h,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(h,c)}):(!a||a.overlayFit.visibleArea<y.visibleArea)&&(a={overlayFit:y,overlayPoint:g,originPoint:h,position:c,overlayRect:t})}if(o.length){let c=null,h=-1;for(const g of o){const y=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);y>h&&(h=y,c=g)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Eh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(TP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;i="start"==r.originX?a:c}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=IP(t);let{x:a,y:c}=e,h=this._getOffset(i,"x"),g=this._getOffset(i,"y");h&&(a+=h),g&&(c+=g);let $=0-c,K=c+o.height-r.height,re=this._subtractOverflows(o.width,0-a,a+o.width-r.width),he=this._subtractOverflows(o.height,$,K),xe=re*he;return{visibleArea:xe,isCompletelyWithinViewport:o.width*o.height===xe,fitsInViewportVertically:he===o.height,fitsInViewportHorizontally:re==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,a=AP(this._overlayRef.getConfig().minHeight),c=AP(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=a&&a<=i)&&(e.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=IP(t),o=this._viewportRect,a=Math.max(e.x+i.width-o.width,0),c=Math.max(e.y+i.height-o.height,0),h=Math.max(o.top-r.top-e.y,0),g=Math.max(o.left-r.left-e.x,0);let y=0,O=0;return y=i.width<=o.width?g||-a:e.x<this._viewportMargin?o.left-r.left-e.x:0,O=i.height<=o.height?h||-c:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:y,y:O},{x:e.x+y,y:e.y+O}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new h7(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,a,c,y,O,$;if("top"===t.overlayY)a=e.y,o=r.height-a+this._viewportMargin;else if("bottom"===t.overlayY)c=r.height-e.y+2*this._viewportMargin,o=r.height-c+this._viewportMargin;else{const K=Math.min(r.bottom-e.y+r.top,e.y),re=this._lastBoundingBoxSize.height;o=2*K,a=e.y-K,o>re&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-re/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)$=r.width-e.x+this._viewportMargin,y=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)O=e.x,y=r.right-e.x;else{const K=Math.min(r.right-e.x+r.left,e.x),re=this._lastBoundingBoxSize.width;y=2*K,O=e.x-K,y>re&&!this._isInitialRender&&!this._growAfterOpen&&(O=e.x-re/2)}return{top:a,left:O,bottom:c,right:$,width:y,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=to(r.height),i.top=to(r.top),i.bottom=to(r.bottom),i.width=to(r.width),i.left=to(r.left),i.right=to(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=to(o)),a&&(i.maxWidth=to(a))}this._lastBoundingBoxSize=r,Eh(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Eh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Eh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){const y=this._viewportRuler.getViewportScrollPosition();Eh(r,this._getExactOverlayY(t,e,y)),Eh(r,this._getExactOverlayX(t,e,y))}else r.position="static";let c="",h=this._getOffset(t,"x"),g=this._getOffset(t,"y");h&&(c+=`translateX(${h}px) `),g&&(c+=`translateY(${g}px)`),r.transform=c.trim(),a.maxHeight&&(i?r.maxHeight=to(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=to(a.maxWidth):o&&(r.maxWidth="")),Eh(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=to(o.y),i}_getExactOverlayX(e,t,r){let a,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=to(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:DP(e,r),isOriginOutsideView:pC(e,r),isOverlayClipped:DP(t,r),isOverlayOutsideView:pC(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&n0(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Bn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Eh(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function AP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(g7);return t&&"px"!==t?null:parseFloat(e)}return n||null}function IP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const OP="cdk-global-overlay-wrapper";class y7{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(OP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:a,maxHeight:c}=r,h=!("100%"!==i&&"100vw"!==i||a&&"100%"!==a&&"100vw"!==a),g=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),y=this._xPosition,O=this._xOffset,$="rtl"===this._overlayRef.getConfig().direction;let K="",re="",he="";h?he="flex-start":"center"===y?(he="center",$?re=O:K=O):$?"left"===y||"end"===y?(he="flex-end",K=O):("right"===y||"start"===y)&&(he="flex-start",re=O):"left"===y||"start"===y?(he="flex-start",K=O):("right"===y||"end"===y)&&(he="flex-end",re=O),e.position=this._cssPosition,e.marginLeft=h?"0":K,e.marginTop=g?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=h?"0":re,t.justifyContent=he,t.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(OP),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let b7=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new y7}flexibleConnectedTo(t){return new v7(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(xt(P0),xt(or),xt(So),xt(MP))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_7=0,bp=(()=>{class n{constructor(t,r,i,o,a,c,h,g,y,O,$,K){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=c,this._ngZone=h,this._document=g,this._directionality=y,this._location=O,this._outsideClickDispatcher=$,this._animationsModuleType=K}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),a=new SP(t);return a.direction=a.direction||this._directionality.value,new m7(o,r,i,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+_7++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(gg)),new o7(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(xt(d7),xt(MP),xt(Zi),xt(b7),xt(f7),xt(dl),xt(Tn),xt(or),xt(Yc),xt(QA),xt(p7),xt(ca,8))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x7=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],RP=new Nt("cdk-connected-overlay-scroll-strategy");let mC=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn))},n.\u0275dir=Jt({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),PP=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Hr(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Hr(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Hr(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Hr(t)}get push(){return this._push}set push(t){this._push=Hr(t)}constructor(t,r,i,o,a){this._overlay=t,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=C.EMPTY,this._attachSubscription=C.EMPTY,this._detachSubscription=C.EMPTY,this._positionSubscription=C.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new On,this.positionChange=new On,this.attach=new On,this.detach=new On,this.overlayKeydown=new On,this.overlayOutsideClick=new On,this._templatePortal=new wP(r,i),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=x7);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!lp(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new SP({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof mC?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function a7(n,e=!1){return Be((t,r)=>{let i=0;t.subscribe(Le(r,o=>{const a=n(o,i++);(a||e)&&r.next(o),!a&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(ze(bp),ze(Jl),ze(Ta),ze(RP),ze(Yc,8))},n.\u0275dir=Jt({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[$n]}),n})();const E7={provide:RP,deps:[bp],useFactory:function w7(n){return()=>n.scrollStrategies.reposition()}};let NP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({providers:[bp,E7],imports:[Og,s7,_P,_P]}),n})();class C7{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Me,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,r=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!r.has(o)).forEach(o=>this._unmarkSelected(o));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}function FP(n,e){return Be((t,r)=>{let i=null,o=0,a=!1;const c=()=>a&&!i&&r.complete();t.subscribe(Le(r,h=>{i?.unsubscribe();let g=0;const y=o++;so(n(h,y)).subscribe(i=Le(r,O=>r.next(e?e(h,O,y,g++):O),()=>{i=null,c()}))},()=>{a=!0,c()}))})}const S7=["trigger"],k7=["panel"];function M7(n,e){if(1&n&&(Ut(0,"span",10),Ci(1),Xt()),2&n){const t=Mn();Kt(1),Hs(t.placeholder)}}function T7(n,e){if(1&n&&(Ut(0,"span",14),Ci(1),Xt()),2&n){const t=Mn(2);Kt(1),Hs(t.triggerValue)}}function A7(n,e){1&n&&$r(0,0,["*ngSwitchCase","true"])}function I7(n,e){1&n&&(Ut(0,"span",11),Yn(1,T7,2,1,"span",12),Yn(2,A7,1,0,"ng-content",13),Xt()),2&n&&($t("ngSwitch",!!Mn().customTrigger),Kt(2),$t("ngSwitchCase",!0))}function O7(n,e){if(1&n){const t=Lu();Bd(),Vd(),Ut(0,"div",15,16),Kn("@transformPanel.done",function(i){return Bi(t),gi(Mn()._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){return Bi(t),gi(Mn()._handleKeydown(i))}),$r(2,1),Xt()}if(2&n){const t=Mn();(function KM(n,e,t){fl(Zo,Ql,jf(At(),n,e,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),$t("ngClass",t.panelClass)("@transformPanel","showing"),ni("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const R7=[[["mat-select-trigger"]],"*"],P7=["mat-select-trigger","*"],N7={transformPanelWrap:vp("transformPanelWrap",[qu("* => void",M0("@transformPanel",[Y$()],{optional:!0}))]),transformPanel:vp("transformPanel",[yp("void",ts({opacity:0,transform:"scale(1, 0.8)"})),qu("void => showing",Ku("120ms cubic-bezier(0, 0, 0.2, 1)",ts({opacity:1,transform:"scale(1, 1)"}))),qu("* => void",Ku("100ms linear",ts({opacity:0})))])};let LP=0;const BP=new Nt("mat-select-scroll-strategy"),L7=new Nt("MAT_SELECT_CONFIG"),B7={provide:BP,deps:[bp],useFactory:function F7(n){return()=>n.scrollStrategies.reposition()}},V7=new Nt("MatSelectTrigger");class z7{constructor(e,t){this.source=e,this.value=t}}const H7=Rg(PE(l0(AG(class{constructor(n,e,t,r,i){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=i,this.stateChanges=new Me}}))));let j7=(()=>{class n extends H7{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(I9.required)??!1}set required(t){this._required=Hr(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Hr(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Hr(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=es(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,r,i,o,a,c,h,g,y,O,$,K,re,he){super(a,o,h,g,O),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=c,this._parentFormField=y,this._liveAnnouncer=re,this._defaultOptions=he,this._panelOpen=!1,this._compareWith=(xe,Pe)=>xe===Pe,this._uid="mat-select-"+LP++,this._triggerAriaLabelledBy=null,this._destroy=new Me,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+LP++,this._panelDoneAnimatingStream=new Me,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=function D7(n){return new _e(e=>{so(n()).subscribe(e)})}(()=>{const xe=this.options;return xe?xe.changes.pipe(r0(xe),FP(()=>kl(...xe.map(Pe=>Pe.onSelectionChange)))):this._ngZone.onStable.pipe(bh(1),FP(()=>this.optionSelectionChanges))}),this.openedChange=new On,this._openedStream=this.openedChange.pipe(cp(xe=>xe),Ne(()=>{})),this._closedStream=this.openedChange.pipe(cp(xe=>!xe),Ne(()=>{})),this.selectionChange=new On,this.valueChange=new On,this.ngControl&&(this.ngControl.valueAccessor=this),null!=he?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=he.typeaheadDebounceInterval),this._scrollStrategyFactory=K,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt($)||0,this.id=this.id}ngOnInit(){this._selectionModel=new C7(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(QI(),Pi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Pi(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(r0(null),Pi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,o=13===r||32===r,a=this._keyManager;if(!a.isTyping()&&o&&!lp(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const c=this.selected;a.onKeydown(t);const h=this.selected;h&&c!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,o=40===i||38===i,a=r.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(a||13!==i&&32!==i||!r.activeItem||lp(t))if(!a&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const c=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(c?h.select():h.deselect())})}else{const c=r.activeItemIndex;r.onKeydown(t),this._multiple&&o&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==c&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(bh(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new nG(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=kl(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Pi(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),kl(...this.options.map(r=>r._stateChanges)).pipe(Pi(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let r=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(ze(P0),ze(bs),ze(Tn),ze(OG),ze(Bn),ze(Yc,8),ze(C0,8),ze(D0,8),ze(dP,8),ze(Kc,10),Mc("tabindex"),ze(BP),ze(mG),ze(L7,8))},n.\u0275dir=Jt({type:n,viewQuery:function(t,r){if(1&t&&(ri(S7,5),ri(k7,5),ri(PP,5)),2&t){let i;nr(i=rr())&&(r.trigger=i.first),nr(i=rr())&&(r.panel=i.first),nr(i=rr())&&(r._overlayDir=i.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Dn,$n]}),n})(),U7=(()=>{class n extends j7{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Pi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const r=this.options.toArray()[t];if(r){const i=this.panel.nativeElement,o=function jG(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),o=0;for(let a=0;a<n+1;a++)r[a].group&&r[a].group===i[o]&&o++;return o}return 0}(t,this.options,this.optionGroups),a=r._getHostElement();i.scrollTop=0===t&&1===o?0:function UG(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}(a.offsetTop,a.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new z7(this,t)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof mC?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=Hr(t),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Vi(n)))(r||n)}}(),n.\u0275cmp=ti({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,i){if(1&t&&(js(i,V7,5),js(i,SO,5),js(i,DO,5)),2&t){let o;nr(o=rr())&&(r.customTrigger=o.first),nr(o=rr())&&(r.options=o),nr(o=rr())&&(r.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,r){1&t&&Kn("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(ni("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),zr("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[Er([{provide:uP,useExisting:n},{provide:CO,useExisting:n}]),Dn],ngContentSelectors:P7,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(zs(R7),Ut(0,"div",0,1),Kn("click",function(){return r.toggle()}),Ut(3,"div",2),Yn(4,M7,2,1,"span",3),Yn(5,I7,3,2,"span",4),Xt(),Ut(6,"div",5)(7,"div",6),Bd(),Ut(8,"svg",7),tr(9,"path",8),Xt()()()(),Yn(10,O7,3,9,"ng-template",9),Kn("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const i=qf(1);ni("aria-owns",r.panelOpen?r.id+"-panel":null),Kt(3),$t("ngSwitch",r.empty),ni("id",r._valueId),Kt(1),$t("ngSwitchCase",!0),Kt(1),$t("ngSwitchCase",!1),Kt(5),$t("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[nE,xg,iE,fI,PP,mC],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[N7.transformPanel]},changeDetection:0}),n})(),G7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({providers:[B7],imports:[Oa,NP,kO,Si,N0,A0,kO,Si]}),n})();const $7=["input"],W7=["label"],Y7=["*"],X7=new Nt("mat-checkbox-default-options",{providedIn:"root",factory:VP});function VP(){return{color:"accent",clickAction:"check-indeterminate"}}const K7={provide:Gs,useExisting:lt(()=>HP),multi:!0};class q7{}let Z7=0;const zP=VP(),Q7=PE(hp(Rg(l0(class{constructor(n){this._elementRef=n}}))));let J7=(()=>{class n extends Q7{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=Hr(t)}constructor(t,r,i,o,a,c,h){super(r),this._changeDetectorRef=i,this._ngZone=o,this._animationMode=c,this._options=h,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new On,this.indeterminateChange=new On,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||zP,this.color=this.defaultColor=this._options.color||zP.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`${t}${++Z7}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const r=Hr(t);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const r=Hr(t);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const r=t!=this._indeterminate;this._indeterminate=Hr(t),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let r=this._currentCheckState,i=this._getAnimationTargetElement();if(r!==t&&i&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,r){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===r)return this._animationClasses.uncheckedToChecked;if(3==r)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===r?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===r?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===r?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const r=this._inputElement;r&&(r.nativeElement.indeterminate=t)}}return n.\u0275fac=function(t){Vf()},n.\u0275dir=Jt({type:n,viewQuery:function(t,r){if(1&t&&(ri($7,5),ri(W7,5),ri(Xc,5)),2&t){let i;nr(i=rr())&&(r._inputElement=i.first),nr(i=rr())&&(r._labelElement=i.first),nr(i=rr())&&(r.ripple=i.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[Dn]}),n})(),HP=(()=>{class n extends J7{constructor(t,r,i,o,a,c){super("mat-mdc-checkbox-",t,r,i,o,a,c),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const r=new q7;return r.source=this,r.checked=t,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(bs),ze(Tn),Mc("tabindex"),ze(ca,8),ze(X7,8))},n.\u0275cmp=ti({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(t,r){2&t&&(Qf("id",r.id),ni("tabindex",null)("aria-label",null)("aria-labelledby",null),zr("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[Er([K7]),Dn],ngContentSelectors:Y7,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[3,"for"],["label",""]],template:function(t,r){if(1&t&&(zs(),Ut(0,"div",0),Kn("click",function(o){return r._preventBubblingFromLabel(o)}),Ut(1,"div",1,2)(3,"div",3),Kn("click",function(){return r._onTouchTargetClick()}),Xt(),Ut(4,"input",4,5),Kn("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(o){return r._onInteractionEvent(o)}),Xt(),tr(6,"div",6),Ut(7,"div",7),Bd(),Ut(8,"svg",8),tr(9,"path",9),Xt(),Vd(),tr(10,"div",10),Xt(),tr(11,"div",11),Xt(),Ut(12,"label",12,13),$r(14),Xt()()),2&t){const i=qf(2);zr("mdc-form-field--align-end","before"==r.labelPosition),Kt(4),zr("mdc-checkbox--selected",r.checked),$t("checked",r.checked)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),ni("aria-checked",r._getAriaChecked())("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),Kt(7),$t("matRippleTrigger",i)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),Kt(1),$t("for",r.inputId)}},dependencies:[Xc],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:not([disabled])~.mdc-checkbox__ripple{opacity:.04;transform:scale(1);transition:opacity 80ms 0 cubic-bezier(0, 0, 0.2, 1),transform 80ms 0 cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:not([disabled]):focus~.mdc-checkbox__ripple{opacity:.16}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__native-control:focus:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, black)}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),jP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({}),n})(),nY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Si,Fg,jP,Si,jP]}),n})();const rY=["tooltip"],UP=new Nt("mat-tooltip-scroll-strategy"),sY={provide:UP,deps:[bp],useFactory:function oY(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},lY=new Nt("mat-tooltip-default-options",{providedIn:"root",factory:function aY(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),GP="tooltip-panel",$P=ap({passive:!0});let pY=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=Hr(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Hr(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=es(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=es(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,r,i,o,a,c,h,g,y,O,$,K){this._overlay=t,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=a,this._platform=c,this._ariaDescriber=h,this._focusMonitor=g,this._dir=O,this._defaultOptions=$,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Me,this._scrollStrategy=y,this._document=K,$&&($.position&&(this.position=$.position),$.positionAtOrigin&&(this.positionAtOrigin=$.positionAtOrigin),$.touchGestures&&(this.touchGestures=$.touchGestures)),O.change.pipe(Pi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Pi(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{t.removeEventListener(r,i,$P)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay(r);this._detach(),this._portal=this._portal||new xP(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Pi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(t):(r._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof Bn)return this._overlayRef;this._detach()}const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(Pi(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${GP}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Pi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Pi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Pi(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!lp(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const r=t.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...o.main}),this._addOffset({...i.fallback,...o.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={originX:"end",originY:"center"});const{x:o,y:a}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:a}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(bh(1),Pi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){const{overlayY:r,originX:i,originY:o}=t;let a;if(a="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",a!==this._currentPosition){const c=this._overlayRef;if(c){const h=`${this._cssClassPrefix}-${GP}-`;c.removePanelClass(h+this._currentPosition),c.addPanelClass(h+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let r;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(r=t),this.show(void 0,r)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const r=t.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,$P)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const r=this._elementRef.nativeElement,i=r.style;("on"===t||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===t||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){Vf()},n.\u0275dir=Jt({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),WP=(()=>{class n extends pY{constructor(t,r,i,o,a,c,h,g,y,O,$,K){super(t,r,i,o,a,c,h,g,y,O,$,K),this._tooltipComponent=gY,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(t){const i=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=i?-8:8:"end"===t.originX&&(t.offsetX=i?8:-8),t}}return n.\u0275fac=function(t){return new(t||n)(ze(bp),ze(Bn),ze($g),ze(Ta),ze(Tn),ze(So),ze(eG),ze(OE),ze(UP),ze(Yc,8),ze(lY,8),ze(or))},n.\u0275dir=Jt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[Dn]}),n})(),mY=(()=>{class n{constructor(t,r){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Me,this._animationsDisabled="NoopAnimations"===r}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(t?o:i),r.classList.add(t?i:o),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(r);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(ze(bs),ze(ca,8))},n.\u0275dir=Jt({type:n}),n})(),gY=(()=>{class n extends mY{constructor(t,r,i){super(t,i),this._elementRef=r,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}}return n.\u0275fac=function(t){return new(t||n)(ze(bs),ze(Bn),ze(ca,8))},n.\u0275cmp=ti({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,r){if(1&t&&ri(rY,7),2&t){let i;nr(i=rr())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,r){1&t&&Kn("mouseleave",function(o){return r._handleMouseLeave(o)}),2&t&&Gc("zoom",r.isVisible()?1:null)},features:[Dn],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(t,r){1&t&&(Ut(0,"div",0,1),Kn("animationend",function(o){return r._handleAnimationEnd(o)}),Ut(2,"div",2),Ci(3),Xt()()),2&t&&(zr("mdc-tooltip--multiline",r._isMultiline),$t("ngClass",r.tooltipClass),Kt(3),Hs(r.message))},dependencies:[nE],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),YP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({providers:[sY],imports:[vG,Oa,NP,Si,Si,N0]}),n})();var vY=v(6864),_p=v.n(vY),yY=v(3811),bY=v.n(yY),_Y=v(1212),xY=v.n(_Y),wY=v(5791),EY=v.n(wY),CY=v(1936),DY=v.n(CY),SY=v(6977),kY=v.n(SY);_p().use(bY()),_p().use(xY()),_p().use(kY()),_p().use(EY()),_p().use(DY());let XP=(()=>{class n{constructor(){this.contextMenuClick$=new Me,this.nodeClick$=new Me,this.nodeHover$=new Me,this.canvasClick$=new Me,this.settings=new _E}build(t,r,i){this.settings=i,this.initCytoscape(t,r),i.displayContextMenu&&this.setupContextMenus(),this.setupClickHoverEvents()}addElements(t){null!=this.cy&&(this.cy.add(t),this.updateLayout())}contextMenuClick(){return this.contextMenuClick$.asObservable()}nodeClick(){return this.nodeClick$.asObservable()}nodeHover(){return this.nodeHover$.asObservable()}canvasClick(){return this.canvasClick$.asObservable()}getCytoscape(){return this.cy}initCytoscape(t,r){this.cy=_p()({container:t,wheelSensitivity:.5,elements:r,style:[{selector:"node",style:{content:"data(name)","text-valign":"center",color:"#ccc"}},{selector:"node.individual",style:{width:"data(size)",height:"data(size)",...this.settings.individualCSS}},{selector:"node.class",style:{width:"data(size)",height:"data(size)",...this.settings.classNodeCSS}},{selector:"node.literal",style:{content:"data(name)",...this.settings.literalNodeCSS}},{selector:":selected",style:{"border-width":3,"border-color":"#333"}},{selector:"edge",style:{content:"data(name)","curve-style":"bezier",opacity:.666,"target-arrow-shape":"triangle"}},{selector:".faded",style:{opacity:.25,"text-opacity":0}}]}),this.updateLayout(),this.appendScale(),this.appendClassLabels()}appendClassLabels(){if(document.querySelectorAll(".node-class-container").forEach(o=>{o.remove()}),!this.settings.showClassLabelOnInstance)return;const r=[],i={placement:"top",modifiers:[{name:"offset",options:{offset:[0,5]}}],strategy:"absolute"};this.cy?.nodes().forEach(o=>{const a=o.data().classes;if(Array.isArray(a)){const c=o.popper({content:()=>{const h=document.createElement("div");return h.classList.add("node-class-container"),a.forEach(g=>{const y=document.createElement("div");y.classList.add("node-class-chip"),y.innerHTML=g.prefixed,h.appendChild(y)}),document.body.appendChild(h),h},popper:i});r.push(c),o.on("position",()=>c.update())}}),this.cy?.on("pan zoom resize",()=>{r.forEach(o=>o.update())})}appendScale(){this.cy?.nodes().forEach(t=>{const r=t.hasClass("literal"),i=parseInt(t.style("height"))*this.settings.graph.scale/100;t.style("height",`${i}px`);const o=parseInt(t.style("font-size"))*this.settings.graph.scale/100;if(t.style("font-size",`${o}px`),r){const a=function MY(n,e,t){const r=document.createElement("span");r.style.fontSize=e,r.style.fontFamily=t,r.style.visibility="hidden",r.style.position="absolute",r.style.top="-9999px",r.innerHTML=n,document.body.appendChild(r);const i=r.offsetWidth;return document.body.removeChild(r),i}(t.data("name"),t.style("font-size"),t.style("font-family"));t.style("width",`${a+10}px`)}else{const a=parseInt(t.style("width"))*this.settings.graph.scale/100;t.style("width",`${a}px`)}}),this.cy?.edges().forEach(t=>{const r=parseInt(t.style("width"))*this.settings.graph.scale/100,i=parseInt(t.style("font-size"))*this.settings.graph.scale/100;t.style("width",`${r}px`),t.style("font-size",`${i}px`)})}updateLayout(){null!=this.cy&&this.cy.layout({name:this.settings.graph.layout,quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:100,randomize:this.settings.graph.randomize,nodeRepulsion:this.settings.graph.nodeRepulsion,idealEdgeLength:this.settings.graph.idealEdgeLength,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:this.settings.graph.animation,animationDuration:this.settings.graph.animationDuration,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5}).run()}setupContextMenus(){if(null==this.cy)return;const t=[this.settings.contextMenuCommands.nodes,this.settings.contextMenuCommands.edges,this.settings.contextMenuCommands.canvas],r=[op.NODE,op.EDGE,op.CANVAS],i=["node","edge","core"];for(const o in t){const a=r[o],c=i[o],h=[];t[o].forEach(g=>{g.visible&&h.push({content:g.label,enabled:g.enabled,select:y=>{const $=y.json().data?.uri;if(void 0===$)return;const K=new v6($,g.id,a);this.contextMenuClick$.next(K)}})}),h.length&&this.cy.cxtmenu({selector:c,commands:h})}}setupClickHoverEvents(){if(null==this.cy)return;let t=this.cy.collection();this.cy.nodes().on("click",r=>{const i=r.target;this.nodeClick$.next(r.target.data()),t=t.union(i)}),this.cy.nodes().unbind("mouseover"),this.cy.nodes().bind("mouseover",r=>{this.dimAllButNeighbors(r.target),this.nodeHover$.next(r.target.data())}),this.cy.nodes().unbind("mouseout"),this.cy.nodes().bind("mouseout",()=>{this.unDimAll(),this.nodeHover$.next(void 0)}),this.cy.on("click",r=>{0===Object.keys(r.target.data()).length&&this.canvasClick$.next()})}unDimAll(){null!=this.cy&&this.cy.elements().forEach(t=>{t.removeClass("faded")})}dimAllButNeighbors(t){if(null==this.cy)return;const r=t.neighborhood().map(i=>i.id());this.cy.elements().forEach(i=>{r.includes(i.id())||i.id()===t.id()?i.removeClass("faded"):i.addClass("faded")})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var F0,KP=v(5049),TY=new Uint8Array(16);function AY(){if(!F0&&!(F0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return F0(TY)}const IY=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,RY=function OY(n){return"string"==typeof n&&IY.test(n)};for(var Ho=[],gC=0;gC<256;++gC)Ho.push((gC+256).toString(16).substr(1));const LY=function FY(n,e,t){var r=(n=n||{}).random||(n.rng||AY)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return function PY(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Ho[n[e+0]]+Ho[n[e+1]]+Ho[n[e+2]]+Ho[n[e+3]]+"-"+Ho[n[e+4]]+Ho[n[e+5]]+"-"+Ho[n[e+6]]+Ho[n[e+7]]+"-"+Ho[n[e+8]]+Ho[n[e+9]]+"-"+Ho[n[e+10]]+Ho[n[e+11]]+Ho[n[e+12]]+Ho[n[e+13]]+Ho[n[e+14]]+Ho[n[e+15]]).toLowerCase();if(!RY(t))throw TypeError("Stringified UUID is invalid");return t}(r)};let BY=(()=>{class n{constructor(){this.omitClassAssignments=!0,this.omitDatatypeProperties=!0,this.nodes=[],this.edges=[],this.seenNodes=[],this.resourceLabels={},this.knownPrefixes={schema:"http://schema.org/"}}buildElementData(t,r=!0,i=!0,o="en"){var a=this;return gh(function*(){return a.omitClassAssignments=r,a.omitDatatypeProperties=i,"http://schema.org/"==t["@context"]&&(t["@context"]="https://schema.org/"),a.context={...t["@context"],...a.knownPrefixes},a.nodes=[],a.edges=[],a.seenNodes=[],a.resourceLabels={},(yield(0,KP.toRDF)(t)).forEach(h=>a.processQuad(h)),a.nodes=a.appendNames(a.nodes,o),a.edges=a.appendNames(a.edges,o),{nodes:a.nodes,edges:a.edges}})()}appendElementData(t,r="en"){var i=this;return gh(function*(){return(yield(0,KP.toRDF)(t)).forEach(a=>i.processQuad(a)),i.nodes=i.appendNames(i.nodes,r),i.edges=i.appendNames(i.edges,r),console.log(i.nodes),{nodes:i.nodes,edges:i.edges}})()}processQuad(t){const r=t.subject.value;let i=t.predicate.value,o=t.object.value;if("http://www.w3.org/2004/02/skos/core#prefLabel"===i||"http://www.w3.org/2000/01/rdf-schema#label"===i)return void(Object.keys(this.resourceLabels).includes(r)?this.resourceLabels[r].push(t.object):this.resourceLabels[r]=[t.object]);if(this.appendNamedNode(r),"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===i&&(i="a",this.seenNodes.includes(r))){const c=this.nodes.find(h=>h.data.id===r);void 0!==c&&(void 0===c.data.classes&&(c.data.classes=[]),c.data.classes.push({uri:o,prefixed:this.appendPrefix(o)}))}const a=t.object.termType;if("Literal"===a){if(o=this.appendLiteralNode(o),this.seenNodes.includes(r)){const c=this.nodes.find(h=>h.data.id===r);void 0!==c&&(void 0===c.data.properties&&(c.data.properties=[]),c.data.properties.push({uri:i,label:this.getIdFromURI(i),datatype:t.object.datatype.value,language:t.object.language,value:t.object.value}))}}else"BlankNode"===a?this.appendNamedNode(o,"individual"):"NamedNode"===a?this.appendNamedNode(o,"a"===i?"class":"individual"):console.warn("Unknown term type "+a);this.appendEdge(r,i,o,"Literal"===a)}appendNames(t,r="en"){return t.map(i=>{const o=this.resourceLabels[i.data.id];if(Array.isArray(o))1===o.length?i.data.name=o[0].value:console.log("MORE THAN ONE LABEL NOT YET SUPPORTED");else{if("class"===i.classes){if(null==i.data.uri)return i;i.data.name=this.getIdFromURI(i.data.uri)}if("edge"===i.classes){if(null==i.data.uri)return i;i.data.name=this.getIdFromURI(i.data.uri)}}return void 0!==i.data.size&&""!=i.data.name&&(i.data.size=70),i})}appendNamedNode(t,r="individual"){if(!this.omitClassAssignments||"class"!==r)if(this.seenNodes.includes(t)){if("class"===r){const i=this.nodes.find(o=>o.data.id===t);null!=i&&(i.classes=r)}}else this.nodes.push({data:{id:t,uri:t,name:"",size:40},classes:r}),this.seenNodes.push(t)}appendLiteralNode(t){if(this.omitDatatypeProperties)return"";""===t&&(t="-");const r=this.camelize(t);return this.seenNodes.includes(r)||(this.nodes.push({data:{id:r,name:t,width:10*t.length+"px"},classes:"literal"}),this.seenNodes.push(r)),r}appendEdge(t,r,i,o=!1){this.omitClassAssignments&&"a"===r||this.omitDatatypeProperties&&o||this.edges.push({data:{id:LY(),source:t,target:i,name:this.appendPrefix(r),uri:r},classes:"edge"})}appendPrefix(t){const r=Object.keys(this.context),i=Object.values(this.context);for(const o in i){const a=i[o];if(t.startsWith(a)){t=t.replace(a,`${r[o]}:`);break}}return t}camelize(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(r,i){return 0===i?r.toLowerCase():r.toUpperCase()}).replace(/\s+/g,"")}getIdFromURI(t){return t.includes("#")?t.split("#")[1]:t.split("/").pop()??t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VY{constructor(e,t){this.newRect=e,this.oldRect=t,this.isFirst=null==t}}let zY=(()=>{class n{constructor(t,r){this.element=t,this.zone=r,this.resized=new On,this.observer=new ResizeObserver(i=>this.zone.run(()=>this.observe(i)))}ngOnInit(){this.observer.observe(this.element.nativeElement)}ngOnDestroy(){this.observer.disconnect()}observe(t){const r=t[0],i=new VY(r.contentRect,this.oldRect);this.oldRect=r.contentRect,this.resized.emit(i)}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(Tn))},n.\u0275dir=Jt({type:n,selectors:[["","imPoc1Resized",""]],outputs:{resized:"resized"},standalone:!0}),n})();const HY=["cy"];let jY=(()=>{class n{set content(t){if(t){if(this.canvas=t.nativeElement,null==this.canvas||null==this.elementData)return;this.rdfGraphService.build(this.canvas,this.elementData,this.settings)}}constructor(t,r){this.rdfGraphService=t,this.jsonLDProcessingService=r,this.settings=new _E,this.clickedContextMenu=new On,this.clickedNode=new On,this.clickedCanvas=new On,this.hoveringNode=new On}ngOnInit(){this.rdfGraphService.contextMenuClick().subscribe(t=>{t&&this.clickedContextMenu.emit(t),"copyURI"===t?.commandId&&navigator.clipboard.writeText(t.resourceURI??"")}),this.rdfGraphService.nodeClick().subscribe(t=>{t&&this.clickedNode.emit(t)}),this.rdfGraphService.nodeHover().subscribe(t=>{this.hoveringNode.emit(t)}),this.rdfGraphService.canvasClick().subscribe(()=>{this.clickedCanvas.emit()})}ngOnChanges(){var t=this;return gh(function*(){t.elementData=yield t.jsonLDProcessingService.buildElementData(t.data,t.settings.hideClassAssignmentTriples,t.settings.hideDatatypePropertyTriples),null!=t.canvas&&null!=t.elementData&&t.rdfGraphService.build(t.canvas,t.elementData,t.settings)})()}ngAfterViewInit(){null!=this.canvas&&null!=this.elementData&&this.rdfGraphService.build(this.canvas,this.elementData,this.settings)}append(t){var r=this;return gh(function*(){if(null==r.canvas)return;const i=yield r.jsonLDProcessingService.buildElementData(t);r.rdfGraphService.addElements(i)})()}getCytoscape(){return this.rdfGraphService.getCytoscape()}onResized(){null==this.canvas||null==this.elementData||(this.canvas.innerHTML="",this.rdfGraphService.build(this.canvas,this.elementData,this.settings))}}return n.\u0275fac=function(t){return new(t||n)(ze(XP),ze(BY))},n.\u0275cmp=ti({type:n,selectors:[["im-poc1-rdf-graph"]],viewQuery:function(t,r){if(1&t&&ri(HY,5),2&t){let i;nr(i=rr())&&(r.content=i.first)}},inputs:{data:"data",settings:"settings"},outputs:{clickedContextMenu:"clickedContextMenu",clickedNode:"clickedNode",clickedCanvas:"clickedCanvas",hoveringNode:"hoveringNode"},features:[$n],decls:2,vars:0,consts:[["id","graph-canvas","imPoc1Resized","",3,"resized"],["cy",""]],template:function(t,r){1&t&&(Ut(0,"div",0,1),Kn("resized",function(){return r.onResized()}),Xt())},dependencies:[zY],styles:["#graph-canvas[_ngcontent-%COMP%]{height:100%;width:100%}  .node-hover-div{font-size:.6em}  .node-class-container{display:flex;flex-direction:column;align-items:start;gap:2px}  .node-class-chip{border-radius:1.2em;color:#fff;background:rgba(238,75,43,.8);padding:.5em;font-size:.8em;pointer-events:none}"]}),n})();function UY(n,e){if(1&n&&(Ut(0,"mat-option",14),Ci(1),Xt()),2&n){const t=e.$implicit;$t("value",t),Kt(1),sg(" ",t," ")}}function GY(n,e){if(1&n){const t=Lu();Ut(0,"div",4)(1,"div",5)(2,"mat-label"),Ci(3,"Edge length"),Xt(),Ut(4,"mat-slider",6)(5,"input",7),Kn("valueChange",function(i){return Bi(t),gi(Mn().edgeLengthChanged(i))}),Xt()()(),Ut(6,"div",5)(7,"mat-label"),Ci(8,"Scale"),Xt(),Ut(9,"mat-slider",8)(10,"input",9),Kn("valueChange",function(i){return Bi(t),gi(Mn().scaleChanged(i))}),Xt()()(),Ut(11,"div",5)(12,"mat-label"),Ci(13,"Compact"),Xt(),Ut(14,"mat-checkbox",10),Kn("ngModelChange",function(i){return Bi(t),gi(Mn().compacted=i)})("change",function(){return Bi(t),gi(Mn().toggleCompacted())}),Xt()(),Ut(15,"mat-form-field",11)(16,"mat-label"),Ci(17,"Layout"),Xt(),Ut(18,"mat-select",12),Kn("selectionChange",function(i){return Bi(t),gi(Mn().layoutChanged(i))}),Yn(19,UY,2,2,"mat-option",13),Xt()()()}if(2&n){const t=Mn();Kt(14),$t("ngModel",t.compacted),Kt(4),$t("value",t.selectedLayout),Kt(1),$t("ngForOf",t.layoutOptions)}}function $Y(n,e){if(1&n&&(Ut(0,"span",22),Ci(1),Xt()),2&n){const t=e.$implicit;$t("matTooltip",t.uri),Kt(1),Hs(t.prefixed)}}function WY(n,e){if(1&n&&(Ut(0,"div")(1,"span",16),Ci(2),Xt(),tr(3,"br"),Ut(4,"div",20),Yn(5,$Y,2,2,"span",21),Xt()()),2&n){const t=Mn(2);Kt(2),Hs(1===t.nodeData.classes.length?"Type":"Types"),Kt(3),$t("ngForOf",t.nodeData.classes)}}function YY(n,e){if(1&n&&(Ut(0,"div")(1,"span",16),Ci(2),Xt(),tr(3,"br"),Ut(4,"span"),Ci(5),Xt()()),2&n){const t=e.$implicit;Kt(2),Hs(t.label),Kt(3),Hs(t.value)}}function XY(n,e){if(1&n&&(Ut(0,"div",15)(1,"div")(2,"span",16),Ci(3,"Resource IRI"),Xt(),tr(4,"br"),Ut(5,"span",17),Ci(6),Xt()(),Yn(7,WY,6,2,"div",18),Yn(8,YY,6,2,"div",19),Xt()),2&n){const t=Mn();Kt(6),Hs(t.nodeData.id),Kt(1),$t("ngIf",t.nodeData.classes),Kt(1),$t("ngForOf",t.nodeData.properties)}}let KY=(()=>{class n{constructor(){this.settings=HE,this.isSmallScreen=!1,this.compacted=!0,this.layoutOptions=Object.values(Tg),this.selectedLayout=this.settings.graph.layout,this.keepOpen=!1}ngOnInit(){this.isSmallScreen=window.innerWidth<500}toggleCompacted(){const t={...this.settings};t.hideClassAssignmentTriples=this.compacted,t.hideDatatypePropertyTriples=this.compacted,t.showClassLabelOnInstance=this.compacted,this.settings=t}onContextMenuClick(t){console.log(t)}onNodeClick(t){this.keepOpen=!0}onCanvasClick(){this.keepOpen=!1,this.nodeData=void 0}onNodeHover(t){void 0!==t?this.nodeData={...t}:this.keepOpen||(this.nodeData=void 0)}edgeLengthChanged(t){const r={...this.settings};r.graph.idealEdgeLength=t,this.settings=r}scaleChanged(t){const r={...this.settings};r.graph.scale=t,this.settings=r}layoutChanged(t){const r={...this.settings};r.graph.layout=t.value,this.settings=r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ti({type:n,selectors:[["im-poc1-graph"]],inputs:{data:"data"},standalone:!0,features:[fh],decls:4,vars:4,consts:[[1,"container"],["class","options",4,"ngIf"],[3,"data","settings","clickedContextMenu","clickedNode","clickedCanvas","hoveringNode"],["class","drawer",4,"ngIf"],[1,"options"],[1,"option"],["min","100","max","1500","step","50",1,"slider"],["matSliderThumb","","value","500",3,"valueChange"],["min","50","max","1000","step","50",1,"slider"],["matSliderThumb","","value","100",3,"valueChange"],[3,"ngModel","ngModelChange","change"],[2,"min-width","200px","flex","30%"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"drawer"],[1,"header"],[1,"val"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"chip-container"],["class","chip",3,"matTooltip",4,"ngFor","ngForOf"],[1,"chip",3,"matTooltip"]],template:function(t,r){1&t&&(Ut(0,"div",0),Yn(1,GY,20,3,"div",1),Ut(2,"im-poc1-rdf-graph",2),Kn("clickedContextMenu",function(o){return r.onContextMenuClick(o)})("clickedNode",function(o){return r.onNodeClick(o)})("clickedCanvas",function(){return r.onCanvasClick()})("hoveringNode",function(o){return r.onNodeHover(o)}),Xt(),Yn(3,XY,9,3,"div",3),Xt()),2&t&&(Kt(1),$t("ngIf",!r.isSmallScreen),Kt(1),$t("data",r.data)("settings",r.settings),Kt(1),$t("ngIf",r.nodeData&&r.compacted))},dependencies:[Oa,_g,zu,C9,jY,G$,V$,lC,MW,kW,uC,A0,G7,U7,SO,nY,HP,YP,WP,k$,bR,nC],styles:[".container{position:relative;height:100%;overflow-y:hidden}.options{position:absolute;display:flex;flex-direction:row;justify-content:space-between;gap:10px;top:5px;left:20px;right:20px;z-index:10}.option{display:flex;flex-direction:column;text-align:center;flex:20%}.drawer{position:absolute;background-color:#fff3;top:100px;right:0;width:100px;bottom:100px;border-top-left-radius:10px;border-bottom-left-radius:10px;box-shadow:#00000029 0 1px 4px;padding:10px;font-size:.6em;display:flex;flex-direction:column;gap:15px}.header{font-weight:600;margin-bottom:5px}.val{overflow-wrap:break-word}.chip-container{margin-top:5px;display:flex;flex-direction:column;align-items:start;gap:10px}.chip{border-radius:5px;padding:2px;background-color:#eee;word-break:break-all;line-height:16px;box-shadow:#00000005 0 1px 3px,#1b1f2326 0 0 0 1px}\n"],encapsulation:2}),n})();class Lr{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),nc.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let r=[];return this.decompose(e,t,r,0),nc.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Wg(this),o=new Wg(e);for(let a=t,c=t;;){if(i.next(a),o.next(a),a=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(c+=i.value.length,i.done||c>=r)return!0}}iter(e=1){return new Wg(this,e)}iterRange(e,t=this.length){return new ZP(this,e,t)}iterLines(e,t){let r;if(null==e)r=this.iter();else{null==t&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new QP(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new Ui(e):nc.from(Ui.split(e,[])):Lr.empty}}class Ui extends Lr{constructor(e,t=function qY(n){let e=-1;for(let t of n)e+=t.length+1;return e}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let o=0;;o++){let a=this.text[o],c=i+a.length;if((t?r:c)>=e)return new ZY(i,c,r,a);i=c+1,r++}}decompose(e,t,r,i){let o=e<=0&&t>=this.length?this:new Ui(qP(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){let a=r.pop(),c=L0(o.text,a.text.slice(),0,o.length);if(c.length<=32)r.push(new Ui(c,a.length+o.length));else{let h=c.length>>1;r.push(new Ui(c.slice(0,h)),new Ui(c.slice(h)))}}else r.push(o)}replace(e,t,r){if(!(r instanceof Ui))return super.replace(e,t,r);let i=L0(this.text,L0(r.text,qP(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new Ui(i,o):nc.from(Ui.split(i,[]),o)}sliceString(e,t=this.length,r="\n"){let i="";for(let o=0,a=0;o<=t&&a<this.text.length;a++){let c=this.text[a],h=o+c.length;o>e&&a&&(i+=r),e<h&&t>o&&(i+=c.slice(Math.max(0,e-o),t-o)),o=h+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,32==r.length&&(t.push(new Ui(r,i)),r=[],i=-1);return i>-1&&t.push(new Ui(r,i)),t}}class nc extends Lr{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let o=0;;o++){let a=this.children[o],c=i+a.length,h=r+a.lines-1;if((t?h:c)>=e)return a.lineInner(e,t,r,i);i=c+1,r=h+1}}decompose(e,t,r,i){for(let o=0,a=0;a<=t&&o<this.children.length;o++){let c=this.children[o],h=a+c.length;if(e<=h&&t>=a){let g=i&((a<=e?1:0)|(h>=t?2:0));a>=e&&h<=t&&!g?r.push(c):c.decompose(e-a,t-a,r,g)}a=h+1}}replace(e,t,r){if(r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let a=this.children[i],c=o+a.length;if(e>=o&&t<=c){let h=a.replace(e-o,t-o,r),g=this.lines-a.lines+h.lines;if(h.lines<g>>4&&h.lines>g>>6){let y=this.children.slice();return y[i]=h,new nc(y,this.length-(t-e)+r.length)}return super.replace(o,c,h)}o=c+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r="\n"){let i="";for(let o=0,a=0;o<this.children.length&&a<=t;o++){let c=this.children[o],h=a+c.length;a>e&&o&&(i+=r),e<h&&t>a&&(i+=c.sliceString(e-a,t-a,r)),a=h+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof nc))return 0;let r=0,[i,o,a,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,o+=t){if(i==a||o==c)return r;let h=this.children[i],g=e.children[o];if(h!=g)return r+h.scanIdentical(g,t);r+=h.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let K of e)r+=K.lines;if(r<32){let K=[];for(let re of e)re.flatten(K);return new Ui(K,t)}let i=Math.max(32,r>>5),o=i<<1,a=i>>1,c=[],h=0,g=-1,y=[];function O(K){let re;if(K.lines>o&&K instanceof nc)for(let he of K.children)O(he);else K.lines>a&&(h>a||!h)?($(),c.push(K)):K instanceof Ui&&h&&(re=y[y.length-1])instanceof Ui&&K.lines+re.lines<=32?(h+=K.lines,g+=K.length+1,y[y.length-1]=new Ui(re.text.concat(K.text),re.length+1+K.length)):(h+K.lines>i&&$(),h+=K.lines,g+=K.length+1,y.push(K))}function $(){0!=h&&(c.push(1==y.length?y[0]:nc.from(y,g)),g=-1,h=y.length=0)}for(let K of e)O(K);return $(),1==c.length?c[0]:new nc(c,t)}}function L0(n,e,t=0,r=1e9){for(let i=0,o=0,a=!0;o<n.length&&i<=r;o++){let c=n[o],h=i+c.length;h>=t&&(h>r&&(c=c.slice(0,r-i)),i<t&&(c=c.slice(t-i)),a?(e[e.length-1]+=c,a=!1):e.push(c)),i=h+1}return e}function qP(n,e,t){return L0(n,[""],e,t)}Lr.empty=new Ui([""],0);class Wg{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ui?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],a=o>>1;if(a==(t>0?i instanceof Ui?i.text.length:i.children.length:0)){if(0==r)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(t>0?0:1)){if(this.offsets[r]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(i instanceof Ui){let h=i.text[a+(t<0?-1:0)];if(this.offsets[r]+=t,h.length>Math.max(0,e))return this.value=0==e?h:t>0?h.slice(e):h.slice(0,h.length-e),this;e-=h.length}else{let h=i.children[a+(t<0?-1:0)];e>h.length?(e-=h.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(h),this.offsets.push(t>0?1:(h instanceof Ui?h.text.length:h.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class ZP{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new Wg(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class QP{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Lr.prototype[Symbol.iterator]=function(){return this.iter()},Wg.prototype[Symbol.iterator]=ZP.prototype[Symbol.iterator]=QP.prototype[Symbol.iterator]=function(){return this});class ZY{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}let xp="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<xp.length;n++)xp[n]+=xp[n-1];function QY(n){for(let e=1;e<xp.length;e+=2)if(xp[e]>n)return xp[e-1]<=n;return!1}function JP(n){return n>=127462&&n<=127487}const eN=8205;function xs(n,e,t=!0,r=!0){return(t?tN:JY)(n,e,r)}function tN(n,e,t){if(e==n.length)return e;e&&nN(n.charCodeAt(e))&&rN(n.charCodeAt(e-1))&&e--;let r=jo(n,e);for(e+=Ra(r);e<n.length;){let i=jo(n,e);if(r==eN||i==eN||t&&QY(i))e+=Ra(i),r=i;else{if(!JP(i))break;{let o=0,a=e-2;for(;a>=0&&JP(jo(n,a));)o++,a-=2;if(o%2==0)break;e+=2}}}return e}function JY(n,e,t){for(;e>0;){let r=tN(n,e-2,t);if(r<e)return r;e--}return 0}function nN(n){return n>=56320&&n<57344}function rN(n){return n>=55296&&n<56320}function jo(n,e){let t=n.charCodeAt(e);if(!rN(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return nN(r)?r-56320+(t-55296<<10)+65536:t}function vC(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n)))}function Ra(n){return n<65536?1:2}const yC=/\r\n?|\n/;var ws=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(ws||(ws={}));class rc{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let o=this.sections[t++],a=this.sections[t++];a<0?(e(r,i,o),i+=o):i+=a,r+=o}}iterChangedRanges(e,t=!1){bC(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new rc(e)}composeDesc(e){return this.empty?e:e.empty?this:iN(this,e)}mapDesc(e,t=!1){return e.empty?this:_C(this,e,t)}mapPos(e,t=-1,r=ws.Simple){let i=0,o=0;for(let a=0;a<this.sections.length;){let c=this.sections[a++],h=this.sections[a++],g=i+c;if(h<0){if(g>e)return o+(e-i);o+=c}else{if(r!=ws.Simple&&g>=e&&(r==ws.TrackDel&&i<e&&g>e||r==ws.TrackBefore&&i<e||r==ws.TrackAfter&&g>e))return null;if(g>e||g==e&&t<0&&!c)return e==i||t<0?o:o+h;o+=h}i=g}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let c=i+this.sections[r++];if(this.sections[r++]>=0&&i<=t&&c>=e)return!(i<e&&c>t)||"cover";i=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>"number"!=typeof t))throw new RangeError("Invalid JSON representation of ChangeDesc");return new rc(e)}static create(e){return new rc(e)}}class mo extends rc{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return bC(this,(t,r,i,o,a)=>e=e.replace(i,i+(r-t),a),!1),e}mapDesc(e,t=!1){return _C(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,o=0;i<t.length;i+=2){let a=t[i],c=t[i+1];if(c>=0){t[i]=c,t[i+1]=a;let h=i>>1;for(;r.length<h;)r.push(Lr.empty);r.push(a?e.slice(o,o+a):Lr.empty)}o+=a}return new mo(t,r)}compose(e){return this.empty?e:e.empty?this:iN(this,e,!0)}map(e,t=!1){return e.empty?this:_C(this,e,t,!0)}iterChanges(e,t=!1){bC(this,e,t)}get desc(){return rc.create(this.sections)}filter(e){let t=[],r=[],i=[],o=new Yg(this);e:for(let a=0,c=0;;){let h=a==e.length?1e9:e[a++];for(;c<h||c==h&&0==o.len;){if(o.done)break e;let y=Math.min(o.len,h-c);ns(i,y,-1);let O=-1==o.ins?-1:0==o.off?o.ins:0;ns(t,y,O),O>0&&Zu(r,t,o.text),o.forward(y),c+=y}let g=e[a++];for(;c<g;){if(o.done)break e;let y=Math.min(o.len,g-c);ns(t,y,-1),ns(i,y,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(y),c+=y}}return{changes:new mo(t,r),filtered:rc.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];e.push(i<0?r:0==i?[r]:[r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],o=[],a=0,c=null;function h(y=!1){if(!y&&!i.length)return;a<t&&ns(i,t-a,-1);let O=new mo(i,o);c=c?c.compose(O.map(c)):O,i=[],o=[],a=0}return function g(y){if(Array.isArray(y))for(let O of y)g(O);else if(y instanceof mo){if(y.length!=t)throw new RangeError(`Mismatched change set length (got ${y.length}, expected ${t})`);h(),c=c?c.compose(y.map(c)):y}else{let{from:O,to:$=O,insert:K}=y;if(O>$||O<0||$>t)throw new RangeError(`Invalid change range ${O} to ${$} (in doc of length ${t})`);let re=K?"string"==typeof K?Lr.of(K.split(r||yC)):K:Lr.empty,he=re.length;if(O==$&&0==he)return;O<a&&h(),O>a&&ns(i,O-a,-1),ns(i,$-O,he),Zu(o,i,re),a=$}}(e),h(!c),c}static empty(e){return new mo(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some((a,c)=>c&&"string"!=typeof a))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;r.length<i;)r.push(Lr.empty);r[i]=Lr.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new mo(t,r)}static createSet(e,t){return new mo(e,t)}}function ns(n,e,t,r=!1){if(0==e&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:0==e&&0==n[i]?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function Zu(n,e,t){if(0==t.length)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Lr.empty);n.push(t)}}function bC(n,e,t){let r=n.inserted;for(let i=0,o=0,a=0;a<n.sections.length;){let c=n.sections[a++],h=n.sections[a++];if(h<0)i+=c,o+=c;else{let g=i,y=o,O=Lr.empty;for(;g+=c,y+=h,h&&r&&(O=O.append(r[a-2>>1])),!(t||a==n.sections.length||n.sections[a+1]<0);)c=n.sections[a++],h=n.sections[a++];e(i,g,o,y,O),i=g,o=y}}}function _C(n,e,t,r=!1){let i=[],o=r?[]:null,a=new Yg(n),c=new Yg(e);for(let h=-1;;)if(-1==a.ins&&-1==c.ins){let g=Math.min(a.len,c.len);ns(i,g,-1),a.forward(g),c.forward(g)}else if(c.ins>=0&&(a.ins<0||h==a.i||0==a.off&&(c.len<a.len||c.len==a.len&&!t))){let g=c.len;for(ns(i,c.ins,-1);g;){let y=Math.min(a.len,g);a.ins>=0&&h<a.i&&a.len<=y&&(ns(i,0,a.ins),o&&Zu(o,i,a.text),h=a.i),a.forward(y),g-=y}c.next()}else{if(!(a.ins>=0)){if(a.done&&c.done)return o?mo.createSet(i,o):rc.create(i);throw new Error("Mismatched change set lengths")}{let g=0,y=a.len;for(;y;)if(-1==c.ins){let O=Math.min(y,c.len);g+=O,y-=O,c.forward(O)}else{if(!(0==c.ins&&c.len<y))break;y-=c.len,c.next()}ns(i,g,h<a.i?a.ins:0),o&&h<a.i&&Zu(o,i,a.text),h=a.i,a.forward(a.len-y)}}}function iN(n,e,t=!1){let r=[],i=t?[]:null,o=new Yg(n),a=new Yg(e);for(let c=!1;;){if(o.done&&a.done)return i?mo.createSet(r,i):rc.create(r);if(0==o.ins)ns(r,o.len,0,c),o.next();else if(0!=a.len||a.done){if(o.done||a.done)throw new Error("Mismatched change set lengths");{let h=Math.min(o.len2,a.len),g=r.length;if(-1==o.ins){let y=-1==a.ins?-1:a.off?0:a.ins;ns(r,h,y,c),i&&y&&Zu(i,r,a.text)}else-1==a.ins?(ns(r,o.off?0:o.len,h,c),i&&Zu(i,r,o.textBit(h))):(ns(r,o.off?0:o.len,a.off?0:a.ins,c),i&&!a.off&&Zu(i,r,a.text));c=(o.ins>h||a.ins>=0&&a.len>h)&&(c||r.length>g),o.forward2(h),a.forward(h)}}else ns(r,0,a.ins,c),i&&Zu(i,r,a.text),a.next()}}class Yg{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Lr.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Lr.empty:t[r].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ch{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Ch(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return kt.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return kt.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return kt.range(e.anchor,e.head)}static create(e,t,r){return new Ch(e,t,r)}}class kt{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:kt.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new kt([this.main],0)}addRange(e,t=!0){return kt.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,kt.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new kt(e.ranges.map(t=>Ch.fromJSON(t)),e.main)}static single(e,t=e){return new kt([kt.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return kt.normalized(e.slice(),t);r=o.to}return new kt(e,t)}static cursor(e,t=0,r,i){return Ch.create(e,e,(0==t?0:t<0?4:8)|(null==r?3:Math.min(2,r))|(i??33554431)<<5)}static range(e,t,r,i){let o=(r??33554431)<<5|(null==i?3:Math.min(2,i));return t<e?Ch.create(t,e,24|o):Ch.create(e,t,(t>e?4:0)|o)}static normalized(e,t=0){let r=e[t];e.sort((i,o)=>i.from-o.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],a=e[i-1];if(o.empty?o.from<=a.to:o.from<a.to){let c=a.from,h=Math.max(o.to,a.to);i<=t&&t--,e.splice(--i,2,o.anchor>o.head?kt.range(h,c):kt.range(c,h))}}return new kt(e,t)}}function oN(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let xC=0;class hn{constructor(e,t,r,i,o){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=xC++,this.default=e([]),this.extensions="function"==typeof o?o(this):o}static define(e={}){return new hn(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:wC),!!e.static,e.enables)}of(e){return new B0([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new B0(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new B0(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function wC(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class B0{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=xC++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,o=this.id,a=e[o]>>1,c=2==this.type,h=!1,g=!1,y=[];for(let O of this.dependencies)"doc"==O?h=!0:"selection"==O?g=!0:1&(null!==(t=e[O.id])&&void 0!==t?t:1)||y.push(e[O.id]);return{create:O=>(O.values[a]=r(O),1),update(O,$){if(h&&$.docChanged||g&&($.docChanged||$.selection)||EC(O,y)){let K=r(O);if(c?!sN(K,O.values[a],i):!i(K,O.values[a]))return O.values[a]=K,1}return 0},reconfigure:(O,$)=>{let K,re=$.config.address[o];if(null!=re){let he=H0($,re);if(this.dependencies.every(xe=>xe instanceof hn?$.facet(xe)===O.facet(xe):!(xe instanceof no)||$.field(xe,!1)==O.field(xe,!1))||(c?sN(K=r(O),he,i):i(K=r(O),he)))return O.values[a]=he,0}else K=r(O);return O.values[a]=K,1}}}}function sN(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function EC(n,e){let t=!1;for(let r of e)1&Kg(n,r)&&(t=!0);return t}function eX(n,e,t){let r=t.map(h=>n[h.id]),i=t.map(h=>h.type),o=r.filter(h=>!(1&h)),a=n[e.id]>>1;function c(h){let g=[];for(let y=0;y<r.length;y++){let O=H0(h,r[y]);if(2==i[y])for(let $ of O)g.push($);else g.push(O)}return e.combine(g)}return{create(h){for(let g of r)Kg(h,g);return h.values[a]=c(h),1},update(h,g){if(!EC(h,o))return 0;let y=c(h);return e.compare(y,h.values[a])?0:(h.values[a]=y,1)},reconfigure(h,g){let y=EC(h,r),O=g.config.facets[e.id],$=g.facet(e);if(O&&!y&&wC(t,O))return h.values[a]=$,0;let K=c(h);return e.compare(K,$)?(h.values[a]=$,0):(h.values[a]=K,1)}}}const aN=hn.define({static:!0});class no{constructor(e,t,r,i,o){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let t=new no(xC++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){return(e.facet(aN).find(r=>r.field==this)?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let o=r.values[t],a=this.updateF(o,i);return this.compareF(o,a)?0:(r.values[t]=a,1)},reconfigure:(r,i)=>null!=i.config.address[this.id]?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}init(e){return[this,aN.of({field:this,create:e})]}get extension(){return this}}const Dh={lowest:4,low:3,default:2,high:1,highest:0};function Xg(n){return e=>new lN(e,n)}const Sh={highest:Xg(Dh.highest),high:Xg(Dh.high),default:Xg(Dh.default),low:Xg(Dh.low),lowest:Xg(Dh.lowest)};class lN{constructor(e,t){this.inner=e,this.prec=t}}class V0{of(e){return new CC(this,e)}reconfigure(e){return V0.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class CC{constructor(e,t){this.compartment=e,this.inner=t}}class z0{constructor(e,t,r,i,o,a){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],o=Object.create(null),a=new Map;for(let $ of function tX(n,e,t){let r=[[],[],[],[],[]],i=new Map;return function o(a,c){let h=i.get(a);if(null!=h){if(h<=c)return;let g=r[h].indexOf(a);g>-1&&r[h].splice(g,1),a instanceof CC&&t.delete(a.compartment)}if(i.set(a,c),Array.isArray(a))for(let g of a)o(g,c);else if(a instanceof CC){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let g=e.get(a.compartment)||a.inner;t.set(a.compartment,g),o(g,c)}else if(a instanceof lN)o(a.inner,a.prec);else if(a instanceof no)r[c].push(a),a.provides&&o(a.provides,c);else if(a instanceof B0)r[c].push(a),a.facet.extensions&&o(a.facet.extensions,Dh.default);else{let g=a.extension;if(!g)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(g,c)}}(n,Dh.default),r.reduce((a,c)=>a.concat(c))}(e,t,a))$ instanceof no?i.push($):(o[$.facet.id]||(o[$.facet.id]=[])).push($);let c=Object.create(null),h=[],g=[];for(let $ of i)c[$.id]=g.length<<1,g.push(K=>$.slot(K));let y=r?.config.facets;for(let $ in o){let K=o[$],re=K[0].facet,he=y&&y[$]||[];if(K.every(xe=>0==xe.type))if(c[re.id]=h.length<<1|1,wC(he,K))h.push(r.facet(re));else{let xe=re.combine(K.map(Pe=>Pe.value));h.push(r&&re.compare(xe,r.facet(re))?r.facet(re):xe)}else{for(let xe of K)0==xe.type?(c[xe.id]=h.length<<1|1,h.push(xe.value)):(c[xe.id]=g.length<<1,g.push(Pe=>xe.dynamicSlot(Pe)));c[re.id]=g.length<<1,g.push(xe=>eX(xe,re,K))}}let O=g.map($=>$(c));return new z0(e,a,O,c,h,o)}}function Kg(n,e){if(1&e)return 2;let t=e>>1,r=n.status[t];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function H0(n,e){return 1&e?n.config.staticValues[e>>1]:n.values[e>>1]}const cN=hn.define(),uN=hn.define({combine:n=>n.some(e=>e),static:!0}),dN=hn.define({combine:n=>n.length?n[0]:void 0,static:!0}),hN=hn.define(),fN=hn.define(),pN=hn.define(),mN=hn.define({combine:n=>!!n.length&&n[0]});class Zc{constructor(e,t){this.type=e,this.value=t}static define(){return new nX}}class nX{of(e){return new Zc(this,e)}}class rX{constructor(e){this.map=e}of(e){return new dr(this,e)}}let dr=(()=>{class n{constructor(t,r){this.type=t,this.value=r}map(t){let r=this.type.map(this.value,t);return void 0===r?void 0:r==this.value?this:new n(this.type,r)}is(t){return this.type==t}static define(t={}){return new rX(t.map||(r=>r))}static mapEffects(t,r){if(!t.length)return t;let i=[];for(let o of t){let a=o.map(r);a&&i.push(a)}return i}}return n.reconfigure=n.define(),n.appendConfig=n.define(),n})(),ic=(()=>{class n{constructor(t,r,i,o,a,c){this.startState=t,this.changes=r,this.selection=i,this.effects=o,this.annotations=a,this.scrollIntoView=c,this._doc=null,this._state=null,i&&oN(i,r.newLength),a.some(h=>h.type==n.time)||(this.annotations=a.concat(n.time.of(Date.now())))}static create(t,r,i,o,a,c){return new n(t,r,i,o,a,c)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let r of this.annotations)if(r.type==t)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let r=this.annotation(n.userEvent);return!(!r||!(r==t||r.length>t.length&&r.slice(0,t.length)==t&&"."==r[t.length]))}}return n.time=Zc.define(),n.userEvent=Zc.define(),n.addToHistory=Zc.define(),n.remote=Zc.define(),n})();function iX(n,e){let t=[];for(let r=0,i=0;;){let o,a;if(r<n.length&&(i==e.length||e[i]>=n[r]))o=n[r++],a=n[r++];else{if(!(i<e.length))return t;o=e[i++],a=e[i++]}!t.length||t[t.length-1]<o?t.push(o,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function gN(n,e,t){var r;let i,o,a;return t?(i=e.changes,o=mo.empty(e.changes.length),a=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),a=n.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(o):null===(r=n.selection)||void 0===r?void 0:r.map(i),effects:dr.mapEffects(n.effects,i).concat(dr.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function DC(n,e,t){let r=e.selection,i=wp(e.annotations);return e.userEvent&&(i=i.concat(ic.userEvent.of(e.userEvent))),{changes:e.changes instanceof mo?e.changes:mo.of(e.changes||[],t,n.facet(dN)),selection:r&&(r instanceof kt?r:kt.single(r.anchor,r.head)),effects:wp(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function vN(n,e,t){let r=DC(n,e.length?e[0]:{},n.doc.length);e.length&&!1===e[0].filter&&(t=!1);for(let o=1;o<e.length;o++){!1===e[o].filter&&(t=!1);let a=!!e[o].sequential;r=gN(r,DC(n,e[o],a?r.changes.newLength:n.doc.length),a)}let i=ic.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function sX(n){let e=n.startState,t=e.facet(pN),r=n;for(let i=t.length-1;i>=0;i--){let o=t[i](n);o&&Object.keys(o).length&&(r=gN(r,DC(e,o,n.changes.newLength),!0))}return r==n?n:ic.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}(t?function oX(n){let e=n.startState,t=!0;for(let i of e.facet(hN)){let o=i(n);if(!1===o){t=!1;break}Array.isArray(o)&&(t=!0===t?o:iX(t,o))}if(!0!==t){let i,o;if(!1===t)o=n.changes.invertedDesc,i=mo.empty(e.doc.length);else{let a=n.changes.filter(t);i=a.changes,o=a.filtered.mapDesc(a.changes).invertedDesc}n=ic.create(e,i,n.selection&&n.selection.map(o),dr.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let r=e.facet(fN);for(let i=r.length-1;i>=0;i--){let o=r[i](n);n=o instanceof ic?o:Array.isArray(o)&&1==o.length&&o[0]instanceof ic?o[0]:vN(e,wp(o),!1)}return n}(i):i)}const aX=[];function wp(n){return null==n?aX:Array.isArray(n)?n:[n]}var yi=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(yi||(yi={}));const lX=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let SC;try{SC=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}let Es=(()=>{class n{constructor(t,r,i,o,a,c){this.config=t,this.doc=r,this.selection=i,this.values=o,this.status=t.statusTemplate.slice(),this.computeSlot=a,c&&(c._state=this);for(let h=0;h<this.config.dynamicSlots.length;h++)Kg(this,h<<1);this.computeSlot=null}field(t,r=!0){let i=this.config.address[t.id];if(null!=i)return Kg(this,i),H0(this,i);if(r)throw new RangeError("Field is not present in this state")}update(...t){return vN(this,t,!0)}applyTransaction(t){let a,r=this.config,{base:i,compartments:o}=r;for(let c of t.effects)c.is(V0.reconfigure)?(r&&(o=new Map,r.compartments.forEach((h,g)=>o.set(g,h)),r=null),o.set(c.value.compartment,c.value.extension)):c.is(dr.reconfigure)?(r=null,i=c.value):c.is(dr.appendConfig)&&(r=null,i=wp(i).concat(c.value));r?a=t.startState.values.slice():(r=z0.resolve(i,o,this),a=new n(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(h,g)=>g.reconfigure(h,this),null).values),new n(r,t.newDoc,t.newSelection,a,(c,h)=>h.update(c,t),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:t},range:kt.cursor(r.from+t.length)}))}changeByRange(t){let r=this.selection,i=t(r.ranges[0]),o=this.changes(i.changes),a=[i.range],c=wp(i.effects);for(let h=1;h<r.ranges.length;h++){let g=t(r.ranges[h]),y=this.changes(g.changes),O=y.map(o);for(let K=0;K<h;K++)a[K]=a[K].map(O);let $=o.mapDesc(y,!0);a.push(g.range.map($)),o=o.compose(O),c=dr.mapEffects(c,O).concat(dr.mapEffects(wp(g.effects),$))}return{changes:o,selection:kt.create(a,r.mainIndex),effects:c}}changes(t=[]){return t instanceof mo?t:mo.of(t,this.doc.length,this.facet(n.lineSeparator))}toText(t){return Lr.of(t.split(this.facet(n.lineSeparator)||yC))}sliceDoc(t=0,r=this.doc.length){return this.doc.sliceString(t,r,this.lineBreak)}facet(t){let r=this.config.address[t.id];return null==r?t.default:(Kg(this,r),H0(this,r))}toJSON(t){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let o=t[i];o instanceof no&&null!=this.config.address[o.id]&&(r[i]=o.spec.toJSON(this.field(t[i]),this))}return r}static fromJSON(t,r={},i){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let o=[];if(i)for(let a in i)if(Object.prototype.hasOwnProperty.call(t,a)){let c=i[a],h=t[a];o.push(c.init(g=>c.spec.fromJSON(h,g)))}return n.create({doc:t.doc,selection:kt.fromJSON(t.selection),extensions:r.extensions?o.concat([r.extensions]):o})}static create(t={}){let r=z0.resolve(t.extensions||[],new Map),i=t.doc instanceof Lr?t.doc:Lr.of((t.doc||"").split(r.staticFacet(n.lineSeparator)||yC)),o=t.selection?t.selection instanceof kt?t.selection:kt.single(t.selection.anchor,t.selection.head):kt.single(0);return oN(o,i.length),r.staticFacet(uN)||(o=o.asSingle()),new n(r,i,o,r.dynamicSlots.map(()=>null),(a,c)=>c.create(a),null)}get tabSize(){return this.facet(n.tabSize)}get lineBreak(){return this.facet(n.lineSeparator)||"\n"}get readOnly(){return this.facet(mN)}phrase(t,...r){for(let i of this.facet(n.phrases))if(Object.prototype.hasOwnProperty.call(i,t)){t=i[t];break}return r.length&&(t=t.replace(/\$(\$|\d*)/g,(i,o)=>{if("$"==o)return"$";let a=+(o||1);return!a||a>r.length?i:r[a-1]})),t}languageDataAt(t,r,i=-1){let o=[];for(let a of this.facet(cN))for(let c of a(this,r,i))Object.prototype.hasOwnProperty.call(c,t)&&o.push(c[t]);return o}charCategorizer(t){return function uX(n){return e=>{if(!/\S/.test(e))return yi.Space;if(function cX(n){if(SC)return SC.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||lX.test(t)))return!0}return!1}(e))return yi.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return yi.Word;return yi.Other}}(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:r,from:i,length:o}=this.doc.lineAt(t),a=this.charCategorizer(t),c=t-i,h=t-i;for(;c>0;){let g=xs(r,c,!1);if(a(r.slice(g,c))!=yi.Word)break;c=g}for(;h<o;){let g=xs(r,h);if(a(r.slice(h,g))!=yi.Word)break;h=g}return c==h?null:kt.range(c+i,h+i)}}return n.allowMultipleSelections=uN,n.tabSize=hn.define({combine:e=>e.length?e[0]:4}),n.lineSeparator=dN,n.readOnly=mN,n.phrases=hn.define({compare(e,t){let r=Object.keys(e),i=Object.keys(t);return r.length==i.length&&r.every(o=>e[o]==t[o])}}),n.languageData=cN,n.changeFilter=hN,n.transactionFilter=fN,n.transactionExtender=pN,n})();function vl(n,e,t={}){let r={};for(let i of n)for(let o of Object.keys(i)){let a=i[o],c=r[o];if(void 0===c)r[o]=a;else if(c!==a&&void 0!==a){if(!Object.hasOwnProperty.call(t,o))throw new Error("Config merge conflict for field "+o);r[o]=t[o](c,a)}}for(let i in e)void 0===r[i]&&(r[i]=e[i]);return r}V0.reconfigure=dr.define();class kh{eq(e){return this==e}range(e,t=e){return qg.create(e,t,this)}}kh.prototype.startSide=kh.prototype.endSide=0,kh.prototype.point=!1,kh.prototype.mapMode=ws.TrackDel;class qg{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new qg(e,t,r)}}function kC(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class MC{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let o=r?this.to:this.from;for(let a=i,c=o.length;;){if(a==c)return a;let h=a+c>>1,g=o[h]-e||(r?this.value[h].endSide:this.value[h].startSide)-t;if(h==a)return g>=0?a:c;g>=0?c=h:a=h+1}}between(e,t,r,i){for(let o=this.findIndex(t,-1e9,!0),a=this.findIndex(r,1e9,!1,o);o<a;o++)if(!1===i(this.from[o]+e,this.to[o]+e,this.value[o]))return!1}map(e,t){let r=[],i=[],o=[],a=-1,c=-1;for(let h=0;h<this.value.length;h++){let $,K,g=this.value[h],y=this.from[h]+e,O=this.to[h]+e;if(y==O){let re=t.mapPos(y,g.startSide,g.mapMode);if(null==re||($=K=re,g.startSide!=g.endSide&&(K=t.mapPos(y,g.endSide),K<$)))continue}else if($=t.mapPos(y,g.startSide),K=t.mapPos(O,g.endSide),$>K||$==K&&g.startSide>0&&g.endSide<=0)continue;(K-$||g.endSide-g.startSide)<0||(a<0&&(a=$),g.point&&(c=Math.max(c,K-$)),r.push(g),i.push($-a),o.push(K-a))}return{mapped:r.length?new MC(i,o,r,c):null,pos:a}}}let ki=(()=>{class n{constructor(t,r,i,o){this.chunkPos=t,this.chunk=r,this.nextLayer=i,this.maxPoint=o}static create(t,r,i,o){return new n(t,r,i,o)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let r of this.chunk)t+=r.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:r=[],sort:i=!1,filterFrom:o=0,filterTo:a=this.length}=t,c=t.filter;if(0==r.length&&!c)return this;if(i&&(r=r.slice().sort(kC)),this.isEmpty)return r.length?n.of(r):this;let h=new bN(this,null,-1).goto(0),g=0,y=[],O=new Qu;for(;h.value||g<r.length;)if(g<r.length&&(h.from-r[g].from||h.startSide-r[g].value.startSide)>=0){let $=r[g++];O.addInner($.from,$.to,$.value)||y.push($)}else 1==h.rangeIndex&&h.chunkIndex<this.chunk.length&&(g==r.length||this.chunkEnd(h.chunkIndex)<r[g].from)&&(!c||o>this.chunkEnd(h.chunkIndex)||a<this.chunkPos[h.chunkIndex])&&O.addChunk(this.chunkPos[h.chunkIndex],this.chunk[h.chunkIndex])?h.nextChunk():((!c||o>h.to||a<h.from||c(h.from,h.to,h.value))&&(O.addInner(h.from,h.to,h.value)||y.push(qg.create(h.from,h.to,h.value))),h.next());return O.finishInner(this.nextLayer.isEmpty&&!y.length?n.empty:this.nextLayer.update({add:y,filter:c,filterFrom:o,filterTo:a}))}map(t){if(t.empty||this.isEmpty)return this;let r=[],i=[],o=-1;for(let c=0;c<this.chunk.length;c++){let h=this.chunkPos[c],g=this.chunk[c],y=t.touchesRange(h,h+g.length);if(!1===y)o=Math.max(o,g.maxPoint),r.push(g),i.push(t.mapPos(h));else if(!0===y){let{mapped:O,pos:$}=g.map(h,t);O&&(o=Math.max(o,O.maxPoint),r.push(O),i.push($))}}let a=this.nextLayer.map(t);return 0==r.length?a:new n(i,r,a||n.empty,o)}between(t,r,i){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],c=this.chunk[o];if(r>=a&&t<=a+c.length&&!1===c.between(a,t-a,r-a,i))return}this.nextLayer.between(t,r,i)}}iter(t=0){return Zg.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,r=0){return Zg.from(t).goto(r)}static compare(t,r,i,o,a=-1){let c=t.filter($=>$.maxPoint>0||!$.isEmpty&&$.maxPoint>=a),h=r.filter($=>$.maxPoint>0||!$.isEmpty&&$.maxPoint>=a),g=yN(c,h,i),y=new Qg(c,g,a),O=new Qg(h,g,a);i.iterGaps(($,K,re)=>_N(y,$,O,K,re,o)),i.empty&&0==i.length&&_N(y,0,O,0,0,o)}static eq(t,r,i=0,o){null==o&&(o=999999999);let a=t.filter(O=>!O.isEmpty&&r.indexOf(O)<0),c=r.filter(O=>!O.isEmpty&&t.indexOf(O)<0);if(a.length!=c.length)return!1;if(!a.length)return!0;let h=yN(a,c),g=new Qg(a,h,0).goto(i),y=new Qg(c,h,0).goto(i);for(;;){if(g.to!=y.to||!AC(g.active,y.active)||g.point&&(!y.point||!g.point.eq(y.point)))return!1;if(g.to>o)return!0;g.next(),y.next()}}static spans(t,r,i,o,a=-1){let c=new Qg(t,null,a).goto(r),h=r,g=c.openStart;for(;;){let y=Math.min(c.to,i);if(c.point){let O=c.activeForPoint(c.to),$=c.pointFrom<r?O.length+1:Math.min(O.length,g);o.point(h,y,c.point,O,$,c.pointRank),g=Math.min(c.openEnd(y),O.length)}else y>h&&(o.span(h,y,c.active,g),g=c.openEnd(y));if(c.to>i)return g+(c.point&&c.to>i?1:0);h=c.to,c.next()}}static of(t,r=!1){let i=new Qu;for(let o of t instanceof qg?[t]:r?function dX(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(kC(e,r)>0)return n.slice().sort(kC);e=r}return n}(t):t)i.add(o.from,o.to,o.value);return i.finish()}}return n.empty=new n([],[],null,-1),n})();ki.empty.nextLayer=ki.empty;class Qu{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new MC(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Qu)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),0))}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(ki.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=ki.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function yN(n,e,t){let r=new Map;for(let o of n)for(let a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&r.set(o.chunk[a],o.chunkPos[a]);let i=new Set;for(let o of e)for(let a=0;a<o.chunk.length;a++){let c=r.get(o.chunk[a]);null!=c&&(t?t.mapPos(c):c)==o.chunkPos[a]&&!t?.touchesRange(c,c+o.chunk[a].length)&&i.add(o.chunk[a])}return i}class bN{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex];if(this.from=e+t.from[this.rangeIndex],this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Zg{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let a=e[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new bN(a,t,r,o));return 1==i.length?i[0]:new Zg(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)TC(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)TC(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),TC(this.heap,0)}}}function TC(n,e){for(let t=n[e];;){let r=1+(e<<1);if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class Qg{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Zg.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){j0(this.active,e),j0(this.activeTo,e),j0(this.activeRank,e),this.minActive=xN(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:o}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=o;)t++;U0(this.active,t,r),U0(this.activeTo,t,i),U0(this.activeRank,t,o),e&&U0(e,t,this.cursor.from),this.minActive=xN(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&j0(r,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let o=this.cursor.value;if(o.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function _N(n,e,t,r,i,o){n.goto(e),t.goto(r);let a=r+i,c=r,h=r-e;for(;;){let g=n.to+h-t.to||n.endSide-t.endSide,y=g<0?n.to+h:t.to,O=Math.min(y,a);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&AC(n.activeForPoint(n.to+h),t.activeForPoint(t.to))||o.comparePoint(c,O,n.point,t.point):O>c&&!AC(n.active,t.active)&&o.compareRange(c,O,n.active,t.active),y>a)break;c=y,g<=0&&n.next(),g>=0&&t.next()}}function AC(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function j0(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function U0(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function xN(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Jg(n,e,t=n.length){let r=0;for(let i=0;i<t;)9==n.charCodeAt(i)?(r+=e-r%e,i++):(r++,i=xs(n,i));return r}function IC(n,e,t,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==n.length)break;o+=9==n.charCodeAt(i)?t-o%t:1,i=xs(n,i)}return!0===r?-1:n.length}const wN=typeof Symbol>"u"?"__\u037c":Symbol.for("\u037c"),RC=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),EN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ju{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,c,h,g){let y=[],O=/^@(\w+)\b/.exec(a[0]),$=O&&"keyframes"==O[1];if(O&&null==c)return h.push(a[0]+";");for(let K in c){let re=c[K];if(/&/.test(K))o(K.split(/,\s*/).map(he=>a.map(xe=>he.replace(/&/,xe))).reduce((he,xe)=>he.concat(xe)),re,h);else if(re&&"object"==typeof re){if(!O)throw new RangeError("The value of a property ("+K+") should be a primitive value.");o(i(K),re,y,$)}else null!=re&&y.push(K.replace(/_.*/,"").replace(/[A-Z]/g,he=>"-"+he.toLowerCase())+": "+re+";")}(y.length||$)&&h.push((!r||O||g?a:a.map(r)).join(", ")+" {"+y.join(" ")+"}")}for(let a in e)o(i(a),e[a],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=EN[wN]||1;return EN[wN]=e+1,"\u037c"+e.toString(36)}static mount(e,t){(e[RC]||new hX(e)).mount(Array.isArray(t)?t:[t])}}let G0=null;class hX{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(G0)return e.adoptedStyleSheets=[G0.sheet,...e.adoptedStyleSheets],e[RC]=G0;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],G0=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[RC]=this}mount(e){let t=this.sheet,r=0,i=0;for(let o=0;o<e.length;o++){let a=e[o],c=this.modules.indexOf(a);if(c<i&&c>-1&&(this.modules.splice(c,1),i--,c=-1),-1==c){if(this.modules.splice(i++,0,a),t)for(let h=0;h<a.rules.length;h++)t.insertRule(a.rules[h],r++)}else{for(;i<c;)r+=this.modules[i++].rules.length;r+=a.rules.length,i++}}if(!t){let o="";for(let a=0;a<this.modules.length;a++)o+=this.modules[a].getRules()+"\n";this.styleTag.textContent=o}}}for(var ed={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ev={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},CN=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),fX=(typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent),typeof navigator<"u"&&/Mac/.test(navigator.platform)),pX=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),mX=fX||CN&&+CN[1]<57,Uo=0;Uo<10;Uo++)ed[48+Uo]=ed[96+Uo]=String(Uo);for(Uo=1;Uo<=24;Uo++)ed[Uo+111]="F"+Uo;for(Uo=65;Uo<=90;Uo++)ed[Uo]=String.fromCharCode(Uo+32),ev[Uo]=String.fromCharCode(Uo);for(var PC in ed)ev.hasOwnProperty(PC)||(ev[PC]=ed[PC]);function $0(n){let e;return e=11==n.nodeType?n.getSelection?n:n.ownerDocument:n,e.getSelection()}function Ep(n,e){return!!e&&(n==e||n.contains(1!=e.nodeType?e.parentNode:e))}function W0(n,e){if(!e.anchorNode)return!1;try{return Ep(n,e.anchorNode)}catch{return!1}}function tv(n){return 3==n.nodeType?Dp(n,0,n.nodeValue.length).getClientRects():1==n.nodeType?n.getClientRects():[]}function Y0(n,e,t,r){return!!t&&(DN(n,e,t,r,-1)||DN(n,e,t,r,1))}function X0(n){for(var e=0;;e++)if(!(n=n.previousSibling))return e}function DN(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:nv(n))){if("DIV"==n.nodeName)return!1;let o=n.parentNode;if(!o||1!=o.nodeType)return!1;e=X0(n)+(i<0?0:1),n=o}else{if(1!=n.nodeType)return!1;if(1==(n=n.childNodes[e+(i<0?-1:0)]).nodeType&&"false"==n.contentEditable)return!1;e=i<0?nv(n):0}}}function nv(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}const SN={left:0,right:0,top:0,bottom:0};function NC(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function yX(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}class xX{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let MN,Cp=null;function kN(n){if(n.setActive)return n.setActive();if(Cp)return n.focus(Cp);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(null==Cp?{get preventScroll(){return Cp={preventScroll:!0},!0}}:void 0),!Cp){Cp=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],o=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}function Dp(n,e,t=e){let r=MN||(MN=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function Sp(n,e,t){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,n.dispatchEvent(i);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,n.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function TN(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}class Go{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Go(e.parentNode,X0(e),t)}static after(e,t){return new Go(e.parentNode,X0(e)+1,t)}}const FC=[];class di{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e,t){if(2&this.dirty){let o,r=this.dom,i=null;for(let a of this.children){if(a.dirty){if(!a.dom&&(o=i?i.nextSibling:r.firstChild)){let c=di.get(o);(!c||!c.parent&&c.canReuseDOM(a))&&a.reuseDOM(o)}a.sync(e,t),a.dirty=0}if(o=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&o!=a.dom&&(t.written=!0),a.dom.parentNode==r)for(;o&&o!=a.dom;)o=AN(o);else r.insertBefore(a.dom,o);i=a.dom}for(o=i?i.nextSibling:r.firstChild,o&&t&&t.node==r&&(t.written=!0);o;)o=AN(o)}else if(1&this.dirty)for(let r of this.children)r.dirty&&(r.sync(e,t),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=0==nv(e)?0:0==t?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;0==i&&o.firstChild!=o.lastChild&&(i=e==o.firstChild?-1:1),e=o}r=i<0?e:e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!di.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let a=this.children[i];if(a.dom==r)return o;o+=a.length+a.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,o=-1,a=-1,c=-1;for(let h=0,g=r,y=r;h<this.children.length;h++){let O=this.children[h],$=g+O.length;if(g<e&&$>t)return O.domBoundsAround(e,t,g);if($>=e&&-1==i&&(i=h,o=g),g>t&&O.dom.parentNode==this.dom){a=h,c=y;break}y=$,g=$+O.breakAfter}return{from:o,to:c<0?r+this.length:c,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=FC){this.markDirty();for(let i=e;i<t;i++){let o=this.children[i];o.parent==this&&o.destroy()}this.children.splice(e,t-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new IN(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,o,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}function AN(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}di.prototype.breakAfter=0;class IN{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function ON(n,e,t,r,i,o,a,c,h){let{children:g}=n,y=g.length?g[e]:null,O=o.length?o[o.length-1]:null,$=O?O.breakAfter:a;if(!(e==r&&y&&!a&&!$&&o.length<2&&y.merge(t,i,o.length?O:null,0==t,c,h))){if(r<g.length){let K=g[r];K&&i<K.length?(e==r&&(K=K.split(i),i=0),!$&&O&&K.merge(0,i,O,!0,0,h)?o[o.length-1]=K:(i&&K.merge(0,i,null,!1,0,h),o.push(K))):K?.breakAfter&&(O?O.breakAfter=1:a=1),r++}for(y&&(y.breakAfter=a,t>0&&(!a&&o.length&&y.merge(t,y.length,o[0],!1,c,0)?y.breakAfter=o.shift().breakAfter:(t<y.length||y.children.length&&0==y.children[y.children.length-1].length)&&y.merge(t,y.length,null,!1,c,0),e++));e<r&&o.length;)if(g[r-1].become(o[o.length-1]))r--,o.pop(),h=o.length?0:c;else{if(!g[e].become(o[0]))break;e++,o.shift(),c=o.length?0:h}!o.length&&e&&r<g.length&&!g[e-1].breakAfter&&g[r].merge(0,0,g[e-1],!1,c,h)&&e--,(e<r||o.length)&&n.replaceChildren(e,r,o)}}function RN(n,e,t,r,i,o){let a=n.childCursor(),{i:c,off:h}=a.findPos(t,1),{i:g,off:y}=a.findPos(e,-1),O=e-t;for(let $ of r)O+=$.length;n.length+=O,ON(n,g,y,c,h,r,0,i,o)}let ua=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},LC=typeof document<"u"?document:{documentElement:{style:{}}};const BC=/Edge\/(\d+)/.exec(ua.userAgent),PN=/MSIE \d/.test(ua.userAgent),VC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ua.userAgent),K0=!!(PN||VC||BC),NN=!K0&&/gecko\/(\d+)/i.test(ua.userAgent),zC=!K0&&/Chrome\/(\d+)/.exec(ua.userAgent),FN="webkitFontSmoothing"in LC.documentElement.style,LN=!K0&&/Apple Computer/.test(ua.vendor),BN=LN&&(/Mobile\/\w+/.test(ua.userAgent)||ua.maxTouchPoints>2);var pn={mac:BN||/Mac/.test(ua.platform),windows:/Win/.test(ua.platform),linux:/Linux|X11/.test(ua.platform),ie:K0,ie_version:PN?LC.documentMode||6:VC?+VC[1]:BC?+BC[1]:0,gecko:NN,gecko_version:NN?+(/Firefox\/(\d+)/.exec(ua.userAgent)||[0,0])[1]:0,chrome:!!zC,chrome_version:zC?+zC[1]:0,ios:BN,android:/Android\b/.test(ua.userAgent),webkit:FN,safari:LN,webkit_version:FN?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=LC.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class td extends di{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,r){return(!r||r instanceof td&&!(this.length-(t-e)+r.length>256))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new td(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Go(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return HC(this.dom,e,t)}}class oc extends di{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(TN(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,o,a){return!(r&&(!(r instanceof oc&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&a<=0)||(RN(this,e,t,r?r.children:[],o-1,a-1),this.markDirty(),0))}split(e){let t=[],r=0,i=-1,o=0;for(let c of this.children){let h=r+c.length;h>e&&t.push(r<e?c.split(e-r):c),i<0&&r>=e&&(i=o),r=h,o++}let a=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new oc(this.mark,t,a)}domAtPos(e){return HN(this,e)}coordsAt(e,t){return UN(this,e,t)}}function HC(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,o=e,a=0;0==e&&t<0||e==r&&t>=0?pn.chrome||pn.gecko||(e?(i--,a=1):o<r&&(o++,a=-1)):t<0?i--:o<r&&o++;let c=Dp(n,i,o).getClientRects();if(!c.length)return SN;let h=c[(a?a<0:t>=0)?0:c.length-1];return pn.safari&&!a&&0==h.width&&(h=Array.prototype.find.call(c,g=>g.width)||h),a?NC(h,a<0):h||null}class nd extends di{constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}static create(e,t,r){return new(e.customView||nd)(e,t,r)}split(e){let t=nd.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,r,i,o,a){return!(r&&(!(r instanceof nd&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&a<=0)||(this.length=e+(r?r.length:0)+(this.length-t),0))}become(e){return e.length==this.length&&e instanceof nd&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return Lr.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Lr.empty}domAtPos(e){return(this.length?0==e:this.side>0)?Go.before(this.dom):Go.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.dom.getClientRects(),i=null;if(!r.length)return SN;for(let o=e>0?r.length-1:0;i=r[o],!(e>0?0==o:o==r.length-1||i.top<i.bottom);o+=e>0?-1:1);return this.length?i:NC(i,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class VN extends nd{domAtPos(e){let{topView:t,text:r}=this.widget;return t?jC(e,0,t,r,(i,o)=>i.domAtPos(o),i=>new Go(r,Math.min(i,r.nodeValue.length))):new Go(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:r,text:i}=this.widget;return r?zN(e,t,r,i):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:r,text:i}=this.widget;return r?jC(e,t,r,i,(o,a,c)=>o.coordsAt(a,c),(o,a)=>HC(i,o,a)):HC(i,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function jC(n,e,t,r,i,o){if(t instanceof oc){for(let a=t.dom.firstChild;a;a=a.nextSibling){let c=di.get(a);if(!c)return o(n,e);let h=Ep(a,r),g=c.length+(h?r.nodeValue.length:0);if(n<g||n==g&&c.getSide()<=0)return h?jC(n,e,c,r,i,o):i(c,n,e);n-=g}return i(t,t.length,-1)}return t.dom==r?o(n,e):i(t,n,e)}function zN(n,e,t,r){if(t instanceof oc){let i=0;for(let o of t.children){let a=Ep(o.dom,r);if(Ep(o.dom,n))return i+(a?zN(n,e,o,r):o.localPosFromDOM(n,e));i+=a?r.nodeValue.length:o.length}}else if(t.dom==r)return Math.min(e,r.nodeValue.length);return t.localPosFromDOM(n,e)}class Mh extends di{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Mh&&e.side==this.side}split(){return new Mh(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Go.before(this.dom):Go.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),r=function DX(n,e){let t=n.parent,r=t?t.children.indexOf(n):-1;for(;t&&r>=0;)if(e<0?r>0:r<t.children.length){let i=t.children[r+e];if(i instanceof td){let o=i.coordsAt(e<0?i.length:0,e);if(o)return o}r+=e}else{if(!(t instanceof oc&&t.parent)){let i=t.dom.lastChild;if(i&&"BR"==i.nodeName)return i.getClientRects()[0];break}r=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent}}(this,this.side>0?-1:1);return r&&r.top<t.bottom&&r.bottom>t.top?{left:t.left,right:t.right,top:r.top,bottom:r.bottom}:t}get overrideDOMText(){return Lr.empty}get isHidden(){return!0}}function HN(n,e){let t=n.dom,{children:r}=n,i=0;for(let o=0;i<r.length;i++){let a=r[i],c=o+a.length;if(!(c==o&&a.getSide()<=0)){if(e>o&&e<c&&a.dom.parentNode==t)return a.domAtPos(e-o);if(e<=o)break;o=c}}for(let o=i;o>0;o--){let a=r[o-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let o=i;o<r.length;o++){let a=r[o];if(a.dom.parentNode==t)return a.domAtPos(0)}return new Go(t,0)}function jN(n,e,t){let r,{children:i}=n;t>0&&e instanceof oc&&i.length&&(r=i[i.length-1])instanceof oc&&r.mark.eq(e.mark)?jN(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function UN(n,e,t){let r=null,i=-1,o=null,a=-1;!function c(g,y){for(let O=0,$=0;O<g.children.length&&$<=y;O++){let K=g.children[O],re=$+K.length;re>=y&&(K.children.length?c(K,y-$):(!o||o instanceof Mh&&t>0)&&(re>y||$==re&&K.getSide()>0)?(o=K,a=y-$):($<y||$==re&&K.getSide()<0)&&(r=K,i=y-$)),$=re}}(n,e);let h=(t<0?r:o)||r||o;return h?h.coordsAt(Math.max(0,h==r?i:a),t):function SX(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=tv(e);return t[t.length-1]||null}(n)}function UC(n,e){for(let t in n)"class"==t&&e.class?e.class+=" "+n.class:"style"==t&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function GC(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i of t)if(-1==r.indexOf(i)||n[i]!==e[i])return!1;return!0}function $C(n,e,t){let r=null;if(e)for(let i in e)t&&i in t||n.removeAttribute(r=i);if(t)for(let i in t)e&&e[i]==t[i]||n.setAttribute(r=i,t[i]);return!!r}td.prototype.children=nd.prototype.children=Mh.prototype.children=FC;class Qc{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}get isHidden(){return!1}destroy(e){}}var ei=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(ei||(ei={}));class mn extends kh{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new q0(e)}static widget(e){let t=e.side||0,r=!!e.block;return t+=r?t>0?3e8:-4e8:t>0?1e8:-1e8,new Th(e,t,t,r,e.widget||null,!1)}static replace(e){let r,i,t=!!e.block;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:a}=GN(e,t);r=(o?t?-3e8:-1:5e8)-1,i=1+(a?t?2e8:1:-6e8)}return new Th(e,r,i,t,e.widget||null,!0)}static line(e){return new rv(e)}static set(e,t=!1){return ki.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}mn.none=ki.empty;class q0 extends mn{constructor(e){let{start:t,end:r}=GN(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof q0&&this.tagName==e.tagName&&this.class==e.class&&GC(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}q0.prototype.point=!1;class rv extends mn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof rv&&this.spec.class==e.spec.class&&GC(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}rv.prototype.mapMode=ws.TrackBefore,rv.prototype.point=!0;class Th extends mn{constructor(e,t,r,i,o,a){super(t,r,o,e),this.block=i,this.isReplace=a,this.mapMode=i?t<=0?ws.TrackBefore:ws.TrackAfter:ws.TrackDel}get type(){return this.startSide<this.endSide?ei.WidgetRange:this.startSide<=0?ei.WidgetBefore:ei.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Th&&function kX(n,e){return n==e||!!(n&&e&&n.compare(e))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function GN(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return null==t&&(t=n.inclusive),null==r&&(r=n.inclusive),{start:t??e,end:r??e}}function WC(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}Th.prototype.point=!0;class Cs extends di{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,o,a){if(r){if(!(r instanceof Cs))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),RN(this,e,t,r?r.children:[],o,a),!0}split(e){let t=new Cs;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)t.append(this.children[o],0);for(;r>0&&0==this.children[r-1].length;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){GC(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){jN(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=UC(t,this.attrs||{})),r&&(this.attrs=UC({class:r},this.attrs||{}))}domAtPos(e){return HN(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var r;this.dom?4&this.dirty&&(TN(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&($C(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&di.get(i)instanceof oc;)i=i.lastChild;if(!(i&&this.length&&("BR"==i.nodeName||0!=(null===(r=di.get(i))||void 0===r?void 0:r.isEditable)||pn.ios&&this.children.some(o=>o instanceof td)))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let r of this.children){if(!(r instanceof td)||/[^ -~]/.test(r.text))return null;let i=tv(r.dom);if(1!=i.length)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=UN(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let a=(o-i.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return ei.Text}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],a=i+o.length;if(a>=t){if(o instanceof Cs)return o;if(a>t)break}i=a+o.breakAfter}return null}}class Ah extends di{constructor(e,t,r){super(),this.widget=e,this.length=t,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,o,a){return!(r&&(!(r instanceof Ah&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&a<=0)||(this.length=e+(r?r.length:0)+(this.length-t),0))}domAtPos(e){return 0==e?Go.before(this.dom):Go.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Ah(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}get children(){return FC}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Lr.empty}domBoundsAround(){return null}become(e){return e instanceof Ah&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class YC{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Ah&&e.type==ei.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Cs),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Z0(new Mh(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:c}=this.cursor.next(this.skip);if(this.skip=0,c)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Z0(new td(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,o,a){if(this.disallowBlockEffectsFor[a]&&r instanceof Th){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=t-e;if(r instanceof Th)if(r.block){let{type:h}=r;h==ei.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ah(r.widget||new $N("div"),c,h))}else{let h=nd.create(r.widget||new $N("span"),c,c?0:r.startSide),g=this.atCursorPos&&!h.isEditable&&o<=i.length&&(e<t||r.startSide>0),y=!h.isEditable&&(e<t||o>i.length||r.startSide<=0),O=this.getLine();2==this.pendingBuffer&&!g&&!h.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),g&&(O.append(Z0(new Mh(1),i),o),o=i.length+Math.max(0,o-i.length)),O.append(Z0(h,i),o),this.atCursorPos=y,this.pendingBuffer=y?e<t||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,r,i,o){let a=new YC(e,t,r,o);return a.openEnd=ki.spans(i,t,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function Z0(n,e){for(let t of e)n=new oc(t,[n],n.length);return n}class $N extends Qc{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const WN=hn.define(),YN=hn.define(),XN=hn.define(),KN=hn.define(),XC=hn.define(),qN=hn.define(),ZN=hn.define(),QN=hn.define({combine:n=>n.some(e=>e)}),JN=hn.define({combine:n=>n.some(e=>e)});class Q0{constructor(e,t="nearest",r="nearest",i=5,o=5){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=o}map(e){return e.empty?this:new Q0(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const eF=dr.define({map:(n,e)=>n.map(e)});function da(n,e,t){let r=n.facet(KN);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const J0=hn.define({combine:n=>!n.length||n[0]});let MX=0;const iv=hn.define();class Ni{constructor(e,t,r,i){this.id=e,this.create=t,this.domEventHandlers=r,this.extension=i(this)}static define(e,t){const{eventHandlers:r,provide:i,decorations:o}=t||{};return new Ni(MX++,e,r,a=>{let c=[iv.of(a)];return o&&c.push(ov.of(h=>{let g=h.plugin(a);return g?o(g):mn.none})),i&&c.push(i(a)),c})}static fromClass(e,t){return Ni.define(r=>new e(r),t)}}class KC{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(da(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){da(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null!==(t=this.value)&&void 0!==t&&t.destroy)try{this.value.destroy()}catch(r){da(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const tF=hn.define(),e_=hn.define(),ov=hn.define(),nF=hn.define(),rF=hn.define(),sv=hn.define();class yl{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new yl(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(0==t.length)return e;let r=[];for(let i=0,o=0,a=0,c=0;;i++){let h=i==e.length?null:e[i],g=a-c,y=h?h.fromB:1e9;for(;o<t.length&&t[o]<y;){let $=t[o+1],K=Math.max(c,t[o]),re=Math.min(y,$);if(K<=re&&new yl(K+g,re+g,K,re).addToSet(r),$>y)break;o+=2}if(!h)return r;new yl(h.fromA,h.toA,h.fromB,h.toB).addToSet(r),a=h.toA,c=h.toB}}}class t_{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=mo.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,a,c,h)=>i.push(new yl(o,a,c,h))),this.changedRanges=i}static create(e,t,r){return new t_(e,t,r)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}var Mi=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Mi||(Mi={}));const qC=Mi.LTR,TX=Mi.RTL;function iF(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const AX=iF("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),IX=iF("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ZC=Object.create(null),sc=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);ZC[e]=t,ZC[t]=-e}function OX(n){return n<=247?AX[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?IX[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:8204==n?256:1}const RX=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class kp{constructor(e,t,r){this.from=e,this.to=t,this.level=r}get dir(){return this.level%2?TX:qC}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,r,i){let o=-1;for(let a=0;a<e.length;a++){let c=e[a];if(c.from<=t&&c.to>=t){if(c.level==r)return a;(o<0||(0!=i?i<0?c.from<t:c.to>t:e[o].level>c.level))&&(o=a)}}if(o<0)throw new RangeError("Index out of range");return o}}const Ti=[];function sF(n){return[new kp(0,n,0)]}let aF="";function lF(n,e,t,r,i){var o;let a=r.head-n.from,c=-1;if(0==a){if(!i||!n.length)return null;e[0].level!=t&&(a=e[0].side(!1,t),c=0)}else if(a==n.length){if(i)return null;let $=e[e.length-1];$.level!=t&&(a=$.side(!0,t),c=e.length-1)}c<0&&(c=kp.find(e,a,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc));let h=e[c];a==h.side(i,t)&&(h=e[c+=i?1:-1],a=h.side(!i,t));let g=i==(h.dir==t),y=xs(n.text,a,g);if(aF=n.text.slice(Math.min(a,y),Math.max(a,y)),y!=h.side(i,t))return kt.cursor(y+n.from,g?-1:1,h.level);let O=c==(i?e.length-1:0)?null:e[c+(i?1:-1)];return O||h.level==t?O&&O.level<h.level?kt.cursor(O.side(!i,t)+n.from,i?1:-1,O.level):kt.cursor(y+n.from,i?-1:1,h.level):kt.cursor(i?n.to:n.from,i?-1:1,t)}const rd="\uffff";class cF{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Es.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=rd}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i),this.readNode(i);let o=i.nextSibling;if(o==t)break;let a=di.get(i),c=di.get(o);(a&&c?a.breakAfter:(a?a.breakAfter:uF(i))||uF(o)&&("BR"!=i.nodeName||i.cmIgnore))&&this.lineBreak(),i=o}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let c,o=-1,a=1;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(c=i.exec(t))&&(o=c.index,a=c[0].length),this.append(t.slice(r,o<0?t.length:o)),o<0)break;if(this.lineBreak(),a>1)for(let h of this.points)h.node==e&&h.pos>this.text.length&&(h.pos-=a-1);r=o+a}}readNode(e){if(e.cmIgnore)return;let t=di.get(e),r=t&&t.overrideDOMText;if(null!=r){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(3==e.nodeType?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(t,r.offset))}}function uF(n){return 1==n.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class dF{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class hF extends di{constructor(e){super(),this.view=e,this.compositionDeco=mn.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Cs],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new yl(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:a,toA:c})=>c<this.minWidthFrom||a>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=mn.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function NX(n,e){let t=pF(n);if(!t)return mn.none;let{from:r,to:i,node:o,text:a}=t,c=e.mapPos(r,1),h=Math.max(c,e.mapPos(i,-1)),{state:g}=n,y=3==o.nodeType?o.nodeValue:new cF([],g).readRange(o.firstChild,null).text;if(h-c<y.length)if(g.doc.sliceString(c,Math.min(g.doc.length,c+y.length),rd)==y)h=c+y.length;else{if(g.doc.sliceString(Math.max(0,h-y.length),h,rd)!=y)return mn.none;c=h-y.length}else if(g.doc.sliceString(c,h,rd)!=y)return mn.none;let O=di.get(o);return O instanceof VN?O=O.widget.topView:O&&(O.parent=null),mn.set(mn.replace({widget:new FX(o,a,O),inclusive:!0}).range(c,h))}(this.view,e.changes)),(pn.ie||pn.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=function VX(n,e,t){let r=new BX;return ki.compare(n,e,t,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return t=yl.extendWithRanges(t,o),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=pn.chrome||pn.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.dirty=0,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Ah&&o.widget instanceof fF&&i.push(o.dom);r.updateGaps(i)}updateChildren(e,t){let r=this.childCursor(t);for(let i=e.length-1;;i--){let o=i>=0?e[i]:null;if(!o)break;let{fromA:a,toA:c,fromB:h,toB:g}=o,{content:y,breakAtStart:O,openStart:$,openEnd:K}=YC.build(this.view.state.doc,h,g,this.decorations,this.dynamicDecorationMap),{i:re,off:he}=r.findPos(c,1),{i:xe,off:Pe}=r.findPos(a,-1);ON(this,xe,Pe,re,he,y,O,$,K)}}updateSelection(e=!1,t=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection())return;let r=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,o=this.domAtPos(i.anchor),a=i.empty?o:this.domAtPos(i.head);if(pn.gecko&&i.empty&&!this.compositionDeco.size&&function PX(n){return 1==n.node.nodeType&&n.node.firstChild&&(0==n.offset||"false"==n.node.childNodes[n.offset-1].contentEditable)&&(n.offset==n.node.childNodes.length||"false"==n.node.childNodes[n.offset].contentEditable)}(o)){let h=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(h,o.node.childNodes[o.offset]||null)),o=a=new Go(h,0),r=!0}let c=this.view.observer.selectionRange;(r||!c.focusNode||!Y0(o.node,o.offset,c.anchorNode,c.anchorOffset)||!Y0(a.node,a.offset,c.focusNode,c.focusOffset))&&(this.view.observer.ignore(()=>{pn.android&&pn.chrome&&this.dom.contains(c.focusNode)&&function zX(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(1==t.nodeType&&"false"==t.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=$0(this.view.root);if(h)if(i.empty){if(pn.gecko){let g=function LX(n,e){return 1!=n.nodeType?0:(e&&"false"==n.childNodes[e-1].contentEditable?1:0)|(e<n.childNodes.length&&"false"==n.childNodes[e].contentEditable?2:0)}(o.node,o.offset);if(g&&3!=g){let y=mF(o.node,o.offset,1==g?1:-1);y&&(o=new Go(y,1==g?0:y.nodeValue.length))}}h.collapse(o.node,o.offset),null!=i.bidiLevel&&null!=c.cursorBidiLevel&&(c.cursorBidiLevel=i.bidiLevel)}else if(h.extend){h.collapse(o.node,o.offset);try{h.extend(a.node,a.offset)}catch{}}else{let g=document.createRange();i.anchor>i.head&&([o,a]=[a,o]),g.setEnd(a.node,a.offset),g.setStart(o.node,o.offset),h.removeAllRanges(),h.addRange(g)}}),this.view.observer.setSelectionRange(o,a)),this.impreciseAnchor=o.precise?null:new Go(c.anchorNode,c.anchorOffset),this.impreciseHead=a.precise?null:new Go(c.focusNode,c.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,r=$0(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!(r&&t.empty&&t.assoc&&r.modify))return;let a=Cs.find(this,t.head);if(!a)return;let c=a.posAtStart;if(t.head==c||t.head==c+a.length)return;let h=this.coordsAt(t.head,-1),g=this.coordsAt(t.head,1);if(!h||!g||h.bottom>g.top)return;let y=this.domAtPos(t.head+t.assoc);r.collapse(y.node,y.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let O=e.observer.selectionRange;e.docView.posFromDOM(O.anchorNode,O.anchorOffset)!=t.from&&r.collapse(i,o)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||W0(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let r=di.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof Cs)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){for(let r=this.length,i=this.children.length-1;;i--){let o=this.children[i],a=r-o.breakAfter-o.length;if(e>a||e==a&&o.type!=ei.WidgetBefore&&o.type!=ei.WidgetAfter&&(!i||2==t||this.children[i-1].breakAfter||this.children[i-1].type==ei.WidgetBefore&&t>-2))return o.coordsAt(e-a,t);r=a}}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,a=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,h=this.view.textDirection==Mi.LTR;for(let g=0,y=0;y<this.children.length;y++){let O=this.children[y],$=g+O.length;if($>i)break;if(g>=r){let K=O.dom.getBoundingClientRect();if(t.push(K.height),a){let re=O.dom.lastChild,he=re?tv(re):[];if(he.length){let xe=he[he.length-1],Pe=h?xe.right-K.left:K.right-xe.left;Pe>c&&(c=Pe,this.minWidth=o,this.minWidthFrom=g,this.minWidthTo=$)}}}g=$+O.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Mi.RTL:Mi.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Cs){let a=o.measureTextSize();if(a)return a}let t,r,i,e=document.createElement("div");return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=tv(e.firstChild)[0];t=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new IN(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let o=i==t.viewports.length?null:t.viewports[i],a=o?o.from-1:this.length;if(a>r){let c=t.lineBlockAt(a).bottom-t.lineBlockAt(r).top;e.push(mn.replace({widget:new fF(c),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!o)break;r=o.to+1}return mn.set(e)}updateDeco(){let e=this.view.state.facet(ov).map((t,r)=>(this.dynamicDecorationMap[r]="function"==typeof t)?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let i,{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1);if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=0,a=0,c=0,h=0;for(let y of this.view.state.facet(rF).map(O=>O(this.view)))if(y){let{left:O,right:$,top:K,bottom:re}=y;null!=O&&(o=Math.max(o,O)),null!=$&&(a=Math.max(a,$)),null!=K&&(c=Math.max(c,K)),null!=re&&(h=Math.max(h,re))}!function bX(n,e,t,r,i,o,a,c){let h=n.ownerDocument,g=h.defaultView||window;for(let y=n;y;)if(1==y.nodeType){let O,$=y==h.body;if($)O=yX(g);else{if(y.scrollHeight<=y.clientHeight&&y.scrollWidth<=y.clientWidth){y=y.assignedSlot||y.parentNode;continue}let he=y.getBoundingClientRect();O={left:he.left,right:he.left+y.clientWidth,top:he.top,bottom:he.top+y.clientHeight}}let K=0,re=0;if("nearest"==i)e.top<O.top?(re=-(O.top-e.top+a),t>0&&e.bottom>O.bottom+re&&(re=e.bottom-O.bottom+re+a)):e.bottom>O.bottom&&(re=e.bottom-O.bottom+a,t<0&&e.top-re<O.top&&(re=-(O.top+re-e.top+a)));else{let he=e.bottom-e.top,xe=O.bottom-O.top;re=("center"==i&&he<=xe?e.top+he/2-xe/2:"start"==i||"center"==i&&t<0?e.top-a:e.bottom-xe+a)-O.top}if("nearest"==r?e.left<O.left?(K=-(O.left-e.left+o),t>0&&e.right>O.right+K&&(K=e.right-O.right+K+o)):e.right>O.right&&(K=e.right-O.right+o,t<0&&e.left<O.left+K&&(K=-(O.left+K-e.left+o))):K=("center"==r?e.left+(e.right-e.left)/2-(O.right-O.left)/2:"start"==r==c?e.left-o:e.right-(O.right-O.left)+o)-O.left,K||re)if($)g.scrollBy(K,re);else{let he=0,xe=0;if(re){let Pe=y.scrollTop;y.scrollTop+=re,xe=y.scrollTop-Pe}if(K){let Pe=y.scrollLeft;y.scrollLeft+=K,he=y.scrollLeft-Pe}e={left:e.left-he,top:e.top-xe,right:e.right-he,bottom:e.bottom-xe},he&&Math.abs(he-K)<1&&(r="nearest"),xe&&Math.abs(xe-re)<1&&(i="nearest")}if($)break;y=y.assignedSlot||y.parentNode}else{if(11!=y.nodeType)break;y=y.host}}(this.view.scrollDOM,{left:r.left-o,top:r.top-c,right:r.right+a,bottom:r.bottom+h},t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Mi.LTR)}}class fF extends Qc{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function pF(n){let e=n.observer.selectionRange,t=e.focusNode&&mF(e.focusNode,e.focusOffset,0);if(!t)return null;let r=n.docView.nearest(t);if(!r)return null;if(r instanceof Cs){let i=t;for(;i.parentNode!=r.dom;)i=i.parentNode;let o=i.previousSibling;for(;o&&!di.get(o);)o=o.previousSibling;let a=o?di.get(o).posAtEnd:r.posAtStart;return{from:a,to:a,node:i,text:t}}{for(;;){let{parent:o}=r;if(!o)return null;if(o instanceof Cs)break;r=o}let i=r.posAtStart;return{from:i,to:i+r.length,node:r.dom,text:t}}}class FX extends Qc{constructor(e,t,r){super(),this.top=e,this.text=t,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return VN}}function mF(n,e,t){if(t<=0)for(let r=n,i=e;;){if(3==r.nodeType)return r;if(!(1==r.nodeType&&i>0))break;r=r.childNodes[i-1],i=nv(r)}if(t>=0)for(let r=n,i=e;;){if(3==r.nodeType)return r;if(!(1==r.nodeType&&i<r.childNodes.length&&t>=0))break;r=r.childNodes[i],i=0}return null}class BX{constructor(){this.changes=[]}compareRange(e,t){WC(e,t,this.changes)}comparePoint(e,t){WC(e,t,this.changes)}}function jX(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function UX(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function QC(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function gF(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function vF(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function JC(n,e,t){let r,i,o,a,h,g,y,O,c=!1;for(let re=n.firstChild;re;re=re.nextSibling){let he=tv(re);for(let xe=0;xe<he.length;xe++){let Pe=he[xe];i&&QC(i,Pe)&&(Pe=gF(vF(Pe,i.bottom),i.top));let Je=jX(e,Pe),Ke=UX(t,Pe);if(0==Je&&0==Ke)return 3==re.nodeType?yF(re,e,t):JC(re,e,t);if(!r||a>Ke||a==Ke&&o>Je){r=re,i=Pe,o=Je,a=Ke;let at=Ke?t<Pe.top?-1:1:Je?e<Pe.left?-1:1:0;c=!at||(at>0?xe<he.length-1:xe>0)}0==Je?t>Pe.bottom&&(!y||y.bottom<Pe.bottom)?(h=re,y=Pe):t<Pe.top&&(!O||O.top>Pe.top)&&(g=re,O=Pe):y&&QC(y,Pe)?y=vF(y,Pe.bottom):O&&QC(O,Pe)&&(O=gF(O,Pe.top))}}if(y&&y.bottom>=t?(r=h,i=y):O&&O.top<=t&&(r=g,i=O),!r)return{node:n,offset:0};let $=Math.max(i.left,Math.min(i.right,e));return 3==r.nodeType?yF(r,$,t):c&&"false"!=r.contentEditable?JC(r,$,t):{node:n,offset:Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}}function yF(n,e,t){let r=n.nodeValue.length,i=-1,o=1e9,a=0;for(let c=0;c<r;c++){let h=Dp(n,c,c+1).getClientRects();for(let g=0;g<h.length;g++){let y=h[g];if(y.top==y.bottom)continue;a||(a=e-y.left);let O=(y.top>t?y.top-t:t-y.bottom)-1;if(y.left-1<=e&&y.right+1>=e&&O<o){let $=e>=(y.left+y.right)/2,K=$;if((pn.chrome||pn.gecko)&&Dp(n,c).getBoundingClientRect().left==y.right&&(K=!$),O<=0)return{node:n,offset:c+(K?1:0)};i=c+(K?1:0),o=O}}}return{node:n,offset:i>-1?i:a>0?n.nodeValue.length:0}}function bF(n,e,t,r=-1){var i,o;let h,a=n.contentDOM.getBoundingClientRect(),c=a.top+n.viewState.paddingTop,{docHeight:g}=n.viewState,{x:y,y:O}=e,$=O-c;if($<0)return 0;if($>g)return n.state.doc.length;for(let at=n.defaultLineHeight/2,wt=!1;h=n.elementAtHeight($),h.type!=ei.Text;)for(;$=r>0?h.bottom+at:h.top-at,!($>=0&&$<=g);){if(wt)return t?null:0;wt=!0,r=-r}O=c+$;let K=h.from;if(K<n.viewport.from)return 0==n.viewport.from?0:t?null:_F(n,a,h,y,O);if(K>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:_F(n,a,h,y,O);let re=n.dom.ownerDocument,he=n.root.elementFromPoint?n.root:re,xe=he.elementFromPoint(y,O);xe&&!n.contentDOM.contains(xe)&&(xe=null),xe||(y=Math.max(a.left+1,Math.min(a.right-1,y)),xe=he.elementFromPoint(y,O),xe&&!n.contentDOM.contains(xe)&&(xe=null));let Pe,Je=-1;if(xe&&0!=(null===(i=n.docView.nearest(xe))||void 0===i?void 0:i.isEditable))if(re.caretPositionFromPoint){let at=re.caretPositionFromPoint(y,O);at&&({offsetNode:Pe,offset:Je}=at)}else if(re.caretRangeFromPoint){let at=re.caretRangeFromPoint(y,O);at&&(({startContainer:Pe,startOffset:Je}=at),(!n.contentDOM.contains(Pe)||pn.safari&&function GX(n,e,t){let r;if(3!=n.nodeType||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(1!=i.nodeType||"BR"!=i.nodeName)return!1;return Dp(n,r-1,r).getBoundingClientRect().left>t}(Pe,Je,y)||pn.chrome&&function $X(n,e,t){if(0!=e)return!1;for(let i=n;;){let o=i.parentNode;if(!o||1!=o.nodeType||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}return t-(1==n.nodeType?n.getBoundingClientRect():Dp(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect()).left>5}(Pe,Je,y))&&(Pe=void 0))}if(!Pe||!n.docView.dom.contains(Pe)){let at=Cs.find(n.docView,K);if(!at)return $>h.top+h.height/2?h.to:h.from;({node:Pe,offset:Je}=JC(at.dom,y,O))}let Ke=n.docView.nearest(Pe);if(!Ke)return null;if(Ke.isWidget&&1==(null===(o=Ke.dom)||void 0===o?void 0:o.nodeType)){let at=Ke.dom.getBoundingClientRect();return e.y<at.top||e.y<=at.bottom&&e.x<=(at.left+at.right)/2?Ke.posAtStart:Ke.posAtEnd}return Ke.localPosFromDOM(Pe,Je)+Ke.posAtStart}function _F(n,e,t,r,i){let o=Math.round((r-e.left)*n.defaultCharacterWidth);n.lineWrapping&&t.height>1.5*n.defaultLineHeight&&(o+=Math.floor((i-t.top)/n.defaultLineHeight)*n.viewState.heightOracle.lineLength);let a=n.state.sliceDoc(t.from,t.to);return t.from+IC(a,o,n.state.tabSize)}function xF(n,e,t,r){let i=n.state.doc.lineAt(e.head),o=n.bidiSpans(i),a=n.textDirectionAt(i.from);for(let c=e,h=null;;){let g=lF(i,o,a,c,t),y=aF;if(!g){if(i.number==(t?n.state.doc.lines:1))return c;y="\n",i=n.state.doc.line(i.number+(t?1:-1)),o=n.bidiSpans(i),g=kt.cursor(t?i.from:i.to)}if(h){if(!h(y))return c}else{if(!r)return g;h=r(y)}c=g}}function eD(n,e,t){let r=n.state.facet(nF).map(i=>i(n));for(;;){let i=!1;for(let o of r)o.between(t.from-1,t.from+1,(a,c,h)=>{t.from>a&&t.from<c&&(t=e.head>t.from?kt.cursor(a,1):kt.cursor(c,-1),i=!0)});if(!i)return t}}class KX{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(r,i)=>{this.ignoreDuringComposition(i)||"keydown"==i.type&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():r(e,i))};for(let r in go){let i=go[r];e.contentDOM.addEventListener(r,o=>{CF(e,o)&&t(i,o)},tD[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t(go.mousedown,r),!r.defaultPrevented&&2==r.button)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),pn.chrome&&102==pn.chrome_version&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,pn.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var r;let i;this.customHandlers=[];for(let o of t)if(i=null===(r=o.update(e).spec)||void 0===r?void 0:r.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:i});for(let a in i)this.registeredEvents.indexOf(a)<0&&"scroll"!=a&&(this.registeredEvents.push(a),e.contentDOM.addEventListener(a,c=>{CF(e,c)&&this.runCustomHandlers(a,e,c)&&c.preventDefault()}))}}runCustomHandlers(e,t,r){for(let i of this.customHandlers){let o=i.handlers[e];if(o)try{if(o.call(i.plugin,r,t)||r.defaultPrevented)return!0}catch(a){da(t.state,a)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,t,e)}catch(o){da(e.state,o)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(pn.android&&pn.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let r;return!(!pn.ios||t.synthetic||t.altKey||t.metaKey||!((r=wF.find(i=>i.keyCode==t.keyCode))&&!t.ctrlKey||qX.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)||(this.pendingIOSKey=r||t,setTimeout(()=>this.flushIOSKey(e),250),0))}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,Sp(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(pn.safari&&!pn.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const wF=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],qX="dthko",EF=[16,17,18,20,91,92,224,225];function r_(n){return.7*Math.max(0,n)+8}class ZX{constructor(e,t,r,i){this.view=e,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=function _X(n){let e=n.ownerDocument;for(let t=n.parentNode;t&&t!=e.body;)if(1==t.nodeType){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else{if(11!=t.nodeType)break;t=t.host}return null}(e.contentDOM);let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Es.allowMultipleSelections)&&function QX(n,e){let t=n.state.facet(WN);return t.length?t[0](e):pn.mac?e.metaKey:e.ctrlKey}(e,t),this.dragMove=function JX(n,e){let t=n.state.facet(YN);return t.length?t[0](e):pn.mac?!e.altKey:!e.ctrlKey}(e,t),this.dragging=!(!function eK(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=$0(n.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let a=i[o];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}(e,t)||1!=PF(t))&&null}start(e){!1===this.dragging&&(e.preventDefault(),this.select(e))}move(e){var t;if(0==e.buttons)return this.destroy();if(!1!==this.dragging)return;this.select(this.lastEvent=e);let r=0,i=0,o=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=o.left+6?r=-r_(o.left-e.clientX):e.clientX>=o.right-6&&(r=r_(e.clientX-o.right)),e.clientY<=o.top+6?i=-r_(o.top-e.clientY):e.clientY>=o.bottom-6&&(i=r_(e.clientY-o.bottom)),this.setScrollSpeed(r,i)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function CF(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r,t=e.target;t!=n.contentDOM;t=t.parentNode)if(!t||11==t.nodeType||(r=di.get(t))&&r.ignoreEvent(e))return!1;return!0}const go=Object.create(null),tD=Object.create(null),DF=pn.ie&&pn.ie_version<15||pn.ios&&pn.webkit_version<604;function SF(n,e){let r,{state:t}=n,i=1,o=t.toText(e),a=o.lines==t.selection.ranges.length;if(null!=nD&&t.selection.ranges.every(h=>h.empty)&&nD==o.toString()){let h=-1;r=t.changeByRange(g=>{let y=t.doc.lineAt(g.from);if(y.from==h)return{range:g};h=y.from;let O=t.toText((a?o.line(i++).text:e)+t.lineBreak);return{changes:{from:y.from,insert:O},range:kt.cursor(g.from+O.length)}})}else r=a?t.changeByRange(h=>{let g=o.line(i++);return{changes:{from:h.from,to:h.to,insert:g.text},range:kt.cursor(h.from+g.length)}}):t.replaceSelection(o);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}function kF(n,e,t,r){if(1==r)return kt.cursor(e,t);if(2==r)return function HX(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),o=e-i.from;if(0==i.length)return kt.cursor(e);0==o?t=1:o==i.length&&(t=-1);let a=o,c=o;t<0?a=xs(i.text,o,!1):c=xs(i.text,o);let h=r(i.text.slice(a,c));for(;a>0;){let g=xs(i.text,a,!1);if(r(i.text.slice(g,a))!=h)break;a=g}for(;c<i.length;){let g=xs(i.text,c);if(r(i.text.slice(c,g))!=h)break;c=g}return kt.range(a+i.from,c+i.from)}(n.state,e,t);{let i=Cs.find(n.docView,e),o=n.state.doc.lineAt(i?i.posAtEnd:e),c=i?i.posAtEnd:o.to;return c<n.state.doc.length&&c==o.to&&c++,kt.range(i?i.posAtStart:o.from,c)}}go.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),27==e.keyCode?n.inputState.lastEscPress=Date.now():EF.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)},go.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")},go.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")},tD.touchstart=tD.touchmove={passive:!0},go.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let r of n.state.facet(XN))if(t=r(n,e),t)break;if(!t&&0==e.button&&(t=function iK(n,e){let t=AF(n,e),r=PF(e),i=n.state.selection;return{update(o){o.docChanged&&(t.pos=o.changes.mapPos(t.pos),i=i.map(o.changes))},get(o,a,c){let g,h=AF(n,o),y=kF(n,h.pos,h.bias,r);if(t.pos!=h.pos&&!a){let O=kF(n,t.pos,t.bias,r),$=Math.min(O.from,y.from),K=Math.max(O.to,y.to);y=$<y.from?kt.range($,K):kt.range(K,$)}return a?i.replaceRange(i.main.extend(y.from,y.to)):c&&1==r&&i.ranges.length>1&&(g=function oK(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return kt.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}(i,h.pos))?g:c?i.addRange(y):kt.create([y])}}}(n,e)),t){let r=n.root.activeElement!=n.contentDOM;n.inputState.startMouseSelection(new ZX(n,e,t,r)),r&&n.observer.ignore(()=>kN(n.contentDOM)),n.inputState.mouseSelection&&n.inputState.mouseSelection.start(e)}};let MF=(n,e)=>n>=e.top&&n<=e.bottom,TF=(n,e,t)=>MF(e,t)&&n>=t.left&&n<=t.right;function nK(n,e,t,r){let i=Cs.find(n.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(0==o)return 1;if(o==i.length)return-1;let a=i.coordsAt(o,-1);if(a&&TF(t,r,a))return-1;let c=i.coordsAt(o,1);return c&&TF(t,r,c)?1:a&&MF(r,a)?-1:1}function AF(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:nK(n,t,e.clientX,e.clientY)}}const rK=pn.ie&&pn.ie_version<=11;let IF=null,OF=0,RF=0;function PF(n){if(!rK)return n.detail;let e=IF,t=RF;return IF=n,RF=Date.now(),OF=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(OF+1)%3:1}function NF(n,e,t,r){if(!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=n.inputState,a=r&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,c={from:i,insert:t},h=n.state.changes(a?[a,c]:c);n.focus(),n.dispatch({changes:h,selection:{anchor:h.mapPos(i,-1),head:h.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"})}go.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:r}=n.inputState;r&&(r.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")},go.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let r=Array(t.length),i=0,o=()=>{++i==t.length&&NF(n,e,r.filter(a=>null!=a).join(n.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let c=new FileReader;c.onerror=o,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(r[a]=c.result),o()},c.readAsText(t[a])}}else NF(n,e,e.dataTransfer.getData("Text"),!0)},go.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=DF?null:e.clipboardData;t?(SF(n,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):function tK(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),SF(n,t.value)},50)}(n)};let nD=null;go.copy=go.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=function aK(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:o}of n.selection.ranges){let a=n.doc.lineAt(o);a.number>i&&(e.push(a.text),t.push({from:a.from,to:Math.min(n.doc.length,a.to+1)})),i=a.number}r=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:r}}(n.state);if(!t&&!i)return;nD=i?t:null;let o=DF?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",t)):function sK(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}(n,t),"cut"==e.type&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const FF=Zc.define();function LF(n,e){let t=[];for(let r of n.facet(ZN)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:FF.of(!0)}):null}function BF(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=LF(n.state,e);t?n.dispatch(t):n.update([])}},10)}go.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),BF(n)},go.blur=n=>{n.observer.clearSelectionRange(),BF(n)},go.compositionstart=go.compositionupdate=n=>{null==n.inputState.compositionFirstChange&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)},go.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,pn.chrome&&pn.android&&n.observer.flushSoon(),setTimeout(()=>{n.inputState.composing<0&&n.docView.compositionDeco.size&&n.update([])},50)},go.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()},go.beforeinput=(n,e)=>{var t;let r;if(pn.chrome&&pn.android&&(r=wF.find(i=>i.inputType==e.inputType))&&(n.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let i=(null===(t=window.visualViewport)||void 0===t?void 0:t.height)||0;setTimeout(()=>{var o;((null===(o=window.visualViewport)||void 0===o?void 0:o.height)||0)>i+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const VF=["pre-wrap","normal","pre-line","break-spaces"];class zF{constructor(e){this.lineWrapping=e,this.doc=Lr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return VF.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(10*i)]||(t=!0,this.heightSamples[Math.floor(10*i)]=!0)}return t}refresh(e,t,r,i,o,a){let c=VF.indexOf(e)>-1,h=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=o,h){this.heightSamples={};for(let g=0;g<a.length;g++){let y=a[g];y<0?g++:this.heightSamples[Math.floor(10*y)]=!0}}return h}}class HF{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Jc{constructor(e,t,r,i,o){this.from=e,this.length=t,this.top=r,this.height=i,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Jc(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var oi=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(oi||(oi={}));const i_=.001;class rs{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>i_&&(e.heightChanged=!0),this.height=t)}replace(e,t,r){return rs.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let o=this,a=r.doc;for(let c=i.length-1;c>=0;c--){let{fromA:h,toA:g,fromB:y,toB:O}=i[c],$=o.lineAt(h,oi.ByPosNoHeight,r.setDoc(t),0,0),K=$.to>=g?$:o.lineAt(g,oi.ByPosNoHeight,r,0,0);for(O+=K.to-g,g=K.to;c>0&&$.from<=i[c-1].toA;)h=i[c-1].fromA,y=i[c-1].fromB,c--,h<$.from&&($=o.lineAt(h,oi.ByPosNoHeight,r,0,0));y+=$.from-h,h=$.from;let re=rD.build(r.setDoc(a),e,y,O);o=o.replace(h,g,re)}return o.updateHeight(r,0)}static empty(){return new ha(0,0)}static of(e){if(1==e.length)return e[0];let t=0,r=e.length,i=0,o=0;for(;;)if(t==r)if(i>2*o){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),r+=1+c.break,i-=c.size}else{if(!(o>2*i))break;{let c=e[r];c.break?e.splice(r,1,c.left,null,c.right):e.splice(r,1,c.left,c.right),r+=2+c.break,o-=c.size}}else if(i<o){let c=e[t++];c&&(i+=c.size)}else{let c=e[--r];c&&(o+=c.size)}let a=0;return null==e[t-1]?(a=1,t--):null==e[t]&&(a=1,r++),new lK(rs.of(e.slice(0,t)),a,rs.of(e.slice(r)))}}rs.prototype.size=1;class jF extends rs{constructor(e,t,r){super(e,t),this.type=r}blockAt(e,t,r,i){return new Jc(i,this.length,r,this.height,this.type)}lineAt(e,t,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,t,r,i,o,a){e<=o+this.length&&t>=o&&a(this.blockAt(0,r,i,o))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ha extends jF{constructor(e,t){super(e,t,ei.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,r){let i=r[0];return 1==r.length&&(i instanceof ha||i instanceof $o&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof $o?i=new ha(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):rs.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class $o extends rs{constructor(e){super(e,0)}heightMetrics(e,t){let a,r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,o=i-r+1,c=0;if(e.lineWrapping){let h=Math.min(this.height,e.lineHeight*o);a=h/o,c=(this.height-h)/(this.length-o-1)}else a=this.height/o;return{firstLine:r,lastLine:i,perLine:a,perChar:c}}blockAt(e,t,r,i){let{firstLine:o,lastLine:a,perLine:c,perChar:h}=this.heightMetrics(t,i);if(t.lineWrapping){let g=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),y=t.doc.lineAt(g),O=c+y.length*h,$=Math.max(r,e-O/2);return new Jc(y.from,y.length,$,O,ei.Text)}{let g=Math.max(0,Math.min(a-o,Math.floor((e-r)/c))),{from:y,length:O}=t.doc.line(o+g);return new Jc(y,O,r+c*g,c,ei.Text)}}lineAt(e,t,r,i,o){if(t==oi.ByHeight)return this.blockAt(e,r,i,o);if(t==oi.ByPosNoHeight){let{from:K,to:re}=r.doc.lineAt(e);return new Jc(K,re-K,0,0,ei.Text)}let{firstLine:a,perLine:c,perChar:h}=this.heightMetrics(r,o),g=r.doc.lineAt(e),y=c+g.length*h,O=g.number-a;return new Jc(g.from,g.length,Math.max(i,Math.min(i+c*O+h*(g.from-o-O),i+this.height-y)),y,ei.Text)}forEachLine(e,t,r,i,o,a){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:c,perLine:h,perChar:g}=this.heightMetrics(r,o);for(let y=e,O=i;y<=t;){let $=r.doc.lineAt(y);if(y==e){let re=$.number-c;O+=h*re+g*(e-o-re)}let K=h+g*$.length;a(new Jc($.from,$.length,O,K,ei.Text)),O+=K,y=$.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let o=r[r.length-1];o instanceof $o?r[r.length-1]=new $o(o.length+i):r.push(null,new $o(i-1))}if(e>0){let o=r[0];o instanceof $o?r[0]=new $o(e+o.length):r.unshift(new $o(e-1),null)}return rs.of(r)}decomposeLeft(e,t){t.push(new $o(e-1),null)}decomposeRight(e,t){t.push(null,new $o(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let o=t+this.length;if(i&&i.from<=t+this.length&&i.more){let a=[],c=Math.max(t,i.from),h=-1;for(i.from>t&&a.push(new $o(i.from-t-1).updateHeight(e,t));c<=o&&i.more;){let y=e.doc.lineAt(c).length;a.length&&a.push(null);let O=i.heights[i.index++];-1==h?h=O:Math.abs(O-h)>=i_&&(h=-2);let $=new ha(y,O);$.outdated=!1,a.push($),c+=y+1}c<=o&&a.push(null,new $o(o-c).updateHeight(e,c));let g=rs.of(a);return(h<0||Math.abs(g.height-this.height)>=i_||Math.abs(h-this.heightMetrics(e,t).perLine)>=i_)&&(e.heightChanged=!0),g}return(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class lK extends rs{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return 1&this.flags}blockAt(e,t,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,o,i+this.left.length+this.break)}lineAt(e,t,r,i,o){let a=i+this.left.height,c=o+this.left.length+this.break,h=t==oi.ByHeight?e<a:e<c,g=h?this.left.lineAt(e,t,r,i,o):this.right.lineAt(e,t,r,a,c);if(this.break||(h?g.to<c:g.from>c))return g;let y=t==oi.ByPosNoHeight?oi.ByPosNoHeight:oi.ByPos;return h?g.join(this.right.lineAt(c,y,r,a,c)):this.left.lineAt(c,y,r,i,o).join(g)}forEachLine(e,t,r,i,o,a){let c=i+this.left.height,h=o+this.left.length+this.break;if(this.break)e<h&&this.left.forEachLine(e,t,r,i,o,a),t>=h&&this.right.forEachLine(e,t,r,c,h,a);else{let g=this.lineAt(h,oi.ByPos,r,i,o);e<g.from&&this.left.forEachLine(e,g.from-1,r,i,o,a),g.to>=e&&g.from<=t&&a(g),t>g.to&&this.right.forEachLine(g.to+1,t,r,c,h,a)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let a=o.length;for(let c of r)o.push(c);if(e>0&&UF(o,a-1),t<this.length){let c=o.length;this.decomposeRight(t,o),UF(o,c)}return rs.of(o)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?rs.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:o,right:a}=this,c=t+o.length+this.break,h=null;return i&&i.from<=t+o.length&&i.more?h=o=o.updateHeight(e,t,r,i):o.updateHeight(e,t,r),i&&i.from<=c+a.length&&i.more?h=a=a.updateHeight(e,c,r,i):a.updateHeight(e,c,r),h?this.balanced(o,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function UF(n,e){let t,r;null==n[e]&&(t=n[e-1])instanceof $o&&(r=n[e+1])instanceof $o&&n.splice(e-1,3,new $o(t.length+1+r.length))}class rD{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ha?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ha(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;r.block?this.addBlock(new jF(o,i,r.type)):(o||i>=5)&&this.addLineDeco(i,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ha(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new $o(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ha)return e;let t=new ha(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==ei.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=ei.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let r=this.ensureLine();r.length+=t,r.collapsed+=t,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof ha||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new ha(0,-1));let r=e;for(let i of this.nodes)i instanceof ha&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let o=new rD(r,e);return ki.spans(t,r,i,o,0),o.finish(r)}}class dK{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&WC(e,t,this.changes,5)}}function hK(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,o=Math.max(0,t.left),a=Math.min(i.innerWidth,t.right),c=Math.max(0,t.top),h=Math.min(i.innerHeight,t.bottom);for(let g=n.parentNode;g&&g!=r.body;)if(1==g.nodeType){let y=g,O=window.getComputedStyle(y);if((y.scrollHeight>y.clientHeight||y.scrollWidth>y.clientWidth)&&"visible"!=O.overflow){let $=y.getBoundingClientRect();o=Math.max(o,$.left),a=Math.min(a,$.right),c=Math.max(c,$.top),h=g==n.parentNode?$.bottom:Math.min(h,$.bottom)}g="absolute"==O.position||"fixed"==O.position?y.offsetParent:y.parentNode}else{if(11!=g.nodeType)break;g=g.host}return{left:o-t.left,right:Math.max(o,a)-t.left,top:c-(t.top+e),bottom:Math.max(c,h)-(t.top+e)}}function fK(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class iD{constructor(e,t,r){this.from=e,this.to=t,this.size=r}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e){return mn.replace({widget:new pK(this.size,e)}).range(this.from,this.to)}}class pK extends Qc{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class GF{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=$F,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Mi.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(e_).some(r=>"function"!=typeof r&&"cm-lineWrapping"==r.class);this.heightOracle=new zF(t),this.stateDeco=e.facet(ov).filter(r=>"function"!=typeof r),this.heightMap=rs.empty().applyChanges(this.stateDeco,Lr.empty,this.heightOracle.setDoc(e.doc),[new yl(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=mn.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:o,to:a})=>i>=o&&i<=a)){let{from:o,to:a}=this.lineBlockAt(i);e.push(new o_(o,a))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?$F:new vK(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(1==this.scaler.scale?e:av(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(ov).filter(g=>"function"!=typeof g);let o=yl.extendWithRanges(e.changedRanges,function uK(n,e,t){let r=new dK;return ki.compare(n,e,t,r,0),r.changes}(r,this.stateDeco,e?e.changes:mo.empty(this.state.doc.length))),a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=a&&(e.flags|=2);let c=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<c.from||t.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,t));let h=!e.changes.empty||2&e.flags||c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,this.updateForViewport(),h&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(JN)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection="rtl"==r.direction?Mi.RTL:Mi.LTR;let a=this.heightOracle.mustRefreshForWrapping(o),c=t.getBoundingClientRect(),h=a||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let g=0,y=0,O=parseInt(r.paddingTop)||0,$=parseInt(r.paddingBottom)||0;(this.paddingTop!=O||this.paddingBottom!=$)&&(this.paddingTop=O,this.paddingBottom=$,g|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(h=!0),this.editorWidth=e.scrollDOM.clientWidth,g|=8);let K=(this.printing?fK:hK)(t,this.paddingTop),re=K.top-this.pixelViewport.top,he=K.bottom-this.pixelViewport.bottom;this.pixelViewport=K;let xe=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(xe!=this.inView&&(this.inView=xe,xe&&(h=!0)),!this.inView&&!this.scrollTarget)return 0;let Pe=c.width;if((this.contentDOMWidth!=Pe||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,g|=8),h){let Ke=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(Ke)&&(a=!0),a||i.lineWrapping&&Math.abs(Pe-this.contentDOMWidth)>i.charWidth){let{lineHeight:at,charWidth:wt,textHeight:Dt}=e.docView.measureTextSize();a=at>0&&i.refresh(o,at,wt,Dt,Pe/wt,Ke),a&&(e.docView.minWidth=0,g|=8)}re>0&&he>0?y=Math.max(re,he):re<0&&he<0&&(y=Math.min(re,he)),i.heightChanged=!1;for(let at of this.viewports){let wt=at.from==this.viewport.from?Ke:e.docView.measureVisibleLineHeights(at);this.heightMap=(a?rs.empty().applyChanges(this.stateDeco,Lr.empty,this.heightOracle,[new yl(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new HF(at.from,wt))}i.heightChanged&&(g|=2)}let Je=!this.viewportIsAppropriate(this.viewport,y)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return Je&&(this.viewport=this.getViewport(y,this.scrollTarget)),this.updateForViewport(),(2&g||Je)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),g|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),g}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:a,visibleBottom:c}=this,h=new o_(i.lineAt(a-1e3*r,oi.ByHeight,o,0,0).from,i.lineAt(c+1e3*(1-r),oi.ByHeight,o,0,0).to);if(t){let{head:g}=t.range;if(g<h.from||g>h.to){let $,y=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),O=i.lineAt(g,oi.ByPos,o,0,0);$="center"==t.y?(O.top+O.bottom)/2-y/2:"start"==t.y||"nearest"==t.y&&g<h.from?O.top:O.bottom-y,h=new o_(i.lineAt($-500,oi.ByHeight,o,0,0).from,i.lineAt($+y+500,oi.ByHeight,o,0,0).to)}}return h}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new o_(this.heightMap.lineAt(r,oi.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,oi.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,oi.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,oi.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:c}=this;return(0==e||i<=a-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||o>=c+Math.max(10,Math.min(r,250)))&&i>a-2e3&&o<c+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new iD(t.mapPos(i.from),t.mapPos(i.to),i.size));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,a=i<<1;if(this.defaultTextDirection!=Mi.LTR&&!r)return[];let c=[],h=(g,y,O,$)=>{if(y-g<o)return;let K=this.state.selection.main,re=[K.from];K.empty||re.push(K.to);for(let xe of re)if(xe>g&&xe<y)return h(g,xe-10,O,$),void h(xe+10,y,O,$);let he=function gK(n,e){for(let t of n)if(e(t))return t}(e,xe=>xe.from>=O.from&&xe.to<=O.to&&Math.abs(xe.from-g)<o&&Math.abs(xe.to-y)<o&&!re.some(Pe=>xe.from<Pe&&xe.to>Pe));if(!he){if(y<O.to&&t&&r&&t.visibleRanges.some(xe=>xe.from<=y&&xe.to>=y)){let xe=t.moveToLineBoundary(kt.cursor(y),!1,!0).head;xe>g&&(y=xe)}he=new iD(g,y,this.gapSize(O,g,y,$))}c.push(he)};for(let g of this.viewportLines){if(g.length<a)continue;let y=mK(g.from,g.to,this.stateDeco);if(y.total<a)continue;let $,K,O=this.scrollTarget?this.scrollTarget.range.head:null;if(r){let he,xe,re=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=O){let Pe=a_(y,O),Je=((this.visibleBottom-this.visibleTop)/2+re)/g.height;he=Pe-Je,xe=Pe+Je}else he=(this.visibleTop-g.top-re)/g.height,xe=(this.visibleBottom-g.top+re)/g.height;$=s_(y,he),K=s_(y,xe)}else{let xe,Pe,re=y.total*this.heightOracle.charWidth,he=i*this.heightOracle.charWidth;if(null!=O){let Je=a_(y,O),Ke=((this.pixelViewport.right-this.pixelViewport.left)/2+he)/re;xe=Je-Ke,Pe=Je+Ke}else xe=(this.pixelViewport.left-he)/re,Pe=(this.pixelViewport.right+he)/re;$=s_(y,xe),K=s_(y,Pe)}$>g.from&&h(g.from,$,g,y),K<g.to&&h(K,g.to,g,y)}return c}gapSize(e,t,r,i){let o=a_(i,r)-a_(i,t);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){iD.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=mn.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];ki.spans(e,this.viewport.from,this.viewport.to,{span(i,o){t.push({from:i,to:o})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=t[o].from||i.to!=t[o].to);return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||av(this.heightMap.lineAt(e,oi.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return av(this.heightMap.lineAt(this.scaler.fromDOM(e),oi.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return av(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class o_{constructor(e,t){this.from=e,this.to=t}}function mK(n,e,t){let r=[],i=n,o=0;return ki.spans(t,n,e,{span(){},point(a,c){a>i&&(r.push({from:i,to:a}),o+=a-i),i=c}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function s_({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:o,to:a}=e[i],c=a-o;if(r<=c)return o+r;r-=c}}function a_(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}const $F={toDOM:n=>n,fromDOM:n=>n,scale:1};class vK{constructor(e,t,r){let i=0,o=0,a=0;this.viewports=r.map(({from:c,to:h})=>{let g=t.lineAt(c,oi.ByPos,e,0,0).top,y=t.lineAt(h,oi.ByPos,e,0,0).bottom;return i+=y-g,{from:c,to:h,top:g,bottom:y,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let c of this.viewports)c.domTop=a+(c.top-o)*this.scale,a=c.domBottom=c.domTop+(c.bottom-c.top),o=c.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}}function av(n,e){if(1==e.scale)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Jc(n.from,n.length,t,r-t,Array.isArray(n.type)?n.type.map(i=>av(i,e)):n.type)}const l_=hn.define({combine:n=>n.join(" ")}),oD=hn.define({combine:n=>n.indexOf(!0)>-1}),sD=Ju.newName(),WF=Ju.newName(),YF=Ju.newName(),XF={"&light":"."+WF,"&dark":"."+YF};function aD(n,e,t){return new Ju(e,{finish:r=>/&/.test(r)?r.replace(/&\w*/,i=>{if("&"==i)return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r})}const yK=aD("."+sD,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},XF);class bK{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let c=o||a?[]:function xK(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new dF(t,r)),(i!=t||o!=r)&&e.push(new dF(i,o))),e}(e),h=new cF(c,e.state);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=function wK(n,e){if(0==n.length)return null;let t=n[0].pos,r=2==n.length?n[1].pos:t;return t>-1&&r>-1?kt.single(t+e,r+e):null}(c,this.bounds.from)}else{let c=e.observer.selectionRange,h=o&&o.node==c.focusNode&&o.offset==c.focusOffset||!Ep(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),g=a&&a.node==c.anchorNode&&a.offset==c.anchorOffset||!Ep(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset);this.newSel=kt.single(g,h)}}}function KF(n,e){let t,{newSel:r}=e,i=n.state.selection.main;if(e.bounds){let{from:o,to:a}=e.bounds,c=i.from,h=null;(8===n.inputState.lastKeyCode&&n.inputState.lastKeyTime>Date.now()-100||pn.android&&e.text.length<a-o)&&(c=i.to,h="end");let g=function _K(n,e,t,r){let i=Math.min(n.length,e.length),o=0;for(;o<i&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&n.length==e.length)return null;let a=n.length,c=e.length;for(;a>0&&c>0&&n.charCodeAt(a-1)==e.charCodeAt(c-1);)a--,c--;return"end"==r&&(t-=a+Math.max(0,o-Math.min(a,c))-o),a<o&&n.length<e.length?(o-=t<=o&&t>=a?o-t:0,c=o+(c-a),a=o):c<o&&(o-=t<=o&&t>=c?o-t:0,a=o+(a-c),c=o),{from:o,toA:a,toB:c}}(n.state.doc.sliceString(o,a,rd),e.text,c-o,h);g&&(pn.chrome&&13==n.inputState.lastKeyCode&&g.toB==g.from+2&&e.text.slice(g.from,g.toB)==rd+rd&&g.toB--,t={from:o+g.from,to:o+g.toA,insert:Lr.of(e.text.slice(g.from,g.toB).split(rd))})}else r&&(!n.hasFocus&&n.state.facet(J0)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:(pn.mac||pn.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&"off"==n.contentDOM.getAttribute("autocorrect")?(r&&2==t.insert.length&&(r=kt.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Lr.of([" "])}):pn.chrome&&t&&t.from==t.to&&t.from==i.head&&"\n "==t.insert.toString()&&n.lineWrapping&&(r&&(r=kt.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Lr.of([" "])}),t){let o=n.state;if(pn.ios&&n.inputState.flushIOSKey(n)||pn.android&&(t.from==i.from&&t.to==i.to&&1==t.insert.length&&2==t.insert.lines&&Sp(n.contentDOM,"Enter",13)||t.from==i.from-1&&t.to==i.to&&0==t.insert.length&&Sp(n.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&0==t.insert.length&&Sp(n.contentDOM,"Delete",46)))return!0;let c,a=t.insert.toString();if(n.state.facet(qN).some(g=>g(n,t.from,t.to,a)))return!0;if(n.inputState.composing>=0&&n.inputState.composing++,t.from>=i.from&&t.to<=i.to&&t.to-t.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==t.from+t.insert.length)&&n.inputState.composing<0){let g=i.from<t.from?o.sliceDoc(i.from,t.from):"",y=i.to>t.to?o.sliceDoc(t.to,i.to):"";c=o.replaceSelection(n.state.toText(g+t.insert.sliceString(0,void 0,n.state.lineBreak)+y))}else{let g=o.changes(t),y=r&&r.main.to<=g.newLength?r.main:void 0;if(o.selection.ranges.length>1&&n.inputState.composing>=0&&t.to<=i.to&&t.to>=i.to-10){let O=n.state.sliceDoc(t.from,t.to),$=pF(n)||n.state.doc.lineAt(i.head),K=i.to-t.to,re=i.to-i.from;c=o.changeByRange(he=>{if(he.from==i.from&&he.to==i.to)return{changes:g,range:y||he.map(g)};let xe=he.to-K,Pe=xe-O.length;if(he.to-he.from!=re||n.state.sliceDoc(Pe,xe)!=O||$&&he.to>=$.from&&he.from<=$.to)return{range:he};let Je=o.changes({from:Pe,to:xe,insert:t.insert}),Ke=he.to-i.to;return{changes:Je,range:y?kt.range(Math.max(0,y.anchor+Ke),Math.max(0,y.head+Ke)):he.map(Je)}})}else c={changes:g,selection:y&&o.selection.replaceRange(y)}}let h="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,h+=".compose",n.inputState.compositionFirstChange&&(h+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(c,{scrollIntoView:!0,userEvent:h}),!0}if(r&&!r.main.eq(i)){let o=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&("select"==n.inputState.lastSelectionOrigin&&(o=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}return!1}const EK={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},lD=pn.ie&&pn.ie_version<=11;class CK{constructor(e){this.view=e,this.active=!1,this.selectionRange=new xX,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(pn.ie&&pn.ie_version<=11||pn.ios&&e.composing)&&t.some(r=>"childList"==r.type&&r.removedNodes.length||"characterData"==r.type&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),lD&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(J0)?r.root.activeElement!=this.dom:!W0(r.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);o&&o.ignoreEvent(e)?t||(this.selectionChanged=!1):(pn.ie&&pn.ie_version<=11||pn.android&&pn.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Y0(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=pn.safari&&11==e.root.nodeType&&function vX(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom&&function DK(n){let e=null;function t(h){h.preventDefault(),h.stopImmediatePropagation(),e=h.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let r=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset,c=n.docView.domAtPos(n.state.selection.main.anchor);return Y0(c.node,c.offset,o,a)&&([r,i,o,a]=[o,a,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:a}}(this.view)||$0(e.root);if(!t||this.selectionRange.eq(t))return!1;let r=W0(this.dom,t);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function EX(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(;;)if(r){if(1!=t.nodeType)return!1;let i=t.childNodes[r-1];"false"==i.contentEditable?r--:(t=i,r=nv(t))}else{if(t==n)return!0;r=X0(t),t=t.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(1==r.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else{if(11!=r.nodeType)break;r=r.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,EK),lD&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),lD&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),!this.flush()&&o.force&&Sp(this.dom,o.key,o.keyCode))})),(!this.delayedAndroidKey||"Enter"==e)&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!(null===(r=this.delayedAndroidKey)||void 0===r||!r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let o of e){let a=this.readMutation(o);a&&(a.typeOver&&(i=!0),-1==t?({from:t,to:r}=a):(t=Math.min(a.from,t),r=Math.max(a.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&W0(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new bK(this.view,e,t,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let r=this.view.state,i=KF(this.view,t);return this.view.state==r&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let r=qF(t,e.previousSibling||e.target.previousSibling,-1),i=qF(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,r,i;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(r=this.resizeScroll)||void 0===r||r.disconnect(),null===(i=this.resizeContent)||void 0===i||i.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function qF(n,e,t){for(;e;){let r=di.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}let Un=(()=>{class n{constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(r=>this.update([r])),this.dispatch=this.dispatch.bind(this),this._root=t.root||function wX(n){for(;n;){if(n&&(9==n.nodeType||11==n.nodeType&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}(t.parent)||document,this.viewState=new GF(t.state||Es.create(t)),this.plugins=this.state.facet(iv).map(r=>new KC(r));for(let r of this.plugins)r.update(this);this.observer=new CK(this),this.inputState=new KX(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new hF(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...t){this._dispatch(1==t.length&&t[0]instanceof ic?t[0]:this.state.update(...t))}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let o,r=!1,i=!1,a=this.state;for(let K of t){if(K.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=K.state}if(this.destroyed)return void(this.viewState.state=a);let c=this.hasFocus,h=0,g=null;t.some(K=>K.annotation(FF))?(this.inputState.notifiedFocused=c,h=1):c!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=c,g=LF(a,c),g||(h=1));let y=this.observer.delayedAndroidKey,O=null;if(y?(this.observer.clearDelayedAndroidKey(),O=this.observer.readChange(),(O&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(O=null)):this.observer.clear(),a.facet(Es.phrases)!=this.state.facet(Es.phrases))return this.setState(a);o=t_.create(this,a,t),o.flags|=h;let $=this.viewState.scrollTarget;try{this.updateState=2;for(let K of t){if($&&($=$.map(K.changes)),K.scrollIntoView){let{main:re}=K.state.selection;$=new Q0(re.empty?re:kt.cursor(re.head,re.head>re.anchor?-1:1))}for(let re of K.effects)re.is(eF)&&($=re.value)}this.viewState.update(o,$),this.bidiCache=c_.update(this.bidiCache,o.changes),o.empty||(this.updatePlugins(o),this.inputState.update(o)),r=this.docView.update(o),this.state.facet(sv)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(r,t.some(K=>K.isUserEvent("select.pointer")))}finally{this.updateState=0}if(o.startState.facet(l_)!=o.state.facet(l_)&&(this.viewState.mustMeasureContent=!0),(r||i||$||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!o.empty)for(let K of this.state.facet(XC))K(o);(g||O)&&Promise.resolve().then(()=>{g&&this.state==g.startState&&this.dispatch(g),O&&!KF(this,O)&&y.force&&Sp(this.contentDOM,y.key,y.keyCode)})}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let r=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new GF(t),this.plugins=t.facet(iv).map(i=>new KC(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new hF(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(t){let r=t.startState.facet(iv),i=t.state.facet(iv);if(r!=i){let o=[];for(let a of i){let c=r.indexOf(a);if(c<0)o.push(new KC(a));else{let h=this.plugins[c];h.mustUpdate=t,o.push(h)}}for(let a of this.plugins)a.mustUpdate!=t&&a.destroy(this);this.plugins=o,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let o of this.plugins)o.mustUpdate=t;for(let o=0;o<this.plugins.length;o++)this.plugins[o].update(this)}measure(t=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.forceFlush();let r=null,{scrollHeight:i,scrollTop:o,clientHeight:a}=this.scrollDOM,c=o>i-a-4?i:o;try{for(let h=0;;h++){this.updateState=1;let g=this.viewport,y=this.viewState.lineBlockAtHeight(c),O=this.viewState.measure(this);if(!O&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(h>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let $=[];4&O||([this.measureRequests,$]=[$,this.measureRequests]);let K=$.map(Pe=>{try{return Pe.read(this)}catch(Je){return da(this.state,Je),ZF}}),re=t_.create(this,this.state,[]),he=!1,xe=!1;re.flags|=O,r?r.flags|=O:r=re,this.updateState=2,re.empty||(this.updatePlugins(re),this.inputState.update(re),this.updateAttrs(),he=this.docView.update(re));for(let Pe=0;Pe<$.length;Pe++)if(K[Pe]!=ZF)try{let Je=$[Pe];Je.write&&Je.write(K[Pe],this)}catch(Je){da(this.state,Je)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,xe=!0;else{let Pe=this.viewState.lineBlockAt(y.from).top-y.top;(Pe>1||Pe<-1)&&(this.scrollDOM.scrollTop+=Pe,xe=!0)}if(he&&this.docView.updateSelection(!0),this.viewport.from==g.from&&this.viewport.to==g.to&&!xe&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let h of this.state.facet(XC))h(r)}get themeClasses(){return sD+" "+(this.state.facet(oD)?YF:WF)+" "+this.state.facet(l_)}updateAttrs(){let t=QF(this,tF,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(J0)?"true":"false",class:"cm-content",style:`${pn.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),QF(this,e_,r);let i=this.observer.ignore(()=>{let o=$C(this.contentDOM,this.contentAttrs,r),a=$C(this.dom,this.editorAttrs,t);return o||a});return this.editorAttrs=t,this.contentAttrs=r,i}showAnnouncements(t){let r=!0;for(let i of t)for(let o of i.effects)o.is(n.announce)&&(r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=o.value)}mountStyles(){this.styleModules=this.state.facet(sv),Ju.mount(this.root,this.styleModules.concat(yK).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===t.key)return void(this.measureRequests[r]=t);this.measureRequests.push(t)}}plugin(t){let r=this.pluginMap.get(t);return(void 0===r||r&&r.spec!=t)&&this.pluginMap.set(t,r=this.plugins.find(i=>i.spec==t)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,r,i){return eD(this,t,xF(this,t,r,i))}moveByGroup(t,r){return eD(this,t,xF(this,t,r,i=>function YX(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return o=>{let a=r(o);return i==yi.Space&&(i=a),i==a}}(this,t.head,i)))}moveToLineBoundary(t,r,i=!0){return function WX(n,e,t,r){let i=n.state.doc.lineAt(e.head),o=r&&n.lineWrapping?n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head):null;if(o){let h=n.dom.getBoundingClientRect(),g=n.textDirectionAt(i.from),y=n.posAtCoords({x:t==(g==Mi.LTR)?h.right-1:h.left+1,y:(o.top+o.bottom)/2});if(null!=y)return kt.cursor(y,t?-1:1)}let a=Cs.find(n.docView,e.head);return kt.cursor(a?t?a.posAtEnd:a.posAtStart:t?i.to:i.from,t?-1:1)}(this,t,r,i)}moveVertically(t,r,i){return eD(this,t,function XX(n,e,t,r){let i=e.head,o=t?1:-1;if(i==(t?n.state.doc.length:0))return kt.cursor(i,e.assoc);let c,a=e.goalColumn,h=n.contentDOM.getBoundingClientRect(),g=n.coordsAtPos(i),y=n.documentTop;if(g)null==a&&(a=g.left-h.left),c=o<0?g.top:g.bottom;else{let K=n.viewState.lineBlockAt(i);null==a&&(a=Math.min(h.right-h.left,n.defaultCharacterWidth*(i-K.from))),c=(o<0?K.top:K.bottom)+y}let O=h.left+a,$=r??n.defaultLineHeight>>1;for(let K=0;;K+=10){let re=c+($+K)*o,he=bF(n,{x:O,y:re},!1,o);if(re<h.top||re>h.bottom||(o<0?he<i:he>i))return kt.cursor(he,e.assoc,void 0,a)}}(this,t,r,i))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,r=0){return this.docView.posFromDOM(t,r)}posAtCoords(t,r=!0){return this.readMeasured(),bF(this,t,r)}coordsAtPos(t,r=1){this.readMeasured();let i=this.docView.coordsAt(t,r);if(!i||i.left==i.right)return i;let o=this.state.doc.lineAt(t),a=this.bidiSpans(o);return NC(i,a[kp.find(a,t-o.from,-1,r)].dir==Mi.LTR==r>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(QN)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>SK)return sF(t.length);let r=this.textDirectionAt(t.from);for(let o of this.bidiCache)if(o.from==t.from&&o.dir==r)return o.order;let i=function oF(n,e){let t=n.length,r=e==qC?1:2,i=e==qC?2:1;if(!n||1==r&&!RX.test(n))return sF(t);for(let a=0,c=r,h=r;a<t;a++){let g=OX(n.charCodeAt(a));512==g?g=c:8==g&&4==h&&(g=16),Ti[a]=4==g?2:g,7&g&&(h=g),c=g}for(let a=0,c=r,h=r;a<t;a++){let g=Ti[a];if(128==g)a<t-1&&c==Ti[a+1]&&24&c?g=Ti[a]=c:Ti[a]=256;else if(64==g){let y=a+1;for(;y<t&&64==Ti[y];)y++;let O=a&&8==c||y<t&&8==Ti[y]?1==h?1:8:256;for(let $=a;$<y;$++)Ti[$]=O;a=y-1}else 8==g&&1==h&&(Ti[a]=1);c=g,7&g&&(h=g)}for(let g,y,O,a=0,c=0,h=0;a<t;a++)if(y=ZC[g=n.charCodeAt(a)])if(y<0){for(let $=c-3;$>=0;$-=3)if(sc[$+1]==-y){let K=sc[$+2],re=2&K?r:4&K?1&K?i:r:0;re&&(Ti[a]=Ti[sc[$]]=re),c=$;break}}else{if(189==sc.length)break;sc[c++]=a,sc[c++]=g,sc[c++]=h}else if(2==(O=Ti[a])||1==O){let $=O==r;h=$?0:1;for(let K=c-3;K>=0;K-=3){let re=sc[K+2];if(2&re)break;if($)sc[K+2]|=2;else{if(4&re)break;sc[K+2]|=4}}}for(let a=0;a<t;a++)if(256==Ti[a]){let c=a+1;for(;c<t&&256==Ti[c];)c++;let h=1==(a?Ti[a-1]:r),y=h==(1==(c<t?Ti[c]:r))?h?1:2:r;for(let O=a;O<c;O++)Ti[O]=y;a=c-1}let o=[];if(1==r)for(let a=0;a<t;){let c=a,h=1!=Ti[a++];for(;a<t&&h==(1!=Ti[a]);)a++;if(h)for(let g=a;g>c;){let y=g,O=2!=Ti[--g];for(;g>c&&O==(2!=Ti[g-1]);)g--;o.push(new kp(g,y,O?2:1))}else o.push(new kp(c,a,0))}else for(let a=0;a<t;){let c=a,h=2==Ti[a++];for(;a<t&&h==(2==Ti[a]);)a++;o.push(new kp(c,a,h?1:2))}return o}(t.text,r);return this.bidiCache.push(new c_(t.from,t.to,r,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||pn.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{kN(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,r={}){return eF.of(new Q0("number"==typeof t?kt.cursor(t):t,r.y,r.x,r.yMargin,r.xMargin))}static domEventHandlers(t){return Ni.define(()=>({}),{eventHandlers:t})}static theme(t,r){let i=Ju.newName(),o=[l_.of(i),sv.of(aD(`.${i}`,t))];return r&&r.dark&&o.push(oD.of(!0)),o}static baseTheme(t){return Sh.lowest(sv.of(aD("."+sD,t,XF)))}static findFromDOM(t){var r;let i=t.querySelector(".cm-content");return(null===(r=(i&&di.get(i)||di.get(t))?.rootView)||void 0===r?void 0:r.view)||null}}return n.styleModule=sv,n.inputHandler=qN,n.focusChangeEffect=ZN,n.perLineTextDirection=QN,n.exceptionSink=KN,n.updateListener=XC,n.editable=J0,n.mouseSelectionStyle=XN,n.dragMovesSelection=YN,n.clickAddsSelectionRange=WN,n.decorations=ov,n.atomicRanges=nF,n.scrollMargins=rF,n.darkTheme=oD,n.contentAttributes=e_,n.editorAttributes=tF,n.lineWrapping=n.contentAttributes.of({class:"cm-lineWrapping"}),n.announce=dr.define(),n})();const SK=4096,ZF={};class c_{constructor(e,t,r,i){this.from=e,this.to=t,this.dir=r,this.order=i}static update(e,t){if(t.empty)return e;let r=[],i=e.length?e[e.length-1].dir:Mi.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let a=e[o];a.dir==i&&!t.touchesRange(a.from,a.to)&&r.push(new c_(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.order))}return r}}function QF(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],a="function"==typeof o?o(n):o;a&&UC(a,t)}return t}const kK=pn.mac?"mac":pn.windows?"win":pn.linux?"linux":"key";function u_(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),!1!==t&&e.shiftKey&&(n="Shift-"+n),n}const d_=hn.define({enables:Sh.default(Un.domEventHandlers({keydown:(n,e)=>tL(eL(e.state),n,e,"editor")}))}),JF=new WeakMap;function eL(n){let e=n.facet(d_),t=JF.get(e);return t||JF.set(e,t=function OK(n,e=kK){let t=Object.create(null),r=Object.create(null),i=(a,c)=>{let h=r[a];if(null==h)r[a]=c;else if(h!=c)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},o=(a,c,h,g)=>{var y,O;let $=t[a]||(t[a]=Object.create(null)),K=c.split(/ (?!$)/).map(xe=>function MK(n,e){const t=n.split(/-(?!$)/);let i,o,a,c,r=t[t.length-1];"Space"==r&&(r=" ");for(let h=0;h<t.length-1;++h){const g=t[h];if(/^(cmd|meta|m)$/i.test(g))c=!0;else if(/^a(lt)?$/i.test(g))i=!0;else if(/^(c|ctrl|control)$/i.test(g))o=!0;else if(/^s(hift)?$/i.test(g))a=!0;else{if(!/^mod$/i.test(g))throw new Error("Unrecognized modifier name: "+g);"mac"==e?c=!0:o=!0}}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),c&&(r="Meta-"+r),a&&(r="Shift-"+r),r}(xe,e));for(let xe=1;xe<K.length;xe++){let Pe=K.slice(0,xe).join(" ");i(Pe,!0),$[Pe]||($[Pe]={preventDefault:!0,run:[Je=>{let Ke=id={view:Je,prefix:Pe,scope:a};return setTimeout(()=>{id==Ke&&(id=null)},IK),!0}]})}let re=K.join(" ");i(re,!1);let he=$[re]||($[re]={preventDefault:!1,run:(null===(O=null===(y=$._any)||void 0===y?void 0:y.run)||void 0===O?void 0:O.slice())||[]});h&&he.run.push(h),g&&(he.preventDefault=!0)};for(let a of n){let c=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let g of c){let y=t[g]||(t[g]=Object.create(null));y._any||(y._any={preventDefault:!1,run:[]});for(let O in y)y[O].run.push(a.any)}let h=a[e]||a.key;if(h)for(let g of c)o(g,h,a.run,a.preventDefault),a.shift&&o(g,"Shift-"+h,a.shift,a.preventDefault)}return t}(e.reduce((r,i)=>r.concat(i),[]))),t}let id=null;const IK=4e3;function tL(n,e,t,r){let i=function gX(n){var t=!(mX&&(n.ctrlKey||n.altKey||n.metaKey)||pX&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?ev:ed)[n.keyCode]||n.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(e),a=Ra(jo(i,0))==i.length&&" "!=i,c="",h=!1;id&&id.view==t&&id.scope==r&&(c=id.prefix+" ",(h=EF.indexOf(e.keyCode)<0)&&(id=null));let $,K,g=new Set,y=re=>{if(re){for(let he of re.run)if(!g.has(he)&&(g.add(he),he(t,e)))return!0;re.preventDefault&&(h=!0)}return!1},O=n[r];if(O){if(y(O[c+u_(i,e,!a)]))return!0;if(a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(pn.windows&&e.ctrlKey&&e.altKey)&&($=ed[e.keyCode])&&$!=i){if(y(O[c+u_($,e,!0)]))return!0;if(e.shiftKey&&(K=ev[e.keyCode])!=i&&K!=$&&y(O[c+u_(K,e,!1)]))return!0}else if(a&&e.shiftKey&&y(O[c+u_(i,e,!0)]))return!0;if(y(O._any))return!0}return h}class lv{constructor(e,t,r,i,o){this.className=e,this.left=t,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=nL(e);return[new lv(t,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}return function RK(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),o=n.textDirection==Mi.LTR,a=n.contentDOM,c=a.getBoundingClientRect(),h=nL(n),g=a.querySelector(".cm-line"),y=g&&window.getComputedStyle(g),O=c.left+(y?parseInt(y.paddingLeft)+Math.min(0,parseInt(y.textIndent)):0),$=c.right-(y?parseInt(y.paddingRight):0),K=iL(n,r),re=iL(n,i),he=K.type==ei.Text?K:null,xe=re.type==ei.Text?re:null;if(n.lineWrapping&&(he&&(he=rL(n,r,he)),xe&&(xe=rL(n,i,xe))),he&&xe&&he.from==xe.from)return Je(Ke(t.from,t.to,he));{let wt=he?Ke(t.from,null,he):at(K,!1),Dt=xe?Ke(null,t.to,xe):at(re,!0),rn=[];return(he||K).to<(xe||re).from-1?rn.push(Pe(O,wt.bottom,$,Dt.top)):wt.bottom<Dt.top&&n.elementAtHeight((wt.bottom+Dt.top)/2).type==ei.Text&&(wt.bottom=Dt.top=(wt.bottom+Dt.top)/2),Je(wt).concat(rn).concat(Je(Dt))}function Pe(wt,Dt,rn,yr){return new lv(e,wt-h.left,Dt-h.top-.01,rn-wt,yr-Dt+.01)}function Je({top:wt,bottom:Dt,horizontal:rn}){let yr=[];for(let An=0;An<rn.length;An+=2)yr.push(Pe(rn[An],wt,rn[An+1],Dt));return yr}function Ke(wt,Dt,rn){let yr=1e9,An=-1e9,Rn=[];function qr(Wo,ro,Wt,un,dn){let bn=n.coordsAtPos(Wo,Wo==rn.to?-2:2),hr=n.coordsAtPos(Wt,Wt==rn.from?2:-2);yr=Math.min(bn.top,hr.top,yr),An=Math.max(bn.bottom,hr.bottom,An),dn==Mi.LTR?Rn.push(o&&ro?O:bn.left,o&&un?$:hr.right):Rn.push(!o&&un?O:hr.left,!o&&ro?$:bn.right)}let hi=wt??rn.from,_i=Dt??rn.to;for(let Wo of n.visibleRanges)if(Wo.to>hi&&Wo.from<_i)for(let ro=Math.max(Wo.from,hi),Wt=Math.min(Wo.to,_i);;){let un=n.state.doc.lineAt(ro);for(let dn of n.bidiSpans(un)){let bn=dn.from+un.from,hr=dn.to+un.from;if(bn>=Wt)break;hr>ro&&qr(Math.max(bn,ro),null==wt&&bn<=hi,Math.min(hr,Wt),null==Dt&&hr>=_i,dn.dir)}if(ro=un.to+1,ro>=Wt)break}return 0==Rn.length&&qr(hi,null==wt,_i,null==Dt,n.textDirection),{top:yr,bottom:An,horizontal:Rn}}function at(wt,Dt){let rn=c.top+(Dt?wt.top:wt.bottom);return{top:rn,bottom:rn,horizontal:[]}}}(e,t,r)}}function nL(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Mi.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function rL(n,e,t){let r=kt.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(r,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(r,!0,!0).from),type:ei.Text}}function iL(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type))for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==ei.Text))return r;return t}class NK{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(h_)!=e.state.facet(h_)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(h_);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!function PK(n,e){return n.constructor==e.constructor&&n.eq(e)}(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const h_=hn.define();function oL(n){return[Ni.define(e=>new NK(e,n)),h_.of(n)]}const sL=!pn.ios,cv=hn.define({combine:n=>vl(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function FK(n={}){return[cv.of(n),LK,BK,VK,JN.of(!0)]}function aL(n){return n.startState.facet(cv)!=n.state.facet(cv)}const LK=oL({above:!0,markers(n){let{state:e}=n,t=e.facet(cv),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||sL:t.drawRangeCursor){let a=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=i.empty?i:kt.cursor(i.head,i.head>i.anchor?-1:1);for(let h of lv.forRange(n,a,c))r.push(h)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName="cm-blink"==e.style.animationName?"cm-blink2":"cm-blink");let t=aL(n);return t&&lL(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){lL(e.state,n)},class:"cm-cursorLayer"});function lL(n,e){e.style.animationDuration=n.facet(cv).cursorBlinkRate+"ms"}const BK=oL({above:!1,markers:n=>n.state.selection.ranges.map(e=>e.empty?[]:lv.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t)),update:(n,e)=>n.docChanged||n.selectionSet||n.viewportChanged||aL(n),class:"cm-selectionLayer"}),cL={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};sL&&(cL[".cm-line"].caretColor="transparent !important");const VK=Sh.highest(Un.theme(cL)),uL=dr.define({map:(n,e)=>null==n?null:e.mapPos(n)}),uv=no.define({create:()=>null,update:(n,e)=>(null!=n&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(uL)?r.value:t,n))}),zK=Ni.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(uv);null==t?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(uv)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let n=this.view.state.field(uv),e=null!=n&&this.view.coordsAtPos(n);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(n){this.cursor&&(n?(this.cursor.style.left=n.left+"px",this.cursor.style.top=n.top+"px",this.cursor.style.height=n.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(uv)!=n&&this.view.dispatch({effects:uL.of(n)})}},{eventHandlers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dL(n,e,t,r,i){e.lastIndex=0;for(let c,o=n.iterRange(t,r),a=t;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;c=e.exec(o.value);)i(a+c.index,c)}class cD{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:o,maxLength:a=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(c,h,g,y)=>i(y,g,g+c[0].length,c,h);else if("function"==typeof r)this.addMatch=(c,h,g,y)=>{let O=r(c,h,g);O&&y(g,g+c[0].length,O)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(c,h,g,y)=>y(g,g+c[0].length,r)}this.boundary=o,this.maxLength=a}createDeco(e){let t=new Qu,r=t.add.bind(t);for(let{from:i,to:o}of function jK(n,e){let t=n.visibleRanges;if(1==t.length&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:o}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),o=Math.min(n.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}(e,this.maxLength))dL(e.state.doc,this.regexp,i,o,(a,c)=>this.addMatch(c,e,a,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,a,c,h)=>{h>e.view.viewport.from&&c<e.view.viewport.to&&(r=Math.min(c,r),i=Math.max(h,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let o of e.visibleRanges){let a=Math.max(o.from,r),c=Math.min(o.to,i);if(c>a){let h=e.state.doc.lineAt(a),g=h.to<c?e.state.doc.lineAt(c):h,y=Math.max(o.from,h.from),O=Math.min(o.to,g.to);if(this.boundary){for(;a>h.from;a--)if(this.boundary.test(h.text[a-1-h.from])){y=a;break}for(;c<g.to;c++)if(this.boundary.test(g.text[c-g.from])){O=c;break}}let K,$=[],re=(he,xe,Pe)=>$.push(Pe.range(he,xe));if(h==g)for(this.regexp.lastIndex=y-h.from;(K=this.regexp.exec(h.text))&&K.index<O-h.from;)this.addMatch(K,e,K.index+h.from,re);else dL(e.state.doc,this.regexp,y,O,(he,xe)=>this.addMatch(xe,e,he,re));t=t.update({filterFrom:y,filterTo:O,filter:(he,xe)=>he<y||xe>O,add:$})}}return t}}const uD=null!=/x/.unicode?"gu":"g",UK=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",uD),GK={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let dD=null;const f_=hn.define({combine(n){let e=vl(n,{render:null,specialChars:UK,addSpecialChars:null});return(e.replaceTabs=!function $K(){var n;if(null==dD&&typeof document<"u"&&document.body){let e=document.body.style;dD=null!=(null!==(n=e.tabSize)&&void 0!==n?n:e.MozTabSize)}return dD||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,uD)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,uD)),e}});function WK(n={}){return[f_.of(n),hL||(hL=Ni.fromClass(class{constructor(n){this.view=n,this.decorations=mn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(f_)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new cD({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,o=jo(e[0],0);if(9==o){let a=i.lineAt(r),c=t.state.tabSize,h=Jg(a.text,c,r-a.from);return mn.replace({widget:new ZK((c-h%c)*this.view.defaultCharacterWidth)})}return this.decorationCache[o]||(this.decorationCache[o]=mn.replace({widget:new qK(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(f_);n.startState.facet(f_)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))]}let hL=null;class qK extends Qc{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function KK(n){return n>=32?"\u2022":10==n?"\u2424":String.fromCharCode(9216+n)}(this.code),r=e.state.phrase("Control character")+" "+(GK[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let o=document.createElement("span");return o.textContent=t,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class ZK extends Qc{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const JK=mn.line({class:"cm-activeLine"}),eq=Ni.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(JK.range(i.from)),e=i.from)}return mn.set(t)}},{decorations:n=>n.decorations}),hD=2e3;function pL(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,o=i>hD?-1:i==r.length?function rq(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}(n,e.clientX):Jg(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:o,off:i}}function oq(n){let e=n?.eventFilter||(t=>t.altKey&&0==t.button);return Un.mouseSelectionStyle.of((t,r)=>e(r)?function iq(n,e){let t=pL(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(t.line).from),a=i.state.doc.lineAt(o);t={line:a.number,col:t.col,off:Math.min(t.off,a.length)},r=r.map(i.changes)}},get(i,o,a){let c=pL(n,i);if(!c)return r;let h=function nq(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),o=[];if(e.off>hD||t.off>hD||e.col<0||t.col<0){let a=Math.min(e.off,t.off),c=Math.max(e.off,t.off);for(let h=r;h<=i;h++){let g=n.doc.line(h);g.length<=c&&o.push(kt.range(g.from+a,g.to+c))}}else{let a=Math.min(e.col,t.col),c=Math.max(e.col,t.col);for(let h=r;h<=i;h++){let g=n.doc.line(h),y=IC(g.text,a,n.tabSize,!0);if(y<0)o.push(kt.cursor(g.to));else{let O=IC(g.text,c,n.tabSize);o.push(kt.range(g.from+y,g.from+O))}}}return o}(n.state,t,c);return h.length?kt.create(a?h.concat(r.ranges):h):r}}:null}(t,r):null)}const sq={Alt:[18,n=>n.altKey],Control:[17,n=>n.ctrlKey],Shift:[16,n=>n.shiftKey],Meta:[91,n=>n.metaKey]},aq={style:"cursor: crosshair"};function lq(n={}){let[e,t]=sq[n.key||"Alt"],r=Ni.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventHandlers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,Un.contentAttributes.of(i=>{var o;return null!==(o=i.plugin(r))&&void 0!==o&&o.isDown?aq:null})]}const p_="-10000px";class mL{constructor(e,t,r){this.facet=t,this.createTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(r)}update(e){var t;let r=e.state.facet(this.facet),i=r.filter(a=>a);if(r===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let o=[];for(let a=0;a<i.length;a++){let c=i[a],h=-1;if(c){for(let g=0;g<this.tooltips.length;g++){let y=this.tooltips[g];y&&y.create==c.create&&(h=g)}if(h<0)o[a]=this.createTooltipView(c);else{let g=o[a]=this.tooltipViews[h];g.update&&g.update(e)}}}for(let a of this.tooltipViews)o.indexOf(a)<0&&(a.dom.remove(),null===(t=a.destroy)||void 0===t||t.call(a));return this.input=r,this.tooltips=i,this.tooltipViews=o,!0}}function cq(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const m_=hn.define({combine:n=>{var e,t,r;return{position:pn.ios?"absolute":(null===(e=n.find(i=>i.position))||void 0===e?void 0:e.position)||"fixed",parent:(null===(t=n.find(i=>i.parent))||void 0===t?void 0:t.parent)||null,tooltipSpace:(null===(r=n.find(i=>i.tooltipSpace))||void 0===r?void 0:r.tooltipSpace)||cq}}}),gL=new WeakMap,fD=Ni.fromClass(class{constructor(n){this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(m_);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new mL(n,g_,t=>this.createTooltip(t)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(m_);if(r.position!=this.position){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=p_,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),null===(n=t.destroy)||void 0===n||n.call(t);null===(e=this.intersectionObserver)||void 0===e||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((e,t)=>{let r=this.manager.tooltipViews[t];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(m_).tooltipSpace(this.view)}}writeMeasure(n){var e;let{editor:t,space:r}=n,i=[];for(let o=0;o<this.manager.tooltips.length;o++){let a=this.manager.tooltips[o],c=this.manager.tooltipViews[o],{dom:h}=c,g=n.pos[o],y=n.size[o];if(!g||g.bottom<=Math.max(t.top,r.top)||g.top>=Math.min(t.bottom,r.bottom)||g.right<Math.max(t.left,r.left)-.1||g.left>Math.min(t.right,r.right)+.1){h.style.top=p_;continue}let O=a.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,$=O?7:0,K=y.right-y.left,re=null!==(e=gL.get(c))&&void 0!==e?e:y.bottom-y.top,he=c.offset||dq,xe=this.view.textDirection==Mi.LTR,Pe=y.width>r.right-r.left?xe?r.left:r.right-y.width:xe?Math.min(g.left-(O?14:0)+he.x,r.right-K):Math.max(r.left,g.left-K+(O?14:0)-he.x),Je=!!a.above;!a.strictSide&&(Je?g.top-(y.bottom-y.top)-he.y<r.top:g.bottom+(y.bottom-y.top)+he.y>r.bottom)&&Je==r.bottom-g.bottom>g.top-r.top&&(Je=!Je);let Ke=(Je?g.top-r.top:r.bottom-g.bottom)-$;if(Ke<re&&!1!==c.resize){if(Ke<this.view.defaultLineHeight){h.style.top=p_;continue}gL.set(c,re),h.style.height=(re=Ke)+"px"}else h.style.height&&(h.style.height="");let at=Je?g.top-re-$-he.y:g.bottom+$+he.y,wt=Pe+K;if(!0!==c.overlap)for(let Dt of i)Dt.left<wt&&Dt.right>Pe&&Dt.top<at+re&&Dt.bottom>at&&(at=Je?Dt.top-re-2-$:Dt.bottom+$+2);"absolute"==this.position?(h.style.top=at-n.parent.top+"px",h.style.left=Pe-n.parent.left+"px"):(h.style.top=at+"px",h.style.left=Pe+"px"),O&&(O.style.left=g.left+(xe?he.x:-he.x)-(Pe+14-7)+"px"),!0!==c.overlap&&i.push({left:Pe,top:at,right:wt,bottom:at+re}),h.classList.toggle("cm-tooltip-above",Je),h.classList.toggle("cm-tooltip-below",!Je),c.positioned&&c.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=p_}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),dq={x:0,y:0},g_=hn.define({enables:[fD,Un.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),dv=hn.define();class pD{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new mL(e,dv,t=>this.createHostedView(t))}static create(e){return new pD(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}}const hq=g_.compute([dv],n=>{let e=n.facet(dv).filter(t=>t);return 0===e.length?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>null!=t.end).map(t=>t.end)),create:pD.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class fq{constructor(e,t,r,i,o){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==t)return;let r=this.view.coordsAtPos(t);if(null==r||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(c=>c.from<=t&&c.to>=t),o=i&&i.dir==Mi.RTL?-1:1,a=this.source(this.view,t,e.x<r.left?-o:o);if(a?.then){let c=this.pending={pos:t};a.then(h=>{this.pending==c&&(this.pending=null,h&&this.view.dispatch({effects:this.setHover.of(h)}))},h=>da(this.view.state,h,"hover tooltip"))}else a&&this.view.dispatch({effects:this.setHover.of(a)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!vL(this.lastMove.target)||this.pending){let{pos:i}=r||this.pending,o=null!==(t=r?.end)&&void 0!==t?t:i;(i==o?this.view.posAtCoords(this.lastMove)!=i:!function pq(n,e,t,r,i,o){let a=document.createRange(),c=n.domAtPos(e),h=n.domAtPos(t);a.setEnd(h.node,h.offset),a.setStart(c.node,c.offset);let g=a.getClientRects();a.detach();for(let y=0;y<g.length;y++){let O=g[y];if(Math.max(O.top-i,i-O.bottom,O.left-r,r-O.right)<=o)return!0}return!1}(this.view,i,o,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!vL(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function vL(n){for(let e=n;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip"))return!0;return!1}function mq(n,e={}){let t=dr.define(),r=no.define({create:()=>null,update(i,o){if(i&&(e.hideOnChange&&(o.docChanged||o.selection)||e.hideOn&&e.hideOn(o,i)))return null;if(i&&o.docChanged){let a=o.changes.mapPos(i.pos,-1,ws.TrackDel);if(null==a)return null;let c=Object.assign(Object.create(null),i);c.pos=a,null!=i.end&&(c.end=o.changes.mapPos(i.end)),i=c}for(let a of o.effects)a.is(t)&&(i=a.value),a.is(vq)&&(i=null);return i},provide:i=>dv.from(i)});return[r,Ni.define(i=>new fq(i,n,r,t,e.hoverTime||300)),hq]}const vq=dr.define(),mD=hn.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function hv(n,e){let t=n.plugin(yL),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const yL=Ni.fromClass(class{constructor(n){this.input=n.state.facet(fv),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(mD);this.top=new v_(n,!0,e.topContainer),this.bottom=new v_(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(mD);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new v_(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new v_(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(fv);if(t!=this.input){let r=t.filter(h=>h),i=[],o=[],a=[],c=[];for(let h of r){let y,g=this.specs.indexOf(h);g<0?(y=h(n.view),c.push(y)):(y=this.panels[g],y.update&&y.update(n)),i.push(y),(y.top?o:a).push(y)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(a);for(let h of c)h.dom.classList.add("cm-panel"),h.mount&&h.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>Un.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class v_{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=bL(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=bL(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function bL(n){let e=n.nextSibling;return n.remove(),e}const fv=hn.define({enables:yL});class ac extends kh{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ac.prototype.elementClass="",ac.prototype.toDOM=void 0,ac.prototype.mapMode=ws.TrackBefore,ac.prototype.startSide=ac.prototype.endSide=-1,ac.prototype.point=!0;const y_=hn.define(),yq={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ki.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},pv=hn.define();function _L(n){return[xL(),pv.of(Object.assign(Object.assign({},yq),n))]}const gD=hn.define({combine:n=>n.some(e=>e)});function xL(n){let e=[bq];return n&&!1===n.fixed&&e.push(gD.of(!0)),e}const bq=Ni.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(pv).map(e=>new CL(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(gD),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<.8*(t.to-t.from))}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(gD)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=ki.iter(this.view.state.facet(y_),this.view.viewport.from),r=[],i=this.gutters.map(o=>new _q(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks){let a;if(Array.isArray(o.type)){for(let c of o.type)if(c.type==ei.Text){a=c;break}}else a=o.type==ei.Text?o:void 0;if(a){r.length&&(r=[]),EL(t,r,o.from);for(let c of i)c.line(this.view,a,r)}}for(let o of i)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(pv),t=n.state.facet(pv),r=n.docChanged||n.heightChanged||n.viewportChanged||!ki.eq(n.startState.facet(y_),n.state.facet(y_),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let o of t){let a=e.indexOf(o);a<0?i.push(new CL(this.view,o)):(this.gutters[a].update(n),i.push(this.gutters[a]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>Un.scrollMargins.of(e=>{let t=e.plugin(n);return t&&0!=t.gutters.length&&t.fixed?e.textDirection==Mi.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}:null})});function wL(n){return Array.isArray(n)?n:[n]}function EL(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class _q{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=ki.iter(e.markers,t.from)}line(e,t,r){let i=[];EL(this.cursor,i,t.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,t,i);o&&i.unshift(o);let a=this.gutter;if(0==i.length&&!a.config.renderEmptyElements)return;let c=t.top-this.height;if(this.i==a.elements.length){let h=new DL(e,t.height,c,i);a.elements.push(h),a.dom.appendChild(h.dom)}else a.elements[this.i].update(e,t.height,c,i);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class CL{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let a,o=i.target;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let h=o.getBoundingClientRect();a=(h.top+h.bottom)/2}else a=i.clientY;let c=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[r](e,c,i)&&i.preventDefault()});this.markers=wL(t.markers(e)),t.initialSpacer&&(this.spacer=new DL(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=wL(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!ki.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class DL{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function xq(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,a=0;;){let c=a,h=o<t.length?t[o++]:null,g=!1;if(h){let y=h.elementClass;y&&(r+=" "+y);for(let O=a;O<this.markers.length;O++)if(this.markers[O].compare(h)){c=O,g=!0;break}}else c=this.markers.length;for(;a<c;){let y=this.markers[a++];if(y.toDOM){y.destroy(i);let O=i.nextSibling;i.remove(),i=O}}if(!h)break;h.toDOM&&(g?i=i.nextSibling:this.dom.insertBefore(h.toDOM(e),i)),g&&a++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}const wq=hn.define(),Mp=hn.define({combine:n=>vl(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let o=r[i],a=t[i];r[i]=o?(c,h,g)=>o(c,h,g)||a(c,h,g):a}return r}})});class vD extends ac{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function yD(n,e){return n.state.facet(Mp).formatNumber(e,n.state)}const Eq=pv.compute([Mp],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(wq),lineMarker:(e,t,r)=>r.some(i=>i.toDOM)?null:new vD(yD(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(Mp)!=e.state.facet(Mp),initialSpacer:e=>new vD(yD(e,SL(e.state.doc.lines))),updateSpacer(e,t){let r=yD(t.view,SL(t.view.state.doc.lines));return r==e.number?e:new vD(r)},domEventHandlers:n.facet(Mp).domEventHandlers}));function Cq(n={}){return[Mp.of(n),xL(),Eq]}function SL(n){let e=9;for(;e<n;)e=10*e+9;return e}const Dq=new class extends ac{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Sq=y_.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(Dq.range(i)))}return ki.of(e)}),TL=1024;let Iq=0;class Pa{constructor(e,t){this.from=e,this.to=t}}class Qn{constructor(e={}){this.id=Iq++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=Ds.match(e)),t=>{let r=e(t);return void 0===r?null:[this,r]}}}Qn.closedBy=new Qn({deserialize:n=>n.split(" ")}),Qn.openedBy=new Qn({deserialize:n=>n.split(" ")}),Qn.group=new Qn({deserialize:n=>n.split(" ")}),Qn.contextHash=new Qn({perNode:!0}),Qn.lookAhead=new Qn({perNode:!0}),Qn.mounted=new Qn({perNode:!0});const Rq=Object.create(null);class Ds{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Rq,i=new Ds(e.name||"",t,e.id,(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0));if(e.props)for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(Qn.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Qn.group),o=-1;o<(i?i.length:0);o++){let a=t[o<0?r.name:i[o]];if(a)return a}}}}Ds.none=new Ds("",Object.create(null),0,8);class b_{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let o of e){let a=o(r);a&&(i||(i=Object.assign({},r.props)),i[a[0].id]=a[1])}t.push(i?new Ds(r.name,i,r.id,r.flags):r)}return new b_(t)}}const __=new WeakMap,AL=new WeakMap;var bi=(()=>{return(n=bi||(bi={}))[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays",bi;var n})();class Ai{constructor(e,t,r,i,o){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[a,c]of o)this.props["number"==typeof a?a:a.id]=c}}toString(){let e=this.prop(Qn.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new mv(this.topNode,e)}cursorAt(e,t=0,r=0){let i=__.get(this)||this.topNode,o=new mv(i);return o.moveTo(e,t),__.set(this,o._tree),o}get topNode(){return new Na(this,0,0,null)}resolve(e,t=0){let r=Tp(__.get(this)||this.topNode,e,t,!1);return __.set(this,r),r}resolveInner(e,t=0){let r=Tp(AL.get(this)||this.topNode,e,t,!0);return AL.set(this,r),r}iterate(e){let{enter:t,leave:r,from:i=0,to:o=this.length}=e;for(let a=this.cursor((e.mode||0)|bi.IncludeAnonymous);;){let c=!1;if(a.from<=o&&a.to>=i&&(a.type.isAnonymous||!1!==t(a))){if(a.firstChild())continue;c=!0}for(;c&&r&&!a.type.isAnonymous&&r(a),!a.nextSibling();){if(!a.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:xD(Ds.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new Ai(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new Ai(Ds.none,t,r,i)))}static build(e){return function Nq(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=TL,reused:o=[],minRepeatType:a=r.types.length}=n,c=Array.isArray(t)?new bD(t,t.length):t,h=r.types,g=0,y=0;function O(at,wt,Dt,rn,yr){let{id:An,start:Rn,end:qr,size:hi}=c,_i=y;for(;hi<0;){if(c.next(),-1==hi)return Dt.push(o[An]),void rn.push(Rn-at);if(-3==hi)return void(g=An);if(-4==hi)return void(y=An);throw new RangeError(`Unrecognized record size: ${hi}`)}let ro,Wt,Wo=h[An],un=Rn-at;if(qr-Rn<=i&&(Wt=function he(at,wt){let Dt=c.fork(),rn=0,yr=0,An=0,Rn=Dt.end-i,qr={size:0,start:0,skip:0};e:for(let hi=Dt.pos-at;Dt.pos>hi;){let _i=Dt.size;if(Dt.id==wt&&_i>=0){qr.size=rn,qr.start=yr,qr.skip=An,An+=4,rn+=4,Dt.next();continue}let Wo=Dt.pos-_i;if(_i<0||Wo<hi||Dt.start<Rn)break;let ro=Dt.id>=a?4:0,Wt=Dt.start;for(Dt.next();Dt.pos>Wo;){if(Dt.size<0){if(-3!=Dt.size)break e;ro+=4}else Dt.id>=a&&(ro+=4);Dt.next()}yr=Wt,rn+=_i,An+=ro}return(wt<0||rn==at)&&(qr.size=rn,qr.start=yr,qr.skip=An),qr.size>4?qr:void 0}(c.pos-wt,yr))){let dn=new Uint16Array(Wt.size-Wt.skip),bn=c.pos-Wt.size,hr=dn.length;for(;c.pos>bn;)hr=xe(Wt.start,dn,hr);ro=new Ih(dn,qr-Wt.start,r),un=Wt.start-at}else{let dn=c.pos-hi;c.next();let bn=[],hr=[],To=An>=a?An:-1,io=0,va=qr;for(;c.pos>dn;)To>=0&&c.id==To&&c.size>=0?(c.end<=va-i&&(K(bn,hr,Rn,io,c.end,va,To,_i),io=bn.length,va=c.end),c.next()):O(Rn,dn,bn,hr,To);if(To>=0&&io>0&&io<bn.length&&K(bn,hr,Rn,io,Rn,va,To,_i),bn.reverse(),hr.reverse(),To>-1&&io>0){let ai=function $(at){return(wt,Dt,rn)=>{let Rn,qr,yr=0,An=wt.length-1;if(An>=0&&(Rn=wt[An])instanceof Ai){if(!An&&Rn.type==at&&Rn.length==rn)return Rn;(qr=Rn.prop(Qn.lookAhead))&&(yr=Dt[An]+Rn.length+qr)}return re(at,wt,Dt,rn,yr)}}(Wo);ro=xD(Wo,bn,hr,0,bn.length,0,qr-Rn,ai,ai)}else ro=re(Wo,bn,hr,qr-Rn,_i-qr)}Dt.push(ro),rn.push(un)}function K(at,wt,Dt,rn,yr,An,Rn,qr){let hi=[],_i=[];for(;at.length>rn;)hi.push(at.pop()),_i.push(wt.pop()+Dt-yr);at.push(re(r.types[Rn],hi,_i,An-yr,qr-An)),wt.push(yr-Dt)}function re(at,wt,Dt,rn,yr=0,An){if(g){let Rn=[Qn.contextHash,g];An=An?[Rn].concat(An):[Rn]}if(yr>25){let Rn=[Qn.lookAhead,yr];An=An?[Rn].concat(An):[Rn]}return new Ai(at,wt,Dt,rn,An)}function xe(at,wt,Dt){let{id:rn,start:yr,end:An,size:Rn}=c;if(c.next(),Rn>=0&&rn<a){let qr=Dt;if(Rn>4){let hi=c.pos-(Rn-4);for(;c.pos>hi;)Dt=xe(at,wt,Dt)}wt[--Dt]=qr,wt[--Dt]=An-at,wt[--Dt]=yr-at,wt[--Dt]=rn}else-3==Rn?g=rn:-4==Rn&&(y=rn);return Dt}let Pe=[],Je=[];for(;c.pos>0;)O(n.start||0,n.bufferStart||0,Pe,Je,-1);let Ke=null!==(e=n.length)&&void 0!==e?e:Pe.length?Je[0]+Pe[0].length:0;return new Ai(h[n.topID],Pe.reverse(),Je.reverse(),Ke)}(e)}}Ai.empty=new Ai(Ds.none,[],[],0);class bD{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new bD(this.buffer,this.index)}}class Ih{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Ds.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let r=this.buffer[e+3],i=this.set.types[this.buffer[e]],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),r==(e+=4))return o;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return o+"("+a.join(",")+")"}findChild(e,t,r,i,o){let{buffer:a}=this,c=-1;for(let h=e;h!=t&&!(IL(o,i,a[h+1],a[h+2])&&(c=h,r>0));h=a[h+3]);return c}slice(e,t,r){let i=this.buffer,o=new Uint16Array(t-e),a=0;for(let c=e,h=0;c<t;){o[h++]=i[c++],o[h++]=i[c++]-r;let g=o[h++]=i[c++]-r;o[h++]=i[c++]-e,a=Math.max(a,g)}return new Ih(o,a,this.set)}}function IL(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function OL(n,e){let t=n.childBefore(e);for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(n=t,t=r.prevSibling):t=r}return n}function Tp(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let a=!r&&n instanceof Na&&n.index<0?null:n.parent;if(!a)return n;n=a}let o=r?0:bi.IgnoreOverlays;if(r)for(let a=n,c=a.parent;c;a=c,c=a.parent)a instanceof Na&&a.index<0&&(null===(i=c.enter(e,t,o))||void 0===i?void 0:i.from)!=a.from&&(n=c);for(;;){let a=n.enter(e,t,o);if(!a)return n;n=a}}class Na{constructor(e,t,r,i){this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,o=0){for(let a=this;;){for(let{children:c,positions:h}=a._tree,g=t>0?c.length:-1;e!=g;e+=t){let y=c[e],O=h[e]+a.from;if(IL(i,r,O,O+y.length))if(y instanceof Ih){if(o&bi.ExcludeBuffers)continue;let $=y.findChild(0,y.buffer.length,t,r-O,i);if($>-1)return new lc(new Pq(a,y,e,O),null,$)}else if(o&bi.IncludeAnonymous||!y.type.isAnonymous||_D(y)){let $;if(!(o&bi.IgnoreMounts)&&y.props&&($=y.prop(Qn.mounted))&&!$.overlay)return new Na($.tree,O,e,a);let K=new Na(y,O,e,a);return o&bi.IncludeAnonymous||!K.type.isAnonymous?K:K.nextChild(t<0?y.children.length-1:0,t,r,i)}}if(o&bi.IncludeAnonymous||!a.type.isAnonymous||(e=a.index>=0?a.index+t:t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&bi.IgnoreOverlays)&&(i=this._tree.prop(Qn.mounted))&&i.overlay){let o=e-this.from;for(let{from:a,to:c}of i.overlay)if((t>0?a<=o:a<o)&&(t<0?c>=o:c>o))return new Na(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new mv(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Tp(this,e,t,!1)}resolveInner(e,t=0){return Tp(this,e,t,!0)}enterUnfinishedNodesBefore(e){return OL(this,e)}getChild(e,t=null,r=null){let i=x_(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return x_(this,e,t,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return w_(this,e)}}function x_(n,e,t,r){let i=n.cursor(),o=[];if(!i.firstChild())return o;if(null!=t)for(;!i.type.is(t);)if(!i.nextSibling())return o;for(;;){if(null!=r&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==r?o:[]}}function w_(n,e,t=e.length-1){for(let r=n.parent;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class Pq{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class lc{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new lc(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&bi.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new lc(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new lc(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new lc(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new mv(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];return o>i&&(e.push(r.slice(i,o,r.buffer[this.index+1])),t.push(0)),new Ai(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Tp(this,e,t,!1)}resolveInner(e,t=0){return Tp(this,e,t,!0)}enterUnfinishedNodesBefore(e){return OL(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,r=null){let i=x_(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return x_(this,e,t,r)}get node(){return this}matchContext(e){return w_(this,e)}}class mv{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Na)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return!!e&&(e instanceof Na?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?!(r&bi.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&bi.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&bi.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;({index:t,_parent:r}=r))if(t>-1)for(let o=t+e,a=e<0?-1:r._tree.children.length;o!=a;o+=e){let c=r._tree.children[o];if(this.mode&bi.IncludeAnonymous||c instanceof Ih||!c.type.isAnonymous||_D(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;t=a,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)t=new lc(this.buffer,t,this.stack[i]);return this.bufferNode=new lc(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&t&&t(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return w_(this.node,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return w_(this.node,e,i);let a=r[t.buffer[this.stack[o]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function _D(n){return n.children.some(e=>e instanceof Ih||!e.type.isAnonymous||_D(e))}const RL=new WeakMap;function E_(n,e){if(!n.isAnonymous||e instanceof Ih||e.type!=n)return 1;let t=RL.get(e);if(null==t){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Ai)){t=1;break}t+=E_(n,r)}RL.set(e,t)}return t}function xD(n,e,t,r,i,o,a,c,h){let g=0;for(let re=r;re<i;re++)g+=E_(n,e[re]);let y=Math.ceil(1.5*g/8),O=[],$=[];return function K(re,he,xe,Pe,Je){for(let Ke=xe;Ke<Pe;){let at=Ke,wt=he[Ke],Dt=E_(n,re[Ke]);for(Ke++;Ke<Pe;Ke++){let rn=E_(n,re[Ke]);if(Dt+rn>=y)break;Dt+=rn}if(Ke==at+1){if(Dt>y){let rn=re[at];K(rn.children,rn.positions,0,rn.children.length,he[at]+Je);continue}O.push(re[at])}else O.push(xD(n,re,he,at,Ke,wt,he[Ke-1]+re[Ke-1].length-wt,null,h));$.push(wt+Je-o)}}(e,t,r,i,0),(c||h)(O,$,a)}class eu{constructor(e,t,r,i,o=!1,a=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(o?1:0)|(a?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],r=!1){let i=[new eu(0,e.length,e,0,!1,r)];for(let o of t)o.to>e.length&&i.push(o);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],o=1,a=e.length?e[0]:null;for(let c=0,h=0,g=0;;c++){let y=c<t.length?t[c]:null,O=y?y.fromA:1e9;if(O-h>=r)for(;a&&a.from<O;){let $=a;if(h>=$.from||O<=$.to||g){let K=Math.max($.from,h)-g,re=Math.min($.to,O)-g;$=K>=re?null:new eu(K,re,$.tree,$.offset+g,c>0,!!y)}if($&&i.push($),a.to>O)break;a=o<e.length?e[o++]:null}if(!y)break;h=y.toA,g=y.toA-y.toB}return i}}class PL{startParse(e,t,r){return"string"==typeof e&&(e=new Fq(e)),r=r?r.length?r.map(i=>new Pa(i.from,i.to)):[new Pa(0,0)]:[new Pa(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let o=i.advance();if(o)return o}}}class Fq{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Qn({perNode:!0});class C_{constructor(e,t,r,i,o,a,c,h,g,y=0,O){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=o,this.score=a,this.buffer=c,this.bufferBase=h,this.curContext=g,this.lookAhead=y,this.parent=O}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new C_(e,[],t,r,r,0,[],0,i?new zL(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=65535&e,{parser:o}=this.p,a=o.dynamicPrecedence(i);if(a&&(this.score+=a),0==r)return this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),void this.reduceContext(i,this.reducePos);let c=this.stack.length-3*(r-1)-(262144&e?6:0),h=c?this.stack[c-2]:this.p.ranges[0].from,g=this.reducePos-h;g>=2e3&&(null===(t=this.p.parser.nodeSet.types[i])||void 0===t||!t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=g):this.p.lastBigReductionSize<g&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=g));let O=this.bufferBase+this.buffer.length-(c?this.stack[c-1]:0);if(i<o.minRepeatTerm||131072&e){let $=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,$,O+4,!0)}for(this.state=262144&e?this.stack[c]:o.getGoto(this.stack[c-3],i,!0);this.stack.length>c;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,t,r,i=4,o=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,c=this.buffer.length;if(0==c&&a.parent&&(c=a.bufferBase-a.parent.bufferBase,a=a.parent),c>0&&0==a.buffer[c-4]&&a.buffer[c-1]>-1){if(t==r)return;if(a.buffer[c-2]>=t)return void(a.buffer[c-2]=r)}}if(o&&this.pos!=r){let a=this.buffer.length;if(a>0&&0!=this.buffer[a-4])for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4);this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=r,this.buffer[a+3]=i}else this.buffer.push(e,t,r,i)}shift(e,t,r){let i=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(262144&e)this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4);else{let o=e,{parser:a}=this.p;(r>this.pos||t<=a.maxNode)&&(this.pos=r,a.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,i),this.shiftContext(t,i),t<=a.maxNode&&this.buffer.push(t,i,r,4)}}apply(e,t,r){65536&e?this.reduce(e):this.shift(e,t,r)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new C_(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Uq(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==r)return!1;if(!(65536&r))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let a,o=0;o<t.length;o+=2)(a=t[o+1])!=this.state&&this.p.parser.hasAction(a,e)&&i.push(t[o],a);if(this.stack.length<120)for(let o=0;i.length<8&&o<t.length;o+=2){let a=t[o+1];i.some((c,h)=>1&h&&c==a)||i.push(t[o],a)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let o=t[i+1];if(o==this.state)continue;let a=this.split();a.pushState(o,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[i],this.pos),a.score-=200,r.push(a)}return r}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let o=this.stack.length-3*(e>>19);if(o<0||t.getGoto(this.stack[o],65535&e,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new zL(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class zL{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class Uq{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,r=e>>19;0==r?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(r-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class D_{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new D_(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new D_(this.stack,this.pos,this.index)}}function gv(n,e=Uint16Array){if("string"!=typeof n)return n;let t=null;for(let r=0,i=0;r<n.length;){let o=0;for(;;){let a=n.charCodeAt(r++),c=!1;if(126==a){o=65535;break}a>=92&&a--,a>=34&&a--;let h=a-32;if(h>=46&&(h-=46,c=!0),o+=h,c)break;o*=46}t?t[i++]=o:t=new e(o)}return t}class S_{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const HL=new S_;class Gq{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=HL,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let a=this.ranges[--i];o-=r.from-a.to,r=a}for(;t<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];o+=a.from-r.to,r=a}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let r,i,t=this.chunkOff+e;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let o=this.resolveOffset(e,1);if(null==o)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,c=this.range;for(;c.to<=r;)c=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(null==r||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos);this.chunk=this.pos+e.length>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.next=this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?-1:this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=HL,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class Ap{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;!function jL(n,e,t,r,i,o){let a=0,c=1<<r,{dialect:h}=t.p.parser;e:for(;c&n[a];){let g=n[a+1];for(let K=a+3;K<g;K+=2)if((n[K+1]&c)>0){let re=n[K];if(h.allows(re)&&(-1==e.token.value||e.token.value==re||Wq(re,e.token.value,i,o))){e.acceptToken(re);break}}let y=e.next,O=0,$=n[a+2];if(!(e.next<0&&$>O&&65535==n[g+3*$-3]&&65535==n[g+3*$-3])){for(;O<$;){let K=O+$>>1,re=g+K+(K<<1);if(y<n[re])$=K;else{if(!(y>=(n[re+1]||65536))){a=n[re+2],e.advance();continue e}O=K+1}}break}a=n[g+3*$-1]}}(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}function UL(n,e,t){for(let i,r=e;65535!=(i=n[r]);r++)if(i==t)return r-e;return-1}function Wq(n,e,t,r){let i=UL(t,r,e);return i<0||UL(t,r,n)<i}Ap.prototype.contextual=Ap.prototype.fallback=Ap.prototype.extend=!1,Ap.prototype.fallback=Ap.prototype.extend=!1;const bl=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let ED=null;function GL(n,e,t){let r=n.cursor(bi.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class Yq{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?GL(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?GL(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],a=this.start[t]+r.positions[i];if(a>e)return this.nextStart=a,null;if(o instanceof Ai){if(a==e){if(a<this.safeFrom)return null;let c=a+o.length;if(c<=this.safeTo){let h=o.prop(Qn.lookAhead);if(!h||c+h<this.fragment.to)return o}}this.index[t]++,a+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+o.length}}}class Xq{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new S_)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,a=i.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,h=0;for(let g=0;g<o.length;g++){if(!(1<<g&a))continue;let y=o[g],O=this.tokens[g];if((!r||y.fallback)&&((y.contextual||O.start!=e.pos||O.mask!=a||O.context!=c)&&(this.updateCachedToken(O,y,e),O.mask=a,O.context=c),O.lookAhead>O.end+25&&(h=Math.max(O.lookAhead,h)),0!=O.value)){let $=t;if(O.extended>-1&&(t=this.addActions(e,O.extended,O.end,t)),t=this.addActions(e,O.value,O.end,t),!y.extend&&(r=O,t>$))break}}for(;this.actions.length>t;)this.actions.pop();return h&&e.setLookAhead(h),!r&&e.pos==this.stream.end&&(r=new S_,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new S_,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:o}=r.p;for(let a=0;a<o.specialized.length;a++)if(o.specialized[a]==e.value){let c=o.specializers[a](this.stream.read(e.start,e.end),r);if(c>=0&&r.p.parser.dialect.allows(c>>1)){1&c?e.extended=c>>1:e.value=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:o}=e,{parser:a}=e.p,{data:c}=a;for(let h=0;h<2;h++)for(let g=a.stateSlot(o,h?2:1);;g+=3){if(65535==c[g]){if(1!=c[g+1]){0==i&&2==c[g+1]&&(i=this.putAction(tu(c,g+2),t,r,i));break}g=tu(c,g+2)}c[g]==t&&(i=this.putAction(tu(c,g+1),t,r,i))}return i}}class Kq{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Gq(t,i),this.tokens=new Xq(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[C_.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>4*e.bufferLength?new Yq(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let i,o,e=this.stacks,t=this.minStackPos,r=this.stacks=[];if(this.bigReductionCount>300&&1==e.length){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let c=e[a];for(;;){if(this.tokens.mainToken=null,c.pos>t)r.push(c);else{if(this.advanceStack(c,r,e))continue;{i||(i=[],o=[]),i.push(c);let h=this.tokens.getMainToken(c);o.push(h.value,h.end)}}break}}if(!r.length){let a=i&&function Zq(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||null!=r&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}(i);if(a)return this.stackToTree(a);if(this.parser.strict)throw bl&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=null!=this.stoppedAt&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(a)return this.stackToTree(a.forceAll())}if(this.recovering){let a=1==this.recovering?1:3*this.recovering;if(r.length>a)for(r.sort((c,h)=>h.score-c.score);r.length>a;)r.pop();r.some(c=>c.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let c=r[a];for(let h=a+1;h<r.length;h++){let g=r[h];if(c.sameState(g)||c.buffer.length>500&&g.buffer.length>500){if(!((c.score-g.score||c.buffer.length-g.buffer.length)>0)){r.splice(a--,1);continue e}r.splice(h--,1)}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:o}=this,a=bl?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let g=e.curContext&&e.curContext.tracker.strict,y=g?e.curContext.hash:0;for(let O=this.fragments.nodeAt(i);O;){let $=this.parser.nodeSet.types[O.type.id]==O.type?o.getGoto(e.state,O.type.id):-1;if($>-1&&O.length&&(!g||(O.prop(Qn.contextHash)||0)==y))return e.useNode(O,$),bl&&console.log(a+this.stackID(e)+` (via reuse of ${o.getName(O.type.id)})`),!0;if(!(O instanceof Ai)||0==O.children.length||O.positions[0]>0)break;let K=O.children[0];if(!(K instanceof Ai&&0==O.positions[0]))break;O=K}}let c=o.stateSlot(e.state,4);if(c>0)return e.reduce(c),bl&&console.log(a+this.stackID(e)+` (via always-reduce ${o.getName(65535&c)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let h=this.tokens.getActions(e);for(let g=0;g<h.length;){let y=h[g++],O=h[g++],$=h[g++],K=g==h.length||!r,re=K?e:e.split();if(re.apply(y,O,$),bl&&console.log(a+this.stackID(re)+` (via ${65536&y?`reduce of ${o.getName(65535&y)}`:"shift"} for ${o.getName(O)} @ ${i}${re==e?"":", split"})`),K)return!0;re.pos>i?t.push(re):r.push(re)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return $L(e,t),!0}}runRecovery(e,t,r){let i=null,o=!1;for(let a=0;a<e.length;a++){let c=e[a],h=t[a<<1],g=t[1+(a<<1)],y=bl?this.stackID(c)+" -> ":"";if(c.deadEnd&&(o||(o=!0,c.restart(),bl&&console.log(y+this.stackID(c)+" (restarted)"),this.advanceFully(c,r))))continue;let O=c.split(),$=y;for(let K=0;O.forceReduce()&&K<10&&(bl&&console.log($+this.stackID(O)+" (via force-reduce)"),!this.advanceFully(O,r));K++)bl&&($=this.stackID(O)+" -> ");for(let K of c.recoverByInsert(h))bl&&console.log(y+this.stackID(K)+" (via recover-insert)"),this.advanceFully(K,r);this.stream.end>c.pos?(g==c.pos&&(g++,h=0),c.recoverByDelete(h,g),bl&&console.log(y+this.stackID(c)+` (via recover-delete ${this.parser.getName(h)})`),$L(c,r)):(!i||i.score<c.score)&&(i=c)}return i}stackToTree(e){return e.close(),Ai.build({buffer:D_.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(ED||(ED=new WeakMap)).get(e);return t||ED.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function $L(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n))return void(e[t].score<n.score&&(e[t]=n))}e.push(n)}class qq{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||0==this.disabled[e]}}class k_ extends PL{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let r=Object.keys(e.topRules).map(c=>e.topRules[c][1]),i=[];for(let c=0;c<t.length;c++)i.push([]);function o(c,h,g){i[c].push([h,h.deserialize(String(g))])}if(e.nodeProps)for(let c of e.nodeProps){let h=c[0];"string"==typeof h&&(h=Qn[h]);for(let g=1;g<c.length;){let y=c[g++];if(y>=0)o(y,h,c[g++]);else{let O=c[g+-y];for(let $=-y;$>0;$--)o(c[g++],h,O);g++}}}this.nodeSet=new b_(t.map((c,h)=>Ds.define({name:h>=this.minRepeatTerm?void 0:c,id:h,props:i[h],top:r.indexOf(h)>-1,error:0==h,skipped:e.skippedNodes&&e.skippedNodes.indexOf(h)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=TL;let a=gv(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(WL),this.states=gv(e.states,Uint32Array),this.data=gv(e.stateData),this.goto=gv(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>"number"==typeof c?new Ap(a,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new Kq(this,e,t,r);for(let o of this.wrappers)i=o(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let o=i[t+1];;){let a=i[o++],c=1&a,h=i[o++];if(c&&r)return h;for(let g=o+(a>>1);o<g;o++)if(i[o]==e)return h;if(c)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let a,o=this.stateSlot(e,i?2:1);;o+=3){if(65535==(a=r[o])){if(1!=r[o+1]){if(2==r[o+1])return tu(r,o+2);break}a=r[o=tu(r,o+2)]}if(a==t||0==a)return tu(r,o+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])return!1;r=tu(this.data,r+2)}if(t==tu(this.data,r+1))return!0}}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=tu(this.data,r+2)}if(!(1&this.data[r+2])){let i=this.data[r+1];t.some((o,a)=>1&a&&o==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(k_.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(o=>o.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=e.specializers.find(c=>c.from==r.external);if(!o)return r;let a=Object.assign(Object.assign({},r),{external:o.to});return t.specializers[i]=WL(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let o of e.split(" ")){let a=t.indexOf(o);a>=0&&(r[a]=!0)}let i=null;for(let o=0;o<t.length;o++)if(!r[o])for(let c,a=this.dialects[t[o]];65535!=(c=this.data[a++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[c]=1;return new qq(e,r,i)}static deserialize(e){return new k_(e)}}function tu(n,e){return n[e]|n[e+1]<<16}function WL(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}let Qq=0;class cc{constructor(e,t,r){this.set=e,this.base=t,this.modified=r,this.id=Qq++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let t=new cc([],null,[]);if(t.set.push(t),e)for(let r of e.set)t.set.push(r);return t}static defineModifier(){let e=new M_;return t=>t.modified.indexOf(e)>-1?t:M_.get(t.base||t,t.modified.concat(e).sort((r,i)=>r.id-i.id))}}let Jq=0;class M_{constructor(){this.instances=[],this.id=Jq++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(c=>c.base==e&&function eZ(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}(t,c.modified));if(r)return r;let i=[],o=new cc(i,e,t);for(let c of t)c.instances.push(o);let a=function tZ(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}(t);for(let c of e.set)if(!c.modified.length)for(let h of a)i.push(M_.get(c,h));return o}}function YL(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let o=[],a=2,c=i;for(let O=0;;){if("..."==c&&O>0&&O+3==i.length){a=1;break}let $=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!$)throw new RangeError("Invalid path: "+i);if(o.push("*"==$[0]?"":'"'==$[0][0]?JSON.parse($[0]):$[0]),O+=$[0].length,O==i.length)break;let K=i[O++];if(O==i.length&&"!"==K){a=0;break}if("/"!=K)throw new RangeError("Invalid path: "+i);c=i.slice(O)}let h=o.length-1,g=o[h];if(!g)throw new RangeError("Invalid path: "+i);let y=new T_(r,a,h>0?o.slice(0,h):null);e[g]=y.sort(e[g])}}return XL.add(e)}const XL=new Qn;class T_{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function KL(n,e){let t=Object.create(null);for(let o of n)if(Array.isArray(o.tag))for(let a of o.tag)t[a.id]=o.class;else t[o.tag.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let a=i;for(let c of o)for(let h of c.set){let g=t[h.id];if(g){a=a?a+" "+g:g;break}}return a},scope:r}}function rZ(n,e,t,r=0,i=n.length){let o=new iZ(r,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),r,i,"",o.highlighters),o.flush(i)}T_.empty=new T_([],2,null);class iZ{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,o){let{type:a,from:c,to:h}=e;if(c>=r||h<=t)return;a.isTop&&(o=this.highlighters.filter(K=>!K.scope||K.scope(a)));let g=i,y=function oZ(n){let e=n.type.prop(XL);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}(e)||T_.empty,O=function nZ(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}(o,y.tags);if(O&&(g&&(g+=" "),g+=O,1==y.mode&&(i+=(i?" ":"")+O)),this.startSpan(e.from,g),y.opaque)return;let $=e.tree&&e.tree.prop(Qn.mounted);if($&&$.overlay){let K=e.node.enter($.overlay[0].from+c,1),re=this.highlighters.filter(xe=>!xe.scope||xe.scope($.tree.type)),he=e.firstChild();for(let xe=0,Pe=c;;xe++){let Je=xe<$.overlay.length?$.overlay[xe]:null,Ke=Je?Je.from+c:h,at=Math.max(t,Pe),wt=Math.min(r,Ke);if(at<wt&&he)for(;e.from<wt&&(this.highlightRange(e,at,wt,i,o),this.startSpan(Math.min(wt,e.to),g),!(e.to>=Ke)&&e.nextSibling()););if(!Je||Ke>r)break;Pe=Je.to+c,Pe>t&&(this.highlightRange(K.cursor(),Math.max(t,Je.from+c),Math.min(r,Pe),i,re),this.startSpan(Pe,g))}he&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,o),this.startSpan(Math.min(r,e.to),g)}}while(e.nextSibling());e.parent()}}}const Yt=cc.define,A_=Yt(),od=Yt(),qL=Yt(od),ZL=Yt(od),sd=Yt(),I_=Yt(sd),DD=Yt(sd),uc=Yt(),Oh=Yt(uc),dc=Yt(),hc=Yt(),SD=Yt(),vv=Yt(SD),O_=Yt(),$e={comment:A_,lineComment:Yt(A_),blockComment:Yt(A_),docComment:Yt(A_),name:od,variableName:Yt(od),typeName:qL,tagName:Yt(qL),propertyName:ZL,attributeName:Yt(ZL),className:Yt(od),labelName:Yt(od),namespace:Yt(od),macroName:Yt(od),literal:sd,string:I_,docString:Yt(I_),character:Yt(I_),attributeValue:Yt(I_),number:DD,integer:Yt(DD),float:Yt(DD),bool:Yt(sd),regexp:Yt(sd),escape:Yt(sd),color:Yt(sd),url:Yt(sd),keyword:dc,self:Yt(dc),null:Yt(dc),atom:Yt(dc),unit:Yt(dc),modifier:Yt(dc),operatorKeyword:Yt(dc),controlKeyword:Yt(dc),definitionKeyword:Yt(dc),moduleKeyword:Yt(dc),operator:hc,derefOperator:Yt(hc),arithmeticOperator:Yt(hc),logicOperator:Yt(hc),bitwiseOperator:Yt(hc),compareOperator:Yt(hc),updateOperator:Yt(hc),definitionOperator:Yt(hc),typeOperator:Yt(hc),controlOperator:Yt(hc),punctuation:SD,separator:Yt(SD),bracket:vv,angleBracket:Yt(vv),squareBracket:Yt(vv),paren:Yt(vv),brace:Yt(vv),content:uc,heading:Oh,heading1:Yt(Oh),heading2:Yt(Oh),heading3:Yt(Oh),heading4:Yt(Oh),heading5:Yt(Oh),heading6:Yt(Oh),contentSeparator:Yt(uc),list:Yt(uc),quote:Yt(uc),emphasis:Yt(uc),strong:Yt(uc),link:Yt(uc),monospace:Yt(uc),strikethrough:Yt(uc),inserted:Yt(),deleted:Yt(),changed:Yt(),invalid:Yt(),meta:O_,documentMeta:Yt(O_),annotation:Yt(O_),processingInstruction:Yt(O_),definition:cc.defineModifier(),constant:cc.defineModifier(),function:cc.defineModifier(),standard:cc.defineModifier(),local:cc.defineModifier(),special:cc.defineModifier()},sZ=(KL([{tag:$e.link,class:"tok-link"},{tag:$e.heading,class:"tok-heading"},{tag:$e.emphasis,class:"tok-emphasis"},{tag:$e.strong,class:"tok-strong"},{tag:$e.keyword,class:"tok-keyword"},{tag:$e.atom,class:"tok-atom"},{tag:$e.bool,class:"tok-bool"},{tag:$e.url,class:"tok-url"},{tag:$e.labelName,class:"tok-labelName"},{tag:$e.inserted,class:"tok-inserted"},{tag:$e.deleted,class:"tok-deleted"},{tag:$e.literal,class:"tok-literal"},{tag:$e.string,class:"tok-string"},{tag:$e.number,class:"tok-number"},{tag:[$e.regexp,$e.escape,$e.special($e.string)],class:"tok-string2"},{tag:$e.variableName,class:"tok-variableName"},{tag:$e.local($e.variableName),class:"tok-variableName tok-local"},{tag:$e.definition($e.variableName),class:"tok-variableName tok-definition"},{tag:$e.special($e.variableName),class:"tok-variableName2"},{tag:$e.definition($e.propertyName),class:"tok-propertyName tok-definition"},{tag:$e.typeName,class:"tok-typeName"},{tag:$e.namespace,class:"tok-namespace"},{tag:$e.className,class:"tok-className"},{tag:$e.macroName,class:"tok-macroName"},{tag:$e.propertyName,class:"tok-propertyName"},{tag:$e.operator,class:"tok-operator"},{tag:$e.comment,class:"tok-comment"},{tag:$e.meta,class:"tok-meta"},{tag:$e.invalid,class:"tok-invalid"},{tag:$e.punctuation,class:"tok-punctuation"}]),YL({String:$e.string,Number:$e.number,"True False":$e.bool,PropertyName:$e.propertyName,Null:$e.null,",":$e.separator,"[ ]":$e.squareBracket,"{ }":$e.brace})),aZ=k_.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26a0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[sZ],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});var kD;const Rh=new Qn;const lZ=new Qn;let Fa=(()=>{class n{constructor(t,r,i=[],o=""){this.data=t,this.name=o,Es.prototype.hasOwnProperty("tree")||Object.defineProperty(Es.prototype,"tree",{get(){return Mo(this)}}),this.parser=r,this.extension=[ad.of(this),Es.languageData.of((a,c,h)=>{let g=JL(a,c,h),y=g.type.prop(Rh);if(!y)return[];let O=a.facet(y),$=g.type.prop(lZ);if($){let K=g.resolve(c-g.from,h);for(let re of $)if(re.test(K,a)){let he=a.facet(re.facet);return"replace"==re.type?he:he.concat(O)}}return O})].concat(i)}isActiveAt(t,r,i=-1){return JL(t,r,i).type.prop(Rh)==this.data}findRegions(t){let r=t.facet(ad);if(r?.data==this.data)return[{from:0,to:t.doc.length}];if(!r||!r.allowsNesting)return[];let i=[],o=(a,c)=>{if(a.prop(Rh)==this.data)return void i.push({from:c,to:c+a.length});let h=a.prop(Qn.mounted);if(h){if(h.tree.prop(Rh)==this.data){if(h.overlay)for(let g of h.overlay)i.push({from:g.from+c,to:g.to+c});else i.push({from:c,to:c+a.length});return}if(h.overlay){let g=i.length;if(o(h.tree,h.overlay[0].from+c),i.length>g)return}}for(let g=0;g<a.children.length;g++){let y=a.children[g];y instanceof Ai&&o(y,a.positions[g]+c)}};return o(Mo(t),0),i}get allowsNesting(){return!0}}return n.setState=dr.define(),n})();function JL(n,e,t){let r=n.facet(ad),i=Mo(n).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,t,bi.ExcludeBuffers))o.type.isTop&&(i=o);return i}class R_ extends Fa{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=function QL(n){return hn.define({combine:n?e=>e.concat(n):void 0})}(e.languageData);return new R_(t,e.parser.configure({props:[Rh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new R_(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Mo(n){let e=n.field(Fa.state,!1);return e?e.tree:Ai.empty}class uZ{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let yv=null;class Ip{constructor(e,t,r=[],i,o,a,c,h){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=a,this.skipped=c,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new Ip(e,t,[],Ai.empty,0,r,[],null)}startParse(){return this.parser.startParse(new uZ(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ai.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if("number"==typeof e){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(eu.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(r=this.parse.stoppedAt)&&void 0!==r?r:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(t??this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(eu.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=yv;yv=this;try{return e()}finally{yv=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=e2(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:o,viewport:a,skipped:c}=this;if(this.takeTree(),!e.empty){let h=[];if(e.iterChangedRanges((g,y,O,$)=>h.push({fromA:g,toA:y,fromB:O,toB:$})),r=eu.applyChanges(r,h),i=Ai.empty,o=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){c=[];for(let g of this.skipped){let y=e.mapPos(g.from,1),O=e.mapPos(g.to,-1);y<O&&c.push({from:y,to:O})}}}return new Ip(this.parser,t,r,i,o,a,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=e2(this.fragments,i,o),this.skipped.splice(r--,1))}return!(this.skipped.length>=t||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends PL{createParse(t,r,i){let o=i[0].from,a=i[i.length-1].to;return{parsedPos:o,advance(){let h=yv;if(h){for(let g of i)h.tempSkipped.push(g);e&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,e]):e)}return this.parsedPos=a,new Ai(Ds.none,[],[],a-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return yv}}function e2(n,e,t){return eu.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Op{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Op(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Ip.create(e.facet(ad).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Op(r)}}Fa.state=no.define({create:Op.init,update(n,e){for(let t of e.effects)if(t.is(Fa.setState))return t.value;return e.startState.facet(ad)!=e.state.facet(ad)?Op.init(e.state):n.apply(e)}});let t2=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(t2=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const MD=typeof navigator<"u"&&null!==(kD=navigator.scheduling)&&void 0!==kD&&kD.isInputPending?()=>navigator.scheduling.isInputPending():null,n2=Ni.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Fa.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Fa.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=t2(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(Fa.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!MD?Math.max(25,e.timeRemaining()-5):1e9),c=o.context.treeLen<i&&r.doc.length>i+1e3,h=o.context.work(()=>MD&&MD()||Date.now()>a,i+(c?0:1e5));this.chunkBudget-=Date.now()-t,(h||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Fa.setState.of(new Op(o.context))})),this.chunkBudget>0&&!(h&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>da(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ad=hn.define({combine:n=>n.length?n[0]:null,enables:n=>[Fa.state,n2,Un.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class dZ{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const o2=hn.define(),TD=hn.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Ph(n){let e=n.facet(TD);return 9==e.charCodeAt(0)?n.tabSize*e.length:e.length}function Rp(n,e){let t="",r=n.tabSize,i=n.facet(TD)[0];if("\t"==i){for(;e>=r;)t+="\t",e-=r;i=" "}for(let o=0;o<e;o++)t+=i;return t}function P_(n,e){n instanceof Es&&(n=new bv(n));for(let r of n.state.facet(o2)){let i=r(n,e);if(void 0!==i)return i}let t=Mo(n.state);return t?function hZ(n,e,t){return a2(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,n)}(n,t,e):null}class bv{constructor(e,t={}){this.state=e,this.options=t,this.unit=Ph(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return null!=i&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(o+=a-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,t=e.length){return Jg(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let a=o(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const s2=new Qn;function pZ(n){let e=n.type.prop(s2);if(e)return e;let r,t=n.firstChild;if(t&&(r=t.type.prop(Qn.closedBy))){let i=n.lastChild,o=i&&r.indexOf(i.name)>-1;return a=>function l2(n,e,t,r,i){let o=n.textAfter,a=o.match(/^\s*/)[0].length,c=r&&o.slice(a,a+r.length)==r||i==n.pos+a,h=e?function vZ(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),a=null==i||i<=o.from?o.to:Math.min(o.to,i);for(let c=t.to;;){let h=e.childAfter(c);if(!h||h==r)return null;if(!h.type.isSkipped)return h.from<a?t:null;c=h.to}}(n):null;return h?n.column(c?h.from:h.to):n.baseIndent+(c?0:n.unit*t)}(a,!0,1,void 0,o&&!function fZ(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}(a)?i.from:void 0)}return null==n.parent?mZ:null}function a2(n,e,t){for(;n;n=n.parent){let r=pZ(n);if(r)return r(AD.create(t,e,n))}return null}function mZ(){return 0}class AD extends bv{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.node=r}static create(e,t,r){return new AD(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(gZ(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?a2(e,this.pos,this.base):0}}function gZ(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function c2({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const _Z=hn.define(),u2=new Qn;function EZ(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function _v(n,e,t){for(let r of n.facet(_Z)){let i=r(n,e,t);if(i)return i}return function wZ(n,e,t){let r=Mo(n);if(r.length<t)return null;let o=null;for(let a=r.resolveInner(t,1);a;a=a.parent){if(a.to<=t||a.from>t)continue;if(o&&a.from<e)break;let c=a.type.prop(u2);if(c&&(a.to<r.length-50||r.length==n.doc.length||!EZ(a))){let h=c(a,n);h&&h.from<=t&&h.from>=e&&h.to>t&&(o=h)}}return o}(n,e,t)}function d2(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const xv=dr.define({map:d2}),Pp=dr.define({map:d2});function ID(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const ld=no.define({create:()=>mn.none,update(n,e){n=n.map(e.changes);for(let t of e.effects)t.is(xv)&&!CZ(n,t.value.from,t.value.to)?n=n.update({add:[p2.range(t.value.from,t.value.to)]}):t.is(Pp)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,o)=>{i<r&&o>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return n},provide:n=>Un.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");e.push(p2.range(r,i))}return mn.set(e,!0)}});function wv(n,e,t){var r;let i=null;return null===(r=n.field(ld,!1))||void 0===r||r.between(e,t,(o,a)=>{(!i||i.from>o)&&(i={from:o,to:a})}),i}function CZ(n,e,t){let r=!1;return n.between(e,e,(i,o)=>{i==e&&o==t&&(r=!0)}),r}function OD(n,e){return n.field(ld,!1)?e:e.concat(dr.appendConfig.of(f2()))}function N_(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return Un.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const AZ=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:n=>{for(let e of ID(n)){let t=_v(n.state,e.from,e.to);if(t)return n.dispatch({effects:OD(n.state,[xv.of(t),N_(n,t)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:n=>{if(!n.state.field(ld,!1))return!1;let e=[];for(let t of ID(n)){let r=wv(n.state,t.from,t.to);r&&e.push(Pp.of(r),N_(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),o=_v(e,i.from,i.to);o&&t.push(xv.of(o)),r=(o?n.lineBlockAt(o.to):i).to+1}return t.length&&n.dispatch({effects:OD(n.state,t)}),!!t.length}},{key:"Ctrl-Alt-]",run:n=>{let e=n.state.field(ld,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(Pp.of({from:r,to:i}))}),n.dispatch({effects:t}),!0}}],IZ={placeholderDOM:null,placeholderText:"\u2026"},h2=hn.define({combine:n=>vl(n,IZ)});function f2(n){let e=[ld,PZ];return n&&e.push(h2.of(n)),e}const p2=mn.replace({widget:new class extends Qc{toDOM(n){let{state:e}=n,t=e.facet(h2),r=o=>{let a=n.lineBlockAt(n.posAtDOM(o.target)),c=wv(n.state,a.from,a.to);c&&n.dispatch({effects:Pp.of(c)}),o.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(n,r);let i=document.createElement("span");return i.textContent=t.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),OZ={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class RD extends ac{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function RZ(n={}){let e=Object.assign(Object.assign({},OZ),n),t=new RD(e,!0),r=new RD(e,!1),i=Ni.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(ad)!=a.state.facet(ad)||a.startState.field(ld,!1)!=a.state.field(ld,!1)||Mo(a.startState)!=Mo(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let c=new Qu;for(let h of a.viewportLineBlocks){let g=wv(a.state,h.from,h.to)?r:_v(a.state,h.from,h.to)?t:null;g&&c.add(h.from,h.from,g)}return c.finish()}}),{domEventHandlers:o}=e;return[i,_L({class:"cm-foldGutter",markers(a){var c;return(null===(c=a.plugin(i))||void 0===c?void 0:c.markers)||ki.empty},initialSpacer:()=>new RD(e,!1),domEventHandlers:Object.assign(Object.assign({},o),{click:(a,c,h)=>{if(o.click&&o.click(a,c,h))return!0;let g=wv(a.state,c.from,c.to);if(g)return a.dispatch({effects:Pp.of(g)}),!0;let y=_v(a.state,c.from,c.to);return!!y&&(a.dispatch({effects:xv.of(y)}),!0)}})}),f2()]}const PZ=Un.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Np{constructor(e,t){let r;function i(c){let h=Ju.newName();return(r||(r=Object.create(null)))["."+h]=c,h}this.specs=e;const o="string"==typeof t.all?t.all:t.all?i(t.all):void 0,a=t.scope;this.scope=a instanceof Fa?c=>c.prop(Rh)==a.data:a?c=>c==a:void 0,this.style=KL(e.map(c=>({tag:c.tag,class:c.class||i(Object.assign({},c,{tag:null}))})),{all:o}).style,this.module=r?new Ju(r):null,this.themeType=t.themeType}static define(e,t){return new Np(e,t||{})}}const PD=hn.define(),m2=hn.define({combine:n=>n.length?[n[0]]:null});function F_(n){let e=n.facet(PD);return e.length?e:n.facet(m2)}function ND(n,e){let r,t=[FZ];return n instanceof Np&&(n.module&&t.push(Un.styleModule.of(n.module)),r=n.themeType),t.push(e?.fallback?m2.of(n):r?PD.computeN([Un.darkTheme],i=>i.facet(Un.darkTheme)==("dark"==r)?[n]:[]):PD.of(n)),t}class NZ{constructor(e){this.markCache=Object.create(null),this.tree=Mo(e.state),this.decorations=this.buildDeco(e,F_(e.state))}update(e){let t=Mo(e.state),r=F_(e.state),i=r!=F_(e.startState);t.length<e.view.viewport.to&&!i&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,t){if(!t||!this.tree.length)return mn.none;let r=new Qu;for(let{from:i,to:o}of e.visibleRanges)rZ(this.tree,t,(a,c,h)=>{r.add(a,c,this.markCache[h]||(this.markCache[h]=mn.mark({class:h})))},i,o);return r.finish()}}const FZ=Sh.high(Ni.fromClass(NZ,{decorations:n=>n.decorations})),LZ=Np.define([{tag:$e.meta,color:"#404740"},{tag:$e.link,textDecoration:"underline"},{tag:$e.heading,textDecoration:"underline",fontWeight:"bold"},{tag:$e.emphasis,fontStyle:"italic"},{tag:$e.strong,fontWeight:"bold"},{tag:$e.strikethrough,textDecoration:"line-through"},{tag:$e.keyword,color:"#708"},{tag:[$e.atom,$e.bool,$e.url,$e.contentSeparator,$e.labelName],color:"#219"},{tag:[$e.literal,$e.inserted],color:"#164"},{tag:[$e.string,$e.deleted],color:"#a11"},{tag:[$e.regexp,$e.escape,$e.special($e.string)],color:"#e40"},{tag:$e.definition($e.variableName),color:"#00f"},{tag:$e.local($e.variableName),color:"#30a"},{tag:[$e.typeName,$e.namespace],color:"#085"},{tag:$e.className,color:"#167"},{tag:[$e.special($e.variableName),$e.macroName],color:"#256"},{tag:$e.definition($e.propertyName),color:"#00c"},{tag:$e.comment,color:"#940"},{tag:$e.invalid,color:"#f00"}]),BZ=Un.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),g2=1e4,v2="()[]{}",y2=hn.define({combine:n=>vl(n,{afterCursor:!0,brackets:v2,maxScanDistance:g2,renderMatch:HZ})}),VZ=mn.mark({class:"cm-matchingBracket"}),zZ=mn.mark({class:"cm-nonmatchingBracket"});function HZ(n){let e=[],t=n.matched?VZ:zZ;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const jZ=[no.define({create:()=>mn.none,update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(y2);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=fc(e.state,i.head,-1,r)||i.head>0&&fc(e.state,i.head-1,1,r)||r.afterCursor&&(fc(e.state,i.head,1,r)||i.head<e.state.doc.length&&fc(e.state,i.head+1,-1,r));o&&(t=t.concat(r.renderMatch(o,e.state)))}return mn.set(t,!0)},provide:n=>Un.decorations.from(n)}),BZ];function UZ(n={}){return[y2.of(n),jZ]}const GZ=new Qn;function FD(n,e,t){let r=n.prop(e<0?Qn.openedBy:Qn.closedBy);if(r)return r;if(1==n.name.length){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function LD(n){let e=n.type.prop(GZ);return e?e(n.node):n}function fc(n,e,t,r={}){let i=r.maxScanDistance||g2,o=r.brackets||v2,a=Mo(n),c=a.resolveInner(e,t);for(let h=c;h;h=h.parent){let g=FD(h.type,t,o);if(g&&h.from<h.to){let y=LD(h);if(y&&(t>0?e>=y.from&&e<y.to:e>y.from&&e<=y.to))return $Z(0,0,t,h,y,g,o)}}return function WZ(n,e,t,r,i,o,a){let c=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),h=a.indexOf(c);if(h<0||h%2==0!=t>0)return null;let g={from:t<0?e-1:e,to:t>0?e+1:e},y=n.doc.iterRange(e,t>0?n.doc.length:0),O=0;for(let $=0;!y.next().done&&$<=o;){let K=y.value;t<0&&($+=K.length);let re=e+$*t;for(let he=t>0?0:K.length-1,xe=t>0?K.length:-1;he!=xe;he+=t){let Pe=a.indexOf(K[he]);if(!(Pe<0||r.resolveInner(re+he,1).type!=i))if(Pe%2==0==t>0)O++;else{if(1==O)return{start:g,end:{from:re+he,to:re+he+1},matched:Pe>>1==h>>1};O--}}t>0&&($+=K.length)}return y.done?{start:g,matched:!1}:null}(n,e,t,a,c.type,i,o)}function $Z(n,e,t,r,i,o,a){let h={from:i.from,to:i.to},g=0,y=r.parent?.cursor();if(y&&(t<0?y.childBefore(r.from):y.childAfter(r.to)))do{if(t<0?y.to<=r.from:y.from>=r.to){if(0==g&&o.indexOf(y.type.name)>-1&&y.from<y.to){let O=LD(y);return{start:h,end:O?{from:O.from,to:O.to}:void 0,matched:!0}}if(FD(y.type,t,a))g++;else if(FD(y.type,-t,a)){if(0==g){let O=LD(y);return{start:h,end:O&&O.from<O.to?{from:O.from,to:O.to}:void 0,matched:!1}}g--}}}while(t<0?y.prevSibling():y.nextSibling());return{start:h,matched:!1}}const VD=Object.create(null),Ev=[Ds.none],D2=[],S2=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])S2[n]=M2(VD,e);function zD(n,e){D2.indexOf(n)>-1||(D2.push(n),console.warn(e))}function M2(n,e){let t=null;for(let o of e.split(".")){let a=n[o]||$e[o];a?"function"==typeof a?t?t=a(t):zD(o,`Modifier ${o} used at start of tag`):t?zD(o,`Tag ${o} used as modifier`):t=a:zD(o,`Unknown highlighting tag ${o}`)}if(!t)return 0;let r=e.replace(/ /g,"_"),i=Ds.define({id:Ev.length,name:r,props:[YL({[r]:t})]});return Ev.push(i),i.id}const nQ=R_.define({name:"json",parser:aZ.configure({props:[s2.add({Object:c2({except:/^\s*\}/}),Array:c2({except:/^\s*\]/})}),u2.add({"Object Array":function xZ(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function si(){var n=arguments[0];"string"==typeof n&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&"object"==typeof t&&null==t.nodeType&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];"string"==typeof i?n.setAttribute(r,i):null!=i&&(n[r]=i)}e++}for(;e<arguments.length;e++)T2(n,arguments[e]);return n}function T2(n,e){if("string"==typeof e)n.appendChild(document.createTextNode(e));else if(null!=e)if(null!=e.nodeType)n.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var t=0;t<e.length;t++)T2(n,e[t])}}class iQ{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class Nh{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,o=r.facet(Fh).markerFilter;o&&(i=o(i));let a=mn.set(i.map(c=>c.from==c.to||c.from==c.to-1&&r.doc.lineAt(c.from).to==c.from?mn.widget({widget:new dQ(c),diagnostic:c}).range(c.from):mn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+c.severity},diagnostic:c}).range(c.from,c.to)),!0);return new Nh(a,t,Fp(a))}}function Fp(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,o,{spec:a})=>{if(!e||a.diagnostic==e)return r=new iQ(i,o,a.diagnostic),!1}),r}function A2(n,e){return!(!n.effects.some(t=>t.is(L_))&&!n.changes.touchesRange(e.pos))}function I2(n,e){return n.field(Ss,!1)?e:e.concat(dr.appendConfig.of([Ss,Un.decorations.compute([Ss],t=>{let{selected:r,panel:i}=t.field(Ss);return r&&i&&r.from!=r.to?mn.set([sQ.range(r.from,r.to)]):mn.none}),mq(aQ,{hideOn:A2}),hQ]))}const L_=dr.define(),HD=dr.define(),O2=dr.define(),Ss=no.define({create:()=>new Nh(mn.none,null,null),update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),r=null;if(n.selected){let i=e.changes.mapPos(n.selected.from,1);r=Fp(t,n.selected.diagnostic,i)||Fp(t,null,i)}n=new Nh(t,n.panel,r)}for(let t of e.effects)t.is(L_)?n=Nh.init(t.value,n.panel,e.state):t.is(HD)?n=new Nh(n.diagnostics,t.value?B_.open:null,n.selected):t.is(O2)&&(n=new Nh(n.diagnostics,n.panel,t.value));return n},provide:n=>[fv.from(n,e=>e.panel),Un.decorations.from(n,e=>e.diagnostics)]}),sQ=mn.mark({class:"cm-lintRange cm-lintRange-active"});function aQ(n,e,t){let{diagnostics:r}=n.state.field(Ss),i=[],o=2e8,a=0;r.between(e-(t<0?1:0),e+(t>0?1:0),(h,g,{spec:y})=>{e>=h&&e<=g&&(h==g||(e>h||t>0)&&(e<g||t<0))&&(i.push(y.diagnostic),o=Math.min(h,o),a=Math.max(g,a))});let c=n.state.facet(Fh).tooltipFilter;return c&&(i=c(i)),i.length?{pos:o,end:a,above:n.state.doc.lineAt(o).to<a,create:()=>({dom:R2(n,i)})}:null}function R2(n,e){return si("ul",{class:"cm-tooltip-lint"},e.map(t=>L2(n,t,!1)))}const P2=n=>{let e=n.state.field(Ss,!1);return!(!e||!e.panel||(n.dispatch({effects:HD.of(!1)}),0))},cQ=[{key:"Mod-Shift-m",run:n=>{let e=n.state.field(Ss,!1);(!e||!e.panel)&&n.dispatch({effects:I2(n.state,[HD.of(!0)])});let t=hv(n,B_.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:n=>{let e=n.state.field(Ss,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)||(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),0))}}],Fh=hn.define({combine:n=>Object.assign({sources:n.map(e=>e.source)},vl(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t})),enables:Ni.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(Fh);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let n=Date.now();if(n<this.lintTime-10)setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(Fh);Promise.all(t.map(r=>Promise.resolve(r(this.view)))).then(r=>{let i=r.reduce((o,a)=>o.concat(a));this.view.state.doc==e.doc&&this.view.dispatch(function oQ(n,e){return{effects:I2(n,[L_.of(e)])}}(this.view.state,i))},r=>{da(this.view.state,r)})}}update(n){let e=n.state.facet(Fh);(n.docChanged||e!=n.startState.facet(Fh)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}})});function F2(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function L2(n,e,t){var r;let i=t?F2(e.actions):[];return si("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},si("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),null===(r=e.actions)||void 0===r?void 0:r.map((o,a)=>{let c=!1,h=$=>{if($.preventDefault(),c)return;c=!0;let K=Fp(n.state.field(Ss).diagnostics,e);K&&o.apply(n,K.from,K.to)},{name:g}=o,y=i[a]?g.indexOf(i[a]):-1,O=y<0?g:[g.slice(0,y),si("u",g.slice(y,y+1)),g.slice(y+1)];return si("button",{type:"button",class:"cm-diagnosticAction",onclick:h,onmousedown:h,"aria-label":` Action: ${g}${y<0?"":` (access key "${i[a]})"`}.`},O)}),e.source&&si("div",{class:"cm-diagnosticSource"},e.source))}class dQ extends Qc{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return si("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class B2{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=L2(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class B_{constructor(e){this.view=e,this.items=[],this.list=si("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:i=>{if(27==i.keyCode)P2(this.view),this.view.focus();else if(38==i.keyCode||33==i.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==i.keyCode||34==i.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==i.keyCode)this.moveSelection(0);else if(35==i.keyCode)this.moveSelection(this.items.length-1);else if(13==i.keyCode)this.view.focus();else{if(!(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:o}=this.items[this.selectedIndex],a=F2(o.actions);for(let c=0;c<a.length;c++)if(a[c].toUpperCase().charCodeAt(0)==i.keyCode){let h=Fp(this.view.state.field(Ss).diagnostics,o);h&&o.actions[c].apply(e,h.from,h.to)}}}i.preventDefault()},onclick:i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)}}),this.dom=si("div",{class:"cm-panel-lint"},this.list,si("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>P2(this.view)},"\xd7")),this.update()}get selectedIndex(){let e=this.view.state.field(Ss).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Ss),r=0,i=!1,o=null;for(e.between(0,this.view.state.doc.length,(a,c,{spec:h})=>{let y,g=-1;for(let O=r;O<this.items.length;O++)if(this.items[O].diagnostic==h.diagnostic){g=O;break}g<0?(y=new B2(this.view,h.diagnostic),this.items.splice(r,0,y),i=!0):(y=this.items[g],g>r&&(this.items.splice(r,g-r),i=!0)),t&&y.diagnostic==t.diagnostic?y.dom.hasAttribute("aria-selected")||(y.dom.setAttribute("aria-selected","true"),o=y):y.dom.hasAttribute("aria-selected")&&y.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();0==this.items.length&&(this.items.push(new B2(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:c})=>{a.top<c.top?this.list.scrollTop-=c.top-a.top:a.bottom>c.bottom&&(this.list.scrollTop+=a.bottom-c.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let r=Fp(this.view.state.field(Ss).diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:O2.of(r)})}static open(e){return new B_(e)}}function jD(n){return function V_(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const hQ=Un.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:jD("#d11")},".cm-lintRange-warning":{backgroundImage:jD("orange")},".cm-lintRange-info":{backgroundImage:jD("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function GD(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return!!i&&(r(t.update(i)),!0)}}const _Q=GD(DQ,0),xQ=GD(H2,0),wQ=GD((n,e)=>H2(n,e,function CQ(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to),o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from,to:i.to})}return e}(e)),0);function $D(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Cv=50;function H2(n,e,t=e.selection.ranges){let r=t.map(o=>$D(e,o.from).block);if(!r.every(o=>o))return null;let i=t.map((o,a)=>function EQ(n,{open:e,close:t},r,i){let y,O,o=n.sliceDoc(r-Cv,r),a=n.sliceDoc(i,i+Cv),c=/\s*$/.exec(o)[0].length,h=/^\s*/.exec(a)[0].length,g=o.length-c;if(o.slice(g-e.length,g)==e&&a.slice(h,h+t.length)==t)return{open:{pos:r-c,margin:c&&1},close:{pos:i+h,margin:h&&1}};i-r<=2*Cv?y=O=n.sliceDoc(r,i):(y=n.sliceDoc(r,r+Cv),O=n.sliceDoc(i-Cv,i));let $=/^\s*/.exec(y)[0].length,K=/\s*$/.exec(O)[0].length,re=O.length-K-t.length;return y.slice($,$+e.length)==e&&O.slice(re,re+t.length)==t?{open:{pos:r+$+e.length,margin:/\s/.test(y.charAt($+e.length))?1:0},close:{pos:i-K-t.length,margin:/\s/.test(O.charAt(re-1))?1:0}}:null}(e,r[a],o.from,o.to));if(2!=n&&!i.every(o=>o))return{changes:e.changes(t.map((o,a)=>i[a]?[]:[{from:o.from,insert:r[a].open+" "},{from:o.to,insert:" "+r[a].close}]))};if(1!=n&&i.some(o=>o)){let o=[];for(let c,a=0;a<i.length;a++)if(c=i[a]){let h=r[a],{open:g,close:y}=c;o.push({from:g.pos-h.open.length,to:g.pos+g.margin},{from:y.pos-y.margin,to:y.pos+h.close.length})}return{changes:o}}return null}function DQ(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:a}of t){let c=r.length,h=1e9,g=$D(e,o).line;if(g){for(let y=o;y<=a;){let O=e.doc.lineAt(y);if(O.from>i&&(o==a||a>O.from)){i=O.from;let $=/^\s*/.exec(O.text)[0].length,K=$==O.length,re=O.text.slice($,$+g.length)==g?$:-1;$<O.text.length&&$<h&&(h=$),r.push({line:O,comment:re,token:g,indent:$,empty:K,single:!1})}y=O.to+1}if(h<1e9)for(let y=c;y<r.length;y++)r[y].indent<r[y].line.text.length&&(r[y].indent=h);r.length==c+1&&(r[c].single=!0)}}if(2!=n&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:c,token:h,indent:g,empty:y,single:O}of r)(O||!y)&&o.push({from:c.from+g,insert:h+" "});let a=e.changes(o);return{changes:a,selection:e.selection.map(a,1)}}if(1!=n&&r.some(o=>o.comment>=0)){let o=[];for(let{line:a,comment:c,token:h}of r)if(c>=0){let g=a.from+c,y=g+h.length;" "==a.text[y-a.from]&&y++,o.push({from:g,to:y})}return{changes:o}}return null}const WD=Zc.define(),SQ=Zc.define(),kQ=hn.define(),j2=hn.define({combine:n=>vl(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}),YD=no.define({create:()=>qD.empty,update(n,e){let t=e.state.facet(j2),r=e.annotation(WD);if(r){let h=e.docChanged?kt.single(function MQ(n){let e=0;return n.iterChangedRanges((t,r)=>e=r),e}(e.changes)):void 0,g=$s.fromTransaction(e,h),y=r.side,O=0==y?n.undone:n.done;return O=g?j_(O,O.length,t.minDepth,g):$2(O,e.startState.selection),new qD(0==y?r.rest:O,0==y?O:r.rest)}let i=e.annotation(SQ);if(("full"==i||"before"==i)&&(n=n.isolate()),!1===e.annotation(ic.addToHistory))return e.changes.empty?n:n.addMapping(e.changes.desc);let o=$s.fromTransaction(e),a=e.annotation(ic.time),c=e.annotation(ic.userEvent);return o?n=n.addChanges(o,a,c,t,e):e.selection&&(n=n.addSelection(e.startState.selection,a,c,t.newGroupDelay)),("full"==i||"after"==i)&&(n=n.isolate()),n},toJSON:n=>({done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}),fromJSON:n=>new qD(n.done.map($s.fromJSON),n.undone.map($s.fromJSON))});function TQ(n={}){return[YD,j2.of(n),Un.domEventHandlers({beforeinput(e,t){let r="historyUndo"==e.inputType?U2:"historyRedo"==e.inputType?XD:null;return!!r&&(e.preventDefault(),r(t))}})]}function H_(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(YD,!1);if(!i)return!1;let o=i.pop(n,t,e);return!!o&&(r(o),!0)}}const U2=H_(0,!1),XD=H_(1,!1),AQ=H_(0,!0),IQ=H_(1,!0);class $s{constructor(e,t,r,i,o){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new $s(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(r=this.startSelection)||void 0===r?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new $s(e.changes&&mo.fromJSON(e.changes),[],e.mapped&&rc.fromJSON(e.mapped),e.startSelection&&kt.fromJSON(e.startSelection),e.selectionsAfter.map(kt.fromJSON))}static fromTransaction(e,t){let r=La;for(let i of e.startState.facet(kQ)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new $s(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,La)}static selection(e){return new $s(void 0,La,void 0,void 0,e)}}function j_(n,e,t,r){let o=n.slice(e+1>t+20?e-t-1:0,e);return o.push(r),o}function G2(n,e){return n.length?e.length?n.concat(e):n:e}const La=[],PQ=200;function $2(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-PQ));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),j_(n,n.length-1,1e9,t.setSelAfter(r)))}return[$s.selection([e])]}function NQ(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function KD(n,e){if(!n.length)return n;let t=n.length,r=La;for(;t;){let i=FQ(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=n.slice(0,t);return o[t-1]=i,o}e=i.mapped,t--,r=i.selectionsAfter}return r.length?[$s.selection(r)]:La}function FQ(n,e,t){let r=G2(n.selectionsAfter.length?n.selectionsAfter.map(c=>c.map(e)):La,t);if(!n.changes)return $s.selection(r);let i=n.changes.map(e),o=e.mapDesc(n.changes,!0),a=n.mapped?n.mapped.composeDesc(o):o;return new $s(i,dr.mapEffects(n.effects,e),a,n.startSelection.map(o),r)}const LQ=/^(input\.type|delete)($|\.)/;let qD=(()=>{class n{constructor(t,r,i=0,o){this.done=t,this.undone=r,this.prevTime=i,this.prevUserEvent=o}isolate(){return this.prevTime?new n(this.done,this.undone):this}addChanges(t,r,i,o,a){let c=this.done,h=c[c.length-1];return c=h&&h.changes&&!h.changes.empty&&t.changes&&(!i||LQ.test(i))&&(!h.selectionsAfter.length&&r-this.prevTime<o.newGroupDelay&&o.joinToEvent(a,function OQ(n,e){let t=[],r=!1;return n.iterChangedRanges((i,o)=>t.push(i,o)),e.iterChangedRanges((i,o,a,c)=>{for(let h=0;h<t.length;){let g=t[h++],y=t[h++];c>=g&&a<=y&&(r=!0)}}),r}(h.changes,t.changes))||"input.type.compose"==i)?j_(c,c.length-1,o.minDepth,new $s(t.changes.compose(h.changes),G2(t.effects,h.effects),h.mapped,h.startSelection,La)):j_(c,c.length,o.minDepth,t),new n(c,La,r,i)}addSelection(t,r,i,o){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:La;return a.length>0&&r-this.prevTime<o&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&function RQ(n,e){return n.ranges.length==e.ranges.length&&0===n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length}(a[a.length-1],t)?this:new n($2(this.done,t),this.undone,r,i)}addMapping(t){return new n(KD(this.done,t),KD(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,r,i){let o=0==t?this.done:this.undone;if(0==o.length)return null;let a=o[o.length-1];if(i&&a.selectionsAfter.length)return r.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:WD.of({side:t,rest:NQ(o)}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let c=1==o.length?La:o.slice(0,o.length-1);return a.mapped&&(c=KD(c,a.mapped)),r.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:WD.of({side:t,rest:c}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}return n.empty=new n(La,La),n})();const BQ=[{key:"Mod-z",run:U2,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:XD,preventDefault:!0},{linux:"Ctrl-Shift-z",run:XD,preventDefault:!0},{key:"Mod-u",run:AQ,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:IQ,preventDefault:!0}];function Lp(n,e){return kt.create(n.ranges.map(e),n.mainIndex)}function pc(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ba({state:n,dispatch:e},t){let r=Lp(n.selection,t);return!r.eq(n.selection)&&(e(pc(n,r)),!0)}function Dv(n,e){return kt.cursor(e?n.to:n.from)}function U_(n,e){return Ba(n,t=>t.empty?n.moveByChar(t,e):Dv(t,e))}function is(n){return n.textDirectionAt(n.state.selection.main.head)==Mi.LTR}const W2=n=>U_(n,!is(n)),Y2=n=>U_(n,is(n));function G_(n,e){return Ba(n,t=>t.empty?n.moveByGroup(t,e):Dv(t,e))}function HQ(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function $_(n,e,t){let a,c,r=Mo(n).resolveInner(e.head),i=t?Qn.closedBy:Qn.openedBy;for(let h=e.head;;){let g=t?r.childAfter(h):r.childBefore(h);if(!g)break;HQ(n,g,i)?r=g:h=t?g.to:g.from}return c=r.type.prop(i)&&(a=t?fc(n,r.from,1):fc(n,r.to,-1))&&a.matched?t?a.end.to:a.end.from:t?r.to:r.from,kt.cursor(c,t?-1:1)}function q2(n,e){return Ba(n,t=>{if(!t.empty)return Dv(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const Z2=n=>q2(n,!1),Q2=n=>q2(n,!0);function J2(n){let i,e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0;if(e){for(let o of n.state.facet(Un.scrollMargins)){let a=o(n);a?.top&&(t=Math.max(a?.top,t)),a?.bottom&&(r=Math.max(a?.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function eB(n,e){let o,t=J2(n),{state:r}=n,i=Lp(r.selection,a=>a.empty?n.moveVertically(a,e,t.height):Dv(a,e));if(i.eq(r.selection))return!1;if(t.selfScroll){let a=n.coordsAtPos(r.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),h=c.top+t.marginTop;a&&a.top>h&&a.bottom<c.bottom-t.marginBottom&&(o=Un.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-h}))}return n.dispatch(pc(r,i),{effects:o}),!0}const tB=n=>eB(n,!1),ZD=n=>eB(n,!0);function cd(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let o=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=kt.cursor(r.from+o))}return i}function fa(n,e){let t=Lp(n.state.selection,r=>{let i=e(r);return kt.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return!t.eq(n.state.selection)&&(n.dispatch(pc(n.state,t)),!0)}function W_(n,e){return fa(n,t=>n.moveByChar(t,e))}const rB=n=>W_(n,!is(n)),iB=n=>W_(n,is(n));function Y_(n,e){return fa(n,t=>n.moveByGroup(t,e))}function sB(n,e){return fa(n,t=>n.moveVertically(t,e))}const aB=n=>sB(n,!1),lB=n=>sB(n,!0);function cB(n,e){return fa(n,t=>n.moveVertically(t,e,J2(n).height))}const uB=n=>cB(n,!1),dB=n=>cB(n,!0),hB=({state:n,dispatch:e})=>(e(pc(n,{anchor:0})),!0),fB=({state:n,dispatch:e})=>(e(pc(n,{anchor:n.doc.length})),!0),pB=({state:n,dispatch:e})=>(e(pc(n,{anchor:n.selection.main.anchor,head:0})),!0),mB=({state:n,dispatch:e})=>(e(pc(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0);function X_(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(o=>{let{from:a,to:c}=o;if(a==c){let h=e(a);h<a?(t="delete.backward",h=K_(n,h,!1)):h>a&&(t="delete.forward",h=K_(n,h,!0)),a=Math.min(a,h),c=Math.max(c,h)}else a=K_(n,a,!1),c=K_(n,c,!0);return a==c?{range:o}:{changes:{from:a,to:c},range:kt.cursor(a)}});return!i.changes.empty&&(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:"delete.selection"==t?Un.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function K_(n,e,t){if(n instanceof Un)for(let r of n.state.facet(Un.atomicRanges).map(i=>i(n)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=t?o:i)});return e}const gB=(n,e)=>X_(n,t=>{let o,a,{state:r}=n,i=r.doc.lineAt(t);if(!e&&t>i.from&&t<i.from+200&&!/[^ \t]/.test(o=i.text.slice(0,t-i.from))){if("\t"==o[o.length-1])return t-1;let h=Jg(o,r.tabSize)%Ph(r)||Ph(r);for(let g=0;g<h&&" "==o[o.length-1-g];g++)t--;a=t}else a=xs(i.text,t-i.from,e,e)+i.from,a==t&&i.number!=(e?r.doc.lines:1)&&(a+=e?1:-1);return a}),QD=n=>gB(n,!1),vB=n=>gB(n,!0),yB=(n,e)=>X_(n,t=>{let r=t,{state:i}=n,o=i.doc.lineAt(r),a=i.charCategorizer(r);for(let c=null;;){if(r==(e?o.to:o.from)){r==t&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let h=xs(o.text,r-o.from,e)+o.from,g=o.text.slice(Math.min(r,h)-o.from,Math.max(r,h)-o.from),y=a(g);if(null!=c&&y!=c)break;(" "!=g||r!=t)&&(c=y),r=h}return r}),bB=n=>yB(n,!1),_B=n=>X_(n,e=>{let t=n.lineBlockAt(e).to;return e<t?t:Math.min(n.state.doc.length,e+1)});function q_(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),o=n.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=n.doc.lineAt(r.to-1)),t>=i.number){let a=e[e.length-1];a.to=o.to,a.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});t=o.number+1}return e}function xB(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let o of q_(n)){if(t?o.to==n.doc.length:0==o.from)continue;let a=n.doc.lineAt(t?o.to+1:o.from-1),c=a.length+1;if(t){r.push({from:o.to,to:a.to},{from:o.from,insert:a.text+n.lineBreak});for(let h of o.ranges)i.push(kt.range(Math.min(n.doc.length,h.anchor+c),Math.min(n.doc.length,h.head+c)))}else{r.push({from:a.from,to:o.from},{from:o.to,insert:n.lineBreak+a.text});for(let h of o.ranges)i.push(kt.range(h.anchor-c,h.head-c))}}return!!r.length&&(e(n.update({changes:r,scrollIntoView:!0,selection:kt.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0)}function wB(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of q_(n))r.push(t?{from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}:{from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const xJ=EB(!1);function EB(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:a}=i,c=e.doc.lineAt(o),h=!n&&o==a&&function _J(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let o,t=Mo(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e);return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(Qn.closedBy))&&o.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}(e,o);n&&(o=a=(a<=c.to?c:e.doc.lineAt(a)).to);let g=new bv(e,{simulateBreak:o,simulateDoubleBreak:!!h}),y=P_(g,o);for(null==y&&(y=/^\s*/.exec(e.doc.lineAt(o).text)[0].length);a<c.to&&/\s/.test(c.text[a-c.from]);)a++;h?({from:o,to:a}=h):o>c.from&&o<c.from+100&&!/\S/.test(c.text.slice(0,o))&&(o=c.from);let O=["",Rp(e,y)];return h&&O.push(Rp(e,g.lineIndent(c.from,-1))),{changes:{from:o,to:a,insert:Lr.of(O)},range:kt.cursor(o+1+O[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function JD(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let c=n.doc.lineAt(a);c.number>t&&(r.empty||r.to>c.from)&&(e(c,i,r),t=c.number),a=c.to+1}let o=n.changes(i);return{changes:i,range:kt.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const SJ=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:n=>Ba(n,e=>$_(n.state,e,!is(n))),shift:n=>fa(n,e=>$_(n.state,e,!is(n)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:n=>Ba(n,e=>$_(n.state,e,is(n))),shift:n=>fa(n,e=>$_(n.state,e,is(n)))},{key:"Alt-ArrowUp",run:({state:n,dispatch:e})=>xB(n,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:n,dispatch:e})=>wB(n,e,!1)},{key:"Alt-ArrowDown",run:({state:n,dispatch:e})=>xB(n,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:n,dispatch:e})=>wB(n,e,!0)},{key:"Escape",run:({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=kt.create([t.main]):t.main.empty||(r=kt.create([kt.cursor(t.main.head)])),!!r&&(e(pc(n,r)),!0)}},{key:"Mod-Enter",run:EB(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:n,dispatch:e})=>{let t=q_(n).map(({from:r,to:i})=>kt.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:kt.create(t),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:n,dispatch:e})=>{let t=Lp(n.selection,r=>{var i;let o=Mo(n).resolveInner(r.head,1);for(;!(o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from||null===(i=o.parent)||void 0===i)&&i.parent;)o=o.parent;return kt.range(o.to,o.from)});return e(pc(n,t)),!0},preventDefault:!0},{key:"Mod-[",run:({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(JD(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let o=Jg(i,n.tabSize),a=0,c=Rp(n,Math.max(0,o-Ph(n)));for(;a<i.length&&a<c.length&&i.charCodeAt(a)==c.charCodeAt(a);)a++;r.push({from:t.from+a,to:t.from+i.length,insert:c.slice(a)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(JD(n,(t,r)=>{r.push({from:t.from,insert:n.facet(TD)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new bv(n,{overrideIndentation:o=>t[o]??-1}),i=JD(n,(o,a,c)=>{let h=P_(r,o.from);if(null==h)return;/\S/.test(o.text)||(h=0);let g=/^\s*/.exec(o.text)[0],y=Rp(n,h);(g!=y||c.from<o.from+g.length)&&(t[o.from]=h,a.push({from:o.from,to:o.from+g.length,insert:y}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(q_(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=Lp(e.selection,i=>n.moveVertically(i,!0)).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:n,dispatch:e})=>function nB(n,e,t){let r=!1,i=Lp(n.selection,o=>{let a=fc(n,o.head,-1)||fc(n,o.head,1)||o.head>0&&fc(n,o.head-1,1)||o.head<n.doc.length&&fc(n,o.head+1,-1);if(!a||!a.end)return o;r=!0;let c=a.start.from==o.head?a.end.to:a.end.from;return t?kt.range(o.anchor,c):kt.cursor(c)});return!!r&&(e(pc(n,i)),!0)}(n,e,!1)},{key:"Mod-/",run:n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=$D(n.state,t.from);return r.line?_Q(n):!!r.block&&wQ(n)}},{key:"Alt-A",run:xQ}].concat([{key:"ArrowLeft",run:W2,shift:rB,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:n=>G_(n,!is(n)),shift:n=>Y_(n,!is(n)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:n=>Ba(n,e=>cd(n,e,!is(n))),shift:n=>fa(n,e=>cd(n,e,!is(n))),preventDefault:!0},{key:"ArrowRight",run:Y2,shift:iB,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:n=>G_(n,is(n)),shift:n=>Y_(n,is(n)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:n=>Ba(n,e=>cd(n,e,is(n))),shift:n=>fa(n,e=>cd(n,e,is(n))),preventDefault:!0},{key:"ArrowUp",run:Z2,shift:aB,preventDefault:!0},{mac:"Cmd-ArrowUp",run:hB,shift:pB},{mac:"Ctrl-ArrowUp",run:tB,shift:uB},{key:"ArrowDown",run:Q2,shift:lB,preventDefault:!0},{mac:"Cmd-ArrowDown",run:fB,shift:mB},{mac:"Ctrl-ArrowDown",run:ZD,shift:dB},{key:"PageUp",run:tB,shift:uB},{key:"PageDown",run:ZD,shift:dB},{key:"Home",run:n=>Ba(n,e=>cd(n,e,!1)),shift:n=>fa(n,e=>cd(n,e,!1)),preventDefault:!0},{key:"Mod-Home",run:hB,shift:pB},{key:"End",run:n=>Ba(n,e=>cd(n,e,!0)),shift:n=>fa(n,e=>cd(n,e,!0)),preventDefault:!0},{key:"Mod-End",run:fB,shift:mB},{key:"Enter",run:xJ},{key:"Mod-a",run:({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:QD,shift:QD},{key:"Delete",run:vB},{key:"Mod-Backspace",mac:"Alt-Backspace",run:bB},{key:"Mod-Delete",mac:"Alt-Delete",run:n=>yB(n,!0)},{mac:"Mod-Backspace",run:n=>X_(n,e=>{let t=n.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)})},{mac:"Mod-Delete",run:_B}].concat([{key:"Ctrl-b",run:W2,shift:rB,preventDefault:!0},{key:"Ctrl-f",run:Y2,shift:iB},{key:"Ctrl-p",run:Z2,shift:aB},{key:"Ctrl-n",run:Q2,shift:lB},{key:"Ctrl-a",run:n=>Ba(n,e=>kt.cursor(n.lineBlockAt(e.head).from,1)),shift:n=>fa(n,e=>kt.cursor(n.lineBlockAt(e.head).from))},{key:"Ctrl-e",run:n=>Ba(n,e=>kt.cursor(n.lineBlockAt(e.head).to,-1)),shift:n=>fa(n,e=>kt.cursor(n.lineBlockAt(e.head).to))},{key:"Ctrl-d",run:vB},{key:"Ctrl-h",run:QD},{key:"Ctrl-k",run:_B},{key:"Ctrl-Alt-h",run:bB},{key:"Ctrl-o",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Lr.of(["",""])},range:kt.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||0==r.from||r.from==n.doc.length)return{range:r};let i=r.from,o=n.doc.lineAt(i),a=i==o.from?i-1:xs(o.text,i-o.from,!1)+o.from,c=i==o.to?i+1:xs(o.text,i-o.from,!0)+o.from;return{changes:{from:a,to:c,insert:n.doc.slice(i,c).append(n.doc.slice(a,i))},range:kt.cursor(c)}});return!t.changes.empty&&(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:ZD}].map(n=>({mac:n.key,run:n.run,shift:n.shift})))),DB="function"==typeof String.prototype.normalize?n=>n.normalize("NFKD"):n=>n;class Bp{constructor(e,t,r=0,i=e.length,o,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?c=>o(DB(c)):DB,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return jo(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=vC(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Ra(e);let i=this.normalize(t);for(let o=0,a=r;;o++){let c=i.charCodeAt(o),h=this.match(c,a);if(h)return this.value=h,this;if(o==i.length-1)break;a==r&&o<t.length&&t.charCodeAt(o)==c&&a++}}}match(e,t){let r=null;for(let i=0;i<this.matches.length;i+=2){let o=this.matches[i],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[i+1],to:t+1}:(this.matches[i]++,a=!0)),a||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:t+1}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferPos)&&(r=null),r}}typeof Symbol<"u"&&(Bp.prototype[Symbol.iterator]=function(){return this});const SB={from:-1,to:-1,match:/.*/.exec("")},tS="gm"+(null==/x/.unicode?"":"u");class kB{constructor(e,t,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=SB,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new MB(e,t,r,i,o);this.re=new RegExp(t,tS+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let a=e.lineAt(i);this.curLineStart=a.from,this.matchPos=Z_(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=Z_(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const nS=new WeakMap;class Vp{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=nS.get(e);if(!i||i.from>=r||i.to<=t){let c=new Vp(t,e.sliceString(t,r));return nS.set(e,c),c}if(i.from==t&&i.to==r)return i;let{text:o,from:a}=i;return a>t&&(o=e.sliceString(t,a)+o,a=t),i.to<r&&(o+=e.sliceString(i.to,r)),nS.set(e,new Vp(a,o)),new Vp(t,o.slice(t-a,r-a))}}class MB{constructor(e,t,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=SB,this.matchPos=Z_(e,i),this.re=new RegExp(t,tS+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=Vp.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=Z_(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Vp.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Z_(n,e){if(e>=n.length)return e;let r,t=n.lineAt(e);for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function rS(n){let e=si("input",{class:"cm-textfield",name:"line"});function r(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:o}=n,a=o.doc.lineAt(o.selection.main.head),[,c,h,g,y]=i,O=g?+g.slice(1):0,$=h?+h:a.number;if(h&&y){let re=$/100;c&&(re=re*("-"==c?-1:1)+a.number/o.doc.lines),$=Math.round(o.doc.lines*re)}else h&&c&&($=$*("-"==c?-1:1)+a.number);let K=o.doc.line(Math.max(1,Math.min(o.doc.lines,$)));n.dispatch({effects:Q_.of(!1),selection:kt.cursor(K.from+Math.max(0,Math.min(O,K.length))),scrollIntoView:!0}),n.focus()}return{dom:si("form",{class:"cm-gotoLine",onkeydown:i=>{27==i.keyCode?(i.preventDefault(),n.dispatch({effects:Q_.of(!1)}),n.focus()):13==i.keyCode&&(i.preventDefault(),r())},onsubmit:i=>{i.preventDefault(),r()}},si("label",n.state.phrase("Go to line"),": ",e)," ",si("button",{class:"cm-button",type:"submit"},n.state.phrase("go")))}}typeof Symbol<"u"&&(kB.prototype[Symbol.iterator]=MB.prototype[Symbol.iterator]=function(){return this});const Q_=dr.define(),TB=no.define({create:()=>!0,update(n,e){for(let t of e.effects)t.is(Q_)&&(n=t.value);return n},provide:n=>fv.from(n,e=>e?rS:null)}),TJ=Un.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),AJ={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},AB=hn.define({combine:n=>vl(n,AJ,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function IJ(n){let e=[FJ,NJ];return n&&e.push(AB.of(n)),e}const OJ=mn.mark({class:"cm-selectionMatch"}),RJ=mn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function IB(n,e,t,r){return!(0!=t&&n(e.sliceDoc(t-1,t))==yi.Word||r!=e.doc.length&&n(e.sliceDoc(r,r+1))==yi.Word)}const NJ=Ni.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(AB),{state:t}=n,r=t.selection;if(r.ranges.length>1)return mn.none;let o,i=r.main,a=null;if(i.empty){if(!e.highlightWordAroundCursor)return mn.none;let h=t.wordAt(i.head);if(!h)return mn.none;a=t.charCategorizer(i.head),o=t.sliceDoc(h.from,h.to)}else{let h=i.to-i.from;if(h<e.minSelectionLength||h>200)return mn.none;if(e.wholeWords){if(o=t.sliceDoc(i.from,i.to),a=t.charCategorizer(i.head),!IB(a,t,i.from,i.to)||!function PJ(n,e,t,r){return n(e.sliceDoc(t,t+1))==yi.Word&&n(e.sliceDoc(r-1,r))==yi.Word}(a,t,i.from,i.to))return mn.none}else if(o=t.sliceDoc(i.from,i.to).trim(),!o)return mn.none}let c=[];for(let h of n.visibleRanges){let g=new Bp(t.doc,o,h.from,h.to);for(;!g.next().done;){let{from:y,to:O}=g.value;if((!a||IB(a,t,y,O))&&(i.empty&&y<=i.from&&O>=i.to?c.push(RJ.range(y,O)):(y>=i.to||O<=i.from)&&c.push(OJ.range(y,O)),c.length>e.maxMatches))return mn.none}}return mn.set(c)}},{decorations:n=>n.decorations}),FJ=Un.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Lh=hn.define({combine:n=>vl(n,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new ZJ(e),scrollToMatch:e=>Un.scrollIntoView(e)})});class OB{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function kJ(n){try{return new RegExp(n,tS),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>"n"==r?"\n":"r"==r?"\r":"t"==r?"\t":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new UJ(this):new HJ(this)}getCursor(e,t=0,r){let i=e.doc?e:Es.create({doc:e});return null==r&&(r=i.doc.length),this.regexp?Hp(this,i,t,r):zp(this,i,t,r)}}class RB{constructor(e){this.spec=e}}function zp(n,e,t,r){return new Bp(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?function zJ(n,e){return(t,r,i,o)=>((o>t||o+i.length<r)&&(o=Math.max(0,t-2),i=n.sliceString(o,Math.min(n.length,r+2))),!(e(J_(i,t-o))==yi.Word&&e(ex(i,t-o))==yi.Word||e(ex(i,r-o))==yi.Word&&e(J_(i,r-o))==yi.Word))}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}class HJ extends RB{constructor(e){super(e)}nextMatch(e,t,r){let i=zp(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=zp(this.spec,e,0,t).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let o=Math.max(t,i-1e4-this.spec.unquoted.length),a=zp(this.spec,e,o,i),c=null;for(;!a.nextOverlapping().done;)c=a.value;if(c)return c;if(o==t)return null;i-=1e4}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=zp(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=zp(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function Hp(n,e,t,r){return new kB(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?jJ(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function J_(n,e){return n.slice(xs(n,e,!1),e)}function ex(n,e){return n.slice(e,xs(n,e))}function jJ(n){return(e,t,r)=>!r[0].length||(n(J_(r.input,r.index))!=yi.Word||n(ex(r.input,r.index))!=yi.Word)&&(n(ex(r.input,r.index+r[0].length))!=yi.Word||n(J_(r.input,r.index+r[0].length))!=yi.Word)}class UJ extends RB{nextMatch(e,t,r){let i=Hp(this.spec,e,r,e.doc.length).next();return i.done&&(i=Hp(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let o=Math.max(t,r-1e4*i),a=Hp(this.spec,e,o,r),c=null;for(;!a.next().done;)c=a.value;if(c&&(o==t||c.from>o+10))return c;if(o==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(t,r)=>"$"==r?"$":"&"==r?e.match[0]:"0"!=r&&+r<e.match.length?e.match[r]:t))}matchAll(e,t){let r=Hp(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=Hp(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const Sv=dr.define(),iS=dr.define(),mc=no.define({create:n=>new oS(rx(n).create(),null),update(n,e){for(let t of e.effects)t.is(Sv)?n=new oS(t.value.create(),n.panel):t.is(iS)&&(n=new oS(n.query,t.value?sS:null));return n},provide:n=>fv.from(n,e=>e.panel)});class oS{constructor(e,t){this.query=e,this.panel=t}}const GJ=mn.mark({class:"cm-searchMatch"}),$J=mn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),WJ=Ni.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(mc))}update(n){let e=n.state.field(mc);(e!=n.startState.field(mc)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return mn.none;let{view:t}=this,r=new Qu;for(let i=0,o=t.visibleRanges,a=o.length;i<a;i++){let{from:c,to:h}=o[i];for(;i<a-1&&h>o[i+1].from-500;)h=o[++i].to;n.highlight(t.state,c,h,(g,y)=>{let O=t.state.selection.ranges.some($=>$.from==g&&$.to==y);r.add(g,y,O?$J:GJ)})}return r.finish()}},{decorations:n=>n.decorations});function kv(n){return e=>{let t=e.state.field(mc,!1);return t&&t.query.spec.valid?n(e,t):NB(e)}}const tx=kv((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=kt.single(r.from,r.to),o=n.state.facet(Lh);return n.dispatch({selection:i,effects:[aS(n,r),o.scrollToMatch(i.main)],userEvent:"select.search"}),!0}),nx=kv((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let o=kt.single(i.from,i.to),a=n.state.facet(Lh);return n.dispatch({selection:o,effects:[aS(n,i),a.scrollToMatch(o.main)],userEvent:"select.search"}),!0}),YJ=kv((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!(!t||!t.length||(n.dispatch({selection:kt.create(t.map(r=>kt.range(r.from,r.to))),userEvent:"select.search.matches"}),0))}),PB=kv((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,r,r);if(!o)return!1;let c,h,a=[],g=[];if(o.from==r&&o.to==i&&(h=t.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:h}),o=e.nextMatch(t,o.from,o.to),g.push(Un.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),o){let y=0==a.length||a[0].from>=o.to?0:o.to-o.from-h.length;c=kt.single(o.from-y,o.to-y),g.push(aS(n,o)),g.push(t.facet(Lh).scrollToMatch(c.main))}return n.dispatch({changes:a,selection:c,effects:g,userEvent:"input.replace"}),!0}),KJ=kv((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:o,to:a}=i;return{from:o,to:a,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:Un.announce.of(r),userEvent:"input.replace.all"}),!0});function sS(n){return n.state.facet(Lh).createPanel(n)}function rx(n,e){var t,r,i,o;let a=n.selection.main,c=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!c)return e;let h=n.facet(Lh);return new OB({search:(null!==(t=e?.literal)&&void 0!==t?t:h.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:null!==(r=e?.caseSensitive)&&void 0!==r?r:h.caseSensitive,literal:null!==(i=e?.literal)&&void 0!==i?i:h.literal,wholeWord:null!==(o=e?.wholeWord)&&void 0!==o?o:h.wholeWord})}const NB=n=>{let e=n.state.field(mc,!1);if(e&&e.panel){let t=hv(n,sS);if(!t)return!1;let r=t.dom.querySelector("[main-field]");if(r&&r!=n.root.activeElement){let i=rx(n.state,e.query.spec);i.valid&&n.dispatch({effects:Sv.of(i)}),r.focus(),r.select()}}else n.dispatch({effects:[iS.of(!0),e?Sv.of(rx(n.state,e.query.spec)):dr.appendConfig.of(lS)]});return!0},FB=n=>{let e=n.state.field(mc,!1);if(!e||!e.panel)return!1;let t=hv(n,sS);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:iS.of(!1)}),!0},qJ=[{key:"Mod-f",run:NB,scope:"editor search-panel"},{key:"F3",run:tx,shift:nx,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:tx,shift:nx,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:FB,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,o=[],a=0;for(let c=new Bp(n.doc,n.sliceDoc(r,i));!c.next().done;){if(o.length>1e3)return!1;c.value.from==r&&(a=o.length),o.push(kt.range(c.value.from,c.value.to))}return e(n.update({selection:kt.create(o,a),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:n=>{let e=hv(n,rS);if(!e){let t=[Q_.of(!0)];null==n.state.field(TB,!1)&&t.push(dr.appendConfig.of([TB,TJ])),n.dispatch({effects:t}),e=hv(n,rS)}return e&&e.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return(({state:n,dispatch:e})=>{let{selection:t}=n,r=kt.create(t.ranges.map(i=>n.wordAt(i.head)||kt.cursor(i.head)),t.mainIndex);return!r.eq(t)&&(e(n.update({selection:r})),!0)})({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=r))return!1;let i=function BJ(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),o=i&&i.from==t.from&&i.to==t.to;for(let a=!1,c=new Bp(n.doc,e,r[r.length-1].to);;){if(c.next(),!c.done){if(a&&r.some(h=>h.from==c.value.from))continue;if(o){let h=n.wordAt(c.value.from);if(!h||h.from!=c.value.from||h.to!=c.value.to)continue}return c.value}if(a)return null;c=new Bp(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),a=!0}}(n,r);return!!i&&(e(n.update({selection:n.selection.addRange(kt.range(i.from,i.to),!1),effects:Un.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class ZJ{constructor(e){this.view=e;let t=this.query=e.state.field(mc).query.spec;function r(i,o,a){return si("button",{class:"cm-button",name:i,onclick:o,type:"button"},a)}this.commit=this.commit.bind(this),this.searchField=si("input",{value:t.search,placeholder:pa(e,"Find"),"aria-label":pa(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=si("input",{value:t.replace,placeholder:pa(e,"Replace"),"aria-label":pa(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=si("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=si("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=si("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=si("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>tx(e),[pa(e,"next")]),r("prev",()=>nx(e),[pa(e,"previous")]),r("select",()=>YJ(e),[pa(e,"all")]),si("label",null,[this.caseField,pa(e,"match case")]),si("label",null,[this.reField,pa(e,"regexp")]),si("label",null,[this.wordField,pa(e,"by word")]),...e.state.readOnly?[]:[si("br"),this.replaceField,r("replace",()=>PB(e),[pa(e,"replace")]),r("replaceAll",()=>KJ(e),[pa(e,"replace all")])],si("button",{name:"close",onclick:()=>FB(e),"aria-label":pa(e,"close"),type:"button"},["\xd7"])])}commit(){let e=new OB({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Sv.of(e)}))}keydown(e){!function AK(n,e,t){return tL(eL(n.state),e,n,t)}(this.view,e,"search-panel")?13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?nx:tx)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),PB(this.view)):e.preventDefault()}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Sv)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Lh).top}}function pa(n,e){return n.state.phrase(e)}const ix=30,ox=/[\s\.,:;?!]/;function aS(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,o=Math.max(r.from,e-ix),a=Math.min(i,t+ix),c=n.state.sliceDoc(o,a);if(o!=r.from)for(let h=0;h<ix;h++)if(!ox.test(c[h+1])&&ox.test(c[h])){c=c.slice(h);break}if(a!=i)for(let h=c.length-1;h>c.length-ix;h--)if(!ox.test(c[h-1])&&ox.test(c[h])){c=c.slice(0,h);break}return Un.announce.of(`${n.state.phrase("current match")}. ${c} ${n.state.phrase("on line")} ${r.number}.`)}const QJ=Un.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),lS=[mc,Sh.lowest(WJ),QJ];class LB{constructor(e,t,r){this.state=e,this.pos=t,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let t=Mo(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(zB(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function BB(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}class VB{constructor(e,t,r){this.completion=e,this.source=t,this.match=r}}function ud(n){return n.selection.main.head}function zB(n,e){var t;let{source:r}=n,i=e&&"^"!=r[0],o="$"!=r[r.length-1];return i||o?new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,null!==(t=n.flags)&&void 0!==t?t:n.ignoreCase?"i":""):n}const HB=Zc.define();function jB(n,e){const t=e.completion.apply||e.completion.label;let r=e.source;"string"==typeof t?n.dispatch(Object.assign(Object.assign({},function tee(n,e,t,r){return Object.assign(Object.assign({},n.changeByRange(i=>{if(i==n.selection.main)return{changes:{from:t,to:r,insert:e},range:kt.cursor(t+e.length)};let o=r-t;return!i.empty||o&&n.sliceDoc(i.from-o,i.from)!=n.sliceDoc(t,r)?{range:i}:{changes:{from:i.from-o,to:i.from,insert:e},range:kt.cursor(i.from-o+e.length)}})),{userEvent:"input.complete"})}(n.state,t,r.from,r.to)),{annotations:HB.of(e.completion)})):t(n,e.completion,r.from,r.to)}const UB=new WeakMap;function nee(n){if(!Array.isArray(n))return n;let e=UB.get(n);return e||UB.set(n,e=function eee(n){let e=n.map(i=>"string"==typeof i?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:function JJ(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let o=1;o<i.length;o++)t[i[o]]=!0}let r=BB(e)+BB(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:t}:null}}(n)),e}class ree{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let r=jo(e,t),i=Ra(r);this.chars.push(r);let o=e.slice(t,t+i),a=o.toUpperCase();this.folded.push(jo(a==o?o.toLowerCase():a,0)),t+=i}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:o,byWord:a}=this;if(1==t.length){let Je=jo(e,0),Ke=Ra(Je),at=Ke==e.length?0:-100;if(Je!=t[0]){if(Je!=r[0])return null;at+=-200}return[at,0,Ke]}let c=e.indexOf(this.pattern);if(0==c)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let h=t.length,g=0;if(c<0){for(let Je=0,Ke=Math.min(e.length,200);Je<Ke&&g<h;){let at=jo(e,Je);(at==t[g]||at==r[g])&&(i[g++]=Je),Je+=Ra(at)}if(g<h)return null}let y=0,O=0,$=!1,K=0,re=-1,he=-1,xe=/[a-z]/.test(e),Pe=!0;for(let Je=0,Ke=Math.min(e.length,200),at=0;Je<Ke&&O<h;){let wt=jo(e,Je);c<0&&(y<h&&wt==t[y]&&(o[y++]=Je),K<h&&(wt==t[K]||wt==r[K]?(0==K&&(re=Je),he=Je+1,K++):K=0));let Dt,rn=wt<255?wt>=48&&wt<=57||wt>=97&&wt<=122?2:wt>=65&&wt<=90?1:0:(Dt=vC(wt))!=Dt.toLowerCase()?1:Dt!=Dt.toUpperCase()?2:0;(!Je||1==rn&&xe||0==at&&0!=rn)&&(t[O]==wt||r[O]==wt&&($=!0)?a[O++]=Je:a.length&&(Pe=!1)),at=rn,Je+=Ra(wt)}return O==h&&0==a[0]&&Pe?this.result(($?-200:0)-100,a,e):K==h&&0==re?[-200-e.length+(he==e.length?0:-100),0,he]:c>-1?[-700-e.length,c,c+this.pattern.length]:K==h?[-900-e.length,re,he]:O==h?this.result(($?-200:0)-100-700+(Pe?0:-1100),a,e):2==t.length?null:this.result((i[0]?-700:0)-200-1100,i,e)}result(e,t,r){let i=[e-r.length],o=1;for(let a of t){let c=a+(this.astral?Ra(jo(r,a)):1);o>1&&i[o-1]==a?i[o-1]=c:(i[o++]=a,i[o++]=c)}return i}}const Va=hn.define({combine:n=>vl(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>GB(e(r),t(r)),optionClass:(e,t)=>r=>GB(e(r),t(r)),addToOptions:(e,t)=>e.concat(t)})});function GB(n,e){return n?e?n+" "+e:n:e}function $B(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class oee{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:c=>this.positionInfo(c),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:i,selected:o}=r.open,a=e.state.facet(Va);this.optionContent=function iee(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i){let o=document.createElement("span");o.className="cm-completionLabel";let{label:a}=t,c=0;for(let h=1;h<i.length;){let g=i[h++],y=i[h++];g>c&&o.appendChild(document.createTextNode(a.slice(c,g)));let O=o.appendChild(document.createElement("span"));O.appendChild(document.createTextNode(a.slice(g,y))),O.className="cm-completionMatchedText",c=y}return c<a.length&&o.appendChild(document.createTextNode(a.slice(c))),o},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=$B(i.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{for(let g,h=c.target;h&&h!=this.dom;h=h.parentNode)if("LI"==h.nodeName&&(g=/-(\d+)$/.exec(h.id))&&+g[1]<i.length)return jB(e,i[+g[1]]),void c.preventDefault()}),this.list=this.dom.appendChild(this.createListBox(i,r.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){var t,r,i;let o=e.state.field(this.stateField),a=e.startState.field(this.stateField);this.updateTooltipClass(e.state),o!=a&&(this.updateSel(),(null===(t=o.open)||void 0===t?void 0:t.disabled)!=(null===(r=a.open)||void 0===r?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!(null===(i=o.open)||void 0===i||!i.disabled)))}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=$B(t.options.length,t.selected,this.view.state.facet(Va).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let o="string"==typeof i?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a)}).catch(a=>da(this.view.state,a,"completion info")):this.addInfoPane(o)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&function aee(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect();r.top<t.top?n.scrollTop-=t.top-r.top:r.bottom>t.bottom&&(n.scrollTop+=r.bottom-t.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let re=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:re.innerWidth,bottom:re.innerHeight}}if(i.top>Math.min(o.bottom,t.bottom)-10||i.bottom<Math.max(o.top,t.top)+10)return null;let g,a=this.view.textDirection==Mi.RTL,c=a,h=!1,y="",O="",$=t.left-o.left,K=o.right-t.right;if(c&&$<Math.min(r.width,K)?c=!1:!c&&K<Math.min(r.width,$)&&(c=!0),r.width<=(c?$:K))y=Math.max(o.top,Math.min(i.top,o.bottom-r.height))-t.top+"px",g=Math.min(400,c?$:K)+"px";else{h=!0,g=Math.min(400,(a?t.right:o.right-t.left)-30)+"px";let re=o.bottom-t.bottom;re>=r.height||re>t.top?y=i.bottom-t.top+"px":O=t.bottom-i.top+"px"}return{top:y,bottom:O,maxWidth:g,class:h?a?"left-narrow":"right-narrow":c?"left":"right"}}positionInfo(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let o=r.from;o<r.to;o++){let{completion:a,match:c}=e[o];const h=i.appendChild(document.createElement("li"));h.id=t+"-"+o,h.setAttribute("role","option");let g=this.optionClass(a);g&&(h.className=g);for(let y of this.optionContent){let O=y(a,this.view.state,c);O&&h.appendChild(O)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}function WB(n){return 100*(n.boost||0)+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}class jp{constructor(e,t,r,i,o,a){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=a}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new jp(this.options,YB(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,o){let a=function lee(n,e){let t=[],r=0;for(let c of n)if(c.hasResult())if(!1===c.result.filter){let h=c.result.getMatch;for(let g of c.result.options){let y=[1e9-r++];if(h)for(let O of h(g))y.push(O);t.push(new VB(g,c,y))}}else{let g,h=new ree(e.sliceDoc(c.from,c.to));for(let y of c.result.options)(g=h.match(y.label))&&(null!=y.boost&&(g[0]+=y.boost),t.push(new VB(y,c,g)))}let i=[],o=null,a=e.facet(Va).compareCompletions;for(let c of t.sort((h,g)=>g.match[0]-h.match[0]||a(h.completion,g.completion)))!o||o.label!=c.completion.label||o.detail!=c.completion.detail||null!=o.type&&null!=c.completion.type&&o.type!=c.completion.type||o.apply!=c.completion.apply?i.push(c):WB(c.completion)>WB(o)&&(i[i.length-1]=c),o=c.completion;return i}(e,t);if(!a.length)return i&&e.some(h=>1==h.state)?new jp(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let c=t.facet(Va).selectOnOpen?0:-1;if(i&&i.selected!=c&&-1!=i.selected){let h=i.options[i.selected].completion;for(let g=0;g<a.length;g++)if(a[g].completion==h){c=g;break}}return new jp(a,YB(r,c),{pos:e.reduce((h,g)=>g.hasResult()?Math.min(h,g.from):h,1e8),create:(n=os,e=>new oee(e,n)),above:o.aboveCursor},i?i.timestamp:Date.now(),c,!1);var n}map(e){return new jp(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class sx{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new sx(dee,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Va),o=(r.override||t.languageDataAt("autocomplete",ud(t)).map(nee)).map(c=>(this.active.find(g=>g.source==c)||new Ws(c,this.active.some(g=>0!=g.state)?1:0)).update(e,r));o.length==this.active.length&&o.every((c,h)=>c==this.active[h])&&(o=this.active);let a=this.open;a&&e.docChanged&&(a=a.map(e.changes)),e.selection||o.some(c=>c.hasResult()&&e.changes.touchesRange(c.from,c.to))||!function cee(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;r<e.length&&!e[r].hasResult;)r++;let i=t==n.length,o=r==e.length;if(i||o)return i==o;if(n[t++].result!=e[r++].result)return!1}}(o,this.active)?a=jp.build(o,t,this.id,a,r):a&&a.disabled&&!o.some(c=>1==c.state)&&(a=null),!a&&o.every(c=>1!=c.state)&&o.some(c=>c.hasResult())&&(o=o.map(c=>c.hasResult()?new Ws(c.source,0):c));for(let c of e.effects)c.is(dS)&&(a=a&&a.setSelected(c.value,this.id));return o==this.active&&a==this.open?this:new sx(o,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:uee}}const uee={"aria-autocomplete":"list"};function YB(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const dee=[];function cS(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class Ws{constructor(e,t,r=-1){this.source=e,this.state=t,this.explicitPos=r}hasResult(){return!1}update(e,t){let r=cS(e),i=this;r?i=i.handleUserEvent(e,r,t):e.docChanged?i=i.handleChange(e):e.selection&&0!=i.state&&(i=new Ws(i.source,0));for(let o of e.effects)if(o.is(uS))i=new Ws(i.source,1,o.value?ud(e.state):-1);else if(o.is(ax))i=new Ws(i.source,0);else if(o.is(XB))for(let a of o.value)a.source==i.source&&(i=a);return i}handleUserEvent(e,t,r){return"delete"!=t&&r.activateOnTyping?new Ws(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(ud(e.startState))?new Ws(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Ws(this.source,this.state,e.mapPos(this.explicitPos))}}class Mv extends Ws{constructor(e,t,r,i,o){super(e,2,t),this.result=r,this.from=i,this.to=o}hasResult(){return!0}handleUserEvent(e,t,r){var i;let o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),c=ud(e.state);if((this.explicitPos<0?c<=o:c<this.from)||c>a||"delete"==t&&ud(e.startState)==this.from)return new Ws(this.source,"input"==t&&r.activateOnTyping?1:0);let g,h=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function hee(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return"function"==typeof n?n(i,t,r,e):zB(n,!0).test(i)}(this.result.validFor,e.state,o,a)?new Mv(this.source,h,this.result,o,a):this.result.update&&(g=this.result.update(this.result,o,a,new LB(e.state,c,h>=0)))?new Mv(this.source,h,g,g.from,null!==(i=g.to)&&void 0!==i?i:ud(e.state)):new Ws(this.source,1,h)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Ws(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Mv(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const uS=dr.define(),ax=dr.define(),XB=dr.define({map:(n,e)=>n.map(t=>t.map(e))}),dS=dr.define(),os=no.define({create:()=>sx.start(),update:(n,e)=>n.update(e),provide:n=>[g_.from(n,e=>e.tooltip),Un.contentAttributes.from(n,e=>e.attrs)]});function lx(n,e="option"){return t=>{let r=t.state.field(os,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Va).interactionDelay)return!1;let o,i=1;"page"==e&&(o=function gq(n,e){let t=n.plugin(fD);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,c=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:a-1;return c<0?c="page"==e?0:a-1:c>=a&&(c="page"==e?a-1:0),t.dispatch({effects:dS.of(c)}),!0}}class gee{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const bee=Ni.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(os).active)1==e.state&&this.startQuery(e)}update(n){let e=n.state.field(os);if(!n.selectionSet&&!n.docChanged&&n.startState.field(os)==e)return;let t=n.transactions.some(r=>(r.selection||r.docChanged)&&!cS(r));for(let r=0;r<this.running.length;r++){let i=this.running[r];if(t||i.updates.length+n.transactions.length>50&&Date.now()-i.time>1e3){for(let o of i.context.abortListeners)try{o()}catch(a){da(this.view.state,a)}i.context.abortListeners=null,this.running.splice(r--,1)}else i.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(r=>1==r.state&&!this.running.some(i=>i.active.source==r.source))?setTimeout(()=>this.startUpdate(),50):-1,0!=this.composing)for(let r of n.transactions)"input"==cS(r)?this.composing=2:2==this.composing&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(os);for(let t of e.active)1==t.state&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=ud(e),r=new LB(e,t,n.explicitPos==t),i=new gee(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:ax.of(null)}),da(this.view.state,o)})}scheduleAccept(){this.running.every(n=>void 0!==n.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),50))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Va);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(void 0===i.done)continue;if(this.running.splice(r--,1),i.done){let a=new Mv(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(n=i.done.to)&&void 0!==n?n:ud(i.updates.length?i.updates[0].startState:this.view.state));for(let c of i.updates)a=a.update(c,t);if(a.hasResult()){e.push(a);continue}}let o=this.view.state.field(os).active.find(a=>a.source==i.active.source);if(o&&1==o.state)if(null==i.done){let a=new Ws(i.active.source,0);for(let c of i.updates)a=a.update(c,t);1!=a.state&&e.push(a)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:XB.of(e)})}},{eventHandlers:{blur(){let n=this.view.state.field(os,!1);n&&n.tooltip&&this.view.state.facet(Va).closeOnBlur&&this.view.dispatch({effects:ax.of(null)})},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:uS.of(!1)}),20),this.composing=0}}}),qB=Un.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1d465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1d436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1d461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1f511}\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Iv={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Bh=dr.define({map:(n,e)=>e.mapPos(n,-1,ws.TrackAfter)??void 0}),mS=dr.define({map:(n,e)=>e.mapPos(n)}),gS=new class extends kh{};gS.startSide=1,gS.endSide=-1;const rV=no.define({create:()=>ki.empty,update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(r,-1)&&(n=ki.empty)}n=n.map(e.changes);for(let t of e.effects)t.is(Bh)?n=n.update({add:[gS.range(t.value,t.value+1)]}):t.is(mS)&&(n=n.update({filter:r=>r!=t.value}));return n}}),vS="()[]{}<>";function iV(n){for(let e=0;e<vS.length;e+=2)if(vS.charCodeAt(e)==n)return vS.charAt(e+1);return vC(n<128?n:n+1)}function oV(n,e){return n.languageDataAt("closeBrackets",e)[0]||Iv}const Iee="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Oee=Un.inputHandler.of((n,e,t,r)=>{if((Iee?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||2==r.length&&1==Ra(jo(r,0))||e!=i.from||t!=i.to)return!1;let o=function Pee(n,e){let t=oV(n,n.selection.main.head),r=t.brackets||Iv.brackets;for(let i of r){let o=iV(jo(i,0));if(e==i)return o==i?Bee(n,i,r.indexOf(i+i+i)>-1,t):Fee(n,i,o,t.before||Iv.before);if(e==o&&sV(n,n.selection.main.from))return Lee(n,0,o)}return null}(n.state,r);return!!o&&(n.dispatch(o),!0)}),Ree=[{key:"Backspace",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=oV(n,n.selection.main.head).brackets||Iv.brackets,i=null,o=n.changeByRange(a=>{if(a.empty){let c=function Nee(n,e){let t=n.sliceString(e-2,e);return Ra(jo(t,0))==t.length?t:t.slice(1)}(n.doc,a.head);for(let h of r)if(h==c&&cx(n.doc,a.head)==iV(jo(h,0)))return{changes:{from:a.head-h.length,to:a.head+h.length},range:kt.cursor(a.head-h.length)}}return{range:i=a}});return i||e(n.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i}}];function sV(n,e){let t=!1;return n.field(rV).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function cx(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Ra(jo(t,0)))}function Fee(n,e,t,r){let i=null,o=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:t,from:a.to}],effects:Bh.of(a.to+e.length),range:kt.range(a.anchor+e.length,a.head+e.length)};let c=cx(n.doc,a.head);return!c||/\s/.test(c)||r.indexOf(c)>-1?{changes:{insert:e+t,from:a.head},effects:Bh.of(a.head+e.length),range:kt.cursor(a.head+e.length)}:{range:i=a}});return i?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Lee(n,e,t){let r=null,i=n.selection.ranges.map(o=>o.empty&&cx(n.doc,o.head)==t?kt.cursor(o.head+t.length):r=o);return r?null:n.update({selection:kt.create(i,n.selection.mainIndex),scrollIntoView:!0,effects:n.selection.ranges.map(({from:o})=>mS.of(o))})}function Bee(n,e,t,r){let i=r.stringPrefixes||Iv.stringPrefixes,o=null,a=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:Bh.of(c.to+e.length),range:kt.range(c.anchor+e.length,c.head+e.length)};let y,h=c.head,g=cx(n.doc,h);if(g==e){if(aV(n,h))return{changes:{insert:e+e,from:h},effects:Bh.of(h+e.length),range:kt.cursor(h+e.length)};if(sV(n,h)){let O=t&&n.sliceDoc(h,h+3*e.length)==e+e+e;return{range:kt.cursor(h+e.length*(O?3:1)),effects:mS.of(h)}}}else{if(t&&n.sliceDoc(h-2*e.length,h)==e+e&&(y=lV(n,h-2*e.length,i))>-1&&aV(n,y))return{changes:{insert:e+e+e+e,from:h},effects:Bh.of(h+e.length),range:kt.cursor(h+e.length)};if(n.charCategorizer(h)(g)!=yi.Word&&lV(n,h,i)>-1&&!function Vee(n,e,t,r){let i=Mo(n).resolveInner(e,-1),o=r.reduce((a,c)=>Math.max(a,c.length),0);for(let a=0;a<5;a++){let c=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+o)),h=c.indexOf(t);if(!h||h>-1&&r.indexOf(c.slice(0,h))>-1){let y=i.firstChild;for(;y&&y.from==i.from&&y.to-y.from>t.length+h;){if(n.sliceDoc(y.to-t.length,y.to)==t)return!1;y=y.firstChild}return!0}let g=i.to==e&&i.parent;if(!g)break;i=g}return!1}(n,h,e,i))return{changes:{insert:e+e,from:h},effects:Bh.of(h+e.length),range:kt.cursor(h+e.length)}}return{range:o=c}});return o?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function aV(n,e){let t=Mo(n).resolveInner(e+1);return t.parent&&t.from==e}function lV(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=yi.Word)return e;for(let i of t){let o=e-i.length;if(n.sliceDoc(o,e)==i&&r(n.sliceDoc(o-1,o))!=yi.Word)return o}return-1}function zee(n={}){return[os,Va.of(n),bee,Hee,qB]}const cV=[{key:"Ctrl-Space",run:n=>!!n.state.field(os,!1)&&(n.dispatch({effects:uS.of(!0)}),!0)},{key:"Escape",run:n=>{let e=n.state.field(os,!1);return!(!e||!e.active.some(t=>0!=t.state)||(n.dispatch({effects:ax.of(null)}),0))}},{key:"ArrowDown",run:lx(!0)},{key:"ArrowUp",run:lx(!1)},{key:"PageDown",run:lx(!0,"page")},{key:"PageUp",run:lx(!1,"page")},{key:"Enter",run:n=>{let e=n.state.field(os,!1);return!(n.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<n.state.facet(Va).interactionDelay||(e.open.disabled||jB(n,e.open.options[e.open.selected]),0))}}],Hee=Sh.highest(d_.computeN([Va],n=>n.facet(Va).defaultKeymap?[cV]:[])),jee=(()=>[Cq(),Sq,WK(),TQ(),RZ(),FK(),[uv,zK],Es.allowMultipleSelections.of(!0),Es.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+200)return n;let o=t.sliceString(i.from,r);if(!e.some(g=>g.test(o)))return n;let{state:a}=n,c=-1,h=[];for(let{head:g}of a.selection.ranges){let y=a.doc.lineAt(g);if(y.from==c)continue;c=y.from;let O=P_(a,y.from);if(null==O)continue;let $=/^\s*/.exec(y.text)[0],K=Rp(a,O);$!=K&&h.push({from:y.from,to:y.from+$.length,insert:K})}return h.length?[n,{changes:h,sequential:!0}]:n}),ND(LZ,{fallback:!0}),UZ(),[Oee,rV],zee(),oq(),lq(),eq,IJ(),d_.of([...Ree,...SJ,...qJ,...BQ,...AZ,...cV,...cQ])])(),yS="#2e3440",dV="#3b4252",hV="#434c5e",Gp="#4c566a",Ov="#d8dee9",Vh="#8fbcbb",fV="#88c0d0",gc="#5e81ac",pV="#d08770",bS="#ebcb8b",ux="#a3be8c",_S="#b48ead",mV="#d30102",ES=[Un.theme({"&":{color:Ov,backgroundColor:yS},".cm-content":{caretColor:Ov},".cm-cursor, .cm-dropCursor":{borderLeftColor:Ov},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Gp},".cm-panels":{backgroundColor:"#252a33",color:Gp},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"transparent",outline:`1px solid ${Vh}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:Ov,color:yS},".cm-activeLine":{backgroundColor:Gp},".cm-selectionMatch":{backgroundColor:"#e5e9f0",color:dV},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${Vh}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:"#eceff4",color:hV},".cm-gutters":{backgroundColor:yS,color:Gp,border:"none"},".cm-activeLineGutter":{backgroundColor:Gp,color:Ov},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:dV},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:dV,borderBottomColor:dV},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Gp,color:Gp}}},{dark:!0}),ND(Np.define([{tag:$e.keyword,color:gc},{tag:[$e.name,$e.deleted,$e.character,$e.propertyName,$e.macroName],color:fV},{tag:[$e.variableName],color:Vh},{tag:[$e.function($e.variableName)],color:Vh},{tag:[$e.labelName],color:"#81a1c1"},{tag:[$e.color,$e.constant($e.name),$e.standard($e.name)],color:gc},{tag:[$e.definition($e.name),$e.separator],color:ux},{tag:[$e.brace],color:Vh},{tag:[$e.annotation],color:mV},{tag:[$e.number,$e.changed,$e.annotation,$e.modifier,$e.self,$e.namespace],color:_S},{tag:[$e.typeName,$e.className],color:bS},{tag:[$e.operator,$e.operatorKeyword],color:ux},{tag:[$e.tagName],color:_S},{tag:[$e.squareBracket],color:"#bf616a"},{tag:[$e.angleBracket],color:pV},{tag:[$e.attributeName],color:bS},{tag:[$e.regexp],color:gc},{tag:[$e.quote],color:_S},{tag:[$e.string],color:ux},{tag:$e.link,color:ux,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[$e.url,$e.escape,$e.special($e.string)],color:Vh},{tag:[$e.meta],color:fV},{tag:[$e.monospace],color:Ov,fontStyle:"italic"},{tag:[$e.comment],color:Gp,fontStyle:"italic"},{tag:$e.strong,fontWeight:"bold",color:gc},{tag:$e.emphasis,fontStyle:"italic",color:gc},{tag:$e.strikethrough,textDecoration:"line-through"},{tag:$e.heading,fontWeight:"bold",color:gc},{tag:$e.special($e.heading1),fontWeight:"bold",color:gc},{tag:$e.heading1,fontWeight:"bold",color:gc},{tag:[$e.heading2,$e.heading3,$e.heading4],fontWeight:"bold",color:gc},{tag:[$e.heading5,$e.heading6],color:gc},{tag:[$e.atom,$e.bool,$e.special($e.variableName)],color:pV},{tag:[$e.processingInstruction,$e.inserted],color:Vh},{tag:[$e.contentSeparator],color:bS},{tag:$e.invalid,color:hV,borderBottom:`1px dotted ${mV}`}]))],vV="#2e3440",yV="#3b4252",bV="#434c5e",dx="#4c566a",CS="#e5e9f0",DS="#eceff4",SS="#8fbcbb",_V="#88c0d0",_l="#5e81ac",$p="#d08770",kS="#ebcb8b",xV="#a3be8c",wV="#d30102",ote=[Un.theme({"&":{color:vV,backgroundColor:"#ffffff"},".cm-content":{caretColor:yV},".cm-cursor, .cm-dropCursor":{borderLeftColor:yV},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:DS},".cm-panels":{backgroundColor:DS,color:dx},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${dx}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:CS},".cm-activeLine":{backgroundColor:DS},".cm-selectionMatch":{backgroundColor:CS},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${dx}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:DS},".cm-gutters":{backgroundColor:DS,color:vV,border:"none"},".cm-activeLineGutter":{backgroundColor:DS},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:CS},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:CS,borderBottomColor:CS},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:DS,color:dx}}},{dark:!1}),ND(Np.define([{tag:$e.keyword,color:_l},{tag:[$e.name,$e.deleted,$e.character,$e.propertyName,$e.macroName],color:$p},{tag:[$e.variableName],color:$p},{tag:[$e.function($e.variableName)],color:_l},{tag:[$e.labelName],color:"#81a1c1"},{tag:[$e.color,$e.constant($e.name),$e.standard($e.name)],color:_l},{tag:[$e.definition($e.name),$e.separator],color:xV},{tag:[$e.brace],color:SS},{tag:[$e.annotation],color:wV},{tag:[$e.number,$e.changed,$e.annotation,$e.modifier,$e.self,$e.namespace],color:_V},{tag:[$e.typeName,$e.className],color:kS},{tag:[$e.operator,$e.operatorKeyword],color:xV},{tag:[$e.tagName],color:"#b48ead"},{tag:[$e.squareBracket],color:"#bf616a"},{tag:[$e.angleBracket],color:$p},{tag:[$e.attributeName],color:kS},{tag:[$e.regexp],color:_l},{tag:[$e.quote],color:yV},{tag:[$e.string],color:$p},{tag:$e.link,color:SS,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[$e.url,$e.escape,$e.special($e.string)],color:$p},{tag:[$e.meta],color:_V},{tag:[$e.comment],color:bV,fontStyle:"italic"},{tag:$e.strong,fontWeight:"bold",color:_l},{tag:$e.emphasis,fontStyle:"italic",color:_l},{tag:$e.strikethrough,textDecoration:"line-through"},{tag:$e.heading,fontWeight:"bold",color:_l},{tag:$e.special($e.heading1),fontWeight:"bold",color:_l},{tag:$e.heading1,fontWeight:"bold",color:_l},{tag:[$e.heading2,$e.heading3,$e.heading4],fontWeight:"bold",color:_l},{tag:[$e.heading5,$e.heading6],color:_l},{tag:[$e.atom,$e.bool,$e.special($e.variableName)],color:$p},{tag:[$e.processingInstruction,$e.inserted],color:SS},{tag:[$e.contentSeparator],color:kS},{tag:$e.invalid,color:bV,borderBottom:`1px dotted ${wV}`}]))];let IS=(()=>{class n{constructor(){this._darkMode=!1,this._darkMode$=new WI(this._darkMode)}toggleDarkMode(){this._darkMode=!this._darkMode,this._darkMode$.next(this._darkMode)}darkMode(){return this._darkMode$.asObservable()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ste=["cm"];let ate=(()=>{class n{set targetContent(t){t&&(this.editorSource=t.nativeElement,this.initEditor())}constructor(t){this.globalSettings=t,this.editorReady=new Promise(r=>{this.editorReadyPromiseResolve=r}),this.theme=ES,this.extensions=this.updateExtensions(),this.text="",this.docChangedDebounceTime=400,this.docChanged=new On,this.darkMode=!1,this.docValue$=new Me,this.invalidInput=!1}ngOnInit(){this.globalSettings.darkMode().subscribe(t=>{this.darkMode=t,this.updateTheme()}),this.docValue$.asObservable().pipe(Sg(this.docChangedDebounceTime)).subscribe(t=>{this.docChanged.emit(t)})}ngOnChanges(){this.setEditorContent(this.text)}initEditor(){null!=this.editorSource&&(this.view=new Un({state:Es.create({doc:this.text,extensions:this.extensions}),parent:this.editorSource}),this.editorReadyPromiseResolve())}setEditorContent(t){var r=this;return gh(function*(){if(yield r.editorReady,null==r.view)return;const i=Es.create({doc:t,extensions:r.extensions});r.view.setState(i)})()}updateTheme(){var t=this;return gh(function*(){if(yield t.editorReady,null==t.view)return;t.theme=t.darkMode?ES:ote,t.updateExtensions();const r=Es.create({doc:t.view.state.doc,extensions:t.extensions});t.view.setState(r)})()}updateExtensions(){null==this.theme&&(this.theme=ES);const t=function uQ(n,e={}){return Fh.of({source:n,config:e})}(n=>{try{JSON.parse(n.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const t=function tQ(n,e){let t;return(t=n.message.match(/at position (\d+)/))?Math.min(+t[1],e.length):(t=n.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+t[1]).from+ +t[2]-1,e.length):0}(e,n.state.doc);return[{from:t,message:e.message,severity:"error",to:t}]}return[]});return this.extensions=[jee,Un.lineWrapping,new dZ(nQ),t,this.theme,Un.updateListener.of(r=>{if(r.docChanged)try{const i=JSON.parse(r.state.doc.toString());this.docValue$.next(i)}catch{this.invalidInput=!0}})],this.extensions}onSaveHandler(t){console.log("Save"),t.preventDefault()}onPasteHandler(t){console.log("Pasted")}}return n.\u0275fac=function(t){return new(t||n)(ze(IS))},n.\u0275cmp=ti({type:n,selectors:[["im-poc1-rdf-editor"]],viewQuery:function(t,r){if(1&t&&ri(ste,5),2&t){let i;nr(i=rr())&&(r.targetContent=i.first)}},hostBindings:function(t,r){1&t&&Kn("keydown.control.s",function(o){return r.onSaveHandler(o)},0,gs)("keydown.control.v",function(o){return r.onPasteHandler(o)},!1,gs)},inputs:{text:"text",docChangedDebounceTime:"docChangedDebounceTime"},outputs:{docChanged:"docChanged"},standalone:!0,features:[$n,fh],decls:3,vars:2,consts:[[1,"container"],["cm",""]],template:function(t,r){1&t&&(Ut(0,"div",0),tr(1,"div",null,1),Xt()),2&t&&Gc("background-color",r.darkMode?"#2e3440":"white")},dependencies:[Oa],styles:[".container[_ngcontent-%COMP%]{height:100%;overflow-y:auto}"]}),n})();const lte=["switch"],cte=["*"],ute=new Nt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),dte={provide:Gs,useExisting:lt(()=>DV),multi:!0};class CV{constructor(e,t){this.source=e,this.checked=t}}let hte=0;const fte=PE(hp(Rg(l0(class{constructor(n){this._elementRef=n}}))));let pte=(()=>{class n extends fte{get required(){return this._required}set required(t){this._required=Hr(t)}get checked(){return this._checked}set checked(t){this._checked=Hr(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,r,i,o,a,c,h){super(t),this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=a,this._onChange=g=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new On,this.toggleChange=new On,this.tabIndex=parseInt(o)||0,this.color=this.defaultColor=a.color||"accent",this._noopAnimations="NoopAnimations"===c,this.id=this._uniqueId=`${h}${++hte}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){Vf()},n.\u0275dir=Jt({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[Dn]}),n})(),DV=(()=>{class n extends pte{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,r,i,o,a,c){super(t,r,i,o,a,c,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new CV(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new CV(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(OE),ze(bs),Mc("tabindex"),ze(ute),ze(ca,8))},n.\u0275cmp=ti({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,r){if(1&t&&ri(lte,5),2&t){let i;nr(i=rr())&&(r._switchElement=i.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(t,r){2&t&&(Qf("id",r.id),ni("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),zr("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[Er([dte]),Dn],ngContentSelectors:cte,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(t,r){if(1&t&&(zs(),Ut(0,"div",0)(1,"button",1,2),Kn("click",function(){return r._handleClick()}),tr(3,"div",3),Ut(4,"div",4)(5,"div",5)(6,"div",6),tr(7,"div",7),Xt(),Ut(8,"div",8),tr(9,"div",9),Xt(),Ut(10,"div",10),Bd(),Ut(11,"svg",11),tr(12,"path",12),Xt(),Ut(13,"svg",13),tr(14,"path",14),Xt()()()()(),Vd(),Ut(15,"label",15),Kn("click",function(o){return o.stopPropagation()}),$r(16),Xt()()),2&t){const i=qf(2);zr("mdc-form-field--align-end","before"==r.labelPosition),Kt(1),zr("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),$t("tabIndex",r.tabIndex)("disabled",r.disabled),ni("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),Kt(8),$t("matRippleTrigger",i)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),Kt(6),$t("for",r.buttonId),ni("id",r._labelId)}},dependencies:[Xc],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),n})(),SV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({}),n})(),vte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[SV,Si,Fg,Oa,SV,Si]}),n})();const yte=["*",[["mat-toolbar-row"]]],bte=["*","mat-toolbar-row"],_te=hp(class{constructor(n){this._elementRef=n}});let xte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Jt({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),wte=(()=>{class n extends _te{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(So),ze(or))},n.\u0275cmp=ti({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&js(i,xte,5),2&t){let o;nr(o=rr())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&zr("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Dn],ngContentSelectors:bte,decls:2,vars:0,template:function(t,r){1&t&&(zs(yte),$r(0),$r(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Ete=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Si,Si]}),n})(),Cte=(()=>{class n{constructor(t,r){this.document=t,this.globalSettings=r,this.darkMode=!1}ngOnInit(){this.globalSettings.darkMode().subscribe(t=>{this.darkMode=t,this.document.body.style.backgroundColor=t?"#bbb":"#eee"})}}return n.\u0275fac=function(t){return new(t||n)(ze(or),ze(IS))},n.\u0275cmp=ti({type:n,selectors:[["im-poc1-top-bar"]],standalone:!0,features:[fh],decls:9,vars:3,consts:[[1,"toolbar"],[1,"toggle"],[1,"mr-8"],[3,"checked","click"]],template:function(t,r){1&t&&(Ut(0,"mat-toolbar",0)(1,"h2"),Ci(2,"JSON-LD graph view"),Xt(),Ut(3,"div",1)(4,"mat-icon",2),Ci(5,"brightness_5"),Xt(),Ut(6,"mat-slide-toggle",3),Kn("click",function(){return r.globalSettings.toggleDarkMode()}),Xt(),Ut(7,"mat-icon"),Ci(8,"bedtime"),Xt()()()),2&t&&(zr("dark",r.darkMode),Kt(6),$t("checked",r.darkMode))},dependencies:[Oa,Ete,wte,vte,DV,zE,YO],styles:[".toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;box-shadow:#00000026 1.95px 1.95px 2.6px;background-color:#fff}.toggle[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:3px}.dark[_ngcontent-%COMP%]{color:#fff!important;background-color:#020b4a!important}@media screen and (max-width: 500px){h2[_ngcontent-%COMP%]{font-size:1em}}"]}),n})();const MV=(n,e=1)=>{const t=[['"',"'"],["':","!"],[",'","~"],["}",")","\\","\\"],["{","(","\\","\\"]],r=(i,o)=>{let a=new RegExp(`${(o[2]?o[2]:"")+o[0]}|${(o[3]?o[3]:"")+o[1]}`,"g");return i.replace(a,c=>c===o[0]?o[1]:o[0])};if(e)for(let i=0;i<t.length;++i)n=r(n,t[i]);else for(let i=t.length;i--;)n=r(n,t[i]);return n},Dte=[vp("fabToggler",[yp("inactive",ts({transform:"rotate(0deg)"})),yp("active",ts({transform:"rotate(225deg)"})),qu("* <=> *",Ku("200ms cubic-bezier(0.4, 0.0, 0.2, 1)"))]),vp("speedDialStagger",[qu("* => *",[M0(":enter",ts({opacity:0}),{optional:!0}),M0(":enter",function X$(n,e){return{type:12,timings:n,animation:e}}("40ms",[Ku("200ms cubic-bezier(0.4, 0.0, 0.2, 1)",nP([ts({opacity:0,transform:"translateY(10px)"}),ts({opacity:1,transform:"translateY(0)"})]))]),{optional:!0}),M0(":leave",Ku("200ms cubic-bezier(0.4, 0.0, 0.2, 1)",nP([ts({opacity:1}),ts({opacity:0})])),{optional:!0})])])],TV=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],AV=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Ste=["mat-fab",""],kte=["mat-mini-fab",""],Tte=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ate=hp(l0(Rg(class{constructor(n){this._elementRef=n}})));let IV=(()=>{class n extends Ate{constructor(t,r,i,o){super(t),this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=Zs(OE),this._isFab=!1;const a=t.nativeElement.classList;for(const c of Tte)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(h=>{a.add(h)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){Vf()},n.\u0275dir=Jt({type:n,viewQuery:function(t,r){if(1&t&&ri(Xc,5),2&t){let i;nr(i=rr())&&(r.ripple=i.first)}},features:[Dn]}),n})();const OV=new Nt("mat-mdc-fab-default-options",{providedIn:"root",factory:RV});function RV(){return{color:"accent"}}const hx=RV();let Ote=(()=>{class n extends IV{get extended(){return this._extended}set extended(t){this._extended=Hr(t)}constructor(t,r,i,o,a){super(t,r,i,o),this._options=a,this._isFab=!0,this._options=this._options||hx,this.color=this.defaultColor=this._options.color||hx.color}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(So),ze(Tn),ze(ca,8),ze(OV,8))},n.\u0275cmp=ti({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(t,r){2&t&&(ni("disabled",r.disabled||null),zr("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[Dn],attrs:Ste,ngContentSelectors:AV,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(zs(TV),tr(0,"span",0),$r(1),Ut(2,"span",1),$r(3,1),Xt(),$r(4,2),tr(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(zr("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),Kt(6),$t("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[Xc],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),Rte=(()=>{class n extends IV{constructor(t,r,i,o,a){super(t,r,i,o),this._options=a,this._isFab=!0,this._options=this._options||hx,this.color=this.defaultColor=this._options.color||hx.color}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(So),ze(Tn),ze(ca,8),ze(OV,8))},n.\u0275cmp=ti({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(t,r){2&t&&(ni("disabled",r.disabled||null),zr("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Dn],attrs:kte,ngContentSelectors:AV,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(zs(TV),tr(0,"span",0),$r(1),Ut(2,"span",1),$r(3,1),Xt(),$r(4,2),tr(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(zr("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),Kt(6),$t("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[Xc],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),Pte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_r({type:n}),n.\u0275inj=zn({imports:[Si,Fg,Si]}),n})();function Nte(n,e){if(1&n){const t=Lu();Ut(0,"div",2),Kn("click",function(){return Bi(t),gi(Mn().toggle())}),Xt()}}function Fte(n,e){if(1&n){const t=Lu();Ut(0,"button",7),Kn("click",function(){const o=Bi(t).$implicit;return gi(Mn(2).onBtnClick(o))}),Ut(1,"mat-icon"),Ci(2),Xt()()}if(2&n){const t=e.$implicit;$t("matTooltip",t.tooltip),Kt(2),Hs(t.icon)}}const Lte=function(n){return{value:n}};function Bte(n,e){if(1&n){const t=Lu();Ut(0,"div",3)(1,"button",4),Kn("click",function(){return Bi(t),gi(Mn().toggle())}),Ut(2,"mat-icon",5),Ci(3),Xt()(),Ut(4,"div"),Yn(5,Fte,3,2,"button",6),Xt()()}if(2&n){const t=Mn();Kt(2),$t("@fabToggler",jT(4,Lte,t.fabTogglerState)),Kt(1),Hs(t.options.icon),Kt(1),$t("@speedDialStagger",t.buttons.length),Kt(1),$t("ngForOf",t.buttons)}}let Vte=(()=>{class n{constructor(){this.clickedMenuItem=new On,this.buttons=[],this.fabTogglerState="inactive"}ngOnInit(){null!=this.options&&this.options.buttons.length>6&&this.options.buttons.splice(5,this.options.buttons.length-6)}showItems(){null!=this.options&&(this.fabTogglerState="active",this.buttons=this.options.buttons,console.log(this.buttons))}hideItems(){this.fabTogglerState="inactive",this.buttons=[]}toggle(){this.buttons.length?this.hideItems():this.showItems()}onBtnClick(t){this.toggle(),this.clickedMenuItem.emit(t.id)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ti({type:n,selectors:[["im-poc1-fab-menu"]],inputs:{options:"options"},outputs:{clickedMenuItem:"clickedMenuItem"},standalone:!0,features:[fh],decls:2,vars:2,consts:[["id","fab-dismiss",3,"click",4,"ngIf"],["class","fab-container",4,"ngIf"],["id","fab-dismiss",3,"click"],[1,"fab-container"],["mat-fab","",1,"fab-toggler",3,"click"],[1,"material-icons"],["mat-mini-fab","","class","fab-secondary","color","secondary",3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-mini-fab","","color","secondary",1,"fab-secondary",3,"matTooltip","click"]],template:function(t,r){1&t&&(Yn(0,Nte,1,0,"div",0),Yn(1,Bte,6,6,"div",1)),2&t&&($t("ngIf","active"===r.fabTogglerState),Kt(1),$t("ngIf",r.options))},dependencies:[Oa,_g,zu,zE,YO,Pte,Rte,Ote,YP,WP],styles:[".fab-container[_ngcontent-%COMP%]{position:fixed;bottom:15px;right:15px;z-index:100;display:flex;flex-direction:column-reverse;align-items:center}.fab-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;margin-bottom:5px}.fab-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:17px}.fab-toggler[_ngcontent-%COMP%]{float:right;z-index:100}#fab-dismiss[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:99}"],data:{animation:Dte}}),n})(),zte=(()=>{class n{constructor(t,r){this.globalSettings=t,this.rdfGraphService=r,this.graphData={"@context":{schema:"http://schema.org/",name:"schema:name",description:"schema:description",image:{"@id":"schema:image","@type":"@id"},geo:"schema:geo",latitude:{"@id":"schema:latitude","@type":"xsd:float"},longitude:{"@id":"schema:longitude","@type":"xsd:float"},xsd:"http://www.w3.org/2001/XMLSchema#"},name:"The Empire State Building","@type":["schema:Place","schema:LandmarksOrHistoricalBuildings"],description:"The Empire State Building is a 102-story landmark in New York City.",image:"http://www.civil.usherbrooke.ca/cours/gci215a/empire-state-building.jpg",geo:{latitude:"40.75",longitude:"73.98"}},this.fabOptions={icon:"share",buttons:[{id:"permalink",icon:"link",tooltip:"Copy permalink"},{id:"image-png",icon:"image",tooltip:"Save image"}]},this.rdfText=JSON.stringify(this.graphData,null,2),this.darkMode=!1,this.isSmallScreen=!1}ngOnInit(){this.globalSettings.darkMode().subscribe(t=>{this.darkMode=t}),this.detectScreenSize(),this.getJSONFromURL()}getJSONFromURL(){const t=window.location.search,i=new URLSearchParams(t).get("d");if(null!=i){const o=(n=>{const e=(n=n.substring(0,n.length-1)).split("\x01");let t=e[0];if(e.length>1){let r=e[1];for(let i of r){let o=t.split(i);t=o.join(o.pop())}}return MV(t,0)})(i);this.graphData=JSON.parse(o),this.rdfText=JSON.stringify(this.graphData,null,2)}}onRDFDocUpdate(t){this.graphData=t}onShareMenuBtnClick(t){var r=this;return gh(function*(){if("permalink"===t){console.log("Create permalink");const i=window.location.href.split("?")[0],o=((n,e=50)=>{let i=[];for(let h=127;--h;)(h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||"-_.!~*'()".includes(String.fromCharCode(h)))&&i.push(String.fromCharCode(h));for(let h=32;h<255;++h){let g=String.fromCharCode(h);"\\"!=g&&!i.includes(g)&&i.unshift(g)}n=n.replace(new RegExp("\x01","g"),"");const a=((h,g)=>{let y=g.length,O="";const $=he=>encodeURI(encodeURIComponent(he)).replace(/%../g,"i").length,K=he=>{let xe=he.charCodeAt(0),Pe=he.charCodeAt(he.length-1);return xe>=56320&&xe<=57343||Pe>=55296&&Pe<=56319};let re={};for(let he=2;he<e;he++)for(let xe=0;xe<h.length-he;++xe){let Pe=h.substr(xe,he);if(re[Pe]||K(Pe))continue;let Je=1;for(let Ke=h.indexOf(Pe,xe+he);Ke>=0;++Je)Ke=h.indexOf(Pe,Ke+he);Je>1&&(re[Pe]=Je)}for(;;){for(;y--&&h.includes(g[y]););if(y<0)break;let xe,he=g[y],Pe=0,Je=$(he);for(let at in re){let wt=re[at],Dt=(wt-1)*$(at)-(wt+1)*Je;O.length||(Dt-=$("\x01")),Dt<=0?delete re[at]:Dt>Pe&&(xe=at,Pe=Dt)}if(!xe)break;h=h.split(xe).join(he)+he+xe,O=he+O;let Ke={};for(let at in re){let wt=at.split(xe).join(he),Dt=0;for(let rn=h.indexOf(wt);rn>=0;++Dt)rn=h.indexOf(wt,rn+wt.length);Dt>1&&(Ke[wt]=Dt)}re=Ke}return{a:h,b:O}})(n=MV(n),i);let c=a.a;return a.b.length&&(c+="\x01"+a.b),c+="_",c})(JSON.stringify(r.graphData));console.log(encodeURIComponent(o)),navigator.clipboard.writeText(`${i}?d=${encodeURIComponent(o)}`)}if("image-png"===t){const i=r.rdfGraphService.getCytoscape();if(null==i)return;const o=i.svg(),a="graph.svg",c=document.createElement("a");c.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(o)),c.setAttribute("download",a),c.click()}})()}onWindowResize(){this.detectScreenSize()}detectScreenSize(){this.isSmallScreen=window.innerWidth<500}}return n.\u0275fac=function(t){return new(t||n)(ze(IS),ze(XP))},n.\u0275cmp=ti({type:n,selectors:[["im-poc1-root"]],hostBindings:function(t,r){1&t&&Kn("resize",function(o){return r.onWindowResize(o)},0,Fu)},standalone:!0,features:[fh],decls:9,vars:8,consts:[[1,"main"],[1,"split-container"],[3,"direction"],[3,"size"],[3,"text","docChanged"],[3,"data"],[3,"options","clickedMenuItem"]],template:function(t,r){1&t&&(tr(0,"im-poc1-top-bar"),Ut(1,"div",0)(2,"div",1)(3,"as-split",2)(4,"as-split-area",3)(5,"im-poc1-rdf-editor",4),Kn("docChanged",function(o){return r.onRDFDocUpdate(o)}),Xt()(),Ut(6,"as-split-area",3),tr(7,"im-poc1-graph",5),Xt()()()(),Ut(8,"im-poc1-fab-menu",6),Kn("clickedMenuItem",function(o){return r.onShareMenuBtnClick(o)}),Xt()),2&t&&(Kt(2),Gc("background-color",r.darkMode?"#595959":"white"),Kt(1),$t("direction",r.isSmallScreen?"vertical":"horizontal"),Kt(1),$t("size",40),Kt(1),$t("text",r.rdfText),Kt(1),$t("size",60),Kt(1),$t("data",r.graphData),Kt(1),$t("options",r.fabOptions))},dependencies:[KY,ate,p6,UI,f6,Cte,Vte],styles:[".split-container[_ngcontent-%COMP%]{width:calc(100% - 20px);height:calc(100vh - 200px);box-shadow:#00000026 1.95px 1.95px 2.6px;border-radius:10px;padding:10px}.main[_ngcontent-%COMP%]{padding:50px}@media screen and (max-width: 500px){.main[_ngcontent-%COMP%]{padding:5px}.split-container[_ngcontent-%COMP%]{width:calc(100% - 20px);height:calc(100vh - 75px)}}"]}),n})();function PV(n){return new Ze(3e3,!1)}function xne(){return typeof window<"u"&&typeof window.document<"u"}function OS(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function dd(n){switch(n.length){case 0:return new Ug;case 1:return n[0];default:return new iP(n)}}function NV(n,e,t,r,i=new Map,o=new Map){const a=[],c=[];let h=-1,g=null;if(r.forEach(y=>{const O=y.get("offset"),$=O==h,K=$&&g||new Map;y.forEach((re,he)=>{let xe=he,Pe=re;if("offset"!==he)switch(xe=e.normalizePropertyName(xe,a),Pe){case cC:Pe=i.get(he);break;case qc:Pe=o.get(he);break;default:Pe=e.normalizeStyleValue(he,xe,Pe,a)}K.set(xe,Pe)}),$||c.push(K),g=K,h=O}),a.length)throw function cne(n){return new Ze(3502,!1)}();return c}function RS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&PS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&PS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&PS(t,"destroy",n)))}}function PS(n,e,t){const o=NS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),a=n._data;return null!=a&&(o._data=a),o}function NS(n,e,t,r,i="",o=0,a){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function ma(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function FV(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let FS=(n,e)=>!1,LV=(n,e,t)=>[],BV=null;function LS(n){const e=n.parentNode||n.host;return e===BV?null:e}(OS()||typeof Element<"u")&&(xne()?(BV=(()=>document.documentElement)(),FS=(n,e)=>{for(;e;){if(e===n)return!0;e=LS(e)}return!1}):FS=(n,e)=>n.contains(e),LV=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let zh=null,VV=!1;const zV=FS,HV=LV;let jV=(()=>{class n{validateStyleProperty(t){return function Ene(n){zh||(zh=function Cne(){return typeof document<"u"?document.body:null}()||{},VV=!!zh.style&&"WebkitAppearance"in zh.style);let e=!0;return zh.style&&!function wne(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in zh.style,!e&&VV&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in zh.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return zV(t,r)}getParentElement(t){return LS(t)}query(t,r,i){return HV(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,a,c=[],h){return new Ug(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})(),BS=(()=>{class n{}return n.NOOP=new jV,n})();const Dne=1e3,VS="ng-enter",fx="ng-leave",px="ng-trigger",mx=".ng-trigger",GV="ng-animating",zS=".ng-animating";function nu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:HS(parseFloat(e[1]),e[2])}function HS(n,e){return"s"===e?n*Dne:n}function gx(n,e,t){return n.hasOwnProperty("duration")?n:function kne(n,e,t){let i,o=0,a="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return e.push(PV()),{duration:0,delay:0,easing:""};i=HS(parseFloat(c[1]),c[2]);const h=c[3];null!=h&&(o=HS(parseFloat(h),c[4]));const g=c[5];g&&(a=g)}else i=n;if(!t){let c=!1,h=e.length;i<0&&(e.push(function Hte(){return new Ze(3100,!1)}()),c=!0),o<0&&(e.push(function jte(){return new Ze(3101,!1)}()),c=!0),c&&e.splice(h,0,PV())}return{duration:i,delay:o,easing:a}}(n,e,t)}function Rv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $V(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function hd(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function YV(n,e,t){return t?e+":"+t+";":""}function XV(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=YV(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=YV(0,Ine(t),n.style[t]));n.setAttribute("style",e)}function vc(n,e,t){n.style&&(e.forEach((r,i)=>{const o=US(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),OS()&&XV(n))}function Hh(n,e){n.style&&(e.forEach((t,r)=>{const i=US(r);n.style[i]=""}),OS()&&XV(n))}function Pv(n){return Array.isArray(n)?1==n.length?n[0]:tP(n):n}const jS=new RegExp("{{\\s*(.+?)\\s*}}","g");function KV(n){let e=[];if("string"==typeof n){let t;for(;t=jS.exec(n);)e.push(t[1]);jS.lastIndex=0}return e}function Nv(n,e,t){const r=n.toString(),i=r.replace(jS,(o,a)=>{let c=e[a];return null==c&&(t.push(function Gte(n){return new Ze(3003,!1)}()),c=""),c.toString()});return i==r?n:i}function vx(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Ane=/-+([a-z0-9])/g;function US(n){return n.replace(Ane,(...e)=>e[1].toUpperCase())}function Ine(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ga(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function $te(n){return new Ze(3004,!1)}()}}function qV(n,e){return window.getComputedStyle(n)[e]}const _x="*";function Lne(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Bne(n,e,t){if(":"==n[0]){const h=function Vne(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function one(n){return new Ze(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof h)return void e.push(h);n=h}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function ine(n){return new Ze(3015,!1)}()),e;const i=r[1],o=r[2],a=r[3];e.push(ZV(i,a));"<"==o[0]&&!(i==_x&&a==_x)&&e.push(ZV(a,i))}(r,t,e)):t.push(n),t}const xx=new Set(["true","1"]),wx=new Set(["false","0"]);function ZV(n,e){const t=xx.has(n)||wx.has(n),r=xx.has(e)||wx.has(e);return(i,o)=>{let a=n==_x||n==i,c=e==_x||e==o;return!a&&t&&"boolean"==typeof i&&(a=i?xx.has(n):wx.has(n)),!c&&r&&"boolean"==typeof o&&(c=o?xx.has(e):wx.has(e)),a&&c}}const zne=new RegExp("s*:selfs*,?","g");function GS(n,e,t,r){return new Hne(n).build(e,t,r)}class Hne{constructor(e){this._driver=e}build(e,t,r){const i=new Gne(t);return this._resetContextStyleTimingState(i),ga(this,Pv(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function Yte(){return new Ze(3006,!1)}()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(t),0==c.type){const h=c,g=h.name;g.toString().split(/\s*,\s*/).forEach(y=>{h.name=y,o.push(this.visitState(h,t))}),h.name=g}else if(1==c.type){const h=this.visitTransition(c,t);r+=h.queryCount,i+=h.depCount,a.push(h)}else t.errors.push(function Xte(){return new Ze(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,a=i||{};r.styles.forEach(c=>{c instanceof Map&&c.forEach(h=>{KV(h).forEach(g=>{a.hasOwnProperty(g)||o.add(g)})})}),o.size&&(vx(o.values()),t.errors.push(function Kte(n,e){return new Ze(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ga(this,Pv(e.animation),t);return{type:1,matchers:Lne(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:jh(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ga(this,r,t)),options:jh(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(a=>{t.currentTime=r;const c=ga(this,a,t);return i=Math.max(i,t.currentTime),c});return t.currentTime=i,{type:3,steps:o,options:jh(e.options)}}visitAnimate(e,t){const r=function Wne(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return $S(gx(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=$S(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=gx(t,e);return $S(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:ts({});if(5==o.type)i=this.visitKeyframes(o,t);else{let a=e.styles,c=!1;if(!a){c=!0;const g={};r.easing&&(g.easing=r.easing),a=ts(g)}t.currentTime+=r.duration+r.delay;const h=this.visitStyle(a,t);h.isEmptyStep=c,i=h}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of i)"string"==typeof c?c===qc?r.push(c):t.errors.push(new Ze(3002,!1)):r.push($V(c));let o=!1,a=null;return r.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(a=c.get("easing"),c.delete("easing")),!o))for(let h of c.values())if(h.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,h)=>{const g=t.collectedStyles.get(t.currentQuerySelector),y=g.get(h);let O=!0;y&&(o!=i&&o>=y.startTime&&i<=y.endTime&&(t.errors.push(function Zte(n,e,t,r,i){return new Ze(3010,!1)}()),O=!1),o=y.startTime),O&&g.set(h,{startTime:o,endTime:i}),t.options&&function Tne(n,e,t){const r=e.params||{},i=KV(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function Ute(n){return new Ze(3001,!1)}())})}(c,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Qte(){return new Ze(3011,!1)}()),r;let o=0;const a=[];let c=!1,h=!1,g=0;const y=e.steps.map(Pe=>{const Je=this._makeStyleAst(Pe,t);let Ke=null!=Je.offset?Je.offset:function $ne(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Je.styles),at=0;return null!=Ke&&(o++,at=Je.offset=Ke),h=h||at<0||at>1,c=c||at<g,g=at,a.push(at),Je});h&&t.errors.push(function Jte(){return new Ze(3012,!1)}()),c&&t.errors.push(function ene(){return new Ze(3200,!1)}());const O=e.steps.length;let $=0;o>0&&o<O?t.errors.push(function tne(){return new Ze(3202,!1)}()):0==o&&($=1/(O-1));const K=O-1,re=t.currentTime,he=t.currentAnimateTimings,xe=he.duration;return y.forEach((Pe,Je)=>{const Ke=$>0?Je==K?1:$*Je:a[Je],at=Ke*xe;t.currentTime=re+he.delay+at,he.duration=at,this._validateStyleAst(Pe,t),Pe.offset=Ke,r.styles.push(Pe)}),r}visitReference(e,t){return{type:8,animation:ga(this,Pv(e.animation),t),options:jh(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:jh(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:jh(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,a]=function jne(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(zne,"")),n=n.replace(/@\*/g,mx).replace(/@\w+/g,t=>mx+"-"+t.slice(1)).replace(/:animating/g,zS),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,ma(t.collectedStyles,t.currentQuerySelector,new Map);const c=ga(this,Pv(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:c,originalSelector:e.selector,options:jh(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function nne(){return new Ze(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:gx(e.timings,t.errors,!0);return{type:12,animation:ga(this,Pv(e.animation),t),timings:r,options:null}}}class Gne{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jh(n){return n?(n=Rv(n)).params&&(n.params=function Une(n){return n?Rv(n):null}(n.params)):n={},n}function $S(n,e,t){return{duration:n,delay:e,easing:t}}function WS(n,e,t,r,i,o,a=null,c=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:c}}class Ex{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Kne=new RegExp(":enter","g"),Zne=new RegExp(":leave","g");function YS(n,e,t,r,i,o=new Map,a=new Map,c,h,g=[]){return(new Qne).buildKeyframes(n,e,t,r,i,o,a,c,h,g)}class Qne{buildKeyframes(e,t,r,i,o,a,c,h,g,y=[]){g=g||new Ex;const O=new XS(e,t,g,i,o,y,[]);O.options=h;const $=h.delay?nu(h.delay):0;O.currentTimeline.delayNextStep($),O.currentTimeline.setStyles([a],null,O.errors,h),ga(this,r,O);const K=O.timelines.filter(re=>re.containsAnimation());if(K.length&&c.size){let re;for(let he=K.length-1;he>=0;he--){const xe=K[he];if(xe.element===t){re=xe;break}}re&&!re.allowOnlyTimelineStyles()&&re.setStyles([c],null,O.errors,h)}return K.length?K.map(re=>re.buildKeyframes()):[WS(t,[],[],[],0,$,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);o!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const a="number"==typeof o?o:nu(Nv(o,i?.params??{},t.errors));r.delayNextStep(a)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const a=null!=r.duration?nu(r.duration):null,c=null!=r.delay?nu(r.delay):null;return 0!==a&&e.forEach(h=>{const g=t.appendInstructionToTimeline(h,a,c);o=Math.max(o,g.duration+g.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),ga(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cx);const a=nu(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>ga(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?nu(e.options.delay):0;e.steps.forEach(a=>{const c=t.createSubContext(e.options);o&&c.delayNextStep(o),ga(this,a,c),i=Math.max(i,c.currentTimeline.currentTime),r.push(c.currentTimeline)}),r.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return gx(t.params?Nv(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,c=t.createSubContext().currentTimeline;c.easing=r.easing,e.styles.forEach(h=>{c.forwardTime((h.offset||0)*o),c.setStyles(h.styles,h.easing,t.errors,t.options),c.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(c),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?nu(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Cx);let a=r;const c=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=c.length;let h=null;c.forEach((g,y)=>{t.currentQueryIndex=y;const O=t.createSubContext(e.options,g);o&&O.delayNextStep(o),g===t.element&&(h=O.currentTimeline),ga(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),h&&(t.currentTimeline.mergeTimelineCollectedStyles(h),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,a=Math.abs(o.duration),c=a*(t.currentQueryTotal-1);let h=a*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":h=c-h;break;case"full":h=r.currentStaggerTime}const y=t.currentTimeline;h&&y.delayNextStep(h);const O=y.currentTime;ga(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-O+(i.startTime-r.currentTimeline.startTime)}}const Cx={};class XS{constructor(e,t,r,i,o,a,c,h){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new Dx(this._driver,t,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=nu(r.duration)),null!=r.delay&&(i.delay=nu(r.delay));const o=r.params;if(o){let a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(c=>{(!t||!a.hasOwnProperty(c))&&(a[c]=Nv(o[c],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new XS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Cx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new Jne(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,a){let c=[];if(i&&c.push(this.element),e.length>0){e=(e=e.replace(Kne,"."+this._enterClassName)).replace(Zne,"."+this._leaveClassName);let g=this._driver.query(this.element,e,1!=r);0!==r&&(g=r<0?g.slice(g.length+r,g.length):g.slice(0,r)),c.push(...g)}return!o&&0==c.length&&a.push(function rne(n){return new Ze(3014,!1)}()),c}}class Dx{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Dx(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||qc),this._currentKeyframe.set(t,qc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},a=function ere(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,qc)}else hd(i,t)}),t}(e,this._globalTimelineStyles);for(let[c,h]of a){const g=Nv(h,o,r);this._pendingStyles.set(c,g),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??qc),this._updateStyle(c,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((c,h)=>{const g=hd(c,new Map,this._backFill);g.forEach((y,O)=>{y===cC?e.add(O):y===qc&&t.add(O)}),r||g.set("offset",h/this.duration),i.push(g)});const o=e.size?vx(e.values()):[],a=t.size?vx(t.values()):[];if(r){const c=i[0],h=new Map(c);c.set("offset",0),h.set("offset",1),i=[c,h]}return WS(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}class Jne extends Dx{constructor(e,t,r,i,o,a,c=!1){super(e,t,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],a=r+t,c=t/a,h=hd(e[0]);h.set("offset",0),o.push(h);const g=hd(e[0]);g.set("offset",e5(c)),o.push(g);const y=e.length-1;for(let O=1;O<=y;O++){let $=hd(e[O]);const K=$.get("offset");$.set("offset",e5((t+K*r)/a)),o.push($)}r=a,t=0,i="",e=o}return WS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function e5(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class KS{}const tre=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class nre extends KS{normalizePropertyName(e,t){return US(e)}normalizeStyleValue(e,t,r,i){let o="";const a=r.toString().trim();if(tre.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const c=r.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&i.push(function Wte(n,e){return new Ze(3005,!1)}())}return a+o}}function t5(n,e,t,r,i,o,a,c,h,g,y,O,$){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:a,timelines:c,queriedElements:h,preStyleProps:g,postStyleProps:y,totalTime:O,errors:$}}const qS={};class n5{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function rre(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,a,c,h,g,y){const O=[],$=this.ast.options&&this.ast.options.params||qS,re=this.buildStyles(r,c&&c.params||qS,O),he=h&&h.params||qS,xe=this.buildStyles(i,he,O),Pe=new Set,Je=new Map,Ke=new Map,at="void"===i,wt={params:ire(he,$),delay:this.ast.options?.delay},Dt=y?[]:YS(e,t,this.ast.animation,o,a,re,xe,wt,g,O);let rn=0;if(Dt.forEach(An=>{rn=Math.max(An.duration+An.delay,rn)}),O.length)return t5(t,this._triggerName,r,i,at,re,xe,[],[],Je,Ke,rn,O);Dt.forEach(An=>{const Rn=An.element,qr=ma(Je,Rn,new Set);An.preStyleProps.forEach(_i=>qr.add(_i));const hi=ma(Ke,Rn,new Set);An.postStyleProps.forEach(_i=>hi.add(_i)),Rn!==t&&Pe.add(Rn)});const yr=vx(Pe.values());return t5(t,this._triggerName,r,i,at,re,xe,Dt,yr,Je,Ke,rn)}}function ire(n,e){const t=Rv(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class ore{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Rv(this.defaultParams);return Object.keys(e).forEach(o=>{const a=e[o];null!==a&&(i[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{a&&(a=Nv(a,i,t));const h=this.normalizer.normalizePropertyName(c,t);a=this.normalizer.normalizeStyleValue(c,h,a,t),r.set(c,a)})}),r}}class are{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new ore(i.style,i.options&&i.options.params||{},r))}),r5(this.states,"true","1"),r5(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new n5(e,i,this.states))}),this.fallbackTransition=function lre(n,e,t){return new n5(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,c)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(a=>a.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function r5(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const cre=new Ex;class ure{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],o=GS(this._driver,t,r,i);if(r.length)throw function une(n){return new Ze(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=NV(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let a;const c=new Map;if(o?(a=YS(this._driver,t,o,VS,fx,new Map,new Map,r,cre,i),a.forEach(y=>{const O=ma(c,y.element,new Map);y.postStyleProps.forEach($=>O.set($,null))})):(i.push(function dne(){return new Ze(3300,!1)}()),a=[]),i.length)throw function hne(n){return new Ze(3504,!1)}();c.forEach((y,O)=>{y.forEach(($,K)=>{y.set(K,this._driver.computeStyle(O,K,qc))})});const g=dd(a.map(y=>{const O=c.get(y.element);return this._buildPlayer(y,new Map,O)}));return this._playersById.set(e,g),g.onDestroy(()=>this.destroy(e)),this.players.push(g),g}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function fne(n){return new Ze(3301,!1)}();return t}listen(e,t,r,i){const o=NS(t,"","","");return RS(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const i5="ng-animate-queued",ZS="ng-animate-disabled",mre=[],o5={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},za="__ng_removed";class QS{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function _re(n){return n??null}(r?e.value:e),r){const o=Rv(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Fv="void",JS=new QS(Fv);class vre{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ha(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function pne(n,e){return new Ze(3302,!1)}();if(null==r||0==r.length)throw function mne(n){return new Ze(3303,!1)}();if(!function xre(n){return"start"==n||"done"==n}(r))throw function gne(n,e){return new Ze(3400,!1)}();const o=ma(this._elementListeners,e,[]),a={name:t,phase:r,callback:i};o.push(a);const c=ma(this._engine.statesByElement,e,new Map);return c.has(t)||(Ha(e,px),Ha(e,px+"-"+t),c.set(t,JS)),()=>{this._engine.afterFlush(()=>{const h=o.indexOf(a);h>=0&&o.splice(h,1),this._triggers.has(t)||c.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function vne(n){return new Ze(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),a=new ek(this.id,t,e);let c=this._engine.statesByElement.get(e);c||(Ha(e,px),Ha(e,px+"-"+t),this._engine.statesByElement.set(e,c=new Map));let h=c.get(t);const g=new QS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&h&&g.absorbOptions(h.options),c.set(t,g),h||(h=JS),g.value!==Fv&&h.value===g.value){if(!function Cre(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(h.params,g.params)){const he=[],xe=o.matchStyles(h.value,h.params,he),Pe=o.matchStyles(g.value,g.params,he);he.length?this._engine.reportError(he):this._engine.afterFlush(()=>{Hh(e,xe),vc(e,Pe)})}return}const $=ma(this._engine.playersByElement,e,[]);$.forEach(he=>{he.namespaceId==this.id&&he.triggerName==t&&he.queued&&he.destroy()});let K=o.matchTransition(h.value,g.value,e,g.params),re=!1;if(!K){if(!i)return;K=o.fallbackTransition,re=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:K,fromState:h,toState:g,player:a,isFallbackTransition:re}),re||(Ha(e,i5),a.onStart(()=>{Wp(e,i5)})),a.onDone(()=>{let he=this.players.indexOf(a);he>=0&&this.players.splice(he,1);const xe=this._engine.playersByElement.get(e);if(xe){let Pe=xe.indexOf(a);Pe>=0&&xe.splice(Pe,1)}}),this.players.push(a),$.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,mx,!0);r.forEach(i=>{if(i[za])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),a=new Map;if(o){const c=[];if(o.forEach((h,g)=>{if(a.set(g,h.value),this._triggers.has(g)){const y=this.trigger(e,g,Fv,i);y&&c.push(y)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),r&&dd(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const a=o.name;if(i.has(a))return;i.add(a);const h=this._triggers.get(a).fallbackTransition,g=r.get(a)||JS,y=new QS(Fv),O=new ek(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:h,fromState:g,toState:y,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let a=e;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[za];(!o||o===o5)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ha(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,a=this._elementListeners.get(o);a&&a.forEach(c=>{if(c.name==r.triggerName){const h=NS(o,r.triggerName,r.fromState.value,r.toState.value);h._data=e,RS(r.player,c.phase,h,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,a=i.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class yre{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new vre(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,c=this.driver.getParentElement(t);for(;c;){const h=i.get(c);if(h){const g=r.indexOf(h);r.splice(g+1,0,e),a=!0;break}c=this.driver.getParentElement(c)}a||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(Sx(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Sx(t))return;const o=t[za];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ha(e,ZS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Wp(e,ZS))}removeNode(e,t,r,i){if(Sx(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[za]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Sx(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,mx,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,zS,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return dd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[za];if(t&&t.setForRemoval){if(e[za]=o5,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(ZS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ha(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?dd(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function yne(n){return new Ze(3402,!1)}()}_flushAnimations(e,t){const r=new Ex,i=[],o=new Map,a=[],c=new Map,h=new Map,g=new Map,y=new Set;this.disabledNodes.forEach(Wt=>{y.add(Wt);const un=this.driver.query(Wt,".ng-animate-queued",!0);for(let dn=0;dn<un.length;dn++)y.add(un[dn])});const O=this.bodyNode,$=Array.from(this.statesByElement.keys()),K=l5($,this.collectedEnterElements),re=new Map;let he=0;K.forEach((Wt,un)=>{const dn=VS+he++;re.set(un,dn),Wt.forEach(bn=>Ha(bn,dn))});const xe=[],Pe=new Set,Je=new Set;for(let Wt=0;Wt<this.collectedLeaveElements.length;Wt++){const un=this.collectedLeaveElements[Wt],dn=un[za];dn&&dn.setForRemoval&&(xe.push(un),Pe.add(un),dn.hasAnimation?this.driver.query(un,".ng-star-inserted",!0).forEach(bn=>Pe.add(bn)):Je.add(un))}const Ke=new Map,at=l5($,Array.from(Pe));at.forEach((Wt,un)=>{const dn=fx+he++;Ke.set(un,dn),Wt.forEach(bn=>Ha(bn,dn))}),e.push(()=>{K.forEach((Wt,un)=>{const dn=re.get(un);Wt.forEach(bn=>Wp(bn,dn))}),at.forEach((Wt,un)=>{const dn=Ke.get(un);Wt.forEach(bn=>Wp(bn,dn))}),xe.forEach(Wt=>{this.processLeaveNode(Wt)})});const wt=[],Dt=[];for(let Wt=this._namespaceList.length-1;Wt>=0;Wt--)this._namespaceList[Wt].drainQueuedTransitions(t).forEach(dn=>{const bn=dn.player,hr=dn.element;if(wt.push(bn),this.collectedEnterElements.length){const ss=hr[za];if(ss&&ss.setForMove){if(ss.previousTriggersValues&&ss.previousTriggersValues.has(dn.triggerName)){const Uh=ss.previousTriggersValues.get(dn.triggerName),ja=this.statesByElement.get(dn.element);if(ja&&ja.has(dn.triggerName)){const Tx=ja.get(dn.triggerName);Tx.value=Uh,ja.set(dn.triggerName,Tx)}}return void bn.destroy()}}const To=!O||!this.driver.containsElement(O,hr),io=Ke.get(hr),va=re.get(hr),ai=this._buildInstruction(dn,r,va,io,To);if(ai.errors&&ai.errors.length)return void Dt.push(ai);if(To)return bn.onStart(()=>Hh(hr,ai.fromStyles)),bn.onDestroy(()=>vc(hr,ai.toStyles)),void i.push(bn);if(dn.isFallbackTransition)return bn.onStart(()=>Hh(hr,ai.fromStyles)),bn.onDestroy(()=>vc(hr,ai.toStyles)),void i.push(bn);const g5=[];ai.timelines.forEach(ss=>{ss.stretchStartingKeyframe=!0,this.disabledNodes.has(ss.element)||g5.push(ss)}),ai.timelines=g5,r.append(hr,ai.timelines),a.push({instruction:ai,player:bn,element:hr}),ai.queriedElements.forEach(ss=>ma(c,ss,[]).push(bn)),ai.preStyleProps.forEach((ss,Uh)=>{if(ss.size){let ja=h.get(Uh);ja||h.set(Uh,ja=new Set),ss.forEach((Tx,nk)=>ja.add(nk))}}),ai.postStyleProps.forEach((ss,Uh)=>{let ja=g.get(Uh);ja||g.set(Uh,ja=new Set),ss.forEach((Tx,nk)=>ja.add(nk))})});if(Dt.length){const Wt=[];Dt.forEach(un=>{Wt.push(function bne(n,e){return new Ze(3505,!1)}())}),wt.forEach(un=>un.destroy()),this.reportError(Wt)}const rn=new Map,yr=new Map;a.forEach(Wt=>{const un=Wt.element;r.has(un)&&(yr.set(un,un),this._beforeAnimationBuild(Wt.player.namespaceId,Wt.instruction,rn))}),i.forEach(Wt=>{const un=Wt.element;this._getPreviousPlayers(un,!1,Wt.namespaceId,Wt.triggerName,null).forEach(bn=>{ma(rn,un,[]).push(bn),bn.destroy()})});const An=xe.filter(Wt=>u5(Wt,h,g)),Rn=new Map;a5(Rn,this.driver,Je,g,qc).forEach(Wt=>{u5(Wt,h,g)&&An.push(Wt)});const hi=new Map;K.forEach((Wt,un)=>{a5(hi,this.driver,new Set(Wt),h,cC)}),An.forEach(Wt=>{const un=Rn.get(Wt),dn=hi.get(Wt);Rn.set(Wt,new Map([...Array.from(un?.entries()??[]),...Array.from(dn?.entries()??[])]))});const _i=[],Wo=[],ro={};a.forEach(Wt=>{const{element:un,player:dn,instruction:bn}=Wt;if(r.has(un)){if(y.has(un))return dn.onDestroy(()=>vc(un,bn.toStyles)),dn.disabled=!0,dn.overrideTotalTime(bn.totalTime),void i.push(dn);let hr=ro;if(yr.size>1){let io=un;const va=[];for(;io=io.parentNode;){const ai=yr.get(io);if(ai){hr=ai;break}va.push(io)}va.forEach(ai=>yr.set(ai,hr))}const To=this._buildAnimation(dn.namespaceId,bn,rn,o,hi,Rn);if(dn.setRealPlayer(To),hr===ro)_i.push(dn);else{const io=this.playersByElement.get(hr);io&&io.length&&(dn.parentPlayer=dd(io)),i.push(dn)}}else Hh(un,bn.fromStyles),dn.onDestroy(()=>vc(un,bn.toStyles)),Wo.push(dn),y.has(un)&&i.push(dn)}),Wo.forEach(Wt=>{const un=o.get(Wt.element);if(un&&un.length){const dn=dd(un);Wt.setRealPlayer(dn)}}),i.forEach(Wt=>{Wt.parentPlayer?Wt.syncPlayerEvents(Wt.parentPlayer):Wt.destroy()});for(let Wt=0;Wt<xe.length;Wt++){const un=xe[Wt],dn=un[za];if(Wp(un,fx),dn&&dn.hasAnimation)continue;let bn=[];if(c.size){let To=c.get(un);To&&To.length&&bn.push(...To);let io=this.driver.query(un,zS,!0);for(let va=0;va<io.length;va++){let ai=c.get(io[va]);ai&&ai.length&&bn.push(...ai)}}const hr=bn.filter(To=>!To.destroyed);hr.length?wre(this,un,hr):this.processLeaveNode(un)}return xe.length=0,_i.forEach(Wt=>{this.players.push(Wt),Wt.onDone(()=>{Wt.destroy();const un=this.players.indexOf(Wt);this.players.splice(un,1)}),Wt.play()}),_i}elementContainsData(e,t){let r=!1;const i=t[za];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let a=[];if(t){const c=this.playersByQueriedElement.get(e);c&&(a=c)}else{const c=this.playersByElement.get(e);if(c){const h=!o||o==Fv;c.forEach(g=>{g.queued||!h&&g.triggerName!=i||a.push(g)})}}return(r||i)&&(a=a.filter(c=>!(r&&r!=c.namespaceId||i&&i!=c.triggerName))),a}_beforeAnimationBuild(e,t,r){const o=t.element,a=t.isRemovalTransition?void 0:e,c=t.isRemovalTransition?void 0:t.triggerName;for(const h of t.timelines){const g=h.element,y=g!==o,O=ma(r,g,[]);this._getPreviousPlayers(g,y,a,c,t.toState).forEach(K=>{const re=K.getRealPlayer();re.beforeDestroy&&re.beforeDestroy(),K.destroy(),O.push(K)})}Hh(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,a){const c=t.triggerName,h=t.element,g=[],y=new Set,O=new Set,$=t.timelines.map(re=>{const he=re.element;y.add(he);const xe=he[za];if(xe&&xe.removedBeforeQueried)return new Ug(re.duration,re.delay);const Pe=he!==h,Je=function Ere(n){const e=[];return c5(n,e),e}((r.get(he)||mre).map(rn=>rn.getRealPlayer())).filter(rn=>!!rn.element&&rn.element===he),Ke=o.get(he),at=a.get(he),wt=NV(0,this._normalizer,0,re.keyframes,Ke,at),Dt=this._buildPlayer(re,wt,Je);if(re.subTimeline&&i&&O.add(he),Pe){const rn=new ek(e,c,he);rn.setRealPlayer(Dt),g.push(rn)}return Dt});g.forEach(re=>{ma(this.playersByQueriedElement,re.element,[]).push(re),re.onDone(()=>function bre(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,re.element,re))}),y.forEach(re=>Ha(re,GV));const K=dd($);return K.onDestroy(()=>{y.forEach(re=>Wp(re,GV)),vc(h,t.toStyles)}),O.forEach(re=>{ma(i,re,[]).push(K)}),K}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ug(e.duration,e.delay)}}class ek{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ug,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>RS(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ma(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Sx(n){return n&&1===n.nodeType}function s5(n,e){const t=n.style.display;return n.style.display=e??"none",t}function a5(n,e,t,r,i){const o=[];t.forEach(h=>o.push(s5(h)));const a=[];r.forEach((h,g)=>{const y=new Map;h.forEach(O=>{const $=e.computeStyle(g,O,i);y.set(O,$),(!$||0==$.length)&&(g[za]=gre,a.push(g))}),n.set(g,y)});let c=0;return t.forEach(h=>s5(h,o[c++])),a}function l5(n,e){const t=new Map;if(n.forEach(c=>t.set(c,[])),0==e.length)return t;const r=1,i=new Set(e),o=new Map;function a(c){if(!c)return r;let h=o.get(c);if(h)return h;const g=c.parentNode;return h=t.has(g)?g:i.has(g)?r:a(g),o.set(c,h),h}return e.forEach(c=>{const h=a(c);h!==r&&t.get(h).push(c)}),t}function Ha(n,e){n.classList?.add(e)}function Wp(n,e){n.classList?.remove(e)}function wre(n,e,t){dd(t).onDone(()=>n.processLeaveNode(e))}function c5(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof iP?c5(r.players,e):e.push(r)}}function u5(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class kx{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new yre(e,t,r),this._timelineEngine=new ure(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const a=e+"-"+i;let c=this._triggerCache[a];if(!c){const h=[],g=[],y=GS(this._driver,o,h,g);if(h.length)throw function lne(n,e){return new Ze(3404,!1)}();c=function sre(n,e,t){return new are(n,e,t)}(i,y,this._normalizer),this._triggerCache[a]=c}this._transitionEngine.registerTrigger(t,i,c)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,a]=FV(r);this._timelineEngine.command(o,t,a,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[a,c]=FV(r);return this._timelineEngine.listen(a,t,c,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Sre=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&vc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vc(this._element,this._initialStyles),this._endStyles&&(vc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hh(this._element,this._endStyles),this._endStyles=null),vc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function tk(n){let e=null;return n.forEach((t,r)=>{(function kre(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class d5{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:qV(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Mre{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return zV(e,t)}getParentElement(e){return LS(e)}query(e,t,r){return HV(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,a=[]){const h={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(h.easing=o);const g=new Map,y=a.filter(K=>K instanceof d5);(function One(n,e){return 0===n||0===e})(r,i)&&y.forEach(K=>{K.currentSnapshot.forEach((re,he)=>g.set(he,re))});let O=function Mne(n){return n.length?n[0]instanceof Map?n:n.map(e=>$V(e)):[]}(t).map(K=>hd(K));O=function Rne(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,a)=>{r.has(a)||i.push(a),r.set(a,o)}),i.length)for(let o=1;o<e.length;o++){let a=e[o];i.forEach(c=>a.set(c,qV(n,c)))}}return e}(e,O,g);const $=function Dre(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=tk(e[0]),e.length>1&&(r=tk(e[e.length-1]))):e instanceof Map&&(t=tk(e)),t||r?new Sre(n,t,r):null}(e,O);return new d5(e,O,h,$)}}let Tre=(()=>{class n extends eP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Js.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?tP(t):t;return h5(this._renderer,null,r,"register",[i]),new Are(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(xt(ah),xt(or))},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})();class Are extends W${constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Ire(this._id,e,t||{},this._renderer)}}class Ire{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return h5(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function h5(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const f5="@.disabled";let Ore=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,a)=>{const c=a?.parentNode(o);c&&a.removeChild(c,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let y=this._rendererCache.get(o);return y||(y=new p5("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,y)),y}const a=r.id,c=r.id+"-"+this._currentId;this._currentId++,this.engine.register(c,t);const h=y=>{Array.isArray(y)?y.forEach(h):this.engine.registerTrigger(a,c,t,y.name,y)};return r.data.animation.forEach(h),new Rre(this,c,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,c]=o;a(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(xt(ah),xt(kx),xt(Tn))},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})();class p5{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==f5?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Rre extends p5{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==f5?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Pre(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function Nre(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,a,c=>{this.factory.scheduleListenerCallback(c._data||-1,r,c)})}return this.delegate.listen(e,t,r)}}const Vre=[{provide:BS,useFactory:()=>new Mre},{provide:ca,useValue:"BrowserAnimations"},...[{provide:eP,useClass:Tre},{provide:KS,useFactory:function Lre(){return new nre}},{provide:kx,useClass:(()=>{class n extends kx{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(xt(or),xt(BS),xt(KS),xt(gg))},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})()},{provide:ah,useFactory:function Bre(n,e,t){return new Ore(n,e,t)},deps:[qb,kx,Tn]}]];(function VU(n,e){return o8({rootComponent:n,...RI(e)})})(zte,{providers:[function Hre(){return[...Vre]}(),{provide:hP,useValue:{appearance:"outline"}}]}).catch(n=>console.error(n))},7352:(j,ee,v)=>{"use strict";v.r(ee),v.d(ee,{afterMain:()=>te,afterRead:()=>Z,afterWrite:()=>H,applyStyles:()=>Ve,arrow:()=>Wr,auto:()=>C,basePlacements:()=>b,beforeMain:()=>X,beforeRead:()=>J,beforeWrite:()=>G,bottom:()=>T,clippingParents:()=>P,computeStyles:()=>oo,createPopper:()=>Ya,createPopperBase:()=>Sl,createPopperLite:()=>Ir,detectOverflow:()=>Ms,end:()=>S,eventListeners:()=>Ao,flip:()=>Wh,hide:()=>ru,left:()=>E,main:()=>ie,modifierPhases:()=>q,offset:()=>Wa,placements:()=>B,popper:()=>A,popperGenerator:()=>Oo,popperOffsets:()=>Br,preventOverflow:()=>gd,read:()=>U,reference:()=>F,right:()=>x,start:()=>k,top:()=>_,variationPlacements:()=>N,viewport:()=>R,write:()=>V});var _="top",T="bottom",x="right",E="left",C="auto",b=[_,T,x,E],k="start",S="end",P="clippingParents",R="viewport",A="popper",F="reference",N=b.reduce(function(Ie,De){return Ie.concat([De+"-"+k,De+"-"+S])},[]),B=[].concat(b,[C]).reduce(function(Ie,De){return Ie.concat([De,De+"-"+k,De+"-"+S])},[]),J="beforeRead",U="read",Z="afterRead",X="beforeMain",ie="main",te="afterMain",G="beforeWrite",V="write",H="afterWrite",q=[J,U,Z,X,ie,te,G,V,H];function ae(Ie){return Ie?(Ie.nodeName||"").toLowerCase():null}function ue(Ie){if(null==Ie)return window;if("[object Window]"!==Ie.toString()){var De=Ie.ownerDocument;return De&&De.defaultView||window}return Ie}function se(Ie){return Ie instanceof ue(Ie).Element||Ie instanceof Element}function de(Ie){return Ie instanceof ue(Ie).HTMLElement||Ie instanceof HTMLElement}function we(Ie){return!(typeof ShadowRoot>"u")&&(Ie instanceof ue(Ie).ShadowRoot||Ie instanceof ShadowRoot)}const Ve={name:"applyStyles",enabled:!0,phase:"write",fn:function fe(Ie){var De=Ie.state;Object.keys(De.elements).forEach(function(Ye){var _t=De.styles[Ye]||{},lt=De.attributes[Ye]||{},ht=De.elements[Ye];!de(ht)||!ae(ht)||(Object.assign(ht.style,_t),Object.keys(lt).forEach(function(an){var Bt=lt[an];!1===Bt?ht.removeAttribute(an):ht.setAttribute(an,!0===Bt?"":Bt)}))})},effect:function je(Ie){var De=Ie.state,Ye={popper:{position:De.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(De.elements.popper.style,Ye.popper),De.styles=Ye,De.elements.arrow&&Object.assign(De.elements.arrow.style,Ye.arrow),function(){Object.keys(De.elements).forEach(function(_t){var lt=De.elements[_t],ht=De.attributes[_t]||{},Bt=Object.keys(De.styles.hasOwnProperty(_t)?De.styles[_t]:Ye[_t]).reduce(function(jt,vn){return jt[vn]="",jt},{});!de(lt)||!ae(lt)||(Object.assign(lt.style,Bt),Object.keys(ht).forEach(function(jt){lt.removeAttribute(jt)}))})}},requires:["computeStyles"]};function _e(Ie){return Ie.split("-")[0]}var Ce=Math.max,ge=Math.min,qe=Math.round;function Xe(){var Ie=navigator.userAgentData;return null!=Ie&&Ie.brands?Ie.brands.map(function(De){return De.brand+"/"+De.version}).join(" "):navigator.userAgent}function Me(){return!/^((?!chrome|android).)*safari/i.test(Xe())}function et(Ie,De,Ye){void 0===De&&(De=!1),void 0===Ye&&(Ye=!1);var _t=Ie.getBoundingClientRect(),lt=1,ht=1;De&&de(Ie)&&(lt=Ie.offsetWidth>0&&qe(_t.width)/Ie.offsetWidth||1,ht=Ie.offsetHeight>0&&qe(_t.height)/Ie.offsetHeight||1);var Bt=(se(Ie)?ue(Ie):window).visualViewport,jt=!Me()&&Ye,vn=(_t.left+(jt&&Bt?Bt.offsetLeft:0))/lt,Ze=(_t.top+(jt&&Bt?Bt.offsetTop:0))/ht,fr=_t.width/lt,qt=_t.height/ht;return{width:fr,height:qt,top:Ze,right:vn+fr,bottom:Ze+qt,left:vn,x:vn,y:Ze}}function Tt(Ie){var De=et(Ie),Ye=Ie.offsetWidth,_t=Ie.offsetHeight;return Math.abs(De.width-Ye)<=1&&(Ye=De.width),Math.abs(De.height-_t)<=1&&(_t=De.height),{x:Ie.offsetLeft,y:Ie.offsetTop,width:Ye,height:_t}}function Be(Ie,De){var Ye=De.getRootNode&&De.getRootNode();if(Ie.contains(De))return!0;if(Ye&&we(Ye)){var _t=De;do{if(_t&&Ie.isSameNode(_t))return!0;_t=_t.parentNode||_t.host}while(_t)}return!1}function Le(Ie){return ue(Ie).getComputedStyle(Ie)}function Ue(Ie){return["table","td","th"].indexOf(ae(Ie))>=0}function Ne(Ie){return((se(Ie)?Ie.ownerDocument:Ie.document)||window.document).documentElement}function ye(Ie){return"html"===ae(Ie)?Ie:Ie.assignedSlot||Ie.parentNode||(we(Ie)?Ie.host:null)||Ne(Ie)}function Fe(Ie){return de(Ie)&&"fixed"!==Le(Ie).position?Ie.offsetParent:null}function pt(Ie){for(var De=ue(Ie),Ye=Fe(Ie);Ye&&Ue(Ye)&&"static"===Le(Ye).position;)Ye=Fe(Ye);return Ye&&("html"===ae(Ye)||"body"===ae(Ye)&&"static"===Le(Ye).position)?De:Ye||function ot(Ie){var De=/firefox/i.test(Xe());if(/Trident/i.test(Xe())&&de(Ie)&&"fixed"===Le(Ie).position)return null;var lt=ye(Ie);for(we(lt)&&(lt=lt.host);de(lt)&&["html","body"].indexOf(ae(lt))<0;){var ht=Le(lt);if("none"!==ht.transform||"none"!==ht.perspective||"paint"===ht.contain||-1!==["transform","perspective"].indexOf(ht.willChange)||De&&"filter"===ht.willChange||De&&ht.filter&&"none"!==ht.filter)return lt;lt=lt.parentNode}return null}(Ie)||De}function ft(Ie){return["top","bottom"].indexOf(Ie)>=0?"x":"y"}function bt(Ie,De,Ye){return Ce(Ie,ge(De,Ye))}function Zt(Ie){return Object.assign({},{top:0,right:0,bottom:0,left:0},Ie)}function Ft(Ie,De){return De.reduce(function(Ye,_t){return Ye[_t]=Ie,Ye},{})}const Wr={name:"arrow",enabled:!0,phase:"main",fn:function ir(Ie){var De,Ye=Ie.state,_t=Ie.name,lt=Ie.options,ht=Ye.elements.arrow,an=Ye.modifiersData.popperOffsets,Bt=_e(Ye.placement),jt=ft(Bt),Ze=[E,x].indexOf(Bt)>=0?"height":"width";if(ht&&an){var fr=function(De,Ye){return Zt("number"!=typeof(De="function"==typeof De?De(Object.assign({},Ye.rects,{placement:Ye.placement})):De)?De:Ft(De,b))}(lt.padding,Ye),qt=Tt(ht),Qt="y"===jt?_:E,Yr="y"===jt?T:x,sr=Ye.rects.reference[Ze]+Ye.rects.reference[jt]-an[jt]-Ye.rects.popper[Ze],ar=an[jt]-Ye.rects.reference[jt],lr=pt(ht),cr=lr?"y"===jt?lr.clientHeight||0:lr.clientWidth||0:0,Xn=cr/2-qt[Ze]/2+(sr/2-ar/2),jr=bt(fr[Qt],Xn,cr-qt[Ze]-fr[Yr]);Ye.modifiersData[_t]=((De={})[jt]=jr,De.centerOffset=jr-Xn,De)}},effect:function Cr(Ie){var De=Ie.state,_t=Ie.options.element,lt=void 0===_t?"[data-popper-arrow]":_t;null!=lt&&("string"==typeof lt&&!(lt=De.elements.popper.querySelector(lt))||Be(De.elements.popper,lt)&&(De.elements.arrow=lt))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Or(Ie){return Ie.split("-")[1]}var Rr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Li(Ie){var De,Ye=Ie.popper,_t=Ie.popperRect,lt=Ie.placement,ht=Ie.variation,an=Ie.offsets,Bt=Ie.position,jt=Ie.gpuAcceleration,vn=Ie.adaptive,Ze=Ie.roundOffsets,fr=Ie.isFixed,qt=an.x,Qt=void 0===qt?0:qt,Yr=an.y,sr=void 0===Yr?0:Yr,ar="function"==typeof Ze?Ze({x:Qt,y:sr}):{x:Qt,y:sr};Qt=ar.x,sr=ar.y;var lr=an.hasOwnProperty("x"),cr=an.hasOwnProperty("y"),fi=E,br=_,Tr=window;if(vn){var Xn=pt(Ye),jr="clientHeight",pi="clientWidth";Xn===ue(Ye)&&"static"!==Le(Xn=Ne(Ye)).position&&"absolute"===Bt&&(jr="scrollHeight",pi="scrollWidth"),(lt===_||(lt===E||lt===x)&&ht===S)&&(br=T,sr-=(fr&&Xn===Tr&&Tr.visualViewport?Tr.visualViewport.height:Xn[jr])-_t.height,sr*=jt?1:-1),lt!==E&&(lt!==_&&lt!==T||ht!==S)||(fi=x,Qt-=(fr&&Xn===Tr&&Tr.visualViewport?Tr.visualViewport.width:Xn[pi])-_t.width,Qt*=jt?1:-1)}var pr,Pr=Object.assign({position:Bt},vn&&Rr),Os=!0===Ze?function Fi(Ie){var Ye=Ie.y,lt=window.devicePixelRatio||1;return{x:qe(Ie.x*lt)/lt||0,y:qe(Ye*lt)/lt||0}}({x:Qt,y:sr}):{x:Qt,y:sr};return Qt=Os.x,sr=Os.y,Object.assign({},Pr,jt?((pr={})[br]=cr?"0":"",pr[fi]=lr?"0":"",pr.transform=(Tr.devicePixelRatio||1)<=1?"translate("+Qt+"px, "+sr+"px)":"translate3d("+Qt+"px, "+sr+"px, 0)",pr):((De={})[br]=cr?sr+"px":"",De[fi]=lr?Qt+"px":"",De.transform="",De))}const oo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function nn(Ie){var De=Ie.state,Ye=Ie.options,_t=Ye.gpuAcceleration,lt=void 0===_t||_t,ht=Ye.adaptive,an=void 0===ht||ht,Bt=Ye.roundOffsets,jt=void 0===Bt||Bt,Ze={placement:_e(De.placement),variation:Or(De.placement),popper:De.elements.popper,popperRect:De.rects.popper,gpuAcceleration:lt,isFixed:"fixed"===De.options.strategy};null!=De.modifiersData.popperOffsets&&(De.styles.popper=Object.assign({},De.styles.popper,Li(Object.assign({},Ze,{offsets:De.modifiersData.popperOffsets,position:De.options.strategy,adaptive:an,roundOffsets:jt})))),null!=De.modifiersData.arrow&&(De.styles.arrow=Object.assign({},De.styles.arrow,Li(Object.assign({},Ze,{offsets:De.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:jt})))),De.attributes.popper=Object.assign({},De.attributes.popper,{"data-popper-placement":De.placement})},data:{}};var Pn={passive:!0};const Ao={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function xl(Ie){var De=Ie.state,Ye=Ie.instance,_t=Ie.options,lt=_t.scroll,ht=void 0===lt||lt,an=_t.resize,Bt=void 0===an||an,jt=ue(De.elements.popper),vn=[].concat(De.scrollParents.reference,De.scrollParents.popper);return ht&&vn.forEach(function(Ze){Ze.addEventListener("scroll",Ye.update,Pn)}),Bt&&jt.addEventListener("resize",Ye.update,Pn),function(){ht&&vn.forEach(function(Ze){Ze.removeEventListener("scroll",Ye.update,Pn)}),Bt&&jt.removeEventListener("resize",Ye.update,Pn)}},data:{}};var Ys={left:"right",right:"left",bottom:"top",top:"bottom"};function ya(Ie){return Ie.replace(/left|right|bottom|top/g,function(De){return Ys[De]})}var Io={start:"end",end:"start"};function vo(Ie){return Ie.replace(/start|end/g,function(De){return Io[De]})}function Xs(Ie){var De=ue(Ie);return{scrollLeft:De.pageXOffset,scrollTop:De.pageYOffset}}function Ua(Ie){return et(Ne(Ie)).left+Xs(Ie).scrollLeft}function Gi(Ie){var De=Le(Ie);return/auto|scroll|overlay|hidden/.test(De.overflow+De.overflowY+De.overflowX)}function ba(Ie){return["html","body","#document"].indexOf(ae(Ie))>=0?Ie.ownerDocument.body:de(Ie)&&Gi(Ie)?Ie:ba(ye(Ie))}function Ga(Ie,De){var Ye;void 0===De&&(De=[]);var _t=ba(Ie),lt=_t===(null==(Ye=Ie.ownerDocument)?void 0:Ye.body),ht=ue(_t),an=lt?[ht].concat(ht.visualViewport||[],Gi(_t)?_t:[]):_t,Bt=De.concat(an);return lt?Bt:Bt.concat(Ga(ye(an)))}function _a(Ie){return Object.assign({},Ie,{left:Ie.x,top:Ie.y,right:Ie.x+Ie.width,bottom:Ie.y+Ie.height})}function El(Ie,De,Ye){return De===R?_a(function yc(Ie,De){var Ye=ue(Ie),_t=Ne(Ie),lt=Ye.visualViewport,ht=_t.clientWidth,an=_t.clientHeight,Bt=0,jt=0;if(lt){ht=lt.width,an=lt.height;var vn=Me();(vn||!vn&&"fixed"===De)&&(Bt=lt.offsetLeft,jt=lt.offsetTop)}return{width:ht,height:an,x:Bt+Ua(Ie),y:jt}}(Ie,Ye)):se(De)?function fd(Ie,De){var Ye=et(Ie,!1,"fixed"===De);return Ye.top=Ye.top+Ie.clientTop,Ye.left=Ye.left+Ie.clientLeft,Ye.bottom=Ye.top+Ie.clientHeight,Ye.right=Ye.left+Ie.clientWidth,Ye.width=Ie.clientWidth,Ye.height=Ie.clientHeight,Ye.x=Ye.left,Ye.y=Ye.top,Ye}(De,Ye):_a(function wl(Ie){var De,Ye=Ne(Ie),_t=Xs(Ie),lt=null==(De=Ie.ownerDocument)?void 0:De.body,ht=Ce(Ye.scrollWidth,Ye.clientWidth,lt?lt.scrollWidth:0,lt?lt.clientWidth:0),an=Ce(Ye.scrollHeight,Ye.clientHeight,lt?lt.scrollHeight:0,lt?lt.clientHeight:0),Bt=-_t.scrollLeft+Ua(Ie),jt=-_t.scrollTop;return"rtl"===Le(lt||Ye).direction&&(Bt+=Ce(Ye.clientWidth,lt?lt.clientWidth:0)-ht),{width:ht,height:an,x:Bt,y:jt}}(Ne(Ie)))}function ks(Ie){var jt,De=Ie.reference,Ye=Ie.element,_t=Ie.placement,lt=_t?_e(_t):null,ht=_t?Or(_t):null,an=De.x+De.width/2-Ye.width/2,Bt=De.y+De.height/2-Ye.height/2;switch(lt){case _:jt={x:an,y:De.y-Ye.height};break;case T:jt={x:an,y:De.y+De.height};break;case x:jt={x:De.x+De.width,y:Bt};break;case E:jt={x:De.x-Ye.width,y:Bt};break;default:jt={x:De.x,y:De.y}}var vn=lt?ft(lt):null;if(null!=vn){var Ze="y"===vn?"height":"width";switch(ht){case k:jt[vn]=jt[vn]-(De[Ze]/2-Ye[Ze]/2);break;case S:jt[vn]=jt[vn]+(De[Ze]/2-Ye[Ze]/2)}}return jt}function Ms(Ie,De){void 0===De&&(De={});var _t=De.placement,lt=void 0===_t?Ie.placement:_t,ht=De.strategy,an=void 0===ht?Ie.strategy:ht,Bt=De.boundary,jt=void 0===Bt?P:Bt,vn=De.rootBoundary,Ze=void 0===vn?R:vn,fr=De.elementContext,qt=void 0===fr?A:fr,Qt=De.altBoundary,Yr=void 0!==Qt&&Qt,sr=De.padding,ar=void 0===sr?0:sr,lr=Zt("number"!=typeof ar?ar:Ft(ar,b)),fi=Ie.rects.popper,br=Ie.elements[Yr?qt===A?F:A:qt],Tr=function Gh(Ie,De,Ye,_t){var lt="clippingParents"===De?function Cl(Ie){var De=Ga(ye(Ie)),_t=["absolute","fixed"].indexOf(Le(Ie).position)>=0&&de(Ie)?pt(Ie):Ie;return se(_t)?De.filter(function(lt){return se(lt)&&Be(lt,_t)&&"body"!==ae(lt)}):[]}(Ie):[].concat(De),ht=[].concat(lt,[Ye]),Bt=ht.reduce(function(jt,vn){var Ze=El(Ie,vn,_t);return jt.top=Ce(Ze.top,jt.top),jt.right=ge(Ze.right,jt.right),jt.bottom=ge(Ze.bottom,jt.bottom),jt.left=Ce(Ze.left,jt.left),jt},El(Ie,ht[0],_t));return Bt.width=Bt.right-Bt.left,Bt.height=Bt.bottom-Bt.top,Bt.x=Bt.left,Bt.y=Bt.top,Bt}(se(br)?br:br.contextElement||Ne(Ie.elements.popper),jt,Ze,an),Xn=et(Ie.elements.reference),jr=ks({reference:Xn,element:fi,strategy:"absolute",placement:lt}),pi=_a(Object.assign({},fi,jr)),xi=qt===A?pi:Xn,Xr={top:Tr.top-xi.top+lr.top,bottom:xi.bottom-Tr.bottom+lr.bottom,left:Tr.left-xi.left+lr.left,right:xi.right-Tr.right+lr.right},Pr=Ie.modifiersData.offset;if(qt===A&&Pr){var Os=Pr[lt];Object.keys(Xr).forEach(function(pr){var as=[x,T].indexOf(pr)>=0?1:-1,Oi=[_,T].indexOf(pr)>=0?"y":"x";Xr[pr]+=Os[Oi]*as})}return Xr}const Wh={name:"flip",enabled:!0,phase:"main",fn:function $h(Ie){var De=Ie.state,Ye=Ie.options,_t=Ie.name;if(!De.modifiersData[_t]._skip){for(var lt=Ye.mainAxis,ht=void 0===lt||lt,an=Ye.altAxis,Bt=void 0===an||an,jt=Ye.fallbackPlacements,vn=Ye.padding,Ze=Ye.boundary,fr=Ye.rootBoundary,qt=Ye.altBoundary,Qt=Ye.flipVariations,Yr=void 0===Qt||Qt,sr=Ye.allowedAutoPlacements,ar=De.options.placement,lr=_e(ar),fi=jt||(lr!==ar&&Yr?function $a(Ie){if(_e(Ie)===C)return[];var De=ya(Ie);return[vo(Ie),De,vo(De)]}(ar):[ya(ar)]),br=[ar].concat(fi).reduce(function(Al,ls){return Al.concat(_e(ls)===C?function so(Ie,De){void 0===De&&(De={});var lt=De.boundary,ht=De.rootBoundary,an=De.padding,Bt=De.flipVariations,jt=De.allowedAutoPlacements,vn=void 0===jt?B:jt,Ze=Or(De.placement),fr=Ze?Bt?N:N.filter(function(Yr){return Or(Yr)===Ze}):b,qt=fr.filter(function(Yr){return vn.indexOf(Yr)>=0});0===qt.length&&(qt=fr);var Qt=qt.reduce(function(Yr,sr){return Yr[sr]=Ms(Ie,{placement:sr,boundary:lt,rootBoundary:ht,padding:an})[_e(sr)],Yr},{});return Object.keys(Qt).sort(function(Yr,sr){return Qt[Yr]-Qt[sr]})}(De,{placement:ls,boundary:Ze,rootBoundary:fr,padding:vn,flipVariations:Yr,allowedAutoPlacements:sr}):ls)},[]),Tr=De.rects.reference,Xn=De.rects.popper,jr=new Map,pi=!0,xi=br[0],Xr=0;Xr<br.length;Xr++){var Pr=br[Xr],Os=_e(Pr),pr=Or(Pr)===k,as=[_,T].indexOf(Os)>=0,Oi=as?"width":"height",En=Ms(De,{placement:Pr,boundary:Ze,rootBoundary:fr,altBoundary:qt,padding:vn}),Zr=as?pr?x:E:pr?T:_;Tr[Oi]>Xn[Oi]&&(Zr=ya(Zr));var bd=ya(Zr),Tl=[];if(ht&&Tl.push(En[Os]<=0),Bt&&Tl.push(En[Zr]<=0,En[bd]<=0),Tl.every(function(Al){return Al})){xi=Pr,pi=!1;break}jr.set(Pr,Tl)}if(pi)for(var Kh=function(ls){var Rs=br.find(function(su){var qs=jr.get(su);if(qs)return qs.slice(0,ls).every(function(Xa){return Xa})});if(Rs)return xi=Rs,"break"},zn=Yr?3:1;zn>0&&"break"!==Kh(zn);zn--);De.placement!==xi&&(De.modifiersData[_t]._skip=!0,De.placement=xi,De.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function pd(Ie,De,Ye){return void 0===Ye&&(Ye={x:0,y:0}),{top:Ie.top-De.height-Ye.y,right:Ie.right-De.width+Ye.x,bottom:Ie.bottom-De.height+Ye.y,left:Ie.left-De.width-Ye.x}}function md(Ie){return[_,x,T,E].some(function(De){return Ie[De]>=0})}const ru={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Yp(Ie){var De=Ie.state,Ye=Ie.name,_t=De.rects.reference,lt=De.rects.popper,ht=De.modifiersData.preventOverflow,an=Ms(De,{elementContext:"reference"}),Bt=Ms(De,{altBoundary:!0}),jt=pd(an,_t),vn=pd(Bt,lt,ht),Ze=md(jt),fr=md(vn);De.modifiersData[Ye]={referenceClippingOffsets:jt,popperEscapeOffsets:vn,isReferenceHidden:Ze,hasPopperEscaped:fr},De.attributes.popper=Object.assign({},De.attributes.popper,{"data-popper-reference-hidden":Ze,"data-popper-escaped":fr})}},Wa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function iu(Ie){var De=Ie.state,_t=Ie.name,lt=Ie.options.offset,ht=void 0===lt?[0,0]:lt,an=B.reduce(function(Ze,fr){return Ze[fr]=function Ts(Ie,De,Ye){var _t=_e(Ie),lt=[E,_].indexOf(_t)>=0?-1:1,ht="function"==typeof Ye?Ye(Object.assign({},De,{placement:Ie})):Ye,an=ht[0],Bt=ht[1];return an=an||0,Bt=(Bt||0)*lt,[E,x].indexOf(_t)>=0?{x:Bt,y:an}:{x:an,y:Bt}}(fr,De.rects,ht),Ze},{}),Bt=an[De.placement],vn=Bt.y;null!=De.modifiersData.popperOffsets&&(De.modifiersData.popperOffsets.x+=Bt.x,De.modifiersData.popperOffsets.y+=vn),De.modifiersData[_t]=an}},Br={name:"popperOffsets",enabled:!0,phase:"read",fn:function ou(Ie){var De=Ie.state;De.modifiersData[Ie.name]=ks({reference:De.rects.reference,element:De.rects.popper,strategy:"absolute",placement:De.placement})},data:{}},gd={name:"preventOverflow",enabled:!0,phase:"main",fn:function Dr(Ie){var De=Ie.state,Ye=Ie.options,_t=Ie.name,lt=Ye.mainAxis,ht=void 0===lt||lt,an=Ye.altAxis,Bt=void 0!==an&&an,qt=Ye.tether,Qt=void 0===qt||qt,Yr=Ye.tetherOffset,sr=void 0===Yr?0:Yr,ar=Ms(De,{boundary:Ye.boundary,rootBoundary:Ye.rootBoundary,padding:Ye.padding,altBoundary:Ye.altBoundary}),lr=_e(De.placement),cr=Or(De.placement),fi=!cr,br=ft(lr),Tr=function Xp(Ie){return"x"===Ie?"y":"x"}(br),Xn=De.modifiersData.popperOffsets,jr=De.rects.reference,pi=De.rects.popper,xi="function"==typeof sr?sr(Object.assign({},De.rects,{placement:De.placement})):sr,Xr="number"==typeof xi?{mainAxis:xi,altAxis:xi}:Object.assign({mainAxis:0,altAxis:0},xi),Pr=De.modifiersData.offset?De.modifiersData.offset[De.placement]:null,Os={x:0,y:0};if(Xn){if(ht){var pr,as="y"===br?_:E,Oi="y"===br?T:x,En="y"===br?"height":"width",Zr=Xn[br],bd=Zr+ar[as],Tl=Zr-ar[Oi],on=Qt?-pi[En]/2:0,Kh=cr===k?jr[En]:pi[En],zn=cr===k?-pi[En]:-jr[En],Ks=De.elements.arrow,Al=Qt&&Ks?Tt(Ks):{width:0,height:0},ls=De.modifiersData["arrow#persistent"]?De.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Rs=ls[as],su=ls[Oi],qs=bt(0,jr[En],Al[En]),Xa=fi?jr[En]/2-on-qs-Rs-Xr.mainAxis:Kh-qs-Rs-Xr.mainAxis,_d=fi?-jr[En]/2+on+qs+su+Xr.mainAxis:zn+qs+su+Xr.mainAxis,au=De.elements.arrow&&pt(De.elements.arrow),xn=null!=(pr=Pr?.[br])?pr:0,Zp=Zr+_d-xn,Vr=bt(Qt?ge(bd,Zr+Xa-xn-(au?"y"===br?au.clientTop||0:au.clientLeft||0:0)):bd,Zr,Qt?Ce(Tl,Zp):Tl);Xn[br]=Vr,Os[br]=Vr-Zr}if(Bt){var cs,Ka=Xn[Tr],wd="y"===Tr?"height":"width",qa=Ka+ar["x"===br?_:E],Ps=Ka-ar["x"===br?T:x],Za=-1!==[_,E].indexOf(lr),Xo=null!=(cs=Pr?.[Tr])?cs:0,Il=Za?qa:Ka-jr[wd]-pi[wd]-Xo+Xr.altAxis,qh=Za?Ka+jr[wd]+pi[wd]-Xo-Xr.altAxis:Ps,bc=Qt&&Za?function Ht(Ie,De,Ye){var _t=bt(Ie,De,Ye);return _t>Ye?Ye:_t}(Il,Ka,qh):bt(Qt?Il:qa,Ka,Qt?qh:Ps);Xn[Tr]=bc,Os[Tr]=bc-Ka}De.modifiersData[_t]=Os}},requiresIfExists:["offset"]};function Kp(Ie,De,Ye){void 0===Ye&&(Ye=!1);var _t=de(De),lt=de(De)&&function Dl(Ie){var De=Ie.getBoundingClientRect(),Ye=qe(De.width)/Ie.offsetWidth||1,_t=qe(De.height)/Ie.offsetHeight||1;return 1!==Ye||1!==_t}(De),ht=Ne(De),an=et(Ie,lt,Ye),Bt={scrollLeft:0,scrollTop:0},jt={x:0,y:0};return(_t||!_t&&!Ye)&&(("body"!==ae(De)||Gi(ht))&&(Bt=function Yh(Ie){return Ie!==ue(Ie)&&de(Ie)?function Yo(Ie){return{scrollLeft:Ie.scrollLeft,scrollTop:Ie.scrollTop}}(Ie):Xs(Ie)}(De)),de(De)?((jt=et(De,!0)).x+=De.clientLeft,jt.y+=De.clientTop):ht&&(jt.x=Ua(ht))),{x:an.left+Bt.scrollLeft-jt.x,y:an.top+Bt.scrollTop-jt.y,width:an.width,height:an.height}}function vd(Ie){var De=new Map,Ye=new Set,_t=[];function lt(ht){Ye.add(ht.name),[].concat(ht.requires||[],ht.requiresIfExists||[]).forEach(function(Bt){if(!Ye.has(Bt)){var jt=De.get(Bt);jt&&lt(jt)}}),_t.push(ht)}return Ie.forEach(function(ht){De.set(ht.name,ht)}),Ie.forEach(function(ht){Ye.has(ht.name)||lt(ht)}),_t}function xa(Ie){var De;return function(){return De||(De=new Promise(function(Ye){Promise.resolve().then(function(){De=void 0,Ye(Ie())})})),De}}var Is={placement:"bottom",modifiers:[],strategy:"absolute"};function Xh(){for(var Ie=arguments.length,De=new Array(Ie),Ye=0;Ye<Ie;Ye++)De[Ye]=arguments[Ye];return!De.some(function(_t){return!(_t&&"function"==typeof _t.getBoundingClientRect)})}function Oo(Ie){void 0===Ie&&(Ie={});var Ye=Ie.defaultModifiers,_t=void 0===Ye?[]:Ye,lt=Ie.defaultOptions,ht=void 0===lt?Is:lt;return function(Bt,jt,vn){void 0===vn&&(vn=ht);var Ze={placement:"bottom",orderedModifiers:[],options:Object.assign({},Is,ht),modifiersData:{},elements:{reference:Bt,popper:jt},attributes:{},styles:{}},fr=[],qt=!1,Qt={state:Ze,setOptions:function(lr){var cr="function"==typeof lr?lr(Ze.options):lr;sr(),Ze.options=Object.assign({},ht,Ze.options,cr),Ze.scrollParents={reference:se(Bt)?Ga(Bt):Bt.contextElement?Ga(Bt.contextElement):[],popper:Ga(jt)};var fi=function Ii(Ie){var De=vd(Ie);return q.reduce(function(Ye,_t){return Ye.concat(De.filter(function(lt){return lt.phase===_t}))},[])}(function yd(Ie){var De=Ie.reduce(function(Ye,_t){var lt=Ye[_t.name];return Ye[_t.name]=lt?Object.assign({},lt,_t,{options:Object.assign({},lt.options,_t.options),data:Object.assign({},lt.data,_t.data)}):_t,Ye},{});return Object.keys(De).map(function(Ye){return De[Ye]})}([].concat(_t,Ze.options.modifiers)));return Ze.orderedModifiers=fi.filter(function(Pr){return Pr.enabled}),function Yr(){Ze.orderedModifiers.forEach(function(ar){var cr=ar.options,br=ar.effect;if("function"==typeof br){var Tr=br({state:Ze,name:ar.name,instance:Qt,options:void 0===cr?{}:cr});fr.push(Tr||function(){})}})}(),Qt.update()},forceUpdate:function(){if(!qt){var lr=Ze.elements,cr=lr.reference,fi=lr.popper;if(Xh(cr,fi)){Ze.rects={reference:Kp(cr,pt(fi),"fixed"===Ze.options.strategy),popper:Tt(fi)},Ze.reset=!1,Ze.placement=Ze.options.placement,Ze.orderedModifiers.forEach(function(Pr){return Ze.modifiersData[Pr.name]=Object.assign({},Pr.data)});for(var Tr=0;Tr<Ze.orderedModifiers.length;Tr++)if(!0!==Ze.reset){var Xn=Ze.orderedModifiers[Tr],jr=Xn.fn,pi=Xn.options;"function"==typeof jr&&(Ze=jr({state:Ze,options:void 0===pi?{}:pi,name:Xn.name,instance:Qt})||Ze)}else Ze.reset=!1,Tr=-1}}},update:xa(function(){return new Promise(function(ar){Qt.forceUpdate(),ar(Ze)})}),destroy:function(){sr(),qt=!0}};if(!Xh(Bt,jt))return Qt;function sr(){fr.forEach(function(ar){return ar()}),fr=[]}return Qt.setOptions(vn).then(function(ar){!qt&&vn.onFirstUpdate&&vn.onFirstUpdate(ar)}),Qt}}var Sl=Oo(),Ya=Oo({defaultModifiers:[Ao,Br,oo,Ve,Wa,Wh,gd,Wr,ru]}),Ir=Oo({defaultModifiers:[Ao,Br,oo,Ve]})},5423:j=>{"use strict";j.exports=function ee(v){return null===v||"object"!=typeof v||null!=v.toJSON?JSON.stringify(v):Array.isArray(v)?"["+v.reduce((_,T,x)=>_+(0===x?"":",")+ee(void 0===T||"symbol"==typeof T?null:T),"")+"]":"{"+Object.keys(v).sort().reduce((_,T,x)=>void 0===v[T]||"symbol"==typeof v[T]?_:_+(0===_.length?"":",")+ee(T)+":"+ee(v[T]),"")+"}"}},2405:function(j,ee,v){var _;j.exports=(_=v(5982),function(T){var x={};function E(C){if(x[C])return x[C].exports;var b=x[C]={i:C,l:!1,exports:{}};return T[C].call(b.exports,b,b.exports,E),b.l=!0,b.exports}return E.m=T,E.c=x,E.i=function(C){return C},E.d=function(C,b,k){E.o(C,b)||Object.defineProperty(C,b,{configurable:!1,enumerable:!0,get:k})},E.n=function(C){var b=C&&C.__esModule?function(){return C.default}:function(){return C};return E.d(b,"a",b),b},E.o=function(C,b){return Object.prototype.hasOwnProperty.call(C,b)},E.p="",E(E.s=7)}([function(T,x){T.exports=_},function(T,x,E){"use strict";var C=E(0).FDLayoutConstants;function b(){}for(var k in C)b[k]=C[k];b.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,b.DEFAULT_RADIAL_SEPARATION=C.DEFAULT_EDGE_LENGTH,b.DEFAULT_COMPONENT_SEPERATION=60,b.TILE=!0,b.TILING_PADDING_VERTICAL=10,b.TILING_PADDING_HORIZONTAL=10,b.TREE_REDUCTION_ON_INCREMENTAL=!1,T.exports=b},function(T,x,E){"use strict";var C=E(0).FDLayoutEdge;function b(S,P,R){C.call(this,S,P,R)}for(var k in b.prototype=Object.create(C.prototype),C)b[k]=C[k];T.exports=b},function(T,x,E){"use strict";var C=E(0).LGraph;function b(S,P,R){C.call(this,S,P,R)}for(var k in b.prototype=Object.create(C.prototype),C)b[k]=C[k];T.exports=b},function(T,x,E){"use strict";var C=E(0).LGraphManager;function b(S){C.call(this,S)}for(var k in b.prototype=Object.create(C.prototype),C)b[k]=C[k];T.exports=b},function(T,x,E){"use strict";var C=E(0).FDLayoutNode,b=E(0).IMath;function k(P,R,A,F){C.call(this,P,R,A,F)}for(var S in k.prototype=Object.create(C.prototype),C)k[S]=C[S];k.prototype.move=function(){var P=this.graphManager.getLayout();this.displacementX=P.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=P.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>P.coolingFactor*P.maxNodeDisplacement&&(this.displacementX=P.coolingFactor*P.maxNodeDisplacement*b.sign(this.displacementX)),Math.abs(this.displacementY)>P.coolingFactor*P.maxNodeDisplacement&&(this.displacementY=P.coolingFactor*P.maxNodeDisplacement*b.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),P.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},k.prototype.propogateDisplacementToChildren=function(P,R){for(var F,A=this.getChild().getNodes(),N=0;N<A.length;N++)null==(F=A[N]).getChild()?(F.moveBy(P,R),F.displacementX+=P,F.displacementY+=R):F.propogateDisplacementToChildren(P,R)},k.prototype.setPred1=function(P){this.pred1=P},k.prototype.getPred1=function(){return pred1},k.prototype.getPred2=function(){return pred2},k.prototype.setNext=function(P){this.next=P},k.prototype.getNext=function(){return next},k.prototype.setProcessed=function(P){this.processed=P},k.prototype.isProcessed=function(){return processed},T.exports=k},function(T,x,E){"use strict";var C=E(0).FDLayout,b=E(4),k=E(3),S=E(5),P=E(2),R=E(1),A=E(0).FDLayoutConstants,F=E(0).LayoutConstants,N=E(0).Point,B=E(0).PointD,J=E(0).Layout,U=E(0).Integer,Z=E(0).IGeometry,X=E(0).LGraph,ie=E(0).Transform;function te(){C.call(this),this.toBeTiled={}}for(var G in te.prototype=Object.create(C.prototype),C)te[G]=C[G];te.prototype.newGraphManager=function(){var V=new b(this);return this.graphManager=V,V},te.prototype.newGraph=function(V){return new k(null,this.graphManager,V)},te.prototype.newNode=function(V){return new S(this.graphManager,V)},te.prototype.newEdge=function(V){return new P(null,null,V)},te.prototype.initParameters=function(){C.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=R.DEFAULT_EDGE_LENGTH<10?10:R.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=R.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=A.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=A.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=A.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=A.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=A.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=A.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/A.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=A.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},te.prototype.layout=function(){return F.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},te.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(R.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var H=new Set(this.getAllNodes()),q=this.nodesWithGravity.filter(function(se){return H.has(se)});this.graphManager.setAllNodesToApplyGravitation(q)}}else{var V=this.getFlatForest();V.length>0?this.positionNodesRadially(V):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),H=new Set(this.getAllNodes()),q=this.nodesWithGravity.filter(function(ae){return H.has(ae)}),this.graphManager.setAllNodesToApplyGravitation(q),this.positionNodesRandomly())}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},te.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%A.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var V=new Set(this.getAllNodes()),H=this.nodesWithGravity.filter(function(ue){return V.has(ue)});this.graphManager.setAllNodesToApplyGravitation(H),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=A.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=A.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var q=!this.isTreeGrowing&&!this.isGrowthFinished,ae=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(q,ae),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},te.prototype.getPositionsData=function(){for(var V=this.graphManager.getAllNodes(),H={},q=0;q<V.length;q++){var ae=V[q].rect,ue=V[q].id;H[ue]={id:ue,x:ae.getCenterX(),y:ae.getCenterY(),w:ae.width,h:ae.height}}return H},te.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var V=!1;if("during"===A.ANIMATE)this.emit("layoutstarted");else{for(;!V;)V=this.tick();this.graphManager.updateBounds()}},te.prototype.calculateNodesToApplyGravitationTo=function(){var H,ue,V=[],q=this.graphManager.getGraphs(),ae=q.length;for(ue=0;ue<ae;ue++)(H=q[ue]).updateConnected(),H.isConnected||(V=V.concat(H.getNodes()));return V},te.prototype.createBendpoints=function(){var V=[];V=V.concat(this.graphManager.getAllEdges());var q,H=new Set;for(q=0;q<V.length;q++){var ae=V[q];if(!H.has(ae)){var ue=ae.getSource(),se=ae.getTarget();if(ue==se)ae.getBendpoints().push(new B),ae.getBendpoints().push(new B),this.createDummyNodesForBendpoints(ae),H.add(ae);else{var de=[];if(de=(de=de.concat(ue.getEdgeListToNode(se))).concat(se.getEdgeListToNode(ue)),!H.has(de[0])){var we;if(de.length>1)for(we=0;we<de.length;we++){var fe=de[we];fe.getBendpoints().push(new B),this.createDummyNodesForBendpoints(fe)}de.forEach(function(je){H.add(je)})}}}if(H.size==V.length)break}},te.prototype.positionNodesRadially=function(V){for(var H=new N(0,0),q=Math.ceil(Math.sqrt(V.length)),ae=0,ue=0,se=0,de=new B(0,0),we=0;we<V.length;we++){we%q==0&&(se=0,ue=ae,0!=we&&(ue+=R.DEFAULT_COMPONENT_SEPERATION),ae=0);var fe=V[we],je=J.findCenterOfTree(fe);H.x=se,H.y=ue,(de=te.radialLayout(fe,je,H)).y>ae&&(ae=Math.floor(de.y)),se=Math.floor(de.x+R.DEFAULT_COMPONENT_SEPERATION)}this.transform(new B(F.WORLD_CENTER_X-de.x/2,F.WORLD_CENTER_Y-de.y/2))},te.radialLayout=function(V,H,q){var ae=Math.max(this.maxDiagonalInTree(V),R.DEFAULT_RADIAL_SEPARATION);te.branchRadialLayout(H,null,0,359,0,ae);var ue=X.calculateBounds(V),se=new ie;se.setDeviceOrgX(ue.getMinX()),se.setDeviceOrgY(ue.getMinY()),se.setWorldOrgX(q.x),se.setWorldOrgY(q.y);for(var de=0;de<V.length;de++)V[de].transform(se);var fe=new B(ue.getMaxX(),ue.getMaxY());return se.inverseTransformPoint(fe)},te.branchRadialLayout=function(V,H,q,ae,ue,se){var de=(ae-q+1)/2;de<0&&(de+=180);var fe=(de+q)%360*Z.TWO_PI/360,Ve=(Math.cos(fe),ue*Math.cos(fe)),_e=ue*Math.sin(fe);V.setCenter(Ve,_e);var Ce=[],ge=(Ce=Ce.concat(V.getEdges())).length;null!=H&&ge--;for(var Me,qe=0,Xe=Ce.length,et=V.getEdgesBetween(H);et.length>1;){var Tt=et[0];et.splice(0,1);var Be=Ce.indexOf(Tt);Be>=0&&Ce.splice(Be,1),Xe--,ge--}Me=null!=H?(Ce.indexOf(et[0])+1)%Xe:0;for(var Le=Math.abs(ae-q)/ge,Ue=Me;qe!=ge;Ue=++Ue%Xe){var Ne=Ce[Ue].getOtherEnd(V);if(Ne!=H){var ye=(q+qe*Le)%360;te.branchRadialLayout(Ne,V,ye,(ye+Le)%360,ue+se,se),qe++}}},te.maxDiagonalInTree=function(V){for(var H=U.MIN_VALUE,q=0;q<V.length;q++){var ue=V[q].getDiagonal();ue>H&&(H=ue)}return H},te.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},te.prototype.groupZeroDegreeMembers=function(){var V=this,H={};this.memberGroups={},this.idToDummyNode={};for(var q=[],ae=this.graphManager.getAllNodes(),ue=0;ue<ae.length;ue++){var de=(se=ae[ue]).getParent();0===this.getNodeDegreeWithChildren(se)&&(null==de.id||!this.getToBeTiled(de))&&q.push(se)}for(ue=0;ue<q.length;ue++){var se,we=(se=q[ue]).getParent().id;typeof H[we]>"u"&&(H[we]=[]),H[we]=H[we].concat(se)}Object.keys(H).forEach(function(fe){if(H[fe].length>1){var je="DummyCompound_"+fe;V.memberGroups[je]=H[fe];var Ve=H[fe][0].getParent(),_e=new S(V.graphManager);_e.id=je,_e.paddingLeft=Ve.paddingLeft||0,_e.paddingRight=Ve.paddingRight||0,_e.paddingBottom=Ve.paddingBottom||0,_e.paddingTop=Ve.paddingTop||0,V.idToDummyNode[je]=_e;var Ce=V.getGraphManager().add(V.newGraph(),_e),ge=Ve.getChild();ge.add(_e);for(var qe=0;qe<H[fe].length;qe++){var Xe=H[fe][qe];ge.remove(Xe),Ce.add(Xe)}}})},te.prototype.clearCompounds=function(){var V={},H={};this.performDFSOnCompounds();for(var q=0;q<this.compoundOrder.length;q++)H[this.compoundOrder[q].id]=this.compoundOrder[q],V[this.compoundOrder[q].id]=[].concat(this.compoundOrder[q].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[q].getChild()),this.compoundOrder[q].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(V,H)},te.prototype.clearZeroDegreeMembers=function(){var V=this,H=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(q){var ae=V.idToDummyNode[q];H[q]=V.tileNodes(V.memberGroups[q],ae.paddingLeft+ae.paddingRight),ae.rect.width=H[q].width,ae.rect.height=H[q].height})},te.prototype.repopulateCompounds=function(){for(var V=this.compoundOrder.length-1;V>=0;V--){var H=this.compoundOrder[V];this.adjustLocations(this.tiledMemberPack[H.id],H.rect.x,H.rect.y,H.paddingLeft,H.paddingTop)}},te.prototype.repopulateZeroDegreeMembers=function(){var V=this,H=this.tiledZeroDegreePack;Object.keys(H).forEach(function(q){var ae=V.idToDummyNode[q];V.adjustLocations(H[q],ae.rect.x,ae.rect.y,ae.paddingLeft,ae.paddingTop)})},te.prototype.getToBeTiled=function(V){var H=V.id;if(null!=this.toBeTiled[H])return this.toBeTiled[H];var q=V.getChild();if(null==q)return this.toBeTiled[H]=!1,!1;for(var ae=q.getNodes(),ue=0;ue<ae.length;ue++){var se=ae[ue];if(this.getNodeDegree(se)>0)return this.toBeTiled[H]=!1,!1;if(null!=se.getChild()){if(!this.getToBeTiled(se))return this.toBeTiled[H]=!1,!1}else this.toBeTiled[se.id]=!1}return this.toBeTiled[H]=!0,!0},te.prototype.getNodeDegree=function(V){for(var q=V.getEdges(),ae=0,ue=0;ue<q.length;ue++){var se=q[ue];se.getSource().id!==se.getTarget().id&&(ae+=1)}return ae},te.prototype.getNodeDegreeWithChildren=function(V){var H=this.getNodeDegree(V);if(null==V.getChild())return H;for(var q=V.getChild().getNodes(),ae=0;ae<q.length;ae++)H+=this.getNodeDegreeWithChildren(q[ae]);return H},te.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},te.prototype.fillCompexOrderByDFS=function(V){for(var H=0;H<V.length;H++){var q=V[H];null!=q.getChild()&&this.fillCompexOrderByDFS(q.getChild().getNodes()),this.getToBeTiled(q)&&this.compoundOrder.push(q)}},te.prototype.adjustLocations=function(V,H,q,ae,ue){q+=ue;for(var se=H+=ae,de=0;de<V.rows.length;de++){var we=V.rows[de];H=se;for(var fe=0,je=0;je<we.length;je++){var Ve=we[je];Ve.rect.x=H,Ve.rect.y=q,H+=Ve.rect.width+V.horizontalPadding,Ve.rect.height>fe&&(fe=Ve.rect.height)}q+=fe+V.verticalPadding}},te.prototype.tileCompoundMembers=function(V,H){var q=this;this.tiledMemberPack=[],Object.keys(V).forEach(function(ae){var ue=H[ae];q.tiledMemberPack[ae]=q.tileNodes(V[ae],ue.paddingLeft+ue.paddingRight),ue.rect.width=q.tiledMemberPack[ae].width,ue.rect.height=q.tiledMemberPack[ae].height})},te.prototype.tileNodes=function(V,H){var ue={rows:[],rowWidth:[],rowHeight:[],width:0,height:H,verticalPadding:R.TILING_PADDING_VERTICAL,horizontalPadding:R.TILING_PADDING_HORIZONTAL};V.sort(function(we,fe){return we.rect.width*we.rect.height>fe.rect.width*fe.rect.height?-1:we.rect.width*we.rect.height<fe.rect.width*fe.rect.height?1:0});for(var se=0;se<V.length;se++){var de=V[se];0==ue.rows.length?this.insertNodeToRow(ue,de,0,H):this.canAddHorizontal(ue,de.rect.width,de.rect.height)?this.insertNodeToRow(ue,de,this.getShortestRowIndex(ue),H):this.insertNodeToRow(ue,de,ue.rows.length,H),this.shiftToLastRow(ue)}return ue},te.prototype.insertNodeToRow=function(V,H,q,ae){var ue=ae;q==V.rows.length&&(V.rows.push([]),V.rowWidth.push(ue),V.rowHeight.push(0));var de=V.rowWidth[q]+H.rect.width;V.rows[q].length>0&&(de+=V.horizontalPadding),V.rowWidth[q]=de,V.width<de&&(V.width=de);var we=H.rect.height;q>0&&(we+=V.verticalPadding);var fe=0;we>V.rowHeight[q]&&(fe=V.rowHeight[q],V.rowHeight[q]=we,fe=V.rowHeight[q]-fe),V.height+=fe,V.rows[q].push(H)},te.prototype.getShortestRowIndex=function(V){for(var H=-1,q=Number.MAX_VALUE,ae=0;ae<V.rows.length;ae++)V.rowWidth[ae]<q&&(H=ae,q=V.rowWidth[ae]);return H},te.prototype.getLongestRowIndex=function(V){for(var H=-1,q=Number.MIN_VALUE,ae=0;ae<V.rows.length;ae++)V.rowWidth[ae]>q&&(H=ae,q=V.rowWidth[ae]);return H},te.prototype.canAddHorizontal=function(V,H,q){var ae=this.getShortestRowIndex(V);if(ae<0)return!0;var ue=V.rowWidth[ae];if(ue+V.horizontalPadding+H<=V.width)return!0;var de,we,se=0;return V.rowHeight[ae]<q&&ae>0&&(se=q+V.verticalPadding-V.rowHeight[ae]),de=V.width-ue>=H+V.horizontalPadding?(V.height+se)/(ue+H+V.horizontalPadding):(V.height+se)/V.width,se=q+V.verticalPadding,(we=V.width<H?(V.height+se)/H:(V.height+se)/V.width)<1&&(we=1/we),de<1&&(de=1/de),de<we},te.prototype.shiftToLastRow=function(V){var H=this.getLongestRowIndex(V),q=V.rowWidth.length-1,ae=V.rows[H],ue=ae[ae.length-1],se=ue.width+V.horizontalPadding;if(V.width-V.rowWidth[q]>se&&H!=q){ae.splice(-1,1),V.rows[q].push(ue),V.rowWidth[H]=V.rowWidth[H]-se,V.rowWidth[q]=V.rowWidth[q]+se,V.width=V.rowWidth[instance.getLongestRowIndex(V)];for(var de=Number.MIN_VALUE,we=0;we<ae.length;we++)ae[we].height>de&&(de=ae[we].height);H>0&&(de+=V.verticalPadding);var fe=V.rowHeight[H]+V.rowHeight[q];V.rowHeight[H]=de,V.rowHeight[q]<ue.height+V.verticalPadding&&(V.rowHeight[q]=ue.height+V.verticalPadding),V.height+=V.rowHeight[H]+V.rowHeight[q]-fe,this.shiftToLastRow(V)}},te.prototype.tilingPreLayout=function(){R.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},te.prototype.tilingPostLayout=function(){R.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},te.prototype.reduceTrees=function(){for(var q,V=[],H=!0;H;){var ae=this.graphManager.getAllNodes(),ue=[];H=!1;for(var se=0;se<ae.length;se++)1==(q=ae[se]).getEdges().length&&!q.getEdges()[0].isInterGraph&&null==q.getChild()&&(ue.push([q,q.getEdges()[0],q.getOwner()]),H=!0);if(1==H){for(var de=[],we=0;we<ue.length;we++)1==ue[we][0].getEdges().length&&(de.push(ue[we]),ue[we][0].getOwner().remove(ue[we][0]));V.push(de),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=V},te.prototype.growTree=function(V){for(var ae,q=V[V.length-1],ue=0;ue<q.length;ue++)this.findPlaceforPrunedNode(ae=q[ue]),ae[2].add(ae[0]),ae[2].add(ae[1],ae[1].source,ae[1].target);V.splice(V.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},te.prototype.findPlaceforPrunedNode=function(V){var H,q,ae=V[0],ue=(q=ae==V[1].source?V[1].target:V[1].source).startX,se=q.finishX,de=q.startY,we=q.finishY,Ce=[0,0,0,0];if(de>0)for(var ge=ue;ge<=se;ge++)Ce[0]+=this.grid[ge][de-1].length+this.grid[ge][de].length-1;if(se<this.grid.length-1)for(ge=de;ge<=we;ge++)Ce[1]+=this.grid[se+1][ge].length+this.grid[se][ge].length-1;if(we<this.grid[0].length-1)for(ge=ue;ge<=se;ge++)Ce[2]+=this.grid[ge][we+1].length+this.grid[ge][we].length-1;if(ue>0)for(ge=de;ge<=we;ge++)Ce[3]+=this.grid[ue-1][ge].length+this.grid[ue][ge].length-1;for(var Xe,Me,qe=U.MAX_VALUE,et=0;et<Ce.length;et++)Ce[et]<qe?(qe=Ce[et],Xe=1,Me=et):Ce[et]==qe&&Xe++;if(3==Xe&&0==qe)0==Ce[0]&&0==Ce[1]&&0==Ce[2]?H=1:0==Ce[0]&&0==Ce[1]&&0==Ce[3]?H=0:0==Ce[0]&&0==Ce[2]&&0==Ce[3]?H=3:0==Ce[1]&&0==Ce[2]&&0==Ce[3]&&(H=2);else if(2==Xe&&0==qe){var Tt=Math.floor(2*Math.random());H=0==Ce[0]&&0==Ce[1]?0==Tt?0:1:0==Ce[0]&&0==Ce[2]?0==Tt?0:2:0==Ce[0]&&0==Ce[3]?0==Tt?0:3:0==Ce[1]&&0==Ce[2]?0==Tt?1:2:0==Ce[1]&&0==Ce[3]?0==Tt?1:3:0==Tt?2:3}else H=4==Xe&&0==qe?Tt=Math.floor(4*Math.random()):Me;0==H?ae.setCenter(q.getCenterX(),q.getCenterY()-q.getHeight()/2-A.DEFAULT_EDGE_LENGTH-ae.getHeight()/2):1==H?ae.setCenter(q.getCenterX()+q.getWidth()/2+A.DEFAULT_EDGE_LENGTH+ae.getWidth()/2,q.getCenterY()):2==H?ae.setCenter(q.getCenterX(),q.getCenterY()+q.getHeight()/2+A.DEFAULT_EDGE_LENGTH+ae.getHeight()/2):ae.setCenter(q.getCenterX()-q.getWidth()/2-A.DEFAULT_EDGE_LENGTH-ae.getWidth()/2,q.getCenterY())},T.exports=te},function(T,x,E){"use strict";var C={};C.layoutBase=E(0),C.CoSEConstants=E(1),C.CoSEEdge=E(2),C.CoSEGraph=E(3),C.CoSEGraphManager=E(4),C.CoSELayout=E(6),C.CoSENode=E(5),T.exports=C}]))},5791:function(j,ee,v){var _;j.exports=(_=v(2405),function(T){var x={};function E(C){if(x[C])return x[C].exports;var b=x[C]={i:C,l:!1,exports:{}};return T[C].call(b.exports,b,b.exports,E),b.l=!0,b.exports}return E.m=T,E.c=x,E.i=function(C){return C},E.d=function(C,b,k){E.o(C,b)||Object.defineProperty(C,b,{configurable:!1,enumerable:!0,get:k})},E.n=function(C){var b=C&&C.__esModule?function(){return C.default}:function(){return C};return E.d(b,"a",b),b},E.o=function(C,b){return Object.prototype.hasOwnProperty.call(C,b)},E.p="",E(E.s=1)}([function(T,x){T.exports=_},function(T,x,E){"use strict";var C=E(0).layoutBase.LayoutConstants,b=E(0).layoutBase.FDLayoutConstants,k=E(0).CoSEConstants,S=E(0).CoSELayout,P=E(0).CoSENode,R=E(0).layoutBase.PointD,A=E(0).layoutBase.DimensionD,F={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function B(Z){this.options=function N(Z,X){var ie={};for(var te in Z)ie[te]=Z[te];for(var te in X)ie[te]=X[te];return ie}(F,Z),J(this.options)}var J=function(X){null!=X.nodeRepulsion&&(k.DEFAULT_REPULSION_STRENGTH=b.DEFAULT_REPULSION_STRENGTH=X.nodeRepulsion),null!=X.idealEdgeLength&&(k.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=X.idealEdgeLength),null!=X.edgeElasticity&&(k.DEFAULT_SPRING_STRENGTH=b.DEFAULT_SPRING_STRENGTH=X.edgeElasticity),null!=X.nestingFactor&&(k.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=b.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=X.nestingFactor),null!=X.gravity&&(k.DEFAULT_GRAVITY_STRENGTH=b.DEFAULT_GRAVITY_STRENGTH=X.gravity),null!=X.numIter&&(k.MAX_ITERATIONS=b.MAX_ITERATIONS=X.numIter),null!=X.gravityRange&&(k.DEFAULT_GRAVITY_RANGE_FACTOR=b.DEFAULT_GRAVITY_RANGE_FACTOR=X.gravityRange),null!=X.gravityCompound&&(k.DEFAULT_COMPOUND_GRAVITY_STRENGTH=b.DEFAULT_COMPOUND_GRAVITY_STRENGTH=X.gravityCompound),null!=X.gravityRangeCompound&&(k.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=b.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=X.gravityRangeCompound),null!=X.initialEnergyOnIncremental&&(k.DEFAULT_COOLING_FACTOR_INCREMENTAL=b.DEFAULT_COOLING_FACTOR_INCREMENTAL=X.initialEnergyOnIncremental),C.QUALITY="draft"==X.quality?0:"proof"==X.quality?2:1,k.NODE_DIMENSIONS_INCLUDE_LABELS=b.NODE_DIMENSIONS_INCLUDE_LABELS=C.NODE_DIMENSIONS_INCLUDE_LABELS=X.nodeDimensionsIncludeLabels,k.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=C.DEFAULT_INCREMENTAL=!X.randomize,k.ANIMATE=b.ANIMATE=C.ANIMATE=X.animate,k.TILE=X.tile,k.TILING_PADDING_VERTICAL="function"==typeof X.tilingPaddingVertical?X.tilingPaddingVertical.call():X.tilingPaddingVertical,k.TILING_PADDING_HORIZONTAL="function"==typeof X.tilingPaddingHorizontal?X.tilingPaddingHorizontal.call():X.tilingPaddingHorizontal};B.prototype.run=function(){var Z,X,ie=this.options,G=(this.idToLNode={},this.layout=new S),V=this;V.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var H=G.newGraphManager();this.gm=H;var q=this.options.eles.nodes(),ae=this.options.eles.edges();this.root=H.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(q),G);for(var ue=0;ue<ae.length;ue++){var se=ae[ue],de=this.idToLNode[se.data("source")],we=this.idToLNode[se.data("target")];de!==we&&0==de.getEdgesBetween(we).length&&(H.add(G.newEdge(),de,we).id=se.id())}var je=function(Ce,ge){"number"==typeof Ce&&(Ce=ge);var qe=Ce.data("id"),Xe=V.idToLNode[qe];return{x:Xe.getRect().getCenterX(),y:Xe.getRect().getCenterY()}},Ve=function _e(){for(var qe,Ce=function(){ie.fit&&ie.cy.fit(ie.eles,ie.padding),Z||(Z=!0,V.cy.one("layoutready",ie.ready),V.cy.trigger({type:"layoutready",layout:V}))},ge=V.options.refresh,Xe=0;Xe<ge&&!qe;Xe++)qe=V.stopped||V.layout.tick();if(qe)return G.checkLayoutSuccess()&&!G.isSubLayout&&G.doPostLayout(),G.tilingPostLayout&&G.tilingPostLayout(),G.isLayoutFinished=!0,V.options.eles.nodes().positions(je),Ce(),V.cy.one("layoutstop",V.options.stop),V.cy.trigger({type:"layoutstop",layout:V}),X&&cancelAnimationFrame(X),void(Z=!1);var Me=V.layout.getPositionsData();ie.eles.nodes().positions(function(et,Tt){if("number"==typeof et&&(et=Tt),!et.isParent()){for(var Be=et.id(),Le=Me[Be],Ue=et;null==Le&&(Le=Me[Ue.data("parent")]||Me["DummyCompound_"+Ue.data("parent")],Me[Be]=Le,null!=(Ue=Ue.parent()[0])););return null!=Le?{x:Le.x,y:Le.y}:{x:et.position("x"),y:et.position("y")}}}),Ce(),X=requestAnimationFrame(_e)};return G.addListener("layoutstarted",function(){"during"===V.options.animate&&(X=requestAnimationFrame(Ve))}),G.runLayout(),"during"!==this.options.animate&&(V.options.eles.nodes().not(":parent").layoutPositions(V,V.options,je),Z=!1),this},B.prototype.getTopMostNodes=function(Z){for(var X={},ie=0;ie<Z.length;ie++)X[Z[ie].id()]=!0;return Z.filter(function(G,V){"number"==typeof G&&(G=V);for(var H=G.parent()[0];null!=H;){if(X[H.id()])return!1;H=H.parent()[0]}return!0})},B.prototype.processChildrenList=function(Z,X,ie){for(var te=X.length,G=0;G<te;G++){var q,we,V=X[G],H=V.children(),ae=V.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((q=null!=V.outerWidth()&&null!=V.outerHeight()?Z.add(new P(ie.graphManager,new R(V.position("x")-ae.w/2,V.position("y")-ae.h/2),new A(parseFloat(ae.w),parseFloat(ae.h)))):Z.add(new P(this.graphManager))).id=V.data("id"),q.paddingLeft=parseInt(V.css("padding")),q.paddingTop=parseInt(V.css("padding")),q.paddingRight=parseInt(V.css("padding")),q.paddingBottom=parseInt(V.css("padding")),this.options.nodeDimensionsIncludeLabels&&V.isParent()){var ue=V.boundingBox({includeLabels:!0,includeNodes:!1}).w,se=V.boundingBox({includeLabels:!0,includeNodes:!1}).h,de=V.css("text-halign");q.labelWidth=ue,q.labelHeight=se,q.labelPos=de}this.idToLNode[V.data("id")]=q,isNaN(q.rect.x)&&(q.rect.x=0),isNaN(q.rect.y)&&(q.rect.y=0),null!=H&&H.length>0&&(we=ie.getGraphManager().add(ie.newGraph(),q),this.processChildrenList(we,H,ie))}},B.prototype.stop=function(){return this.stopped=!0,this};var U=function(X){X("layout","cose-bilkent",B)};typeof cytoscape<"u"&&U(cytoscape),T.exports=U}]))},1212:function(j){j.exports=function(ee){var v={};function _(T){if(v[T])return v[T].exports;var x=v[T]={i:T,l:!1,exports:{}};return ee[T].call(x.exports,x,x.exports,_),x.l=!0,x.exports}return _.m=ee,_.c=v,_.i=function(T){return T},_.d=function(T,x,E){_.o(T,x)||Object.defineProperty(T,x,{configurable:!1,enumerable:!0,get:E})},_.n=function(T){var x=T&&T.__esModule?function(){return T.default}:function(){return T};return _.d(x,"a",x),x},_.o=function(T,x){return Object.prototype.hasOwnProperty.call(T,x)},_.p="",_(_.s=4)}([function(ee,v,_){"use strict";var T=_(2),x=_(1),E=_(3),C=E.removeEles,b=E.setStyles,k=E.createElement,S=E.getPixelRatio,P=E.getOffset;ee.exports=function(F){var N=x({},T,F),B=this,J=B.container(),U=void 0,Z={options:N,handlers:[],container:k({class:"cxtmenu"})},X=Z.container,ie=k(),te=k({tag:"canvas"}),G=[],V=te.getContext("2d"),H=100,q=2*(H+N.activePadding),ae=void 0,ue=void 0;function de(Ne,ye){Ce.drawBg=[Ne,ye]}function we(Ne,ye){V.globalCompositeOperation="source-over",V.clearRect(0,0,q,q),V.fillStyle=N.fillColor;for(var Fe=2*Math.PI/G.length,ot=Math.PI/2,pt=ot+Fe,ft=0;ft<G.length;ft++){var bt=G[ft];bt.fillColor&&(V.fillStyle=bt.fillColor),V.beginPath(),V.moveTo(Ne+N.activePadding,Ne+N.activePadding),V.arc(Ne+N.activePadding,Ne+N.activePadding,Ne,2*Math.PI-ot,2*Math.PI-pt,!0),V.closePath(),V.fill(),ot+=Fe,pt+=Fe,V.fillStyle=N.fillColor}V.globalCompositeOperation="destination-out",V.strokeStyle="white",V.lineWidth=N.separatorWidth,pt=(ot=Math.PI/2)+Fe;for(var Ht=0;Ht<G.length;Ht++){var ut=Ne*Math.cos(ot),Zt=Ne*Math.sin(ot);V.beginPath(),V.moveTo(Ne+N.activePadding,Ne+N.activePadding),V.lineTo(Ne+N.activePadding+ut,Ne+N.activePadding-Zt),V.closePath(),V.stroke(),ot+=Fe,pt+=Fe}V.fillStyle="white",V.globalCompositeOperation="destination-out",V.beginPath(),V.arc(Ne+N.activePadding,Ne+N.activePadding,ye+N.spotlightPadding,0,2*Math.PI,!0),V.closePath(),V.fill(),V.globalCompositeOperation="source-over"}function je(Ne,ye,Fe,ot,pt){var ft=2*Math.PI/G.length,bt=Math.PI/2,Ht=bt+ft;bt+=ft*ae,Ht+=ft*ae,V.fillStyle=N.activeFillColor,V.strokeStyle="black",V.lineWidth=1,V.beginPath(),V.moveTo(Fe+N.activePadding,Fe+N.activePadding),V.arc(Fe+N.activePadding,Fe+N.activePadding,Fe+N.activePadding,2*Math.PI-bt,2*Math.PI-Ht,!0),V.closePath(),V.fill(),V.fillStyle="white",V.globalCompositeOperation="destination-out";var ut=Fe+N.activePadding+Ne/Fe*(pt+N.spotlightPadding-N.indicatorSize/4),Zt=Fe+N.activePadding+ye/Fe*(pt+N.spotlightPadding-N.indicatorSize/4),Ft=Math.PI/4-ot;V.translate(ut,Zt),V.rotate(Ft);var Vn=N.indicatorSize>pt+N.spotlightPadding?pt+N.spotlightPadding:N.indicatorSize;V.beginPath(),V.fillRect(-Vn/2,-Vn/2,Vn,Vn),V.closePath(),V.fill(),V.rotate(-Ft),V.translate(-ut,-Zt),V.beginPath(),V.arc(Fe+N.activePadding,Fe+N.activePadding,pt+N.spotlightPadding,0,2*Math.PI,!0),V.closePath(),V.fill(),V.globalCompositeOperation="source-over"}function Ve(){var Ne=S(),ye=q,Fe=q;te.width=ye*Ne,te.height=Fe*Ne,te.style.width=ye+"px",te.style.height=Fe+"px",V.setTransform(1,0,0,1,0,0),V.scale(Ne,Ne)}J.insertBefore(X,J.firstChild),X.appendChild(ie),ie.appendChild(te),b(X,{position:"absolute",zIndex:N.zIndex,userSelect:"none",pointerEvents:"none"}),["mousedown","mousemove","mouseup","contextmenu"].forEach(function(Ne){X.addEventListener(Ne,function(ye){return ye.preventDefault(),!1})}),b(ie,{display:"none",width:q+"px",height:q+"px",position:"absolute",zIndex:1,marginLeft:-N.activePadding+"px",marginTop:-N.activePadding+"px",userSelect:"none"}),te.width=q,te.height=q;var _e=!0,Ce={},ge=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Ne){return setTimeout(Ne,16)};Ve(),function Ne(){Ce.drawBg&&we.apply(null,Ce.drawBg),Ce.drawCommands&&je.apply(null,Ce.drawCommands),Ce={},_e&&ge(Ne)}();var Xe=void 0,Me=void 0,et=void 0,Tt={on:function(ye,Fe,ot){var pt=ot;return"core"===Fe&&(pt=function(bt){if(bt.cyTarget===B||bt.target===B)return ot.apply(this,[bt])}),Z.handlers.push({events:ye,selector:Fe,fn:pt}),"core"===Fe?B.on(ye,pt):B.on(ye,Fe,pt),this}};function Ue(){_e=!1,function Le(){for(var Ne=Z.handlers,ye=0;ye<Ne.length;ye++){var Fe=Ne[ye];"core"===Fe.selector?B.off(Fe.events,Fe.fn):B.off(Fe.events,Fe.selector,Fe.fn)}window.removeEventListener("resize",Ve)}(),X.remove()}return function Be(){var Fe,Ne=void 0,ye=!1,ot=void 0,pt=void 0,ft=void 0,bt=void 0,Ht=void 0,ir=function(){Ne&&U.grabify(),ot&&B.userZoomingEnabled(!0),pt&&B.userPanningEnabled(!0),ft&&B.boxSelectionEnabled(!0)};window.addEventListener("resize",Ve),Tt.on("resize",function(){Ve()}).on(N.openMenuEvents,N.selector,function(Cr){U=this;var Wr=this,Or=this===B;if(ye&&(ie.style.display="none",ye=!1,ir()),"function"==typeof N.commands){var Rr=N.commands(U);Rr.then?Rr.then(function(Li){G=Li,Fi()}):(G=Rr,Fi())}else G=N.commands,Fi();function Fi(){if(G&&0!==G.length){ot=B.userZoomingEnabled(),B.userZoomingEnabled(!1),pt=B.userPanningEnabled(),B.userPanningEnabled(!1),ft=B.boxSelectionEnabled(),B.boxSelectionEnabled(!1),(Ne=U.grabbable&&U.grabbable())&&U.ungrabify();var Li=void 0,nn=void 0,Pn=void 0;!Or&&Wr&&Wr.isNode instanceof Function&&Wr.isNode()&&!Wr.isParent()&&!N.atMouse?(Li=Wr.renderedPosition(),nn=Wr.renderedOuterWidth(),Wr.renderedOuterHeight(),Pn=nn/2,Pn=!N.adaptativeNodeSpotlightRadius&&N.minSpotlightRadius?Math.max(Pn,N.minSpotlightRadius):Pn,Pn=!N.adaptativeNodeSpotlightRadius&&N.maxSpotlightRadius?Math.min(Pn,N.maxSpotlightRadius):Pn):(Li=Cr.renderedPosition||Cr.cyRenderedPosition,Pn=(nn=1)/2,Pn=N.minSpotlightRadius?Math.max(Pn,N.minSpotlightRadius):Pn,Pn=N.maxSpotlightRadius?Math.min(Pn,N.maxSpotlightRadius):Pn),ue=P(J),Xe=Li.x,Me=Li.y,H=nn/2+(N.menuRadius instanceof Function?N.menuRadius(U):Number(N.menuRadius)),q=2*(H+N.activePadding),Ve(),b(ie,{width:q+"px",height:q+"px",display:"block",left:Li.x-H+"px",top:Li.y-H+"px"}),function se(Ne,ye){C(".cxtmenu-item",ie);for(var Fe=2*Math.PI/G.length,ot=Math.PI/2,pt=ot+Fe,ft=0;ft<G.length;ft++){var bt=G[ft],Ht=(ot+pt)/2,ut=(Ne+ye)/2*Math.cos(Ht),Zt=(Ne+ye)/2*Math.sin(Ht),Ft=1*Math.abs((Ne-ye)*Math.cos(Ht)),Vn=1*Math.abs((Ne-ye)*Math.sin(Ht));Ft=Math.max(Ft,Vn);var ir=k({class:"cxtmenu-item"});b(ir,{color:N.itemColor,cursor:"default",display:"table","text-align":"center",position:"absolute","text-shadow":"-1px -1px 2px "+N.itemTextShadowColor+", 1px -1px 2px "+N.itemTextShadowColor+", -1px 1px 2px "+N.itemTextShadowColor+", 1px 1px 1px "+N.itemTextShadowColor,left:"50%",top:"50%","min-height":Ft+"px",width:Ft+"px",height:Ft+"px",marginLeft:ut-Ft/2+"px",marginTop:-Zt-Ft/2+"px"});var Cr=k({class:"cxtmenu-content"});bt.content instanceof HTMLElement?Cr.appendChild(bt.content):Cr.innerHTML=bt.content,b(Cr,{width:Ft+"px",height:Ft+"px","vertical-align":"middle",display:"table-cell"}),b(Cr,bt.contentStyle||{}),(!0===bt.disabled||!1===bt.enabled)&&Cr.setAttribute("class","cxtmenu-content cxtmenu-disabled"),ie.appendChild(ir),ir.appendChild(Cr),ot+=Fe,pt+=Fe}}(H,Pn),de(H,Pn),ae=void 0,ye=!0,bt=Cr}}}).on("cxtdrag tapdrag",N.selector,Fe=function(Wr){if(ye){Wr.preventDefault();var Or=Wr.originalEvent,Rr=Or.touches&&Or.touches.length>0,Fi=(Rr?Or.touches[0].pageX:Or.pageX)-window.pageXOffset,Li=(Rr?Or.touches[0].pageY:Or.pageY)-window.pageYOffset;ae=void 0;var nn=Fi-ue.left-Xe,oo=Li-ue.top-Me;0===nn&&(nn=.01);var Pn=Math.sqrt(nn*nn+oo*oo),Ao=Math.acos((oo*oo-Pn*Pn-nn*nn)/(-2*Pn*nn)),Ys=void 0;if(U&&U.isNode instanceof Function&&U.isNode()&&!U.isParent()&&!N.atMouse?(Ys=U.renderedOuterWidth(),et=Ys/2,et=!N.adaptativeNodeSpotlightRadius&&N.minSpotlightRadius?Math.max(et,N.minSpotlightRadius):et,et=!N.adaptativeNodeSpotlightRadius&&N.maxSpotlightRadius?Math.min(et,N.maxSpotlightRadius):et):(et=(Ys=1)/2,et=N.minSpotlightRadius?Math.max(et,N.minSpotlightRadius):et,et=N.maxSpotlightRadius?Math.min(et,N.maxSpotlightRadius):et),H=Ys/2+(N.menuRadius instanceof Function?N.menuRadius(U):Number(N.menuRadius)),Pn<et+N.spotlightPadding||"number"==typeof N.outsideMenuCancel&&Pn>H+N.activePadding+N.outsideMenuCancel)return void de(H,et);de(H,et);var ya=nn*H/Pn,Io=oo*H/Pn;oo>0&&(Ao=Math.PI+Math.abs(Ao-Math.PI));for(var vo=2*Math.PI/G.length,Xs=Math.PI/2,Ua=Xs+vo,yc=0;yc<G.length;yc++){var wl=G[yc],Gi=Xs<=Ao&&Ao<=Ua||Xs<=Ao+2*Math.PI&&Ao+2*Math.PI<=Ua;if((!0===wl.disabled||!1===wl.enabled)&&(Gi=!1),Gi){ae=yc;break}Xs+=vo,Ua+=vo}!function fe(Ne,ye,Fe,ot,pt){Ce.drawCommands=[Ne,ye,Fe,ot,pt]}(ya,Io,H,Ao,et)}}).on("tapdrag",Fe).on("mousemove",function(){if(void 0!==ae){var Cr=G[ae].hover;Cr&&(Ht!==ae&&Cr.apply(U,[U,bt]),Ht=ae)}}).on("cxttapend tapend",function(){if(ie.style.display="none",void 0!==ae){var Cr=G[ae].select;Cr&&(Cr.apply(U,[U,bt]),ae=void 0)}Ht=void 0,ye=!1,ir()})}(),{destroy:function(){Ue()}}}},function(ee,v,_){"use strict";ee.exports=null!=Object.assign?Object.assign.bind(Object):function(T){for(var x=arguments.length,E=Array(x>1?x-1:0),C=1;C<x;C++)E[C-1]=arguments[C];return E.filter(function(b){return null!=b}).forEach(function(b){Object.keys(b).forEach(function(k){return T[k]=b[k]})}),T}},function(ee,v,_){"use strict";ee.exports={menuRadius:function(E){return 100},selector:"node",commands:[],fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(1, 105, 217, 0.75)",activePadding:20,indicatorSize:24,separatorWidth:3,spotlightPadding:4,adaptativeNodeSpotlightRadius:!1,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,atMouse:!1,outsideMenuCancel:!1}},function(ee,v,_){"use strict";var x=function(S,P){for(var R=Object.keys(P),A=0,F=R.length;A<F;A++)S.style[R[A]]=P[R[A]]};ee.exports={removeEles:function(S){for(var R=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(S),A=0;A<R.length;A++){var F=R[A];F.parentNode.removeChild(F)}},setStyles:x,createElement:function(S){S=S||{};var P=document.createElement(S.tag||"div");return P.className=S.class||"",S.style&&x(P,S.style),P},getPixelRatio:function(){return window.devicePixelRatio||1},getOffset:function(S){var P=S.getBoundingClientRect();return{left:P.left+document.body.scrollLeft+parseFloat(getComputedStyle(document.body)["padding-left"])+parseFloat(getComputedStyle(document.body)["border-left-width"]),top:P.top+document.body.scrollTop+parseFloat(getComputedStyle(document.body)["padding-top"])+parseFloat(getComputedStyle(document.body)["border-top-width"])}}}},function(ee,v,_){"use strict";var T=_(0),x=function(C){C&&C("core","cxtmenu",T)};typeof cytoscape<"u"&&x(cytoscape),ee.exports=x}])},1936:function(j,ee,v){var _;j.exports=(_=v(9695),function(T){var x={};function E(C){if(x[C])return x[C].exports;var b=x[C]={i:C,l:!1,exports:{}};return T[C].call(b.exports,b,b.exports,E),b.l=!0,b.exports}return E.m=T,E.c=x,E.d=function(C,b,k){E.o(C,b)||Object.defineProperty(C,b,{enumerable:!0,get:k})},E.r=function(C){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},E.t=function(C,b){if(1&b&&(C=E(C)),8&b||4&b&&"object"==typeof C&&C&&C.__esModule)return C;var k=Object.create(null);if(E.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:C}),2&b&&"string"!=typeof C)for(var S in C)E.d(k,S,function(P){return C[P]}.bind(null,S));return k},E.n=function(C){var b=C&&C.__esModule?function(){return C.default}:function(){return C};return E.d(b,"a",b),b},E.o=function(C,b){return Object.prototype.hasOwnProperty.call(C,b)},E.p="",E(E.s=0)}([function(T,x,E){var C=E(1),b=function(S){S&&S("layout","dagre",C)};typeof cytoscape<"u"&&b(cytoscape),T.exports=b},function(T,x,E){function C(A){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(A)}var b=function(F){return"function"==typeof F},k=E(2),S=E(3),P=E(4);function R(A){this.options=S({},k,A)}R.prototype.run=function(){var A=this.options,N=A.cy,B=A.eles,J=function(qe,Xe){return b(Xe)?Xe.apply(qe,[qe]):Xe},U=A.boundingBox||{x1:0,y1:0,w:N.width(),h:N.height()};void 0===U.x2&&(U.x2=U.x1+U.w),void 0===U.w&&(U.w=U.x2-U.x1),void 0===U.y2&&(U.y2=U.y1+U.h),void 0===U.h&&(U.h=U.y2-U.y1);var Z=new P.graphlib.Graph({multigraph:!0,compound:!0}),X={},ie=function(qe,Xe){null!=Xe&&(X[qe]=Xe)};ie("nodesep",A.nodeSep),ie("edgesep",A.edgeSep),ie("ranksep",A.rankSep),ie("rankdir",A.rankDir),ie("align",A.align),ie("ranker",A.ranker),ie("acyclicer",A.acyclicer),Z.setGraph(X),Z.setDefaultEdgeLabel(function(){return{}}),Z.setDefaultNodeLabel(function(){return{}});var te=B.nodes();b(A.sort)&&(te=te.sort(A.sort));for(var G=0;G<te.length;G++){var V=te[G],H=V.layoutDimensions(A);Z.setNode(V.id(),{width:H.w,height:H.h,name:V.id()})}for(var q=0;q<te.length;q++){var ae=te[q];ae.isChild()&&Z.setParent(ae.id(),ae.parent().id())}var _e,ue=B.edges().stdFilter(function(ge){return!ge.source().isParent()&&!ge.target().isParent()});b(A.sort)&&(ue=ue.sort(A.sort));for(var se=0;se<ue.length;se++){var de=ue[se];Z.setEdge(de.source().id(),de.target().id(),{minlen:J(de,A.minLen),weight:J(de,A.edgeWeight),name:de.id()},de.id())}P.layout(Z);for(var we=Z.nodes(),fe=0;fe<we.length;fe++){var je=we[fe],Ve=Z.node(je);N.getElementById(je).scratch().dagre=Ve}A.boundingBox?(_e={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},te.forEach(function(ge){var qe=ge.scratch().dagre;_e.x1=Math.min(_e.x1,qe.x),_e.x2=Math.max(_e.x2,qe.x),_e.y1=Math.min(_e.y1,qe.y),_e.y2=Math.max(_e.y2,qe.y)}),_e.w=_e.x2-_e.x1,_e.h=_e.y2-_e.y1):_e=U;return te.layoutPositions(this,A,function(ge){var qe=(ge="object"===C(ge)?ge:this).scratch().dagre;return function(qe){return A.boundingBox?{x:U.x1+(0===_e.w?0:(qe.x-_e.x1)/_e.w)*U.w,y:U.y1+(0===_e.h?0:(qe.y-_e.y1)/_e.h)*U.h}:qe}({x:qe.x,y:qe.y})}),this},T.exports=R},function(T,x){T.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(b){return 1},edgeWeight:function(b){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(b,k){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(b,k){return k},ready:function(){},sort:void 0,stop:function(){}}},function(T,x){T.exports=null!=Object.assign?Object.assign.bind(Object):function(E){for(var C=arguments.length,b=new Array(C>1?C-1:0),k=1;k<C;k++)b[k-1]=arguments[k];return b.forEach(function(S){Object.keys(S).forEach(function(P){return E[P]=S[P]})}),E}},function(T,x){T.exports=_}]))},3811:function(j,ee,v){var _;j.exports=(_=v(7352),function(T){var x={};function E(C){if(x[C])return x[C].exports;var b=x[C]={i:C,l:!1,exports:{}};return T[C].call(b.exports,b,b.exports,E),b.l=!0,b.exports}return E.m=T,E.c=x,E.i=function(C){return C},E.d=function(C,b,k){E.o(C,b)||Object.defineProperty(C,b,{configurable:!1,enumerable:!0,get:k})},E.n=function(C){var b=C&&C.__esModule?function(){return C.default}:function(){return C};return E.d(b,"a",b),b},E.o=function(C,b){return Object.prototype.hasOwnProperty.call(C,b)},E.p="",E(E.s=7)}([function(T,x,E){"use strict";T.exports=null!=Object.assign?Object.assign.bind(Object):function(C){for(var b=arguments.length,k=Array(b>1?b-1:0),S=1;S<b;S++)k[S-1]=arguments[S];return k.forEach(function(P){null!=P&&Object.keys(P).forEach(function(R){return C[R]=P[R]})}),C}},function(T,x,E){"use strict";var b=E(5).getBoundingBox;T.exports={getRef:function k(S,P){return{getBoundingClientRect:function(){return b(S,P)}}}}},function(T,x,E){"use strict";var C=E(0),k=E(1).getRef,P=E(6).getContent,R={},F=E(8).createPopper;T.exports={getPopper:function N(B,J){var U=k(B,J),Z=P(B,J.content),X=C({},R,J.popper);return F(U,Z,X)}}},function(T,x,E){"use strict";var C=E(0),k=E(2).getPopper,P=E(1).getRef;function F(U,Z){var X=function(q){return q.isNode()?{w:q.renderedWidth(),h:q.renderedHeight()}:{w:3,h:3}},G=U.cy();return C({},{renderedDimensions:X,renderedPosition:function(q){return q.isNode()?function N(U,Z){var X=U.renderedPosition(),ie=Z(U);return{x:X.x-ie.w/2,y:X.y-ie.h/2}}(q,X):function B(U){var Z=U.midpoint(),X=U.cy().pan(),ie=U.cy().zoom();return{x:Z.x*ie+X.x,y:Z.y*ie+X.y}}(q)},popper:{},cy:G},Z)}function J(U){U.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}T.exports={popper:function R(U){return J(this),k(this[0],F(this[0],U))},popperRef:function A(U){return J(this),P(this[0],F(this[0],U))}}},function(T,x,E){"use strict";var C=E(0),k=E(2).getPopper,P=E(1).getRef;function F(N,B){return C({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:N},B)}T.exports={popper:function R(N){return k(this,F(this,N))},popperRef:function A(N){return P(this,F(this,N))}}},function(T,x,E){"use strict";T.exports={getBoundingBox:function C(b,k){var S=k.renderedPosition,R=k.renderedDimensions,A=k.cy.container().getBoundingClientRect(),F=R(b),N=S(b);return{top:N.y+A.top,left:N.x+A.left,right:N.x+F.w+A.left,bottom:N.y+F.h+A.top,width:F.w,height:F.h}}}},function(T,x,E){"use strict";T.exports={getContent:function C(b,k){var S;if("function"!=typeof k){if(k instanceof HTMLElement)return k;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(S=k(b)))throw new Error("No 'target' specified to create popper");return S}}},function(T,x,E){"use strict";var C=E(4),b=E(3),k=function(P){P&&(P("core","popper",C.popper),P("collection","popper",b.popper),P("core","popperRef",C.popperRef),P("collection","popperRef",b.popperRef))};typeof cytoscape<"u"&&k(cytoscape),T.exports=k},function(T,x){T.exports=_}]))},6977:j=>{window,j.exports=function(ee){var v={};function _(T){if(v[T])return v[T].exports;var x=v[T]={i:T,l:!1,exports:{}};return ee[T].call(x.exports,x,x.exports,_),x.l=!0,x.exports}return _.m=ee,_.c=v,_.d=function(T,x,E){_.o(T,x)||Object.defineProperty(T,x,{enumerable:!0,get:E})},_.r=function(T){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(T,"__esModule",{value:!0})},_.t=function(T,x){if(1&x&&(T=_(T)),8&x||4&x&&"object"==typeof T&&T&&T.__esModule)return T;var E=Object.create(null);if(_.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:T}),2&x&&"string"!=typeof T)for(var C in T)_.d(E,C,function(b){return T[b]}.bind(null,C));return E},_.n=function(T){var x=T&&T.__esModule?function(){return T.default}:function(){return T};return _.d(x,"a",x),x},_.o=function(T,x){return Object.prototype.hasOwnProperty.call(T,x)},_.p="",_(_.s=0)}([function(ee,v,_){"use strict";var T=_(1),x=function(E){E&&E("core","svg",T.svg)};typeof cytoscape<"u"&&x(cytoscape),ee.exports=x},function(ee,v,_){"use strict";var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},x=_(2),E={},C_number=function(b){return null!=b&&(void 0===b?"undefined":T(b))===T(1)&&!isNaN(b)};E.bufferCanvasImage=function(b,k){var S=k.renderer().usePaths;k.renderer().usePaths=function(){return!1},k.elements().forEach(function(q){q._private.rscratch.pathCacheKey=null,q._private.rscratch.pathCache=null});var P=k.renderer(),R=k.mutableElements().boundingBox(),A=P.findContainerClientCoords(),F=b.full?Math.ceil(R.w):A[2],N=b.full?Math.ceil(R.h):A[3],B=C_number(b.maxWidth)||C_number(b.maxHeight),J=P.getPixelRatio(),U=1;if(void 0!==b.scale)F*=b.scale,N*=b.scale,U=b.scale;else if(B){var Z=1/0,X=1/0;C_number(b.maxWidth)&&(Z=U*b.maxWidth/F),C_number(b.maxHeight)&&(X=U*b.maxHeight/N),F*=U=Math.min(Z,X),N*=U}B||(F*=J,N*=J,U*=J);var ie=null,te=ie=new x(F,N);if(F>0&&N>0){ie.clearRect(0,0,F,N),b.bg&&(ie.globalCompositeOperation="destination-over",ie.fillStyle=b.bg,ie.fillRect(0,0,F,N)),ie.globalCompositeOperation="source-over";var G=P.getCachedZSortedEles();if(b.full)ie.translate(-R.x1*U,-R.y1*U),ie.scale(U,U),P.drawElements(ie,G),ie.scale(1/U,1/U),ie.translate(R.x1*U,R.y1*U);else{var V=k.pan(),H={x:V.x*U,y:V.y*U};U*=k.zoom(),ie.translate(H.x,H.y),ie.scale(U,U),P.drawElements(ie,G),ie.scale(1/U,1/U),ie.translate(-H.x,-H.y)}}return k.renderer().usePaths=S,te},E.svg=function(b){return E.bufferCanvasImage(b||{},this).getSerializedSvg()},ee.exports=E},function(ee,v,_){!function(){"use strict";var T,x,E,C,b;function k(A,F){var N,B=Object.keys(F);for(N=0;N<B.length;N++)A=A.replace(new RegExp("\\{"+B[N]+"\\}","gi"),F[B[N]]);return A}function S(A){var F,N,B;if(!A)throw new Error("cannot create a random attribute name for an undefined object");F="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",N="";do{for(N="",B=0;B<12;B++)N+=F[Math.floor(Math.random()*F.length)]}while(A[N]);return N}function P(A){var F={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return F[A]||F.alphabetic}b=function(A,F){var N,B,J,U={};for(A=A.split(","),F=F||10,N=0;N<A.length;N+=2)B="&"+A[N+1]+";",J=parseInt(A[N],F),U[B]="&#"+J+";";return U["\\xa0"]="&#160;",U}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),T={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(E=function(A,F){this.__root=A,this.__ctx=F}).prototype.addColorStop=function(A,F){var N,B=this.__ctx.__createElement("stop");B.setAttribute("offset",A),-1!==F.indexOf("rgba")?(N=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(F),B.setAttribute("stop-color",k("rgb({r},{g},{b})",{r:N[1],g:N[2],b:N[3]})),B.setAttribute("stop-opacity",N[4])):B.setAttribute("stop-color",F),this.__root.appendChild(B)},C=function(A,F){this.__root=A,this.__ctx=F},(x=function(A){var F,N={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((F=N).width=arguments[0],F.height=arguments[1]):F=A||N,!(this instanceof x))return new x(F);this.width=F.width||N.width,this.height=F.height||N.height,this.enableMirroring=void 0!==F.enableMirroring?F.enableMirroring:N.enableMirroring,this.canvas=this,this.__document=F.document||document,F.ctx?this.__ctx=F.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(A,F,N){void 0===F&&(F={});var B,J,U=this.__document.createElementNS("http://www.w3.org/2000/svg",A),Z=Object.keys(F);for(N&&(U.setAttribute("fill","none"),U.setAttribute("stroke","none")),B=0;B<Z.length;B++)U.setAttribute(J=Z[B],F[J]);return U},x.prototype.__setDefaultStyles=function(){var A,F,N=Object.keys(T);for(A=0;A<N.length;A++)this[F=N[A]]=T[F].canvas},x.prototype.__applyStyleState=function(A){if(A){var F,N,B=Object.keys(A);for(F=0;F<B.length;F++)this[N=B[F]]=A[N]}},x.prototype.__getStyleState=function(){var A,F,N={},B=Object.keys(T);for(A=0;A<B.length;A++)N[F=B[A]]=this[F];return N},x.prototype.__applyStyleToCurrentElement=function(A){var N,B,J,U,Z,F=this.__currentElement,X=Object.keys(T);for(N=0;N<X.length;N++)if(J=this[X[N]],(B=T[X[N]]).apply)if(J instanceof C){if(J.__ctx)for(;J.__ctx.__defs.childNodes.length;)U=J.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[U]=U,this.__defs.appendChild(J.__ctx.__defs.childNodes[0]);F.setAttribute(B.apply,k("url(#{id})",{id:J.__root.getAttribute("id")}))}else if(J instanceof E)F.setAttribute(B.apply,k("url(#{id})",{id:J.__root.getAttribute("id")}));else if(-1!==B.apply.indexOf(A)&&B.svg!==J)if("stroke"!==B.svgAttr&&"fill"!==B.svgAttr||-1===J.indexOf("rgba")){var ie=B.svgAttr;if("globalAlpha"===X[N]&&F.getAttribute(ie=A+"-"+B.svgAttr))continue;F.setAttribute(ie,J)}else{Z=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(J),F.setAttribute(B.svgAttr,k("rgb({r},{g},{b})",{r:Z[1],g:Z[2],b:Z[3]}));var te=Z[4],G=this.globalAlpha;null!=G&&(te*=G),F.setAttribute(B.svgAttr+"-opacity",te)}},x.prototype.__closestGroupOrSvg=function(A){return"g"===(A=A||this.__currentElement).nodeName||"svg"===A.nodeName?A:this.__closestGroupOrSvg(A.parentNode)},x.prototype.getSerializedSvg=function(A){var F,N,B,J,U,Z=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(Z)&&(Z=Z.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),A)for(F=Object.keys(b),N=0;N<F.length;N++)J=b[B=F[N]],(U=new RegExp(B,"gi")).test(Z)&&(Z=Z.replace(U,J));return Z},x.prototype.getSvg=function(){return this.__root},x.prototype.save=function(){var A=this.__createElement("g"),F=this.__closestGroupOrSvg();this.__groupStack.push(F),F.appendChild(A),this.__currentElement=A,this.__stack.push(this.__getStyleState())},x.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var A=this.__stack.pop();this.__applyStyleState(A)},x.prototype.__addTransform=function(A){var F=this.__closestGroupOrSvg();if(F.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:F,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var N=this.__createElement("g");F.appendChild(N),this.__currentElement=N}var B=this.__currentElement.getAttribute("transform");B?B+=" ":B="",this.__currentElement.setAttribute("transform",B+=A)},x.prototype.scale=function(A,F){void 0===F&&(F=A),this.__addTransform(k("scale({x},{y})",{x:A,y:F}))},x.prototype.rotate=function(A){var F=180*A/Math.PI;this.__addTransform(k("rotate({angle},{cx},{cy})",{angle:F,cx:0,cy:0}))},x.prototype.translate=function(A,F){this.__addTransform(k("translate({x},{y})",{x:A,y:F}))},x.prototype.transform=function(A,F,N,B,J,U){this.__addTransform(k("matrix({a},{b},{c},{d},{e},{f})",{a:A,b:F,c:N,d:B,e:J,f:U}))},x.prototype.beginPath=function(){var A;this.__currentDefaultPath="",this.__currentPosition={},A=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(A),this.__currentElement=A},x.prototype.__applyCurrentDefaultPath=function(){var A=this.__currentElement;"path"===A.nodeName?A.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",A.nodeName)},x.prototype.__addPathCommand=function(A){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=A},x.prototype.moveTo=function(A,F){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:A,y:F},this.__addPathCommand(k("M {x} {y}",{x:A,y:F}))},x.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},x.prototype.lineTo=function(A,F){this.__currentPosition={x:A,y:F},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(k("L {x} {y}",{x:A,y:F})):this.__addPathCommand(k("M {x} {y}",{x:A,y:F}))},x.prototype.bezierCurveTo=function(A,F,N,B,J,U){this.__currentPosition={x:J,y:U},this.__addPathCommand(k("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:A,cp1y:F,cp2x:N,cp2y:B,x:J,y:U}))},x.prototype.quadraticCurveTo=function(A,F,N,B){this.__currentPosition={x:N,y:B},this.__addPathCommand(k("Q {cpx} {cpy} {x} {y}",{cpx:A,cpy:F,x:N,y:B}))};var R=function(A){var F=Math.sqrt(A[0]*A[0]+A[1]*A[1]);return[A[0]/F,A[1]/F]};x.prototype.arcTo=function(A,F,N,B,J){var U=this.__currentPosition&&this.__currentPosition.x,Z=this.__currentPosition&&this.__currentPosition.y;if(void 0!==U&&void 0!==Z){if(J<0)throw new Error("IndexSizeError: The radius provided ("+J+") is negative.");if(U===A&&Z===F||A===N&&F===B||0===J)this.lineTo(A,F);else{var X=R([U-A,Z-F]),ie=R([N-A,B-F]);if(X[0]*ie[1]!=X[1]*ie[0]){var G=Math.acos(Math.abs(X[0]*ie[0]+X[1]*ie[1])),V=R([X[0]+ie[0],X[1]+ie[1]]),H=J/Math.sin(G/2),q=A+H*V[0],ae=F+H*V[1],ue=[-X[1],X[0]],se=[ie[1],-ie[0]],de=function(je){var Ve=je[0];return je[1]>=0?Math.acos(Ve):-Math.acos(Ve)},we=de(ue),fe=de(se);this.lineTo(q+ue[0]*J,ae+ue[1]*J),this.arc(q,ae,J,we,fe)}else this.lineTo(A,F)}}},x.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},x.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},x.prototype.rect=function(A,F,N,B){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(A,F),this.lineTo(A+N,F),this.lineTo(A+N,F+B),this.lineTo(A,F+B),this.lineTo(A,F),this.closePath()},x.prototype.fillRect=function(A,F,N,B){var J;J=this.__createElement("rect",{x:A,y:F,width:N,height:B},!0),this.__closestGroupOrSvg().appendChild(J),this.__currentElement=J,this.__applyStyleToCurrentElement("fill")},x.prototype.strokeRect=function(A,F,N,B){var J;J=this.__createElement("rect",{x:A,y:F,width:N,height:B},!0),this.__closestGroupOrSvg().appendChild(J),this.__currentElement=J,this.__applyStyleToCurrentElement("stroke")},x.prototype.__clearCanvas=function(){for(var A=this.__closestGroupOrSvg().getAttribute("transform"),F=this.__root.childNodes[1],N=F.childNodes,B=N.length-1;B>=0;B--)N[B]&&F.removeChild(N[B]);this.__currentElement=F,this.__groupStack=[],A&&this.__addTransform(A)},x.prototype.clearRect=function(A,F,N,B){if(0!==A||0!==F||N!==this.width||B!==this.height){var J,U=this.__closestGroupOrSvg();J=this.__createElement("rect",{x:A,y:F,width:N,height:B,fill:"#FFFFFF"},!0),U.appendChild(J)}else this.__clearCanvas()},x.prototype.createLinearGradient=function(A,F,N,B){var J=this.__createElement("linearGradient",{id:S(this.__ids),x1:A+"px",x2:N+"px",y1:F+"px",y2:B+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(J),new E(J,this)},x.prototype.createRadialGradient=function(A,F,N,B,J,U){var Z=this.__createElement("radialGradient",{id:S(this.__ids),cx:B+"px",cy:J+"px",r:U+"px",fx:A+"px",fy:F+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(Z),new E(Z,this)},x.prototype.__parseFont=function(){var A=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),F={style:A[1]||"normal",size:A[4]||"10px",family:A[6]||"sans-serif",weight:A[3]||"normal",decoration:A[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(F.decoration="underline"),this.__fontHref&&(F.href=this.__fontHref),F},x.prototype.__wrapTextLink=function(A,F){if(A.href){var N=this.__createElement("a");return N.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",A.href),N.appendChild(F),N}return F},x.prototype.__applyText=function(A,F,N,B){var J,U,Z=this.__parseFont(),X=this.__closestGroupOrSvg(),ie=this.__createElement("text",{"font-family":Z.family,"font-size":Z.size,"font-style":Z.style,"font-weight":Z.weight,"text-decoration":Z.decoration,x:F,y:N,"text-anchor":(J=this.textAlign,U={left:"start",right:"end",center:"middle",start:"start",end:"end"},U[J]||U.start),"dominant-baseline":P(this.textBaseline)},!0);ie.appendChild(this.__document.createTextNode(A)),this.__currentElement=ie,this.__applyStyleToCurrentElement(B),X.appendChild(this.__wrapTextLink(Z,ie))},x.prototype.fillText=function(A,F,N){this.__applyText(A,F,N,"fill")},x.prototype.strokeText=function(A,F,N){this.__applyText(A,F,N,"stroke")},x.prototype.measureText=function(A){return this.__ctx.font=this.font,this.__ctx.measureText(A)},x.prototype.arc=function(A,F,N,B,J,U){if(B!==J){(B%=2*Math.PI)==(J%=2*Math.PI)&&(J=(J+2*Math.PI-.001*(U?-1:1))%(2*Math.PI));var V,Z=A+N*Math.cos(J),X=F+N*Math.sin(J),ie=A+N*Math.cos(B),te=F+N*Math.sin(B),G=U?0:1,H=J-B;H<0&&(H+=2*Math.PI),V=U?H>Math.PI?0:1:H>Math.PI?1:0,this.lineTo(ie,te),this.__addPathCommand(k("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:N,ry:N,xAxisRotation:0,largeArcFlag:V,sweepFlag:G,endX:Z,endY:X})),this.__currentPosition={x:Z,y:X}}},x.prototype.clip=function(){var A=this.__closestGroupOrSvg(),F=this.__createElement("clipPath"),N=S(this.__ids),B=this.__createElement("g");this.__applyCurrentDefaultPath(),A.removeChild(this.__currentElement),F.setAttribute("id",N),F.appendChild(this.__currentElement),this.__defs.appendChild(F),A.setAttribute("clip-path",k("url(#{id})",{id:N})),A.appendChild(B),this.__currentElement=B},x.prototype.drawImage=function(){var A,F,N,B,J,U,Z,X,ie,te,G,V,H,q=Array.prototype.slice.call(arguments),ae=q[0],ue=0,se=0;if(3===q.length)A=q[1],F=q[2],N=J=ae.width,B=U=ae.height;else if(5===q.length)A=q[1],F=q[2],N=q[3],B=q[4],J=ae.width,U=ae.height;else{if(9!==q.length)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);ue=q[1],se=q[2],J=q[3],U=q[4],A=q[5],F=q[6],N=q[7],B=q[8]}Z=this.__closestGroupOrSvg();var de="translate("+A+", "+F+")";if(ae instanceof x){if((X=ae.getSvg().cloneNode(!0)).childNodes&&X.childNodes.length>1){for(ie=X.childNodes[0];ie.childNodes.length;)H=ie.childNodes[0].getAttribute("id"),this.__ids[H]=H,this.__defs.appendChild(ie.childNodes[0]);if(te=X.childNodes[1]){var fe=te.getAttribute("transform");te.setAttribute("transform",fe?fe+" "+de:de),Z.appendChild(te)}}}else"CANVAS"!==ae.nodeName&&"IMG"!==ae.nodeName||((G=this.__createElement("image")).setAttribute("width",N),G.setAttribute("height",B),G.setAttribute("opacity",this.globalAlpha),G.setAttribute("preserveAspectRatio","none"),(V=this.__document.createElement("canvas")).width=N,V.height=B,V.getContext("2d").drawImage(ae,ue,se,J,U,0,0,N,B),ae=V,G.setAttribute("transform",de),G.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===ae.nodeName?ae.toDataURL():ae.getAttribute("src")),Z.appendChild(G))},x.prototype.createPattern=function(A,F){var N,B=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),J=S(this.__ids);return B.setAttribute("id",J),B.setAttribute("width",A.width),B.setAttribute("height",A.height),"CANVAS"===A.nodeName||"IMG"===A.nodeName?((N=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",A.width),N.setAttribute("height",A.height),N.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===A.nodeName?A.toDataURL():A.getAttribute("src")),B.appendChild(N),this.__defs.appendChild(B)):A instanceof x&&(B.appendChild(A.__root.childNodes[1]),this.__defs.appendChild(B)),new C(B,this)},x.prototype.setLineDash=function(A){this.lineDash=A&&A.length>0?A.join(","):null},x.prototype.drawFocusRing=function(){},x.prototype.createImageData=function(){},x.prototype.getImageData=function(){},x.prototype.putImageData=function(){},x.prototype.globalCompositeOperation=function(){},x.prototype.setTransform=function(){},"object"==typeof window&&(window.C2S=x),"object"==typeof ee.exports&&(ee.exports=x)}()}])},6864:(j,ee,v)=>{"use strict";var _=v(406),T=v(5203),x=v(8817),E=v(4793),C=v(4152);function b(u){return u&&"object"==typeof u&&"default"in u?u:{default:u}}var k=b(_),S=b(T),P=b(x),R=b(E),A=b(C);function F(u){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}function N(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function B(u,s){for(var l=0;l<s.length;l++){var d=s[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}function J(u,s,l){return s&&B(u.prototype,s),l&&B(u,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function U(u,s,l){return s in u?Object.defineProperty(u,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[s]=l,u}function Z(u,s){return function X(u){if(Array.isArray(u))return u}(u)||function ie(u,s){var l=null==u?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(null!=l){var m,w,d=[],f=!0,p=!1;try{for(l=l.call(u);!(f=(m=l.next()).done)&&(d.push(m.value),!s||d.length!==s);f=!0);}catch(M){p=!0,w=M}finally{try{!f&&null!=l.return&&l.return()}finally{if(p)throw w}}return d}}(u,s)||function te(u,s){if(u){if("string"==typeof u)return G(u,s);var l=Object.prototype.toString.call(u).slice(8,-1);if("Object"===l&&u.constructor&&(l=u.constructor.name),"Map"===l||"Set"===l)return Array.from(u);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return G(u,s)}}(u,s)||function V(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(u,s){(null==s||s>u.length)&&(s=u.length);for(var l=0,d=new Array(s);l<s;l++)d[l]=u[l];return d}var H=typeof window>"u"?null:window,q=H?H.navigator:null,ae=F(""),ue=F({}),se=F(function(){}),de=typeof HTMLElement>"u"?"undefined":F(HTMLElement),we=function(s){return s&&s.instanceString&&je(s.instanceString)?s.instanceString():null},fe=function(s){return null!=s&&F(s)==ae},je=function(s){return null!=s&&F(s)===se},Ve=function(s){return!Me(s)&&(Array.isArray?Array.isArray(s):null!=s&&s instanceof Array)},_e=function(s){return null!=s&&F(s)===ue&&!Ve(s)&&s.constructor===Object},ge=function(s){return null!=s&&F(s)===F(1)&&!isNaN(s)},Xe=function(s){if("undefined"!==de)return null!=s&&s instanceof HTMLElement},Me=function(s){return et(s)||Tt(s)},et=function(s){return"collection"===we(s)&&s._private.single},Tt=function(s){return"collection"===we(s)&&!s._private.single},Be=function(s){return"core"===we(s)},Le=function(s){return"stylesheet"===we(s)},Ne=function(s){return null==s||!(""!==s&&!s.match(/^\s+$/))},ot=function(s){return function(s){return null!=s&&F(s)===ue}(s)&&je(s.then)},pt=function(){return q&&q.userAgent.match(/msie|trident|edge/i)},ft=function(s,l){l||(l=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],m=0;m<arguments.length;m++)p.push(arguments[m]);return p.join("$")});var d=function f(){var w,m=arguments,M=l.apply(this,m),D=f.cache;return(w=D[M])||(w=D[M]=s.apply(this,m)),w};return d.cache={},d},bt=ft(function(u){return u.replace(/([A-Z])/g,function(s){return"-"+s.toLowerCase()})}),Ht=ft(function(u){return u.replace(/(-\w)/g,function(s){return s[1].toUpperCase()})}),ut=ft(function(u,s){return u+s[0].toUpperCase()+s.substring(1)},function(u,s){return u+"$"+s}),Zt=function(s){return Ne(s)?s:s.charAt(0).toUpperCase()+s.substring(1)},Ft="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Vn="rgb[a]?\\(("+Ft+"[%]?)\\s*,\\s*("+Ft+"[%]?)\\s*,\\s*("+Ft+"[%]?)(?:\\s*,\\s*("+Ft+"))?\\)",ir="rgb[a]?\\((?:"+Ft+"[%]?)\\s*,\\s*(?:"+Ft+"[%]?)\\s*,\\s*(?:"+Ft+"[%]?)(?:\\s*,\\s*(?:"+Ft+"))?\\)",Cr="hsl[a]?\\(("+Ft+")\\s*,\\s*("+Ft+"[%])\\s*,\\s*("+Ft+"[%])(?:\\s*,\\s*("+Ft+"))?\\)",Wr="hsl[a]?\\((?:"+Ft+")\\s*,\\s*(?:"+Ft+"[%])\\s*,\\s*(?:"+Ft+"[%])(?:\\s*,\\s*(?:"+Ft+"))?\\)",Fi=function(s,l){return s<l?-1:s>l?1:0},nn=null!=Object.assign?Object.assign.bind(Object):function(u){for(var s=arguments,l=1;l<s.length;l++){var d=s[l];if(null!=d)for(var f=Object.keys(d),p=0;p<f.length;p++){var m=f[p];u[m]=d[m]}}return u},ya={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Io=function(s){for(var l=s.map,d=s.keys,f=d.length,p=0;p<f;p++){var m=d[p];if(_e(m))throw Error("Tried to set map with object key");p<d.length-1?(null==l[m]&&(l[m]={}),l=l[m]):l[m]=s.value}},vo=function(s){for(var l=s.map,d=s.keys,f=d.length,p=0;p<f;p++){var m=d[p];if(_e(m))throw Error("Tried to get map with object key");if(null==(l=l[m]))return l}return l},Xs=H?H.performance:null,Ua=Xs&&Xs.now?function(){return Xs.now()}:function(){return Date.now()},yc=function(){if(H){if(H.requestAnimationFrame)return function(u){H.requestAnimationFrame(u)};if(H.mozRequestAnimationFrame)return function(u){H.mozRequestAnimationFrame(u)};if(H.webkitRequestAnimationFrame)return function(u){H.webkitRequestAnimationFrame(u)};if(H.msRequestAnimationFrame)return function(u){H.msRequestAnimationFrame(u)}}return function(u){u&&setTimeout(function(){u(Ua())},1e3/60)}}(),wl=function(s){return yc(s)},Gi=Ua,ba=9261,Ga=65599,_a=5381,fd=function(s){for(var f,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba;!(f=s.next()).done;)d=d*Ga+f.value|0;return d},El=function(s){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba)*Ga+s|0},Cl=function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_a;return(l<<5)+l+s|0},ks=function(s){return 2097152*s[0]+s[1]},Ms=function(s,l){return[El(s[0],l[0]),Cl(s[1],l[1])]},$a=function(s,l){var d={value:0,done:!1},f=0,p=s.length;return fd({next:function(){return f<p?d.value=s.charCodeAt(f++):d.done=!0,d}},l)},$h=function(){return Wh(arguments)},Wh=function(s){for(var l,d=0;d<s.length;d++){var f=s[d];l=0===d?$a(f):$a(f,l)}return l},pd=!0,md=null!=console.warn,Yp=null!=console.trace,ru=Number.MAX_SAFE_INTEGER||9007199254740991,Ts=function(){return!0},iu=function(){return!1},Wa=function(){return 0},ou=function(){},Br=function(s){throw new Error(s)},Xp=function(s){if(void 0===s)return pd;pd=!!s},Dr=function(s){Xp()&&(md?console.warn(s):(console.log(s),Yp&&console.trace()))},Yo=function(s){return null==s?s:Ve(s)?s.slice():_e(s)?function(s){return nn({},s)}(s):s},Dl=function(s,l){for(l=s="";s++<36;l+=51*s&52?(15^s?8^Math.random()*(20^s?16:4):4).toString(16):"-");return l},Kp={},vd=function(){return Kp},Ii=function(s){var l=Object.keys(s);return function(d){for(var f={},p=0;p<l.length;p++){var m=l[p],w=d?.[m];f[m]=void 0===w?s[m]:w}return f}},xa=function(s,l,d){for(var f=s.length-1;f>=0&&(s[f]!==l||(s.splice(f,1),!d));f--);},yd=function(s){s.splice(0,s.length)},As=function(s,l,d){return d&&(l=ut(d,l)),s[l]},Is=function(s,l,d,f){d&&(l=ut(d,l)),s[l]=f},Oo=typeof Map<"u"?Map:function(){function u(){N(this,u),this._obj={}}return J(u,[{key:"set",value:function(l,d){return this._obj[l]=d,this}},{key:"delete",value:function(l){return this._obj[l]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(l){return void 0!==this._obj[l]}},{key:"get",value:function(l){return this._obj[l]}}]),u}(),kl=function(){function u(s){if(N(this,u),this._obj=Object.create(null),this.size=0,null!=s){var l;l=null!=s.instanceString&&s.instanceString()===this.instanceString()?s.toArray():s;for(var d=0;d<l.length;d++)this.add(l[d])}}return J(u,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(l){var d=this._obj;1!==d[l]&&(d[l]=1,this.size++)}},{key:"delete",value:function(l){var d=this._obj;1===d[l]&&(d[l]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(l){return 1===this._obj[l]}},{key:"toArray",value:function(){var l=this;return Object.keys(this._obj).filter(function(d){return l.has(d)})}},{key:"forEach",value:function(l,d){return this.toArray().forEach(l,d)}}]),u}(),Ya="undefined"!==(typeof Set>"u"?"undefined":F(Set))?Set:kl,Ml=function(s,l){var d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==s&&void 0!==l&&Be(s)){var f=l.group;if(null==f&&(f=l.data&&null!=l.data.source&&null!=l.data.target?"edges":"nodes"),"nodes"===f||"edges"===f){this.length=1,this[0]=this;var p=this._private={cy:s,single:!0,data:l.data||{},position:l.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:f,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!l.selected,selectable:void 0===l.selectable||!!l.selectable,locked:!!l.locked,grabbed:!1,grabbable:void 0===l.grabbable||!!l.grabbable,pannable:void 0===l.pannable?"edges"===f:!!l.pannable,active:!1,classes:new Ya,animation:{current:[],queue:[]},rscratch:{},scratch:l.scratch||{},edges:[],children:[],parent:l.parent&&l.parent.isNode()?l.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),l.renderedPosition){var m=l.renderedPosition,w=s.pan(),M=s.zoom();p.position={x:(m.x-w.x)/M,y:(m.y-w.y)/M}}var D=[];Ve(l.classes)?D=l.classes:fe(l.classes)&&(D=l.classes.split(/\s+/));for(var I=0,L=D.length;I<L;I++){var z=D[I];!z||""===z||p.classes.add(z)}this.createEmitter();var W=l.style||l.css;W&&(Dr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(W)),(void 0===d||d)&&this.restore()}else Br("An element must be of type `nodes` or `edges`; you specified `"+f+"`")}else Br("An element must have a core reference and parameters set")},Ir=function(s){return s={bfs:s.bfs||!s.dfs,dfs:s.dfs||!s.bfs},function(d,f,p){var m;_e(d)&&!Me(d)&&(d=(m=d).roots||m.root,f=m.visit,p=m.directed),p=2!==arguments.length||je(f)?p:f,f=je(f)?f:function(){};for(var Q,w=this._private.cy,M=d=fe(d)?this.filter(d):d,D=[],I=[],L={},z={},W={},Y=0,ne=this.byGroup(),oe=ne.nodes,le=ne.edges,ce=0;ce<M.length;ce++){var pe=M[ce],ke=pe.id();pe.isNode()&&(D.unshift(pe),s.bfs&&(W[ke]=!0,I.push(pe)),z[ke]=0)}for(var Te=function(){var He=s.bfs?D.shift():D.pop(),Ae=He.id();if(s.dfs){if(W[Ae])return"continue";W[Ae]=!0,I.push(He)}var dt,Qe=z[Ae],Ge=L[Ae],We=null!=Ge?Ge.source():null,nt=null!=Ge?Ge.target():null,st=null==Ge?void 0:He.same(We)?nt[0]:We[0];if(!0===(dt=f(He,Ge,st,Y++,Qe)))return Q=He,"break";if(!1===dt)return"break";for(var it=He.connectedEdges().filter(function(gt){return(!p||gt.source().same(He))&&le.has(gt)}),rt=0;rt<it.length;rt++){var Et=it[rt],St=Et.connectedNodes().filter(function(gt){return!gt.same(He)&&oe.has(gt)}),yt=St.id();0!==St.length&&!W[yt]&&(D.push(St=St[0]),s.bfs&&(W[yt]=!0,I.push(St)),L[yt]=Et,z[yt]=z[Ae]+1)}};0!==D.length;){var me=Te();if("continue"!==me&&"break"===me)break}for(var Se=w.collection(),ve=0;ve<I.length;ve++){var Re=I[ve],Oe=L[Re.id()];null!=Oe&&Se.push(Oe),Se.push(Re)}return{path:w.collection(Se),found:w.collection(Q)}}},Ie={breadthFirstSearch:Ir({bfs:!0}),depthFirstSearch:Ir({dfs:!0})};Ie.bfs=Ie.breadthFirstSearch,Ie.dfs=Ie.depthFirstSearch;var De=Ii({root:null,weight:function(s){return 1},directed:!1}),Ye={dijkstra:function(s){if(!_e(s)){var l=arguments;s={root:l[0],weight:l[1],directed:l[2]}}var Ge,We,d=De(s),f=d.root,m=d.directed,w=this,M=d.weight,D=fe(f)?this.filter(f)[0]:f[0],I={},L={},z={},W=this.byGroup(),Y=W.nodes,Q=W.edges;Q.unmergeBy(function(Qe){return Qe.isLoop()});for(var ne=function(Ge){return I[Ge.id()]},le=new S.default(function(Qe,Ge){return ne(Qe)-ne(Ge)}),ce=0;ce<Y.length;ce++){var pe=Y[ce];I[pe.id()]=pe.same(D)?0:1/0,le.push(pe)}for(var ke=function(Ge,We){for(var dt,nt=(m?Ge.edgesTo(We):Ge.edgesWith(We)).intersect(Q),st=1/0,it=0;it<nt.length;it++){var rt=nt[it],Et=M(rt);(Et<st||!dt)&&(st=Et,dt=rt)}return{edge:dt,dist:st}};le.size()>0;){var Te=le.pop(),me=ne(Te),Se=Te.id();if(z[Se]=me,me!==1/0)for(var ve=Te.neighborhood().intersect(Y),Re=0;Re<ve.length;Re++){var Oe=ve[Re],Ee=Oe.id(),He=ke(Te,Oe),Ae=me+He.dist;Ae<ne(Oe)&&(We=Ae,I[(Ge=Oe).id()]=We,le.updateItem(Ge),L[Ee]={node:Te,edge:He.edge})}}return{distanceTo:function(Ge){var We=fe(Ge)?Y.filter(Ge)[0]:Ge[0];return z[We.id()]},pathTo:function(Ge){var We=fe(Ge)?Y.filter(Ge)[0]:Ge[0],nt=[],st=We,dt=st.id();if(We.length>0)for(nt.unshift(We);L[dt];){var it=L[dt];nt.unshift(it.edge),nt.unshift(it.node),dt=(st=it.node).id()}return w.spawn(nt)}}}},_t={kruskal:function(s){s=s||function(ce){return 1};for(var l=this.byGroup(),d=l.nodes,f=l.edges,p=d.length,m=new Array(p),w=d,M=function(pe){for(var ke=0;ke<m.length;ke++)if(m[ke].has(pe))return ke},D=0;D<p;D++)m[D]=this.spawn(d[D]);for(var I=f.sort(function(ce,pe){return s(ce)-s(pe)}),L=0;L<I.length;L++){var z=I[L],W=z.source()[0],Y=z.target()[0],Q=M(W),ne=M(Y),oe=m[Q],le=m[ne];Q!==ne&&(w.merge(z),oe.merge(le),m.splice(ne,1))}return w}},lt=Ii({root:null,goal:null,weight:function(s){return 1},heuristic:function(s){return 0},directed:!1}),ht={aStar:function(s){var l=this.cy(),d=lt(s),f=d.root,p=d.goal,m=d.heuristic,w=d.directed,M=d.weight;f=l.collection(f)[0],p=l.collection(p)[0];var ce,pe,D=f.id(),I=p.id(),L={},z={},W={},Y=new S.default(function(dt,it){return z[dt.id()]-z[it.id()]}),Q=new Ya,ne={},oe={},le=function(it,rt){Y.push(it),Q.add(rt)};le(f,D),L[D]=0,z[D]=m(f);for(var me=0;Y.size()>0;){if(pe=(ce=Y.pop()).id(),Q.delete(pe),me++,pe===I){for(var Se=[],ve=p,Re=I,Oe=oe[Re];Se.unshift(ve),null!=Oe&&Se.unshift(Oe),null!=(ve=ne[Re]);)Oe=oe[Re=ve.id()];return{found:!0,distance:L[pe],path:this.spawn(Se),steps:me}}W[pe]=!0;for(var Ee=ce._private.edges,He=0;He<Ee.length;He++){var Ae=Ee[He];if(this.hasElementWithId(Ae.id())&&(!w||Ae.data("source")===pe)){var Qe=Ae.source(),Ge=Ae.target(),We=Qe.id()!==pe?Qe:Ge,nt=We.id();if(this.hasElementWithId(nt)&&!W[nt]){var st=L[pe]+M(Ae);if(!Q.has(nt)){L[nt]=st,z[nt]=st+m(We),le(We,nt),ne[nt]=ce,oe[nt]=Ae;continue}st<L[nt]&&(L[nt]=st,z[nt]=st+m(We),ne[nt]=ce,oe[nt]=Ae)}}}}return{found:!1,distance:void 0,path:void 0,steps:me}}},an=Ii({weight:function(s){return 1},directed:!1}),Bt={floydWarshall:function(s){for(var l=this.cy(),d=an(s),p=d.directed,m=d.weight,w=this.byGroup(),M=w.nodes,D=w.edges,I=M.length,L=I*I,z=function(Et){return M.indexOf(Et)},W=function(Et){return M[Et]},Y=new Array(L),Q=0;Q<L;Q++){var ne=Q%I;Y[Q]=(Q-ne)/I===ne?0:1/0}for(var le=new Array(L),ce=new Array(L),pe=0;pe<D.length;pe++){var ke=D[pe],Te=ke.source()[0],me=ke.target()[0];if(Te!==me){var Se=z(Te),ve=z(me),Re=Se*I+ve,Oe=m(ke);if(Y[Re]>Oe&&(Y[Re]=Oe,le[Re]=ve,ce[Re]=ke),!p){var Ee=ve*I+Se;!p&&Y[Ee]>Oe&&(Y[Ee]=Oe,le[Ee]=Se,ce[Ee]=ke)}}}for(var He=0;He<I;He++)for(var Ae=0;Ae<I;Ae++)for(var Qe=Ae*I+He,Ge=0;Ge<I;Ge++){var We=Ae*I+Ge,nt=He*I+Ge;Y[Qe]+Y[nt]<Y[We]&&(Y[We]=Y[Qe]+Y[nt],le[We]=le[Qe])}var dt=function(Et){return z(function(Et){return(fe(Et)?l.filter(Et):Et)[0]}(Et))};return{distance:function(Et,St){var yt=dt(Et),gt=dt(St);return Y[yt*I+gt]},path:function(Et,St){var yt=dt(Et),gt=dt(St),tt=W(yt);if(yt===gt)return tt.collection();if(null==le[yt*I+gt])return l.collection();var Ct=l.collection();for(Ct.merge(tt);yt!==gt;)Ct.merge(ce[yt*I+(yt=le[yt*I+gt])]),Ct.merge(W(yt));return Ct}}}},jt=Ii({weight:function(s){return 1},directed:!1,root:null}),vn={bellmanFord:function(s){var l=this,d=jt(s),p=d.directed,m=d.root,w=d.weight,M=this,D=this.cy(),I=this.byGroup(),L=I.edges,z=I.nodes,W=z.length,Y=new Oo,Q=!1,ne=[];m=D.collection(m)[0],L.unmergeBy(function(ln){return ln.isLoop()});for(var oe=L.length,le=function(Gt){var fn=Y.get(Gt.id());return fn||(fn={},Y.set(Gt.id(),fn)),fn},ce=function(Gt){return(fe(Gt)?D.$(Gt):Gt)[0]},Te=0;Te<W;Te++){var me=z[Te],Se=le(me);Se.dist=me.same(m)?0:1/0,Se.pred=null,Se.edge=null}for(var ve=!1,Re=function(Gt,fn,Zn,Nn,yn,Rt){var be=Nn.dist+Rt;be<yn.dist&&!Zn.same(Nn.edge)&&(yn.dist=be,yn.pred=Gt,yn.edge=Zn,ve=!0)},Oe=1;Oe<W;Oe++){ve=!1;for(var Ee=0;Ee<oe;Ee++){var He=L[Ee],Ae=He.source(),Qe=He.target(),Ge=w(He),We=le(Ae),nt=le(Qe);Re(Ae,0,He,We,nt,Ge),p||Re(Qe,0,He,nt,We,Ge)}if(!ve)break}if(ve)for(var st=[],dt=0;dt<oe;dt++){var it=L[dt],rt=it.source(),Et=it.target(),St=w(it),yt=le(rt).dist,gt=le(Et).dist;if(yt+St<gt||!p&&gt+St<yt){if(Q||(Dr("Graph contains a negative weight cycle for Bellman-Ford"),Q=!0),!1===s.findNegativeWeightCycles)break;var tt=[];yt+St<gt&&tt.push(rt),!p&&gt+St<yt&&tt.push(Et);for(var Ct=tt.length,Mt=0;Mt<Ct;Mt++){var Pt=tt[Mt],Vt=[Pt];Vt.push(le(Pt).edge);for(var Cn=le(Pt).pred;-1===Vt.indexOf(Cn);)Vt.push(Cn),Vt.push(le(Cn).edge),Cn=le(Cn).pred;for(var Ln=(Vt=Vt.slice(Vt.indexOf(Cn)))[0].id(),zt=0,Lt=2;Lt<Vt.length;Lt+=2)Vt[Lt].id()<Ln&&(Ln=Vt[Lt].id(),zt=Lt);(Vt=Vt.slice(zt).concat(Vt.slice(0,zt))).push(Vt[0]);var gn=Vt.map(function(ln){return ln.id()}).join(",");-1===st.indexOf(gn)&&(ne.push(M.spawn(Vt)),st.push(gn))}}}return{distanceTo:function(Gt){return le(ce(Gt)).dist},pathTo:function(Gt){for(var fn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,Nn=[],yn=ce(Gt);;){if(null==yn)return l.spawn();var Rt=le(yn),be=Rt.edge,ct=Rt.pred;if(Nn.unshift(yn[0]),yn.same(fn)&&Nn.length>0)break;null!=be&&Nn.unshift(be),yn=ct}return M.spawn(Nn)},hasNegativeWeightCycle:Q,negativeWeightCycles:ne}}},Ze=Math.sqrt(2),fr=function(s,l,d){0===d.length&&Br("Karger-Stein must be run on a connected (sub)graph");for(var f=d[s],w=l[f[1]],M=l[f[2]],D=d,I=D.length-1;I>=0;I--){var L=D[I],z=L[1],W=L[2];(l[z]===w&&l[W]===M||l[z]===M&&l[W]===w)&&D.splice(I,1)}for(var Y=0;Y<D.length;Y++){var Q=D[Y];Q[1]===M?(D[Y]=Q.slice(),D[Y][1]=w):Q[2]===M&&(D[Y]=Q.slice(),D[Y][2]=w)}for(var ne=0;ne<l.length;ne++)l[ne]===M&&(l[ne]=w);return D},qt=function(s,l,d,f){for(;d>f;){var p=Math.floor(Math.random()*l.length);l=fr(p,s,l),d--}return l},Qt={kargerStein:function(){var s=this,l=this.byGroup(),d=l.nodes,f=l.edges;f.unmergeBy(function(nt){return nt.isLoop()});var p=d.length,m=f.length,w=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),M=Math.floor(p/Ze);if(!(p<2)){for(var D=[],I=0;I<m;I++){var L=f[I];D.push([I,d.indexOf(L.source()),d.indexOf(L.target())])}for(var z=1/0,W=[],Y=new Array(p),Q=new Array(p),ne=new Array(p),oe=function(st,dt){for(var it=0;it<p;it++)dt[it]=st[it]},le=0;le<=w;le++){for(var ce=0;ce<p;ce++)Q[ce]=ce;var pe=qt(Q,D.slice(),p,M),ke=pe.slice();oe(Q,ne);var Te=qt(Q,pe,M,2),me=qt(ne,ke,M,2);Te.length<=me.length&&Te.length<z?(z=Te.length,W=Te,oe(Q,Y)):me.length<=Te.length&&me.length<z&&(z=me.length,W=me,oe(ne,Y))}for(var Se=this.spawn(W.map(function(nt){return f[nt[0]]})),ve=this.spawn(),Re=this.spawn(),Oe=Y[0],Ee=0;Ee<Y.length;Ee++){var Ae=d[Ee];Y[Ee]===Oe?ve.merge(Ae):Re.merge(Ae)}var Qe=function(st){var dt=s.spawn();return st.forEach(function(it){dt.merge(it),it.connectedEdges().forEach(function(rt){s.contains(rt)&&!Se.contains(rt)&&dt.merge(rt)})}),dt},Ge=[Qe(ve),Qe(Re)];return{cut:Se,components:Ge,partition1:ve,partition2:Re}}Br("At least 2 nodes are required for Karger-Stein algorithm")}},sr=function(s,l,d){return{x:s.x*l+d.x,y:s.y*l+d.y}},ar=function(s,l,d){return{x:(s.x-d.x)/l,y:(s.y-d.y)/l}},lr=function(s){return{x:s[0],y:s[1]}},jr=function(s,l){return Math.atan2(l,s)-Math.PI/2},pi=Math.log2||function(u){return Math.log(u)/Math.log(2)},xi=function(s){return s>0?1:s<0?-1:0},Xr=function(s,l){return Math.sqrt(Pr(s,l))},Pr=function(s,l){var d=l.x-s.x,f=l.y-s.y;return d*d+f*f},Os=function(s){for(var l=s.length,d=0,f=0;f<l;f++)d+=s[f];for(var p=0;p<l;p++)s[p]=s[p]/d;return s},pr=function(s,l,d,f){return(1-f)*(1-f)*s+2*(1-f)*f*l+f*f*d},as=function(s,l,d,f){return{x:pr(s.x,l.x,d.x,f),y:pr(s.y,l.y,d.y,f)}},En=function(s,l,d){return Math.max(s,Math.min(d,l))},Zr=function(s){if(null==s)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=s.x1&&null!=s.y1){if(null!=s.x2&&null!=s.y2&&s.x2>=s.x1&&s.y2>=s.y1)return{x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,w:s.x2-s.x1,h:s.y2-s.y1};if(null!=s.w&&null!=s.h&&s.w>=0&&s.h>=0)return{x1:s.x1,y1:s.y1,x2:s.x1+s.w,y2:s.y1+s.h,w:s.w,h:s.h}}},on=function(s,l){s.x1=Math.min(s.x1,l.x1),s.x2=Math.max(s.x2,l.x2),s.w=s.x2-s.x1,s.y1=Math.min(s.y1,l.y1),s.y2=Math.max(s.y2,l.y2),s.h=s.y2-s.y1},Kh=function(s,l,d){s.x1=Math.min(s.x1,l),s.x2=Math.max(s.x2,l),s.w=s.x2-s.x1,s.y1=Math.min(s.y1,d),s.y2=Math.max(s.y2,d),s.h=s.y2-s.y1},zn=function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s.x1-=l,s.x2+=l,s.y1-=l,s.y2+=l,s.w=s.x2-s.x1,s.h=s.y2-s.y1,s},Ks=function(s){var d,f,p,m,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===l.length)d=f=p=m=l[0];else if(2===l.length)d=p=l[0],m=f=l[1];else if(4===l.length){var w=Z(l,4);d=w[0],f=w[1],p=w[2],m=w[3]}return s.x1-=m,s.x2+=f,s.y1-=d,s.y2+=p,s.w=s.x2-s.x1,s.h=s.y2-s.y1,s},Al=function(s,l){s.x1=l.x1,s.y1=l.y1,s.x2=l.x2,s.y2=l.y2,s.w=s.x2-s.x1,s.h=s.y2-s.y1},ls=function(s,l){return!(s.x1>l.x2||l.x1>s.x2||s.x2<l.x1||l.x2<s.x1||s.y2<l.y1||l.y2<s.y1||s.y1>l.y2||l.y1>s.y2)},Rs=function(s,l,d){return s.x1<=l&&l<=s.x2&&s.y1<=d&&d<=s.y2},su=function(s,l){return Rs(s,l.x,l.y)},qs=function(s,l){return Rs(s,l.x1,l.y1)&&Rs(s,l.x2,l.y2)},Xa=function(s,l,d,f,p,m,w){var L,M=Ed(p,m),D=p/2,I=m/2,W=f-I-w;if((L=Xo(s,l,d,f,d-D+M-w,W,d+D-M+w,W,!1)).length>0)return L;var ne=d+D+w;if((L=Xo(s,l,d,f,ne,f-I+M-w,ne,f+I-M+w,!1)).length>0)return L;var ke=f+I+w;if((L=Xo(s,l,d,f,d-D+M-w,ke,d+D-M+w,ke,!1)).length>0)return L;var Ee,Se=d-D-w;if((L=Xo(s,l,d,f,Se,f-I+M-w,Se,f+I-M+w,!1)).length>0)return L;var He=d-D+M,Ae=f-I+M;if((Ee=Ps(s,l,d,f,He,Ae,M+w)).length>0&&Ee[0]<=He&&Ee[1]<=Ae)return[Ee[0],Ee[1]];var Qe=d+D-M,Ge=f-I+M;if((Ee=Ps(s,l,d,f,Qe,Ge,M+w)).length>0&&Ee[0]>=Qe&&Ee[1]<=Ge)return[Ee[0],Ee[1]];var We=d+D-M,nt=f+I-M;if((Ee=Ps(s,l,d,f,We,nt,M+w)).length>0&&Ee[0]>=We&&Ee[1]>=nt)return[Ee[0],Ee[1]];var st=d-D+M,dt=f+I-M;return(Ee=Ps(s,l,d,f,st,dt,M+w)).length>0&&Ee[0]<=st&&Ee[1]>=dt?[Ee[0],Ee[1]]:[]},_d=function(s,l,d,f,p,m,w){var M=w,D=Math.min(d,p),I=Math.max(d,p),L=Math.min(f,m),z=Math.max(f,m);return D-M<=s&&s<=I+M&&L-M<=l&&l<=z+M},au=function(s,l,d,f,p,m,w,M,D){var I_x1=Math.min(d,w,p)-D,I_x2=Math.max(d,w,p)+D,I_y1=Math.min(f,M,m)-D,I_y2=Math.max(f,M,m)+D;return!(s<I_x1||s>I_x2||l<I_y1||l>I_y2)},xd=function(s,l,d,f,p,m,w,M){var W=[];!function(s,l,d,f,p){var w,M,D,I,L,z,W,Y;0===s&&(s=1e-5),D=-27*(f/=s)+(l/=s)*(9*(d/=s)-l*l*2),w=(M=(3*d-l*l)/9)*M*M+(D/=54)*D,p[1]=0,W=l/3,w>0?(L=(L=D+Math.sqrt(w))<0?-Math.pow(-L,1/3):Math.pow(L,1/3),z=(z=D-Math.sqrt(w))<0?-Math.pow(-z,1/3):Math.pow(z,1/3),p[0]=-W+L+z,p[4]=p[2]=-(W+=(L+z)/2),W=Math.sqrt(3)*(-z+L)/2,p[3]=W,p[5]=-W):(p[5]=p[3]=0,0===w?(Y=D<0?-Math.pow(-D,1/3):Math.pow(D,1/3),p[0]=2*Y-W,p[4]=p[2]=-(Y+W)):(I=(M=-M)*M*M,I=Math.acos(D/Math.sqrt(I)),Y=2*Math.sqrt(M),p[0]=-W+Y*Math.cos(I/3),p[2]=-W+Y*Math.cos((I+2*Math.PI)/3),p[4]=-W+Y*Math.cos((I+4*Math.PI)/3)))}(1*d*d-4*d*p+2*d*w+4*p*p-4*p*w+w*w+f*f-4*f*m+2*f*M+4*m*m-4*m*M+M*M,9*d*p-3*d*d-3*d*w-6*p*p+3*p*w+9*f*m-3*f*f-3*f*M-6*m*m+3*m*M,3*d*d-6*d*p+d*w-d*s+2*p*p+2*p*s-w*s+3*f*f-6*f*m+f*M-f*l+2*m*m+2*m*l-M*l,1*d*p-d*d+d*s-p*s+f*m-f*f+f*l-m*l,W);for(var Q=[],ne=0;ne<6;ne+=2)Math.abs(W[ne+1])<1e-7&&W[ne]>=0&&W[ne]<=1&&Q.push(W[ne]);Q.push(1),Q.push(0);for(var le,ce,pe,oe=-1,ke=0;ke<Q.length;ke++)le=Math.pow(1-Q[ke],2)*d+2*(1-Q[ke])*Q[ke]*p+Q[ke]*Q[ke]*w,ce=Math.pow(1-Q[ke],2)*f+2*(1-Q[ke])*Q[ke]*m+Q[ke]*Q[ke]*M,pe=Math.pow(le-s,2)+Math.pow(ce-l,2),oe>=0?pe<oe&&(oe=pe):oe=pe;return oe},Zp=function(s,l,d,f,p,m){var w=[s-d,l-f],M=[p-d,m-f],D=M[0]*M[0]+M[1]*M[1],I=w[0]*w[0]+w[1]*w[1],L=w[0]*M[0]+w[1]*M[1],z=L*L/D;return L<0?I:z>D?(s-p)*(s-p)+(l-m)*(l-m):I-z},Vr=function(s,l,d){for(var f,p,m,w,D=0,I=0;I<d.length/2;I++)if(p=d[2*I+1],I+1<d.length/2?(m=d[2*(I+1)],w=d[2*(I+1)+1]):(m=d[2*(I+1-d.length/2)],w=d[2*(I+1-d.length/2)+1]),(f=d[2*I])!=s||m!=s){if(!(f>=s&&s>=m||f<=s&&s<=m))continue;(s-f)/(m-f)*(w-p)+p>l&&D++}return D%2!=0},cs=function(s,l,d,f,p,m,w,M,D){var L,Q,I=new Array(d.length);null!=M[0]?(L=Math.atan(M[1]/M[0]),M[0]<0?L+=Math.PI/2:L=-L-Math.PI/2):L=M;for(var z=Math.cos(-L),W=Math.sin(-L),Y=0;Y<I.length/2;Y++)I[2*Y]=m/2*(d[2*Y]*z-d[2*Y+1]*W),I[2*Y+1]=w/2*(d[2*Y+1]*z+d[2*Y]*W),I[2*Y]+=f,I[2*Y+1]+=p;if(D>0){var ne=Ka(I,-D);Q=Nr(ne)}else Q=I;return Vr(s,l,Q)},Nr=function(s){for(var w,M,D,I,l=new Array(s.length/2),L=0;L<s.length/4;L++){L<s.length/4-1?(w=s[4*(L+1)],M=s[4*(L+1)+1],D=s[4*(L+1)+2],I=s[4*(L+1)+3]):(w=s[0],M=s[1],D=s[2],I=s[3]);var z=Xo(s[4*L],s[4*L+1],s[4*L+2],s[4*L+3],w,M,D,I,!0);l[2*L]=z[0],l[2*L+1]=z[1]}return l},Ka=function(s,l){for(var f,p,m,w,d=new Array(2*s.length),M=0;M<s.length/2;M++){M<s.length/2-1?(m=s[2*(M+1)],w=s[2*(M+1)+1]):(m=s[0],w=s[1]);var D=w-(p=s[2*M+1]),I=-(m-(f=s[2*M])),L=Math.sqrt(D*D+I*I),z=D/L,W=I/L;d[4*M]=f+z*l,d[4*M+1]=p+W*l,d[4*M+2]=m+z*l,d[4*M+3]=w+W*l}return d},qa=function(s,l,d,f,p,m,w){return s-=p,l-=m,(s/=d/2+w)*s+(l/=f/2+w)*l<=1},Ps=function(s,l,d,f,p,m,w){var M=[d-s,f-l],D=[s-p,l-m],I=M[0]*M[0]+M[1]*M[1],L=2*(D[0]*M[0]+D[1]*M[1]),W=L*L-4*I*(D[0]*D[0]+D[1]*D[1]-w*w);if(W<0)return[];var Y=(-L+Math.sqrt(W))/(2*I),Q=(-L-Math.sqrt(W))/(2*I),ne=Math.min(Y,Q),oe=Math.max(Y,Q),le=[];if(ne>=0&&ne<=1&&le.push(ne),oe>=0&&oe<=1&&le.push(oe),0===le.length)return[];var ce=le[0]*M[0]+s,pe=le[0]*M[1]+l;return le.length>1?le[0]==le[1]?[ce,pe]:[ce,pe,le[1]*M[0]+s,le[1]*M[1]+l]:[ce,pe]},Za=function(s,l,d){return l<=s&&s<=d||d<=s&&s<=l?s:s<=l&&l<=d||d<=l&&l<=s?l:d},Xo=function(s,l,d,f,p,m,w,M,D){var I=s-p,L=d-s,z=w-p,W=l-m,Y=f-l,Q=M-m,ne=z*W-Q*I,oe=L*W-Y*I,le=Q*L-z*Y;if(0!==le){var ce=ne/le,pe=oe/le;return-.001<=ce&&ce<=1.001&&-.001<=pe&&pe<=1.001||D?[s+ce*L,l+ce*Y]:[]}return 0===ne||0===oe?Za(s,d,w)===w?[w,M]:Za(s,d,p)===p?[p,m]:Za(p,w,d)===d?[d,f]:[]:[]},Il=function(s,l,d,f,p,m,w,M){var I,W,D=[],L=new Array(d.length),z=!0;if(null==m&&(z=!1),z){for(var Y=0;Y<L.length/2;Y++)L[2*Y]=d[2*Y]*m+f,L[2*Y+1]=d[2*Y+1]*w+p;if(M>0){var Q=Ka(L,-M);W=Nr(Q)}else W=L}else W=d;for(var le,ce,pe=0;pe<W.length/2;pe++)pe<W.length/2-1?(le=W[2*(pe+1)],ce=W[2*(pe+1)+1]):(le=W[0],ce=W[1]),0!==(I=Xo(s,l,f,p,W[2*pe],W[2*pe+1],le,ce)).length&&D.push(I[0],I[1]);return D},bc=function(s,l,d){var f=[s[0]-l[0],s[1]-l[1]],p=Math.sqrt(f[0]*f[0]+f[1]*f[1]),m=(p-d)/p;return m<0&&(m=1e-5),[l[0]+m*f[0],l[1]+m*f[1]]},yo=function(s,l){var d=Ol(s,l);return lu(d)},lu=function(s){for(var l,d,f=s.length/2,p=1/0,m=1/0,w=-1/0,M=-1/0,D=0;D<f;D++)l=s[2*D],d=s[2*D+1],p=Math.min(p,l),w=Math.max(w,l),m=Math.min(m,d),M=Math.max(M,d);for(var I=2/(w-p),L=2/(M-m),z=0;z<f;z++)l=s[2*z]=s[2*z]*I,d=s[2*z+1]=s[2*z+1]*L,p=Math.min(p,l),w=Math.max(w,l),m=Math.min(m,d),M=Math.max(M,d);if(m<-1)for(var W=0;W<f;W++)d=s[2*W+1]=s[2*W+1]+(-1-m);return s},Ol=function(s,l){var d=1/s*2*Math.PI,f=s%2==0?Math.PI/2+d/2:Math.PI/2;f+=l;for(var m,p=new Array(2*s),w=0;w<s;w++)m=w*d+f,p[2*w]=Math.cos(m),p[2*w+1]=Math.sin(-m);return p},Ed=function(s,l){return Math.min(s/4,l/4,8)},xt=function(s,l){return Math.min(s/10,l/10,8)},cu=function(s,l){return{heightOffset:Math.min(15,.05*l),widthOffset:Math.min(100,.25*s),ctrlPtOffsetPct:.05}},Jp=Ii({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(s){return 1}}),Cd={pageRank:function(s){for(var l=Jp(s),d=l.dampingFactor,f=l.precision,p=l.iterations,m=l.weight,w=this._private.cy,M=this.byGroup(),D=M.nodes,I=M.edges,L=D.length,W=I.length,Y=new Array(L*L),Q=new Array(L),ne=(1-d)/L,oe=0;oe<L;oe++){for(var le=0;le<L;le++)Y[oe*L+le]=0;Q[oe]=0}for(var pe=0;pe<W;pe++){var ke=I[pe],Te=ke.data("source"),me=ke.data("target");if(Te!==me){var Se=D.indexOfId(Te),ve=D.indexOfId(me),Re=m(ke);Y[ve*L+Se]+=Re,Q[Se]+=Re}}for(var Ee=1/L+ne,He=0;He<L;He++)if(0===Q[He])for(var Ae=0;Ae<L;Ae++)Y[Ae*L+He]=Ee;else for(var Ge=0;Ge<L;Ge++){var We=Ge*L+He;Y[We]=Y[We]/Q[He]+ne}for(var dt,nt=new Array(L),st=new Array(L),it=0;it<L;it++)nt[it]=1;for(var rt=0;rt<p;rt++){for(var Et=0;Et<L;Et++)st[Et]=0;for(var St=0;St<L;St++)for(var yt=0;yt<L;yt++)st[St]+=Y[St*L+yt]*nt[yt];Os(st),dt=nt,nt=st,st=dt;for(var tt=0,Ct=0;Ct<L;Ct++){var Mt=dt[Ct]-nt[Ct];tt+=Mt*Mt}if(tt<f)break}return{rank:function(Cn){return Cn=w.collection(Cn)[0],nt[D.indexOf(Cn)]}}}},Vv=Ii({root:null,weight:function(s){return 1},directed:!1,alpha:0}),uu={degreeCentralityNormalized:function(s){s=Vv(s);var l=this.cy(),d=this.nodes(),f=d.length;if(s.directed){for(var I={},L={},z=0,W=0,Y=0;Y<f;Y++){var Q=d[Y],ne=Q.id();s.root=Q;var oe=this.degreeCentrality(s);z<oe.indegree&&(z=oe.indegree),W<oe.outdegree&&(W=oe.outdegree),I[ne]=oe.indegree,L[ne]=oe.outdegree}return{indegree:function(ce){return 0==z?0:(fe(ce)&&(ce=l.filter(ce)),I[ce.id()]/z)},outdegree:function(ce){return 0===W?0:(fe(ce)&&(ce=l.filter(ce)),L[ce.id()]/W)}}}for(var p={},m=0,w=0;w<f;w++){var M=d[w];s.root=M;var D=this.degreeCentrality(s);m<D.degree&&(m=D.degree),p[M.id()]=D.degree}return{degree:function(ce){return 0===m?0:(fe(ce)&&(ce=l.filter(ce)),p[ce.id()]/m)}}},degreeCentrality:function(s){s=Vv(s);var l=this.cy(),d=this,p=s.root,m=s.weight,w=s.directed,M=s.alpha;if(p=l.collection(p)[0],w){for(var W=p.connectedEdges(),Y=W.filter(function(Te){return Te.target().same(p)&&d.has(Te)}),Q=W.filter(function(Te){return Te.source().same(p)&&d.has(Te)}),ne=Y.length,oe=Q.length,le=0,ce=0,pe=0;pe<Y.length;pe++)le+=m(Y[pe]);for(var ke=0;ke<Q.length;ke++)ce+=m(Q[ke]);return{indegree:Math.pow(ne,1-M)*Math.pow(le,M),outdegree:Math.pow(oe,1-M)*Math.pow(ce,M)}}for(var D=p.connectedEdges().intersection(d),I=D.length,L=0,z=0;z<D.length;z++)L+=m(D[z]);return{degree:Math.pow(I,1-M)*Math.pow(L,M)}}};uu.dc=uu.degreeCentrality,uu.dcn=uu.degreeCentralityNormalised=uu.degreeCentralityNormalized;var zv=Ii({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),us={closenessCentralityNormalized:function(s){for(var l=zv(s),d=l.harmonic,f=l.weight,p=l.directed,m=this.cy(),w={},M=0,D=this.nodes(),I=this.floydWarshall({weight:f,directed:p}),L=0;L<D.length;L++){for(var z=0,W=D[L],Y=0;Y<D.length;Y++)if(L!==Y){var Q=I.distance(W,D[Y]);z+=d?1/Q:Q}d||(z=1/z),M<z&&(M=z),w[W.id()]=z}return{closeness:function(oe){return 0==M?0:(oe=fe(oe)?m.filter(oe)[0].id():oe.id(),w[oe]/M)}}},closenessCentrality:function(s){var l=zv(s),d=l.root,f=l.weight,p=l.directed,m=l.harmonic;d=this.filter(d)[0];for(var w=this.dijkstra({root:d,weight:f,directed:p}),M=0,D=this.nodes(),I=0;I<D.length;I++){var L=D[I];if(!L.same(d)){var z=w.distanceTo(L);M+=m?1/z:z}}return m?M:1/M}};us.cc=us.closenessCentrality,us.ccn=us.closenessCentralityNormalised=us.closenessCentralityNormalized;var Qs=Ii({weight:null,directed:!1}),Hv={betweennessCentrality:function(s){for(var l=Qs(s),d=l.directed,f=l.weight,p=null!=f,m=this.cy(),w=this.nodes(),M={},D={},I=0,L={set:function(ce,pe){D[ce]=pe,pe>I&&(I=pe)},get:function(ce){return D[ce]}},z=0;z<w.length;z++){var W=w[z],Y=W.id();M[Y]=d?W.outgoers().nodes():W.openNeighborhood().nodes(),L.set(Y,0)}for(var Q=function(ce){for(var pe=w[ce].id(),ke=[],Te={},me={},Se={},ve=new S.default(function(yt,gt){return Se[yt]-Se[gt]}),Re=0;Re<w.length;Re++){var Oe=w[Re].id();Te[Oe]=[],me[Oe]=0,Se[Oe]=1/0}for(me[pe]=1,Se[pe]=0,ve.push(pe);!ve.empty();){var Ee=ve.pop();if(ke.push(Ee),p)for(var He=0;He<M[Ee].length;He++){var Ge,Ae=M[Ee][He],Qe=m.getElementById(Ee);Ge=Qe.edgesTo(Ae).length>0?Qe.edgesTo(Ae)[0]:Ae.edgesTo(Qe)[0];var We=f(Ge);Ae=Ae.id(),Se[Ae]>Se[Ee]+We&&(Se[Ae]=Se[Ee]+We,ve.nodes.indexOf(Ae)<0?ve.push(Ae):ve.updateItem(Ae),me[Ae]=0,Te[Ae]=[]),Se[Ae]==Se[Ee]+We&&(me[Ae]=me[Ae]+me[Ee],Te[Ae].push(Ee))}else for(var nt=0;nt<M[Ee].length;nt++){var st=M[Ee][nt].id();Se[st]==1/0&&(ve.push(st),Se[st]=Se[Ee]+1),Se[st]==Se[Ee]+1&&(me[st]=me[st]+me[Ee],Te[st].push(Ee))}}for(var dt={},it=0;it<w.length;it++)dt[w[it].id()]=0;for(;ke.length>0;){for(var rt=ke.pop(),Et=0;Et<Te[rt].length;Et++){var St=Te[rt][Et];dt[St]=dt[St]+me[St]/me[rt]*(1+dt[rt])}rt!=w[ce].id()&&L.set(rt,L.get(rt)+dt[rt])}},ne=0;ne<w.length;ne++)Q(ne);var oe={betweenness:function(ce){var pe=m.collection(ce).id();return L.get(pe)},betweennessNormalized:function(ce){if(0==I)return 0;var pe=m.collection(ce).id();return L.get(pe)/I}};return oe.betweennessNormalised=oe.betweennessNormalized,oe}};Hv.bc=Hv.betweennessCentrality;var rk=Ii({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(u){return 1}]}),Qa=function(s,l){for(var d=0,f=0;f<l.length;f++)d+=l[f](s);return d},Dd=function(s,l){for(var d,f=0;f<l;f++){d=0;for(var p=0;p<l;p++)d+=s[p*l+f];for(var m=0;m<l;m++)s[m*l+f]=s[m*l+f]/d}},em=function(s,l,d){for(var f=new Array(d*d),p=0;p<d;p++){for(var m=0;m<d;m++)f[p*d+m]=0;for(var w=0;w<d;w++)for(var M=0;M<d;M++)f[p*d+M]+=s[p*d+w]*l[w*d+M]}return f},tm=function(s,l,d){for(var f=s.slice(0),p=1;p<d;p++)s=em(s,f,l);return s},jv=function(s,l,d){for(var f=new Array(l*l),p=0;p<l*l;p++)f[p]=Math.pow(s[p],d);return Dd(f,l),f},Ja=function(s,l,d,f){for(var p=0;p<d;p++)if(Math.round(s[p]*Math.pow(10,f))/Math.pow(10,f)!=Math.round(l[p]*Math.pow(10,f))/Math.pow(10,f))return!1;return!0},Ix=function(s,l){for(var d=0;d<s.length;d++)if(!l[d]||s[d].id()!==l[d].id())return!1;return!0},Uv=function(s){for(var l=this.nodes(),d=this.edges(),f=this.cy(),p=function(s){return rk(s)}(s),m={},w=0;w<l.length;w++)m[l[w].id()]=w;for(var L,M=l.length,D=M*M,I=new Array(D),z=0;z<D;z++)I[z]=0;for(var W=0;W<d.length;W++){var Y=d[W],Q=m[Y.source().id()],ne=m[Y.target().id()],oe=Qa(Y,p.attributes);I[Q*M+ne]+=oe,I[ne*M+Q]+=oe}(function(s,l,d){for(var f=0;f<l;f++)s[f*l+f]=d})(I,M,p.multFactor),Dd(I,M);for(var le=!0,ce=0;le&&ce<p.maxIterations;)le=!1,L=tm(I,M,p.expandFactor),I=jv(L,M,p.inflateFactor),Ja(I,L,D,4)||(le=!0),ce++;var pe=function(s,l,d,f){for(var p=[],m=0;m<l;m++){for(var w=[],M=0;M<l;M++)Math.round(1e3*s[m*l+M])/1e3>0&&w.push(d[M]);0!==w.length&&p.push(f.collection(w))}return p}(I,M,l,f);return pe=function(s){for(var l=0;l<s.length;l++)for(var d=0;d<s.length;d++)l!=d&&Ix(s[l],s[d])&&s.splice(d,1);return s}(pe),pe},Gv={markovClustering:Uv,mcl:Uv},$v=function(s){return s},_r=function(s,l){return Math.abs(l-s)},Wv=function(s,l,d){return s+_r(l,d)},nm=function(s,l,d){return s+Math.pow(d-l,2)},Jt=function(s){return Math.sqrt(s)},Ko=function(s,l,d){return Math.max(s,_r(l,d))},mr=function(s,l,d,f,p){for(var m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$v,w=f,I=0;I<s;I++)w=p(w,l(I),d(I));return m(w)},wi={euclidean:function(s,l,d){return s>=2?mr(s,l,d,0,nm,Jt):mr(s,l,d,0,Wv)},squaredEuclidean:function(s,l,d){return mr(s,l,d,0,nm)},manhattan:function(s,l,d){return mr(s,l,d,0,Wv)},max:function(s,l,d){return mr(s,l,d,-1/0,Ko)}};function $i(u,s,l,d,f,p){var m;return m=je(u)?u:wi[u]||wi.euclidean,0===s&&je(u)?m(f,p):m(s,l,d,f,p)}wi["squared-euclidean"]=wi.squaredEuclidean,wi.squaredeuclidean=wi.squaredEuclidean;var kd=Ii({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Ro=function(s){return kd(s)},Ns=function(s,l,d,f,p){var w="kMedoids"!==p?function(L){return d[L]}:function(L){return f[L](d)};return $i(s,f.length,w,function(z){return f[z](l)},d,l)},en=function(s,l,d){for(var f=d.length,p=new Array(f),m=new Array(f),w=new Array(l),M=null,D=0;D<f;D++)p[D]=s.min(d[D]).value,m[D]=s.max(d[D]).value;for(var I=0;I<l;I++){M=[];for(var L=0;L<f;L++)M[L]=Math.random()*(m[L]-p[L])+p[L];w[I]=M}return w},Hn=function(s,l,d,f,p){for(var m=1/0,w=0,M=0;M<l.length;M++){var D=Ns(d,s,l[M],f,p);D<m&&(m=D,w=M)}return w},li=function(s,l,d){for(var f=[],p=null,m=0;m<l.length;m++)d[(p=l[m]).id()]===s&&f.push(p);return f},ea=function(s,l,d){return Math.abs(l-s)<=d},_c=function(s,l,d){for(var f=0;f<s.length;f++)for(var p=0;p<s[f].length;p++)if(Math.abs(s[f][p]-l[f][p])>d)return!1;return!0},bo=function(s,l,d){for(var f=0;f<d;f++)if(s===l[f])return!0;return!1},xc=function(s,l){var d=new Array(l);if(s.length<50)for(var f=0;f<l;f++){for(var p=s[Math.floor(Math.random()*s.length)];bo(p,d,f);)p=s[Math.floor(Math.random()*s.length)];d[f]=p}else for(var m=0;m<l;m++)d[m]=s[Math.floor(Math.random()*s.length)];return d},mi=function(s,l,d){for(var f=0,p=0;p<l.length;p++)f+=Ns("manhattan",l[p],s,d,"kMedoids");return f},Gn=function(s,l,d,f,p){for(var m,w,M=0;M<l.length;M++)for(var D=0;D<s.length;D++)f[M][D]=Math.pow(d[M][D],p.m);for(var I=0;I<s.length;I++)for(var L=0;L<p.attributes.length;L++){m=0,w=0;for(var z=0;z<l.length;z++)m+=f[z][I]*p.attributes[L](l[z]),w+=f[z][I];s[I][L]=m/w}},rm=function(s,l,d,f,p){for(var m=0;m<s.length;m++)l[m]=s[m].slice();for(var w,M,D,I=2/(p.m-1),L=0;L<d.length;L++)for(var z=0;z<f.length;z++){w=0;for(var W=0;W<d.length;W++)M=Ns(p.distance,f[z],d[L],p.attributes,"cmeans"),D=Ns(p.distance,f[z],d[W],p.attributes,"cmeans"),w+=Math.pow(M/D,I);s[z][L]=1/w}},im=function(s){var p,m,w,M,D,l=this.cy(),d=this.nodes(),f=Ro(s);M=new Array(d.length);for(var I=0;I<d.length;I++)M[I]=new Array(f.k);w=new Array(d.length);for(var L=0;L<d.length;L++)w[L]=new Array(f.k);for(var z=0;z<d.length;z++){for(var W=0,Y=0;Y<f.k;Y++)w[z][Y]=Math.random(),W+=w[z][Y];for(var Q=0;Q<f.k;Q++)w[z][Q]=w[z][Q]/W}m=new Array(f.k);for(var ne=0;ne<f.k;ne++)m[ne]=new Array(f.attributes.length);D=new Array(d.length);for(var oe=0;oe<d.length;oe++)D[oe]=new Array(f.k);for(var le=!0,ce=0;le&&ce<f.maxIterations;)le=!1,Gn(m,d,w,D,f),rm(w,M,m,d,f),_c(w,M,f.sensitivityThreshold)||(le=!0),ce++;return p=function(s,l,d,f){for(var p=new Array(d.k),m=0;m<p.length;m++)p[m]=[];for(var w,M,D=0;D<l.length;D++){w=-1/0,M=-1;for(var I=0;I<l[0].length;I++)l[D][I]>w&&(w=l[D][I],M=I);p[M].push(s[D])}for(var L=0;L<p.length;L++)p[L]=f.collection(p[L]);return p}(d,w,f,l),{clusters:p,degreeOfMembership:w}},du={kMeans:function(s){var M,l=this.cy(),d=this.nodes(),f=null,p=Ro(s),m=new Array(p.k),w={};M=p.testMode?"number"==typeof p.testCentroids?en(d,p.k,p.attributes):"object"===F(p.testCentroids)?p.testCentroids:en(d,p.k,p.attributes):en(d,p.k,p.attributes);for(var D=!0,I=0;D&&I<p.maxIterations;){for(var L=0;L<d.length;L++)w[(f=d[L]).id()]=Hn(f,M,p.distance,p.attributes,"kMeans");D=!1;for(var z=0;z<p.k;z++){var W=li(z,d,w);if(0!==W.length){for(var Y=p.attributes.length,Q=M[z],ne=new Array(Y),oe=new Array(Y),le=0;le<Y;le++){oe[le]=0;for(var ce=0;ce<W.length;ce++)oe[le]+=p.attributes[le](f=W[ce]);ne[le]=oe[le]/W.length,ea(ne[le],Q[le],p.sensitivityThreshold)||(D=!0)}M[z]=ne,m[z]=l.collection(W)}}I++}return m},kMedoids:function(s){var w,D,l=this.cy(),d=this.nodes(),f=null,p=Ro(s),m=new Array(p.k),M={},I=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(w="object"===F(p.testCentroids)?p.testCentroids:xc(d,p.k)):w=xc(d,p.k);for(var L=!0,z=0;L&&z<p.maxIterations;){for(var W=0;W<d.length;W++)M[(f=d[W]).id()]=Hn(f,w,p.distance,p.attributes,"kMedoids");L=!1;for(var Y=0;Y<w.length;Y++){var Q=li(Y,d,M);if(0!==Q.length){I[Y]=mi(w[Y],Q,p.attributes);for(var ne=0;ne<Q.length;ne++)(D=mi(Q[ne],Q,p.attributes))<I[Y]&&(I[Y]=D,w[Y]=Q[ne],L=!0);m[Y]=l.collection(Q)}}z++}return m},fuzzyCMeans:im,fcm:im},_o=Ii({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Td={single:"min",complete:"max"},ta=function(s,l,d,f,p){for(var M,m=0,w=1/0,D=p.attributes,I=function(ve,Re){return $i(p.distance,D.length,function(Oe){return D[Oe](ve)},function(Oe){return D[Oe](Re)},ve,Re)},L=0;L<s.length;L++){var z=s[L].key,W=d[z][f[z]];W<w&&(m=z,w=W)}if("threshold"===p.mode&&w>=p.threshold||"dendrogram"===p.mode&&1===s.length)return!1;var ne,Y=l[m],Q=l[f[m]];ne="dendrogram"===p.mode?{left:Y,right:Q,key:Y.key}:{value:Y.value.concat(Q.value),key:Y.key},s[Y.index]=ne,s.splice(Q.index,1),l[Y.key]=ne;for(var oe=0;oe<s.length;oe++){var le=s[oe];Y.key===le.key?M=1/0:"min"===p.linkage?(M=d[Y.key][le.key],d[Y.key][le.key]>d[Q.key][le.key]&&(M=d[Q.key][le.key])):"max"===p.linkage?(M=d[Y.key][le.key],d[Y.key][le.key]<d[Q.key][le.key]&&(M=d[Q.key][le.key])):M="mean"===p.linkage?(d[Y.key][le.key]*Y.size+d[Q.key][le.key]*Q.size)/(Y.size+Q.size):"dendrogram"===p.mode?I(le.value,Y.value):I(le.value[0],Y.value[0]),d[Y.key][le.key]=d[le.key][Y.key]=M}for(var ce=0;ce<s.length;ce++){var pe=s[ce].key;if(f[pe]===Y.key||f[pe]===Q.key){for(var ke=pe,Te=0;Te<s.length;Te++){var me=s[Te].key;d[pe][me]<d[pe][ke]&&(ke=me)}f[pe]=ke}s[ce].index=ce}return Y.key=Q.key=Y.index=Q.index=null,!0},Rl=function u(s,l,d){s&&(s.value?l.push(s.value):(s.left&&u(s.left,l),s.right&&u(s.right,l)))},Yv=function u(s,l){if(!s)return"";if(s.left&&s.right){var d=u(s.left,l),f=u(s.right,l),p=l.add({group:"nodes",data:{id:d+","+f}});return l.add({group:"edges",data:{source:d,target:p.id()}}),l.add({group:"edges",data:{source:f,target:p.id()}}),p.id()}return s.value?s.value.id():void 0},Qr=function u(s,l,d){if(!s)return[];var f=[],p=[],m=[];return 0===l?(s.left&&Rl(s.left,f),s.right&&Rl(s.right,p),m=f.concat(p),[d.collection(m)]):1===l?s.value?[d.collection(s.value)]:(s.left&&Rl(s.left,f),s.right&&Rl(s.right,p),[d.collection(f),d.collection(p)]):s.value?[d.collection(s.value)]:(s.left&&(f=u(s.left,l-1,d)),s.right&&(p=u(s.right,l-1,d)),f.concat(p))},Ox=function(s){for(var l=this.cy(),d=this.nodes(),f=function(s){var l=_o(s),d=Td[l.linkage];return null!=d&&(l.linkage=d),l}(s),p=f.attributes,m=function(ce,pe){return $i(f.distance,p.length,function(ke){return p[ke](ce)},function(ke){return p[ke](pe)},ce,pe)},w=[],M=[],D=[],I=[],L=0;L<d.length;L++){var z={value:"dendrogram"===f.mode?d[L]:[d[L]],key:L,index:L};w[L]=z,I[L]=z,M[L]=[],D[L]=0}for(var W=0;W<w.length;W++)for(var Y=0;Y<=W;Y++){var Q;Q="dendrogram"===f.mode?W===Y?1/0:m(w[W].value,w[Y].value):W===Y?1/0:m(w[W].value[0],w[Y].value[0]),M[W][Y]=Q,M[Y][W]=Q,Q<M[W][D[W]]&&(D[W]=Y)}for(var ne=ta(w,I,M,D,f);ne;)ne=ta(w,I,M,D,f);var oe;return"dendrogram"===f.mode?(oe=Qr(w[0],f.dendrogramDepth,l),f.addDendrogram&&Yv(w[0],l)):(oe=new Array(w.length),w.forEach(function(le,ce){le.key=le.index=null,oe[ce]=l.collection(le.value)})),oe},om={hierarchicalClustering:Ox,hca:Ox},Xv=Ii({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),ef=function(s,l,d,f){var p=function(w,M){return f[M](w)};return-$i(s,f.length,function(m){return p(l,m)},function(m){return p(d,m)},l,d)},Rx=function(s,l,d){for(var f=[],p=0;p<s;p++){for(var m=-1,w=-1/0,M=0;M<d.length;M++){var D=d[M];l[p*s+D]>w&&(m=D,w=l[p*s+D])}m>0&&f.push(m)}for(var I=0;I<d.length;I++)f[d[I]]=d[I];return f},Fs=function(s){for(var l=this.cy(),d=this.nodes(),f=function(s){var l=s.damping,d=s.preference;.5<=l&&l<1||Br("Damping must range on [0.5, 1).  Got: ".concat(l));var f=["median","mean","min","max"];return f.some(function(p){return p===d})||ge(d)||Br("Preference must be one of [".concat(f.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(d)),Xv(s)}(s),p={},m=0;m<d.length;m++)p[d[m].id()]=m;var w,M,D,I,L,z,ve;M=(w=d.length)*w,D=new Array(M);for(var W=0;W<M;W++)D[W]=-1/0;for(var Y=0;Y<w;Y++)for(var Q=0;Q<w;Q++)Y!==Q&&(D[Y*w+Q]=ef(f.distance,d[Y],d[Q],f.attributes));I=function(s,l){var d;return d="median"===l?function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],m=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(d<s.length&&s.splice(d,s.length-d),l>0&&s.splice(0,l)):s=s.slice(l,d);for(var w=0,M=s.length-1;M>=0;M--)m?isFinite(s[M])||(s[M]=-1/0,w++):s.splice(M,1);p&&s.sort(function(z,W){return z-W});var I=s.length,L=Math.floor(I/2);return I%2!=0?s[L+1+w]:(s[L-1+w]+s[L+w])/2}(s):"mean"===l?function(s){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.length,f=0,p=0,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;m<d;m++){var w=s[m];isFinite(w)&&(f+=w,p++)}return f/p}(s):"min"===l?function(s){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.length,f=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var m=s[p];isFinite(m)&&(f=Math.min(m,f))}return f}(s):"max"===l?function(s){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.length,f=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var m=s[p];isFinite(m)&&(f=Math.max(m,f))}return f}(s):l,d}(D,f.preference);for(var ne=0;ne<w;ne++)D[ne*w+ne]=I;L=new Array(M);for(var oe=0;oe<M;oe++)L[oe]=0;z=new Array(M);for(var le=0;le<M;le++)z[le]=0;for(var ce=new Array(w),pe=new Array(w),ke=new Array(w),Te=0;Te<w;Te++)ce[Te]=0,pe[Te]=0,ke[Te]=0;for(var me=new Array(w*f.minIterations),Se=0;Se<me.length;Se++)me[Se]=0;for(ve=0;ve<f.maxIterations;ve++){for(var Re=0;Re<w;Re++){for(var Oe=-1/0,Ee=-1/0,He=-1,Ae=0,Qe=0;Qe<w;Qe++)ce[Qe]=L[Re*w+Qe],(Ae=z[Re*w+Qe]+D[Re*w+Qe])>=Oe?(Ee=Oe,Oe=Ae,He=Qe):Ae>Ee&&(Ee=Ae);for(var Ge=0;Ge<w;Ge++)L[Re*w+Ge]=(1-f.damping)*(D[Re*w+Ge]-Oe)+f.damping*ce[Ge];L[Re*w+He]=(1-f.damping)*(D[Re*w+He]-Ee)+f.damping*ce[He]}for(var We=0;We<w;We++){for(var nt=0,st=0;st<w;st++)ce[st]=z[st*w+We],pe[st]=Math.max(0,L[st*w+We]),nt+=pe[st];nt-=pe[We],pe[We]=L[We*w+We],nt+=pe[We];for(var dt=0;dt<w;dt++)z[dt*w+We]=(1-f.damping)*Math.min(0,nt-pe[dt])+f.damping*ce[dt];z[We*w+We]=(1-f.damping)*(nt-pe[We])+f.damping*ce[We]}for(var it=0,rt=0;rt<w;rt++){var Et=z[rt*w+rt]+L[rt*w+rt]>0?1:0;me[ve%f.minIterations*w+rt]=Et,it+=Et}if(it>0&&(ve>=f.minIterations-1||ve==f.maxIterations-1)){for(var St=0,yt=0;yt<w;yt++){ke[yt]=0;for(var gt=0;gt<f.minIterations;gt++)ke[yt]+=me[gt*w+yt];(0===ke[yt]||ke[yt]===f.minIterations)&&St++}if(St===w)break}}for(var tt=function(s,l,d){for(var f=[],p=0;p<s;p++)l[p*s+p]+d[p*s+p]>0&&f.push(p);return f}(w,L,z),Ct=function(s,l,d){for(var f=Rx(s,l,d),p=0;p<d.length;p++){for(var m=[],w=0;w<f.length;w++)f[w]===d[p]&&m.push(w);for(var M=-1,D=-1/0,I=0;I<m.length;I++){for(var L=0,z=0;z<m.length;z++)L+=l[m[z]*s+m[I]];L>D&&(M=I,D=L)}d[p]=m[M]}return Rx(s,l,d)}(w,D,tt),Mt={},Pt=0;Pt<tt.length;Pt++)Mt[tt[Pt]]=[];for(var Vt=0;Vt<d.length;Vt++){var Ln=Ct[p[d[Vt].id()]];null!=Ln&&Mt[Ln].push(d[Vt])}for(var zt=new Array(tt.length),Lt=0;Lt<tt.length;Lt++)zt[Lt]=l.collection(Mt[tt[Lt]]);return zt},sm={affinityPropagation:Fs,ap:Fs},Ad=Ii({root:void 0,directed:!1}),tf={hierholzer:function(s){if(!_e(s)){var l=arguments;s={root:l[0],directed:l[1]}}var M,D,I,d=Ad(s),f=d.root,p=d.directed,m=this,w=!1;f&&(I=fe(f)?this.filter(f)[0].id():f[0].id());var L={},z={};m.forEach(p?function(le){var ce=le.id();if(le.isNode()){var pe=le.indegree(!0),ke=le.outdegree(!0),Te=pe-ke,me=ke-pe;1==Te?M?w=!0:M=ce:1==me?D?w=!0:D=ce:(me>1||Te>1)&&(w=!0),L[ce]=[],le.outgoers().forEach(function(Se){Se.isEdge()&&L[ce].push(Se.id())})}else z[ce]=[void 0,le.target().id()]}:function(le){var ce=le.id();le.isNode()?(le.degree(!0)%2&&(M?D?w=!0:D=ce:M=ce),L[ce]=[],le.connectedEdges().forEach(function(ke){return L[ce].push(ke.id())})):z[ce]=[le.source().id(),le.target().id()]});var W={found:!1,trail:void 0};if(w)return W;if(D&&M)if(p){if(I&&D!=I)return W;I=D}else{if(I&&D!=I&&M!=I)return W;I||(I=D)}else I||(I=m[0].id());var Y=function(ce){for(var Te,me,Se,pe=ce,ke=[ce];L[pe].length;)Te=L[pe].shift(),me=z[Te][0],pe!=(Se=z[Te][1])?(L[Se]=L[Se].filter(function(ve){return ve!=Te}),pe=Se):!p&&pe!=me&&(L[me]=L[me].filter(function(ve){return ve!=Te}),pe=me),ke.unshift(Te),ke.unshift(pe);return ke},Q=[],ne=[];for(ne=Y(I);1!=ne.length;)0==L[ne[0]].length?(Q.unshift(m.getElementById(ne.shift())),Q.unshift(m.getElementById(ne.shift()))):ne=Y(ne.shift()).concat(ne);for(var oe in Q.unshift(m.getElementById(ne.shift())),L)if(L[oe].length)return W;return W.found=!0,W.trail=this.spawn(Q,!0),W}},qo=function(){var s=this,l={},d=0,f=0,p=[],m=[],w={},D=function L(z,W,Y){z===Y&&(f+=1),l[W]={id:d,low:d++,cutVertex:!1};var ne,oe,le,ce,Q=s.getElementById(W).connectedEdges().intersection(s);0===Q.size()?p.push(s.spawn(s.getElementById(W))):Q.forEach(function(pe){ne=pe.source().id(),oe=pe.target().id(),(le=ne===W?oe:ne)!==Y&&(ce=pe.id(),w[ce]||(w[ce]=!0,m.push({x:W,y:le,edge:pe})),le in l?l[W].low=Math.min(l[W].low,l[le].id):(L(z,le,W),l[W].low=Math.min(l[W].low,l[le].low),l[W].id<=l[le].low&&(l[W].cutVertex=!0,function(z,W){for(var Y=m.length-1,Q=[],ne=s.spawn();m[Y].x!=z||m[Y].y!=W;)Q.push(m.pop().edge),Y--;Q.push(m.pop().edge),Q.forEach(function(oe){var le=oe.connectedNodes().intersection(s);ne.merge(oe),le.forEach(function(ce){var pe=ce.id(),ke=ce.connectedEdges().intersection(s);ne.merge(ce),ne.merge(l[pe].cutVertex?ke.filter(function(Te){return Te.isLoop()}):ke)})}),p.push(ne)}(W,le))))})};s.forEach(function(L){if(L.isNode()){var z=L.id();z in l||(f=0,D(z,z),l[z].cutVertex=f>1)}});var I=Object.keys(l).filter(function(L){return l[L].cutVertex}).map(function(L){return s.getElementById(L)});return{cut:s.spawn(I),components:p}},am=function(){var s=this,l={},d=0,f=[],p=[],m=s.spawn(s),w=function M(D){if(p.push(D),l[D]={index:d,low:d++,explored:!1},s.getElementById(D).connectedEdges().intersection(s).forEach(function(Q){var ne=Q.target().id();ne!==D&&(ne in l||M(ne),l[ne].explored||(l[D].low=Math.min(l[D].low,l[ne].low)))}),l[D].index===l[D].low){for(var L=s.spawn();;){var z=p.pop();if(L.merge(s.getElementById(z)),l[z].low=l[D].index,l[z].explored=!0,z===D)break}var W=L.edgesWith(L),Y=L.merge(W);f.push(Y),m=m.difference(Y)}};return s.forEach(function(M){if(M.isNode()){var D=M.id();D in l||w(D)}}),{cut:m,components:f}},Kv={};[Ie,Ye,_t,ht,Bt,vn,Qt,Cd,uu,us,Hv,Gv,du,om,sm,tf,{hopcroftTarjanBiconnected:qo,htbc:qo,htb:qo,hopcroftTarjanBiconnectedComponents:qo},{tarjanStronglyConnected:am,tsc:am,tscc:am,tarjanStronglyConnectedComponents:am}].forEach(function(u){nn(Kv,u)});var Pl=function u(s){if(!(this instanceof u))return new u(s);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof s&&s.call(this,this.fulfill.bind(this),this.reject.bind(this))};Pl.prototype={fulfill:function(s){return Vx(this,1,"fulfillValue",s)},reject:function(s){return Vx(this,2,"rejectReason",s)},then:function(s,l){var d=this,f=new Pl;return d.onFulfilled.push(jx(s,f,"fulfill")),d.onRejected.push(jx(l,f,"reject")),zx(d),f.proxy}};var Vx=function(s,l,d,f){return 0===s.state&&(s.state=l,s[d]=f,zx(s)),s},zx=function(s){1===s.state?Hx(s,"onFulfilled",s.fulfillValue):2===s.state&&Hx(s,"onRejected",s.rejectReason)},Hx=function(s,l,d){if(0!==s[l].length){var f=s[l];s[l]=[];var p=function(){for(var w=0;w<f.length;w++)f[w](d)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},jx=function(s,l,d){return function(f){if("function"!=typeof s)l[d].call(l,f);else{var p;try{p=s(f)}catch(m){return void l.reject(m)}ik(l,p)}}},ik=function u(s,l){if(s!==l&&s.proxy!==l){var d;if("object"===F(l)&&null!==l||"function"==typeof l)try{d=l.then}catch(p){return void s.reject(p)}if("function"!=typeof d)s.fulfill(l);else{var f=!1;try{d.call(l,function(p){f||(f=!0,p===l?s.reject(new TypeError("circular thenable chain")):u(s,p))},function(p){f||(f=!0,s.reject(p))})}catch(p){f||s.reject(p)}}}else s.reject(new TypeError("cannot resolve promise with itself"))};Pl.all=function(u){return new Pl(function(s,l){for(var d=new Array(u.length),f=0,p=function(M,D){d[M]=D,++f===u.length&&s(d)},m=0;m<u.length;m++)!function(w){var M=u[w];null!=M&&null!=M.then?M.then(function(L){p(w,L)},function(L){l(L)}):p(w,M)}(m)})},Pl.resolve=function(u){return new Pl(function(s,l){s(u)})},Pl.reject=function(u){return new Pl(function(s,l){l(u)})};var Id=typeof Promise<"u"?Promise:Pl,qv=function(s,l,d){var f=Be(s),p=!f,m=this._private=nn({duration:1e3},l,d);if(m.target=s,m.style=m.style||m.css,m.started=!1,m.playing=!1,m.hooked=!1,m.applying=!1,m.progress=0,m.completes=[],m.frames=[],m.complete&&je(m.complete)&&m.completes.push(m.complete),p){var w=s.position();m.startPosition=m.startPosition||{x:w.x,y:w.y},m.startStyle=m.startStyle||s.cy().style().getAnimationStartStyle(s,m.style)}if(f){var M=s.pan();m.startPan={x:M.x,y:M.y},m.startZoom=s.zoom()}this.length=1,this[0]=this},pu=qv.prototype;nn(pu,{instanceString:function(){return"animation"},hook:function(){var s=this._private;if(!s.hooked){var d=s.target._private.animation;(s.queue?d.queue:d.current).push(this),Me(s.target)&&s.target.cy().addToAnimationPool(s.target),s.hooked=!0}return this},play:function(){var s=this._private;return 1===s.progress&&(s.progress=0),s.playing=!0,s.started=!1,s.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var s=this._private;return s.applying=!0,s.started=!1,s.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var s=this._private;return s.playing=!1,s.started=!1,this},stop:function(){var s=this._private;return s.playing=!1,s.started=!1,s.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(s){var l=this._private;return void 0===s?l.progress*l.duration:this.progress(s/l.duration)},progress:function(s){var l=this._private,d=l.playing;return void 0===s?l.progress:(d&&this.pause(),l.progress=s,l.started=!1,d&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var s=this._private,l=s.playing;l&&this.pause(),s.progress=1-s.progress,s.started=!1;var d=function(D,I){var L=s[D];null!=L&&(s[D]=s[I],s[I]=L)};if(d("zoom","startZoom"),d("pan","startPan"),d("position","startPosition"),s.style)for(var f=0;f<s.style.length;f++){var p=s.style[f],m=p.name,w=s.startStyle[m];s.startStyle[m]=p,s.style[f]=w}return l&&this.play(),this},promise:function(s){var d,l=this._private;return d="frame"===s?l.frames:l.completes,new Id(function(f,p){d.push(function(){f()})})}}),pu.complete=pu.completed,pu.run=pu.play,pu.running=pu.playing;var Qv={data:function(s){return s=nn({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(f){},beforeSet:function(f,p){},onSet:function(f){},canSet:function(f){return!0}},s),function(f,p){var m=s,w=this,M=void 0!==w.length,D=M?w:[w],I=M?w[0]:w;if(fe(f)){var W,z=-1!==f.indexOf(".")&&A.default(f);if(m.allowGetting&&void 0===p)return I&&(m.beforeGet(I),W=z&&void 0===I._private[m.field][f]?P.default(I._private[m.field],z):I._private[m.field][f]),W;if(m.allowSetting&&void 0!==p&&!m.immutableKeys[f]){var Q=U({},f,p);m.beforeSet(w,Q);for(var ne=0,oe=D.length;ne<oe;ne++){var le=D[ne];m.canSet(le)&&(z&&void 0===I._private[m.field][f]?R.default(le._private[m.field],z,p):le._private[m.field][f]=p)}m.updateStyle&&w.updateStyle(),m.onSet(w),m.settingTriggersEvent&&w[m.triggerFnName](m.settingEvent)}}else if(m.allowSetting&&_e(f)){var pe,ke,ce=f,Te=Object.keys(ce);m.beforeSet(w,ce);for(var me=0;me<Te.length;me++)if(ke=ce[pe=Te[me]],!m.immutableKeys[pe])for(var ve=0;ve<D.length;ve++){var Re=D[ve];m.canSet(Re)&&(Re._private[m.field][pe]=ke)}m.updateStyle&&w.updateStyle(),m.onSet(w),m.settingTriggersEvent&&w[m.triggerFnName](m.settingEvent)}else if(m.allowBinding&&je(f))w.on(m.bindingEvent,f);else if(m.allowGetting&&void 0===f){var Ee;return I&&(m.beforeGet(I),Ee=I._private[m.field]),Ee}return w}},removeData:function(s){return s=nn({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},s),function(f){var p=s,m=this,M=void 0!==m.length?m:[m];if(fe(f)){for(var D=f.split(/\s+/),I=D.length,L=0;L<I;L++){var z=D[L];if(!Ne(z)&&!p.immutableKeys[z])for(var Y=0,Q=M.length;Y<Q;Y++)M[Y]._private[p.field][z]=void 0}p.triggerEvent&&m[p.triggerFnName](p.event)}else if(void 0===f){for(var ne=0,oe=M.length;ne<oe;ne++)for(var le=M[ne]._private[p.field],ce=Object.keys(le),pe=0;pe<ce.length;pe++){var ke=ce[pe];!p.immutableKeys[ke]&&(le[ke]=void 0)}p.triggerEvent&&m[p.triggerFnName](p.event)}return m}}},ok={eventAliasesOn:function(s){var l=s;l.addListener=l.listen=l.bind=l.on,l.unlisten=l.unbind=l.off=l.removeListener,l.trigger=l.emit,l.pon=l.promiseOn=function(d,f){var p=this,m=Array.prototype.slice.call(arguments,0);return new Id(function(w,M){var I=m.concat([function(W){p.off.apply(p,L),w(W)}]),L=I.concat([]);p.on.apply(p,I)})}}},Fr={};[{animated:function(){return function(){var l=this,f=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return!1;var m=f[0];return m?m._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var l=this,f=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return this;for(var m=0;m<f.length;m++)f[m]._private.animation.queue=[];return this}},delay:function(){return function(l,d){return(this._private.cy||this).styleEnabled()?this.animate({delay:l,duration:l,complete:d}):this}},delayAnimation:function(){return function(l,d){return(this._private.cy||this).styleEnabled()?this.animation({delay:l,duration:l,complete:d}):this}},animation:function(){return function(l,d){var f=this,p=void 0!==f.length,m=p?f:[f],w=this._private.cy||this,M=!p,D=!M;if(!w.styleEnabled())return this;var I=w.style();if(l=nn({},l,d),0===Object.keys(l).length)return new qv(m[0],l);switch(void 0===l.duration&&(l.duration=400),l.duration){case"slow":l.duration=600;break;case"fast":l.duration=200}if(D&&(l.style=I.getPropsList(l.style||l.css),l.css=void 0),D&&null!=l.renderedPosition){var z=l.renderedPosition,W=w.pan(),Y=w.zoom();l.position=ar(z,Y,W)}if(M&&null!=l.panBy){var Q=l.panBy,ne=w.pan();l.pan={x:ne.x+Q.x,y:ne.y+Q.y}}var oe=l.center||l.centre;if(M&&null!=oe){var le=w.getCenterPan(oe.eles,l.zoom);null!=le&&(l.pan=le)}if(M&&null!=l.fit){var ce=l.fit,pe=w.getFitViewport(ce.eles||ce.boundingBox,ce.padding);null!=pe&&(l.pan=pe.pan,l.zoom=pe.zoom)}if(M&&_e(l.zoom)){var ke=w.getZoomedViewport(l.zoom);null!=ke?(ke.zoomed&&(l.zoom=ke.zoom),ke.panned&&(l.pan=ke.pan)):l.zoom=null}return new qv(m[0],l)}},animate:function(){return function(l,d){var f=this,m=void 0!==f.length?f:[f];if(!(this._private.cy||this).styleEnabled())return this;d&&(l=nn({},l,d));for(var M=0;M<m.length;M++){var D=m[M],I=D.animated()&&(void 0===l.queue||l.queue);D.animation(l,I?{queue:!0}:void 0).play()}return this}},stop:function(){return function(l,d){var f=this,m=void 0!==f.length?f:[f],w=this._private.cy||this;if(!w.styleEnabled())return this;for(var M=0;M<m.length;M++){for(var I=m[M]._private,L=I.animation.current,z=0;z<L.length;z++)d&&(L[z]._private.duration=0);l&&(I.animation.queue=[]),d||(I.animation.current=[])}return w.notify("draw"),this}}},Qv,ok].forEach(function(u){nn(Fr,u)});var sk={animate:Fr.animate(),animation:Fr.animation(),animated:Fr.animated(),clearQueue:Fr.clearQueue(),delay:Fr.delay(),delayAnimation:Fr.delayAnimation(),stop:Fr.stop()},wa={classes:function(s){var l=this;if(void 0===s){var d=[];return l[0]._private.classes.forEach(function(Y){return d.push(Y)}),d}Ve(s)||(s=(s||"").match(/\S+/g)||[]);for(var f=[],p=new Ya(s),m=0;m<l.length;m++){for(var w=l[m],M=w._private,D=M.classes,I=!1,L=0;L<s.length;L++)if(!D.has(s[L])){I=!0;break}I||(I=D.size!==s.length),I&&(M.classes=p,f.push(w))}return f.length>0&&this.spawn(f).updateStyle().emit("class"),l},addClass:function(s){return this.toggleClass(s,!0)},hasClass:function(s){var l=this[0];return null!=l&&l._private.classes.has(s)},toggleClass:function(s,l){Ve(s)||(s=s.match(/\S+/g)||[]);for(var d=this,f=void 0===l,p=[],m=0,w=d.length;m<w;m++)for(var M=d[m],D=M._private.classes,I=!1,L=0;L<s.length;L++){var z=s[L],W=D.has(z),Y=!1;l||f&&!W?(D.add(z),Y=!0):(!l||f&&W)&&(D.delete(z),Y=!0),!I&&Y&&(p.push(M),I=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),d},removeClass:function(s){return this.toggleClass(s,!1)},flashClass:function(s,l){var d=this;if(null==l)l=250;else if(0===l)return d;return d.addClass(s),setTimeout(function(){d.removeClass(s)},l),d}};wa.className=wa.classNames=wa.classes;var xr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Ft,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};xr.variable="(?:[\\w-.]|(?:\\\\"+xr.metaChar+"))+",xr.className="(?:[\\w-]|(?:\\\\"+xr.metaChar+"))+",xr.value=xr.string+"|"+xr.number,xr.id=xr.variable,function(){var u,s,l;for(u=xr.comparatorOp.split("|"),l=0;l<u.length;l++)xr.comparatorOp+="|@"+(s=u[l]);for(u=xr.comparatorOp.split("|"),l=0;l<u.length;l++)!((s=u[l]).indexOf("!")>=0)&&"="!==s&&(xr.comparatorOp+="|\\!"+s)}();var lm=[{selector:":selected",matches:function(s){return s.selected()}},{selector:":unselected",matches:function(s){return!s.selected()}},{selector:":selectable",matches:function(s){return s.selectable()}},{selector:":unselectable",matches:function(s){return!s.selectable()}},{selector:":locked",matches:function(s){return s.locked()}},{selector:":unlocked",matches:function(s){return!s.locked()}},{selector:":visible",matches:function(s){return s.visible()}},{selector:":hidden",matches:function(s){return!s.visible()}},{selector:":transparent",matches:function(s){return s.transparent()}},{selector:":grabbed",matches:function(s){return s.grabbed()}},{selector:":free",matches:function(s){return!s.grabbed()}},{selector:":removed",matches:function(s){return s.removed()}},{selector:":inside",matches:function(s){return!s.removed()}},{selector:":grabbable",matches:function(s){return s.grabbable()}},{selector:":ungrabbable",matches:function(s){return!s.grabbable()}},{selector:":animated",matches:function(s){return s.animated()}},{selector:":unanimated",matches:function(s){return!s.animated()}},{selector:":parent",matches:function(s){return s.isParent()}},{selector:":childless",matches:function(s){return s.isChildless()}},{selector:":child",matches:function(s){return s.isChild()}},{selector:":orphan",matches:function(s){return s.isOrphan()}},{selector:":nonorphan",matches:function(s){return s.isChild()}},{selector:":compound",matches:function(s){return s.isNode()?s.isParent():s.source().isParent()||s.target().isParent()}},{selector:":loop",matches:function(s){return s.isLoop()}},{selector:":simple",matches:function(s){return s.isSimple()}},{selector:":active",matches:function(s){return s.active()}},{selector:":inactive",matches:function(s){return!s.active()}},{selector:":backgrounding",matches:function(s){return s.backgrounding()}},{selector:":nonbackgrounding",matches:function(s){return!s.backgrounding()}}].sort(function(u,s){return function(s,l){return-1*Fi(s,l)}(u.selector,s.selector)}),Ux=function(){for(var s,u={},l=0;l<lm.length;l++)u[(s=lm[l]).selector]=s.matches;return u}(),ey="("+lm.map(function(u){return u.selector}).join("|")+")",mu=function(s){return s.replace(new RegExp("\\\\("+xr.metaChar+")","g"),function(l,d){return d})},Ea=function(s,l,d){s[s.length-1]=d},cm=[{name:"group",query:!0,regex:"("+xr.group+")",populate:function(s,l,d){var p=Z(d,1)[0];l.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:ey,populate:function(s,l,d){var f=Z(d,1);l.checks.push({type:7,value:f[0]})}},{name:"id",query:!0,regex:"\\#("+xr.id+")",populate:function(s,l,d){var f=Z(d,1);l.checks.push({type:8,value:mu(f[0])})}},{name:"className",query:!0,regex:"\\.("+xr.className+")",populate:function(s,l,d){var f=Z(d,1);l.checks.push({type:9,value:mu(f[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+xr.variable+")\\s*\\]",populate:function(s,l,d){var f=Z(d,1);l.checks.push({type:4,field:mu(f[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+xr.variable+")\\s*("+xr.comparatorOp+")\\s*("+xr.value+")\\s*\\]",populate:function(s,l,d){var f=Z(d,3),p=f[0],m=f[1],w=f[2];w=null!=new RegExp("^"+xr.string+"$").exec(w)?w.substring(1,w.length-1):parseFloat(w),l.checks.push({type:3,field:mu(p),operator:m,value:w})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+xr.boolOp+")\\s*("+xr.variable+")\\s*\\]",populate:function(s,l,d){var f=Z(d,2),p=f[0];l.checks.push({type:5,field:mu(f[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+xr.meta+")\\s*("+xr.comparatorOp+")\\s*("+xr.number+")\\s*\\]\\]",populate:function(s,l,d){var f=Z(d,3),m=f[1],w=f[2];l.checks.push({type:6,field:mu(f[0]),operator:m,value:parseFloat(w)})}},{name:"nextQuery",separator:!0,regex:xr.separator,populate:function(s,l){var d=s.currentSubject,f=s.edgeCount,p=s.compoundCount,m=s[s.length-1];return null!=d&&(m.subject=d,s.currentSubject=null),m.edgeCount=f,m.compoundCount=p,s.edgeCount=0,s.compoundCount=0,s[s.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:xr.directedEdge,populate:function(s,l){if(null==s.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:11,source:l,target:p}),Ea(s,0,d),s.edgeCount++,p}var m={checks:[]},M={checks:[]};return m.checks.push({type:12,source:l,target:M}),Ea(s,0,m),s.edgeCount++,M}},{name:"undirectedEdge",separator:!0,regex:xr.undirectedEdge,populate:function(s,l){if(null==s.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:10,nodes:[l,p]}),Ea(s,0,d),s.edgeCount++,p}var m={checks:[]},M={checks:[]};return m.checks.push({type:14,node:l,neighbor:M}),Ea(s,0,m),M}},{name:"child",separator:!0,regex:xr.child,populate:function(s,l){if(null==s.currentSubject){var d={checks:[]},f={checks:[]};return d.checks.push({type:15,parent:s[s.length-1],child:f}),Ea(s,0,d),s.compoundCount++,f}if(s.currentSubject===l){var m={checks:[]},M={checks:[]},D={checks:[]},I={checks:[]},L={checks:[]};return m.checks.push({type:19,left:s[s.length-1],right:M,subject:D}),D.checks=l.checks,l.checks=[{type:20}],L.checks.push({type:20}),M.checks.push({type:17,parent:L,child:I}),Ea(s,0,m),s.currentSubject=D,s.compoundCount++,I}var z={checks:[]},W={checks:[]},Y=[{type:17,parent:z,child:W}];return z.checks=l.checks,l.checks=Y,s.compoundCount++,W}},{name:"descendant",separator:!0,regex:xr.descendant,populate:function(s,l){if(null==s.currentSubject){var d={checks:[]},f={checks:[]};return d.checks.push({type:16,ancestor:s[s.length-1],descendant:f}),Ea(s,0,d),s.compoundCount++,f}if(s.currentSubject===l){var m={checks:[]},M={checks:[]},D={checks:[]},I={checks:[]},L={checks:[]};return m.checks.push({type:19,left:s[s.length-1],right:M,subject:D}),D.checks=l.checks,l.checks=[{type:20}],L.checks.push({type:20}),M.checks.push({type:18,ancestor:L,descendant:I}),Ea(s,0,m),s.currentSubject=D,s.compoundCount++,I}var z={checks:[]},W={checks:[]},Y=[{type:18,ancestor:z,descendant:W}];return z.checks=l.checks,l.checks=Y,s.compoundCount++,W}},{name:"subject",modifier:!0,regex:xr.subject,populate:function(s,l){if(null!=s.currentSubject&&s.currentSubject!==l)return Dr("Redefinition of subject in selector `"+s.toString()+"`"),!1;s.currentSubject=l;var f=s[s.length-1].checks[0],p=null==f?null:f.type;11===p?f.type=13:10===p&&(f.type=14,f.node=f.nodes[1],f.neighbor=f.nodes[0],f.nodes=null)}}];cm.forEach(function(u){return u.regexObj=new RegExp("^"+u.regex)});var Ls=function(s){for(var l,d,f,p=0;p<cm.length;p++){var m=cm[p],w=m.name,M=s.match(m.regexObj);if(null!=M){d=M,l=m,f=w,s=s.substring(M[0].length);break}}return{expr:l,match:d,name:f,remaining:s}},Gx={parse:function(s){var l=this,d=l.inputText=s,f=l[0]={checks:[]};for(l.length=1,d=function(s){var l=s.match(/^\s+/);return l&&(s=s.substring(l[0].length)),s}(d);;){var p=Ls(d);if(null==p.expr)return Dr("The selector `"+s+"`is invalid"),!1;var m=p.match.slice(1),w=p.expr.populate(l,f,m);if(!1===w)return!1;if(null!=w&&(f=w),(d=p.remaining).match(/^\s*$/))break}var M=l[l.length-1];null!=l.currentSubject&&(M.subject=l.currentSubject),M.edgeCount=l.edgeCount,M.compoundCount=l.compoundCount;for(var D=0;D<l.length;D++){var I=l[D];if(I.compoundCount>0&&I.edgeCount>0)return Dr("The selector `"+s+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(I.edgeCount>1)return Dr("The selector `"+s+"` is invalid because it uses multiple edge selectors"),!1;1===I.edgeCount&&Dr("The selector `"+s+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var s=function(I){return I??""},l=function(I){return fe(I)?'"'+I+'"':s(I)},d=function(I){return" "+I+" "},p=function(I,L){return I.checks.reduce(function(z,W,Y){return z+(L===I&&0===Y?"$":"")+function(I,L){var W=I.value;switch(I.type){case 0:var Y=s(W);return Y.substring(0,Y.length-1);case 3:return"["+I.field+d(s(I.operator))+l(W)+"]";case 5:var le=I.field;return"["+s(I.operator)+le+"]";case 4:return"["+I.field+"]";case 6:return"[["+I.field+d(s(I.operator))+l(W)+"]]";case 7:return W;case 8:return"#"+W;case 9:return"."+W;case 17:case 15:return p(I.parent,L)+d(">")+p(I.child,L);case 18:case 16:return p(I.ancestor,L)+" "+p(I.descendant,L);case 19:var Te=p(I.left,L),me=p(I.subject,L),Se=p(I.right,L);return Te+(Te.length>0?" ":"")+me+Se;case 20:return""}}(W,L)},"")},m="",w=0;w<this.length;w++){var M=this[w];m+=p(M,M.subject),this.length>1&&w<this.length-1&&(m+=", ")}return this.toStringCache=m,m}},Od=function(s,l,d){var f,M,D,p=fe(s),m=ge(s),w=fe(d),I=!1,L=!1,z=!1;switch(l.indexOf("!")>=0&&(l=l.replace("!",""),L=!0),l.indexOf("@")>=0&&(l=l.replace("@",""),I=!0),(p||w||I)&&(M=p||m?""+s:"",D=""+d),I&&(s=M=M.toLowerCase(),d=D=D.toLowerCase()),l){case"*=":f=M.indexOf(D)>=0;break;case"$=":f=M.indexOf(D,M.length-D.length)>=0;break;case"^=":f=0===M.indexOf(D);break;case"=":f=s===d;break;case">":z=!0,f=s>d;break;case">=":z=!0,f=s>=d;break;case"<":z=!0,f=s<d;break;case"<=":z=!0,f=s<=d;break;default:f=!1}return L&&(null!=s||!z)&&(f=!f),f},nf=function(s,l){return s.data(l)},gr=[],Jr=function(s,l){return s.checks.every(function(d){return gr[d.type](d,l)})};gr[0]=function(u,s){var l=u.value;return"*"===l||l===s.group()},gr[7]=function(u,s){return function(s,l){return Ux[s](l)}(u.value,s)},gr[8]=function(u,s){var l=u.value;return s.id()===l},gr[9]=function(u,s){return s.hasClass(u.value)},gr[6]=function(u,s){var d=u.operator,f=u.value;return Od(function(s,l){return s[l]()}(s,u.field),d,f)},gr[3]=function(u,s){var d=u.operator,f=u.value;return Od(nf(s,u.field),d,f)},gr[5]=function(u,s){var d=u.operator;return function(s,l){switch(l){case"?":return!!s;case"!":return!s;case"^":return void 0===s}}(nf(s,u.field),d)},gr[4]=function(u,s){return function(s){return void 0!==s}(nf(s,u.field))},gr[10]=function(u,s){var l=u.nodes[0],d=u.nodes[1],f=s.source(),p=s.target();return Jr(l,f)&&Jr(d,p)||Jr(d,f)&&Jr(l,p)},gr[14]=function(u,s){return Jr(u.node,s)&&s.neighborhood().some(function(l){return l.isNode()&&Jr(u.neighbor,l)})},gr[11]=function(u,s){return Jr(u.source,s.source())&&Jr(u.target,s.target())},gr[12]=function(u,s){return Jr(u.source,s)&&s.outgoers().some(function(l){return l.isNode()&&Jr(u.target,l)})},gr[13]=function(u,s){return Jr(u.target,s)&&s.incomers().some(function(l){return l.isNode()&&Jr(u.source,l)})},gr[15]=function(u,s){return Jr(u.child,s)&&Jr(u.parent,s.parent())},gr[17]=function(u,s){return Jr(u.parent,s)&&s.children().some(function(l){return Jr(u.child,l)})},gr[16]=function(u,s){return Jr(u.descendant,s)&&s.ancestors().some(function(l){return Jr(u.ancestor,l)})},gr[18]=function(u,s){return Jr(u.ancestor,s)&&s.descendants().some(function(l){return Jr(u.descendant,l)})},gr[19]=function(u,s){return Jr(u.subject,s)&&Jr(u.left,s)&&Jr(u.right,s)},gr[20]=function(){return!0},gr[1]=function(u,s){return u.value.has(s)},gr[2]=function(u,s){return(0,u.value)(s)};var Nl={matches:function(s){for(var d=0;d<this.length;d++)if(Jr(this[d],s))return!0;return!1},filter:function(s){var l=this;if(1===l.length&&1===l[0].checks.length&&8===l[0].checks[0].type)return s.getElementById(l[0].checks[0].value).collection();var d=function(p){for(var m=0;m<l.length;m++)if(Jr(l[m],p))return!0;return!1};return null==l.text()&&(d=function(){return!0}),s.filter(d)}},el=function(s){this.inputText=s,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==s||fe(s)&&s.match(/^\s*$/)||(Me(s)?this.addQuery({checks:[{type:1,value:s.collection()}]}):je(s)?this.addQuery({checks:[{type:2,value:s}]}):fe(s)?this.parse(s)||(this.invalid=!0):Br("A selector must be created from a string; found "))},Ca=el.prototype;[Gx,Nl].forEach(function(u){return nn(Ca,u)}),Ca.text=function(){return this.inputText},Ca.size=function(){return this.length},Ca.eq=function(u){return this[u]},Ca.sameText=function(u){return!this.invalid&&!u.invalid&&this.text()===u.text()},Ca.addQuery=function(u){this[this.length++]=u},Ca.selector=Ca.toString;var _n={allAre:function(s){var l=new el(s);return this.every(function(d){return l.matches(d)})},is:function(s){var l=new el(s);return this.some(function(d){return l.matches(d)})},some:function(s,l){for(var d=0;d<this.length;d++)if(l?s.apply(l,[this[d],d,this]):s(this[d],d,this))return!0;return!1},every:function(s,l){for(var d=0;d<this.length;d++)if(!(l?s.apply(l,[this[d],d,this]):s(this[d],d,this)))return!1;return!0},same:function(s){if(this===s)return!0;s=this.cy().collection(s);var l=this.length;return l===s.length&&(1===l?this[0]===s[0]:this.every(function(f){return s.hasElementWithId(f.id())}))},anySame:function(s){return s=this.cy().collection(s),this.some(function(l){return s.hasElementWithId(l.id())})},allAreNeighbors:function(s){s=this.cy().collection(s);var l=this.neighborhood();return s.every(function(d){return l.hasElementWithId(d.id())})},contains:function(s){s=this.cy().collection(s);var l=this;return s.every(function(d){return l.hasElementWithId(d.id())})}};_n.allAreNeighbours=_n.allAreNeighbors,_n.has=_n.contains,_n.equal=_n.equals=_n.same;var Pd,sy,fs=function(s,l){return function(f,p,m,w){var I,M=f,D=this;if(null==M?I="":Me(M)&&1===M.length&&(I=M.id()),1===D.length&&I){var L=D[0]._private,z=L.traversalCache=L.traversalCache||{},W=z[l]=z[l]||[],Y=$a(I);return W[Y]||(W[Y]=s.call(D,f,p,m,w))}return s.call(D,f,p,m,w)}},Rd={parent:function(s){var l=[];if(1===this.length){var d=this[0]._private.parent;if(d)return d}for(var f=0;f<this.length;f++){var m=this[f]._private.parent;m&&l.push(m)}return this.spawn(l,!0).filter(s)},parents:function(s){for(var l=[],d=this.parent();d.nonempty();){for(var f=0;f<d.length;f++)l.push(d[f]);d=d.parent()}return this.spawn(l,!0).filter(s)},commonAncestors:function(s){for(var l,d=0;d<this.length;d++){var p=this[d].parents();l=(l=l||p).intersect(p)}return l.filter(s)},orphans:function(s){return this.stdFilter(function(l){return l.isOrphan()}).filter(s)},nonorphans:function(s){return this.stdFilter(function(l){return l.isChild()}).filter(s)},children:fs(function(u){for(var s=[],l=0;l<this.length;l++)for(var f=this[l]._private.children,p=0;p<f.length;p++)s.push(f[p]);return this.spawn(s,!0).filter(u)},"children"),siblings:function(s){return this.parent().children().not(this).filter(s)},isParent:function(){var s=this[0];if(s)return s.isNode()&&0!==s._private.children.length},isChildless:function(){var s=this[0];if(s)return s.isNode()&&0===s._private.children.length},isChild:function(){var s=this[0];if(s)return s.isNode()&&null!=s._private.parent},isOrphan:function(){var s=this[0];if(s)return s.isNode()&&null==s._private.parent},descendants:function(s){var l=[];return function d(f){for(var p=0;p<f.length;p++){var m=f[p];l.push(m),m.children().nonempty()&&d(m.children())}}(this.children()),this.spawn(l,!0).filter(s)}};function um(u,s,l,d){for(var f=[],p=new Ya,w=u.cy().hasCompoundNodes(),M=0;M<u.length;M++){var D=u[M];l?f.push(D):w&&d(f,p,D)}for(;f.length>0;){var I=f.shift();s(I),p.add(I.id()),w&&d(f,p,I)}return u}function ry(u,s,l){if(l.isParent())for(var d=l._private.children,f=0;f<d.length;f++){var p=d[f];s.has(p.id())||u.push(p)}}function iy(u,s,l){if(l.isChild()){var d=l._private.parent;s.has(d.id())||u.push(d)}}function oy(u,s,l){iy(u,s,l),ry(u,s,l)}Rd.forEachDown=function(u){return um(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ry)},Rd.forEachUp=function(u){return um(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],iy)},Rd.forEachUpAndDown=function(u){return um(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],oy)},Rd.ancestors=Rd.parents,Pd=sy={data:Fr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Fr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Fr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Fr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Fr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Fr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var s=this[0];if(s)return s._private.data.id}},Pd.attr=Pd.data,Pd.removeAttr=Pd.removeData;var At=sy,Jn={};function Bi(u){return function(s){var l=this;if(void 0===s&&(s=!0),0===l.length);else if(l.isNode()&&!l.removed()){for(var d=0,f=l[0],p=f._private.edges,m=0;m<p.length;m++){var w=p[m];!s&&w.isLoop()||(d+=u(f,w))}return d}}}function gi(u,s){return function(l){for(var d,f=this.nodes(),p=0;p<f.length;p++){var w=f[p][u](l);void 0!==w&&(void 0===d||s(w,d))&&(d=w)}return d}}nn(Jn,{degree:Bi(function(u,s){return s.source().same(s.target())?2:1}),indegree:Bi(function(u,s){return s.target().same(u)?1:0}),outdegree:Bi(function(u,s){return s.source().same(u)?1:0})}),nn(Jn,{minDegree:gi("degree",function(u,s){return u<s}),maxDegree:gi("degree",function(u,s){return u>s}),minIndegree:gi("indegree",function(u,s){return u<s}),maxIndegree:gi("indegree",function(u,s){return u>s}),minOutdegree:gi("outdegree",function(u,s){return u<s}),maxOutdegree:gi("outdegree",function(u,s){return u>s})}),nn(Jn,{totalDegree:function(s){for(var l=0,d=this.nodes(),f=0;f<d.length;f++)l+=d[f].degree(s);return l}});var Ur,dm,vu=function(s,l,d){for(var f=0;f<s.length;f++){var p=s[f];if(!p.locked()){var m=p._private.position,w={x:null!=l.x?l.x-m.x:0,y:null!=l.y?l.y-m.y:0};p.isParent()&&!(0===w.x&&0===w.y)&&p.children().shift(w,d),p.dirtyBoundingBoxCache()}}},na={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(s){s.updateCompoundBounds()},beforeSet:function(s,l){vu(s,l,!1)},onSet:function(s){s.dirtyCompoundBoundsCache()},canSet:function(s){return!s.locked()}};Ur=dm={position:Fr.data(na),silentPosition:Fr.data(nn({},na,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(s,l){vu(s,l,!0)},onSet:function(s){s.dirtyCompoundBoundsCache()}})),positions:function(s,l){if(_e(s))l?this.silentPosition(s):this.position(s);else if(je(s)){var d=s,f=this.cy();f.startBatch();for(var p=0;p<this.length;p++){var w,m=this[p];(w=d(m,p))&&(l?m.silentPosition(w):m.position(w))}f.endBatch()}return this},silentPositions:function(s){return this.positions(s,!0)},shift:function(s,l,d){var f;if(_e(s)?(f={x:ge(s.x)?s.x:0,y:ge(s.y)?s.y:0},d=l):fe(s)&&ge(l)&&((f={x:0,y:0})[s]=l),null!=f){var p=this.cy();p.startBatch();for(var m=0;m<this.length;m++){var w=this[m];if(!(p.hasCompoundNodes()&&w.isChild()&&w.ancestors().anySame(this))){var M=w.position(),D={x:M.x+f.x,y:M.y+f.y};d?w.silentPosition(D):w.position(D)}}p.endBatch()}return this},silentShift:function(s,l){return _e(s)?this.shift(s,!0):fe(s)&&ge(l)&&this.shift(s,l,!0),this},renderedPosition:function(s,l){var d=this[0],f=this.cy(),p=f.zoom(),m=f.pan(),w=_e(s)?s:void 0,M=void 0!==w||void 0!==l&&fe(s);if(d&&d.isNode()){if(!M){var L=d.position();return w=sr(L,p,m),void 0===s?w:w[s]}for(var D=0;D<this.length;D++){var I=this[D];void 0!==l?I.position(s,(l-m[s])/p):void 0!==w&&I.position(ar(w,p,m))}}else if(!M)return;return this},relativePosition:function(s,l){var d=this[0],f=this.cy(),p=_e(s)?s:void 0,m=void 0!==p||void 0!==l&&fe(s),w=f.hasCompoundNodes();if(d&&d.isNode()){if(!m){var Y=d.position(),Q=w?d.parent():null,ne=Q&&Q.length>0;ne&&(Q=Q[0]);var le=ne?Q.position():{x:0,y:0};return p={x:Y.x-le.x,y:Y.y-le.y},void 0===s?p:p[s]}for(var M=0;M<this.length;M++){var D=this[M],I=w?D.parent():null,L=I&&I.length>0;L&&(I=I[0]);var W=L?I.position():{x:0,y:0};void 0!==l?D.position(s,l+W[s]):void 0!==p&&D.position({x:p.x+W.x,y:p.y+W.y})}}else if(!m)return;return this}},Ur.modelPosition=Ur.point=Ur.position,Ur.modelPositions=Ur.points=Ur.positions,Ur.renderedPoint=Ur.renderedPosition,Ur.relativePoint=Ur.relativePosition;var Fl,Ll,hm=dm;Fl=Ll={},Ll.renderedBoundingBox=function(u){var s=this.boundingBox(u),l=this.cy(),d=l.zoom(),f=l.pan(),p=s.x1*d+f.x,m=s.x2*d+f.x,w=s.y1*d+f.y,M=s.y2*d+f.y;return{x1:p,x2:m,y1:w,y2:M,w:m-p,h:M-w}},Ll.dirtyCompoundBoundsCache=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=this.cy();return s.styleEnabled()&&s.hasCompoundNodes()?(this.forEachUp(function(l){if(l.isParent()){var d=l._private;d.compoundBoundsClean=!1,d.bbCache=null,u||l.emitAndNotify("bounds")}}),this):this},Ll.updateCompoundBounds=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=this.cy();if(!s.styleEnabled()||!s.hasCompoundNodes())return this;if(!u&&s.batching())return this;function l(m){if(m.isParent()){var w=m._private,M=m.children(),D="include"===m.pstyle("compound-sizing-wrt-labels").value,I={width:{val:m.pstyle("min-width").pfValue,left:m.pstyle("min-width-bias-left"),right:m.pstyle("min-width-bias-right")},height:{val:m.pstyle("min-height").pfValue,top:m.pstyle("min-height-bias-top"),bottom:m.pstyle("min-height-bias-bottom")}},L=M.boundingBox({includeLabels:D,includeOverlays:!1,useCache:!1}),z=w.position;(0===L.w||0===L.h)&&((L={w:m.pstyle("width").pfValue,h:m.pstyle("height").pfValue}).x1=z.x-L.w/2,L.x2=z.x+L.w/2,L.y1=z.y-L.h/2,L.y2=z.y+L.h/2);var Q=I.width.left.value;"px"===I.width.left.units&&I.width.val>0&&(Q=100*Q/I.width.val);var ne=I.width.right.value;"px"===I.width.right.units&&I.width.val>0&&(ne=100*ne/I.width.val);var oe=I.height.top.value;"px"===I.height.top.units&&I.height.val>0&&(oe=100*oe/I.height.val);var le=I.height.bottom.value;"px"===I.height.bottom.units&&I.height.val>0&&(le=100*le/I.height.val);var ce=W(I.width.val-L.w,Q,ne),pe=ce.biasDiff,ke=ce.biasComplementDiff,Te=W(I.height.val-L.h,oe,le),me=Te.biasDiff,Se=Te.biasComplementDiff;w.autoPadding=function Y(ve,Re,Oe,Ee){if("%"!==Oe.units)return"px"===Oe.units?Oe.pfValue:0;switch(Ee){case"width":return ve>0?Oe.pfValue*ve:0;case"height":return Re>0?Oe.pfValue*Re:0;case"average":return ve>0&&Re>0?Oe.pfValue*(ve+Re)/2:0;case"min":return ve>0&&Re>0?ve>Re?Oe.pfValue*Re:Oe.pfValue*ve:0;case"max":return ve>0&&Re>0?ve>Re?Oe.pfValue*ve:Oe.pfValue*Re:0;default:return 0}}(L.w,L.h,m.pstyle("padding"),m.pstyle("padding-relative-to").value),w.autoWidth=Math.max(L.w,I.width.val),z.x=(-pe+L.x1+L.x2+ke)/2,w.autoHeight=Math.max(L.h,I.height.val),z.y=(-me+L.y1+L.y2+Se)/2}function W(ve,Re,Oe){var Ee=0,He=0,Ae=Re+Oe;return ve>0&&Ae>0&&(Ee=Re/Ae*ve,He=Oe/Ae*ve),{biasDiff:Ee,biasComplementDiff:He}}}for(var d=0;d<this.length;d++){var f=this[d],p=f._private;(!p.compoundBoundsClean||u)&&(l(f),s.batching()||(p.compoundBoundsClean=!0))}return this};var ra=function(s){return s===1/0||s===-1/0?0:s},Bs=function(s,l,d,f,p){f-l==0||p-d==0||null==l||null==d||null==f||null==p||(s.x1=l<s.x1?l:s.x1,s.x2=f>s.x2?f:s.x2,s.y1=d<s.y1?d:s.y1,s.y2=p>s.y2?p:s.y2,s.w=s.x2-s.x1,s.h=s.y2-s.y1)},Ei=function(s,l){return null==l?s:Bs(s,l.x1,l.y1,l.x2,l.y2)},ps=function(s,l,d){return As(s,l,d)},Nd=function(s,l,d){if(!l.cy().headless()){var M,D,f=l._private,p=f.rstyle,m=p.arrowWidth/2;if("none"!==l.pstyle(d+"-arrow-shape").value){"source"===d?(M=p.srcX,D=p.srcY):"target"===d?(M=p.tgtX,D=p.tgtY):(M=p.midX,D=p.midY);var I=f.arrowBounds=f.arrowBounds||{},L=I[d]=I[d]||{};L.x1=M-m,L.y1=D-m,L.x2=M+m,L.y2=D+m,L.w=L.x2-L.x1,L.h=L.y2-L.y1,zn(L,1),Bs(s,L.x1,L.y1,L.x2,L.y2)}}},Bl=function(s,l,d){if(!l.cy().headless()){var f,p=l._private,m=p.rstyle;if(l.pstyle((f=d?d+"-":"")+"label").strValue){var Oe,Ee,He,Ae,M=l.pstyle("text-halign"),D=l.pstyle("text-valign"),I=ps(m,"labelWidth",d),L=ps(m,"labelHeight",d),z=ps(m,"labelX",d),W=ps(m,"labelY",d),Y=l.pstyle(f+"text-margin-x").pfValue,Q=l.pstyle(f+"text-margin-y").pfValue,ne=l.isEdge(),oe=l.pstyle(f+"text-rotation"),le=l.pstyle("text-outline-width").pfValue,pe=l.pstyle("text-border-width").pfValue/2,ke=l.pstyle("text-background-padding").pfValue,me=L,Se=I,ve=Se/2,Re=me/2;if(ne)Oe=z-ve,Ee=z+ve,He=W-Re,Ae=W+Re;else{switch(M.value){case"left":Oe=z-Se,Ee=z;break;case"center":Oe=z-ve,Ee=z+ve;break;case"right":Oe=z,Ee=z+Se}switch(D.value){case"top":He=W-me,Ae=W;break;case"center":He=W-Re,Ae=W+Re;break;case"bottom":He=W,Ae=W+me}}Oe+=Y-Math.max(le,pe)-ke-2,Ee+=Y+Math.max(le,pe)+ke+2,He+=Q-Math.max(le,pe)-ke-2,Ae+=Q+Math.max(le,pe)+ke+2;var Qe=d||"main",Ge=p.labelBounds,We=Ge[Qe]=Ge[Qe]||{};We.x1=Oe,We.y1=He,We.x2=Ee,We.y2=Ae,We.w=Ee-Oe,We.h=Ae-He;var nt=ne&&"autorotate"===oe.strValue;if(nt||null!=oe.pfValue&&0!==oe.pfValue){var dt=nt?ps(p.rstyle,"labelAngle",d):oe.pfValue,it=Math.cos(dt),rt=Math.sin(dt),Et=(Oe+Ee)/2,St=(He+Ae)/2;if(!ne){switch(M.value){case"left":Et=Ee;break;case"right":Et=Oe}switch(D.value){case"top":St=Ae;break;case"bottom":St=He}}var yt=function(Ln,zt){return{x:(Ln-=Et)*it-(zt-=St)*rt+Et,y:Ln*rt+zt*it+St}},gt=yt(Oe,He),tt=yt(Oe,Ae),Ct=yt(Ee,He),Mt=yt(Ee,Ae);Oe=Math.min(gt.x,tt.x,Ct.x,Mt.x),Ee=Math.max(gt.x,tt.x,Ct.x,Mt.x),He=Math.min(gt.y,tt.y,Ct.y,Mt.y),Ae=Math.max(gt.y,tt.y,Ct.y,Mt.y)}var Pt=Qe+"Rot",Vt=Ge[Pt]=Ge[Pt]||{};Vt.x1=Oe,Vt.y1=He,Vt.x2=Ee,Vt.y2=Ae,Vt.w=Ee-Oe,Vt.h=Ae-He,Bs(s,Oe,He,Ee,Ae),Bs(p.labelBounds.all,Oe,He,Ee,Ae)}return s}},ay=function(s){var l=0,d=function(m){return(m?1:0)<<l++},f=0;return f+=d(s.incudeNodes),f+=d(s.includeEdges),f+=d(s.includeLabels),f+=d(s.includeMainLabels),f+=d(s.includeSourceLabels),(f+=d(s.includeTargetLabels))+d(s.includeOverlays)},fm=function(s){if(s.isEdge()){var l=s.source().position(),d=s.target().position(),f=function(m){return Math.round(m)};return function(s,l){var d={value:0,done:!1},f=0,p=s.length;return fd({next:function(){return f<p?d.value=s[f++]:d.done=!0,d}},void 0)}([f(l.x),f(l.y),f(d.x),f(d.y)])}return 0},ly=function(s,l){var f,d=s._private,p=s.isEdge(),w=(null==l?sf:ay(l))===sf,M=fm(s),D=d.bbCachePosKey===M,I=l.useCache&&D,L=function(Q){return null==Q._private.bbCache||Q._private.styleDirty};if(!I||L(s)||p&&L(s.source())||L(s.target())?(D||s.recalculateRenderedStyle(I),f=function(s,l){var I,L,z,W,Y,Q,d=s._private.cy,f=d.styleEnabled(),p=d.headless(),m=Zr(),w=s._private,M=s.isNode(),D=s.isEdge(),ne=w.rstyle,oe=M&&f?s.pstyle("bounds-expansion").pfValue:[0],le=function(gn){return"none"!==gn.pstyle("display").value},ce=!f||le(s)&&(!D||le(s.source())&&le(s.target()));if(ce){var ke=0;f&&l.includeOverlays&&0!==s.pstyle("overlay-opacity").value&&(ke=s.pstyle("overlay-padding").value);var me=0;f&&l.includeUnderlays&&0!==s.pstyle("underlay-opacity").value&&(me=s.pstyle("underlay-padding").value);var Se=Math.max(ke,me),Re=0;if(f&&(Re=s.pstyle("width").pfValue/2),M&&l.includeNodes){var Oe=s.position();Y=Oe.x,Q=Oe.y;var He=s.outerWidth()/2,Qe=s.outerHeight()/2;Bs(m,I=Y-He,z=Q-Qe,L=Y+He,W=Q+Qe)}else if(D&&l.includeEdges)if(f&&!p){var Ge=s.pstyle("curve-style").strValue;if(I=Math.min(ne.srcX,ne.midX,ne.tgtX),L=Math.max(ne.srcX,ne.midX,ne.tgtX),z=Math.min(ne.srcY,ne.midY,ne.tgtY),W=Math.max(ne.srcY,ne.midY,ne.tgtY),Bs(m,I-=Re,z-=Re,L+=Re,W+=Re),"haystack"===Ge){var We=ne.haystackPts;if(We&&2===We.length){if((I=We[0].x)>(L=We[1].x)){var nt=I;I=L,L=nt}if((z=We[0].y)>(W=We[1].y)){var st=z;z=W,W=st}Bs(m,I-Re,z-Re,L+Re,W+Re)}}else if("bezier"===Ge||"unbundled-bezier"===Ge||"segments"===Ge||"taxi"===Ge){var dt;switch(Ge){case"bezier":case"unbundled-bezier":dt=ne.bezierPts;break;case"segments":case"taxi":dt=ne.linePts}if(null!=dt)for(var it=0;it<dt.length;it++){var rt=dt[it];Bs(m,I=rt.x-Re,z=rt.y-Re,L=rt.x+Re,W=rt.y+Re)}}}else{var St=s.source().position(),gt=s.target().position();if((I=St.x)>(L=gt.x)){var tt=I;I=L,L=tt}if((z=St.y)>(W=gt.y)){var Ct=z;z=W,W=Ct}Bs(m,I-=Re,z-=Re,L+=Re,W+=Re)}if(f&&l.includeEdges&&D&&(Nd(m,s,"mid-source"),Nd(m,s,"mid-target"),Nd(m,s,"source"),Nd(m,s,"target")),f&&"yes"===s.pstyle("ghost").value){var Pt=s.pstyle("ghost-offset-x").pfValue,Vt=s.pstyle("ghost-offset-y").pfValue;Bs(m,m.x1+Pt,m.y1+Vt,m.x2+Pt,m.y2+Vt)}var Cn=w.bodyBounds=w.bodyBounds||{};Al(Cn,m),Ks(Cn,oe),zn(Cn,1),f&&Bs(m,(I=m.x1)-Se,(z=m.y1)-Se,(L=m.x2)+Se,(W=m.y2)+Se);var Ln=w.overlayBounds=w.overlayBounds||{};Al(Ln,m),Ks(Ln,oe),zn(Ln,1);var zt=w.labelBounds=w.labelBounds||{};null!=zt.all?function(s){s.x1=1/0,s.y1=1/0,s.x2=-1/0,s.y2=-1/0,s.w=0,s.h=0}(zt.all):zt.all=Zr(),f&&l.includeLabels&&(l.includeMainLabels&&Bl(m,s,null),D&&(l.includeSourceLabels&&Bl(m,s,"source"),l.includeTargetLabels&&Bl(m,s,"target")))}return m.x1=ra(m.x1),m.y1=ra(m.y1),m.x2=ra(m.x2),m.y2=ra(m.y2),m.w=ra(m.x2-m.x1),m.h=ra(m.y2-m.y1),m.w>0&&m.h>0&&ce&&(Ks(m,oe),zn(m,1)),m}(s,Fd),d.bbCache=f,d.bbCachePosKey=M):f=d.bbCache,!w){var W=s.isNode();f=Zr(),(l.includeNodes&&W||l.includeEdges&&!W)&&Ei(f,l.includeOverlays?d.overlayBounds:d.bodyBounds),l.includeLabels&&(l.includeMainLabels&&(!p||l.includeSourceLabels&&l.includeTargetLabels)?Ei(f,d.labelBounds.all):(l.includeMainLabels&&Ei(f,d.labelBounds.mainRot),l.includeSourceLabels&&Ei(f,d.labelBounds.sourceRot),l.includeTargetLabels&&Ei(f,d.labelBounds.targetRot))),f.w=f.x2-f.x1,f.h=f.y2-f.y1}return f},Fd={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},sf=ay(Fd),af=Ii(Fd);Ll.boundingBox=function(u){var s;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==u&&void 0!==u.useCache&&!0!==u.useCache){s=Zr();var l=af(u=u||Fd),d=this;if(d.cy().styleEnabled())for(var m=0;m<d.length;m++){var w=d[m],M=w._private,D=fm(w);w.recalculateRenderedStyle(l.useCache&&M.bbCachePosKey===D&&!M.styleDirty)}this.updateCompoundBounds(!u.useCache);for(var z=0;z<d.length;z++)Ei(s,ly(d[z],l))}else u=void 0===u?Fd:af(u),s=ly(this[0],u);return s.x1=ra(s.x1),s.y1=ra(s.y1),s.x2=ra(s.x2),s.y2=ra(s.y2),s.w=ra(s.x2-s.x1),s.h=ra(s.y2-s.y1),s},Ll.dirtyBoundingBoxCache=function(){for(var u=0;u<this.length;u++){var s=this[u]._private;s.bbCache=null,s.bbCachePosKey=null,s.bodyBounds=null,s.overlayBounds=null,s.labelBounds.all=null,s.labelBounds.source=null,s.labelBounds.target=null,s.labelBounds.main=null,s.labelBounds.sourceRot=null,s.labelBounds.targetRot=null,s.labelBounds.mainRot=null,s.arrowBounds.source=null,s.arrowBounds.target=null,s.arrowBounds["mid-source"]=null,s.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Ll.boundingBoxAt=function(u){var s=this.nodes(),l=this.cy(),d=l.hasCompoundNodes(),f=l.collection();if(d&&(f=s.filter(function(D){return D.isParent()}),s=s.not(f)),_e(u)){var p=u;u=function(){return p}}l.startBatch(),s.forEach(function(I,L){return I._private.bbAtOldPos=u(I,L)}).silentPositions(u),d&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0));var M=function(s){return{x1:s.x1,x2:s.x2,w:s.w,y1:s.y1,y2:s.y2,h:s.h}}(this.boundingBox({useCache:!1}));return s.silentPositions(function(I){return I._private.bbAtOldPos}),d&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0)),l.endBatch(),M},Fl.boundingbox=Fl.bb=Fl.boundingBox,Fl.renderedBoundingbox=Fl.renderedBoundingBox;var wc,Ld,cy=Ll;wc=Ld={};var pm=function(s){s.uppercaseName=Zt(s.name),s.autoName="auto"+s.uppercaseName,s.labelName="label"+s.uppercaseName,s.outerName="outer"+s.uppercaseName,s.uppercaseOuterName=Zt(s.outerName),wc[s.name]=function(){var d=this[0],f=d._private;if(d){if(f.cy._private.styleEnabled){if(d.isParent())return d.updateCompoundBounds(),f[s.autoName]||0;var w=d.pstyle(s.name);return"label"===w.strValue?(d.recalculateRenderedStyle(),f.rstyle[s.labelName]||0):w.pfValue}return 1}},wc["outer"+s.uppercaseName]=function(){var d=this[0];if(d)return d._private.cy._private.styleEnabled?d[s.name]()+d.pstyle("border-width").pfValue+2*d.padding():1},wc["rendered"+s.uppercaseName]=function(){var d=this[0];if(d)return d[s.name]()*this.cy().zoom()},wc["rendered"+s.uppercaseOuterName]=function(){var d=this[0];if(d)return d[s.outerName]()*this.cy().zoom()}};pm({name:"width"}),pm({name:"height"}),Ld.padding=function(){var u=this[0],s=u._private;return u.isParent()?(u.updateCompoundBounds(),void 0!==s.autoPadding?s.autoPadding:u.pstyle("padding").pfValue):u.pstyle("padding").pfValue},Ld.paddedHeight=function(){var u=this[0];return u.height()+2*u.padding()},Ld.paddedWidth=function(){var u=this[0];return u.width()+2*u.padding()};var mm=Ld,Vl={controlPoints:{get:function(s){return s.renderer().getControlPoints(s)},mult:!0},segmentPoints:{get:function(s){return s.renderer().getSegmentPoints(s)},mult:!0},sourceEndpoint:{get:function(s){return s.renderer().getSourceEndpoint(s)}},targetEndpoint:{get:function(s){return s.renderer().getTargetEndpoint(s)}},midpoint:{get:function(s){return s.renderer().getEdgeMidpoint(s)}}},Bd=Object.keys(Vl).reduce(function(u,s){var l=Vl[s],d=function(s){return"rendered"+s[0].toUpperCase()+s.substr(1)}(s);return u[s]=function(){return function(s,l){if(s.isEdge())return l(s)}(this,l.get)},u[d]=l.mult?function(){return function(s,l){if(s.isEdge()){var d=s.cy(),f=d.pan(),p=d.zoom();return l(s).map(function(m){return sr(m,p,f)})}}(this,l.get)}:function(){return function(s,l){if(s.isEdge()){var d=s.cy();return sr(l(s),d.zoom(),d.pan())}}(this,l.get)},u},{}),Kx=nn({},hm,cy,mm,Bd),Vd=function(s,l){this.recycle(s,l)};function zd(){return!1}function lf(){return!0}Vd.prototype={instanceString:function(){return"event"},recycle:function(s,l){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=zd,null!=s&&s.preventDefault?(this.type=s.type,this.isDefaultPrevented=s.defaultPrevented?lf:zd):null!=s&&s.type?l=s:this.type=s,null!=l&&(this.originalEvent=l.originalEvent,this.type=null!=l.type?l.type:this.type,this.cy=l.cy,this.target=l.target,this.position=l.position,this.renderedPosition=l.renderedPosition,this.namespace=l.namespace,this.layout=l.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var d=this.position,f=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:d.x*f+p.x,y:d.y*f+p.y}}this.timeStamp=s&&s.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=lf;var s=this.originalEvent;s&&s.preventDefault&&s.preventDefault()},stopPropagation:function(){this.isPropagationStopped=lf;var s=this.originalEvent;s&&s.stopPropagation&&s.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=lf,this.stopPropagation()},isDefaultPrevented:zd,isPropagationStopped:zd,isImmediatePropagationStopped:zd};var py=/^([^.]+)(\.(?:[^.]+))?$/,Hd={qualifierCompare:function(s,l){return s===l},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(s){return s},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},jd=Object.keys(Hd),vm={};function Ud(){for(var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vm,s=arguments.length>1?arguments[1]:void 0,l=0;l<jd.length;l++){var d=jd[l];this[d]=u[d]||Hd[d]}this.context=s||this.context,this.listeners=[],this.emitting=0}var zl=Ud.prototype,Ec=function(s,l,d,f,p,m,w){je(f)&&(p=f,f=null),w&&(m=null==m?w:nn({},m,w));for(var M=Ve(d)?d:d.split(/\s+/),D=0;D<M.length;D++){var I=M[D];if(!Ne(I)){var L=I.match(py);if(L&&!1===l(s,I,L[1],L[2]?L[2]:null,f,p,m))break}}},yu=function(s,l){return s.addEventFields(s.context,l),new Vd(l.type,l)};zl.on=zl.addListener=function(u,s,l,d,f){return Ec(this,function(p,m,w,M,D,I,L){je(I)&&p.listeners.push({event:m,callback:I,type:w,namespace:M,qualifier:D,conf:L})},u,s,l,d,f),this},zl.one=function(u,s,l,d){return this.on(u,s,l,d,{one:!0})},zl.removeListener=zl.off=function(u,s,l,d){var f=this;0!==this.emitting&&(this.listeners=function(s){return s.slice()}(this.listeners));for(var p=this.listeners,m=function(D){var I=p[D];Ec(f,function(L,z,W,Y,Q,ne){if((I.type===W||"*"===u)&&(!Y&&".*"!==I.namespace||I.namespace===Y)&&(!Q||L.qualifierCompare(I.qualifier,Q))&&(!ne||I.callback===ne))return p.splice(D,1),!1},u,s,l,d)},w=p.length-1;w>=0;w--)m(w);return this},zl.removeAllListeners=function(){return this.removeListener("*")},zl.emit=zl.trigger=function(u,s,l){var d=this.listeners,f=d.length;return this.emitting++,Ve(s)||(s=[s]),function(s,l,d){if(function(s){return"event"===we(s)}(d))l(s,d);else if(_e(d))l(s,yu(s,d));else for(var f=Ve(d)?d:d.split(/\s+/),p=0;p<f.length;p++){var m=f[p];if(!Ne(m)){var w=m.match(py);w&&l(s,yu(s,{type:w[1],namespace:w[2]?w[2]:null,target:s.context}))}}}(this,function(p,m){null!=l&&(f=(d=[{event:m.event,type:m.type,namespace:m.namespace,callback:l}]).length);for(var w=function(I){var L=d[I];if(L.type===m.type&&(!L.namespace||L.namespace===m.namespace||".*"===L.namespace)&&p.eventMatches(p.context,L,m)){var z=[m];null!=s&&function(s,l){for(var d=0;d<l.length;d++)s.push(l[d])}(z,s),p.beforeEmit(p.context,L,m),L.conf&&L.conf.one&&(p.listeners=p.listeners.filter(function(Q){return Q!==L}));var W=p.callbackContext(p.context,L,m),Y=L.callback.apply(W,z);p.afterEmit(p.context,L,m),!1===Y&&(m.stopPropagation(),m.preventDefault())}},M=0;M<f;M++)w(M);p.bubble(p.context)&&!m.isPropagationStopped()&&p.parent(p.context).emit(m,s)},u),this.emitting--,this};var ak={qualifierCompare:function(s,l){return null==s||null==l?null==s&&null==l:s.sameText(l)},eventMatches:function(s,l,d){var f=l.qualifier;return null==f||s!==d.target&&et(d.target)&&f.matches(d.target)},addEventFields:function(s,l){l.cy=s.cy(),l.target=s},callbackContext:function(s,l,d){return null!=l.qualifier?d.target:s},beforeEmit:function(s,l){l.conf&&l.conf.once&&l.conf.onceCollection.removeListener(l.event,l.qualifier,l.callback)},bubble:function(){return!0},parent:function(s){return s.isChild()?s.parent():s.cy()}},bu=function(s){return fe(s)?new el(s):s},Zx={createEmitter:function(){for(var s=0;s<this.length;s++){var l=this[s],d=l._private;d.emitter||(d.emitter=new Ud(ak,l))}return this},emitter:function(){return this._private.emitter},on:function(s,l,d){for(var f=bu(l),p=0;p<this.length;p++)this[p].emitter().on(s,f,d);return this},removeListener:function(s,l,d){for(var f=bu(l),p=0;p<this.length;p++)this[p].emitter().removeListener(s,f,d);return this},removeAllListeners:function(){for(var s=0;s<this.length;s++)this[s].emitter().removeAllListeners();return this},one:function(s,l,d){for(var f=bu(l),p=0;p<this.length;p++)this[p].emitter().one(s,f,d);return this},once:function(s,l,d){for(var f=bu(l),p=0;p<this.length;p++)this[p].emitter().on(s,f,d,{once:!0,onceCollection:this})},emit:function(s,l){for(var d=0;d<this.length;d++)this[d].emitter().emit(s,l);return this},emitAndNotify:function(s,l){if(0!==this.length)return this.cy().notify(s,this),this.emit(s,l),this}};Fr.eventAliasesOn(Zx);var my={nodes:function(s){return this.filter(function(l){return l.isNode()}).filter(s)},edges:function(s){return this.filter(function(l){return l.isEdge()}).filter(s)},byGroup:function(){for(var s=this.spawn(),l=this.spawn(),d=0;d<this.length;d++){var f=this[d];f.isNode()?s.push(f):l.push(f)}return{nodes:s,edges:l}},filter:function(s,l){if(void 0===s)return this;if(fe(s)||Me(s))return new el(s).filter(this);if(je(s)){for(var d=this.spawn(),f=this,p=0;p<f.length;p++){var m=f[p];(l?s.apply(l,[m,p,f]):s(m,p,f))&&d.push(m)}return d}return this.spawn()},not:function(s){if(s){fe(s)&&(s=this.filter(s));for(var l=this.spawn(),d=0;d<this.length;d++){var f=this[d];s.has(f)||l.push(f)}return l}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(s){if(fe(s))return this.filter(s);for(var d=this.spawn(),m=this.length<s.length,w=m?this:s,M=m?s:this,D=0;D<w.length;D++){var I=w[D];M.has(I)&&d.push(I)}return d},xor:function(s){var l=this._private.cy;fe(s)&&(s=l.$(s));var d=this.spawn(),p=s,m=function(M,D){for(var I=0;I<M.length;I++){var L=M[I];D.hasElementWithId(L._private.data.id)||d.push(L)}};return m(this,p),m(p,this),d},diff:function(s){var l=this._private.cy;fe(s)&&(s=l.$(s));var d=this.spawn(),f=this.spawn(),p=this.spawn(),w=s,M=function(I,L,z){for(var W=0;W<I.length;W++){var Y=I[W];L.hasElementWithId(Y._private.data.id)?p.merge(Y):z.push(Y)}};return M(this,w,d),M(w,this,f),{left:d,right:f,both:p}},add:function(s){var l=this._private.cy;if(!s)return this;if(fe(s)){var d=s;s=l.mutableElements().filter(d)}for(var f=this.spawnSelf(),p=0;p<s.length;p++){var m=s[p];!this.has(m)&&f.push(m)}return f},merge:function(s){var l=this._private,d=l.cy;if(!s)return this;if(s&&fe(s)){var f=s;s=d.mutableElements().filter(f)}for(var p=l.map,m=0;m<s.length;m++){var w=s[m],M=w._private.data.id;if(!p.has(M)){var I=this.length++;this[I]=w,p.set(M,{ele:w,index:I})}}return this},unmergeAt:function(s){var d=this[s].id(),p=this._private.map;if(this[s]=void 0,p.delete(d),this.length>1&&s!==this.length-1){var w=this.length-1,M=this[w],D=M._private.data.id;this[w]=void 0,this[s]=M,p.set(D,{ele:M,index:s})}return this.length--,this},unmergeOne:function(s){var p=this._private.map.get((s=s[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(s){var l=this._private.cy;if(!s)return this;if(s&&fe(s)){var d=s;s=l.mutableElements().filter(d)}for(var f=0;f<s.length;f++)this.unmergeOne(s[f]);return this},unmergeBy:function(s){for(var l=this.length-1;l>=0;l--)s(this[l])&&this.unmergeAt(l);return this},map:function(s,l){for(var d=[],f=this,p=0;p<f.length;p++){var m=f[p],w=l?s.apply(l,[m,p,f]):s(m,p,f);d.push(w)}return d},reduce:function(s,l){for(var d=l,f=this,p=0;p<f.length;p++)d=s(d,f[p],p,f);return d},max:function(s,l){for(var f,d=-1/0,p=this,m=0;m<p.length;m++){var w=p[m],M=l?s.apply(l,[w,m,p]):s(w,m,p);M>d&&(d=M,f=w)}return{value:d,ele:f}},min:function(s,l){for(var f,d=1/0,p=this,m=0;m<p.length;m++){var w=p[m],M=l?s.apply(l,[w,m,p]):s(w,m,p);M<d&&(d=M,f=w)}return{value:d,ele:f}}},Sr=my;Sr.u=Sr["|"]=Sr["+"]=Sr.union=Sr.or=Sr.add,Sr["\\"]=Sr["!"]=Sr["-"]=Sr.difference=Sr.relativeComplement=Sr.subtract=Sr.not,Sr.n=Sr["&"]=Sr["."]=Sr.and=Sr.intersection=Sr.intersect,Sr["^"]=Sr["(+)"]=Sr["(-)"]=Sr.symmetricDifference=Sr.symdiff=Sr.xor,Sr.fnFilter=Sr.filterFn=Sr.stdFilter=Sr.filter,Sr.complement=Sr.abscomp=Sr.absoluteComplement;var s,Qx=function(s,l){var f=s.cy().hasCompoundNodes();function p(I){var L=I.pstyle("z-compound-depth");return"auto"===L.value?f?I.zDepth():0:"bottom"===L.value?-1:"top"===L.value?ru:0}var m=p(s)-p(l);if(0!==m)return m;function w(I){return"auto"===I.pstyle("z-index-compare").value&&I.isNode()?1:0}var M=w(s)-w(l);if(0!==M)return M;var D=s.pstyle("z-index").value-l.pstyle("z-index").value;return 0!==D?D:s.poolIndex()-l.poolIndex()},_u={forEach:function(s,l){if(je(s))for(var d=this.length,f=0;f<d;f++){var p=this[f];if(!1===(l?s.apply(l,[p,f,this]):s(p,f,this)))break}return this},toArray:function(){for(var s=[],l=0;l<this.length;l++)s.push(this[l]);return s},slice:function(s,l){var d=[],f=this.length;null==l&&(l=f),null==s&&(s=0),s<0&&(s=f+s),l<0&&(l=f+l);for(var p=s;p>=0&&p<l&&p<f;p++)d.push(this[p]);return this.spawn(d)},size:function(){return this.length},eq:function(s){return this[s]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(s){if(!je(s))return this;var l=this.toArray().sort(s);return this.spawn(l)},sortByZIndex:function(){return this.sort(Qx)},zDepth:function(){var s=this[0];if(s){var l=s._private;if("nodes"===l.group){var f=l.data.parent?s.parents().size():0;return s.isParent()?f:ru-1}var m=l.target,w=l.source.zDepth(),M=m.zDepth();return Math.max(w,M,0)}}};_u.each=_u.forEach,s="undefined",(typeof Symbol>"u"?"undefined":F(Symbol))!=s&&F(Symbol.iterator)!=s&&(_u[Symbol.iterator]=function(){var d=this,f={value:void 0,done:!1},p=0,m=this.length;return U({next:function(){return p<m?f.value=d[p++]:(f.value=void 0,f.done=!0),f}},Symbol.iterator,function(){return this})});var vy=Ii({nodeDimensionsIncludeLabels:!1}),Hl={layoutDimensions:function(s){var l;if(s=vy(s),this.takesUpSpace())if(s.nodeDimensionsIncludeLabels){var d=this.boundingBox();l={w:d.w,h:d.h}}else l={w:this.outerWidth(),h:this.outerHeight()};else l={w:0,h:0};return(0===l.w||0===l.h)&&(l.w=l.h=1),l},layoutPositions:function(s,l,d){var f=this.nodes().filter(function(ke){return!ke.isParent()}),p=this.cy(),m=l.eles,w=function(Te){return Te.id()},M=ft(d,w);s.emit({type:"layoutstart",layout:s}),s.animations=[];var I=l.spacingFactor&&1!==l.spacingFactor,z=function(){if(!I)return null;for(var Te=Zr(),me=0;me<f.length;me++){var ve=M(f[me],me);Kh(Te,ve.x,ve.y)}return Te}(),W=ft(function(ke,Te){var me=M(ke,Te);return I&&(me=function(Te,me,Se){var ve_x=me.x1+me.w/2,ve_y=me.y1+me.h/2;return{x:ve_x+(Se.x-ve_x)*Te,y:ve_y+(Se.y-ve_y)*Te}}(Math.abs(l.spacingFactor),z,me)),null!=l.transform&&(me=l.transform(ke,me)),me},w);if(l.animate){for(var Y=0;Y<f.length;Y++){var Q=f[Y],ne=W(Q,Y);if(null==l.animateFilter||l.animateFilter(Q,Y)){var le=Q.animation({position:ne,duration:l.animationDuration,easing:l.animationEasing});s.animations.push(le)}else Q.position(ne)}if(l.fit){var ce=p.animation({fit:{boundingBox:m.boundingBoxAt(W),padding:l.padding},duration:l.animationDuration,easing:l.animationEasing});s.animations.push(ce)}else if(void 0!==l.zoom&&void 0!==l.pan){var pe=p.animation({zoom:l.zoom,pan:l.pan,duration:l.animationDuration,easing:l.animationEasing});s.animations.push(pe)}s.animations.forEach(function(ke){return ke.play()}),s.one("layoutready",l.ready),s.emit({type:"layoutready",layout:s}),Id.all(s.animations.map(function(ke){return ke.promise()})).then(function(){s.one("layoutstop",l.stop),s.emit({type:"layoutstop",layout:s})})}else f.positions(W),l.fit&&p.fit(l.eles,l.padding),null!=l.zoom&&p.zoom(l.zoom),l.pan&&p.pan(l.pan),s.one("layoutready",l.ready),s.emit({type:"layoutready",layout:s}),s.one("layoutstop",l.stop),s.emit({type:"layoutstop",layout:s});return this},layout:function(s){return this.cy().makeLayout(nn({},s,{eles:this}))}};function ym(u,s,l){var p,d=l._private,f=d.styleCache=d.styleCache||[];return null!=(p=f[u])||(p=f[u]=s(l)),p}function Gd(u,s){return u=$a(u),function(d){return ym(u,s,d)}}function Cc(u,s){u=$a(u);var l=function(f){return s.call(f)};return function(){var f=this[0];if(f)return ym(u,l,f)}}Hl.createLayout=Hl.makeLayout=Hl.layout;var lo={recalculateRenderedStyle:function(s){var l=this.cy(),d=l.renderer(),f=l.styleEnabled();return d&&f&&d.recalculateRenderedStyle(this,s),this},dirtyStyleCache:function(){var d,s=this.cy(),l=function(p){return p._private.styleCache=null};return s.hasCompoundNodes()?((d=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(d.connectedEdges()),d.forEach(l)):this.forEach(function(f){l(f),f.connectedEdges().forEach(l)}),this},updateStyle:function(s){var l=this._private.cy;if(!l.styleEnabled())return this;if(l.batching())return l._private.batchStyleEles.merge(this),this;var p=this;s=!(!s&&void 0!==s),l.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var m=p;return s?m.emitAndNotify("style"):m.emit("style"),p.forEach(function(w){return w._private.styleDirty=!0}),this},cleanStyle:function(){var s=this.cy();if(s.styleEnabled())for(var l=0;l<this.length;l++){var d=this[l];d._private.styleDirty&&(d._private.styleDirty=!1,s.style().apply(d))}},parsedStyle:function(s){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=this[0],f=d.cy();if(f.styleEnabled()&&d)return this.cleanStyle(),d._private.style[s]??(l?f.style().getDefaultProperty(s):null)},numericStyle:function(s){var l=this[0];if(l.cy().styleEnabled()&&l){var d=l.pstyle(s);return void 0!==d.pfValue?d.pfValue:d.value}},numericStyleUnits:function(s){var l=this[0];if(l.cy().styleEnabled()&&l)return l.pstyle(s).units},renderedStyle:function(s){var l=this.cy();if(!l.styleEnabled())return this;var d=this[0];return d?l.style().getRenderedStyle(d,s):void 0},style:function(s,l){var d=this.cy();if(!d.styleEnabled())return this;var p=d.style();if(_e(s))p.applyBypass(this,s,!1),this.emitAndNotify("style");else if(fe(s)){if(void 0===l){var w=this[0];return w?p.getStylePropertyValue(w,s):void 0}p.applyBypass(this,s,l,!1),this.emitAndNotify("style")}else if(void 0===s){var M=this[0];return M?p.getRawStyle(M):void 0}return this},removeStyle:function(s){var l=this.cy();if(!l.styleEnabled())return this;var f=l.style(),p=this;if(void 0===s)for(var m=0;m<p.length;m++)f.removeAllBypasses(p[m],!1);else{s=s.split(/\s+/);for(var M=0;M<p.length;M++)f.removeBypasses(p[M],s,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var s=this.cy();if(!s.styleEnabled())return 1;var l=s.hasCompoundNodes(),d=this[0];if(d){var f=d._private,p=d.pstyle("opacity").value;if(!l)return p;var m=f.data.parent?d.parents():null;if(m)for(var w=0;w<m.length;w++)p*=m[w].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var l=this[0],d=l.cy().hasCompoundNodes();return l?d?0===l.effectiveOpacity():0===l.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function xu(u,s){var d=u._private.data.parent?u.parents():null;if(d)for(var f=0;f<d.length;f++)if(!s(d[f]))return!1;return!0}function $d(u){var s=u.ok,l=u.edgeOkViaNode||u.ok,d=u.parentOk||u.ok;return function(){var f=this.cy();if(!f.styleEnabled())return!0;var p=this[0],m=f.hasCompoundNodes();if(p){var w=p._private;if(!s(p))return!1;if(p.isNode())return!m||xu(p,d);var M=w.source,D=w.target;return l(M)&&(!m||xu(M,l))&&(M===D||l(D)&&(!m||xu(D,l)))}}}var nl=Gd("eleTakesUpSpace",function(u){return"element"===u.pstyle("display").value&&0!==u.width()&&(!u.isNode()||0!==u.height())});lo.takesUpSpace=Cc("takesUpSpace",$d({ok:nl}));var ck=Gd("eleInteractive",function(u){return"yes"===u.pstyle("events").value&&"visible"===u.pstyle("visibility").value&&nl(u)}),yy=Gd("parentInteractive",function(u){return"visible"===u.pstyle("visibility").value&&nl(u)});lo.interactive=Cc("interactive",$d({ok:ck,parentOk:yy,edgeOkViaNode:nl})),lo.noninteractive=function(){var u=this[0];if(u)return!u.interactive()};var by=Gd("eleVisible",function(u){return"visible"===u.pstyle("visibility").value&&0!==u.pstyle("opacity").pfValue&&nl(u)});lo.visible=Cc("visible",$d({ok:by,edgeOkViaNode:nl})),lo.hidden=function(){var u=this[0];if(u)return!u.visible()},lo.isBundledBezier=Cc("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),lo.bypass=lo.css=lo.style,lo.renderedCss=lo.renderedStyle,lo.removeBypass=lo.removeCss=lo.removeStyle,lo.pstyle=lo.parsedStyle;var co={};function _y(u){return function(){var s=arguments,l=[];if(2===s.length)this.on(u.event,s[0],s[1]);else if(1===s.length&&je(s[0]))this.on(u.event,s[0]);else if(0===s.length||1===s.length&&Ve(s[0])){for(var m=1===s.length?s[0]:null,w=0;w<this.length;w++){var M=this[w],D=!u.ableField||M._private[u.ableField],I=M._private[u.field]!=u.value;if(u.overrideAble){var L=u.overrideAble(M);if(void 0!==L&&(D=L,!L))return this}D&&(M._private[u.field]=u.value,I&&l.push(M))}var z=this.spawn(l);z.updateStyle(),z.emit(u.event),m&&z.emit(m)}return this}}function rl(u){co[u.field]=function(){var s=this[0];if(s){if(u.overrideField){var l=u.overrideField(s);if(void 0!==l)return l}return s._private[u.field]}},co[u.on]=_y({event:u.on,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!0}),co[u.off]=_y({event:u.off,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!1})}rl({field:"locked",overrideField:function(s){return!!s.cy().autolock()||void 0},on:"lock",off:"unlock"}),rl({field:"grabbable",overrideField:function(s){return!s.cy().autoungrabify()&&!s.pannable()&&void 0},on:"grabify",off:"ungrabify"}),rl({field:"selected",ableField:"selectable",overrideAble:function(s){return!s.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),rl({field:"selectable",overrideField:function(s){return!s.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),co.deselect=co.unselect,co.grabbed=function(){var u=this[0];if(u)return u._private.grabbed},rl({field:"active",on:"activate",off:"unactivate"}),rl({field:"pannable",on:"panify",off:"unpanify"}),co.inactive=function(){var u=this[0];if(u)return!u._private.active};var Wi={},bm=function(s){return function(d){for(var p=[],m=0;m<this.length;m++){var w=this[m];if(w.isNode()){for(var M=!1,D=w.connectedEdges(),I=0;I<D.length;I++){var L=D[I],z=L.source(),W=L.target();if(s.noIncomingEdges&&W===w&&z!==w||s.noOutgoingEdges&&z===w&&W!==w){M=!0;break}}M||p.push(w)}}return this.spawn(p,!0).filter(d)}},uf=function(s){return function(l){for(var f=[],p=0;p<this.length;p++){var m=this[p];if(m.isNode())for(var w=m.connectedEdges(),M=0;M<w.length;M++){var D=w[M],I=D.source(),L=D.target();s.outgoing&&I===m?(f.push(D),f.push(L)):s.incoming&&L===m&&(f.push(D),f.push(I))}}return this.spawn(f,!0).filter(l)}},df=function(s){return function(l){for(var d=this,f=[],p={};;){var m=s.outgoing?d.outgoers():d.incomers();if(0===m.length)break;for(var w=!1,M=0;M<m.length;M++){var D=m[M],I=D.id();p[I]||(p[I]=!0,f.push(D),w=!0)}if(!w)break;d=m}return this.spawn(f,!0).filter(l)}};function xy(u){return function(l){for(var d=[],f=0;f<this.length;f++){var m=this[f]._private[u.attr];m&&d.push(m)}return this.spawn(d,!0).filter(l)}}function _m(u){return function(l){var d=[],f=this._private.cy,p=u||{};fe(l)&&(l=f.$(l));for(var m=0;m<l.length;m++)for(var w=l[m]._private.edges,M=0;M<w.length;M++){var D=w[M],I=D._private.data,L=this.hasElementWithId(I.source)&&l.hasElementWithId(I.target),z=l.hasElementWithId(I.source)&&this.hasElementWithId(I.target);(L||z)&&((p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!L||p.thisIsTgt&&!z)||d.push(D))}return this.spawn(d,!0)}}function xm(u){return u=nn({},{codirected:!1},u),function(d){for(var f=[],p=this.edges(),m=u,w=0;w<p.length;w++)for(var D=p[w]._private,I=D.source,L=I._private.data.id,z=D.data.target,W=I._private.edges,Y=0;Y<W.length;Y++){var Q=W[Y],ne=Q._private.data,oe=ne.target,le=ne.source,ce=oe===z&&le===L;(m.codirected&&ce||!m.codirected&&(ce||L===oe&&z===le))&&f.push(Q)}return this.spawn(f,!0).filter(d)}}Wi.clearTraversalCache=function(){for(var u=0;u<this.length;u++)this[u]._private.traversalCache=null},nn(Wi,{roots:bm({noIncomingEdges:!0}),leaves:bm({noOutgoingEdges:!0}),outgoers:fs(uf({outgoing:!0}),"outgoers"),successors:df({outgoing:!0}),incomers:fs(uf({incoming:!0}),"incomers"),predecessors:df({incoming:!0})}),nn(Wi,{neighborhood:fs(function(u){for(var s=[],l=this.nodes(),d=0;d<l.length;d++)for(var f=l[d],p=f.connectedEdges(),m=0;m<p.length;m++){var w=p[m],M=w.source(),D=w.target(),I=f===M?D:M;I.length>0&&s.push(I[0]),s.push(w[0])}return this.spawn(s,!0).filter(u)},"neighborhood"),closedNeighborhood:function(s){return this.neighborhood().add(this).filter(s)},openNeighborhood:function(s){return this.neighborhood(s)}}),Wi.neighbourhood=Wi.neighborhood,Wi.closedNeighbourhood=Wi.closedNeighborhood,Wi.openNeighbourhood=Wi.openNeighborhood,nn(Wi,{source:fs(function(s){var d,l=this[0];return l&&(d=l._private.source||l.cy().collection()),d&&s?d.filter(s):d},"source"),target:fs(function(s){var d,l=this[0];return l&&(d=l._private.target||l.cy().collection()),d&&s?d.filter(s):d},"target"),sources:xy({attr:"source"}),targets:xy({attr:"target"})}),nn(Wi,{edgesWith:fs(_m(),"edgesWith"),edgesTo:fs(_m({thisIsSrc:!0}),"edgesTo")}),nn(Wi,{connectedEdges:fs(function(u){for(var s=[],d=0;d<this.length;d++){var f=this[d];if(f.isNode())for(var p=f._private.edges,m=0;m<p.length;m++)s.push(p[m])}return this.spawn(s,!0).filter(u)},"connectedEdges"),connectedNodes:fs(function(u){for(var s=[],d=0;d<this.length;d++){var f=this[d];f.isEdge()&&(s.push(f.source()[0]),s.push(f.target()[0]))}return this.spawn(s,!0).filter(u)},"connectedNodes"),parallelEdges:fs(xm(),"parallelEdges"),codirectedEdges:fs(xm({codirected:!0}),"codirectedEdges")}),nn(Wi,{components:function(s){var l=this,d=l.cy(),f=d.collection(),p=null==s?l.nodes():s.nodes(),m=[];null!=s&&p.empty()&&(p=s.sources());var w=function(I,L){f.merge(I),p.unmerge(I),L.merge(I)};if(p.empty())return l.spawn();var M=function(){var I=d.collection();m.push(I);var L=p[0];w(L,I),l.bfs({directed:!1,roots:L,visit:function(W){return w(W,I)}}),I.forEach(function(z){z.connectedEdges().forEach(function(W){l.has(W)&&I.has(W.source())&&I.has(W.target())&&I.merge(W)})})};do{M()}while(p.length>0);return m},component:function(){var s=this[0];return s.cy().mutableElements().components(s)[0]}}),Wi.componentsOf=Wi.components;var Yi=function(s,l){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==s){var p=new Oo,m=!1;if(l){if(l.length>0&&_e(l[0])&&!et(l[0])){m=!0;for(var w=[],M=new Ya,D=0,I=l.length;D<I;D++){var L=l[D];null==L.data&&(L.data={});var z=L.data;if(null==z.id)z.id=Dl();else if(s.hasElementWithId(z.id)||M.has(z.id))continue;var W=new Ml(s,L,!1);w.push(W),M.add(z.id)}l=w}}else l=[];this.length=0;for(var Y=0,Q=l.length;Y<Q;Y++){var ne=l[Y][0];if(null!=ne){var oe=ne._private.data.id;(!d||!p.has(oe))&&(d&&p.set(oe,{index:this.length,ele:ne}),this[this.length]=ne,this.length++)}}this._private={eles:this,cy:s,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(le){this.lazyMap=le},rebuildMap:function(){for(var ce=this.lazyMap=new Oo,pe=this.eles,ke=0;ke<pe.length;ke++){var Te=pe[ke];ce.set(Te.id(),{index:ke,ele:Te})}}},d&&(this._private.map=p),m&&!f&&this.restore()}else Br("A collection must have a reference to the core")},Gr=Ml.prototype=Yi.prototype=Object.create(Array.prototype);Gr.instanceString=function(){return"collection"},Gr.spawn=function(u,s){return new Yi(this.cy(),u,s)},Gr.spawnSelf=function(){return this.spawn(this)},Gr.cy=function(){return this._private.cy},Gr.renderer=function(){return this._private.cy.renderer()},Gr.element=function(){return this[0]},Gr.collection=function(){return Tt(this)?this:new Yi(this._private.cy,[this])},Gr.unique=function(){return new Yi(this._private.cy,this,!0)},Gr.hasElementWithId=function(u){return this._private.map.has(u=""+u)},Gr.getElementById=function(u){var s=this._private.cy,l=this._private.map.get(u=""+u);return l?l.ele:new Yi(s)},Gr.$id=Gr.getElementById,Gr.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Gr.indexOf=function(u){return this._private.map.get(u[0]._private.data.id).index},Gr.indexOfId=function(u){return this._private.map.get(u=""+u).index},Gr.json=function(u){var s=this.element(),l=this.cy();if(null==s&&u)return this;if(null!=s){var d=s._private;if(_e(u)){if(l.startBatch(),u.data){s.data(u.data);var f=d.data;if(s.isEdge()){var p=!1,m={},w=u.data.source,M=u.data.target;null!=w&&w!=f.source&&(m.source=""+w,p=!0),null!=M&&M!=f.target&&(m.target=""+M,p=!0),p&&(s=s.move(m))}else{var I=u.data.parent;"parent"in u.data&&(null!=I||null!=f.parent)&&I!=f.parent&&(void 0===I&&(I=null),null!=I&&(I=""+I),s=s.move({parent:I}))}}u.position&&s.position(u.position);var L=function(Q,ne,oe){var le=u[Q];null!=le&&le!==d[Q]&&(le?s[ne]():s[oe]())};return L("removed","remove","restore"),L("selected","select","unselect"),L("selectable","selectify","unselectify"),L("locked","lock","unlock"),L("grabbable","grabify","ungrabify"),L("pannable","panify","unpanify"),null!=u.classes&&s.classes(u.classes),l.endBatch(),this}if(void 0===u){var z={data:Yo(d.data),position:Yo(d.position),group:d.group,removed:d.removed,selected:d.selected,selectable:d.selectable,locked:d.locked,grabbable:d.grabbable,pannable:d.pannable,classes:""},W=0;return d.classes.forEach(function(Y){return z.classes+=0==W++?Y:" "+Y}),z}}},Gr.jsons=function(){for(var u=[],s=0;s<this.length;s++){var d=this[s].json();u.push(d)}return u},Gr.clone=function(){for(var u=this.cy(),s=[],l=0;l<this.length;l++){var f=this[l].json(),p=new Ml(u,f,!1);s.push(p)}return new Yi(u,s)},Gr.copy=Gr.clone,Gr.restore=function(){for(var w,u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,d=l.cy(),f=d._private,p=[],m=[],M=0,D=l.length;M<D;M++){var I=l[M];s&&!I.removed()||(I.isNode()?p.push(I):m.push(I))}w=p.concat(m);var L,z=function(){w.splice(L,1),L--};for(L=0;L<w.length;L++){var W=w[L],Y=W._private,Q=Y.data;if(W.clearTraversalCache(),s||Y.removed)if(void 0===Q.id)Q.id=Dl();else if(ge(Q.id))Q.id=""+Q.id;else{if(Ne(Q.id)||!fe(Q.id)){Br("Can not create element with invalid string ID `"+Q.id+"`"),z();continue}if(d.hasElementWithId(Q.id)){Br("Can not create second element with ID `"+Q.id+"`"),z();continue}}var ne=Q.id;if(W.isNode()){var oe=Y.position;null==oe.x&&(oe.x=0),null==oe.y&&(oe.y=0)}if(W.isEdge()){for(var le=W,ce=["source","target"],pe=ce.length,ke=!1,Te=0;Te<pe;Te++){var me=ce[Te],Se=Q[me];ge(Se)&&(Se=Q[me]=""+Q[me]),null==Se||""===Se?(Br("Can not create edge `"+ne+"` with unspecified "+me),ke=!0):d.hasElementWithId(Se)||(Br("Can not create edge `"+ne+"` with nonexistant "+me+" `"+Se+"`"),ke=!0)}if(ke){z();continue}var ve=d.getElementById(Q.source),Re=d.getElementById(Q.target);ve.same(Re)?ve._private.edges.push(le):(ve._private.edges.push(le),Re._private.edges.push(le)),le._private.source=ve,le._private.target=Re}Y.map=new Oo,Y.map.set(ne,{ele:W,index:0}),Y.removed=!1,s&&d.addToPool(W)}for(var Oe=0;Oe<p.length;Oe++){var Ee=p[Oe],He=Ee._private.data;ge(He.parent)&&(He.parent=""+He.parent);var Ae=He.parent;if(null!=Ae||Ee._private.parent){var Ge=Ee._private.parent?d.collection().merge(Ee._private.parent):d.getElementById(Ae);if(Ge.empty())He.parent=void 0;else if(Ge[0].removed())Dr("Node added with missing parent, reference to parent removed"),He.parent=void 0,Ee._private.parent=null;else{for(var We=!1,nt=Ge;!nt.empty();){if(Ee.same(nt)){We=!0,He.parent=void 0;break}nt=nt.parent()}We||(Ge[0]._private.children.push(Ee),Ee._private.parent=Ge[0],f.hasCompoundNodes=!0)}}}if(w.length>0){for(var st=w.length===l.length?l:new Yi(d,w),dt=0;dt<st.length;dt++){var it=st[dt];it.isNode()||(it.parallelEdges().clearTraversalCache(),it.source().clearTraversalCache(),it.target().clearTraversalCache())}(f.hasCompoundNodes?d.collection().merge(st).merge(st.connectedNodes()).merge(st.parent()):st).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(u),u?st.emitAndNotify("add"):s&&st.emit("add")}return l},Gr.removed=function(){var u=this[0];return u&&u._private.removed},Gr.inside=function(){var u=this[0];return u&&!u._private.removed},Gr.remove=function(){var u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,d=[],f={},p=l._private.cy;function M(Ae){var Qe=f[Ae.id()];s&&Ae.removed()||Qe||(f[Ae.id()]=!0,Ae.isNode()?(d.push(Ae),function m(Ae){for(var Qe=Ae._private.edges,Ge=0;Ge<Qe.length;Ge++)M(Qe[Ge])}(Ae),function w(Ae){for(var Qe=Ae._private.children,Ge=0;Ge<Qe.length;Ge++)M(Qe[Ge])}(Ae)):d.unshift(Ae))}for(var D=0,I=l.length;D<I;D++)M(l[D]);function z(Ae,Qe){xa(Ae._private.edges,Qe),Ae.clearTraversalCache()}var Y=[];function Q(Ae,Qe){Qe=Qe[0];var Ge=(Ae=Ae[0])._private.children,We=Ae.id();xa(Ge,Qe),Qe._private.parent=null,Y.ids[We]||(Y.ids[We]=!0,Y.push(Ae))}Y.ids={},l.dirtyCompoundBoundsCache(),s&&p.removeFromPool(d);for(var ne=0;ne<d.length;ne++){var oe=d[ne];if(oe.isEdge()){var le=oe.source()[0],ce=oe.target()[0];z(le,oe),z(ce,oe);for(var pe=oe.parallelEdges(),ke=0;ke<pe.length;ke++){var Te=pe[ke];Te.clearTraversalCache(),Te.isBundledBezier()&&Te.dirtyBoundingBoxCache()}}else{var me=oe.parent();0!==me.length&&Q(me,oe)}s&&(oe._private.removed=!0)}var Se=p._private.elements;p._private.hasCompoundNodes=!1;for(var ve=0;ve<Se.length;ve++)if(Se[ve].isParent()){p._private.hasCompoundNodes=!0;break}var Oe=new Yi(this.cy(),d);Oe.size()>0&&(u?Oe.emitAndNotify("remove"):s&&Oe.emit("remove"));for(var Ee=0;Ee<Y.length;Ee++){var He=Y[Ee];(!s||!He.removed())&&He.updateStyle()}return Oe},Gr.move=function(u){var s=this._private.cy,l=this,d=!1,f=!1,p=function(Y){return null==Y?Y:""+Y};if(void 0!==u.source||void 0!==u.target){var m=p(u.source),w=p(u.target),M=null!=m&&s.hasElementWithId(m),D=null!=w&&s.hasElementWithId(w);(M||D)&&(s.batch(function(){l.remove(d,f),l.emitAndNotify("moveout");for(var W=0;W<l.length;W++){var Y=l[W],Q=Y._private.data;Y.isEdge()&&(M&&(Q.source=m),D&&(Q.target=w))}l.restore(d,f)}),l.emitAndNotify("move"))}else if(void 0!==u.parent){var I=p(u.parent);if(null===I||s.hasElementWithId(I)){var z=null===I?void 0:I;s.batch(function(){var W=l.remove(d,f);W.emitAndNotify("moveout");for(var Y=0;Y<l.length;Y++){var Q=l[Y],ne=Q._private.data;Q.isNode()&&(ne.parent=z)}W.restore(d,f)}),l.emitAndNotify("move")}}return this},[Kv,sk,wa,_n,Rd,At,Jn,Kx,Zx,my,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var s=this[0];if(s)return s._private.group}},_u,Hl,lo,co,Wi].forEach(function(u){nn(Gr,u)});var ew={add:function(s){var l,d=this;if(Me(s)){var f=s;if(f._private.cy===d)l=f.restore();else{for(var p=[],m=0;m<f.length;m++)p.push(f[m].json());l=new Yi(d,p)}}else if(Ve(s))l=new Yi(d,s);else if(_e(s)&&(Ve(s.nodes)||Ve(s.edges))){for(var D=s,I=[],L=["nodes","edges"],z=0,W=L.length;z<W;z++){var Y=L[z],Q=D[Y];if(Ve(Q))for(var ne=0,oe=Q.length;ne<oe;ne++){var le=nn({group:Y},Q[ne]);I.push(le)}}l=new Yi(d,I)}else l=new Ml(d,s).collection();return l},remove:function(s){return Me(s)||fe(s)&&(s=this.$(s)),s.remove()}};function hf(u,s,l,d){var f=4,p=.001,m=1e-7,w=10,M=11,D=1/(M-1),I=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var L=0;L<4;++L)if("number"!=typeof arguments[L]||isNaN(arguments[L])||!isFinite(arguments[L]))return!1;u=Math.min(u,1),l=Math.min(l,1),u=Math.max(u,0),l=Math.max(l,0);var z=I?new Float32Array(M):new Array(M);function W(Re,Oe){return 1-3*Oe+3*Re}function Y(Re,Oe){return 3*Oe-6*Re}function Q(Re){return 3*Re}function ne(Re,Oe,Ee){return((W(Oe,Ee)*Re+Y(Oe,Ee))*Re+Q(Oe))*Re}function oe(Re,Oe,Ee){return 3*W(Oe,Ee)*Re*Re+2*Y(Oe,Ee)*Re+Q(Oe)}var Te=!1;var Se=function(Oe){return Te||function me(){Te=!0,(u!==s||l!==d)&&function ce(){for(var Re=0;Re<M;++Re)z[Re]=ne(Re*D,u,l)}()}(),u===s&&l===d?Oe:0===Oe?0:1===Oe?1:ne(function ke(Re){for(var Oe=0,Ee=1,He=M-1;Ee!==He&&z[Ee]<=Re;++Ee)Oe+=D;--Ee;var Qe=Oe+(Re-z[Ee])/(z[Ee+1]-z[Ee])*D,Ge=oe(Qe,u,l);return Ge>=p?function le(Re,Oe){for(var Ee=0;Ee<f;++Ee){var He=oe(Oe,u,l);if(0===He)return Oe;Oe-=(ne(Oe,u,l)-Re)/He}return Oe}(Re,Qe):0===Ge?Qe:function pe(Re,Oe,Ee){var He,Ae,Qe=0;do{(He=ne(Ae=Oe+(Ee-Oe)/2,u,l)-Re)>0?Ee=Ae:Oe=Ae}while(Math.abs(He)>m&&++Qe<w);return Ae}(Re,Oe,Oe+D)}(Oe),s,d)};Se.getControlPoints=function(){return[{x:u,y:s},{x:l,y:d}]};var ve="generateBezier("+[u,s,l,d]+")";return Se.toString=function(){return ve},Se}var Dc=function(){function u(d){return-d.tension*d.x-d.friction*d.v}function s(d,f,p){var m={x:d.x+p.dx*f,v:d.v+p.dv*f,tension:d.tension,friction:d.friction};return{dx:m.v,dv:u(m)}}function l(d,f){var p={dx:d.v,dv:u(d)},m=s(d,.5*f,p),w=s(d,.5*f,m),M=s(d,f,w),I=1/6*(p.dv+2*(m.dv+w.dv)+M.dv);return d.x=d.x+1/6*(p.dx+2*(m.dx+w.dx)+M.dx)*f,d.v=d.v+I*f,d}return function d(f,p,m){var z,W,Y,w={x:-1,v:0,tension:null,friction:null},M=[0],D=0,I=1e-4;for(f=parseFloat(f)||500,p=parseFloat(p)||20,m=m||null,w.tension=f,w.friction=p,W=(z=null!==m)?(D=d(f,p))/m*.016:.016;Y=l(Y||w,W),M.push(1+Y.x),D+=16,Math.abs(Y.x)>I&&Math.abs(Y.v)>I;);return z?function(Q){return M[Q*(M.length-1)|0]}:D}}(),Kr=function(s,l,d,f){var p=hf(s,l,d,f);return function(m,w,M){return m+(w-m)*p(M)}},Wd={linear:function(s,l,d){return s+(l-s)*d},ease:Kr(.25,.1,.25,1),"ease-in":Kr(.42,0,1,1),"ease-out":Kr(0,0,.58,1),"ease-in-out":Kr(.42,0,.58,1),"ease-in-sine":Kr(.47,0,.745,.715),"ease-out-sine":Kr(.39,.575,.565,1),"ease-in-out-sine":Kr(.445,.05,.55,.95),"ease-in-quad":Kr(.55,.085,.68,.53),"ease-out-quad":Kr(.25,.46,.45,.94),"ease-in-out-quad":Kr(.455,.03,.515,.955),"ease-in-cubic":Kr(.55,.055,.675,.19),"ease-out-cubic":Kr(.215,.61,.355,1),"ease-in-out-cubic":Kr(.645,.045,.355,1),"ease-in-quart":Kr(.895,.03,.685,.22),"ease-out-quart":Kr(.165,.84,.44,1),"ease-in-out-quart":Kr(.77,0,.175,1),"ease-in-quint":Kr(.755,.05,.855,.06),"ease-out-quint":Kr(.23,1,.32,1),"ease-in-out-quint":Kr(.86,0,.07,1),"ease-in-expo":Kr(.95,.05,.795,.035),"ease-out-expo":Kr(.19,1,.22,1),"ease-in-out-expo":Kr(1,0,0,1),"ease-in-circ":Kr(.6,.04,.98,.335),"ease-out-circ":Kr(.075,.82,.165,1),"ease-in-out-circ":Kr(.785,.135,.15,.86),spring:function(s,l,d){if(0===d)return Wd.linear;var f=Dc(s,l,d);return function(p,m,w){return p+(m-p)*f(w)}},"cubic-bezier":Kr};function wm(u,s,l,d,f){if(1===d||s===l)return l;var p=f(s,l,d);return null==u||((u.roundValue||u.color)&&(p=Math.round(p)),void 0!==u.min&&(p=Math.max(p,u.min)),void 0!==u.max&&(p=Math.min(p,u.max))),p}function Sc(u,s){return null!=u.pfValue||null!=u.value?null==u.pfValue||null!=s&&"%"===s.type.units?u.value:u.pfValue:u}function wu(u,s,l,d,f){var p=null!=f?f.type:null;l<0?l=0:l>1&&(l=1);var m=Sc(u,f),w=Sc(s,f);if(ge(m)&&ge(w))return wm(p,m,w,l,d);if(Ve(m)&&Ve(w)){for(var M=[],D=0;D<w.length;D++){var I=m[D],L=w[D];if(null!=I&&null!=L){var z=wm(p,I,L,l,d);M.push(z)}else M.push(L)}return M}}function Vi(u,s,l,d){var f=!d,p=u._private,m=s._private,w=m.easing,M=m.startTime,I=(d?u:u.cy()).style();if(!m.easingImpl)if(null==w)m.easingImpl=Wd.linear;else{var L,W,Y;L=fe(w)?I.parse("transition-timing-function",w).value:w,fe(L)?(W=L,Y=[]):(W=L[1],Y=L.slice(2).map(function(st){return+st})),Y.length>0?("spring"===W&&Y.push(m.duration),m.easingImpl=Wd[W].apply(null,Y)):m.easingImpl=Wd[W]}var ne,Q=m.easingImpl;if(ne=0===m.duration?1:(l-M)/m.duration,m.applying&&(ne=m.progress),ne<0?ne=0:ne>1&&(ne=1),null==m.delay){var oe=m.startPosition,le=m.position;if(le&&f&&!u.locked()){var ce={};kc(oe.x,le.x)&&(ce.x=wu(oe.x,le.x,ne,Q)),kc(oe.y,le.y)&&(ce.y=wu(oe.y,le.y,ne,Q)),u.position(ce)}var pe=m.startPan,ke=m.pan,Te=p.pan,me=null!=ke&&d;me&&(kc(pe.x,ke.x)&&(Te.x=wu(pe.x,ke.x,ne,Q)),kc(pe.y,ke.y)&&(Te.y=wu(pe.y,ke.y,ne,Q)),u.emit("pan"));var Se=m.startZoom,ve=m.zoom,Re=null!=ve&&d;Re&&(kc(Se,ve)&&(p.zoom=En(p.minZoom,wu(Se,ve,ne,Q),p.maxZoom)),u.emit("zoom")),(me||Re)&&u.emit("viewport");var Oe=m.style;if(Oe&&Oe.length>0&&f){for(var Ee=0;Ee<Oe.length;Ee++){var He=Oe[Ee],Ae=He.name,Ge=m.startStyle[Ae],nt=wu(Ge,He,ne,Q,I.properties[Ge.name]);I.overrideBypass(u,Ae,nt)}u.emit("style")}}return m.progress=ne,ne}function kc(u,s){return!!(null!=u&&null!=s&&(ge(u)&&ge(s)||u&&s))}function tw(u,s,l,d){var f=s._private;f.started=!0,f.startTime=l-f.progress*f.duration}function Em(u,s){var l=s._private.aniEles,d=[];function f(I,L){var z=I._private,W=z.animation.current,Y=z.animation.queue,Q=!1;if(0===W.length){var ne=Y.shift();ne&&W.push(ne)}for(var oe=function(Te){for(var me=Te.length-1;me>=0;me--)(0,Te[me])();Te.splice(0,Te.length)},le=W.length-1;le>=0;le--){var ce=W[le],pe=ce._private;pe.stopped?(W.splice(le,1),pe.hooked=!1,pe.playing=!1,pe.started=!1,oe(pe.frames)):!pe.playing&&!pe.applying||(pe.playing&&pe.applying&&(pe.applying=!1),pe.started||tw(0,ce,u),Vi(I,ce,u,L),pe.applying&&(pe.applying=!1),oe(pe.frames),null!=pe.step&&pe.step(u),ce.completed()&&(W.splice(le,1),pe.hooked=!1,pe.playing=!1,pe.started=!1,oe(pe.completes)),Q=!0)}return!L&&0===W.length&&0===Y.length&&d.push(I),Q}for(var p=!1,m=0;m<l.length;m++){var M=f(l[m]);p=p||M}var D=f(s,!0);(p||D)&&(l.length>0?s.notify("draw",l):s.notify("draw")),l.unmerge(d),s.emit("step")}var Mc={animate:Fr.animate(),animation:Fr.animation(),animated:Fr.animated(),clearQueue:Fr.clearQueue(),delay:Fr.delay(),delayAnimation:Fr.delayAnimation(),stop:Fr.stop(),addToAnimationPool:function(s){this.styleEnabled()&&this._private.aniEles.merge(s)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var s=this;if(s._private.animationsRunning=!0,s.styleEnabled()){var d=s.renderer();d&&d.beforeRender?d.beforeRender(function(p,m){Em(m,s)},d.beforeRenderPriorities.animations):function l(){s._private.animationsRunning&&wl(function(p){Em(p,s),l()})}()}}},Eu={qualifierCompare:function(s,l){return null==s||null==l?null==s&&null==l:s.sameText(l)},eventMatches:function(s,l,d){var f=l.qualifier;return null==f||s!==d.target&&et(d.target)&&f.matches(d.target)},addEventFields:function(s,l){l.cy=s,l.target=s},callbackContext:function(s,l,d){return null!=l.qualifier?d.target:s}},il=function(s){return fe(s)?new el(s):s},Tc={createEmitter:function(){var s=this._private;return s.emitter||(s.emitter=new Ud(Eu,this)),this},emitter:function(){return this._private.emitter},on:function(s,l,d){return this.emitter().on(s,il(l),d),this},removeListener:function(s,l,d){return this.emitter().removeListener(s,il(l),d),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(s,l,d){return this.emitter().one(s,il(l),d),this},once:function(s,l,d){return this.emitter().one(s,il(l),d),this},emit:function(s,l){return this.emitter().emit(s,l),this},emitAndNotify:function(s,l){return this.emit(s),this.notify(s,l),this}};Fr.eventAliasesOn(Tc);var ff={png:function(s){return this._private.renderer.png(s=s||{})},jpg:function(s){var l=this._private.renderer;return(s=s||{}).bg=s.bg||"#fff",l.jpg(s)}};ff.jpeg=ff.jpg;var Cu={layout:function(s){var l=this;if(null!=s)if(null!=s.name){var p,d=s.name,f=l.extension("layout",d);if(null!=f)return p=fe(s.eles)?l.$(s.eles):null!=s.eles?s.eles:l.$(),new f(nn({},s,{cy:l,eles:p}));Br("No such layout `"+d+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Br("A `name` must be specified to make a layout");else Br("Layout options must be specified to make a layout")}};Cu.createLayout=Cu.makeLayout=Cu.layout;var Du={notify:function(s,l){var d=this._private;if(this.batching()){d.batchNotifications=d.batchNotifications||{};var f=d.batchNotifications[s]=d.batchNotifications[s]||this.collection();null!=l&&f.merge(l)}else if(d.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(s,l)}},notifications:function(s){var l=this._private;return void 0===s?l.notificationsEnabled:(l.notificationsEnabled=!!s,this)},noNotifications:function(s){this.notifications(!1),s(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var s=this._private;return null==s.batchCount&&(s.batchCount=0),0===s.batchCount&&(s.batchStyleEles=this.collection(),s.batchNotifications={}),s.batchCount++,this},endBatch:function(){var s=this._private;if(0===s.batchCount)return this;if(s.batchCount--,0===s.batchCount){s.batchStyleEles.updateStyle();var l=this.renderer();Object.keys(s.batchNotifications).forEach(function(d){var f=s.batchNotifications[d];f.empty()?l.notify(d):l.notify(d,f)})}return this},batch:function(s){return this.startBatch(),s(),this.endBatch(),this},batchData:function(s){var l=this;return this.batch(function(){for(var d=Object.keys(s),f=0;f<d.length;f++){var p=d[f],m=s[p];l.getElementById(p).data(m)}})}},uk=Ii({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Cm={renderTo:function(s,l,d,f){return this._private.renderer.renderTo(s,l,d,f),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(s){var l=this,d=l.extension("renderer",s.name);if(null!=d){void 0!==s.wheelSensitivity&&Dr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var f=uk(s);f.cy=l,l._private.renderer=new d(f),this.notify("init")}else Br("Can not initialise: No such renderer `".concat(s.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var s=this;s.notify("destroy");var l=s.container();if(l)for(l._cyreg=null;l.childNodes.length>0;)l.removeChild(l.childNodes[0]);s._private.renderer=null,s.mutableElements().forEach(function(d){var f=d._private;f.rscratch={},f.rstyle={},f.animation.current=[],f.animation.queue=[]})},onRender:function(s){return this.on("render",s)},offRender:function(s){return this.off("render",s)}};Cm.invalidateDimensions=Cm.resize;var Nt={collection:function(s,l){return fe(s)?this.$(s):Me(s)?s.collection():Ve(s)?(l||(l={}),new Yi(this,s,l.unique,l.removed)):new Yi(this)},nodes:function(s){var l=this.$(function(d){return d.isNode()});return s?l.filter(s):l},edges:function(s){var l=this.$(function(d){return d.isEdge()});return s?l.filter(s):l},$:function(s){var l=this._private.elements;return s?l.filter(s):l.spawnSelf()},mutableElements:function(){return this._private.elements}};Nt.elements=Nt.filter=Nt.$;var Fo={apply:function(u){for(var s=this,f=s._private.cy.collection(),p=0;p<u.length;p++){var m=u[p],w=s.getContextMeta(m);if(!w.empty){var M=s.getContextStyle(w),D=s.applyContextStyle(w,M,m);m._private.appliedInitStyle?s.updateTransitions(m,D.diffProps):m._private.appliedInitStyle=!0,s.updateStyleHints(m)&&f.push(m)}}return f},getPropertiesDiff:function(u,s){var l=this,d=l._private.propDiffs=l._private.propDiffs||{},f=u+"-"+s,p=d[f];if(p)return p;for(var m=[],w={},M=0;M<l.length;M++){var D=l[M],L="t"===s[M],z="t"===u[M]!==L,W=D.mappedProperties.length>0;if(z||L&&W){var Y=void 0;z&&W||z?Y=D.properties:W&&(Y=D.mappedProperties);for(var Q=0;Q<Y.length;Q++){for(var ne=Y[Q],oe=ne.name,le=!1,ce=M+1;ce<l.length&&("t"!==s[ce]||!(le=null!=l[ce].properties[ne.name]));ce++);!w[oe]&&!le&&(w[oe]=!0,m.push(oe))}}}return d[f]=m,m},getContextMeta:function(u){for(var d,s=this,l="",f=u._private.styleCxtKey||"",p=0;p<s.length;p++){var m=s[p];l+=m.selector&&m.selector.matches(u)?"t":"f"}return d=s.getPropertiesDiff(f,l),u._private.styleCxtKey=l,{key:l,diffPropNames:d,empty:0===d.length}},getContextStyle:function(u){var s=u.key,d=this._private.contextStyles=this._private.contextStyles||{};if(d[s])return d[s];for(var f={_private:{key:s}},p=0;p<this.length;p++){var m=this[p];if("t"===s[p])for(var M=0;M<m.properties.length;M++){var D=m.properties[M];f[D.name]=D}}return d[s]=f,f},applyContextStyle:function(u,s,l){for(var f=u.diffPropNames,p={},m=this.types,w=0;w<f.length;w++){var M=f[w],D=s[M],I=l.pstyle(M);if(!D){if(!I)continue;D=I.bypass?{name:M,deleteBypassed:!0}:{name:M,delete:!0}}if(I!==D){if(D.mapped===m.fn&&null!=I&&null!=I.mapping&&I.mapping.value===D.value){var L=I.mapping;if((L.fnValue=D.value(l))===L.prevFnValue)continue}var W=p[M]={prev:I};this.applyParsedProperty(l,D),W.next=l.pstyle(M),W.next&&W.next.bypass&&(W.next=W.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(u){var d,s=u._private,l=this,f=l.propertyGroupKeys,p=function(Pt,Vt,Cn){return l.getPropertiesHash(Pt,Vt,Cn)},m=s.styleKey;if(u.removed())return!1;var Pt,w="nodes"===s.group,M=u._private.style;d=Object.keys(M);for(var D=0;D<f.length;D++)s.styleKeys[f[D]]=[ba,_a];for(var L=function(Pt,Vt){return s.styleKeys[Vt][0]=El(Pt,s.styleKeys[Vt][0])},z=function(Pt,Vt){return s.styleKeys[Vt][1]=Cl(Pt,s.styleKeys[Vt][1])},W=function(Pt,Vt){L(Pt,Vt),z(Pt,Vt)},Y=function(Pt,Vt){for(var Cn=0;Cn<Pt.length;Cn++){var Ln=Pt.charCodeAt(Cn);L(Ln,Vt),z(Ln,Vt)}},oe=0;oe<d.length;oe++){var le=d[oe],ce=M[le];if(null!=ce){var pe=this.properties[le],ke=pe.type,Te=pe.groupKey,me=void 0;null!=pe.hashOverride?me=pe.hashOverride(u,ce):null!=ce.pfValue&&(me=ce.pfValue);var Se=null==pe.enums?ce.value:null,ve=null!=me,Ee=ce.units;!ke.number||!ve&&null==Se||ke.multiple?Y(ce.strValue,Te):(W(-128<(Pt=ve?me:Se)&&Pt<128&&Math.floor(Pt)!==Pt?2e9-(1024*Pt|0):Pt,Te),!ve&&null!=Ee&&Y(Ee,Te))}}for(var Ae=[ba,_a],Qe=0;Qe<f.length;Qe++){var We=s.styleKeys[f[Qe]];Ae[0]=El(We[0],Ae[0]),Ae[1]=Cl(We[1],Ae[1])}s.styleKey=function(s,l){return 2097152*s+l}(Ae[0],Ae[1]);var nt=s.styleKeys;s.labelDimsKey=ks(nt.labelDimensions);var st=p(u,["label"],nt.labelDimensions);if(s.labelKey=ks(st),s.labelStyleKey=ks(Ms(nt.commonLabel,st)),!w){var dt=p(u,["source-label"],nt.labelDimensions);s.sourceLabelKey=ks(dt),s.sourceLabelStyleKey=ks(Ms(nt.commonLabel,dt));var it=p(u,["target-label"],nt.labelDimensions);s.targetLabelKey=ks(it),s.targetLabelStyleKey=ks(Ms(nt.commonLabel,it))}if(w){var rt=s.styleKeys,tt=rt.pie,Ct=[rt.nodeBody,rt.nodeBorder,rt.backgroundImage,rt.compound,tt].filter(function(Mt){return null!=Mt}).reduce(Ms,[ba,_a]);s.nodeKey=ks(Ct),s.hasPie=null!=tt&&tt[0]!==ba&&tt[1]!==_a}return m!==s.styleKey},clearStyleHints:function(u){var s=u._private;s.styleCxtKey="",s.styleKeys={},s.styleKey=null,s.labelKey=null,s.labelStyleKey=null,s.sourceLabelKey=null,s.sourceLabelStyleKey=null,s.targetLabelKey=null,s.targetLabelStyleKey=null,s.nodeKey=null,s.hasPie=null},applyParsedProperty:function(u,s){var p,l=this,d=s,f=u._private.style,m=l.types,w=l.properties[d.name].type,M=d.bypass,D=f[d.name],I=D&&D.bypass,L=u._private,z="mapping",W=function(Et){return null==Et?null:null!=Et.pfValue?Et.pfValue:Et.value},Y=function(){var Et=W(D),St=W(d);l.checkTriggers(u,d.name,Et,St)};if(d&&"pie"===d.name.substr(0,3)&&Dr("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===s.name&&u.isEdge()&&("bezier"!==s.value&&u.isLoop()||"haystack"===s.value&&(u.source().isParent()||u.target().isParent()))&&(d=s=this.parse(s.name,"bezier",M)),d.delete)return f[d.name]=void 0,Y(),!0;if(d.deleteBypassed)return D?!!D.bypass&&(D.bypassed=void 0,Y(),!0):(Y(),!0);if(d.deleteBypass)return D?!!D.bypass&&(f[d.name]=D.bypassed,Y(),!0):(Y(),!0);var Q=function(){Dr("Do not assign mappings to elements without corresponding data (i.e. ele `"+u.id()+"` has no mapping for property `"+d.name+"` with data field `"+d.field+"`); try a `["+d.field+"]` selector to limit scope to elements with `"+d.field+"` defined")};switch(d.mapped){case m.mapData:for(var ne=d.field.split("."),oe=L.data,le=0;le<ne.length&&oe;le++)oe=oe[ne[le]];if(null==oe)return Q(),!1;var pe;if(!ge(oe))return Dr("Do not use continuous mappers without specifying numeric data (i.e. `"+d.field+": "+oe+"` for `"+u.id()+"` is non-numeric)"),!1;var ke=d.fieldMax-d.fieldMin;if((pe=0===ke?0:(oe-d.fieldMin)/ke)<0?pe=0:pe>1&&(pe=1),w.color){var Te=d.valueMin[0],Se=d.valueMin[1],ve=d.valueMax[1],Re=d.valueMin[2],Oe=d.valueMax[2],Ee=null==d.valueMin[3]?1:d.valueMin[3],He=null==d.valueMax[3]?1:d.valueMax[3],Ae=[Math.round(Te+(d.valueMax[0]-Te)*pe),Math.round(Se+(ve-Se)*pe),Math.round(Re+(Oe-Re)*pe),Math.round(Ee+(He-Ee)*pe)];p={bypass:d.bypass,name:d.name,value:Ae,strValue:"rgb("+Ae[0]+", "+Ae[1]+", "+Ae[2]+")"}}else{if(!w.number)return!1;p=this.parse(d.name,d.valueMin+(d.valueMax-d.valueMin)*pe,d.bypass,z)}if(!p)return Q(),!1;p.mapping=d,d=p;break;case m.data:for(var Ge=d.field.split("."),We=L.data,nt=0;nt<Ge.length&&We;nt++)We=We[Ge[nt]];if(null!=We&&(p=this.parse(d.name,We,d.bypass,z)),!p)return Q(),!1;p.mapping=d,d=p;break;case m.fn:var it=null!=d.fnValue?d.fnValue:(0,d.value)(u);if(d.prevFnValue=it,null==it)return Dr("Custom function mappers may not return null (i.e. `"+d.name+"` for ele `"+u.id()+"` is null)"),!1;if(!(p=this.parse(d.name,it,d.bypass,z)))return Dr("Custom function mappers may not return invalid values for the property type (i.e. `"+d.name+"` for ele `"+u.id()+"` is invalid)"),!1;p.mapping=Yo(d),d=p;break;case void 0:break;default:return!1}return M?(d.bypassed=I?D.bypassed:D,f[d.name]=d):I?D.bypassed=d:f[d.name]=d,Y(),!0},cleanElements:function(u,s){for(var l=0;l<u.length;l++){var d=u[l];if(this.clearStyleHints(d),d.dirtyCompoundBoundsCache(),d.dirtyBoundingBoxCache(),s)for(var f=d._private.style,p=Object.keys(f),m=0;m<p.length;m++){var w=p[m],M=f[w];null!=M&&(M.bypass?M.bypassed=null:f[w]=null)}else d._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(u,s){var l=this,d=u._private,f=u.pstyle("transition-property").value,p=u.pstyle("transition-duration").pfValue,m=u.pstyle("transition-delay").pfValue;if(f.length>0&&p>0){for(var w={},M=!1,D=0;D<f.length;D++){var I=f[D],L=u.pstyle(I),z=s[I];if(z){var Y=z.prev,Q=null!=z.next?z.next:L,ne=!1,oe=void 0;Y&&(ge(Y.pfValue)&&ge(Q.pfValue)?oe=Y.pfValue+1e-6*(ne=Q.pfValue-Y.pfValue):ge(Y.value)&&ge(Q.value)?oe=Y.value+1e-6*(ne=Q.value-Y.value):Ve(Y.value)&&Ve(Q.value)&&(ne=Y.value[0]!==Q.value[0]||Y.value[1]!==Q.value[1]||Y.value[2]!==Q.value[2],oe=Y.strValue),ne&&(w[I]=Q.strValue,this.applyBypass(u,I,oe),M=!0))}}if(!M)return;d.transitioning=!0,new Id(function(ce){m>0?u.delayAnimation(m).play().promise().then(ce):ce()}).then(function(){return u.animation({style:w,duration:p,easing:u.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){l.removeBypasses(u,f),u.emitAndNotify("style"),d.transitioning=!1})}else d.transitioning&&(this.removeBypasses(u,f),u.emitAndNotify("style"),d.transitioning=!1)},checkTrigger:function(u,s,l,d,f,p){var m=this.properties[s],w=f(m);null!=w&&w(l,d)&&p(m)},checkZOrderTrigger:function(u,s,l,d){var f=this;this.checkTrigger(u,s,l,d,function(p){return p.triggersZOrder},function(){f._private.cy.notify("zorder",u)})},checkBoundsTrigger:function(u,s,l,d){this.checkTrigger(u,s,l,d,function(f){return f.triggersBounds},function(f){u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),f.triggersBoundsOfParallelBeziers&&("curve-style"===s&&("bezier"===l||"bezier"===d)||"display"===s&&("none"===l||"none"===d))&&u.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(u,s,l,d){u.dirtyStyleCache(),this.checkZOrderTrigger(u,s,l,d),this.checkBoundsTrigger(u,s,l,d)}},mf={applyBypass:function(u,s,l,d){var p=[];if("*"===s||"**"===s){if(void 0!==l)for(var w=0;w<this.properties.length;w++){var I=this.parse(this.properties[w].name,l,!0);I&&p.push(I)}}else if(fe(s)){var L=this.parse(s,l,!0);L&&p.push(L)}else{if(!_e(s))return!1;var z=s;d=l;for(var W=Object.keys(z),Y=0;Y<W.length;Y++){var Q=W[Y],ne=z[Q];if(void 0===ne&&(ne=z[Ht(Q)]),void 0!==ne){var oe=this.parse(Q,ne,!0);oe&&p.push(oe)}}}if(0===p.length)return!1;for(var le=!1,ce=0;ce<u.length;ce++){for(var pe=u[ce],ke={},Te=void 0,me=0;me<p.length;me++){var Se=p[me];if(d){var ve=pe.pstyle(Se.name);Te=ke[Se.name]={prev:ve}}le=this.applyParsedProperty(pe,Yo(Se))||le,d&&(Te.next=pe.pstyle(Se.name))}le&&this.updateStyleHints(pe),d&&this.updateTransitions(pe,ke,!0)}return le},overrideBypass:function(u,s,l){s=bt(s);for(var d=0;d<u.length;d++){var f=u[d],p=f._private.style[s],m=this.properties[s].type,w=m.color,M=m.mutiple,D=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=l,null!=p.pfValue&&(p.pfValue=l),p.strValue=w?"rgb("+l.join(",")+")":M?l.join(" "):""+l,this.updateStyleHints(f)):this.applyBypass(f,s,l),this.checkTriggers(f,s,D,l)}},removeAllBypasses:function(u,s){return this.removeBypasses(u,this.propertyNames,s)},removeBypasses:function(u,s,l){for(var f=0;f<u.length;f++){for(var p=u[f],m={},w=0;w<s.length;w++){var M=s[w],D=this.properties[M],I=p.pstyle(D.name);if(I&&I.bypass){var z=this.parse(M,"",!0),W=m[D.name]={prev:I};this.applyParsedProperty(p,z),W.next=p.pstyle(D.name)}}this.updateStyleHints(p),l&&this.updateTransitions(p,m,!0)}}},wy={getEmSizeInPixels:function(){var u=this.containerCss("font-size");return null!=u?parseFloat(u):1},containerCss:function(u){var l=this._private.cy.container();if(H&&l&&H.getComputedStyle)return H.getComputedStyle(l).getPropertyValue(u)}},ol={getRenderedStyle:function(u,s){return s?this.getStylePropertyValue(u,s,!0):this.getRawStyle(u,!0)},getRawStyle:function(u,s){var l=this;if(u=u[0]){for(var d={},f=0;f<l.properties.length;f++){var p=l.properties[f],m=l.getStylePropertyValue(u,p.name,s);null!=m&&(d[p.name]=m,d[Ht(p.name)]=m)}return d}},getIndexedStyle:function(u,s,l,d){return u.pstyle(s)[l][d]??u.cy().style().getDefaultProperty(s)[l][0]},getStylePropertyValue:function(u,s,l){if(u=u[0]){var f=this.properties[s];f.alias&&(f=f.pointsTo);var p=f.type,m=u.pstyle(f.name);if(m){var w=m.value,M=m.units,D=m.strValue;if(l&&p.number&&null!=w&&ge(w)){var I=u.cy().zoom(),L=function(ne){return ne*I},z=function(ne,oe){return L(ne)+oe},W=Ve(w);return(W?M.every(function(Q){return null!=Q}):null!=M)?W?w.map(function(Q,ne){return z(Q,M[ne])}).join(" "):z(w,M):W?w.map(function(Q){return fe(Q)?Q:""+L(Q)}).join(" "):""+L(w)}if(null!=D)return D}return null}},getAnimationStartStyle:function(u,s){for(var l={},d=0;d<s.length;d++){var p=s[d].name,m=u.pstyle(p);void 0!==m&&(m=_e(m)?this.parse(p,m.strValue):this.parse(p,m)),m&&(l[p]=m)}return l},getPropsList:function(u){var l=[],d=u,f=this.properties;if(d)for(var p=Object.keys(d),m=0;m<p.length;m++){var w=p[m],M=d[w],D=f[w]||f[bt(w)],I=this.parse(D.name,M);I&&l.push(I)}return l},getNonDefaultPropertiesHash:function(u,s,l){var p,m,w,M,D,d=l.slice();for(M=0;M<s.length;M++)if(null!=(p=u.pstyle(s[M],!1)))if(null!=p.pfValue)d[0]=El(w,d[0]),d[1]=Cl(w,d[1]);else for(m=p.strValue,D=0;D<m.length;D++)w=m.charCodeAt(D),d[0]=El(w,d[0]),d[1]=Cl(w,d[1]);return d}};ol.getPropertiesHash=ol.getNonDefaultPropertiesHash;var Dm={appendFromJson:function(u){for(var s=this,l=0;l<u.length;l++){var d=u[l],f=d.selector,p=d.style||d.css,m=Object.keys(p);s.selector(f);for(var w=0;w<m.length;w++){var M=m[w];s.css(M,p[M])}}return s},fromJson:function(u){var s=this;return s.resetToDefault(),s.appendFromJson(u),s},json:function(){for(var u=[],s=this.defaultLength;s<this.length;s++){for(var l=this[s],d=l.selector,f=l.properties,p={},m=0;m<f.length;m++){var w=f[m];p[w.name]=w.strValue}u.push({selector:d?d.toString():"core",style:p})}return u}},Ac={appendFromString:function(u){var f,p,m,l=this,d=""+u;function w(){d=d.length>f.length?d.substr(f.length):""}function M(){p=p.length>m.length?p.substr(m.length):""}for(d=d.replace(/[/][*](\s|.)+?[*][/]/g,"");!d.match(/^\s*$/);){var I=d.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!I){Dr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+d);break}f=I[0];var L=I[1];if("core"!==L&&new el(L).invalid)Dr("Skipping parsing of block: Invalid selector found in string stylesheet: "+L),w();else{var W=I[2],Y=!1;p=W;for(var Q=[];!p.match(/^\s*$/);){var oe=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!oe){Dr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+W),Y=!0;break}m=oe[0];var le=oe[1],ce=oe[2];this.properties[le]?l.parse(le,ce)?(Q.push({name:le,val:ce}),M()):(Dr("Skipping property: Invalid property definition in: "+m),M()):(Dr("Skipping property: Invalid property name in: "+m),M())}if(Y){w();break}l.selector(L);for(var Te=0;Te<Q.length;Te++){var me=Q[Te];l.css(me.name,me.val)}w()}}return l},fromString:function(u){var s=this;return s.resetToDefault(),s.appendFromString(u),s}},xo={};(function(){var u=Ft,s=ir,l=Wr,p=function(Ct){return"^"+Ct+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},m=function(Ct){var Mt=u+"|\\w+|"+s+"|"+l+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Ct+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+u+")\\s*\\,\\s*("+u+")\\s*,\\s*("+Mt+")\\s*\\,\\s*("+Mt+")\\)$"},w=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];xo.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:m("mapData")},mapLayoutData:{mapping:!0,regex:m("mapLayoutData")},mapScratch:{mapping:!0,regex:m("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:w,singleRegexMatchValue:!0},urls:{regexes:w,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Ct,Mt){switch(Ct.length){case 2:return"deg"!==Mt[0]&&"rad"!==Mt[0]&&"deg"!==Mt[1]&&"rad"!==Mt[1];case 1:return fe(Ct[0])||"deg"===Mt[0]||"rad"===Mt[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Ct){var Mt=Ct.length;return 1===Mt||2===Mt||4===Mt}}};var M={zeroNonZero:function(Ct,Mt){return(null==Ct||null==Mt)&&Ct!==Mt||0==Ct&&0!=Mt||0!=Ct&&0==Mt},any:function(Ct,Mt){return Ct!=Mt},emptyNonEmpty:function(Ct,Mt){var Pt=Ne(Ct),Vt=Ne(Mt);return Pt&&!Vt||!Pt&&Vt}},D=xo.types,I=[{name:"label",type:D.text,triggersBounds:M.any,triggersZOrder:M.emptyNonEmpty},{name:"text-rotation",type:D.textRotation,triggersBounds:M.any},{name:"text-margin-x",type:D.bidirectionalSize,triggersBounds:M.any},{name:"text-margin-y",type:D.bidirectionalSize,triggersBounds:M.any}],L=[{name:"source-label",type:D.text,triggersBounds:M.any},{name:"source-text-rotation",type:D.textRotation,triggersBounds:M.any},{name:"source-text-margin-x",type:D.bidirectionalSize,triggersBounds:M.any},{name:"source-text-margin-y",type:D.bidirectionalSize,triggersBounds:M.any},{name:"source-text-offset",type:D.size,triggersBounds:M.any}],z=[{name:"target-label",type:D.text,triggersBounds:M.any},{name:"target-text-rotation",type:D.textRotation,triggersBounds:M.any},{name:"target-text-margin-x",type:D.bidirectionalSize,triggersBounds:M.any},{name:"target-text-margin-y",type:D.bidirectionalSize,triggersBounds:M.any},{name:"target-text-offset",type:D.size,triggersBounds:M.any}],W=[{name:"font-family",type:D.fontFamily,triggersBounds:M.any},{name:"font-style",type:D.fontStyle,triggersBounds:M.any},{name:"font-weight",type:D.fontWeight,triggersBounds:M.any},{name:"font-size",type:D.size,triggersBounds:M.any},{name:"text-transform",type:D.textTransform,triggersBounds:M.any},{name:"text-wrap",type:D.textWrap,triggersBounds:M.any},{name:"text-overflow-wrap",type:D.textOverflowWrap,triggersBounds:M.any},{name:"text-max-width",type:D.size,triggersBounds:M.any},{name:"text-outline-width",type:D.size,triggersBounds:M.any},{name:"line-height",type:D.positiveNumber,triggersBounds:M.any}],Y=[{name:"text-valign",type:D.valign,triggersBounds:M.any},{name:"text-halign",type:D.halign,triggersBounds:M.any},{name:"color",type:D.color},{name:"text-outline-color",type:D.color},{name:"text-outline-opacity",type:D.zeroOneNumber},{name:"text-background-color",type:D.color},{name:"text-background-opacity",type:D.zeroOneNumber},{name:"text-background-padding",type:D.size,triggersBounds:M.any},{name:"text-border-opacity",type:D.zeroOneNumber},{name:"text-border-color",type:D.color},{name:"text-border-width",type:D.size,triggersBounds:M.any},{name:"text-border-style",type:D.borderStyle,triggersBounds:M.any},{name:"text-background-shape",type:D.textBackgroundShape,triggersBounds:M.any},{name:"text-justification",type:D.justification}],Q=[{name:"events",type:D.bool},{name:"text-events",type:D.bool}],ne=[{name:"display",type:D.display,triggersZOrder:M.any,triggersBounds:M.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:D.visibility,triggersZOrder:M.any},{name:"opacity",type:D.zeroOneNumber,triggersZOrder:M.zeroNonZero},{name:"text-opacity",type:D.zeroOneNumber},{name:"min-zoomed-font-size",type:D.size},{name:"z-compound-depth",type:D.zCompoundDepth,triggersZOrder:M.any},{name:"z-index-compare",type:D.zIndexCompare,triggersZOrder:M.any},{name:"z-index",type:D.nonNegativeInt,triggersZOrder:M.any}],oe=[{name:"overlay-padding",type:D.size,triggersBounds:M.any},{name:"overlay-color",type:D.color},{name:"overlay-opacity",type:D.zeroOneNumber,triggersBounds:M.zeroNonZero},{name:"overlay-shape",type:D.overlayShape,triggersBounds:M.any}],le=[{name:"underlay-padding",type:D.size,triggersBounds:M.any},{name:"underlay-color",type:D.color},{name:"underlay-opacity",type:D.zeroOneNumber,triggersBounds:M.zeroNonZero},{name:"underlay-shape",type:D.overlayShape,triggersBounds:M.any}],ce=[{name:"transition-property",type:D.propList},{name:"transition-duration",type:D.time},{name:"transition-delay",type:D.time},{name:"transition-timing-function",type:D.easing}],pe=function(Ct,Mt){return"label"===Mt.value?-Ct.poolIndex():Mt.pfValue},ke=[{name:"height",type:D.nodeSize,triggersBounds:M.any,hashOverride:pe},{name:"width",type:D.nodeSize,triggersBounds:M.any,hashOverride:pe},{name:"shape",type:D.nodeShape,triggersBounds:M.any},{name:"shape-polygon-points",type:D.polygonPointList,triggersBounds:M.any},{name:"background-color",type:D.color},{name:"background-fill",type:D.fill},{name:"background-opacity",type:D.zeroOneNumber},{name:"background-blacken",type:D.nOneOneNumber},{name:"background-gradient-stop-colors",type:D.colors},{name:"background-gradient-stop-positions",type:D.percentages},{name:"background-gradient-direction",type:D.gradientDirection},{name:"padding",type:D.sizeMaybePercent,triggersBounds:M.any},{name:"padding-relative-to",type:D.paddingRelativeTo,triggersBounds:M.any},{name:"bounds-expansion",type:D.boundsExpansion,triggersBounds:M.any}],Te=[{name:"border-color",type:D.color},{name:"border-opacity",type:D.zeroOneNumber},{name:"border-width",type:D.size,triggersBounds:M.any},{name:"border-style",type:D.borderStyle}],me=[{name:"background-image",type:D.urls},{name:"background-image-crossorigin",type:D.bgCrossOrigin},{name:"background-image-opacity",type:D.zeroOneNumbers},{name:"background-image-containment",type:D.bgContainment},{name:"background-image-smoothing",type:D.bools},{name:"background-position-x",type:D.bgPos},{name:"background-position-y",type:D.bgPos},{name:"background-width-relative-to",type:D.bgRelativeTo},{name:"background-height-relative-to",type:D.bgRelativeTo},{name:"background-repeat",type:D.bgRepeat},{name:"background-fit",type:D.bgFit},{name:"background-clip",type:D.bgClip},{name:"background-width",type:D.bgWH},{name:"background-height",type:D.bgWH},{name:"background-offset-x",type:D.bgPos},{name:"background-offset-y",type:D.bgPos}],Se=[{name:"position",type:D.position,triggersBounds:M.any},{name:"compound-sizing-wrt-labels",type:D.compoundIncludeLabels,triggersBounds:M.any},{name:"min-width",type:D.size,triggersBounds:M.any},{name:"min-width-bias-left",type:D.sizeMaybePercent,triggersBounds:M.any},{name:"min-width-bias-right",type:D.sizeMaybePercent,triggersBounds:M.any},{name:"min-height",type:D.size,triggersBounds:M.any},{name:"min-height-bias-top",type:D.sizeMaybePercent,triggersBounds:M.any},{name:"min-height-bias-bottom",type:D.sizeMaybePercent,triggersBounds:M.any}],ve=[{name:"line-style",type:D.lineStyle},{name:"line-color",type:D.color},{name:"line-fill",type:D.fill},{name:"line-cap",type:D.lineCap},{name:"line-opacity",type:D.zeroOneNumber},{name:"line-dash-pattern",type:D.numbers},{name:"line-dash-offset",type:D.number},{name:"line-gradient-stop-colors",type:D.colors},{name:"line-gradient-stop-positions",type:D.percentages},{name:"curve-style",type:D.curveStyle,triggersBounds:M.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:D.zeroOneNumber,triggersBounds:M.any},{name:"source-endpoint",type:D.edgeEndpoint,triggersBounds:M.any},{name:"target-endpoint",type:D.edgeEndpoint,triggersBounds:M.any},{name:"control-point-step-size",type:D.size,triggersBounds:M.any},{name:"control-point-distances",type:D.bidirectionalSizes,triggersBounds:M.any},{name:"control-point-weights",type:D.numbers,triggersBounds:M.any},{name:"segment-distances",type:D.bidirectionalSizes,triggersBounds:M.any},{name:"segment-weights",type:D.numbers,triggersBounds:M.any},{name:"taxi-turn",type:D.bidirectionalSizeMaybePercent,triggersBounds:M.any},{name:"taxi-turn-min-distance",type:D.size,triggersBounds:M.any},{name:"taxi-direction",type:D.axisDirection,triggersBounds:M.any},{name:"edge-distances",type:D.edgeDistances,triggersBounds:M.any},{name:"arrow-scale",type:D.positiveNumber,triggersBounds:M.any},{name:"loop-direction",type:D.angle,triggersBounds:M.any},{name:"loop-sweep",type:D.angle,triggersBounds:M.any},{name:"source-distance-from-node",type:D.size,triggersBounds:M.any},{name:"target-distance-from-node",type:D.size,triggersBounds:M.any}],Re=[{name:"ghost",type:D.bool,triggersBounds:M.any},{name:"ghost-offset-x",type:D.bidirectionalSize,triggersBounds:M.any},{name:"ghost-offset-y",type:D.bidirectionalSize,triggersBounds:M.any},{name:"ghost-opacity",type:D.zeroOneNumber}],Oe=[{name:"selection-box-color",type:D.color},{name:"selection-box-opacity",type:D.zeroOneNumber},{name:"selection-box-border-color",type:D.color},{name:"selection-box-border-width",type:D.size},{name:"active-bg-color",type:D.color},{name:"active-bg-opacity",type:D.zeroOneNumber},{name:"active-bg-size",type:D.size},{name:"outside-texture-bg-color",type:D.color},{name:"outside-texture-bg-opacity",type:D.zeroOneNumber}],Ee=[];xo.pieBackgroundN=16,Ee.push({name:"pie-size",type:D.sizeMaybePercent});for(var He=1;He<=xo.pieBackgroundN;He++)Ee.push({name:"pie-"+He+"-background-color",type:D.color}),Ee.push({name:"pie-"+He+"-background-size",type:D.percent}),Ee.push({name:"pie-"+He+"-background-opacity",type:D.zeroOneNumber});var Ae=[],Qe=xo.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:D.arrowShape,triggersBounds:M.any},{name:"arrow-color",type:D.color},{name:"arrow-fill",type:D.arrowFill}].forEach(function(tt){Qe.forEach(function(Ct){Ae.push({name:Ct+"-"+tt.name,type:tt.type,triggersBounds:tt.triggersBounds})})},{});var Ge=xo.properties=[].concat(Q,ce,ne,oe,le,Re,Y,W,I,L,z,ke,Te,me,Ee,Se,ve,Ae,Oe),We=xo.propertyGroups={behavior:Q,transition:ce,visibility:ne,overlay:oe,underlay:le,ghost:Re,commonLabel:Y,labelDimensions:W,mainLabel:I,sourceLabel:L,targetLabel:z,nodeBody:ke,nodeBorder:Te,backgroundImage:me,pie:Ee,compound:Se,edgeLine:ve,edgeArrow:Ae,core:Oe},nt=xo.propertyGroupNames={};(xo.propertyGroupKeys=Object.keys(We)).forEach(function(tt){nt[tt]=We[tt].map(function(Ct){return Ct.name}),We[tt].forEach(function(Ct){return Ct.groupKey=tt})});var dt=xo.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];xo.propertyNames=Ge.map(function(tt){return tt.name});for(var it=0;it<Ge.length;it++){var rt=Ge[it];Ge[rt.name]=rt}for(var Et=0;Et<dt.length;Et++){var St=dt[Et],gt={name:St.name,alias:!0,pointsTo:Ge[St.pointsTo]};Ge.push(gt),Ge[St.name]=gt}})(),xo.getDefaultProperty=function(u){return this.getDefaultProperties()[u]},xo.getDefaultProperties=function(){var u=this._private;if(null!=u.defaultProperties)return u.defaultProperties;for(var s=nn({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(M,D){for(var I=1;I<=xo.pieBackgroundN;I++)M[D.name.replace("{{i}}",I)]=D.value;return M},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(M,D){return xo.arrowPrefixes.forEach(function(I){M[I+"-"+D.name]=D.value}),M},{})),l={},d=0;d<this.properties.length;d++){var f=this.properties[d];if(!f.pointsTo){var p=f.name,w=this.parse(p,s[p]);l[p]=w}}return u.defaultProperties=l,u.defaultProperties},xo.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Sm={parse:function(u,s,l,d){var f=this;if(je(s))return f.parseImplWarn(u,s,l,d);var I,M=$h(u,""+s,l?"t":"f","mapping"===d||!0===d||!1===d||null==d?"dontcare":d),D=f.propCache=f.propCache||[];return(I=D[M])||(I=D[M]=f.parseImplWarn(u,s,l,d)),(l||"mapping"===d)&&(I=Yo(I))&&(I.value=Yo(I.value)),I},parseImplWarn:function(u,s,l,d){var f=this.parseImpl(u,s,l,d);return!f&&null!=s&&Dr("The style property `".concat(u,": ").concat(s,"` is invalid")),f&&("width"===f.name||"height"===f.name)&&"label"===s&&Dr("The style value of `label` is deprecated for `"+f.name+"`"),f}};Sm.parseImpl=function(u,s,l,d){var f=this;u=bt(u);var p=f.properties[u],m=s,w=f.types;if(!p||void 0===s)return null;p.alias&&(u=(p=p.pointsTo).name);var M=fe(s);M&&(s=s.trim());var I,L,D=p.type;if(!D)return null;if(l&&(""===s||null===s))return{name:u,value:s,bypass:!0,deleteBypass:!0};if(je(s))return{name:u,value:s,strValue:"fn",mapped:w.fn,bypass:l};if(!(!M||d||s.length<7||"a"!==s[1])){if(s.length>=7&&"d"===s[0]&&(I=new RegExp(w.data.regex).exec(s)))return!l&&{name:u,value:I,strValue:""+s,mapped:w.data,field:I[1],bypass:l};if(s.length>=10&&"m"===s[0]&&(L=new RegExp(w.mapData.regex).exec(s))){if(l||D.multiple)return!1;var W=w.mapData;if(!D.color&&!D.number)return!1;var Y=this.parse(u,L[4]);if(!Y||Y.mapped)return!1;var Q=this.parse(u,L[5]);if(!Q||Q.mapped)return!1;if(Y.pfValue===Q.pfValue||Y.strValue===Q.strValue)return Dr("`"+u+": "+s+"` is not a valid mapper because the output range is zero; converting to `"+u+": "+Y.strValue+"`"),this.parse(u,Y.strValue);if(D.color){var ne=Y.value,oe=Q.value;if(!(ne[0]!==oe[0]||ne[1]!==oe[1]||ne[2]!==oe[2]||ne[3]!==oe[3]&&(null!=ne[3]&&1!==ne[3]||null!=oe[3]&&1!==oe[3])))return!1}return{name:u,value:L,strValue:""+s,mapped:W,field:L[1],fieldMin:parseFloat(L[2]),fieldMax:parseFloat(L[3]),valueMin:Y.value,valueMax:Q.value,bypass:l}}}if(D.multiple&&"multiple"!==d){var ce;if(ce=M?s.split(/\s+/):Ve(s)?s:[s],D.evenMultiple&&ce.length%2!=0)return null;for(var pe=[],ke=[],Te=[],me="",Se=!1,ve=0;ve<ce.length;ve++){var Re=f.parse(u,ce[ve],l,"multiple");Se=Se||fe(Re.value),pe.push(Re.value),Te.push(null!=Re.pfValue?Re.pfValue:Re.value),ke.push(Re.units),me+=(ve>0?" ":"")+Re.strValue}return D.validate&&!D.validate(pe,ke)?null:D.singleEnum&&Se?1===pe.length&&fe(pe[0])?{name:u,value:pe[0],strValue:pe[0],bypass:l}:null:{name:u,value:pe,pfValue:Te,strValue:me,bypass:l,units:ke}}var Oe=function(){for(var Mt=0;Mt<D.enums.length;Mt++)if(D.enums[Mt]===s)return{name:u,value:s,strValue:""+s,bypass:l};return null};if(D.number){var Ee,He="px";if(D.units&&(Ee=D.units),D.implicitUnits&&(He=D.implicitUnits),!D.unitless)if(M){var Ae="px|em"+(D.allowPercent?"|\\%":"");Ee&&(Ae=Ee);var Qe=s.match("^("+Ft+")("+Ae+")?$");Qe&&(s=Qe[1],Ee=Qe[2]||He)}else(!Ee||D.implicitUnits)&&(Ee=He);if(s=parseFloat(s),isNaN(s)&&void 0===D.enums)return null;if(isNaN(s)&&void 0!==D.enums)return s=m,Oe();if(D.integer&&!function(s){return ge(s)&&Math.floor(s)===s}(s)||void 0!==D.min&&(s<D.min||D.strictMin&&s===D.min)||void 0!==D.max&&(s>D.max||D.strictMax&&s===D.max))return null;var Ge={name:u,value:s,strValue:""+s+(Ee||""),units:Ee,bypass:l};return Ge.pfValue=D.unitless||"px"!==Ee&&"em"!==Ee?s:"px"!==Ee&&Ee?this.getEmSizeInPixels()*s:s,("ms"===Ee||"s"===Ee)&&(Ge.pfValue="ms"===Ee?s:1e3*s),("deg"===Ee||"rad"===Ee)&&(Ge.pfValue="rad"===Ee?s:function(s){return Math.PI*s/180}(s)),"%"===Ee&&(Ge.pfValue=s/100),Ge}if(D.propList){var We=[],nt=""+s;if("none"!==nt){for(var st=nt.split(/\s*,\s*|\s+/),dt=0;dt<st.length;dt++){var it=st[dt].trim();f.properties[it]?We.push(it):Dr("`"+it+"` is not a valid property name")}if(0===We.length)return null}return{name:u,value:We,strValue:0===We.length?"none":We.join(" "),bypass:l}}if(D.color){var rt=function(s){return(Ve(s)?s:null)||function(s){return ya[s.toLowerCase()]}(s)||function(s){if((4===s.length||7===s.length)&&"#"===s[0]){var d,f,p,m=16;return 4===s.length?(d=parseInt(s[1]+s[1],m),f=parseInt(s[2]+s[2],m),p=parseInt(s[3]+s[3],m)):(d=parseInt(s[1]+s[2],m),f=parseInt(s[3]+s[4],m),p=parseInt(s[5]+s[6],m)),[d,f,p]}}(s)||function(s){var l,d=new RegExp("^"+Vn+"$").exec(s);if(d){l=[];for(var f=[],p=1;p<=3;p++){var m=d[p];if("%"===m[m.length-1]&&(f[p]=!0),m=parseFloat(m),f[p]&&(m=m/100*255),m<0||m>255)return;l.push(Math.floor(m))}if((f[1]||f[2]||f[3])&&!(f[1]&&f[2]&&f[3]))return;var D=d[4];if(void 0!==D){if((D=parseFloat(D))<0||D>1)return;l.push(D)}}return l}(s)||function(s){var l,d,f,p,m,w,M,D;function I(Y,Q,ne){return ne<0&&(ne+=1),ne>1&&(ne-=1),ne<1/6?Y+6*(Q-Y)*ne:ne<.5?Q:ne<2/3?Y+(Q-Y)*(2/3-ne)*6:Y}var L=new RegExp("^"+Cr+"$").exec(s);if(L){if((d=parseInt(L[1]))<0?d=(360- -1*d%360)%360:d>360&&(d%=360),d/=360,(f=parseFloat(L[2]))<0||f>100||(f/=100,(p=parseFloat(L[3]))<0||p>100)||(p/=100,void 0!==(m=L[4])&&((m=parseFloat(m))<0||m>1)))return;if(0===f)w=M=D=Math.round(255*p);else{var z=p<.5?p*(1+f):p+f-p*f,W=2*p-z;w=Math.round(255*I(W,z,d+1/3)),M=Math.round(255*I(W,z,d)),D=Math.round(255*I(W,z,d-1/3))}l=[w,M,D,m]}return l}(s)}(s);return rt?{name:u,value:rt,pfValue:rt,strValue:"rgb("+rt[0]+","+rt[1]+","+rt[2]+")",bypass:l}:null}if(D.regex||D.regexes){if(D.enums){var Et=Oe();if(Et)return Et}for(var St=D.regexes?D.regexes:[D.regex],yt=0;yt<St.length;yt++){var tt=new RegExp(St[yt]).exec(s);if(tt)return{name:u,value:D.singleRegexMatchValue?tt[1]:tt,strValue:""+s,bypass:l}}return null}return D.string?{name:u,value:""+s,strValue:""+s,bypass:l}:D.enums?Oe():null};var vr=function u(s){if(!(this instanceof u))return new u(s);Be(s)?(this._private={cy:s,coreStyle:{}},this.length=0,this.resetToDefault()):Br("A style must have a core reference")},Xi=vr.prototype;Xi.instanceString=function(){return"style"},Xi.clear=function(){for(var u=this._private,l=u.cy.elements(),d=0;d<this.length;d++)this[d]=void 0;return this.length=0,u.contextStyles={},u.propDiffs={},this.cleanElements(l,!0),l.forEach(function(f){var p=f[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},Xi.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Xi.core=function(u){return this._private.coreStyle[u]||this.getDefaultProperty(u)},Xi.selector=function(u){var s="core"===u?null:new el(u),l=this.length++;return this[l]={selector:s,properties:[],mappedProperties:[],index:l},this},Xi.css=function(){var s=arguments;if(1===s.length)for(var l=s[0],d=0;d<this.properties.length;d++){var f=this.properties[d],p=l[f.name];void 0===p&&(p=l[Ht(f.name)]),void 0!==p&&this.cssRule(f.name,p)}else 2===s.length&&this.cssRule(s[0],s[1]);return this},Xi.style=Xi.css,Xi.cssRule=function(u,s){var l=this.parse(u,s);if(l){var d=this.length-1;this[d].properties.push(l),this[d].properties[l.name]=l,l.name.match(/pie-(\d+)-background-size/)&&l.value&&(this._private.hasPie=!0),l.mapped&&this[d].mappedProperties.push(l),!this[d].selector&&(this._private.coreStyle[l.name]=l)}return this},Xi.append=function(u){return Le(u)?u.appendToStyle(this):Ve(u)?this.appendFromJson(u):fe(u)&&this.appendFromString(u),this},vr.fromJson=function(u,s){var l=new vr(u);return l.fromJson(s),l},vr.fromString=function(u,s){return new vr(u).fromString(s)},[Fo,mf,wy,ol,Dm,Ac,xo,Sm].forEach(function(u){nn(Xi,u)}),vr.types=Xi.types,vr.properties=Xi.properties,vr.propertyGroups=Xi.propertyGroups,vr.propertyGroupNames=Xi.propertyGroupNames,vr.propertyGroupKeys=Xi.propertyGroupKeys;var Yd={style:function(s){return s&&this.setStyle(s).update(),this._private.style},setStyle:function(s){var l=this._private;return l.style=Le(s)?s.generateStyle(this):Ve(s)?vr.fromJson(this,s):fe(s)?vr.fromString(this,s):vr(this),l.style},updateStyle:function(){this.mutableElements().updateStyle()}},Ki={autolock:function(s){return void 0===s?this._private.autolock:(this._private.autolock=!!s,this)},autoungrabify:function(s){return void 0===s?this._private.autoungrabify:(this._private.autoungrabify=!!s,this)},autounselectify:function(s){return void 0===s?this._private.autounselectify:(this._private.autounselectify=!!s,this)},selectionType:function(s){var l=this._private;return null==l.selectionType&&(l.selectionType="single"),void 0===s?l.selectionType:(("additive"===s||"single"===s)&&(l.selectionType=s),this)},panningEnabled:function(s){return void 0===s?this._private.panningEnabled:(this._private.panningEnabled=!!s,this)},userPanningEnabled:function(s){return void 0===s?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!s,this)},zoomingEnabled:function(s){return void 0===s?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!s,this)},userZoomingEnabled:function(s){return void 0===s?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!s,this)},boxSelectionEnabled:function(s){return void 0===s?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!s,this)},pan:function(){var d,f,p,m,w,s=arguments,l=this._private.pan;switch(s.length){case 0:return l;case 1:if(fe(s[0]))return l[d=s[0]];if(_e(s[0])){if(!this._private.panningEnabled)return this;w=(p=s[0]).y,ge(m=p.x)&&(l.x=m),ge(w)&&(l.y=w),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;f=s[1],("x"===(d=s[0])||"y"===d)&&ge(f)&&(l[d]=f),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(s,l){var p,m,w,M,D,d=arguments,f=this._private.pan;if(!this._private.panningEnabled)return this;switch(d.length){case 1:_e(s)&&(D=(w=d[0]).y,ge(M=w.x)&&(f.x+=M),ge(D)&&(f.y+=D),this.emit("pan viewport"));break;case 2:m=l,("x"===(p=s)||"y"===p)&&ge(m)&&(f[p]+=m),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(s,l){var d=this.getFitViewport(s,l);if(d){var f=this._private;f.zoom=d.zoom,f.pan=d.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(s,l){var d;if((ge(s)&&void 0===l&&(l=s,s=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(fe(s)?s=this.$(s):!function(s){return _e(s)&&ge(s.x1)&&ge(s.x2)&&ge(s.y1)&&ge(s.y2)}(s)?Me(s)||(s=this.mutableElements()):((d={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2}).w=d.x2-d.x1,d.h=d.y2-d.y1),!Me(s)||!s.empty())){d=d||s.boundingBox();var M,m=this.width(),w=this.height();if(l=ge(l)?l:0,!isNaN(m)&&!isNaN(w)&&m>0&&w>0&&!isNaN(d.w)&&!isNaN(d.h)&&d.w>0&&d.h>0)return{zoom:M=(M=(M=Math.min((m-2*l)/d.w,(w-2*l)/d.h))>this._private.maxZoom?this._private.maxZoom:M)<this._private.minZoom?this._private.minZoom:M,pan:{x:(m-M*(d.x1+d.x2))/2,y:(w-M*(d.y1+d.y2))/2}}}},zoomRange:function(s,l){var d=this._private;if(null==l){var f=s;s=f.min,l=f.max}return ge(s)&&ge(l)&&s<=l?(d.minZoom=s,d.maxZoom=l):ge(s)&&void 0===l&&s<=d.maxZoom?d.minZoom=s:ge(l)&&void 0===s&&l>=d.minZoom&&(d.maxZoom=l),this},minZoom:function(s){return void 0===s?this._private.minZoom:this.zoomRange({min:s})},maxZoom:function(s){return void 0===s?this._private.maxZoom:this.zoomRange({max:s})},getZoomedViewport:function(s){var p,m,l=this._private,d=l.pan,f=l.zoom,w=!1;return l.zoomingEnabled||(w=!0),ge(s)?m=s:_e(s)&&(m=s.level,null!=s.position?p=sr(s.position,f,d):null!=s.renderedPosition&&(p=s.renderedPosition),null!=p&&!l.panningEnabled&&(w=!0)),m=(m=m>l.maxZoom?l.maxZoom:m)<l.minZoom?l.minZoom:m,!w&&ge(m)&&m!==f&&(null==p||ge(p.x)&&ge(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:m,pan:{x:-m/f*(p.x-d.x)+p.x,y:-m/f*(p.y-d.y)+p.y}}:{zoomed:!0,panned:!1,zoom:m,pan:d}:null},zoom:function(s){if(void 0===s)return this._private.zoom;var l=this.getZoomedViewport(s),d=this._private;return null!=l&&l.zoomed?(d.zoom=l.zoom,l.panned&&(d.pan.x=l.pan.x,d.pan.y=l.pan.y),this.emit("zoom"+(l.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(s){var l=this._private,d=!0,f=!0,p=[],m=!1,w=!1;if(!s)return this;if(ge(s.zoom)||(d=!1),_e(s.pan)||(f=!1),!d&&!f)return this;if(d){var M=s.zoom;M<l.minZoom||M>l.maxZoom||!l.zoomingEnabled?m=!0:(l.zoom=M,p.push("zoom"))}if(f&&(!m||!s.cancelOnFailedZoom)&&l.panningEnabled){var D=s.pan;ge(D.x)&&(l.pan.x=D.x,w=!1),ge(D.y)&&(l.pan.y=D.y,w=!1),w||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(s){var l=this.getCenterPan(s);return l&&(this._private.pan=l,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(s,l){if(this._private.panningEnabled){if(fe(s)){var d=s;s=this.mutableElements().filter(d)}else Me(s)||(s=this.mutableElements());if(0!==s.length){var f=s.boundingBox(),p=this.width(),m=this.height();return{x:(p-(l=void 0===l?this._private.zoom:l)*(f.x1+f.x2))/2,y:(m-l*(f.y1+f.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var d,f,s=this._private,l=s.container;return s.sizeCache=s.sizeCache||(l?(d=H.getComputedStyle(l),{width:l.clientWidth-(f=function(m){return parseFloat(d.getPropertyValue(m))})("padding-left")-f("padding-right"),height:l.clientHeight-f("padding-top")-f("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var s=this._private.pan,l=this._private.zoom,d=this.renderedExtent(),f={x1:(d.x1-s.x)/l,x2:(d.x2-s.x)/l,y1:(d.y1-s.y)/l,y2:(d.y2-s.y)/l};return f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},renderedExtent:function(){var s=this.width(),l=this.height();return{x1:0,y1:0,x2:s,y2:l,w:s,h:l}},multiClickDebounceTime:function(s){return s?(this._private.multiClickDebounceTime=s,this):this._private.multiClickDebounceTime}};Ki.centre=Ki.center,Ki.autolockNodes=Ki.autolock,Ki.autoungrabifyNodes=Ki.autoungrabify;var ia={data:Fr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Fr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Fr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Fr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ia.attr=ia.data,ia.removeAttr=ia.removeData;var Su=function(s){var l=this,d=(s=nn({},s)).container;d&&!Xe(d)&&Xe(d[0])&&(d=d[0]);var f=d?d._cyreg:null;(f=f||{})&&f.cy&&(f.cy.destroy(),f={});var p=f.readies=f.readies||[];d&&(d._cyreg=f),f.cy=l;var m=void 0!==H&&void 0!==d&&!s.headless,w=s;w.layout=nn({name:m?"grid":"null"},w.layout),w.renderer=nn({name:m?"canvas":"null"},w.renderer);var M=function(Y,Q,ne){return void 0!==Q?Q:void 0!==ne?ne:Y},D=this._private={container:d,ready:!1,options:w,elements:new Yi(this),listeners:[],aniEles:new Yi(this),data:w.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:M(!0,w.zoomingEnabled),userZoomingEnabled:M(!0,w.userZoomingEnabled),panningEnabled:M(!0,w.panningEnabled),userPanningEnabled:M(!0,w.userPanningEnabled),boxSelectionEnabled:M(!0,w.boxSelectionEnabled),autolock:M(!1,w.autolock,w.autolockNodes),autoungrabify:M(!1,w.autoungrabify,w.autoungrabifyNodes),autounselectify:M(!1,w.autounselectify),styleEnabled:void 0===w.styleEnabled?m:w.styleEnabled,zoom:ge(w.zoom)?w.zoom:1,pan:{x:_e(w.pan)&&ge(w.pan.x)?w.pan.x:0,y:_e(w.pan)&&ge(w.pan.y)?w.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:M(250,w.multiClickDebounceTime)};this.createEmitter(),this.selectionType(w.selectionType),this.zoomRange({min:w.minZoom,max:w.maxZoom}),D.styleEnabled&&l.setStyle([]);var L=nn({},w,w.renderer);l.initRenderer(L),function(Y,Q){if(Y.some(ot))return Id.all(Y).then(Q);Q(Y)}([w.style,w.elements],function(W){var Y=W[0],Q=W[1];D.styleEnabled&&l.style().append(Y),function(Y,Q,ne){l.notifications(!1);var oe=l.mutableElements();oe.length>0&&oe.remove(),null!=Y&&(_e(Y)||Ve(Y))&&l.add(Y),l.one("layoutready",function(ce){l.notifications(!0),l.emit(ce),l.one("load",Q),l.emitAndNotify("load")}).one("layoutstop",function(){l.one("done",ne),l.emit("done")});var le=nn({},l._private.options.layout);le.eles=l.elements(),l.layout(le).run()}(Q,function(){l.startAnimationLoop(),D.ready=!0,je(w.ready)&&l.on("ready",w.ready);for(var ne=0;ne<p.length;ne++)l.on("ready",p[ne]);f&&(f.readies=[]),l.emit("ready")},w.done)})},Ic=Su.prototype;nn(Ic,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(s){return this.isReady()?this.emitter().emit("ready",[],s):this.on("ready",s),this},destroy:function(){var s=this;if(!s.destroyed())return s.stopAnimationLoop(),s.destroyRenderer(),this.emit("destroy"),s._private.destroyed=!0,s},hasElementWithId:function(s){return this._private.elements.hasElementWithId(s)},getElementById:function(s){return this._private.elements.getElementById(s)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(s){return this._private.elements.merge(s),this},removeFromPool:function(s){return this._private.elements.unmerge(s),this},container:function(){return this._private.container||null},mount:function(s){if(null!=s){var l=this,d=l._private,f=d.options;return!Xe(s)&&Xe(s[0])&&(s=s[0]),l.stopAnimationLoop(),l.destroyRenderer(),d.container=s,d.styleEnabled=!0,l.invalidateSize(),l.initRenderer(nn({},f,f.renderer,{name:"null"===f.renderer.name?"canvas":f.renderer.name})),l.startAnimationLoop(),l.style(f.style),l.emit("mount"),l}},unmount:function(){var s=this;return s.stopAnimationLoop(),s.destroyRenderer(),s.initRenderer({name:"null"}),s.emit("unmount"),s},options:function(){return Yo(this._private.options)},json:function(s){var l=this,d=l._private,f=l.mutableElements();if(_e(s)){if(l.startBatch(),s.elements){var m={},w=function(pe,ke){for(var Te=[],me=[],Se=0;Se<pe.length;Se++){var ve=pe[Se];if(ve.data.id){var Re=""+ve.data.id,Oe=l.getElementById(Re);m[Re]=!0,0!==Oe.length?me.push({ele:Oe,json:ve}):(ke&&(ve.group=ke),Te.push(ve))}else Dr("cy.json() cannot handle elements without an ID attribute")}l.add(Te);for(var Ee=0;Ee<me.length;Ee++){var He=me[Ee];He.ele.json(He.json)}};if(Ve(s.elements))w(s.elements);else for(var M=["nodes","edges"],D=0;D<M.length;D++){var I=M[D],L=s.elements[I];Ve(L)&&w(L,I)}var z=l.collection();f.filter(function(ce){return!m[ce.id()]}).forEach(function(ce){ce.isParent()?z.merge(ce):ce.remove()}),z.forEach(function(ce){return ce.children().move({parent:null})}),z.forEach(function(ce){return(pe=ce,l.getElementById(pe.id())).remove();var pe})}s.style&&l.style(s.style),null!=s.zoom&&s.zoom!==d.zoom&&l.zoom(s.zoom),s.pan&&(s.pan.x!==d.pan.x||s.pan.y!==d.pan.y)&&l.pan(s.pan),s.data&&l.data(s.data);for(var W=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],Y=0;Y<W.length;Y++){var Q=W[Y];null!=s[Q]&&l[Q](s[Q])}return l.endBatch(),this}var oe={};s?oe.elements=this.elements().map(function(ce){return ce.json()}):(oe.elements={},f.forEach(function(ce){var pe=ce.group();oe.elements[pe]||(oe.elements[pe]=[]),oe.elements[pe].push(ce.json())})),this._private.styleEnabled&&(oe.style=l.style().json()),oe.data=Yo(l.data());var le=d.options;return oe.zoomingEnabled=d.zoomingEnabled,oe.userZoomingEnabled=d.userZoomingEnabled,oe.zoom=d.zoom,oe.minZoom=d.minZoom,oe.maxZoom=d.maxZoom,oe.panningEnabled=d.panningEnabled,oe.userPanningEnabled=d.userPanningEnabled,oe.pan=Yo(d.pan),oe.boxSelectionEnabled=d.boxSelectionEnabled,oe.renderer=Yo(le.renderer),oe.hideEdgesOnViewport=le.hideEdgesOnViewport,oe.textureOnViewport=le.textureOnViewport,oe.wheelSensitivity=le.wheelSensitivity,oe.motionBlur=le.motionBlur,oe.multiClickDebounceTime=le.multiClickDebounceTime,oe}}),Ic.$id=Ic.getElementById,[ew,Mc,Tc,ff,Cu,Du,Cm,Nt,Yd,Ki,ia].forEach(function(u){nn(Ic,u)});var Xd={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(s,l){return!0},ready:void 0,stop:void 0,transform:function(s,l){return l}},ku=function(s){return s.scratch("breadthfirst")},rw=function(s,l){return s.scratch("breadthfirst",l)};function Ey(u){this.options=nn({},Xd,u)}Ey.prototype.run=function(){var D,u=this.options,s=u,l=u.cy,d=s.eles,f=d.nodes().filter(function(zt){return!zt.isParent()}),p=d,m=s.directed,w=s.maximal||s.maximalAdjustments>0,M=Zr(s.boundingBox?s.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(Me(s.roots))D=s.roots;else if(Ve(s.roots)){for(var I=[],L=0;L<s.roots.length;L++){var W=l.getElementById(s.roots[L]);I.push(W)}D=l.collection(I)}else if(fe(s.roots))D=l.$(s.roots);else if(m)D=f.roots();else{var Y=d.components();D=l.collection();for(var Q=function(Lt){var gn=Y[Lt],ln=gn.maxDegree(!1),Gt=gn.filter(function(fn){return fn.degree(!1)===ln});D=D.add(Gt)},ne=0;ne<Y.length;ne++)Q(ne)}var oe=[],le={},ce=function(Lt,gn){null==oe[gn]&&(oe[gn]=[]);var ln=oe[gn].length;oe[gn].push(Lt),rw(Lt,{index:ln,depth:gn})};p.bfs({roots:D,directed:s.directed,visit:function(Lt,gn,ln,Gt,fn){var Zn=Lt[0],Nn=Zn.id();ce(Zn,fn),le[Nn]=!0}});for(var ke=[],Te=0;Te<f.length;Te++){var me=f[Te];le[me.id()]||ke.push(me)}var Se=function(Lt){for(var gn=oe[Lt],ln=0;ln<gn.length;ln++){var Gt=gn[ln];null!=Gt?rw(Gt,{depth:Lt,index:ln}):(gn.splice(ln,1),ln--)}},ve=function(){for(var Lt=0;Lt<oe.length;Lt++)Se(Lt)},Re=function(Lt,gn){for(var ln=ku(Lt),Gt=Lt.incomers().filter(function(be){return be.isNode()&&d.has(be)}),fn=-1,Zn=Lt.id(),Nn=0;Nn<Gt.length;Nn++){var Rt=ku(Gt[Nn]);fn=Math.max(fn,Rt.depth)}return ln.depth<=fn&&(gn[Zn]?null:(function(Lt,gn){var ln=ku(Lt);oe[ln.depth][ln.index]=null,ce(Lt,gn)}(Lt,fn+1),gn[Zn]=!0,!0))};if(m&&w){var Oe=[],Ee={},He=function(Lt){return Oe.push(Lt)};for(f.forEach(function(zt){return Oe.push(zt)});Oe.length>0;){var Qe=Oe.shift(),Ge=Re(Qe,Ee);if(Ge)Qe.outgoers().filter(function(zt){return zt.isNode()&&d.has(zt)}).forEach(He);else if(null===Ge){Dr("Detected double maximal shift for node `"+Qe.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}ve();var We=0;if(s.avoidOverlap)for(var nt=0;nt<f.length;nt++){var dt=f[nt].layoutDimensions(s);We=Math.max(We,dt.w,dt.h)}var Et={},St=function(Lt){if(Et[Lt.id()])return Et[Lt.id()];for(var gn=ku(Lt).depth,ln=Lt.neighborhood(),Gt=0,fn=0,Zn=0;Zn<ln.length;Zn++){var Nn=ln[Zn];if(!Nn.isEdge()&&!Nn.isParent()&&f.has(Nn)){var yn=ku(Nn);if(null!=yn){var Rt=yn.index,be=yn.depth;null!=Rt&&null!=be&&be<gn&&(Gt+=Rt/oe[be].length,fn++)}}}return Gt/=fn=Math.max(1,fn),0===fn&&(Gt=0),Et[Lt.id()]=Gt,Gt},yt=function(Lt,gn){var fn=St(Lt)-St(gn);return 0===fn?Fi(Lt.id(),gn.id()):fn};void 0!==s.depthSort&&(yt=s.depthSort);for(var gt=0;gt<oe.length;gt++)oe[gt].sort(yt),Se(gt);for(var tt=[],Ct=0;Ct<ke.length;Ct++)tt.push(ke[Ct]);oe.unshift(tt),ve();for(var Mt=0,Pt=0;Pt<oe.length;Pt++)Mt=Math.max(oe[Pt].length,Mt);var Vt_x=M.x1+M.w/2,Vt_y=M.x1+M.h/2,Cn=oe.reduce(function(zt,Lt){return Math.max(zt,Lt.length)},0);return d.nodes().layoutPositions(this,s,function(Lt){var gn=ku(Lt),ln=gn.depth,Gt=gn.index,fn=oe[ln].length,Zn=Math.max(M.w/((s.grid?Cn:fn)+1),We),Nn=Math.max(M.h/(oe.length+1),We),yn=Math.min(M.w/2/oe.length,M.h/2/oe.length);if(yn=Math.max(yn,We),s.circle){var be=yn*ln+yn-(oe.length>0&&oe[0].length<=3?yn/2:0),ct=2*Math.PI/oe[ln].length*Gt;return 0===ln&&1===oe[0].length&&(be=1),{x:Vt_x+be*Math.cos(ct),y:Vt_y+be*Math.sin(ct)}}return{x:Vt_x+(Gt+1-(fn+1)/2)*Zn,y:(ln+1)*Nn}}),this};var hk={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(s,l){return!0},ready:void 0,stop:void 0,transform:function(s,l){return l}};function Zo(u){this.options=nn({},hk,u)}Zo.prototype.run=function(){var u=this.options,s=u,l=u.cy,d=s.eles,f=void 0!==s.counterclockwise?!s.counterclockwise:s.clockwise,p=d.nodes().not(":parent");s.sort&&(p=p.sort(s.sort));for(var I,m=Zr(s.boundingBox?s.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),w={x:m.x1+m.w/2,y:m.y1+m.h/2},D=(void 0===s.sweep?2*Math.PI-2*Math.PI/p.length:s.sweep)/Math.max(1,p.length-1),L=0,z=0;z<p.length;z++){var Y=p[z].layoutDimensions(s);L=Math.max(L,Y.w,Y.h)}if(I=ge(s.radius)?s.radius:p.length<=1?0:Math.min(m.h,m.w)/2-L,p.length>1&&s.avoidOverlap){L*=1.75;var oe=Math.cos(D)-Math.cos(0),le=Math.sin(D)-Math.sin(0),ce=Math.sqrt(L*L/(oe*oe+le*le));I=Math.max(ce,I)}return d.nodes().layoutPositions(this,s,function(Te,me){var Se=s.startAngle+me*D*(f?1:-1),ve=I*Math.cos(Se),Re=I*Math.sin(Se);return{x:w.x+ve,y:w.y+Re}}),this};var km={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(s){return s.degree()},levelWidth:function(s){return s.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(s,l){return!0},ready:void 0,stop:void 0,transform:function(s,l){return l}};function Oc(u){this.options=nn({},km,u)}Oc.prototype.run=function(){for(var u=this.options,s=u,l=void 0!==s.counterclockwise?!s.counterclockwise:s.clockwise,d=u.cy,f=s.eles,p=f.nodes().not(":parent"),m=Zr(s.boundingBox?s.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),w={x:m.x1+m.w/2,y:m.y1+m.h/2},M=[],D=0,I=0;I<p.length;I++){var z,L=p[I];z=s.concentric(L),M.push({value:z,node:L}),L._private.scratch.concentric=z}p.updateStyle();for(var W=0;W<p.length;W++){var Q=p[W].layoutDimensions(s);D=Math.max(D,Q.w,Q.h)}M.sort(function(zt,Lt){return Lt.value-zt.value});for(var ne=s.levelWidth(p),oe=[[]],le=oe[0],ce=0;ce<M.length;ce++){var pe=M[ce];le.length>0&&Math.abs(le[0].value-pe.value)>=ne&&oe.push(le=[]),le.push(pe)}var Te=D+s.minNodeSpacing;if(!s.avoidOverlap){var me=oe.length>0&&oe[0].length>1,Se=Math.min(m.w,m.h)/2-Te;Te=Math.min(Te,Se/(oe.length+me?1:0))}for(var Re=0,Oe=0;Oe<oe.length;Oe++){var Ee=oe[Oe],He=void 0===s.sweep?2*Math.PI-2*Math.PI/Ee.length:s.sweep,Ae=Ee.dTheta=He/Math.max(1,Ee.length-1);if(Ee.length>1&&s.avoidOverlap){var Qe=Math.cos(Ae)-Math.cos(0),Ge=Math.sin(Ae)-Math.sin(0),We=Math.sqrt(Te*Te/(Qe*Qe+Ge*Ge));Re=Math.max(We,Re)}Ee.r=Re,Re+=Te}if(s.equidistant){for(var nt=0,st=0,dt=0;dt<oe.length;dt++)nt=Math.max(nt,oe[dt].r-st);st=0;for(var Et=0;Et<oe.length;Et++){var St=oe[Et];0===Et&&(st=St.r),St.r=st,st+=nt}}for(var yt={},gt=0;gt<oe.length;gt++)for(var tt=oe[gt],Ct=tt.dTheta,Mt=tt.r,Pt=0;Pt<tt.length;Pt++){var Vt=tt[Pt],Cn=s.startAngle+(l?1:-1)*Ct*Pt,Ln={x:w.x+Mt*Math.cos(Cn),y:w.y+Mt*Math.sin(Cn)};yt[Vt.node.id()]=Ln}return f.nodes().layoutPositions(this,s,function(zt){var Lt=zt.id();return yt[Lt]}),this};var Cy,Dy={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(s,l){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(s){return 2048},nodeOverlap:4,idealEdgeLength:function(s){return 32},edgeElasticity:function(s){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function gf(u){this.options=nn({},Dy,u),this.options.layout=this}gf.prototype.run=function(){var u=this.options,s=u.cy,l=this;l.stopped=!1,(!0===u.animate||!1===u.animate)&&l.emit({type:"layoutstart",layout:l}),Cy=!0===u.debug;var d=iw(s,l,u);Cy&&(void 0)(d),u.randomize&&lw(d);var f=Gi(),p=function(){yf(d,s,u),!0===u.fit&&s.fit(u.padding)},m=function(z){return!(l.stopped||z>=u.numIter||(bf(d,u),d.temperature=d.temperature*u.coolingFactor,d.temperature<u.minTemp))},w=function(){if(!0===u.animate||!1===u.animate)p(),l.one("layoutstop",u.stop),l.emit({type:"layoutstop",layout:l});else{var z=u.eles.nodes(),W=vf(d,u,z);z.layoutPositions(l,u,W)}},M=0,D=!0;if(!0===u.animate)!function L(){for(var z=0;D&&z<u.refresh;)D=m(M),M++,z++;D?(Gi()-f>=u.animationThreshold&&p(),wl(L)):(Tu(d,u),w())}();else{for(;D;)D=m(M),M++;Tu(d,u),w()}return this},gf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},gf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var iw=function(s,l,d){for(var f=d.eles.edges(),p=d.eles.nodes(),m={isCompound:s.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:f.size(),temperature:d.initialTemp,clientWidth:s.width(),clientHeight:s.width(),boundingBox:Zr(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()})},w=d.eles.components(),M={},D=0;D<w.length;D++)for(var I=w[D],L=0;L<I.length;L++)M[I[L].id()]=D;for(D=0;D<m.nodeSize;D++){var Y=(W=p[D]).layoutDimensions(d);(Q={}).isLocked=W.locked(),Q.id=W.data("id"),Q.parentId=W.data("parent"),Q.cmptId=M[W.id()],Q.children=[],Q.positionX=W.position("x"),Q.positionY=W.position("y"),Q.offsetX=0,Q.offsetY=0,Q.height=Y.w,Q.width=Y.h,Q.maxX=Q.positionX+Q.width/2,Q.minX=Q.positionX-Q.width/2,Q.maxY=Q.positionY+Q.height/2,Q.minY=Q.positionY-Q.height/2,Q.padLeft=parseFloat(W.style("padding")),Q.padRight=parseFloat(W.style("padding")),Q.padTop=parseFloat(W.style("padding")),Q.padBottom=parseFloat(W.style("padding")),Q.nodeRepulsion=je(d.nodeRepulsion)?d.nodeRepulsion(W):d.nodeRepulsion,m.layoutNodes.push(Q),m.idToIndex[Q.id]=D}var ne=[],oe=0,le=-1,ce=[];for(D=0;D<m.nodeSize;D++){var W,pe=(W=m.layoutNodes[D]).parentId;null!=pe?m.layoutNodes[m.idToIndex[pe]].children.push(W.id):(ne[++le]=W.id,ce.push(W.id))}for(m.graphSet.push(ce);oe<=le;){var ke=ne[oe++],me=m.layoutNodes[m.idToIndex[ke]].children;if(me.length>0)for(m.graphSet.push(me),D=0;D<me.length;D++)ne[++le]=me[D]}for(D=0;D<m.graphSet.length;D++){var Se=m.graphSet[D];for(L=0;L<Se.length;L++)m.indexToGraph[m.idToIndex[Se[L]]]=D}for(D=0;D<m.edgeSize;D++){var Re=f[D],Oe={};Oe.id=Re.data("id"),Oe.sourceId=Re.data("source"),Oe.targetId=Re.data("target");var Ee=je(d.idealEdgeLength)?d.idealEdgeLength(Re):d.idealEdgeLength,He=je(d.edgeElasticity)?d.edgeElasticity(Re):d.edgeElasticity,Ae=m.idToIndex[Oe.sourceId],Qe=m.idToIndex[Oe.targetId];if(m.indexToGraph[Ae]!=m.indexToGraph[Qe]){for(var nt=ow(Oe.sourceId,Oe.targetId,m),st=m.graphSet[nt],dt=0,Q=m.layoutNodes[Ae];-1===st.indexOf(Q.id);)Q=m.layoutNodes[m.idToIndex[Q.parentId]],dt++;for(Q=m.layoutNodes[Qe];-1===st.indexOf(Q.id);)Q=m.layoutNodes[m.idToIndex[Q.parentId]],dt++;Ee*=dt*d.nestingFactor}Oe.idealLength=Ee,Oe.elasticity=He,m.layoutEdges.push(Oe)}return m},ow=function(s,l,d){var f=sw(s,l,0,d);return 2>f.count?0:f.graph},sw=function u(s,l,d,f){var p=f.graphSet[d];if(-1<p.indexOf(s)&&-1<p.indexOf(l))return{count:2,graph:d};for(var m=0,w=0;w<p.length;w++){var I=f.layoutNodes[f.idToIndex[p[w]]].children;if(0!==I.length){var z=u(s,l,f.indexToGraph[f.idToIndex[I[0]]],f);if(0!==z.count){if(1!==z.count)return z;if(2==++m)break}}}return{count:m,graph:d}},lw=function(s,l){for(var d=s.clientWidth,f=s.clientHeight,p=0;p<s.nodeSize;p++){var m=s.layoutNodes[p];0===m.children.length&&!m.isLocked&&(m.positionX=Math.random()*d,m.positionY=Math.random()*f)}},vf=function(s,l,d){var f=s.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return l.boundingBox&&(d.forEach(function(m){var w=s.layoutNodes[s.idToIndex[m.data("id")]];p.x1=Math.min(p.x1,w.positionX),p.x2=Math.max(p.x2,w.positionX),p.y1=Math.min(p.y1,w.positionY),p.y2=Math.max(p.y2,w.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(m,w){var M=s.layoutNodes[s.idToIndex[m.data("id")]];return l.boundingBox?{x:f.x1+(M.positionX-p.x1)/p.w*f.w,y:f.y1+(M.positionY-p.y1)/p.h*f.h}:{x:M.positionX,y:M.positionY}}},yf=function(s,l,d){var f=d.layout,p=d.eles.nodes(),m=vf(s,d,p);p.positions(m),!0!==s.ready&&(s.ready=!0,f.one("layoutready",d.ready),f.emit({type:"layoutready",layout:this}))},bf=function(s,l,d){jl(s,l),Zd(s),_f(s,l),Sy(s),uw(s)},jl=function(s,l){for(var d=0;d<s.graphSet.length;d++)for(var f=s.graphSet[d],p=f.length,m=0;m<p;m++)for(var w=s.layoutNodes[s.idToIndex[f[m]]],M=m+1;M<p;M++)Kd(w,s.layoutNodes[s.idToIndex[f[M]]],s,l)},Mm=function(s){return-s+2*s*Math.random()},Kd=function(s,l,d,f){if(s.cmptId===l.cmptId||d.isCompound){var w=l.positionX-s.positionX,M=l.positionY-s.positionY;0===w&&0===M&&(w=Mm(1),M=Mm(1));var I=cw(s,l,w,M);if(I>0)var W=(L=f.nodeOverlap*I)*w/(z=Math.sqrt(w*w+M*M)),Y=L*M/z;else{var L,Q=qd(s,w,M),ne=qd(l,-1*w,-1*M),oe=ne.x-Q.x,le=ne.y-Q.y,ce=oe*oe+le*le,z=Math.sqrt(ce);W=(L=(s.nodeRepulsion+l.nodeRepulsion)/ce)*oe/z,Y=L*le/z}s.isLocked||(s.offsetX-=W,s.offsetY-=Y),l.isLocked||(l.offsetX+=W,l.offsetY+=Y)}},cw=function(s,l,d,f){if(d>0)var p=s.maxX-l.minX;else p=l.maxX-s.minX;if(f>0)var m=s.maxY-l.minY;else m=l.maxY-s.minY;return p>=0&&m>=0?Math.sqrt(p*p+m*m):0},qd=function(s,l,d){var f=s.positionX,p=s.positionY,m=s.height||1,w=s.width||1,M=d/l,D=m/w,I={};return 0===l&&0<d||0===l&&0>d?(I.x=f,I.y=p+m/2,I):0<l&&-1*D<=M&&M<=D?(I.x=f+w/2,I.y=p+w*d/2/l,I):0>l&&-1*D<=M&&M<=D?(I.x=f-w/2,I.y=p-w*d/2/l,I):0<d&&(M<=-1*D||M>=D)?(I.x=f+m*l/2/d,I.y=p+m/2,I):(0>d&&(M<=-1*D||M>=D)&&(I.x=f-m*l/2/d,I.y=p-m/2),I)},Zd=function(s,l){for(var d=0;d<s.edgeSize;d++){var f=s.layoutEdges[d],m=s.layoutNodes[s.idToIndex[f.sourceId]],M=s.layoutNodes[s.idToIndex[f.targetId]],D=M.positionX-m.positionX,I=M.positionY-m.positionY;if(0!==D||0!==I){var L=qd(m,D,I),z=qd(M,-1*D,-1*I),W=z.x-L.x,Y=z.y-L.y,Q=Math.sqrt(W*W+Y*Y),ne=Math.pow(f.idealLength-Q,2)/f.elasticity;if(0!==Q)var oe=ne*W/Q,le=ne*Y/Q;else oe=0,le=0;m.isLocked||(m.offsetX+=oe,m.offsetY+=le),M.isLocked||(M.offsetX-=oe,M.offsetY-=le)}}},_f=function(s,l){if(0!==l.gravity)for(var f=0;f<s.graphSet.length;f++){var p=s.graphSet[f],m=p.length;if(0===f)var w=s.clientHeight/2,M=s.clientWidth/2;else{var I=s.layoutNodes[s.idToIndex[s.layoutNodes[s.idToIndex[p[0]]].parentId]];w=I.positionX,M=I.positionY}for(var L=0;L<m;L++){var z=s.layoutNodes[s.idToIndex[p[L]]];if(!z.isLocked){var W=w-z.positionX,Y=M-z.positionY,Q=Math.sqrt(W*W+Y*Y);if(Q>1){var oe=l.gravity*Y/Q;z.offsetX+=l.gravity*W/Q,z.offsetY+=oe}}}}},Sy=function(s,l){var d=[],f=0,p=-1;for(d.push.apply(d,s.graphSet[0]),p+=s.graphSet[0].length;f<=p;){var m=d[f++],M=s.layoutNodes[s.idToIndex[m]],D=M.children;if(0<D.length&&!M.isLocked){for(var I=M.offsetX,L=M.offsetY,z=0;z<D.length;z++){var W=s.layoutNodes[s.idToIndex[D[z]]];W.offsetX+=I,W.offsetY+=L,d[++p]=D[z]}M.offsetX=0,M.offsetY=0}}},uw=function(s,l){for(var d=0;d<s.nodeSize;d++)0<(f=s.layoutNodes[d]).children.length&&(f.maxX=void 0,f.minX=void 0,f.maxY=void 0,f.minY=void 0);for(d=0;d<s.nodeSize;d++)if(!(0<(f=s.layoutNodes[d]).children.length||f.isLocked)){var p=dw(f.offsetX,f.offsetY,s.temperature);f.positionX+=p.x,f.positionY+=p.y,f.offsetX=0,f.offsetY=0,f.minX=f.positionX-f.width,f.maxX=f.positionX+f.width,f.minY=f.positionY-f.height,f.maxY=f.positionY+f.height,Mu(f,s)}for(d=0;d<s.nodeSize;d++){var f;0<(f=s.layoutNodes[d]).children.length&&!f.isLocked&&(f.positionX=(f.maxX+f.minX)/2,f.positionY=(f.maxY+f.minY)/2,f.width=f.maxX-f.minX,f.height=f.maxY-f.minY)}},dw=function(s,l,d){var f=Math.sqrt(s*s+l*l);if(f>d)var p={x:d*s/f,y:d*l/f};else p={x:s,y:l};return p},Mu=function u(s,l){var d=s.parentId;if(null!=d){var f=l.layoutNodes[l.idToIndex[d]],p=!1;if((null==f.maxX||s.maxX+f.padRight>f.maxX)&&(f.maxX=s.maxX+f.padRight,p=!0),(null==f.minX||s.minX-f.padLeft<f.minX)&&(f.minX=s.minX-f.padLeft,p=!0),(null==f.maxY||s.maxY+f.padBottom>f.maxY)&&(f.maxY=s.maxY+f.padBottom,p=!0),(null==f.minY||s.minY-f.padTop<f.minY)&&(f.minY=s.minY-f.padTop,p=!0),p)return u(f,l)}},Tu=function(s,l){for(var d=s.layoutNodes,f=[],p=0;p<d.length;p++){var m=d[p],w=m.cmptId;(f[w]=f[w]||[]).push(m)}var D=0;for(p=0;p<f.length;p++)if(I=f[p]){I.x1=1/0,I.x2=-1/0,I.y1=1/0,I.y2=-1/0;for(var L=0;L<I.length;L++){var z=I[L];I.x1=Math.min(I.x1,z.positionX-z.width/2),I.x2=Math.max(I.x2,z.positionX+z.width/2),I.y1=Math.min(I.y1,z.positionY-z.height/2),I.y2=Math.max(I.y2,z.positionY+z.height/2)}I.w=I.x2-I.x1,I.h=I.y2-I.y1,D+=I.w*I.h}f.sort(function(le,ce){return ce.w*ce.h-le.w*le.h});var W=0,Y=0,Q=0,ne=0,oe=Math.sqrt(D)*s.clientWidth/s.clientHeight;for(p=0;p<f.length;p++){var I;if(I=f[p]){for(L=0;L<I.length;L++)(z=I[L]).isLocked||(z.positionX+=W-I.x1,z.positionY+=Y-I.y1);W+=I.w+l.componentSpacing,Q+=I.w+l.componentSpacing,ne=Math.max(ne,I.h),Q>oe&&(Y+=ne+l.componentSpacing,W=0,Q=0,ne=0)}}},hw={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(s){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(s,l){return!0},ready:void 0,stop:void 0,transform:function(s,l){return l}};function fw(u){this.options=nn({},hw,u)}fw.prototype.run=function(){var u=this.options,s=u,l=u.cy,d=s.eles,f=d.nodes().not(":parent");s.sort&&(f=f.sort(s.sort));var p=Zr(s.boundingBox?s.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(0===p.h||0===p.w)d.nodes().layoutPositions(this,s,function(Et){return{x:p.x1,y:p.y1}});else{var m=f.size(),w=Math.sqrt(m*p.h/p.w),M=Math.round(w),D=Math.round(p.w/p.h*w),I=function(St){if(null==St)return Math.min(M,D);Math.min(M,D)==M?M=St:D=St},L=function(St){if(null==St)return Math.max(M,D);Math.max(M,D)==M?M=St:D=St},z=s.rows,W=null!=s.cols?s.cols:s.columns;if(null!=z&&null!=W)M=z,D=W;else if(null!=z&&null==W)M=z,D=Math.ceil(m/M);else if(null==z&&null!=W)D=W,M=Math.ceil(m/D);else if(D*M>m){var Y=I(),Q=L();(Y-1)*Q>=m?I(Y-1):(Q-1)*Y>=m&&L(Q-1)}else for(;D*M<m;){var ne=I(),oe=L();(oe+1)*ne>=m?L(oe+1):I(ne+1)}var le=p.w/D,ce=p.h/M;if(s.condense&&(le=0,ce=0),s.avoidOverlap)for(var pe=0;pe<f.length;pe++){var ke=f[pe],Te=ke._private.position;(null==Te.x||null==Te.y)&&(Te.x=0,Te.y=0);var me=ke.layoutDimensions(s),Se=s.avoidOverlapPadding,Re=me.h+Se;le=Math.max(le,me.w+Se),ce=Math.max(ce,Re)}for(var Oe={},Ee=function(St,yt){return!!Oe["c-"+St+"-"+yt]},He=function(St,yt){Oe["c-"+St+"-"+yt]=!0},Ae=0,Qe=0,Ge=function(){++Qe>=D&&(Qe=0,Ae++)},We={},nt=0;nt<f.length;nt++){var st=f[nt],dt=s.position(st);if(dt&&(void 0!==dt.row||void 0!==dt.col)){var it={row:dt.row,col:dt.col};if(void 0===it.col)for(it.col=0;Ee(it.row,it.col);)it.col++;else if(void 0===it.row)for(it.row=0;Ee(it.row,it.col);)it.row++;We[st.id()]=it,He(it.row,it.col)}}f.layoutPositions(this,s,function(St,yt){var gt,tt;if(St.locked()||St.isParent())return!1;var Ct=We[St.id()];if(Ct)gt=Ct.col*le+le/2+p.x1,tt=Ct.row*ce+ce/2+p.y1;else{for(;Ee(Ae,Qe);)Ge();gt=Qe*le+le/2+p.x1,tt=Ae*ce+ce/2+p.y1,He(Ae,Qe),Ge()}return{x:gt,y:tt}})}return this};var ky={ready:function(){},stop:function(){}};function Tm(u){this.options=nn({},ky,u)}Tm.prototype.run=function(){var u=this.options,s=u.eles,l=this;return l.emit("layoutstart"),s.nodes().positions(function(){return{x:0,y:0}}),l.one("layoutready",u.ready),l.emit("layoutready"),l.one("layoutstop",u.stop),l.emit("layoutstop"),this},Tm.prototype.stop=function(){return this};var fk={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(s,l){return!0},ready:void 0,stop:void 0,transform:function(s,l){return l}};function My(u){this.options=nn({},fk,u)}My.prototype.run=function(){var u=this.options,l=u.eles.nodes(),d=je(u.positions);return l.layoutPositions(this,u,function(p,m){var w=function f(p){return null==u.positions?function(s){return{x:s.x,y:s.y}}(p.position()):d?u.positions(p):u.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=w&&w}),this};var pw={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(s,l){return!0},ready:void 0,stop:void 0,transform:function(s,l){return l}};function Ty(u){this.options=nn({},pw,u)}Ty.prototype.run=function(){var u=this.options,s=u.cy,l=u.eles,d=Zr(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});return l.nodes().layoutPositions(this,u,function(m,w){return{x:d.x1+Math.round(Math.random()*d.w),y:d.y1+Math.round(Math.random()*d.h)}}),this};var xf=[{name:"breadthfirst",impl:Ey},{name:"circle",impl:Zo},{name:"concentric",impl:Oc},{name:"cose",impl:gf},{name:"grid",impl:fw},{name:"null",impl:Tm},{name:"preset",impl:My},{name:"random",impl:Ty}];function Am(u){this.options=u,this.notifications=0}var Ay=function(){},Im=function(){throw new Error("A headless instance can not render images")};Am.prototype={recalculateRenderedStyle:Ay,notify:function(){this.notifications++},init:Ay,isHeadless:function(){return!0},png:Im,jpg:Im};var Iy={arrowShapeWidth:.3,registerArrowShapes:function(){var u=this.arrowShapes={},s=this,l=function(D,I,L,z,W,Y,Q){return W.x-L/2-Q<=D&&D<=W.x+L/2+Q&&W.y-L/2-Q<=I&&I<=W.y+L/2+Q},d=function(D,I,L,z,W){var Y=D*Math.cos(z)-I*Math.sin(z),Q=D*Math.sin(z)+I*Math.cos(z);return{x:Y*L+W.x,y:Q*L+W.y}},f=function(D,I,L,z){for(var W=[],Y=0;Y<D.length;Y+=2)W.push(d(D[Y],D[Y+1],I,L,z));return W},p=function(D){for(var I=[],L=0;L<D.length;L++){var z=D[L];I.push(z.x,z.y)}return I},m=function(D){return D.pstyle("width").pfValue*D.pstyle("arrow-scale").pfValue*2},w=function(D,I){fe(I)&&(I=u[I]),u[D]=nn({name:D,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(z,W,Y,Q,ne,oe){var le=p(f(this.points,Y+2*oe,Q,ne));return Vr(z,W,le)},roughCollide:l,draw:function(z,W,Y,Q){var ne=f(this.points,W,Y,Q);s.arrowShapeImpl("polygon")(z,ne)},spacing:function(z){return 0},gap:m},I)};w("none",{collide:iu,roughCollide:iu,draw:ou,spacing:Wa,gap:Wa}),w("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),w("arrow","triangle"),w("triangle-backcurve",{points:u.triangle.points,controlPoint:[0,-.15],roughCollide:l,draw:function(D,I,L,z,W){var Y=f(this.points,I,L,z),Q=this.controlPoint,ne=d(Q[0],Q[1],I,L,z);s.arrowShapeImpl(this.name)(D,Y,ne)},gap:function(D){return.8*m(D)}}),w("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(D,I,L,z,W,Y,Q){var ne=p(f(this.points,L+2*Q,z,W)),oe=p(f(this.pointsTee,L+2*Q,z,W));return Vr(D,I,ne)||Vr(D,I,oe)},draw:function(D,I,L,z,W){var Y=f(this.points,I,L,z),Q=f(this.pointsTee,I,L,z);s.arrowShapeImpl(this.name)(D,Y,Q)}}),w("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(D,I,L,z,W,Y,Q){var ne=W,oe=Math.pow(ne.x-D,2)+Math.pow(ne.y-I,2)<=Math.pow((L+2*Q)*this.radius,2),le=p(f(this.points,L+2*Q,z,W));return Vr(D,I,le)||oe},draw:function(D,I,L,z,W){var Y=f(this.pointsTr,I,L,z);s.arrowShapeImpl(this.name)(D,Y,z.x,z.y,this.radius*I)},spacing:function(D){return s.getArrowWidth(D.pstyle("width").pfValue,D.pstyle("arrow-scale").value)*this.radius}}),w("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(D,I){var L=this.baseCrossLinePts.slice(),z=I/D;return L[3]=L[3]-z,L[5]=L[5]-z,L},collide:function(D,I,L,z,W,Y,Q){var ne=p(f(this.points,L+2*Q,z,W)),oe=p(f(this.crossLinePts(L,Y),L+2*Q,z,W));return Vr(D,I,ne)||Vr(D,I,oe)},draw:function(D,I,L,z,W){var Y=f(this.points,I,L,z),Q=f(this.crossLinePts(I,W),I,L,z);s.arrowShapeImpl(this.name)(D,Y,Q)}}),w("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(D){return.525*m(D)}}),w("circle",{radius:.15,collide:function(D,I,L,z,W,Y,Q){var ne=W;return Math.pow(ne.x-D,2)+Math.pow(ne.y-I,2)<=Math.pow((L+2*Q)*this.radius,2)},draw:function(D,I,L,z,W){s.arrowShapeImpl(this.name)(D,z.x,z.y,this.radius*I)},spacing:function(D){return s.getArrowWidth(D.pstyle("width").pfValue,D.pstyle("arrow-scale").value)*this.radius}}),w("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(D){return 1},gap:function(D){return 1}}),w("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),w("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(D){return D.pstyle("width").pfValue*D.pstyle("arrow-scale").value}}),w("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(D){return.95*D.pstyle("width").pfValue*D.pstyle("arrow-scale").value}})}},Ul={projectIntoViewport:function(u,s){var l=this.cy,d=this.findContainerClientCoords(),f=d[0],p=d[1],m=d[4],w=l.pan(),M=l.zoom();return[((u-f)/m-w.x)/M,((s-p)/m-w.y)/M]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var u=this.container,s=u.getBoundingClientRect(),l=H.getComputedStyle(u),d=function(oe){return parseFloat(l.getPropertyValue(oe))},f_left=d("padding-left"),f_right=d("padding-right"),f_top=d("padding-top"),f_bottom=d("padding-bottom"),p_left=d("border-left-width"),p_right=d("border-right-width"),p_top=d("border-top-width"),m=(d("border-bottom-width"),u.clientWidth);return this.containerBB=[s.left+f_left+p_left,s.top+f_top+p_top,m-(f_left+f_right),u.clientHeight-(f_top+f_bottom),s.width/(m+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(u,s,l,d){return this.findNearestElements(u,s,l,d)[0]},findNearestElements:function(u,s,l,d){var Y,Q,f=this,p=this,m=p.getCachedZSortedEles(),w=[],M=p.cy.zoom(),D=p.cy.hasCompoundNodes(),I=(d?24:8)/M,L=(d?8:2)/M,z=(d?8:2)/M,W=1/0;function ne(me,Se){if(me.isNode()){if(Q)return;Q=me,w.push(me)}if(me.isEdge()&&(null==Se||Se<W))if(Y){if(Y.pstyle("z-compound-depth").value===me.pstyle("z-compound-depth").value&&Y.pstyle("z-compound-depth").value===me.pstyle("z-compound-depth").value)for(var ve=0;ve<w.length;ve++)if(w[ve].isEdge()){w[ve]=me,Y=me,W=Se??W;break}}else w.push(me),Y=me,W=Se??W}function oe(me){var Se=me.outerWidth()+2*L,ve=me.outerHeight()+2*L,Re=Se/2,Oe=ve/2,Ee=me.position();if(Ee.x-Re<=u&&u<=Ee.x+Re&&Ee.y-Oe<=s&&s<=Ee.y+Oe&&p.nodeShapes[f.getNodeShape(me)].checkPoint(u,s,0,Se,ve,Ee.x,Ee.y))return ne(me,0),!0}function le(me){var Qe,Se=me._private,ve=Se.rscratch,Re=me.pstyle("width").pfValue,Oe=me.pstyle("arrow-scale").value,Ee=Re/2+I,He=Ee*Ee,Ae=2*Ee,nt=Se.source,st=Se.target;if("segments"===ve.edgeType||"straight"===ve.edgeType||"haystack"===ve.edgeType){for(var Ge=ve.allpts,We=0;We+3<Ge.length;We+=2)if(_d(u,s,Ge[We],Ge[We+1],Ge[We+2],Ge[We+3],Ae)&&He>(Qe=Zp(u,s,Ge[We],Ge[We+1],Ge[We+2],Ge[We+3])))return ne(me,Qe),!0}else if("bezier"===ve.edgeType||"multibezier"===ve.edgeType||"self"===ve.edgeType||"compound"===ve.edgeType)for(Ge=ve.allpts,We=0;We+5<ve.allpts.length;We+=4)if(au(u,s,Ge[We],Ge[We+1],Ge[We+2],Ge[We+3],Ge[We+4],Ge[We+5],Ae)&&He>(Qe=xd(u,s,Ge[We],Ge[We+1],Ge[We+2],Ge[We+3],Ge[We+4],Ge[We+5])))return ne(me,Qe),!0;nt=nt||Se.source,st=st||Se.target;var dt=f.getArrowWidth(Re,Oe),it=[{name:"source",x:ve.arrowStartX,y:ve.arrowStartY,angle:ve.srcArrowAngle},{name:"target",x:ve.arrowEndX,y:ve.arrowEndY,angle:ve.tgtArrowAngle},{name:"mid-source",x:ve.midX,y:ve.midY,angle:ve.midsrcArrowAngle},{name:"mid-target",x:ve.midX,y:ve.midY,angle:ve.midtgtArrowAngle}];for(We=0;We<it.length;We++){var rt=it[We],Et=p.arrowShapes[me.pstyle(rt.name+"-arrow-shape").value],St=me.pstyle("width").pfValue;if(Et.roughCollide(u,s,dt,rt.angle,{x:rt.x,y:rt.y},St,I)&&Et.collide(u,s,dt,rt.angle,{x:rt.x,y:rt.y},St,I))return ne(me),!0}D&&w.length>0&&(oe(nt),oe(st))}function ce(me,Se,ve){return As(me,Se,ve)}function pe(me,Se){var Oe,ve=me._private,Re=z;Oe=Se?Se+"-":"",me.boundingBox();var Ee=ve.labelBounds[Se||"main"],He=me.pstyle(Oe+"label").value;if("yes"===me.pstyle("text-events").strValue&&He){var Qe=ce(ve.rscratch,"labelX",Se),Ge=ce(ve.rscratch,"labelY",Se),We=ce(ve.rscratch,"labelAngle",Se),nt=me.pstyle(Oe+"text-margin-x").pfValue,st=me.pstyle(Oe+"text-margin-y").pfValue,dt=Ee.x1-Re-nt,it=Ee.x2+Re-nt,rt=Ee.y1-Re-st,Et=Ee.y2+Re-st;if(We){var St=Math.cos(We),yt=Math.sin(We),gt=function(Ln,zt){return{x:(Ln-=Qe)*St-(zt-=Ge)*yt+Qe,y:Ln*yt+zt*St+Ge}},tt=gt(dt,rt),Ct=gt(dt,Et),Mt=gt(it,rt),Pt=gt(it,Et);if(Vr(u,s,[tt.x+nt,tt.y+st,Mt.x+nt,Mt.y+st,Pt.x+nt,Pt.y+st,Ct.x+nt,Ct.y+st]))return ne(me),!0}else if(Rs(Ee,u,s))return ne(me),!0}}l&&(m=m.interactive);for(var ke=m.length-1;ke>=0;ke--){var Te=m[ke];Te.isNode()?oe(Te)||pe(Te):le(Te)||pe(Te)||pe(Te,"source")||pe(Te,"target")}return w},getAllInBox:function(u,s,l,d){for(var f=this.getCachedZSortedEles().interactive,p=[],m=Math.min(u,l),w=Math.max(u,l),M=Math.min(s,d),D=Math.max(s,d),I=Zr({x1:u=m,y1:s=M,x2:l=w,y2:d=D}),L=0;L<f.length;L++){var z=f[L];if(z.isNode()){var W=z,Y=W.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});ls(I,Y)&&!qs(Y,I)&&p.push(W)}else{var Q=z,ne=Q._private,oe=ne.rscratch;if(null!=oe.startX&&null!=oe.startY&&!Rs(I,oe.startX,oe.startY)||null!=oe.endX&&null!=oe.endY&&!Rs(I,oe.endX,oe.endY))continue;if("bezier"===oe.edgeType||"multibezier"===oe.edgeType||"self"===oe.edgeType||"compound"===oe.edgeType||"segments"===oe.edgeType||"haystack"===oe.edgeType){for(var le=ne.rstyle.bezierPts||ne.rstyle.linePts||ne.rstyle.haystackPts,ce=!0,pe=0;pe<le.length;pe++)if(!su(I,le[pe])){ce=!1;break}ce&&p.push(Q)}else("haystack"===oe.edgeType||"straight"===oe.edgeType)&&p.push(Q)}}return p}},Om={calculateArrowAngles:function(u){var M,D,I,L,z,W,s=u._private.rscratch,l="haystack"===s.edgeType,d="bezier"===s.edgeType,f="multibezier"===s.edgeType,p="segments"===s.edgeType,m="compound"===s.edgeType,w="self"===s.edgeType;l?(I=s.haystackPts[0],L=s.haystackPts[1],z=s.haystackPts[2],W=s.haystackPts[3]):(I=s.arrowStartX,L=s.arrowStartY,z=s.arrowEndX,W=s.arrowEndY),oe=s.midX,le=s.midY,p?(M=I-s.segpts[0],D=L-s.segpts[1]):f||m||w||d?(M=I-pr((Y=s.allpts)[0],Y[2],Y[4],.1),D=L-pr(Y[1],Y[3],Y[5],.1)):(M=I-oe,D=L-le),s.srcArrowAngle=jr(M,D);var oe=s.midX,le=s.midY;if(l&&(oe=(I+z)/2,le=(L+W)/2),M=z-I,D=W-L,p)if((Y=s.allpts).length/2%2==0)M=Y[ce=Y.length/2]-Y[pe=ce-2],D=Y[ce+1]-Y[pe+1];else{var ce,pe,ke=2+(ce=Y.length/2-1);M=Y[ce]-Y[pe=ce-2],D=Y[ce+1]-Y[pe+1]}else if(f||m||w){var me,Se,ve,Re,Ee,Oe,He,Y=s.allpts;s.ctrlpts.length/2%2==0?(me=pr(Y[Oe=Y.length/2-1],Y[Ee=Oe+2],Y[He=Ee+2],0),Se=pr(Y[Oe+1],Y[Ee+1],Y[He+1],0),ve=pr(Y[Oe],Y[Ee],Y[He],1e-4),Re=pr(Y[Oe+1],Y[Ee+1],Y[He+1],1e-4)):(me=pr(Y[Oe=(Ee=Y.length/2-1)-2],Y[Ee],Y[He=Ee+2],.4999),Se=pr(Y[Oe+1],Y[Ee+1],Y[He+1],.4999),ve=pr(Y[Oe],Y[Ee],Y[He],.5),Re=pr(Y[Oe+1],Y[Ee+1],Y[He+1],.5)),M=ve-me,D=Re-Se}if(s.midtgtArrowAngle=jr(M,D),s.midDispX=M,s.midDispY=D,M*=-1,D*=-1,p&&(Y=s.allpts).length/2%2!=0&&(M=-(Y[ke=2+(ce=Y.length/2-1)]-Y[ce]),D=-(Y[ke+1]-Y[ce+1])),s.midsrcArrowAngle=jr(M,D),p)M=z-s.segpts[s.segpts.length-2],D=W-s.segpts[s.segpts.length-1];else if(f||m||w||d){var Ae=(Y=s.allpts).length;M=z-pr(Y[Ae-6],Y[Ae-4],Y[Ae-2],.9),D=W-pr(Y[Ae-5],Y[Ae-3],Y[Ae-1],.9)}else M=z-oe,D=W-le;s.tgtArrowAngle=jr(M,D)}};Om.getArrowWidth=Om.getArrowHeight=function(u,s){var l=this.arrowWidthCache=this.arrowWidthCache||{},d=l[u+", "+s];return d||(d=Math.max(Math.pow(13.37*u,.9),29)*s,l[u+", "+s]=d,d)};var Lo={};function Oy(u){var s=[];if(null!=u){for(var l=0;l<u.length;l+=2)s.push({x:u[l],y:u[l+1]});return s}}Lo.findHaystackPoints=function(u){for(var s=0;s<u.length;s++){var l=u[s],d=l._private,f=d.rscratch;if(!f.haystack){var p=2*Math.random()*Math.PI;f.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,f.target={x:Math.cos(p),y:Math.sin(p)}}var m=d.source,w=d.target,M=m.position(),D=w.position(),I=m.width(),L=w.width(),z=m.height(),W=w.height(),Q=l.pstyle("haystack-radius").value/2;f.haystackPts=f.allpts=[f.source.x*I*Q+M.x,f.source.y*z*Q+M.y,f.target.x*L*Q+D.x,f.target.y*W*Q+D.y],f.midX=(f.allpts[0]+f.allpts[2])/2,f.midY=(f.allpts[1]+f.allpts[3])/2,f.edgeType="haystack",f.haystack=!0,this.storeEdgeProjections(l),this.calculateArrowAngles(l),this.recalculateEdgeLabelProjections(l),this.calculateLabelAngles(l)}},Lo.findSegmentsPoints=function(u,s){var l=u._private.rscratch,d=s.posPts,f=s.intersectionPts,p=s.vectorNormInverse,m=u.pstyle("edge-distances").value,w=u.pstyle("segment-weights"),M=u.pstyle("segment-distances"),D=Math.min(w.pfValue.length,M.pfValue.length);l.edgeType="segments",l.segpts=[];for(var I=0;I<D;I++){var L=w.pfValue[I],z=M.pfValue[I],W=1-L,Q="node-position"===m?d:f,ne={x:Q.x1*W+Q.x2*L,y:Q.y1*W+Q.y2*L};l.segpts.push(ne.x+p.x*z,ne.y+p.y*z)}},Lo.findLoopPoints=function(u,s,l,d){var f=u._private.rscratch,p=s.dirCounts,m=s.srcPos,w=u.pstyle("control-point-distances"),M=w?w.pfValue[0]:void 0,D=u.pstyle("loop-direction").pfValue,I=u.pstyle("loop-sweep").pfValue,L=u.pstyle("control-point-step-size").pfValue;f.edgeType="self";var z=l,W=L;d&&(z=0,W=M);var Y=D-Math.PI/2,Q=Y-I/2,ne=Y+I/2,oe=String(D+"_"+I);z=void 0===p[oe]?p[oe]=0:++p[oe],f.ctrlpts=[m.x+1.4*Math.cos(Q)*W*(z/3+1),m.y+1.4*Math.sin(Q)*W*(z/3+1),m.x+1.4*Math.cos(ne)*W*(z/3+1),m.y+1.4*Math.sin(ne)*W*(z/3+1)]},Lo.findCompoundLoopPoints=function(u,s,l,d){var f=u._private.rscratch;f.edgeType="compound";var p=s.srcPos,m=s.tgtPos,w=s.srcW,M=s.srcH,D=s.tgtW,I=s.tgtH,L=u.pstyle("control-point-step-size").pfValue,z=u.pstyle("control-point-distances"),Y=l,Q=L;d&&(Y=0,Q=z?z.pfValue[0]:void 0);var oe={x:p.x-w/2,y:p.y-M/2},le={x:m.x-D/2,y:m.y-I/2},ce={x:Math.min(oe.x,le.x),y:Math.min(oe.y,le.y)},ke=Math.max(.5,Math.log(.01*w)),Te=Math.max(.5,Math.log(.01*D));f.ctrlpts=[ce.x,ce.y-(1+Math.pow(50,1.12)/100)*Q*(Y/3+1)*ke,ce.x-(1+Math.pow(50,1.12)/100)*Q*(Y/3+1)*Te,ce.y]},Lo.findStraightEdgePoints=function(u){u._private.rscratch.edgeType="straight"},Lo.findBezierPoints=function(u,s,l,d,f){var p=u._private.rscratch,m=s.vectorNormInverse,w=s.posPts,M=s.intersectionPts,D=u.pstyle("edge-distances").value,I=u.pstyle("control-point-step-size").pfValue,L=u.pstyle("control-point-distances"),z=u.pstyle("control-point-weights"),W=L&&z?Math.min(L.value.length,z.value.length):1,Y=L?L.pfValue[0]:void 0,Q=z.value[0],ne=d;p.edgeType=ne?"multibezier":"bezier",p.ctrlpts=[];for(var oe=0;oe<W;oe++){var ce,le=(.5-s.eles.length/2+l)*I*(f?-1:1),pe=xi(le);ne&&(Y=L?L.pfValue[oe]:I,Q=z.value[oe]);var ke=void 0!==(ce=d?Y:void 0!==Y?pe*Y:void 0)?ce:le,Te=1-Q,Se="node-position"===D?w:M,ve={x:Se.x1*Te+Se.x2*Q,y:Se.y1*Te+Se.y2*Q};p.ctrlpts.push(ve.x+m.x*ke,ve.y+m.y*ke)}},Lo.findTaxiPoints=function(u,s){var l=u._private.rscratch;l.edgeType="segments";var d="vertical",f="horizontal",p="leftward",m="rightward",w="downward",M="upward",I=s.posPts,L=s.srcW,z=s.srcH,W=s.tgtW,Y=s.tgtH,ne="node-position"!==u.pstyle("edge-distances").value,oe=u.pstyle("taxi-direction").value,le=oe,ce=u.pstyle("taxi-turn"),pe="%"===ce.units,ke=ce.pfValue,Te=ke<0,me=u.pstyle("taxi-turn-min-distance").pfValue,ve=ne?(z+Y)/2:0,Re=I.x2-I.x1,Oe=I.y2-I.y1,Ee=function(cn,er){return cn>0?Math.max(cn-er,0):Math.min(cn+er,0)},He=Ee(Re,ne?(L+W)/2:0),Ae=Ee(Oe,ve),Qe=!1;"auto"===le?oe=Math.abs(He)>Math.abs(Ae)?f:d:le===M||le===w?(oe=d,Qe=!0):(le===p||le===m)&&(oe=f,Qe=!0);var it,Ge=oe===d,We=Ge?Ae:He,nt=Ge?Oe:Re,st=xi(nt),dt=!1;(!Qe||!pe&&!Te)&&(le===w&&nt<0||le===M&&nt>0||le===p&&nt>0||le===m&&nt<0)&&(We=(st*=-1)*Math.abs(We),dt=!0);var St=function(cn){return Math.abs(cn)<me||Math.abs(cn)>=Math.abs(We)},yt=St(it=pe?(ke<0?1+ke:ke)*We:(ke<0?We:0)+ke*st),gt=St(Math.abs(We)-Math.abs(it));if(!yt&&!gt||dt)if(Ge){var be=I.y1+it+(ne?z/2*st:0);l.segpts=[I.x1,be,I.x2,be]}else{var mt=I.x1+it+(ne?L/2*st:0);l.segpts=[mt,I.y1,mt,I.y2]}else if(Ge){var Ct=Math.abs(nt)<=z/2,Mt=Math.abs(Re)<=W/2;if(Ct){var Pt=(I.x1+I.x2)/2;l.segpts=[Pt,I.y1,Pt,I.y2]}else if(Mt){var Ln=(I.y1+I.y2)/2;l.segpts=[I.x1,Ln,I.x2,Ln]}else l.segpts=[I.x1,I.y2]}else{var gn=Math.abs(nt)<=L/2,ln=Math.abs(Oe)<=Y/2;if(gn){var Gt=(I.y1+I.y2)/2;l.segpts=[I.x1,Gt,I.x2,Gt]}else if(ln){var Nn=(I.x1+I.x2)/2;l.segpts=[Nn,I.y1,Nn,I.y2]}else l.segpts=[I.x2,I.y1]}},Lo.tryToCorrectInvalidPoints=function(u,s){var l=u._private.rscratch;if("bezier"===l.edgeType){var d=s.srcPos,f=s.tgtPos,p=s.srcW,m=s.srcH,w=s.tgtW,M=s.tgtH,D=s.srcShape,I=s.tgtShape,L=!ge(l.startX)||!ge(l.startY),z=!ge(l.arrowStartX)||!ge(l.arrowStartY),W=!ge(l.endX)||!ge(l.endY),Y=!ge(l.arrowEndX)||!ge(l.arrowEndY),oe=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,le=Xr({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.startX,y:l.startY}),ce=le<oe,pe=Xr({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.endX,y:l.endY}),ke=pe<oe,Te=!1;if(L||z||ce){Te=!0;var me={x:l.ctrlpts[0]-d.x,y:l.ctrlpts[1]-d.y},Se=Math.sqrt(me.x*me.x+me.y*me.y),ve={x:me.x/Se,y:me.y/Se},Re=Math.max(p,m),Oe={x:l.ctrlpts[0]+2*ve.x*Re,y:l.ctrlpts[1]+2*ve.y*Re},Ee=D.intersectLine(d.x,d.y,p,m,Oe.x,Oe.y,0);ce?(l.ctrlpts[0]=l.ctrlpts[0]+ve.x*(oe-le),l.ctrlpts[1]=l.ctrlpts[1]+ve.y*(oe-le)):(l.ctrlpts[0]=Ee[0]+ve.x*oe,l.ctrlpts[1]=Ee[1]+ve.y*oe)}if(W||Y||ke){Te=!0;var He={x:l.ctrlpts[0]-f.x,y:l.ctrlpts[1]-f.y},Ae=Math.sqrt(He.x*He.x+He.y*He.y),Qe={x:He.x/Ae,y:He.y/Ae},Ge=Math.max(p,m),We={x:l.ctrlpts[0]+2*Qe.x*Ge,y:l.ctrlpts[1]+2*Qe.y*Ge},nt=I.intersectLine(f.x,f.y,w,M,We.x,We.y,0);ke?(l.ctrlpts[0]=l.ctrlpts[0]+Qe.x*(oe-pe),l.ctrlpts[1]=l.ctrlpts[1]+Qe.y*(oe-pe)):(l.ctrlpts[0]=nt[0]+Qe.x*oe,l.ctrlpts[1]=nt[1]+Qe.y*oe)}Te&&this.findEndpoints(u)}},Lo.storeAllpts=function(u){var s=u._private.rscratch;if("multibezier"===s.edgeType||"bezier"===s.edgeType||"self"===s.edgeType||"compound"===s.edgeType){s.allpts=[],s.allpts.push(s.startX,s.startY);for(var l=0;l+1<s.ctrlpts.length;l+=2)s.allpts.push(s.ctrlpts[l],s.ctrlpts[l+1]),l+3<s.ctrlpts.length&&s.allpts.push((s.ctrlpts[l]+s.ctrlpts[l+2])/2,(s.ctrlpts[l+1]+s.ctrlpts[l+3])/2);var d;s.allpts.push(s.endX,s.endY),s.ctrlpts.length/2%2==0?(s.midX=s.allpts[d=s.allpts.length/2-1],s.midY=s.allpts[d+1]):(s.midX=pr(s.allpts[d=s.allpts.length/2-3],s.allpts[d+2],s.allpts[d+4],.5),s.midY=pr(s.allpts[d+1],s.allpts[d+3],s.allpts[d+5],.5))}else if("straight"===s.edgeType)s.allpts=[s.startX,s.startY,s.endX,s.endY],s.midX=(s.startX+s.endX+s.arrowStartX+s.arrowEndX)/4,s.midY=(s.startY+s.endY+s.arrowStartY+s.arrowEndY)/4;else if("segments"===s.edgeType)if(s.allpts=[],s.allpts.push(s.startX,s.startY),s.allpts.push.apply(s.allpts,s.segpts),s.allpts.push(s.endX,s.endY),s.segpts.length%4==0){var p=s.segpts.length/2,m=p-2;s.midX=(s.segpts[m]+s.segpts[p])/2,s.midY=(s.segpts[m+1]+s.segpts[p+1])/2}else{var w=s.segpts.length/2-1;s.midX=s.segpts[w],s.midY=s.segpts[w+1]}},Lo.checkForInvalidEdgeWarning=function(u){var s=u[0]._private.rscratch;s.nodesOverlap||ge(s.startX)&&ge(s.startY)&&ge(s.endX)&&ge(s.endY)?s.loggedErr=!1:s.loggedErr||(s.loggedErr=!0,Dr("Edge `"+u.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Lo.findEdgeControlPoints=function(u){var s=this;if(u&&0!==u.length){for(var l=this,f=l.cy.hasCompoundNodes(),p={map:new Oo,get:function(me){var Se=this.map.get(me[0]);return null!=Se?Se.get(me[1]):null},set:function(me,Se){var ve=this.map.get(me[0]);null==ve&&(ve=new Oo,this.map.set(me[0],ve)),ve.set(me[1],Se)}},m=[],w=[],M=0;M<u.length;M++){var D=u[M],I=D._private,L=D.pstyle("curve-style").value;if(!D.removed()&&D.takesUpSpace()){if("haystack"===L){w.push(D);continue}var z="unbundled-bezier"===L||"segments"===L||"straight"===L||"straight-triangle"===L||"taxi"===L,W="unbundled-bezier"===L||"bezier"===L,Q=I.target,le=[I.source.poolIndex(),Q.poolIndex()].sort(),ce=p.get(le);null==ce&&(p.set(le,ce={eles:[]}),m.push(le)),ce.eles.push(D),z&&(ce.hasUnbundled=!0),W&&(ce.hasBezier=!0)}}for(var pe=function(me){var ve=p.get(m[me]),Re=void 0;if(!ve.hasUnbundled){var Oe=ve.eles[0].parallelEdges().filter(function(Rt){return Rt.isBundledBezier()});yd(ve.eles),Oe.forEach(function(Rt){return ve.eles.push(Rt)}),ve.eles.sort(function(Rt,be){return Rt.poolIndex()-be.poolIndex()})}var Ee=ve.eles[0],He=Ee.source(),Ae=Ee.target();if(He.poolIndex()>Ae.poolIndex()){var Qe=He;He=Ae,Ae=Qe}var Ge=ve.srcPos=He.position(),We=ve.tgtPos=Ae.position(),nt=ve.srcW=He.outerWidth(),st=ve.srcH=He.outerHeight(),dt=ve.tgtW=Ae.outerWidth(),it=ve.tgtH=Ae.outerHeight(),rt=ve.srcShape=l.nodeShapes[s.getNodeShape(He)],Et=ve.tgtShape=l.nodeShapes[s.getNodeShape(Ae)];ve.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var St=0;St<ve.eles.length;St++){var yt=ve.eles[St],gt=yt[0]._private.rscratch,tt=yt.pstyle("curve-style").value,Ct="unbundled-bezier"===tt||"segments"===tt||"taxi"===tt,Mt=!He.same(yt.source());if(!ve.calculatedIntersection&&He!==Ae&&(ve.hasBezier||ve.hasUnbundled)){ve.calculatedIntersection=!0;var Pt=rt.intersectLine(Ge.x,Ge.y,nt,st,We.x,We.y,0),Vt=ve.srcIntn=Pt,Cn=Et.intersectLine(We.x,We.y,dt,it,Ge.x,Ge.y,0),Ln=ve.tgtIntn=Cn,zt=ve.intersectionPts={x1:Pt[0],x2:Cn[0],y1:Pt[1],y2:Cn[1]},Lt=ve.posPts={x1:Ge.x,x2:We.x,y1:Ge.y,y2:We.y},gn=Cn[1]-Pt[1],ln=Cn[0]-Pt[0],Gt=Math.sqrt(ln*ln+gn*gn),fn=ve.vector={x:ln,y:gn},Zn=ve.vectorNorm={x:fn.x/Gt,y:fn.y/Gt},Nn={x:-Zn.y,y:Zn.x};ve.nodesOverlap=!ge(Gt)||Et.checkPoint(Pt[0],Pt[1],0,dt,it,We.x,We.y)||rt.checkPoint(Cn[0],Cn[1],0,nt,st,Ge.x,Ge.y),ve.vectorNormInverse=Nn,Re={nodesOverlap:ve.nodesOverlap,dirCounts:ve.dirCounts,calculatedIntersection:!0,hasBezier:ve.hasBezier,hasUnbundled:ve.hasUnbundled,eles:ve.eles,srcPos:We,tgtPos:Ge,srcW:dt,srcH:it,tgtW:nt,tgtH:st,srcIntn:Ln,tgtIntn:Vt,srcShape:Et,tgtShape:rt,posPts:{x1:Lt.x2,y1:Lt.y2,x2:Lt.x1,y2:Lt.y1},intersectionPts:{x1:zt.x2,y1:zt.y2,x2:zt.x1,y2:zt.y1},vector:{x:-fn.x,y:-fn.y},vectorNorm:{x:-Zn.x,y:-Zn.y},vectorNormInverse:{x:-Nn.x,y:-Nn.y}}}var yn=Mt?Re:ve;gt.nodesOverlap=yn.nodesOverlap,gt.srcIntn=yn.srcIntn,gt.tgtIntn=yn.tgtIntn,f&&(He.isParent()||He.isChild()||Ae.isParent()||Ae.isChild())&&(He.parents().anySame(Ae)||Ae.parents().anySame(He)||He.same(Ae)&&He.isParent())?s.findCompoundLoopPoints(yt,yn,St,Ct):He===Ae?s.findLoopPoints(yt,yn,St,Ct):"segments"===tt?s.findSegmentsPoints(yt,yn):"taxi"===tt?s.findTaxiPoints(yt,yn):"straight"===tt||!Ct&&ve.eles.length%2==1&&St===Math.floor(ve.eles.length/2)?s.findStraightEdgePoints(yt):s.findBezierPoints(yt,yn,St,Ct,Mt),s.findEndpoints(yt),s.tryToCorrectInvalidPoints(yt,yn),s.checkForInvalidEdgeWarning(yt),s.storeAllpts(yt),s.storeEdgeProjections(yt),s.calculateArrowAngles(yt),s.recalculateEdgeLabelProjections(yt),s.calculateLabelAngles(yt)}},ke=0;ke<m.length;ke++)pe(ke);this.findHaystackPoints(w)}},Lo.getSegmentPoints=function(u){var s=u[0]._private.rscratch;if("segments"===s.edgeType)return this.recalculateRenderedStyle(u),Oy(s.segpts)},Lo.getControlPoints=function(u){var s=u[0]._private.rscratch,l=s.edgeType;if("bezier"===l||"multibezier"===l||"self"===l||"compound"===l)return this.recalculateRenderedStyle(u),Oy(s.ctrlpts)},Lo.getEdgeMidpoint=function(u){var s=u[0]._private.rscratch;return this.recalculateRenderedStyle(u),{x:s.midX,y:s.midY}};var Rc={manualEndptToPx:function(u,s){var d=u.position(),f=u.outerWidth(),p=u.outerHeight();if(2===s.value.length){var m=[s.pfValue[0],s.pfValue[1]];return"%"===s.units[0]&&(m[0]=m[0]*f),"%"===s.units[1]&&(m[1]=m[1]*p),m[0]+=d.x,m[1]+=d.y,m}var w=s.pfValue[0];w=-Math.PI/2+w;var M=2*Math.max(f,p),D=[d.x+Math.cos(w)*M,d.y+Math.sin(w)*M];return this.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,f,p,D[0],D[1],0)},findEndpoints:function(u){var l,Re,Oe,Ee,He,s=this,d=u.source()[0],f=u.target()[0],p=d.position(),m=f.position(),w=u.pstyle("target-arrow-shape").value,M=u.pstyle("source-arrow-shape").value,D=u.pstyle("target-distance-from-node").pfValue,I=u.pstyle("source-distance-from-node").pfValue,L=u.pstyle("curve-style").value,z=u._private.rscratch,W=z.edgeType,Q="self"===W||"compound"===W,ne="bezier"===W||"multibezier"===W||Q,oe="bezier"!==W,le="straight"===W||"segments"===W,ce="segments"===W,pe=ne||oe||le,ke=Q||"taxi"===L,Te=u.pstyle("source-endpoint"),me=ke?"outside-to-node":Te.value,Se=u.pstyle("target-endpoint"),ve=ke?"outside-to-node":Se.value;if(z.srcManEndpt=Te,z.tgtManEndpt=Se,ne){var Ae=[z.ctrlpts[0],z.ctrlpts[1]];Re=oe?[z.ctrlpts[z.ctrlpts.length-2],z.ctrlpts[z.ctrlpts.length-1]]:Ae,Oe=Ae}else if(le){var Ge=ce?z.segpts.slice(0,2):[m.x,m.y];Re=ce?z.segpts.slice(z.segpts.length-2):[p.x,p.y],Oe=Ge}if("inside-to-node"===ve)l=[m.x,m.y];else if(Se.units)l=this.manualEndptToPx(f,Se);else if("outside-to-line"===ve)l=z.tgtIntn;else if("outside-to-node"===ve||"outside-to-node-or-label"===ve?Ee=Re:("outside-to-line"===ve||"outside-to-line-or-label"===ve)&&(Ee=[p.x,p.y]),l=s.nodeShapes[this.getNodeShape(f)].intersectLine(m.x,m.y,f.outerWidth(),f.outerHeight(),Ee[0],Ee[1],0),"outside-to-node-or-label"===ve||"outside-to-line-or-label"===ve){var nt=f._private.rscratch,it=nt.labelX,rt=nt.labelY,Et=nt.labelWidth/2,St=nt.labelHeight/2,yt=f.pstyle("text-valign").value;"top"===yt?rt-=St:"bottom"===yt&&(rt+=St);var gt=f.pstyle("text-halign").value;"left"===gt?it-=Et:"right"===gt&&(it+=Et);var tt=Il(Ee[0],Ee[1],[it-Et,rt-St,it+Et,rt-St,it+Et,rt+St,it-Et,rt+St],m.x,m.y);if(tt.length>0){var Ct=p,Mt=Pr(Ct,lr(l)),Pt=Pr(Ct,lr(tt)),Vt=Mt;Pt<Mt&&(l=tt,Vt=Pt),tt.length>2&&Pr(Ct,{x:tt[2],y:tt[3]})<Vt&&(l=[tt[2],tt[3]])}}var Ln=bc(l,Re,s.arrowShapes[w].spacing(u)+D),zt=bc(l,Re,s.arrowShapes[w].gap(u)+D);if(z.endX=zt[0],z.endY=zt[1],z.arrowEndX=Ln[0],z.arrowEndY=Ln[1],"inside-to-node"===me)l=[p.x,p.y];else if(Te.units)l=this.manualEndptToPx(d,Te);else if("outside-to-line"===me)l=z.srcIntn;else if("outside-to-node"===me||"outside-to-node-or-label"===me?He=Oe:("outside-to-line"===me||"outside-to-line-or-label"===me)&&(He=[m.x,m.y]),l=s.nodeShapes[this.getNodeShape(d)].intersectLine(p.x,p.y,d.outerWidth(),d.outerHeight(),He[0],He[1],0),"outside-to-node-or-label"===me||"outside-to-line-or-label"===me){var Lt=d._private.rscratch,Gt=Lt.labelX,fn=Lt.labelY,Zn=Lt.labelWidth/2,Nn=Lt.labelHeight/2,yn=d.pstyle("text-valign").value;"top"===yn?fn-=Nn:"bottom"===yn&&(fn+=Nn);var Rt=d.pstyle("text-halign").value;"left"===Rt?Gt-=Zn:"right"===Rt&&(Gt+=Zn);var be=Il(He[0],He[1],[Gt-Zn,fn-Nn,Gt+Zn,fn-Nn,Gt+Zn,fn+Nn,Gt-Zn,fn+Nn],p.x,p.y);if(be.length>0){var ct=m,Ot=Pr(ct,lr(l)),mt=Pr(ct,lr(be)),vt=Ot;mt<Ot&&(l=[be[0],be[1]],vt=mt),be.length>2&&Pr(ct,{x:be[2],y:be[3]})<vt&&(l=[be[2],be[3]])}}var It=bc(l,Oe,s.arrowShapes[M].spacing(u)+I),cn=bc(l,Oe,s.arrowShapes[M].gap(u)+I);z.startX=cn[0],z.startY=cn[1],z.arrowStartX=It[0],z.arrowStartY=It[1],pe&&(z.badLine=!(ge(z.startX)&&ge(z.startY)&&ge(z.endX)&&ge(z.endY)))},getSourceEndpoint:function(u){var s=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),s.edgeType)?{x:s.haystackPts[0],y:s.haystackPts[1]}:{x:s.arrowStartX,y:s.arrowStartY}},getTargetEndpoint:function(u){var s=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),s.edgeType)?{x:s.haystackPts[2],y:s.haystackPts[3]}:{x:s.arrowEndX,y:s.arrowEndY}}},Ry={};function pk(u,s,l){for(var d=function(D,I,L,z){return pr(D,I,L,z)},p=s._private.rstyle.bezierPts,m=0;m<u.bezierProjPcts.length;m++){var w=u.bezierProjPcts[m];p.push({x:d(l[0],l[2],l[4],w),y:d(l[1],l[3],l[5],w)})}}Ry.storeEdgeProjections=function(u){var s=u._private,l=s.rscratch,d=l.edgeType;if(s.rstyle.bezierPts=null,s.rstyle.linePts=null,s.rstyle.haystackPts=null,"multibezier"===d||"bezier"===d||"self"===d||"compound"===d){s.rstyle.bezierPts=[];for(var f=0;f+5<l.allpts.length;f+=4)pk(this,u,l.allpts.slice(f,f+6))}else if("segments"===d){var p=s.rstyle.linePts=[];for(f=0;f+1<l.allpts.length;f+=2)p.push({x:l.allpts[f],y:l.allpts[f+1]})}else if("haystack"===d){var m=l.haystackPts;s.rstyle.haystackPts=[{x:m[0],y:m[1]},{x:m[2],y:m[3]}]}s.rstyle.arrowWidth=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth},Ry.recalculateEdgeProjections=function(u){this.findEdgeControlPoints(u)};var Vs={recalculateNodeLabelProjection:function(u){var s=u.pstyle("label").strValue;if(!Ne(s)){var l,d,f=u._private,p=u.width(),m=u.height(),w=u.padding(),M=u.position(),D=u.pstyle("text-halign").strValue,I=u.pstyle("text-valign").strValue,L=f.rscratch,z=f.rstyle;switch(D){case"left":l=M.x-p/2-w;break;case"right":l=M.x+p/2+w;break;default:l=M.x}switch(I){case"top":d=M.y-m/2-w;break;case"bottom":d=M.y+m/2+w;break;default:d=M.y}L.labelX=l,L.labelY=d,z.labelX=l,z.labelY=d,this.calculateLabelAngles(u),this.applyLabelDimensions(u)}}},mw=function(s,l){var d=Math.atan(l/s);return 0===s&&d<0&&(d*=-1),d},gw=function(s,l){return mw(l.x-s.x,l.y-s.y)};Vs.recalculateEdgeLabelProjections=function(u){var s,l=u._private,d=l.rscratch,f=this,p={mid:u.pstyle("label").strValue,source:u.pstyle("source-label").strValue,target:u.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var m=function(L,z,W){Is(l.rscratch,L,z,W),Is(l.rstyle,L,z,W)};m("labelX",null,(s={x:d.midX,y:d.midY}).x),m("labelY",null,s.y);var w=mw(d.midDispX,d.midDispY);m("labelAutoAngle",null,w);var M=function I(){if(I.cache)return I.cache;for(var L=[],z=0;z+5<d.allpts.length;z+=4)L.push({p0:{x:d.allpts[z],y:d.allpts[z+1]},p1:{x:d.allpts[z+2],y:d.allpts[z+3]},p2:{x:d.allpts[z+4],y:d.allpts[z+5]},startDist:0,length:0,segments:[]});var ne=l.rstyle.bezierPts,oe=f.bezierProjPcts.length;function le(me,Se,ve,Re,Oe){var Ee=Xr(Se,ve),He=me.segments[me.segments.length-1];me.segments.push({p0:Se,p1:ve,t0:Re,t1:Oe,startDist:He?He.startDist+He.length:0,length:Ee}),me.length+=Ee}for(var ce=0;ce<L.length;ce++){var pe=L[ce],ke=L[ce-1];ke&&(pe.startDist=ke.startDist+ke.length),le(pe,pe.p0,ne[ce*oe],0,f.bezierProjPcts[0]);for(var Te=0;Te<oe-1;Te++)le(pe,ne[ce*oe+Te],ne[ce*oe+Te+1],f.bezierProjPcts[Te],f.bezierProjPcts[Te+1]);le(pe,ne[ce*oe+oe-1],pe.p2,f.bezierProjPcts[oe-1],1)}return I.cache=L},D=function(L){var z,W="source"===L;if(p[L]){var Y=u.pstyle(L+"-text-offset").pfValue;switch(d.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var ne,Q=M(),oe=0,le=0,ce=0;ce<Q.length;ce++){for(var pe=Q[W?ce:Q.length-1-ce],ke=0;ke<pe.segments.length;ke++){var Te=pe.segments[W?ke:pe.segments.length-1-ke];if(oe=le,(le+=Te.length)>=Y||ce===Q.length-1&&ke===pe.segments.length-1){ne={cp:pe,segment:Te};break}}if(ne)break}var Se=ne.cp,ve=ne.segment,Re=(Y-oe)/ve.length,Oe=ve.t1-ve.t0,Ee=W?ve.t0+Oe*Re:ve.t1-Oe*Re;Ee=En(0,Ee,1),s=as(Se.p0,Se.p1,Se.p2,Ee),z=function(s,l,d,f){var p=En(0,f-.001,1),m=En(0,f+.001,1),w=as(s,l,d,p),M=as(s,l,d,m);return gw(w,M)}(Se.p0,Se.p1,Se.p2,Ee);break;case"straight":case"segments":case"haystack":for(var Ae,Qe,Ge,We,He=0,nt=d.allpts.length,st=0;st+3<nt&&(W?(Ge={x:d.allpts[st],y:d.allpts[st+1]},We={x:d.allpts[st+2],y:d.allpts[st+3]}):(Ge={x:d.allpts[nt-2-st],y:d.allpts[nt-1-st]},We={x:d.allpts[nt-4-st],y:d.allpts[nt-3-st]}),Qe=He,!((He+=Ae=Xr(Ge,We))>=Y));st+=2);var it=(Y-Qe)/Ae;it=En(0,it,1),s=function(s,l,d,f){var p_x=l.x-s.x,p_y=l.y-s.y,m=Xr(s,l);return d=d??0,{x:s.x+p_x/m*(f=f??d*m),y:s.y+p_y/m*f}}(Ge,We,it),z=gw(Ge,We)}m("labelX",L,s.x),m("labelY",L,s.y),m("labelAutoAngle",L,z)}};D("source"),D("target"),this.applyLabelDimensions(u)}},Vs.applyLabelDimensions=function(u){this.applyPrefixedLabelDimensions(u),u.isEdge()&&(this.applyPrefixedLabelDimensions(u,"source"),this.applyPrefixedLabelDimensions(u,"target"))},Vs.applyPrefixedLabelDimensions=function(u,s){var l=u._private,d=this.getLabelText(u,s),f=this.calculateLabelDimensions(u,d),p=u.pstyle("line-height").pfValue,m=u.pstyle("text-wrap").strValue,w=As(l.rscratch,"labelWrapCachedLines",s)||[],M="wrap"!==m?1:Math.max(w.length,1),D=f.height/M,I=D*p,L=f.width,z=f.height+(M-1)*(p-1)*D;Is(l.rstyle,"labelWidth",s,L),Is(l.rscratch,"labelWidth",s,L),Is(l.rstyle,"labelHeight",s,z),Is(l.rscratch,"labelHeight",s,z),Is(l.rscratch,"labelLineHeight",s,I)},Vs.getLabelText=function(u,s){var l=u._private,f=u.pstyle((s?s+"-":"")+"label").strValue,p=u.pstyle("text-transform").value,m=function(dt,it){return it?(Is(l.rscratch,dt,s,it),it):As(l.rscratch,dt,s)};if(!f)return"";"none"==p||("uppercase"==p?f=f.toUpperCase():"lowercase"==p&&(f=f.toLowerCase()));var w=u.pstyle("text-wrap").value;if("wrap"===w){var M=m("labelKey");if(null!=M&&m("labelWrapKey")===M)return m("labelWrapCachedText");for(var I=f.split("\n"),L=u.pstyle("text-max-width").pfValue,W="anywhere"===u.pstyle("text-overflow-wrap").value,Y=[],Q=/[\s\u200b]+/,ne=W?"":" ",oe=0;oe<I.length;oe++){var le=I[oe],pe=this.calculateLabelDimensions(u,le).width;if(W){var ke=le.split("").join("\u200b");le=ke}if(pe>L){for(var Te=le.split(Q),me="",Se=0;Se<Te.length;Se++){var ve=Te[Se];this.calculateLabelDimensions(u,0===me.length?ve:me+ne+ve).width<=L?me+=ve+ne:(me&&Y.push(me),me=ve+ne)}me.match(/^[\s\u200b]+$/)||Y.push(me)}else Y.push(le)}m("labelWrapCachedLines",Y),f=m("labelWrapCachedText",Y.join("\n")),m("labelWrapKey",M)}else if("ellipsis"===w){var He=u.pstyle("text-max-width").pfValue,Ae="",Ge=!1;if(this.calculateLabelDimensions(u,f).width<He)return f;for(var We=0;We<f.length&&!(this.calculateLabelDimensions(u,Ae+f[We]+"\u2026").width>He);We++)Ae+=f[We],We===f.length-1&&(Ge=!0);return Ge||(Ae+="\u2026"),Ae}return f},Vs.getLabelJustification=function(u){var s=u.pstyle("text-justification").strValue,l=u.pstyle("text-halign").strValue;if("auto"!==s)return s;if(!u.isNode())return"center";switch(l){case"left":return"right";case"right":return"left";default:return"center"}},Vs.calculateLabelDimensions=function(u,s){var d=$a(s,u._private.labelDimsKey),f=this.labelDimCache||(this.labelDimCache=[]),p=f[d];if(null!=p)return p;var w=u.pstyle("font-style").strValue,M=u.pstyle("font-size").pfValue,D=u.pstyle("font-family").strValue,I=u.pstyle("font-weight").strValue,L=this.labelCalcCanvas,z=this.labelCalcCanvasContext;if(!L){L=this.labelCalcCanvas=document.createElement("canvas"),z=this.labelCalcCanvasContext=L.getContext("2d");var W=L.style;W.position="absolute",W.left="-9999px",W.top="-9999px",W.zIndex="-1",W.visibility="hidden",W.pointerEvents="none"}z.font="".concat(w," ").concat(I," ").concat(M,"px ").concat(D);for(var Y=0,Q=0,ne=s.split("\n"),oe=0;oe<ne.length;oe++){var ce=z.measureText(ne[oe]),pe=Math.ceil(ce.width),ke=M;Y=Math.max(pe,Y),Q+=ke}return f[d]={width:Y+=0,height:Q+=0}},Vs.calculateLabelAngle=function(u,s){var d=u._private.rscratch,f=u.isEdge(),m=u.pstyle((s?s+"-":"")+"text-rotation"),w=m.strValue;return"none"===w?0:f&&"autorotate"===w?d.labelAutoAngle:"autorotate"===w?0:m.pfValue},Vs.calculateLabelAngles=function(u){var s=this,l=u.isEdge(),f=u._private.rscratch;f.labelAngle=s.calculateLabelAngle(u),l&&(f.sourceLabelAngle=s.calculateLabelAngle(u,"source"),f.targetLabelAngle=s.calculateLabelAngle(u,"target"))};var vw={},Py=!1;vw.getNodeShape=function(u){var l=u.pstyle("shape").value;if("cutrectangle"===l&&(u.width()<28||u.height()<28))return Py||(Dr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Py=!0),"rectangle";if(u.isParent())return"rectangle"===l||"roundrectangle"===l||"round-rectangle"===l||"cutrectangle"===l||"cut-rectangle"===l||"barrel"===l?l:"rectangle";if("polygon"===l){var d=u.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(d).name}return l};var Au={updateCachedGrabbedEles:function(){var u=this.cachedZSortedEles;if(u){u.drag=[],u.nondrag=[];for(var s=[],l=0;l<u.length;l++){var f=(d=u[l])._private.rscratch;d.grabbed()&&!d.isParent()?s.push(d):f.inDragLayer?u.drag.push(d):u.nondrag.push(d)}for(l=0;l<s.length;l++){var d;u.drag.push(d=s[l])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(u){if(u||!this.cachedZSortedEles){var s=this.cy.mutableElements().toArray();s.sort(Qx),s.interactive=s.filter(function(l){return l.interactive()}),this.cachedZSortedEles=s,this.updateCachedGrabbedEles()}else s=this.cachedZSortedEles;return s}},Rm={};[Ul,Om,Lo,Rc,Ry,Vs,vw,{registerCalculationListeners:function(){var u=this.cy,s=u.collection(),l=this,d=function(m){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(s.merge(m),w)for(var M=0;M<m.length;M++){var L=m[M]._private.rstyle;L.clean=!1,L.cleanConnected=!1}};l.binder(u).on("bounds.* dirty.*",function(m){d(m.target)}).on("style.* background.*",function(m){d(m.target,!1)});var f=function(m){if(m){var w=l.onUpdateEleCalcsFns;s.cleanStyle();for(var M=0;M<s.length;M++){var D=s[M],I=D._private.rstyle;D.isNode()&&!I.cleanConnected&&(d(D.connectedEdges()),I.cleanConnected=!0)}if(w)for(var L=0;L<w.length;L++)(0,w[L])(m,s);l.recalculateRenderedStyle(s),s=u.collection()}};l.flushRenderedStyleQueue=function(){f(!0)},l.beforeRender(f,l.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(u){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(u)},recalculateRenderedStyle:function(u,s){var l=function(pe){return pe._private.rstyle.cleanConnected},d=[],f=[];if(!this.destroyed){void 0===s&&(s=!0);for(var p=0;p<u.length;p++){var m=u[p],w=m._private,M=w.rstyle;m.isEdge()&&(!l(m.source())||!l(m.target()))&&(M.clean=!1),!(s&&M.clean||m.removed())&&"none"!==m.pstyle("display").value&&("nodes"===w.group?f.push(m):d.push(m),M.clean=!0)}for(var D=0;D<f.length;D++){var I=f[D],z=I._private.rstyle,W=I.position();this.recalculateNodeLabelProjection(I),z.nodeX=W.x,z.nodeY=W.y,z.nodeW=I.pstyle("width").pfValue,z.nodeH=I.pstyle("height").pfValue}this.recalculateEdgeProjections(d);for(var Y=0;Y<d.length;Y++){var ne=d[Y]._private,oe=ne.rstyle,le=ne.rscratch;oe.srcX=le.arrowStartX,oe.srcY=le.arrowStartY,oe.tgtX=le.arrowEndX,oe.tgtY=le.arrowEndY,oe.midX=le.midX,oe.midY=le.midY,oe.labelAngle=le.labelAngle,oe.sourceLabelAngle=le.sourceLabelAngle,oe.targetLabelAngle=le.targetLabelAngle}}}},Au].forEach(function(u){nn(Rm,u)});var Pm={getCachedImage:function(u,s,l){var f=this.imageCache=this.imageCache||{},p=f[u];if(p)return p.image.complete||p.image.addEventListener("load",l),p.image;var m=(p=f[u]=f[u]||{}).image=new Image;m.addEventListener("load",l),m.addEventListener("error",function(){m.error=!0});var w="data:";return u.substring(0,w.length).toLowerCase()===w||(m.crossOrigin=s),m.src=u,m}},Pc={registerBinding:function(u,s,l,d){var f=Array.prototype.slice.apply(arguments,[1]),p=this.binder(u);return p.on.apply(p,f)},binder:function(u){var s=this,l=u===window||u===document||u===document.body||function(s){return!(typeof HTMLElement>"u")&&s instanceof HTMLElement}(u);if(null==s.supportsPassiveEvents){var d=!1;try{var f=Object.defineProperty({},"passive",{get:function(){return d=!0,!0}});window.addEventListener("test",null,f)}catch{}s.supportsPassiveEvents=d}var p=function(w,M,D){var I=Array.prototype.slice.call(arguments);return l&&s.supportsPassiveEvents&&(I[2]={capture:D??!1,passive:!1,once:!1}),s.bindings.push({target:u,args:I}),(u.addEventListener||u.on).apply(u,I),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(u){return u&&u.isNode()&&!u.locked()&&u.grabbable()},nodeIsGrabbable:function(u){return this.nodeIsDraggable(u)&&u.interactive()}};Pc.load=function(){var u=this,s=function(be){return be.selected()},l=function(be,ct,Ot,mt){null==be&&(be=u.cy);for(var vt=0;vt<ct.length;vt++)be.emit({originalEvent:Ot,type:ct[vt],position:mt})},d=function(be){return be.shiftKey||be.metaKey||be.ctrlKey},f=function(be,ct){var Ot=!0;if(u.cy.hasCompoundNodes()&&be&&be.pannable()){for(var mt=0;ct&&mt<ct.length;mt++)if((be=ct[mt]).isNode()&&be.isParent()&&!be.pannable()){Ot=!1;break}}else Ot=!0;return Ot},w=function(be){be[0]._private.rscratch.inDragLayer=!0},D=function(be){be[0]._private.rscratch.isGrabTarget=!0},L=function(be,ct){var Ot=ct.addToList;!Ot.has(be)&&be.grabbable()&&!be.locked()&&(Ot.merge(be),function(be){be[0]._private.grabbed=!0}(be))},W=function(be,ct){ct=ct||{};var Ot=be.cy().hasCompoundNodes();ct.inDragLayer&&(be.forEach(w),be.neighborhood().stdFilter(function(mt){return!Ot||mt.isEdge()}).forEach(w)),ct.addToList&&be.forEach(function(mt){L(mt,ct)}),function(be,ct){if(be.cy().hasCompoundNodes()&&(null!=ct.inDragLayer||null!=ct.addToList)){var Ot=be.descendants();ct.inDragLayer&&(Ot.forEach(w),Ot.connectedEdges().forEach(w)),ct.addToList&&L(Ot,ct)}}(be,ct),ne(be,{inDragLayer:ct.inDragLayer}),u.updateCachedGrabbedEles()},Y=W,Q=function(be){be&&(u.getCachedZSortedEles().forEach(function(ct){(function(be){be[0]._private.grabbed=!1})(ct),function(be){be[0]._private.rscratch.inDragLayer=!1}(ct),function(be){be[0]._private.rscratch.isGrabTarget=!1}(ct)}),u.updateCachedGrabbedEles())},ne=function(be,ct){if((null!=ct.inDragLayer||null!=ct.addToList)&&be.cy().hasCompoundNodes()){var Ot=be.ancestors().orphans();if(!Ot.same(be)){var mt=Ot.descendants().spawnSelf().merge(Ot).unmerge(be).unmerge(be.descendants()),vt=mt.connectedEdges();ct.inDragLayer&&(vt.forEach(w),mt.forEach(w)),ct.addToList&&mt.forEach(function(Fn){L(Fn,ct)})}}},oe=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},le=typeof MutationObserver<"u",ce=typeof ResizeObserver<"u";le?(u.removeObserver=new MutationObserver(function(Rt){for(var be=0;be<Rt.length;be++){var Ot=Rt[be].removedNodes;if(Ot)for(var mt=0;mt<Ot.length;mt++)if(Ot[mt]===u.container){u.destroy();break}}}),u.container.parentNode&&u.removeObserver.observe(u.container.parentNode,{childList:!0})):u.registerBinding(u.container,"DOMNodeRemoved",function(Rt){u.destroy()});var pe=k.default(function(){u.cy.resize()},100);le&&(u.styleObserver=new MutationObserver(pe),u.styleObserver.observe(u.container,{attributes:!0})),u.registerBinding(window,"resize",pe),ce&&(u.resizeObserver=new ResizeObserver(pe),u.resizeObserver.observe(u.container));var Te=function(){u.invalidateContainerClientCoordsCache()};(function(be,ct){for(;null!=be;)u.registerBinding(Rt=be,"transitionend",Te),u.registerBinding(Rt,"animationend",Te),u.registerBinding(Rt,"scroll",Te),be=be.parentNode;var Rt})(u.container),u.registerBinding(u.container,"contextmenu",function(Rt){Rt.preventDefault()});var ve,Re,Oe,Se=function(be){for(var ct=u.findContainerClientCoords(),Ot=ct[0],mt=ct[1],vt=ct[2],Fn=ct[3],It=be.touches?be.touches:[be],cn=!1,er=0;er<It.length;er++){var Mr=It[er];if(Ot<=Mr.clientX&&Mr.clientX<=Ot+vt&&mt<=Mr.clientY&&Mr.clientY<=mt+Fn){cn=!0;break}}if(!cn)return!1;for(var Wn=u.container,kn=be.target.parentNode,In=!1;kn;){if(kn===Wn){In=!0;break}kn=kn.parentNode}return!!In};u.registerBinding(u.container,"mousedown",function(be){if(Se(be)){be.preventDefault(),oe(),u.hoverData.capture=!0,u.hoverData.which=be.which;var ct=u.cy,Ot=[be.clientX,be.clientY],mt=u.projectIntoViewport(Ot[0],Ot[1]),vt=u.selection,Fn=u.findNearestElements(mt[0],mt[1],!0,!1),It=Fn[0],cn=u.dragData.possibleDragElements;if(u.hoverData.mdownPos=mt,u.hoverData.mdownGPos=Ot,3==be.which){u.hoverData.cxtStarted=!0;var Mr={originalEvent:be,type:"cxttapstart",position:{x:mt[0],y:mt[1]}};It?(It.activate(),It.emit(Mr),u.hoverData.down=It):ct.emit(Mr),u.hoverData.downTime=(new Date).getTime(),u.hoverData.cxtDragged=!1}else if(1==be.which){if(It&&It.activate(),null!=It&&u.nodeIsGrabbable(It)){var Wn=function(ui){return{originalEvent:be,type:ui,position:{x:mt[0],y:mt[1]}}};if(D(It),It.selected()){cn=u.dragData.possibleDragElements=ct.collection();var kn=ct.$(function(In){return In.isNode()&&In.selected()&&u.nodeIsGrabbable(In)});W(kn,{addToList:cn}),It.emit(Wn("grabon")),kn.forEach(function(ui){ui.emit(Wn("grab"))})}else cn=u.dragData.possibleDragElements=ct.collection(),Y(It,{addToList:cn}),It.emit(Wn("grabon")).emit(Wn("grab"));u.redrawHint("eles",!0),u.redrawHint("drag",!0)}u.hoverData.down=It,u.hoverData.downs=Fn,u.hoverData.downTime=(new Date).getTime(),l(It,["mousedown","tapstart","vmousedown"],be,{x:mt[0],y:mt[1]}),null==It?(vt[4]=1,u.data.bgActivePosistion={x:mt[0],y:mt[1]},u.redrawHint("select",!0),u.redraw()):It.pannable()&&(vt[4]=1),u.hoverData.tapholdCancelled=!1,clearTimeout(u.hoverData.tapholdTimeout),u.hoverData.tapholdTimeout=setTimeout(function(){if(!u.hoverData.tapholdCancelled){var ui=u.hoverData.down;ui?ui.emit({originalEvent:be,type:"taphold",position:{x:mt[0],y:mt[1]}}):ct.emit({originalEvent:be,type:"taphold",position:{x:mt[0],y:mt[1]}})}},u.tapholdDuration)}vt[0]=vt[2]=mt[0],vt[1]=vt[3]=mt[1]}},!1),u.registerBinding(window,"mousemove",function(be){var Vo;if(u.hoverData.capture||Se(be)){var Ot=!1,mt=u.cy,vt=mt.zoom(),Fn=[be.clientX,be.clientY],It=u.projectIntoViewport(Fn[0],Fn[1]),cn=u.hoverData.mdownPos,er=u.hoverData.mdownGPos,Mr=u.selection,Wn=null;!u.hoverData.draggingEles&&!u.hoverData.dragging&&!u.hoverData.selecting&&(Wn=u.findNearestElement(It[0],It[1],!0,!1));var Hi,wr=u.hoverData.last,kn=u.hoverData.down,In=[It[0]-Mr[2],It[1]-Mr[3]],ui=u.dragData.possibleDragElements;if(er){var oa=Fn[0]-er[0],qi=Fn[1]-er[1];u.hoverData.isOverThresholdDrag=Hi=oa*oa+qi*qi>=u.desktopTapThreshold2}var ll=d(be);Hi&&(u.hoverData.tapholdCancelled=!0),Ot=!0,l(Wn,["mousemove","vmousemove","tapdrag"],be,{x:It[0],y:It[1]});var Yl=function(){u.data.bgActivePosistion=void 0,u.hoverData.selecting||mt.emit({originalEvent:be,type:"boxstart",position:{x:It[0],y:It[1]}}),Mr[4]=1,u.hoverData.selecting=!0,u.redrawHint("select",!0),u.redraw()};if(3===u.hoverData.which){if(Hi){var Vc={originalEvent:be,type:"cxtdrag",position:{x:It[0],y:It[1]}};kn?kn.emit(Vc):mt.emit(Vc),u.hoverData.cxtDragged=!0,(!u.hoverData.cxtOver||Wn!==u.hoverData.cxtOver)&&(u.hoverData.cxtOver&&u.hoverData.cxtOver.emit({originalEvent:be,type:"cxtdragout",position:{x:It[0],y:It[1]}}),u.hoverData.cxtOver=Wn,Wn&&Wn.emit({originalEvent:be,type:"cxtdragover",position:{x:It[0],y:It[1]}}))}}else if(u.hoverData.dragging){if(Ot=!0,mt.panningEnabled()&&mt.userPanningEnabled()){var zc;if(u.hoverData.justStartedPan){var Rf=u.hoverData.mdownPos;zc={x:(It[0]-Rf[0])*vt,y:(It[1]-Rf[1])*vt},u.hoverData.justStartedPan=!1}else zc={x:In[0]*vt,y:In[1]*vt};mt.panBy(zc),mt.emit("dragpan"),u.hoverData.dragged=!0}It=u.projectIntoViewport(be.clientX,be.clientY)}else if(1!=Mr[4]||null!=kn&&!kn.pannable()){if(kn&&kn.pannable()&&kn.active()&&kn.unactivate(),(!kn||!kn.grabbed())&&Wn!=wr&&(wr&&l(wr,["mouseout","tapdragout"],be,{x:It[0],y:It[1]}),Wn&&l(Wn,["mouseover","tapdragover"],be,{x:It[0],y:It[1]}),u.hoverData.last=Wn),kn)if(Hi){if(mt.boxSelectionEnabled()&&ll)kn&&kn.grabbed()&&(Q(ui),kn.emit("freeon"),ui.emit("free"),u.dragData.didDrag&&(kn.emit("dragfreeon"),ui.emit("dragfree"))),Yl();else if(kn&&kn.grabbed()&&u.nodeIsDraggable(kn)){var ms=!u.dragData.didDrag;ms&&u.redrawHint("eles",!0),u.dragData.didDrag=!0,u.hoverData.draggingEles||W(ui,{inDragLayer:!0});var Do={x:0,y:0};if(ge(In[0])&&ge(In[1])&&(Do.x+=In[0],Do.y+=In[1],ms)){var Zi=u.hoverData.dragDelta;Zi&&ge(Zi[0])&&ge(Zi[1])&&(Do.x+=Zi[0],Do.y+=Zi[1])}u.hoverData.draggingEles=!0,ui.silentShift(Do).emit("position drag"),u.redrawHint("drag",!0),u.redraw()}}else 0===(Vo=u.hoverData.dragDelta=u.hoverData.dragDelta||[]).length?(Vo.push(In[0]),Vo.push(In[1])):(Vo[0]+=In[0],Vo[1]+=In[1]);Ot=!0}else Hi&&(u.hoverData.dragging||!mt.boxSelectionEnabled()||!ll&&mt.panningEnabled()&&mt.userPanningEnabled()?!u.hoverData.selecting&&mt.panningEnabled()&&mt.userPanningEnabled()&&f(kn,u.hoverData.downs)&&(u.hoverData.dragging=!0,u.hoverData.justStartedPan=!0,Mr[4]=0,u.data.bgActivePosistion=lr(cn),u.redrawHint("select",!0),u.redraw()):Yl(),kn&&kn.pannable()&&kn.active()&&kn.unactivate());if(Mr[2]=It[0],Mr[3]=It[1],Ot)return be.stopPropagation&&be.stopPropagation(),be.preventDefault&&be.preventDefault(),!1}},!1),u.registerBinding(window,"mouseup",function(be){if(u.hoverData.capture){u.hoverData.capture=!1;var Ot=u.cy,mt=u.projectIntoViewport(be.clientX,be.clientY),vt=u.selection,Fn=u.findNearestElement(mt[0],mt[1],!0,!1),It=u.dragData.possibleDragElements,cn=u.hoverData.down,er=d(be);if(u.data.bgActivePosistion&&(u.redrawHint("select",!0),u.redraw()),u.hoverData.tapholdCancelled=!0,u.data.bgActivePosistion=void 0,cn&&cn.unactivate(),3===u.hoverData.which){var Mr={originalEvent:be,type:"cxttapend",position:{x:mt[0],y:mt[1]}};if(cn?cn.emit(Mr):Ot.emit(Mr),!u.hoverData.cxtDragged){var Wn={originalEvent:be,type:"cxttap",position:{x:mt[0],y:mt[1]}};cn?cn.emit(Wn):Ot.emit(Wn)}u.hoverData.cxtDragged=!1,u.hoverData.which=null}else if(1===u.hoverData.which){if(l(Fn,["mouseup","tapend","vmouseup"],be,{x:mt[0],y:mt[1]}),!u.dragData.didDrag&&!u.hoverData.dragged&&!u.hoverData.selecting&&!u.hoverData.isOverThresholdDrag&&(l(cn,["click","tap","vclick"],be,{x:mt[0],y:mt[1]}),Re=!1,be.timeStamp-Oe<=Ot.multiClickDebounceTime()?(ve&&clearTimeout(ve),Re=!0,Oe=null,l(cn,["dblclick","dbltap","vdblclick"],be,{x:mt[0],y:mt[1]})):(ve=setTimeout(function(){Re||l(cn,["oneclick","onetap","voneclick"],be,{x:mt[0],y:mt[1]})},Ot.multiClickDebounceTime()),Oe=be.timeStamp)),null==cn&&!u.dragData.didDrag&&!u.hoverData.selecting&&!u.hoverData.dragged&&!d(be)&&(Ot.$(s).unselect(["tapunselect"]),It.length>0&&u.redrawHint("eles",!0),u.dragData.possibleDragElements=It=Ot.collection()),Fn==cn&&!u.dragData.didDrag&&!u.hoverData.selecting&&null!=Fn&&Fn._private.selectable&&(u.hoverData.dragging||("additive"===Ot.selectionType()||er?Fn.selected()?Fn.unselect(["tapunselect"]):Fn.select(["tapselect"]):er||(Ot.$(s).unmerge(Fn).unselect(["tapunselect"]),Fn.select(["tapselect"]))),u.redrawHint("eles",!0)),u.hoverData.selecting){var wr=Ot.collection(u.getAllInBox(vt[0],vt[1],vt[2],vt[3]));u.redrawHint("select",!0),wr.length>0&&u.redrawHint("eles",!0),Ot.emit({type:"boxend",originalEvent:be,position:{x:mt[0],y:mt[1]}}),"additive"===Ot.selectionType()||er||Ot.$(s).unmerge(wr).unselect(),wr.emit("box").stdFilter(function(Hi){return Hi.selectable()&&!Hi.selected()}).select().emit("boxselect"),u.redraw()}if(u.hoverData.dragging&&(u.hoverData.dragging=!1,u.redrawHint("select",!0),u.redrawHint("eles",!0),u.redraw()),!vt[4]){u.redrawHint("drag",!0),u.redrawHint("eles",!0);var In=cn&&cn.grabbed();Q(It),In&&(cn.emit("freeon"),It.emit("free"),u.dragData.didDrag&&(cn.emit("dragfreeon"),It.emit("dragfree")))}}vt[4]=0,u.hoverData.down=null,u.hoverData.cxtStarted=!1,u.hoverData.draggingEles=!1,u.hoverData.selecting=!1,u.hoverData.isOverThresholdDrag=!1,u.dragData.didDrag=!1,u.hoverData.dragged=!1,u.hoverData.dragDelta=[],u.hoverData.mdownPos=null,u.hoverData.mdownGPos=null}},!1);var Ee=function(be){if(!u.scrollingPage){var ct=u.cy,Ot=ct.zoom(),mt=ct.pan(),vt=u.projectIntoViewport(be.clientX,be.clientY),Fn=[vt[0]*Ot+mt.x,vt[1]*Ot+mt.y];if(u.hoverData.draggingEles||u.hoverData.dragging||u.hoverData.cxtStarted||0!==u.selection[4])return void be.preventDefault();if(ct.panningEnabled()&&ct.userPanningEnabled()&&ct.zoomingEnabled()&&ct.userZoomingEnabled()){var It;be.preventDefault(),u.data.wheelZooming=!0,clearTimeout(u.data.wheelTimeout),u.data.wheelTimeout=setTimeout(function(){u.data.wheelZooming=!1,u.redrawHint("eles",!0),u.redraw()},150),It=null!=be.deltaY?be.deltaY/-250:null!=be.wheelDeltaY?be.wheelDeltaY/1e3:be.wheelDelta/1e3,It*=u.wheelSensitivity,1===be.deltaMode&&(It*=33);var er=ct.zoom()*Math.pow(10,It);"gesturechange"===be.type&&(er=u.gestureStartZoom*be.scale),ct.zoom({level:er,renderedPosition:{x:Fn[0],y:Fn[1]}}),ct.emit("gesturechange"===be.type?"pinchzoom":"scrollzoom")}}};u.registerBinding(u.container,"wheel",Ee,!0),u.registerBinding(window,"scroll",function(be){u.scrollingPage=!0,clearTimeout(u.scrollingPageTimeout),u.scrollingPageTimeout=setTimeout(function(){u.scrollingPage=!1},250)},!0),u.registerBinding(u.container,"gesturestart",function(be){u.gestureStartZoom=u.cy.zoom(),u.hasTouchStarted||be.preventDefault()},!0),u.registerBinding(u.container,"gesturechange",function(Rt){u.hasTouchStarted||Ee(Rt)},!0),u.registerBinding(u.container,"mouseout",function(be){var ct=u.projectIntoViewport(be.clientX,be.clientY);u.cy.emit({originalEvent:be,type:"mouseout",position:{x:ct[0],y:ct[1]}})},!1),u.registerBinding(u.container,"mouseover",function(be){var ct=u.projectIntoViewport(be.clientX,be.clientY);u.cy.emit({originalEvent:be,type:"mouseover",position:{x:ct[0],y:ct[1]}})},!1);var He,Ae,Qe,Ge,We,nt,st,dt,it,rt,Et,St,yt,Ct,Mt,Pt,Vt,Cn,Ln,zt,gt=function(be,ct,Ot,mt){return Math.sqrt((Ot-be)*(Ot-be)+(mt-ct)*(mt-ct))},tt=function(be,ct,Ot,mt){return(Ot-be)*(Ot-be)+(mt-ct)*(mt-ct)};if(u.registerBinding(u.container,"touchstart",Ct=function(be){if(u.hasTouchStarted=!0,Se(be)){oe(),u.touchData.capture=!0,u.data.bgActivePosistion=void 0;var ct=u.cy,Ot=u.touchData.now,mt=u.touchData.earlier;if(be.touches[0]){var vt=u.projectIntoViewport(be.touches[0].clientX,be.touches[0].clientY);Ot[0]=vt[0],Ot[1]=vt[1]}if(be.touches[1]&&(vt=u.projectIntoViewport(be.touches[1].clientX,be.touches[1].clientY),Ot[2]=vt[0],Ot[3]=vt[1]),be.touches[2]&&(vt=u.projectIntoViewport(be.touches[2].clientX,be.touches[2].clientY),Ot[4]=vt[0],Ot[5]=vt[1]),be.touches[1]){u.touchData.singleTouchMoved=!0,Q(u.dragData.touchDragEles);var Fn=u.findContainerClientCoords();Et=Fn[2],St=Fn[3],Ae=be.touches[0].clientY-(rt=Fn[1]),Qe=be.touches[1].clientX-(it=Fn[0]),Ge=be.touches[1].clientY-rt,yt=0<=(He=be.touches[0].clientX-it)&&He<=Et&&0<=Qe&&Qe<=Et&&0<=Ae&&Ae<=St&&0<=Ge&&Ge<=St;var It=ct.pan(),cn=ct.zoom();if(We=gt(He,Ae,Qe,Ge),nt=tt(He,Ae,Qe,Ge),dt=[((st=[(He+Qe)/2,(Ae+Ge)/2])[0]-It.x)/cn,(st[1]-It.y)/cn],nt<4e4&&!be.touches[2]){var Wn=u.findNearestElement(Ot[0],Ot[1],!0,!0),wr=u.findNearestElement(Ot[2],Ot[3],!0,!0);return Wn&&Wn.isNode()?(Wn.activate().emit({originalEvent:be,type:"cxttapstart",position:{x:Ot[0],y:Ot[1]}}),u.touchData.start=Wn):wr&&wr.isNode()?(wr.activate().emit({originalEvent:be,type:"cxttapstart",position:{x:Ot[0],y:Ot[1]}}),u.touchData.start=wr):ct.emit({originalEvent:be,type:"cxttapstart",position:{x:Ot[0],y:Ot[1]}}),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!0,u.touchData.cxtDragged=!1,u.data.bgActivePosistion=void 0,void u.redraw()}}if(be.touches[2])ct.boxSelectionEnabled()&&be.preventDefault();else if(!be.touches[1]&&be.touches[0]){var kn=u.findNearestElements(Ot[0],Ot[1],!0,!0),In=kn[0];if(null!=In&&(In.activate(),u.touchData.start=In,u.touchData.starts=kn,u.nodeIsGrabbable(In))){var ui=u.dragData.touchDragEles=ct.collection(),Hi=null;u.redrawHint("eles",!0),u.redrawHint("drag",!0),In.selected()?(Hi=ct.$(function(Bo){return Bo.selected()&&u.nodeIsGrabbable(Bo)}),W(Hi,{addToList:ui})):Y(In,{addToList:ui}),D(In);var oa=function(ll){return{originalEvent:be,type:ll,position:{x:Ot[0],y:Ot[1]}}};In.emit(oa("grabon")),Hi?Hi.forEach(function(Bo){Bo.emit(oa("grab"))}):In.emit(oa("grab"))}l(In,["touchstart","tapstart","vmousedown"],be,{x:Ot[0],y:Ot[1]}),null==In&&(u.data.bgActivePosistion={x:vt[0],y:vt[1]},u.redrawHint("select",!0),u.redraw()),u.touchData.singleTouchMoved=!1,u.touchData.singleTouchStartTime=+new Date,clearTimeout(u.touchData.tapholdTimeout),u.touchData.tapholdTimeout=setTimeout(function(){!1===u.touchData.singleTouchMoved&&!u.pinching&&!u.touchData.selecting&&l(u.touchData.start,["taphold"],be,{x:Ot[0],y:Ot[1]})},u.tapholdDuration)}if(be.touches.length>=1){for(var sa=u.touchData.startPosition=[],qi=0;qi<Ot.length;qi++)sa[qi]=mt[qi]=Ot[qi];var ho=be.touches[0];u.touchData.startGPosition=[ho.clientX,ho.clientY]}}},!1),u.registerBinding(window,"touchmove",Mt=function(be){var ct=u.touchData.capture;if(ct||Se(be)){var Ot=u.selection,mt=u.cy,vt=u.touchData.now,Fn=u.touchData.earlier,It=mt.zoom();if(be.touches[0]){var cn=u.projectIntoViewport(be.touches[0].clientX,be.touches[0].clientY);vt[0]=cn[0],vt[1]=cn[1]}be.touches[1]&&(cn=u.projectIntoViewport(be.touches[1].clientX,be.touches[1].clientY),vt[2]=cn[0],vt[3]=cn[1]),be.touches[2]&&(cn=u.projectIntoViewport(be.touches[2].clientX,be.touches[2].clientY),vt[4]=cn[0],vt[5]=cn[1]);var Mr,er=u.touchData.startGPosition;if(ct&&be.touches[0]&&er){for(var Wn=[],wr=0;wr<vt.length;wr++)Wn[wr]=vt[wr]-Fn[wr];var kn=be.touches[0].clientX-er[0],ui=be.touches[0].clientY-er[1];Mr=kn*kn+ui*ui>=u.touchTapThreshold2}if(ct&&u.touchData.cxt){be.preventDefault();var ll=tt(sa=be.touches[0].clientX-it,qi=be.touches[0].clientY-rt,ho=be.touches[1].clientX-it,Bo=be.touches[1].clientY-rt);if(ll/nt>=2.25||ll>=22500){u.touchData.cxt=!1,u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var Xl={originalEvent:be,type:"cxttapend",position:{x:vt[0],y:vt[1]}};u.touchData.start?(u.touchData.start.unactivate().emit(Xl),u.touchData.start=null):mt.emit(Xl)}}if(ct&&u.touchData.cxt){Xl={originalEvent:be,type:"cxtdrag",position:{x:vt[0],y:vt[1]}},u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.touchData.start?u.touchData.start.emit(Xl):mt.emit(Xl),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxtDragged=!0;var ms=u.findNearestElement(vt[0],vt[1],!0,!0);(!u.touchData.cxtOver||ms!==u.touchData.cxtOver)&&(u.touchData.cxtOver&&u.touchData.cxtOver.emit({originalEvent:be,type:"cxtdragout",position:{x:vt[0],y:vt[1]}}),u.touchData.cxtOver=ms,ms&&ms.emit({originalEvent:be,type:"cxtdragover",position:{x:vt[0],y:vt[1]}}))}else if(ct&&be.touches[2]&&mt.boxSelectionEnabled())be.preventDefault(),u.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,u.touchData.selecting||mt.emit({originalEvent:be,type:"boxstart",position:{x:vt[0],y:vt[1]}}),u.touchData.selecting=!0,u.touchData.didSelect=!0,Ot[4]=1,Ot&&0!==Ot.length&&void 0!==Ot[0]?(Ot[2]=(vt[0]+vt[2]+vt[4])/3,Ot[3]=(vt[1]+vt[3]+vt[5])/3):(Ot[0]=(vt[0]+vt[2]+vt[4])/3,Ot[1]=(vt[1]+vt[3]+vt[5])/3,Ot[2]=(vt[0]+vt[2]+vt[4])/3+1,Ot[3]=(vt[1]+vt[3]+vt[5])/3+1),u.redrawHint("select",!0),u.redraw();else if(ct&&be.touches[1]&&!u.touchData.didSelect&&mt.zoomingEnabled()&&mt.panningEnabled()&&mt.userZoomingEnabled()&&mt.userPanningEnabled()){if(be.preventDefault(),u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),Do=u.dragData.touchDragEles){u.redrawHint("drag",!0);for(var Zi=0;Zi<Do.length;Zi++){var Pf=Do[Zi]._private;Pf.grabbed=!1,Pf.rscratch.inDragLayer=!1}}var sa,qi,ho,Bo,Vo=u.touchData.start,Bn=gt(sa=be.touches[0].clientX-it,qi=be.touches[0].clientY-rt,ho=be.touches[1].clientX-it,Bo=be.touches[1].clientY-rt),Ow=Bn/We;if(yt){var Nu=(sa-He+(ho-Qe))/2,Nw=(qi-Ae+(Bo-Ge))/2,Hc=mt.zoom(),lh=Hc*Ow,Nf=mt.pan(),Ff=dt[0]*Hc+Nf.x,ka=dt[1]*Hc+Nf.y,Fw={x:-lh/Hc*(Ff-Nf.x-Nu)+Ff,y:-lh/Hc*(ka-Nf.y-Nw)+ka};Vo&&Vo.active()&&(Q(Do=u.dragData.touchDragEles),u.redrawHint("drag",!0),u.redrawHint("eles",!0),Vo.unactivate().emit("freeon"),Do.emit("free"),u.dragData.didDrag&&(Vo.emit("dragfreeon"),Do.emit("dragfree"))),mt.viewport({zoom:lh,pan:Fw,cancelOnFailedZoom:!0}),mt.emit("pinchzoom"),We=Bn,He=sa,Ae=qi,Qe=ho,Ge=Bo,u.pinching=!0}be.touches[0]&&(cn=u.projectIntoViewport(be.touches[0].clientX,be.touches[0].clientY),vt[0]=cn[0],vt[1]=cn[1]),be.touches[1]&&(cn=u.projectIntoViewport(be.touches[1].clientX,be.touches[1].clientY),vt[2]=cn[0],vt[3]=cn[1]),be.touches[2]&&(cn=u.projectIntoViewport(be.touches[2].clientX,be.touches[2].clientY),vt[4]=cn[0],vt[5]=cn[1])}else if(be.touches[0]&&!u.touchData.didSelect){var aa=u.touchData.start,eg=u.touchData.last;if(!u.hoverData.draggingEles&&!u.swipePanning&&(ms=u.findNearestElement(vt[0],vt[1],!0,!0)),ct&&null!=aa&&be.preventDefault(),ct&&null!=aa&&u.nodeIsDraggable(aa))if(Mr){var Do=u.dragData.touchDragEles,ab=!u.dragData.didDrag;ab&&W(Do,{inDragLayer:!0}),u.dragData.didDrag=!0;var Fu={x:0,y:0};ge(Wn[0])&&ge(Wn[1])&&(Fu.x+=Wn[0],Fu.y+=Wn[1],ab)&&(u.redrawHint("eles",!0),(gs=u.touchData.dragDelta)&&ge(gs[0])&&ge(gs[1])&&(Fu.x+=gs[0],Fu.y+=gs[1])),u.hoverData.draggingEles=!0,Do.silentShift(Fu).emit("position drag"),u.redrawHint("drag",!0),u.touchData.startPosition[0]==Fn[0]&&u.touchData.startPosition[1]==Fn[1]&&u.redrawHint("eles",!0),u.redraw()}else{var gs;0===(gs=u.touchData.dragDelta=u.touchData.dragDelta||[]).length?(gs.push(Wn[0]),gs.push(Wn[1])):(gs[0]+=Wn[0],gs[1]+=Wn[1])}if(l(aa||ms,["touchmove","tapdrag","vmousemove"],be,{x:vt[0],y:vt[1]}),(!aa||!aa.grabbed())&&ms!=eg&&(eg&&eg.emit({originalEvent:be,type:"tapdragout",position:{x:vt[0],y:vt[1]}}),ms&&ms.emit({originalEvent:be,type:"tapdragover",position:{x:vt[0],y:vt[1]}})),u.touchData.last=ms,ct)for(Zi=0;Zi<vt.length;Zi++)vt[Zi]&&u.touchData.startPosition[Zi]&&Mr&&(u.touchData.singleTouchMoved=!0);ct&&(null==aa||aa.pannable())&&mt.panningEnabled()&&mt.userPanningEnabled()&&(f(aa,u.touchData.starts)&&(be.preventDefault(),u.data.bgActivePosistion||(u.data.bgActivePosistion=lr(u.touchData.startPosition)),u.swipePanning?(mt.panBy({x:Wn[0]*It,y:Wn[1]*It}),mt.emit("dragpan")):Mr&&(u.swipePanning=!0,mt.panBy({x:kn*It,y:ui*It}),mt.emit("dragpan"),aa&&(aa.unactivate(),u.redrawHint("select",!0),u.touchData.start=null))),cn=u.projectIntoViewport(be.touches[0].clientX,be.touches[0].clientY),vt[0]=cn[0],vt[1]=cn[1])}for(wr=0;wr<vt.length;wr++)Fn[wr]=vt[wr];ct&&be.touches.length>0&&!u.hoverData.draggingEles&&!u.swipePanning&&null!=u.data.bgActivePosistion&&(u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.redraw())}},!1),u.registerBinding(window,"touchcancel",Pt=function(be){var ct=u.touchData.start;u.touchData.capture=!1,ct&&ct.unactivate()}),u.registerBinding(window,"touchend",Vt=function(be){var ct=u.touchData.start;if(u.touchData.capture){0===be.touches.length&&(u.touchData.capture=!1),be.preventDefault();var mt=u.selection;u.swipePanning=!1,u.hoverData.draggingEles=!1;var Mr,vt=u.cy,Fn=vt.zoom(),It=u.touchData.now,cn=u.touchData.earlier;if(be.touches[0]){var er=u.projectIntoViewport(be.touches[0].clientX,be.touches[0].clientY);It[0]=er[0],It[1]=er[1]}if(be.touches[1]&&(er=u.projectIntoViewport(be.touches[1].clientX,be.touches[1].clientY),It[2]=er[0],It[3]=er[1]),be.touches[2]&&(er=u.projectIntoViewport(be.touches[2].clientX,be.touches[2].clientY),It[4]=er[0],It[5]=er[1]),ct&&ct.unactivate(),u.touchData.cxt){if(Mr={originalEvent:be,type:"cxttapend",position:{x:It[0],y:It[1]}},ct?ct.emit(Mr):vt.emit(Mr),!u.touchData.cxtDragged){var Wn={originalEvent:be,type:"cxttap",position:{x:It[0],y:It[1]}};ct?ct.emit(Wn):vt.emit(Wn)}return u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!1,u.touchData.start=null,void u.redraw()}if(!be.touches[2]&&vt.boxSelectionEnabled()&&u.touchData.selecting){u.touchData.selecting=!1;var wr=vt.collection(u.getAllInBox(mt[0],mt[1],mt[2],mt[3]));mt[0]=void 0,mt[1]=void 0,mt[2]=void 0,mt[3]=void 0,mt[4]=0,u.redrawHint("select",!0),vt.emit({type:"boxend",originalEvent:be,position:{x:It[0],y:It[1]}}),wr.emit("box").stdFilter(function(Vc){return Vc.selectable()&&!Vc.selected()}).select().emit("boxselect"),wr.nonempty()&&u.redrawHint("eles",!0),u.redraw()}if(ct?.unactivate(),be.touches[2])u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);else if(!be.touches[1]&&!be.touches[0]&&!be.touches[0]){u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var In=u.dragData.touchDragEles;if(null!=ct){var ui=ct._private.grabbed;Q(In),u.redrawHint("drag",!0),u.redrawHint("eles",!0),ui&&(ct.emit("freeon"),In.emit("free"),u.dragData.didDrag&&(ct.emit("dragfreeon"),In.emit("dragfree"))),l(ct,["touchend","tapend","vmouseup","tapdragout"],be,{x:It[0],y:It[1]}),ct.unactivate(),u.touchData.start=null}else{var Hi=u.findNearestElement(It[0],It[1],!0,!0);l(Hi,["touchend","tapend","vmouseup","tapdragout"],be,{x:It[0],y:It[1]})}var oa=u.touchData.startPosition[0]-It[0],qi=u.touchData.startPosition[1]-It[1],ll=(oa*oa+qi*qi)*Fn*Fn;u.touchData.singleTouchMoved||(ct||vt.$(":selected").unselect(["tapunselect"]),l(ct,["tap","vclick"],be,{x:It[0],y:It[1]}),Cn=!1,be.timeStamp-zt<=vt.multiClickDebounceTime()?(Ln&&clearTimeout(Ln),Cn=!0,zt=null,l(ct,["dbltap","vdblclick"],be,{x:It[0],y:It[1]})):(Ln=setTimeout(function(){Cn||l(ct,["onetap","voneclick"],be,{x:It[0],y:It[1]})},vt.multiClickDebounceTime()),zt=be.timeStamp)),null!=ct&&!u.dragData.didDrag&&ct._private.selectable&&ll<u.touchTapThreshold2&&!u.pinching&&("single"===vt.selectionType()?(vt.$(s).unmerge(ct).unselect(["tapunselect"]),ct.select(["tapselect"])):ct.selected()?ct.unselect(["tapunselect"]):ct.select(["tapselect"]),u.redrawHint("eles",!0)),u.touchData.singleTouchMoved=!0}for(var Wl=0;Wl<It.length;Wl++)cn[Wl]=It[Wl];u.dragData.didDrag=!1,0===be.touches.length&&(u.touchData.dragDelta=[],u.touchData.startPosition=null,u.touchData.startGPosition=null,u.touchData.didSelect=!1),be.touches.length<2&&(1===be.touches.length&&(u.touchData.startGPosition=[be.touches[0].clientX,be.touches[0].clientY]),u.pinching=!1,u.redrawHint("eles",!0),u.redraw())}},!1),typeof TouchEvent>"u"){var Lt=[],gn=function(be){return{clientX:be.clientX,clientY:be.clientY,force:1,identifier:be.pointerId,pageX:be.pageX,pageY:be.pageY,radiusX:be.width/2,radiusY:be.height/2,screenX:be.screenX,screenY:be.screenY,target:be.target}},fn=function(be){for(var ct=0;ct<Lt.length;ct++)if(Lt[ct].event.pointerId===be.pointerId)return void Lt.splice(ct,1)},Nn=function(be){be.touches=Lt.map(function(ct){return ct.touch})},yn=function(be){return"mouse"===be.pointerType||4===be.pointerType};u.registerBinding(u.container,"pointerdown",function(Rt){yn(Rt)||(Rt.preventDefault(),Lt.push(function(be){return{event:be,touch:gn(be)}}(Rt)),Nn(Rt),Ct(Rt))}),u.registerBinding(u.container,"pointerup",function(Rt){yn(Rt)||(fn(Rt),Nn(Rt),Vt(Rt))}),u.registerBinding(u.container,"pointercancel",function(Rt){yn(Rt)||(fn(Rt),Nn(Rt),Pt())}),u.registerBinding(u.container,"pointermove",function(Rt){var be,ct;yn(Rt)||(Rt.preventDefault(),be=Rt,(ct=Lt.filter(function(Ot){return Ot.event.pointerId===be.pointerId})[0]).event=be,ct.touch=gn(be),Nn(Rt),Mt(Rt))})}};var vi={generatePolygon:function(u,s){return this.nodeShapes[u]={renderer:this,name:u,points:s,draw:function(d,f,p,m,w){this.renderer.nodeShapeImpl("polygon",d,f,p,m,w,this.points)},intersectLine:function(d,f,p,m,w,M,D){return Il(w,M,this.points,d,f,p/2,m/2,D)},checkPoint:function(d,f,p,m,w,M,D){return cs(d,f,this.points,M,D,m,w,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(s,l,d,f,p){this.renderer.nodeShapeImpl(this.name,s,l,d,f,p)},intersectLine:function(s,l,d,f,p,m,w){return function(s,l,d,f,p,m){var w=d-s,M=f-l;w/=p,M/=m;var D=Math.sqrt(w*w+M*M),I=D-1;if(I<0)return[];var L=I/D;return[(d-s)*L+s,(f-l)*L+l]}(p,m,s,l,d/2+w,f/2+w)},checkPoint:function(s,l,d,f,p,m,w){return qa(s,l,f,p,m,w,d)}}},generateRoundPolygon:function(u,s){for(var l=new Array(2*s.length),d=0;d<s.length/2;d++){var p,f=2*d;p=d<s.length/2-1?2*(d+1):0,l[4*d]=s[f],l[4*d+1]=s[f+1];var m=s[p]-s[f],w=s[p+1]-s[f+1],M=Math.sqrt(m*m+w*w);l[4*d+2]=m/M,l[4*d+3]=w/M}return this.nodeShapes[u]={renderer:this,name:u,points:l,draw:function(I,L,z,W,Y){this.renderer.nodeShapeImpl("round-polygon",I,L,z,W,Y,this.points)},intersectLine:function(I,L,z,W,Y,Q,ne){return function(s,l,d,f,p,m,w,M){for(var I,D=[],L=new Array(d.length),z=m/2,W=w/2,Y=xt(m,w),Q=0;Q<d.length/4;Q++){var oe,ne;ne=0===Q?d.length-2:4*Q-2,oe=4*Q+2;var le=f+z*d[4*Q],ce=p+W*d[4*Q+1],ke=Y/Math.tan(Math.acos(-d[ne]*d[oe]-d[ne+1]*d[oe+1])/2),Te=le-ke*d[ne],me=ce-ke*d[ne+1],Se=le+ke*d[oe],ve=ce+ke*d[oe+1];0===Q?(L[d.length-2]=Te,L[d.length-1]=me):(L[4*Q-2]=Te,L[4*Q-1]=me),L[4*Q]=Se,L[4*Q+1]=ve;var Re=d[ne+1],Oe=-d[ne];Re*d[oe]+Oe*d[oe+1]<0&&(Re*=-1,Oe*=-1),0!==(I=Ps(s,l,f,p,Te+Re*Y,me+Oe*Y,Y)).length&&D.push(I[0],I[1])}for(var Qe=0;Qe<L.length/4;Qe++)0!==(I=Xo(s,l,f,p,L[4*Qe],L[4*Qe+1],L[4*Qe+2],L[4*Qe+3],!1)).length&&D.push(I[0],I[1]);if(D.length>2){for(var Ge=[D[0],D[1]],We=Math.pow(Ge[0]-s,2)+Math.pow(Ge[1]-l,2),nt=1;nt<D.length/2;nt++){var st=Math.pow(D[2*nt]-s,2)+Math.pow(D[2*nt+1]-l,2);st<=We&&(Ge[0]=D[2*nt],Ge[1]=D[2*nt+1],We=st)}return Ge}return D}(Y,Q,this.points,I,L,z,W)},checkPoint:function(I,L,z,W,Y,Q,ne){return function(s,l,d,f,p,m,w){for(var M=new Array(d.length),D=m/2,I=w/2,L=xt(m,w),z=L*L,W=0;W<d.length/4;W++){var Q,Y;Y=0===W?d.length-2:4*W-2,Q=4*W+2;var ne=f+D*d[4*W],oe=p+I*d[4*W+1],ce=L/Math.tan(Math.acos(-d[Y]*d[Q]-d[Y+1]*d[Q+1])/2),pe=ne-ce*d[Y],ke=oe-ce*d[Y+1],Te=ne+ce*d[Q],me=oe+ce*d[Q+1];M[4*W]=pe,M[4*W+1]=ke,M[4*W+2]=Te,M[4*W+3]=me;var Se=d[Y+1],ve=-d[Y];Se*d[Q]+ve*d[Q+1]<0&&(Se*=-1,ve*=-1);var Ee=ke+ve*L;if(Math.pow(pe+Se*L-s,2)+Math.pow(Ee-l,2)<=z)return!0}return Vr(s,l,M)}(I,L,this.points,Q,ne,W,Y)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:yo(4,0),draw:function(s,l,d,f,p){this.renderer.nodeShapeImpl(this.name,s,l,d,f,p)},intersectLine:function(s,l,d,f,p,m,w){return Xa(p,m,s,l,d,f,w)},checkPoint:function(s,l,d,f,p,m,w){var M=Ed(f,p),D=2*M;return!!(cs(s,l,this.points,m,w,f,p-D,[0,-1],d)||cs(s,l,this.points,m,w,f-D,p,[0,-1],d)||qa(s,l,D,D,m-f/2+M,w-p/2+M,d)||qa(s,l,D,D,m+f/2-M,w-p/2+M,d)||qa(s,l,D,D,m+f/2-M,w+p/2-M,d)||qa(s,l,D,D,m-f/2+M,w+p/2-M,d))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:yo(4,0),draw:function(s,l,d,f,p){this.renderer.nodeShapeImpl(this.name,s,l,d,f,p)},generateCutTrianglePts:function(s,l,d,f){var p=this.cornerLength,m=l/2,w=s/2,M=d-w,D=d+w,I=f-m,L=f+m;return{topLeft:[M,I+p,M+p,I,M+p,I+p],topRight:[D-p,I,D,I+p,D-p,I+p],bottomRight:[D,L-p,D-p,L,D-p,L-p],bottomLeft:[M+p,L,M,L-p,M+p,L-p]}},intersectLine:function(s,l,d,f,p,m,w){var M=this.generateCutTrianglePts(d+2*w,f+2*w,s,l),D=[].concat.apply([],[M.topLeft.splice(0,4),M.topRight.splice(0,4),M.bottomRight.splice(0,4),M.bottomLeft.splice(0,4)]);return Il(p,m,D,s,l)},checkPoint:function(s,l,d,f,p,m,w){if(cs(s,l,this.points,m,w,f,p-2*this.cornerLength,[0,-1],d)||cs(s,l,this.points,m,w,f-2*this.cornerLength,p,[0,-1],d))return!0;var M=this.generateCutTrianglePts(f,p,m,w);return Vr(s,l,M.topLeft)||Vr(s,l,M.topRight)||Vr(s,l,M.bottomRight)||Vr(s,l,M.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:yo(4,0),draw:function(s,l,d,f,p){this.renderer.nodeShapeImpl(this.name,s,l,d,f,p)},intersectLine:function(s,l,d,f,p,m,w){var L=this.generateBarrelBezierPts(d+2*w,f+2*w,s,l),z=function(Q){var ne=as({x:Q[0],y:Q[1]},{x:Q[2],y:Q[3]},{x:Q[4],y:Q[5]},.15),oe=as({x:Q[0],y:Q[1]},{x:Q[2],y:Q[3]},{x:Q[4],y:Q[5]},.5),le=as({x:Q[0],y:Q[1]},{x:Q[2],y:Q[3]},{x:Q[4],y:Q[5]},.85);return[Q[0],Q[1],ne.x,ne.y,oe.x,oe.y,le.x,le.y,Q[4],Q[5]]},W=[].concat(z(L.topLeft),z(L.topRight),z(L.bottomRight),z(L.bottomLeft));return Il(p,m,W,s,l)},generateBarrelBezierPts:function(s,l,d,f){var p=l/2,m=s/2,w=d-m,M=d+m,D=f-p,I=f+p,L=cu(s,l),z=L.heightOffset,W=L.widthOffset,Y=L.ctrlPtOffsetPct*s,Q={topLeft:[w,D+z,w+Y,D,w+W,D],topRight:[M-W,D,M-Y,D,M,D+z],bottomRight:[M,I-z,M-Y,I,M-W,I],bottomLeft:[w+W,I,w+Y,I,w,I-z]};return Q.topLeft.isTop=!0,Q.topRight.isTop=!0,Q.bottomLeft.isBottom=!0,Q.bottomRight.isBottom=!0,Q},checkPoint:function(s,l,d,f,p,m,w){var M=cu(f,p),I=M.widthOffset;if(cs(s,l,this.points,m,w,f,p-2*M.heightOffset,[0,-1],d)||cs(s,l,this.points,m,w,f-2*I,p,[0,-1],d))return!0;for(var L=this.generateBarrelBezierPts(f,p,m,w),z=function(me,Se,ve){var Re=ve[4],Oe=ve[2],Ee=ve[0],He=ve[5],Ae=ve[1],Qe=Math.min(Re,Ee),Ge=Math.max(Re,Ee),We=Math.min(He,Ae),nt=Math.max(He,Ae);if(Qe<=me&&me<=Ge&&We<=Se&&Se<=nt){var st=function(s,l,d){return[s-2*l+d,2*(l-s),s]}(Re,Oe,Ee),dt=function(s,l,d,f){var p=l*l-4*s*(d-=f);if(p<0)return[];var m=Math.sqrt(p),w=2*s;return[(-l+m)/w,(-l-m)/w]}(st[0],st[1],st[2],me),it=dt.filter(function(rt){return 0<=rt&&rt<=1});if(it.length>0)return it[0]}return null},W=Object.keys(L),Y=0;Y<W.length;Y++){var ne=L[W[Y]],oe=z(s,l,ne);if(null!=oe){var ke=pr(ne[5],ne[3],ne[1],oe);if(ne.isTop&&ke<=l||ne.isBottom&&l<=ke)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:yo(4,0),draw:function(s,l,d,f,p){this.renderer.nodeShapeImpl(this.name,s,l,d,f,p)},intersectLine:function(s,l,d,f,p,m,w){var D=l-(f/2+w),z=Xo(p,m,s,l,s-(d/2+w),D,s+(d/2+w),D,!1);return z.length>0?z:Xa(p,m,s,l,d,f,w)},checkPoint:function(s,l,d,f,p,m,w){var M=Ed(f,p),D=2*M;if(cs(s,l,this.points,m,w,f,p-D,[0,-1],d)||cs(s,l,this.points,m,w,f-D,p,[0,-1],d))return!0;var I=f/2+2*d,L=p/2+2*d;return!!(Vr(s,l,[m-I,w-L,m-I,w,m+I,w,m+I,w-L])||qa(s,l,D,D,m+f/2-M,w+p/2-M,d)||qa(s,l,D,D,m-f/2+M,w+p/2-M,d))}}},registerNodeShapes:function(){var u=this.nodeShapes={},s=this;this.generateEllipse(),this.generatePolygon("triangle",yo(3,0)),this.generateRoundPolygon("round-triangle",yo(3,0)),this.generatePolygon("rectangle",yo(4,0)),u.square=u.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var l=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",l),this.generateRoundPolygon("round-diamond",l),this.generatePolygon("pentagon",yo(5,0)),this.generateRoundPolygon("round-pentagon",yo(5,0)),this.generatePolygon("hexagon",yo(6,0)),this.generateRoundPolygon("round-hexagon",yo(6,0)),this.generatePolygon("heptagon",yo(7,0)),this.generateRoundPolygon("round-heptagon",yo(7,0)),this.generatePolygon("octagon",yo(8,0)),this.generateRoundPolygon("round-octagon",yo(8,0));var d=new Array(20),f=Ol(5,0),p=Ol(5,Math.PI/5),m=.5*(3-Math.sqrt(5));m*=1.57;for(var w=0;w<p.length/2;w++)p[2*w]*=m,p[2*w+1]*=m;for(w=0;w<5;w++)d[4*w]=f[2*w],d[4*w+1]=f[2*w+1],d[4*w+2]=p[2*w],d[4*w+3]=p[2*w+1];d=lu(d),this.generatePolygon("star",d),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var M=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",M),this.generateRoundPolygon("round-tag",M),u.makePolygon=function(D){var z,L="polygon-"+D.join("$");return(z=this[L])?z:s.generatePolygon(L,D)}}},Jd={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(u){u=u||vd();var s=this;void 0===s.averageRedrawTime&&(s.averageRedrawTime=0),void 0===s.lastRedrawTime&&(s.lastRedrawTime=0),void 0===s.lastDrawTime&&(s.lastDrawTime=0),s.requestedFrame=!0,s.renderOptions=u},beforeRender:function(u,s){if(!this.destroyed){null==s&&Br("Priority is not optional for beforeRender");var l=this.beforeRenderCallbacks;l.push({fn:u,priority:s}),l.sort(function(d,f){return f.priority-d.priority})}}},Ny=function(s,l,d){for(var f=s.beforeRenderCallbacks,p=0;p<f.length;p++)f[p].fn(l,d)};Jd.startRenderLoop=function(){var u=this,s=u.cy;u.renderLoopStarted||(u.renderLoopStarted=!0,wl(function d(f){if(!u.destroyed){if(!s.batching())if(u.requestedFrame&&!u.skipFrame){Ny(u,!0,f);var p=Gi();u.render(u.renderOptions);var m=u.lastDrawTime=Gi();void 0===u.averageRedrawTime&&(u.averageRedrawTime=m-p),void 0===u.redrawCount&&(u.redrawCount=0),u.redrawCount++,void 0===u.redrawTotalTime&&(u.redrawTotalTime=0);var w=m-p;u.redrawTotalTime+=w,u.lastRedrawTime=w,u.averageRedrawTime=u.averageRedrawTime/2+w/2,u.requestedFrame=!1}else Ny(u,!1,f);u.skipFrame=!1,wl(d)}}))};var Nm=function(s){this.init(s)},Gl=Nm.prototype;Gl.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Gl.init=function(u){var s=this;s.options=u,s.cy=u.cy;var l=s.container=u.cy.container();if(H){var d=H.document,f=d.head,p="__________cytoscape_stylesheet",m="__________cytoscape_container",w=null!=d.getElementById(p);if(l.className.indexOf(m)<0&&(l.className=(l.className||"")+" "+m),!w){var M=d.createElement("style");M.id=p,M.innerHTML="."+m+" { position: relative; }",f.insertBefore(M,f.children[0])}"static"===H.getComputedStyle(l).getPropertyValue("position")&&Dr("A Cytoscape container has style position:static and so can not use UI extensions properly")}s.selection=[void 0,void 0,void 0,void 0,0],s.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],s.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},s.dragData={possibleDragElements:[]},s.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},s.redraws=0,s.showFps=u.showFps,s.debug=u.debug,s.hideEdgesOnViewport=u.hideEdgesOnViewport,s.textureOnViewport=u.textureOnViewport,s.wheelSensitivity=u.wheelSensitivity,s.motionBlurEnabled=u.motionBlur,s.forcedPixelRatio=ge(u.pixelRatio)?u.pixelRatio:null,s.motionBlur=u.motionBlur,s.motionBlurOpacity=u.motionBlurOpacity,s.motionBlurTransparency=1-s.motionBlurOpacity,s.motionBlurPxRatio=1,s.mbPxRBlurry=1,s.minMbLowQualFrames=4,s.fullQualityMb=!1,s.clearedForMotionBlur=[],s.desktopTapThreshold=u.desktopTapThreshold,s.desktopTapThreshold2=u.desktopTapThreshold*u.desktopTapThreshold,s.touchTapThreshold=u.touchTapThreshold,s.touchTapThreshold2=u.touchTapThreshold*u.touchTapThreshold,s.tapholdDuration=500,s.bindings=[],s.beforeRenderCallbacks=[],s.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},s.registerNodeShapes(),s.registerArrowShapes(),s.registerCalculationListeners()},Gl.notify=function(u,s){var l=this,d=l.cy;if(!this.destroyed){if("init"===u)return void l.load();if("destroy"===u)return void l.destroy();("add"===u||"remove"===u||"move"===u&&d.hasCompoundNodes()||"load"===u||"zorder"===u||"mount"===u)&&l.invalidateCachedZSortedEles(),"viewport"===u&&l.redrawHint("select",!0),("load"===u||"resize"===u||"mount"===u)&&(l.invalidateContainerClientCoordsCache(),l.matchCanvasSize(l.container)),l.redrawHint("eles",!0),l.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Gl.destroy=function(){var u=this;u.destroyed=!0,u.cy.stopAnimationLoop();for(var s=0;s<u.bindings.length;s++){var l=u.bindings[s],f=l.target;(f.off||f.removeEventListener).apply(f,l.args)}if(u.bindings=[],u.beforeRenderCallbacks=[],u.onUpdateEleCalcsFns=[],u.removeObserver&&u.removeObserver.disconnect(),u.styleObserver&&u.styleObserver.disconnect(),u.resizeObserver&&u.resizeObserver.disconnect(),u.labelCalcDiv)try{document.body.removeChild(u.labelCalcDiv)}catch{}},Gl.isHeadless=function(){return!1},[Iy,Rm,Pm,Pc,vi,Jd].forEach(function(u){nn(Gl,u)});var Fm=1e3/60,Fy_setupDequeueing=function(s){return function(){var d=this,f=this.renderer;if(!d.dequeueingSetup){d.dequeueingSetup=!0;var p=k.default(function(){f.redrawHint("eles",!0),f.redrawHint("drag",!0),f.redraw()},s.deqRedrawThreshold);f.beforeRender(function(D,I){var L=Gi(),z=f.averageRedrawTime,W=f.lastRedrawTime,Y=[],Q=f.cy.extent(),ne=f.getPixelRatio();for(D||f.flushRenderedStyleQueue();;){var oe=Gi(),le=oe-L,ce=oe-I;if(W<Fm){if(ce>=s.deqFastCost*(Fm-(D?z:0)))break}else if(D){if(le>=s.deqCost*W||le>=s.deqAvgCost*z)break}else if(ce>=s.deqNoDrawCost*Fm)break;var ke=s.deq(d,ne,Q);if(!(ke.length>0))break;for(var Te=0;Te<ke.length;Te++)Y.push(ke[Te])}Y.length>0&&(s.onDeqd(d,Y),!D&&s.shouldRedraw(d,Y,ne,Q)&&p())},(s.priority||ou)(d))}}},_w=function(){function u(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iu;N(this,u),this.idsByKey=new Oo,this.keyForId=new Oo,this.cachesByLvl=new Oo,this.lvls=[],this.getKey=s,this.doesEleInvalidateKey=l}return J(u,[{key:"getIdsFor",value:function(l){null==l&&Br("Can not get id list for null key");var d=this.idsByKey,f=this.idsByKey.get(l);return f||(f=new Ya,d.set(l,f)),f}},{key:"addIdForKey",value:function(l,d){null!=l&&this.getIdsFor(l).add(d)}},{key:"deleteIdForKey",value:function(l,d){null!=l&&this.getIdsFor(l).delete(d)}},{key:"getNumberOfIdsForKey",value:function(l){return null==l?0:this.getIdsFor(l).size}},{key:"updateKeyMappingFor",value:function(l){var d=l.id(),f=this.keyForId.get(d),p=this.getKey(l);this.deleteIdForKey(f,d),this.addIdForKey(p,d),this.keyForId.set(d,p)}},{key:"deleteKeyMappingFor",value:function(l){var d=l.id(),f=this.keyForId.get(d);this.deleteIdForKey(f,d),this.keyForId.delete(d)}},{key:"keyHasChangedFor",value:function(l){var d=l.id();return this.keyForId.get(d)!==this.getKey(l)}},{key:"isInvalid",value:function(l){return this.keyHasChangedFor(l)||this.doesEleInvalidateKey(l)}},{key:"getCachesAt",value:function(l){var d=this.cachesByLvl,f=this.lvls,p=d.get(l);return p||(p=new Oo,d.set(l,p),f.push(l)),p}},{key:"getCache",value:function(l,d){return this.getCachesAt(d).get(l)}},{key:"get",value:function(l,d){var f=this.getKey(l),p=this.getCache(f,d);return null!=p&&this.updateKeyMappingFor(l),p}},{key:"getForCachedKey",value:function(l,d){var f=this.keyForId.get(l.id());return this.getCache(f,d)}},{key:"hasCache",value:function(l,d){return this.getCachesAt(d).has(l)}},{key:"has",value:function(l,d){var f=this.getKey(l);return this.hasCache(f,d)}},{key:"setCache",value:function(l,d,f){f.key=l,this.getCachesAt(d).set(l,f)}},{key:"set",value:function(l,d,f){var p=this.getKey(l);this.setCache(p,d,f),this.updateKeyMappingFor(l)}},{key:"deleteCache",value:function(l,d){this.getCachesAt(d).delete(l)}},{key:"delete",value:function(l,d){var f=this.getKey(l);this.deleteCache(f,d)}},{key:"invalidateKey",value:function(l){var d=this;this.lvls.forEach(function(f){return d.deleteCache(l,f)})}},{key:"invalidate",value:function(l){var d=l.id(),f=this.keyForId.get(d);this.deleteKeyMappingFor(l);var p=this.doesEleInvalidateKey(l);return p&&this.invalidateKey(f),p||0===this.getNumberOfIdsForKey(f)}}]),u}(),Iu={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},zm=Ii({getKey:null,doesEleInvalidateKey:iu,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Ts,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Nc=function(s,l){var d=this;d.renderer=s,d.onDequeues=[];var f=zm(l);nn(d,f),d.lookup=new _w(f.getKey,f.doesEleInvalidateKey),d.setupDequeueing()},zi=Nc.prototype;zi.reasons=Iu,zi.getTextureQueue=function(u){var s=this;return s.eleImgCaches=s.eleImgCaches||{},s.eleImgCaches[u]=s.eleImgCaches[u]||[]},zi.getRetiredTextureQueue=function(u){var l=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return l[u]=l[u]||[]},zi.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new S.default(function(l,d){return d.reqs-l.reqs})},zi.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},zi.getElement=function(u,s,l,d,f){var p=this,m=this.renderer,w=m.cy.zoom(),M=this.lookup;if(!s||0===s.w||0===s.h||isNaN(s.w)||isNaN(s.h)||!u.visible()||u.removed()||!p.allowEdgeTxrCaching&&u.isEdge()||!p.allowParentTxrCaching&&u.isParent())return null;if(null==d&&(d=Math.ceil(pi(w*l))),d<-4)d=-4;else if(w>=7.99||d>3)return null;var D=Math.pow(2,d),I=s.h*D,L=s.w*D,z=m.eleTextBiggerThanMin(u,D);if(!this.isVisible(u,z))return null;var Y,W=M.get(u,d);if(W&&W.invalidated&&(W.invalidated=!1,W.texture.invalidatedWidth-=W.width),W)return W;if(Y=I<=25?25:I<=50?50:50*Math.ceil(I/50),I>1024||L>1024)return null;var Q=p.getTextureQueue(Y),ne=Q[Q.length-2],oe=function(){return p.recycleTexture(Y,L)||p.addTexture(Y,L)};ne||(ne=Q[Q.length-1]),ne||(ne=oe()),ne.width-ne.usedWidth<L&&(ne=oe());for(var Te,le=function(Ge){return Ge&&Ge.scaledLabelShown===z},ce=f&&f===Iu.dequeue,pe=f&&f===Iu.highQuality,ke=f&&f===Iu.downscale,me=d+1;me<=3;me++){var Se=M.get(u,me);if(Se){Te=Se;break}}var ve=Te&&Te.level===d+1?Te:null,Re=function(){ne.context.drawImage(ve.texture.canvas,ve.x,0,ve.width,ve.height,ne.usedWidth,0,L,I)};if(ne.context.setTransform(1,0,0,1,0,0),ne.context.clearRect(ne.usedWidth,0,L,Y),le(ve))Re();else if(le(Te)){if(!pe)return p.queueElement(u,Te.level-1),Te;for(var Oe=Te.level;Oe>d;Oe--)ve=p.getElement(u,s,l,Oe,Iu.downscale);Re()}else{var Ee;if(!ce&&!pe&&!ke)for(var He=d-1;He>=-4;He--){var Ae=M.get(u,He);if(Ae){Ee=Ae;break}}if(le(Ee))return p.queueElement(u,d),Ee;ne.context.translate(ne.usedWidth,0),ne.context.scale(D,D),this.drawElement(ne.context,u,s,z,!1),ne.context.scale(1/D,1/D),ne.context.translate(-ne.usedWidth,0)}return W={x:ne.usedWidth,texture:ne,level:d,scale:D,width:L,height:I,scaledLabelShown:z},ne.usedWidth+=Math.ceil(L+8),ne.eleCaches.push(W),M.set(u,d,W),p.checkTextureFullness(ne),W},zi.invalidateElements=function(u){for(var s=0;s<u.length;s++)this.invalidateElement(u[s])},zi.invalidateElement=function(u){var s=this,l=s.lookup,d=[];if(l.isInvalid(u)){for(var p=-4;p<=3;p++){var m=l.getForCachedKey(u,p);m&&d.push(m)}if(l.invalidate(u))for(var M=0;M<d.length;M++){var D=d[M],I=D.texture;I.invalidatedWidth+=D.width,D.invalidated=!0,s.checkTextureUtility(I)}s.removeFromQueue(u)}},zi.checkTextureUtility=function(u){u.invalidatedWidth>=.2*u.width&&this.retireTexture(u)},zi.checkTextureFullness=function(u){var l=this.getTextureQueue(u.height);u.usedWidth/u.width>.8&&u.fullnessChecks>=10?xa(l,u):u.fullnessChecks++},zi.retireTexture=function(u){var l=u.height,d=this.getTextureQueue(l),f=this.lookup;xa(d,u),u.retired=!0;for(var p=u.eleCaches,m=0;m<p.length;m++){var w=p[m];f.deleteCache(w.key,w.level)}yd(p),this.getRetiredTextureQueue(l).push(u)},zi.addTexture=function(u,s){var f={};return this.getTextureQueue(u).push(f),f.eleCaches=[],f.height=u,f.width=Math.max(1024,s),f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,f.canvas=this.renderer.makeOffscreenCanvas(f.width,f.height),f.context=f.canvas.getContext("2d"),f},zi.recycleTexture=function(u,s){for(var d=this.getTextureQueue(u),f=this.getRetiredTextureQueue(u),p=0;p<f.length;p++){var m=f[p];if(m.width>=s)return m.retired=!1,m.usedWidth=0,m.invalidatedWidth=0,m.fullnessChecks=0,yd(m.eleCaches),m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(0,0,m.width,m.height),xa(f,m),d.push(m),m}},zi.queueElement=function(u,s){var d=this.getElementQueue(),f=this.getElementKeyToQueue(),p=this.getKey(u),m=f[p];if(m)m.level=Math.max(m.level,s),m.eles.merge(u),m.reqs++,d.updateItem(m);else{var w={eles:u.spawn().merge(u),level:s,reqs:1,key:p};d.push(w),f[p]=w}},zi.dequeue=function(u){for(var s=this,l=s.getElementQueue(),d=s.getElementKeyToQueue(),f=[],p=s.lookup,m=0;m<1&&l.size()>0;m++){var w=l.pop(),M=w.key,D=w.eles[0],I=p.hasCache(D,w.level);if(d[M]=null,!I){f.push(w);var L=s.getBoundingBox(D);s.getElement(D,L,u,w.level,Iu.dequeue)}}return f},zi.removeFromQueue=function(u){var l=this.getElementQueue(),d=this.getElementKeyToQueue(),f=this.getKey(u),p=d[f];null!=p&&(1===p.eles.length?(p.reqs=ru,l.updateItem(p),l.pop(),d[f]=null):p.eles.unmerge(u))},zi.onDequeue=function(u){this.onDequeues.push(u)},zi.offDequeue=function(u){xa(this.onDequeues,u)},zi.setupDequeueing=Fy_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(s,l,d){return s.dequeue(l,d)},onDeqd:function(s,l){for(var d=0;d<s.onDequeues.length;d++)(0,s.onDequeues[d])(l)},shouldRedraw:function(s,l,d,f){for(var p=0;p<l.length;p++)for(var m=l[p].eles,w=0;w<m.length;w++){var M=m[w].boundingBox();if(ls(M,f))return!0}return!1},priority:function(s){return s.renderer.beforeRenderPriorities.eleTxrDeq}});var Wy=function(s){var l=this,d=l.renderer=s,f=d.cy;l.layersByLevel={},l.firstGet=!0,l.lastInvalidationTime=Gi()-500,l.skipping=!1,l.eleTxrDeqs=f.collection(),l.scheduleElementRefinement=k.default(function(){l.refineElementTextures(l.eleTxrDeqs),l.eleTxrDeqs.unmerge(l.eleTxrDeqs)},50),d.beforeRender(function(m,w){l.skipping=w-l.lastInvalidationTime<=250},d.beforeRenderPriorities.lyrTxrSkip),l.layersQueue=new S.default(function(w,M){return M.reqs-w.reqs}),l.setupDequeueing()},uo=Wy.prototype,Yy=0,Xy=Math.pow(2,53)-1;uo.makeLayer=function(u,s){var l=Math.pow(2,s),d=Math.ceil(u.w*l),f=Math.ceil(u.h*l),p=this.renderer.makeOffscreenCanvas(d,f),m={id:Yy=++Yy%Xy,bb:u,level:s,width:d,height:f,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},w=m.context,M=-m.bb.x1,D=-m.bb.y1;return w.scale(l,l),w.translate(M,D),m},uo.getLayers=function(u,s,l){var d=this,m=d.renderer.cy.zoom(),w=d.firstGet;if(d.firstGet=!1,null==l)if((l=Math.ceil(pi(m*s)))<-4)l=-4;else if(m>=3.99||l>2)return null;d.validateLayersElesOrdering(l,u);var L,W,M=d.layersByLevel,D=Math.pow(2,l),I=M[l]=M[l]||[];if(d.levelIsComplete(l,u))return I;!function(){var Re=function(Qe){if(d.validateLayersElesOrdering(Qe,u),d.levelIsComplete(Qe,u))return W=M[Qe],!0},Oe=function(Qe){if(!W)for(var Ge=l+Qe;-4<=Ge&&Ge<=2&&!Re(Ge);Ge+=Qe);};Oe(1),Oe(-1);for(var Ee=I.length-1;Ee>=0;Ee--){var He=I[Ee];He.invalid&&xa(I,He)}}();var ne=function(Re){var Oe=(Re=Re||{}).after;if(function(){if(!L){L=Zr();for(var Re=0;Re<u.length;Re++)on(L,u[Re].boundingBox())}}(),L.w*D*(L.h*D)>16e6)return null;var He=d.makeLayer(L,l);if(null!=Oe){var Ae=I.indexOf(Oe)+1;I.splice(Ae,0,He)}else(void 0===Re.insert||Re.insert)&&I.unshift(He);return He};if(d.skipping&&!w)return null;for(var oe=null,le=u.length/1,ce=!w,pe=0;pe<u.length;pe++){var ke=u[pe],Te=ke._private.rscratch,me=Te.imgLayerCaches=Te.imgLayerCaches||{},Se=me[l];if(Se)oe=Se;else{if((!oe||oe.eles.length>=le||!qs(oe.bb,ke.boundingBox()))&&!(oe=ne({insert:!0,after:oe})))return null;W||ce?d.queueLayer(oe,ke):d.drawEleInLayer(oe,ke,l,s),oe.eles.push(ke),me[l]=oe}}return W||(ce?null:I)},uo.getEleLevelForLayerLevel=function(u,s){return u},uo.drawEleInLayer=function(u,s,l,d){var p=this.renderer,m=u.context,w=s.boundingBox();0===w.w||0===w.h||!s.visible()||(l=this.getEleLevelForLayerLevel(l,d),p.setImgSmoothing(m,!1),p.drawCachedElement(m,s,null,null,l,!0),p.setImgSmoothing(m,!0))},uo.levelIsComplete=function(u,s){var d=this.layersByLevel[u];if(!d||0===d.length)return!1;for(var f=0,p=0;p<d.length;p++){var m=d[p];if(m.reqs>0||m.invalid)return!1;f+=m.eles.length}return f===s.length},uo.validateLayersElesOrdering=function(u,s){var l=this.layersByLevel[u];if(l)for(var d=0;d<l.length;d++){for(var f=l[d],p=-1,m=0;m<s.length;m++)if(f.eles[0]===s[m]){p=m;break}if(p<0)this.invalidateLayer(f);else{var w=p;for(m=0;m<f.eles.length;m++)if(f.eles[m]!==s[w+m]){this.invalidateLayer(f);break}}}},uo.updateElementsInLayers=function(u,s){for(var d=et(u[0]),f=0;f<u.length;f++)for(var p=d?null:u[f],m=d?u[f]:u[f].ele,w=m._private.rscratch,M=w.imgLayerCaches=w.imgLayerCaches||{},D=-4;D<=2;D++){var I=M[D];I&&(p&&this.getEleLevelForLayerLevel(I.level)!==p.level||s(I,m,p))}},uo.haveLayers=function(){for(var s=!1,l=-4;l<=2;l++){var d=this.layersByLevel[l];if(d&&d.length>0){s=!0;break}}return s},uo.invalidateElements=function(u){var s=this;0!==u.length&&(s.lastInvalidationTime=Gi(),0!==u.length&&s.haveLayers()&&s.updateElementsInLayers(u,function(d,f,p){s.invalidateLayer(d)}))},uo.invalidateLayer=function(u){if(this.lastInvalidationTime=Gi(),!u.invalid){var s=u.level,l=u.eles;xa(this.layersByLevel[s],u),u.elesQueue=[],u.invalid=!0,u.replacement&&(u.replacement.invalid=!0);for(var f=0;f<l.length;f++){var p=l[f]._private.rscratch.imgLayerCaches;p&&(p[s]=null)}}},uo.refineElementTextures=function(u){var s=this;s.updateElementsInLayers(u,function(d,f,p){var m=d.replacement;if(m||((m=d.replacement=s.makeLayer(d.bb,d.level)).replaces=d,m.eles=d.eles),!m.reqs)for(var w=0;w<m.eles.length;w++)s.queueLayer(m,m.eles[w])})},uo.enqueueElementRefinement=function(u){this.eleTxrDeqs.merge(u),this.scheduleElementRefinement()},uo.queueLayer=function(u,s){var d=this.layersQueue,f=u.elesQueue,p=f.hasId=f.hasId||{};if(!u.replacement){if(s){if(p[s.id()])return;f.push(s),p[s.id()]=!0}u.reqs?(u.reqs++,d.updateItem(u)):(u.reqs=1,d.push(u))}},uo.dequeue=function(u){for(var s=this,l=s.layersQueue,d=[],f=0;f<1&&0!==l.size();){var p=l.peek();if(p.replacement)l.pop();else if(p.replaces&&p!==p.replaces.replacement)l.pop();else if(p.invalid)l.pop();else{var m=p.elesQueue.shift();m&&(s.drawEleInLayer(p,m,p.level,u),f++),0===d.length&&d.push(!0),0===p.elesQueue.length&&(l.pop(),p.reqs=0,p.replaces&&s.applyLayerReplacement(p),s.requestRedraw())}}return d},uo.applyLayerReplacement=function(u){var l=this.layersByLevel[u.level],d=u.replaces,f=l.indexOf(d);if(!(f<0||d.invalid)){l[f]=u;for(var p=0;p<u.eles.length;p++){var m=u.eles[p]._private,w=m.imgLayerCaches=m.imgLayerCaches||{};w&&(w[u.level]=u)}this.requestRedraw()}},uo.requestRedraw=k.default(function(){var u=this.renderer;u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},100),uo.setupDequeueing=Fy_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(s,l){return s.dequeue(l)},onDeqd:ou,shouldRedraw:Ts,priority:function(s){return s.renderer.beforeRenderPriorities.lyrTxrDeq}});var $m,Df={};function Wm(u,s){for(var l=0;l<s.length;l++){var d=s[l];u.lineTo(d.x,d.y)}}function Mw(u,s,l){for(var d,f=0;f<s.length;f++){var p=s[f];0===f&&(d=p),u.lineTo(p.x,p.y)}u.quadraticCurveTo(l.x,l.y,d.x,d.y)}function Ky(u,s,l){u.beginPath&&u.beginPath();for(var d=s,f=0;f<d.length;f++)u.lineTo((p=d[f]).x,p.y);var m=l,w=l[0];for(u.moveTo(w.x,w.y),f=1;f<m.length;f++){var p;u.lineTo((p=m[f]).x,p.y)}u.closePath&&u.closePath()}function qy(u,s,l,d,f){u.beginPath&&u.beginPath(),u.arc(l,d,f,0,2*Math.PI,!1);var p=s,m=p[0];u.moveTo(m.x,m.y);for(var w=0;w<p.length;w++){var M=p[w];u.lineTo(M.x,M.y)}u.closePath&&u.closePath()}function Zy(u,s,l,d){u.arc(s,l,d,0,2*Math.PI,!1)}Df.arrowShapeImpl=function(u){return($m||($m={polygon:Wm,"triangle-backcurve":Mw,"triangle-tee":Ky,"circle-triangle":qy,"triangle-cross":Ky,circle:Zy}))[u]};var Co={drawElement:function(u,s,l,d,f,p){s.isNode()?this.drawNode(u,s,l,d,f,p):this.drawEdge(u,s,l,d,f,p)},drawElementOverlay:function(u,s){s.isNode()?this.drawNodeOverlay(u,s):this.drawEdgeOverlay(u,s)},drawElementUnderlay:function(u,s){s.isNode()?this.drawNodeUnderlay(u,s):this.drawEdgeUnderlay(u,s)},drawCachedElementPortion:function(u,s,l,d,f,p,m,w){var M=this,D=l.getBoundingBox(s);if(0!==D.w&&0!==D.h){var I=l.getElement(s,D,d,f,p);if(null!=I){var L=w(M,s);if(0===L)return;var oe,le,ce,pe,ke,Se,z=m(M,s),W=D.x1,Y=D.y1,Q=D.w,ne=D.h;if(0!==z){var Te=l.getRotationPoint(s);u.translate(ce=Te.x,pe=Te.y),u.rotate(z),(ke=M.getImgSmoothing(u))||M.setImgSmoothing(u,!0);var me=l.getRotationOffset(s);oe=me.x,le=me.y}else oe=W,le=Y;1!==L&&(u.globalAlpha=(Se=u.globalAlpha)*L),u.drawImage(I.texture.canvas,I.x,0,I.width,I.height,oe,le,Q,ne),1!==L&&(u.globalAlpha=Se),0!==z&&(u.rotate(-z),u.translate(-ce,-pe),ke||M.setImgSmoothing(u,!1))}else l.drawElement(u,s)}}},Qy=function(){return 0},Jy=function(s,l){return s.getTextAngle(l,null)},Tw=function(s,l){return s.getTextAngle(l,"source")},gk=function(s,l){return s.getTextAngle(l,"target")},Sf=function(s,l){return l.effectiveOpacity()},Ym=function(s,l){return l.pstyle("text-opacity").pfValue*l.effectiveOpacity()};Co.drawCachedElement=function(u,s,l,d,f,p){var m=this,w=m.data,M=w.eleTxrCache,D=w.lblTxrCache,I=w.slbTxrCache,L=w.tlbTxrCache,z=s.boundingBox(),W=!0===p?M.reasons.highQuality:null;if(0!==z.w&&0!==z.h&&s.visible()&&(!d||ls(z,d))){var Y=s.isEdge(),Q=s.element()._private.rscratch.badLine;m.drawElementUnderlay(u,s),m.drawCachedElementPortion(u,s,M,l,f,W,Qy,Sf),(!Y||!Q)&&m.drawCachedElementPortion(u,s,D,l,f,W,Jy,Ym),Y&&!Q&&(m.drawCachedElementPortion(u,s,I,l,f,W,Tw,Ym),m.drawCachedElementPortion(u,s,L,l,f,W,gk,Ym)),m.drawElementOverlay(u,s)}},Co.drawElements=function(u,s){for(var d=0;d<s.length;d++)this.drawElement(u,s[d])},Co.drawCachedElements=function(u,s,l,d){for(var p=0;p<s.length;p++)this.drawCachedElement(u,s[p],l,d)},Co.drawCachedNodes=function(u,s,l,d){for(var p=0;p<s.length;p++){var m=s[p];m.isNode()&&this.drawCachedElement(u,m,l,d)}},Co.drawLayeredElements=function(u,s,l,d){var p=this.data.lyrTxrCache.getLayers(s,l);if(p)for(var m=0;m<p.length;m++){var w=p[m],M=w.bb;0===M.w||0===M.h||u.drawImage(w.canvas,M.x1,M.y1,M.w,M.h)}else this.drawCachedElements(u,s,l,d)};var Da={drawEdge:function(u,s,l){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],m=this,w=s._private.rscratch;if((!p||s.visible())&&!w.badLine&&null!=w.allpts&&!isNaN(w.allpts[0])){var M;l&&u.translate(-(M=l).x1,-M.y1);var D=p?s.pstyle("opacity").value:1,I=p?s.pstyle("line-opacity").value:1,L=s.pstyle("curve-style").value,z=s.pstyle("line-style").value,W=s.pstyle("width").pfValue,Y=s.pstyle("line-cap").value,Q=D*I,ne=D*I,oe=function(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;"straight-triangle"===L?(m.eleStrokeStyle(u,s,Ee),m.drawEdgeTrianglePath(s,u,w.allpts)):(u.lineWidth=W,u.lineCap=Y,m.eleStrokeStyle(u,s,Ee),m.drawEdgePath(s,u,w.allpts,z),u.lineCap="butt")},pe=function(){m.drawArrowheads(u,s,arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne)};if(u.lineJoin="round","yes"===s.pstyle("ghost").value){var me=s.pstyle("ghost-offset-x").pfValue,Se=s.pstyle("ghost-offset-y").pfValue,ve=s.pstyle("ghost-opacity").value,Re=Q*ve;u.translate(me,Se),oe(Re),pe(Re),u.translate(-me,-Se)}f&&m.drawEdgeUnderlay(u,s),oe(),pe(),f&&m.drawEdgeOverlay(u,s),m.drawElementText(u,s,null,d),l&&u.translate(M.x1,M.y1)}}},Xm=function(s){if(!["overlay","underlay"].includes(s))throw new Error("Invalid state");return function(l,d){if(d.visible()){var f=d.pstyle("".concat(s,"-opacity")).value;if(0!==f){var p=this,m=p.usePaths(),w=d._private.rscratch,D=2*d.pstyle("".concat(s,"-padding")).pfValue,I=d.pstyle("".concat(s,"-color")).value;l.lineWidth=D,l.lineCap="self"!==w.edgeType||m?"round":"butt",p.colorStrokeStyle(l,I[0],I[1],I[2],f),p.drawEdgePath(d,l,w.allpts,"solid")}}}};Da.drawEdgeOverlay=Xm("overlay"),Da.drawEdgeUnderlay=Xm("underlay"),Da.drawEdgePath=function(u,s,l,d){var m,f=u._private.rscratch,p=s,w=!1,M=this.usePaths(),D=u.pstyle("line-dash-pattern").pfValue,I=u.pstyle("line-dash-offset").pfValue;if(M){var L=l.join("$");f.pathCacheKey&&f.pathCacheKey===L?(m=s=f.pathCache,w=!0):(m=s=new Path2D,f.pathCacheKey=L,f.pathCache=m)}if(p.setLineDash)switch(d){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(D),p.lineDashOffset=I;break;case"solid":p.setLineDash([])}if(!w&&!f.badLine)switch(s.beginPath&&s.beginPath(),s.moveTo(l[0],l[1]),f.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var W=2;W+3<l.length;W+=4)s.quadraticCurveTo(l[W],l[W+1],l[W+2],l[W+3]);break;case"straight":case"segments":case"haystack":for(var Y=2;Y+1<l.length;Y+=2)s.lineTo(l[Y],l[Y+1])}s=p,M?s.stroke(m):s.stroke(),s.setLineDash&&s.setLineDash([])},Da.drawEdgeTrianglePath=function(u,s,l){s.fillStyle=s.strokeStyle;for(var d=u.pstyle("width").pfValue,f=0;f+1<l.length;f+=2){var p=[l[f+2]-l[f],l[f+3]-l[f+1]],m=Math.sqrt(p[0]*p[0]+p[1]*p[1]),w=[p[1]/m,-p[0]/m],M=[w[0]*d/2,w[1]*d/2];s.beginPath(),s.moveTo(l[f]-M[0],l[f+1]-M[1]),s.lineTo(l[f]+M[0],l[f+1]+M[1]),s.lineTo(l[f+2],l[f+3]),s.closePath(),s.fill()}},Da.drawArrowheads=function(u,s,l){var d=s._private.rscratch,f="haystack"===d.edgeType;f||this.drawArrowhead(u,s,"source",d.arrowStartX,d.arrowStartY,d.srcArrowAngle,l),this.drawArrowhead(u,s,"mid-target",d.midX,d.midY,d.midtgtArrowAngle,l),this.drawArrowhead(u,s,"mid-source",d.midX,d.midY,d.midsrcArrowAngle,l),f||this.drawArrowhead(u,s,"target",d.arrowEndX,d.arrowEndY,d.tgtArrowAngle,l)},Da.drawArrowhead=function(u,s,l,d,f,p,m){if(!(isNaN(d)||null==d||isNaN(f)||null==f||isNaN(p)||null==p)){var w=this,M=s.pstyle(l+"-arrow-shape").value;if("none"!==M){var D="hollow"===s.pstyle(l+"-arrow-fill").value?"both":"filled",I=s.pstyle(l+"-arrow-fill").value,L=s.pstyle("width").pfValue,z=s.pstyle("opacity").value;void 0===m&&(m=z);var W=u.globalCompositeOperation;(1!==m||"hollow"===I)&&(u.globalCompositeOperation="destination-out",w.colorFillStyle(u,255,255,255,1),w.colorStrokeStyle(u,255,255,255,1),w.drawArrowShape(s,u,D,L,M,d,f,p),u.globalCompositeOperation=W);var Y=s.pstyle(l+"-arrow-color").value;w.colorFillStyle(u,Y[0],Y[1],Y[2],m),w.colorStrokeStyle(u,Y[0],Y[1],Y[2],m),w.drawArrowShape(s,u,I,L,M,d,f,p)}}},Da.drawArrowShape=function(u,s,l,d,f,p,m,w){var L,M=this,D=this.usePaths()&&"triangle-cross"!==f,I=!1,z=s,W={x:p,y:m},Y=u.pstyle("arrow-scale").value,Q=this.getArrowWidth(d,Y),ne=M.arrowShapes[f];if(D){var oe=M.arrowPathCache=M.arrowPathCache||[],le=$a(f),ce=oe[le];null!=ce?(L=s=ce,I=!0):(L=s=new Path2D,oe[le]=L)}I||(s.beginPath&&s.beginPath(),D?ne.draw(s,1,0,{x:0,y:0},1):ne.draw(s,Q,w,W,d),s.closePath&&s.closePath()),s=z,D&&(s.translate(p,m),s.rotate(w),s.scale(Q,Q)),("filled"===l||"both"===l)&&(D?s.fill(L):s.fill()),("hollow"===l||"both"===l)&&(s.lineWidth=(ne.matchEdgeWidth?d:1)/(D?Q:1),s.lineJoin="miter",D?s.stroke(L):s.stroke()),D&&(s.scale(1/Q,1/Q),s.rotate(-w),s.translate(-p,-m))};var kf={safeDrawImage:function(u,s,l,d,f,p,m,w,M,D){if(!(f<=0||p<=0||M<=0||D<=0))try{u.drawImage(s,l,d,f,p,m,w,M,D)}catch(I){Dr(I)}},drawInscribedImage:function(u,s,l,d,f){var p=this,m=l.position(),w=m.x,M=m.y,D=l.cy().style(),I=D.getIndexedStyle.bind(D),L=I(l,"background-fit","value",d),z=I(l,"background-repeat","value",d),W=l.width(),Y=l.height(),Q=2*l.padding(),ne=W+("inner"===I(l,"background-width-relative-to","value",d)?0:Q),oe=Y+("inner"===I(l,"background-height-relative-to","value",d)?0:Q),le=l._private.rscratch,pe="node"===I(l,"background-clip","value",d),ke=I(l,"background-image-opacity","value",d)*f,Te=I(l,"background-image-smoothing","value",d),me=s.width||s.cachedW,Se=s.height||s.cachedH;(null==me||null==Se)&&(document.body.appendChild(s),me=s.cachedW=s.width||s.offsetWidth,Se=s.cachedH=s.height||s.offsetHeight,document.body.removeChild(s));var ve=me,Re=Se;if("auto"!==I(l,"background-width","value",d)&&(ve="%"===I(l,"background-width","units",d)?I(l,"background-width","pfValue",d)*ne:I(l,"background-width","pfValue",d)),"auto"!==I(l,"background-height","value",d)&&(Re="%"===I(l,"background-height","units",d)?I(l,"background-height","pfValue",d)*oe:I(l,"background-height","pfValue",d)),0!==ve&&0!==Re){if("contain"===L)ve*=Oe=Math.min(ne/ve,oe/Re),Re*=Oe;else if("cover"===L){var Oe;ve*=Oe=Math.max(ne/ve,oe/Re),Re*=Oe}var Ee=w-ne/2,He=I(l,"background-position-x","units",d),Ae=I(l,"background-position-x","pfValue",d);Ee+="%"===He?(ne-ve)*Ae:Ae;var Qe=I(l,"background-offset-x","units",d),Ge=I(l,"background-offset-x","pfValue",d);Ee+="%"===Qe?(ne-ve)*Ge:Ge;var We=M-oe/2,nt=I(l,"background-position-y","units",d),st=I(l,"background-position-y","pfValue",d);We+="%"===nt?(oe-Re)*st:st;var dt=I(l,"background-offset-y","units",d),it=I(l,"background-offset-y","pfValue",d);We+="%"===dt?(oe-Re)*it:it,le.pathCache&&(Ee-=w,We-=M,w=0,M=0);var rt=u.globalAlpha;u.globalAlpha=ke;var Et=p.getImgSmoothing(u),St=!1;if("no"===Te&&Et?(p.setImgSmoothing(u,!1),St=!0):"yes"===Te&&!Et&&(p.setImgSmoothing(u,!0),St=!0),"no-repeat"===z)pe&&(u.save(),le.pathCache?u.clip(le.pathCache):(p.nodeShapes[p.getNodeShape(l)].draw(u,w,M,ne,oe),u.clip())),p.safeDrawImage(u,s,0,0,me,Se,Ee,We,ve,Re),pe&&u.restore();else{var yt=u.createPattern(s,z);u.fillStyle=yt,p.nodeShapes[p.getNodeShape(l)].draw(u,w,M,ne,oe),u.translate(Ee,We),u.fill(),u.translate(-Ee,-We)}u.globalAlpha=rt,St&&p.setImgSmoothing(u,Et)}}},sl={eleTextBiggerThanMin:function(u,s){if(!s){var l=u.cy().zoom(),d=this.getPixelRatio(),f=Math.ceil(pi(l*d));s=Math.pow(2,f)}return!(u.pstyle("font-size").pfValue*s<u.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(u,s,l,d,f){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],m=this;if(null==d){if(p&&!m.eleTextBiggerThanMin(s))return}else if(!1===d)return;if(s.isNode()){var w=s.pstyle("label");if(!w||!w.value)return;var M=m.getLabelJustification(s);u.textAlign=M,u.textBaseline="bottom"}else{var D=s.element()._private.rscratch.badLine,I=s.pstyle("label"),L=s.pstyle("source-label"),z=s.pstyle("target-label");if(D||(!I||!I.value)&&(!L||!L.value)&&(!z||!z.value))return;u.textAlign="center",u.textBaseline="bottom"}var Y,W=!l;l&&u.translate(-(Y=l).x1,-Y.y1),null==f?(m.drawText(u,s,null,W,p),s.isEdge()&&(m.drawText(u,s,"source",W,p),m.drawText(u,s,"target",W,p))):m.drawText(u,s,f,W,p),l&&u.translate(Y.x1,Y.y1)},getFontCache:function(u){var s;this.fontCaches=this.fontCaches||[];for(var l=0;l<this.fontCaches.length;l++)if((s=this.fontCaches[l]).context===u)return s;return this.fontCaches.push(s={context:u}),s},setupTextStyle:function(u,s){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=s.pstyle("font-style").strValue,f=s.pstyle("font-size").pfValue+"px",p=s.pstyle("font-family").strValue,m=s.pstyle("font-weight").strValue,w=l?s.effectiveOpacity()*s.pstyle("text-opacity").value:1,M=s.pstyle("text-outline-opacity").value*w,D=s.pstyle("color").value,I=s.pstyle("text-outline-color").value;u.font=d+" "+m+" "+f+" "+p,u.lineJoin="round",this.colorFillStyle(u,D[0],D[1],D[2],w),this.colorStrokeStyle(u,I[0],I[1],I[2],M)},getTextAngle:function(u,s){var f=u._private.rscratch,m=u.pstyle((s?s+"-":"")+"text-rotation"),w=As(f,"labelAngle",s);return"autorotate"===m.strValue?u.isEdge()?w:0:"none"===m.strValue?0:m.pfValue},drawText:function(u,s,l){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],m=s._private.rscratch,w=f?s.effectiveOpacity():1;if(!f||0!==w&&0!==s.pstyle("text-opacity").value){"main"===l&&(l=null);var I,L,M=As(m,"labelX",l),D=As(m,"labelY",l),z=this.getLabelText(s,l);if(null!=z&&""!==z&&!isNaN(M)&&!isNaN(D)){this.setupTextStyle(u,s,f);var ke,W=l?l+"-":"",Y=As(m,"labelWidth",l),Q=As(m,"labelHeight",l),ne=s.pstyle(W+"text-margin-x").pfValue,oe=s.pstyle(W+"text-margin-y").pfValue,le=s.isEdge(),ce=s.pstyle("text-halign").value,pe=s.pstyle("text-valign").value;switch(le&&(ce="center",pe="center"),M+=ne,D+=oe,0!==(ke=d?this.getTextAngle(s,l):0)&&(u.translate(I=M,L=D),u.rotate(ke),M=0,D=0),pe){case"top":break;case"center":D+=Q/2;break;case"bottom":D+=Q}var Te=s.pstyle("text-background-opacity").value,me=s.pstyle("text-border-opacity").value,Se=s.pstyle("text-border-width").pfValue,ve=s.pstyle("text-background-padding").pfValue;if(Te>0||Se>0&&me>0){var Re=M-ve;switch(ce){case"left":Re-=Y;break;case"center":Re-=Y/2}var Oe=D-Q-ve,Ee=Y+2*ve,He=Q+2*ve;if(Te>0){var Ae=u.fillStyle,Qe=s.pstyle("text-background-color").value;u.fillStyle="rgba("+Qe[0]+","+Qe[1]+","+Qe[2]+","+Te*w+")",0===s.pstyle("text-background-shape").strValue.indexOf("round")?function eb(u,s,l,d,f){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;u.beginPath(),u.moveTo(s+p,l),u.lineTo(s+d-p,l),u.quadraticCurveTo(s+d,l,s+d,l+p),u.lineTo(s+d,l+f-p),u.quadraticCurveTo(s+d,l+f,s+d-p,l+f),u.lineTo(s+p,l+f),u.quadraticCurveTo(s,l+f,s,l+f-p),u.lineTo(s,l+p),u.quadraticCurveTo(s,l,s+p,l),u.closePath(),u.fill()}(u,Re,Oe,Ee,He,2):u.fillRect(Re,Oe,Ee,He),u.fillStyle=Ae}if(Se>0&&me>0){var We=u.strokeStyle,nt=u.lineWidth,st=s.pstyle("text-border-color").value,dt=s.pstyle("text-border-style").value;if(u.strokeStyle="rgba("+st[0]+","+st[1]+","+st[2]+","+me*w+")",u.lineWidth=Se,u.setLineDash)switch(dt){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"double":u.lineWidth=Se/4,u.setLineDash([]);break;case"solid":u.setLineDash([])}if(u.strokeRect(Re,Oe,Ee,He),"double"===dt){var it=Se/2;u.strokeRect(Re+it,Oe+it,Ee-2*it,He-2*it)}u.setLineDash&&u.setLineDash([]),u.lineWidth=nt,u.strokeStyle=We}}var rt=2*s.pstyle("text-outline-width").pfValue;if(rt>0&&(u.lineWidth=rt),"wrap"===s.pstyle("text-wrap").value){var Et=As(m,"labelWrapCachedLines",l),St=As(m,"labelLineHeight",l),yt=Y/2,gt=this.getLabelJustification(s);switch("auto"===gt||("left"===ce?"left"===gt?M+=-Y:"center"===gt&&(M+=-yt):"center"===ce?"left"===gt?M+=-yt:"right"===gt&&(M+=yt):"right"===ce&&("center"===gt?M+=yt:"right"===gt&&(M+=Y))),pe){case"top":case"center":case"bottom":D-=(Et.length-1)*St}for(var tt=0;tt<Et.length;tt++)rt>0&&u.strokeText(Et[tt],M,D),u.fillText(Et[tt],M,D),D+=St}else rt>0&&u.strokeText(z,M,D),u.fillText(z,M,D);0!==ke&&(u.rotate(-ke),u.translate(-I,-L))}}}},al={drawNode:function(u,s,l){var w,M,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],m=this,D=s._private,I=D.rscratch,L=s.position();if(ge(L.x)&&ge(L.y)&&(!p||s.visible())){var Y,oe,z=p?s.effectiveOpacity():1,W=m.usePaths(),Q=!1,ne=s.padding();w=s.width()+2*ne,M=s.height()+2*ne,l&&u.translate(-(oe=l).x1,-oe.y1);for(var ce=s.pstyle("background-image").value,pe=new Array(ce.length),ke=new Array(ce.length),Te=0,me=0;me<ce.length;me++){var Se=ce[me];if(pe[me]=null!=Se&&"none"!==Se){var Re=s.cy().style().getIndexedStyle(s,"background-image-crossorigin","value",me);Te++,ke[me]=m.getCachedImage(Se,Re,function(){D.backgroundTimestamp=Date.now(),s.emitAndNotify("background")})}}var Oe=s.pstyle("background-blacken").value,Ee=s.pstyle("border-width").pfValue,He=s.pstyle("background-opacity").value*z,Ae=s.pstyle("border-color").value,Qe=s.pstyle("border-style").value,Ge=s.pstyle("border-opacity").value*z;u.lineJoin="miter";var We=function(){m.eleFillStyle(u,s,arguments.length>0&&void 0!==arguments[0]?arguments[0]:He)},nt=function(){m.colorStrokeStyle(u,Ae[0],Ae[1],Ae[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge)},st=s.pstyle("shape").strValue,dt=s.pstyle("shape-polygon-points").pfValue;if(W){u.translate(L.x,L.y);var it=m.nodePathCache=m.nodePathCache||[],rt=$h("polygon"===st?st+","+dt.join(","):st,""+M,""+w),Et=it[rt];null!=Et?(Q=!0,I.pathCache=Y=Et):(Y=new Path2D,it[rt]=I.pathCache=Y)}var St=function(){if(!Q){var Gt=L;W&&(Gt={x:0,y:0}),m.nodeShapes[m.getNodeShape(s)].draw(Y||u,Gt.x,Gt.y,w,M)}W?u.fill(Y):u.fill()},yt=function(){for(var Gt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,fn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Zn=D.backgrounding,Nn=0,yn=0;yn<ke.length;yn++){var Rt=s.cy().style().getIndexedStyle(s,"background-image-containment","value",yn);fn&&"over"===Rt||!fn&&"inside"===Rt?Nn++:pe[yn]&&ke[yn].complete&&!ke[yn].error&&(Nn++,m.drawInscribedImage(u,ke[yn],s,yn,Gt))}D.backgrounding=Nn!==Te,Zn!==D.backgrounding&&s.updateStyle(!1)},gt=function(){var Gt=arguments.length>0&&void 0!==arguments[0]&&arguments[0],fn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;m.hasPie(s)&&(m.drawPie(u,s,fn),Gt&&(W||m.nodeShapes[m.getNodeShape(s)].draw(u,L.x,L.y,w,M)))},tt=function(){var Zn=Oe>0?0:255;0!==Oe&&(m.colorFillStyle(u,Zn,Zn,Zn,(Oe>0?Oe:-Oe)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:z)),W?u.fill(Y):u.fill())},Ct=function(){if(Ee>0){if(u.lineWidth=Ee,u.lineCap="butt",u.setLineDash)switch(Qe){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"solid":case"double":u.setLineDash([])}if(W?u.stroke(Y):u.stroke(),"double"===Qe){u.lineWidth=Ee/3;var Gt=u.globalCompositeOperation;u.globalCompositeOperation="destination-out",W?u.stroke(Y):u.stroke(),u.globalCompositeOperation=Gt}u.setLineDash&&u.setLineDash([])}};if("yes"===s.pstyle("ghost").value){var Ln=s.pstyle("ghost-offset-x").pfValue,zt=s.pstyle("ghost-offset-y").pfValue,Lt=s.pstyle("ghost-opacity").value,gn=Lt*z;u.translate(Ln,zt),We(Lt*He),St(),yt(gn,!0),nt(Lt*Ge),Ct(),gt(0!==Oe||0!==Ee),yt(gn,!1),tt(gn),u.translate(-Ln,-zt)}W&&u.translate(-L.x,-L.y),f&&m.drawNodeUnderlay(u,s,L,w,M),W&&u.translate(L.x,L.y),We(),St(),yt(z,!0),nt(),Ct(),gt(0!==Oe||0!==Ee),yt(z,!1),tt(),W&&u.translate(-L.x,-L.y),m.drawElementText(u,s,null,d),f&&m.drawNodeOverlay(u,s,L,w,M),l&&u.translate(oe.x1,oe.y1)}}},rh=function(s){if(!["overlay","underlay"].includes(s))throw new Error("Invalid state");return function(l,d,f,p,m){if(d.visible()){var M=d.pstyle("".concat(s,"-padding")).pfValue,D=d.pstyle("".concat(s,"-opacity")).value,I=d.pstyle("".concat(s,"-color")).value,L=d.pstyle("".concat(s,"-shape")).value;if(D>0){if(f=f||d.position(),null==p||null==m){var z=d.padding();p=d.width()+2*z,m=d.height()+2*z}this.colorFillStyle(l,I[0],I[1],I[2],D),this.nodeShapes[L].draw(l,f.x,f.y,p+2*M,m+2*M),l.fill()}}}};al.drawNodeOverlay=rh("overlay"),al.drawNodeUnderlay=rh("underlay"),al.hasPie=function(u){return(u=u[0])._private.hasPie},al.drawPie=function(u,s,l,d){s=s[0],d=d||s.position();var f=s.cy().style(),p=s.pstyle("pie-size"),m=d.x,w=d.y,M=s.width(),D=s.height(),I=Math.min(M,D)/2,L=0;this.usePaths()&&(m=0,w=0),"%"===p.units?I*=p.pfValue:void 0!==p.pfValue&&(I=p.pfValue/2);for(var W=1;W<=f.pieBackgroundN;W++){var Y=s.pstyle("pie-"+W+"-background-size").value,Q=s.pstyle("pie-"+W+"-background-color").value,ne=s.pstyle("pie-"+W+"-background-opacity").value*l,oe=Y/100;oe+L>1&&(oe=1-L);var le=1.5*Math.PI+2*Math.PI*L,pe=le+2*Math.PI*oe;0===Y||L>=1||L+oe>1||(u.beginPath(),u.moveTo(m,w),u.arc(m,w,I,le,pe),u.closePath(),this.colorFillStyle(u,Q[0],Q[1],Q[2],ne),u.fill(),L+=oe)}};for(var Qo={getPixelRatio:function(){var u=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(u.backingStorePixelRatio||u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1)},paintCache:function(u){for(var d,s=this.paintCaches=this.paintCaches||[],l=!0,f=0;f<s.length;f++)if((d=s[f]).context===u){l=!1;break}return l&&s.push(d={context:u}),d},createGradientStyleFor:function(u,s,l,d,f){var p,m=this.usePaths(),w=l.pstyle(s+"-gradient-stop-colors").value,M=l.pstyle(s+"-gradient-stop-positions").pfValue;if("radial-gradient"===d)if(l.isEdge()){var D=l.sourceEndpoint(),I=l.targetEndpoint(),L=l.midpoint(),z=Xr(D,L),W=Xr(I,L);p=u.createRadialGradient(L.x,L.y,0,L.x,L.y,Math.max(z,W))}else{var Y=m?{x:0,y:0}:l.position(),Q=l.paddedWidth(),ne=l.paddedHeight();p=u.createRadialGradient(Y.x,Y.y,0,Y.x,Y.y,Math.max(Q,ne))}else if(l.isEdge()){var oe=l.sourceEndpoint(),le=l.targetEndpoint();p=u.createLinearGradient(oe.x,oe.y,le.x,le.y)}else{var ce=m?{x:0,y:0}:l.position(),Te=l.paddedWidth()/2,me=l.paddedHeight()/2;switch(l.pstyle("background-gradient-direction").value){case"to-bottom":p=u.createLinearGradient(ce.x,ce.y-me,ce.x,ce.y+me);break;case"to-top":p=u.createLinearGradient(ce.x,ce.y+me,ce.x,ce.y-me);break;case"to-left":p=u.createLinearGradient(ce.x+Te,ce.y,ce.x-Te,ce.y);break;case"to-right":p=u.createLinearGradient(ce.x-Te,ce.y,ce.x+Te,ce.y);break;case"to-bottom-right":case"to-right-bottom":p=u.createLinearGradient(ce.x-Te,ce.y-me,ce.x+Te,ce.y+me);break;case"to-top-right":case"to-right-top":p=u.createLinearGradient(ce.x-Te,ce.y+me,ce.x+Te,ce.y-me);break;case"to-bottom-left":case"to-left-bottom":p=u.createLinearGradient(ce.x+Te,ce.y-me,ce.x-Te,ce.y+me);break;case"to-top-left":case"to-left-top":p=u.createLinearGradient(ce.x+Te,ce.y+me,ce.x-Te,ce.y-me)}}if(!p)return null;for(var ve=M.length===w.length,Re=w.length,Oe=0;Oe<Re;Oe++)p.addColorStop(ve?M[Oe]:Oe/(Re-1),"rgba("+w[Oe][0]+","+w[Oe][1]+","+w[Oe][2]+","+f+")");return p},gradientFillStyle:function(u,s,l,d){var f=this.createGradientStyleFor(u,"background",s,l,d);if(!f)return null;u.fillStyle=f},colorFillStyle:function(u,s,l,d,f){u.fillStyle="rgba("+s+","+l+","+d+","+f+")"},eleFillStyle:function(u,s,l){var d=s.pstyle("background-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientFillStyle(u,s,d,l);else{var f=s.pstyle("background-color").value;this.colorFillStyle(u,f[0],f[1],f[2],l)}},gradientStrokeStyle:function(u,s,l,d){var f=this.createGradientStyleFor(u,"line",s,l,d);if(!f)return null;u.strokeStyle=f},colorStrokeStyle:function(u,s,l,d,f){u.strokeStyle="rgba("+s+","+l+","+d+","+f+")"},eleStrokeStyle:function(u,s,l){var d=s.pstyle("line-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientStrokeStyle(u,s,d,l);else{var f=s.pstyle("line-color").value;this.colorStrokeStyle(u,f[0],f[1],f[2],l)}},matchCanvasSize:function(u){var s=this,l=s.data,d=s.findContainerClientCoords(),f=d[2],p=d[3],m=s.getPixelRatio();(u===s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE]||u===s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG])&&(m=s.motionBlurPxRatio);var I,M=f*m,D=p*m;if(M!==s.canvasWidth||D!==s.canvasHeight){s.fontCaches=null;var L=l.canvasContainer;L.style.width=f+"px",L.style.height=p+"px";for(var z=0;z<s.CANVAS_LAYERS;z++)(I=l.canvases[z]).width=M,I.height=D,I.style.width=f+"px",I.style.height=p+"px";for(z=0;z<s.BUFFER_COUNT;z++)(I=l.bufferCanvases[z]).width=M,I.height=D,I.style.width=f+"px",I.style.height=p+"px";s.textureMult=1,m<=1&&(I=l.bufferCanvases[s.TEXTURE_BUFFER],s.textureMult=2,I.width=M*s.textureMult,I.height=D*s.textureMult),s.canvasWidth=M,s.canvasHeight=D}},renderTo:function(u,s,l,d){this.render({forcedContext:u,forcedZoom:s,forcedPan:l,drawAllLayers:!0,forcedPxRatio:d})},render:function(u){var s=(u=u||vd()).forcedContext,l=u.drawAllLayers,d=u.drawOnlyNodeLayer,f=u.forcedZoom,p=u.forcedPan,m=this,w=void 0===u.forcedPxRatio?this.getPixelRatio():u.forcedPxRatio,M=m.cy,D=m.data,I=D.canvasNeedsRedraw,L=m.textureOnViewport&&!s&&(m.pinching||m.hoverData.dragging||m.swipePanning||m.data.wheelZooming),z=void 0!==u.motionBlur?u.motionBlur:m.motionBlur,W=m.motionBlurPxRatio,Y=M.hasCompoundNodes(),Q=m.hoverData.draggingEles,oe=z=z&&!s&&m.motionBlurEnabled&&!(m.hoverData.selecting||m.touchData.selecting);s||(m.prevPxRatio!==w&&(m.invalidateContainerClientCoordsCache(),m.matchCanvasSize(m.container),m.redrawHint("eles",!0),m.redrawHint("drag",!0)),m.prevPxRatio=w),!s&&m.motionBlurTimeout&&clearTimeout(m.motionBlurTimeout),z&&(null==m.mbFrames&&(m.mbFrames=0),m.mbFrames++,m.mbFrames<3&&(oe=!1),m.mbFrames>m.minMbLowQualFrames&&(m.motionBlurPxRatio=m.mbPxRBlurry)),m.clearingMotionBlur&&(m.motionBlurPxRatio=1),m.textureDrawLastFrame&&!L&&(I[m.NODE]=!0,I[m.SELECT_BOX]=!0);var le=M.style(),ce=M.zoom(),pe=void 0!==f?f:ce,ke=M.pan(),Te={x:ke.x,y:ke.y},me={zoom:ce,pan:{x:ke.x,y:ke.y}},Se=m.prevViewport;!(void 0===Se||me.zoom!==Se.zoom||me.pan.x!==Se.pan.x||me.pan.y!==Se.pan.y)&&!(Q&&!Y)&&(m.motionBlurPxRatio=1),p&&(Te=p),pe*=w,Te.x*=w,Te.y*=w;var Re=m.getCachedZSortedEles();function Oe(zt,Lt,gn,ln,Gt){var fn=zt.globalCompositeOperation;zt.globalCompositeOperation="destination-out",m.colorFillStyle(zt,255,255,255,m.motionBlurTransparency),zt.fillRect(Lt,gn,ln,Gt),zt.globalCompositeOperation=fn}function Ee(zt,Lt){var gn,ln,Gt,fn;m.clearingMotionBlur||zt!==D.bufferContexts[m.MOTIONBLUR_BUFFER_NODE]&&zt!==D.bufferContexts[m.MOTIONBLUR_BUFFER_DRAG]?(gn=Te,ln=pe,Gt=m.canvasWidth,fn=m.canvasHeight):(gn={x:ke.x*W,y:ke.y*W},ln=ce*W,Gt=m.canvasWidth*W,fn=m.canvasHeight*W),zt.setTransform(1,0,0,1,0,0),"motionBlur"===Lt?Oe(zt,0,0,Gt,fn):!s&&(void 0===Lt||Lt)&&zt.clearRect(0,0,Gt,fn),l||(zt.translate(gn.x,gn.y),zt.scale(ln,ln)),p&&zt.translate(p.x,p.y),f&&zt.scale(f,f)}if(L||(m.textureDrawLastFrame=!1),L){if(m.textureDrawLastFrame=!0,!m.textureCache){m.textureCache={},m.textureCache.bb=M.mutableElements().boundingBox(),m.textureCache.texture=m.data.bufferCanvases[m.TEXTURE_BUFFER];var He=m.data.bufferContexts[m.TEXTURE_BUFFER];He.setTransform(1,0,0,1,0,0),He.clearRect(0,0,m.canvasWidth*m.textureMult,m.canvasHeight*m.textureMult),m.render({forcedContext:He,drawOnlyNodeLayer:!0,forcedPxRatio:w*m.textureMult}),(me=m.textureCache.viewport={zoom:M.zoom(),pan:M.pan(),width:m.canvasWidth,height:m.canvasHeight}).mpan={x:(0-me.pan.x)/me.zoom,y:(0-me.pan.y)/me.zoom}}I[m.DRAG]=!1,I[m.NODE]=!1;var Qe=m.textureCache.texture;me=m.textureCache.viewport,(Ae=D.contexts[m.NODE]).setTransform(1,0,0,1,0,0),z?Oe(Ae,0,0,me.width,me.height):Ae.clearRect(0,0,me.width,me.height);var Ge=le.core("outside-texture-bg-color").value,We=le.core("outside-texture-bg-opacity").value;m.colorFillStyle(Ae,Ge[0],Ge[1],Ge[2],We),Ae.fillRect(0,0,me.width,me.height),ce=M.zoom(),Ee(Ae,!1),Ae.clearRect(me.mpan.x,me.mpan.y,me.width/me.zoom/w,me.height/me.zoom/w),Ae.drawImage(Qe,me.mpan.x,me.mpan.y,me.width/me.zoom/w,me.height/me.zoom/w)}else m.textureOnViewport&&!s&&(m.textureCache=null);var nt=M.extent(),st=m.pinching||m.hoverData.dragging||m.swipePanning||m.data.wheelZooming||m.hoverData.draggingEles||m.cy.animated(),dt=m.hideEdgesOnViewport&&st,it=[];if(it[m.NODE]=!I[m.NODE]&&z&&!m.clearedForMotionBlur[m.NODE]||m.clearingMotionBlur,it[m.NODE]&&(m.clearedForMotionBlur[m.NODE]=!0),it[m.DRAG]=!I[m.DRAG]&&z&&!m.clearedForMotionBlur[m.DRAG]||m.clearingMotionBlur,it[m.DRAG]&&(m.clearedForMotionBlur[m.DRAG]=!0),I[m.NODE]||l||d||it[m.NODE]){var rt=z&&!it[m.NODE]&&1!==W;Ee(Ae=s||(rt?m.data.bufferContexts[m.MOTIONBLUR_BUFFER_NODE]:D.contexts[m.NODE]),z&&!rt?"motionBlur":void 0),dt?m.drawCachedNodes(Ae,Re.nondrag,w,nt):m.drawLayeredElements(Ae,Re.nondrag,w,nt),m.debug&&m.drawDebugPoints(Ae,Re.nondrag),!l&&!z&&(I[m.NODE]=!1)}if(!d&&(I[m.DRAG]||l||it[m.DRAG])&&(rt=z&&!it[m.DRAG]&&1!==W,Ee(Ae=s||(rt?m.data.bufferContexts[m.MOTIONBLUR_BUFFER_DRAG]:D.contexts[m.DRAG]),z&&!rt?"motionBlur":void 0),dt?m.drawCachedNodes(Ae,Re.drag,w,nt):m.drawCachedElements(Ae,Re.drag,w,nt),m.debug&&m.drawDebugPoints(Ae,Re.drag),!l&&!z&&(I[m.DRAG]=!1)),m.showFps||!d&&I[m.SELECT_BOX]&&!l){var Ae;if(Ee(Ae=s||D.contexts[m.SELECT_BOX]),1==m.selection[4]&&(m.hoverData.selecting||m.touchData.selecting)){ce=m.cy.zoom();var St=le.core("selection-box-border-width").value/ce;Ae.lineWidth=St,Ae.fillStyle="rgba("+le.core("selection-box-color").value[0]+","+le.core("selection-box-color").value[1]+","+le.core("selection-box-color").value[2]+","+le.core("selection-box-opacity").value+")",Ae.fillRect(m.selection[0],m.selection[1],m.selection[2]-m.selection[0],m.selection[3]-m.selection[1]),St>0&&(Ae.strokeStyle="rgba("+le.core("selection-box-border-color").value[0]+","+le.core("selection-box-border-color").value[1]+","+le.core("selection-box-border-color").value[2]+","+le.core("selection-box-opacity").value+")",Ae.strokeRect(m.selection[0],m.selection[1],m.selection[2]-m.selection[0],m.selection[3]-m.selection[1]))}if(D.bgActivePosistion&&!m.hoverData.selecting){ce=m.cy.zoom();var yt=D.bgActivePosistion;Ae.fillStyle="rgba("+le.core("active-bg-color").value[0]+","+le.core("active-bg-color").value[1]+","+le.core("active-bg-color").value[2]+","+le.core("active-bg-opacity").value+")",Ae.beginPath(),Ae.arc(yt.x,yt.y,le.core("active-bg-size").pfValue/ce,0,2*Math.PI),Ae.fill()}var gt=m.lastRedrawTime;if(m.showFps&&gt){gt=Math.round(gt);var tt=Math.round(1e3/gt);Ae.setTransform(1,0,0,1,0,0),Ae.fillStyle="rgba(255, 0, 0, 0.75)",Ae.strokeStyle="rgba(255, 0, 0, 0.75)",Ae.lineWidth=1,Ae.fillText("1 frame = "+gt+" ms = "+tt+" fps",0,20),Ae.strokeRect(0,30,250,20),Ae.fillRect(0,30,250*Math.min(tt/60,1),20)}l||(I[m.SELECT_BOX]=!1)}if(z&&1!==W){var Vt=D.contexts[m.DRAG],Cn=m.data.bufferCanvases[m.MOTIONBLUR_BUFFER_DRAG],Ln=function(Lt,gn,ln){Lt.setTransform(1,0,0,1,0,0),ln||!oe?Lt.clearRect(0,0,m.canvasWidth,m.canvasHeight):Oe(Lt,0,0,m.canvasWidth,m.canvasHeight),Lt.drawImage(gn,0,0,m.canvasWidth*W,m.canvasHeight*W,0,0,m.canvasWidth,m.canvasHeight)};(I[m.NODE]||it[m.NODE])&&(Ln(D.contexts[m.NODE],m.data.bufferCanvases[m.MOTIONBLUR_BUFFER_NODE],it[m.NODE]),I[m.NODE]=!1),(I[m.DRAG]||it[m.DRAG])&&(Ln(Vt,Cn,it[m.DRAG]),I[m.DRAG]=!1)}m.prevViewport=me,m.clearingMotionBlur&&(m.clearingMotionBlur=!1,m.motionBlurCleared=!0,m.motionBlur=!0),z&&(m.motionBlurTimeout=setTimeout(function(){m.motionBlurTimeout=null,m.clearedForMotionBlur[m.NODE]=!1,m.clearedForMotionBlur[m.DRAG]=!1,m.motionBlur=!1,m.clearingMotionBlur=!L,m.mbFrames=0,I[m.NODE]=!0,I[m.DRAG]=!0,m.redraw()},100)),s||M.emit("render")}},Sa={drawPolygonPath:function(u,s,l,d,f,p){var m=d/2,w=f/2;u.beginPath&&u.beginPath(),u.moveTo(s+m*p[0],l+w*p[1]);for(var M=1;M<p.length/2;M++)u.lineTo(s+m*p[2*M],l+w*p[2*M+1]);u.closePath()},drawRoundPolygonPath:function(u,s,l,d,f,p){var m=d/2,w=f/2,M=xt(d,f);u.beginPath&&u.beginPath();for(var D=0;D<p.length/4;D++){var L,I;I=0===D?p.length-2:4*D-2,L=4*D+2;var z=s+m*p[4*D],W=l+w*p[4*D+1],Q=M/Math.tan(Math.acos(-p[I]*p[L]-p[I+1]*p[L+1])/2),ne=z-Q*p[I],oe=W-Q*p[I+1],le=z+Q*p[L],ce=W+Q*p[L+1];0===D?u.moveTo(ne,oe):u.lineTo(ne,oe),u.arcTo(z,W,le,ce,M)}u.closePath()},drawRoundRectanglePath:function(u,s,l,d,f){var p=d/2,m=f/2,w=Ed(d,f);u.beginPath&&u.beginPath(),u.moveTo(s,l-m),u.arcTo(s+p,l-m,s+p,l,w),u.arcTo(s+p,l+m,s,l+m,w),u.arcTo(s-p,l+m,s-p,l,w),u.arcTo(s-p,l-m,s,l-m,w),u.lineTo(s,l-m),u.closePath()},drawBottomRoundRectanglePath:function(u,s,l,d,f){var p=d/2,m=f/2,w=Ed(d,f);u.beginPath&&u.beginPath(),u.moveTo(s,l-m),u.lineTo(s+p,l-m),u.lineTo(s+p,l),u.arcTo(s+p,l+m,s,l+m,w),u.arcTo(s-p,l+m,s-p,l,w),u.lineTo(s-p,l-m),u.lineTo(s,l-m),u.closePath()},drawCutRectanglePath:function(u,s,l,d,f){var p=d/2,m=f/2;u.beginPath&&u.beginPath(),u.moveTo(s-p+8,l-m),u.lineTo(s+p-8,l-m),u.lineTo(s+p,l-m+8),u.lineTo(s+p,l+m-8),u.lineTo(s+p-8,l+m),u.lineTo(s-p+8,l+m),u.lineTo(s-p,l+m-8),u.lineTo(s-p,l-m+8),u.closePath()},drawBarrelPath:function(u,s,l,d,f){var p=d/2,m=f/2,w=s-p,M=s+p,D=l-m,I=l+m,L=cu(d,f),z=L.widthOffset,W=L.heightOffset,Y=L.ctrlPtOffsetPct*z;u.beginPath&&u.beginPath(),u.moveTo(w,D+W),u.lineTo(w,I-W),u.quadraticCurveTo(w+Y,I,w+z,I),u.lineTo(M-z,I),u.quadraticCurveTo(M-Y,I,M,I-W),u.lineTo(M,D+W),u.quadraticCurveTo(M-Y,D,M-z,D),u.lineTo(w+z,D),u.quadraticCurveTo(w+Y,D,w,D+W),u.closePath()}},Mf=Math.sin(0),Ru=Math.cos(0),qm={},Tf={},tb=Math.PI/40,Pu=0*Math.PI;Pu<2*Math.PI;Pu+=tb)qm[Pu]=Math.sin(Pu),Tf[Pu]=Math.cos(Pu);Sa.drawEllipsePath=function(u,s,l,d,f){if(u.beginPath&&u.beginPath(),u.ellipse)u.ellipse(s,l,d/2,f/2,0,0,2*Math.PI);else for(var p,m,w=d/2,M=f/2,D=0*Math.PI;D<2*Math.PI;D+=tb)p=s-w*qm[D]*Mf+w*Tf[D]*Ru,m=l+M*Tf[D]*Mf+M*qm[D]*Ru,0===D?u.moveTo(p,m):u.lineTo(p,m);u.closePath()};var ih={};function Zm(u){var s=u.indexOf(",");return u.substr(s+1)}function oh(u,s,l){var d=function(){return s.toDataURL(l,u.quality)};switch(u.output){case"blob-promise":return new Id(function(f,p){try{s.toBlob(function(m){null!=m?f(m):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},l,u.quality)}catch(m){p(m)}});case"blob":return function nb(u,s){for(var l=atob(u),d=new ArrayBuffer(l.length),f=new Uint8Array(d),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);return new Blob([d],{type:s})}(Zm(d()),l);case"base64":return Zm(d());default:return d()}}ih.createBuffer=function(u,s){var l=document.createElement("canvas");return l.width=u,l.height=s,[l,l.getContext("2d")]},ih.bufferCanvasImage=function(u){var s=this.cy,d=s.mutableElements().boundingBox(),f=this.findContainerClientCoords(),p=u.full?Math.ceil(d.w):f[2],m=u.full?Math.ceil(d.h):f[3],w=ge(u.maxWidth)||ge(u.maxHeight),M=this.getPixelRatio(),D=1;if(void 0!==u.scale)p*=u.scale,m*=u.scale,D=u.scale;else if(w){var I=1/0,L=1/0;ge(u.maxWidth)&&(I=D*u.maxWidth/p),ge(u.maxHeight)&&(L=D*u.maxHeight/m),p*=D=Math.min(I,L),m*=D}w||(p*=M,m*=M,D*=M);var z=document.createElement("canvas");z.width=p,z.height=m,z.style.width=p+"px",z.style.height=m+"px";var W=z.getContext("2d");if(p>0&&m>0){W.clearRect(0,0,p,m),W.globalCompositeOperation="source-over";var Y=this.getCachedZSortedEles();if(u.full)W.translate(-d.x1*D,-d.y1*D),W.scale(D,D),this.drawElements(W,Y),W.scale(1/D,1/D),W.translate(d.x1*D,d.y1*D);else{var Q=s.pan(),ne={x:Q.x*D,y:Q.y*D};D*=s.zoom(),W.translate(ne.x,ne.y),W.scale(D,D),this.drawElements(W,Y),W.scale(1/D,1/D),W.translate(-ne.x,-ne.y)}u.bg&&(W.globalCompositeOperation="destination-over",W.fillStyle=u.bg,W.rect(0,0,p,m),W.fill())}return z},ih.png=function(u){return oh(u,this.bufferCanvasImage(u),"image/png")},ih.jpg=function(u){return oh(u,this.bufferCanvasImage(u),"image/jpeg")};var Fc=rb,kr=rb.prototype;function rb(u){var s=this;s.data={canvases:new Array(kr.CANVAS_LAYERS),contexts:new Array(kr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(kr.CANVAS_LAYERS),bufferCanvases:new Array(kr.BUFFER_COUNT),bufferContexts:new Array(kr.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",d="rgba(0,0,0,0)";s.data.canvasContainer=document.createElement("div");var f=s.data.canvasContainer.style;s.data.canvasContainer.style[l]=d,f.position="relative",f.zIndex="0",f.overflow="hidden";var p=u.cy.container();p.appendChild(s.data.canvasContainer),p.style[l]=d;var m={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};pt()&&(m["-ms-touch-action"]="none",m["touch-action"]="none");for(var w=0;w<kr.CANVAS_LAYERS;w++){var M=s.data.canvases[w]=document.createElement("canvas");s.data.contexts[w]=M.getContext("2d"),Object.keys(m).forEach(function(gt){M.style[gt]=m[gt]}),M.style.position="absolute",M.setAttribute("data-id","layer"+w),M.style.zIndex=String(kr.CANVAS_LAYERS-w),s.data.canvasContainer.appendChild(M),s.data.canvasNeedsRedraw[w]=!1}for(s.data.topCanvas=s.data.canvases[0],s.data.canvases[kr.NODE].setAttribute("data-id","layer"+kr.NODE+"-node"),s.data.canvases[kr.SELECT_BOX].setAttribute("data-id","layer"+kr.SELECT_BOX+"-selectbox"),s.data.canvases[kr.DRAG].setAttribute("data-id","layer"+kr.DRAG+"-drag"),w=0;w<kr.BUFFER_COUNT;w++)s.data.bufferCanvases[w]=document.createElement("canvas"),s.data.bufferContexts[w]=s.data.bufferCanvases[w].getContext("2d"),s.data.bufferCanvases[w].style.position="absolute",s.data.bufferCanvases[w].setAttribute("data-id","buffer"+w),s.data.bufferCanvases[w].style.zIndex=String(-w-1),s.data.bufferCanvases[w].style.visibility="hidden";s.pathsEnabled=!0;var D=Zr(),L=function(tt){return{x:-tt.w/2,y:-tt.h/2}},ke=function(tt){return tt.boundingBox(),tt[0]._private.bodyBounds},Te=function(tt){return tt.boundingBox(),tt[0]._private.labelBounds.main||D},me=function(tt){return tt.boundingBox(),tt[0]._private.labelBounds.source||D},Se=function(tt){return tt.boundingBox(),tt[0]._private.labelBounds.target||D},ve=function(tt,Ct){return Ct},Oe=function(tt,Ct,Mt){var Pt=tt?tt+"-":"";return{x:Ct.x+Mt.pstyle(Pt+"text-margin-x").pfValue,y:Ct.y+Mt.pstyle(Pt+"text-margin-y").pfValue}},Ee=function(tt,Ct,Mt){var Pt=tt[0]._private.rscratch;return{x:Pt[Ct],y:Pt[Mt]}},dt=s.data.eleTxrCache=new Nc(s,{getKey:function(tt){return tt[0]._private.nodeKey},doesEleInvalidateKey:function(tt){var Ct=tt[0]._private;return!(Ct.oldBackgroundTimestamp===Ct.backgroundTimestamp)},drawElement:function(tt,Ct,Mt,Pt,Vt){return s.drawElement(tt,Ct,Mt,!1,!1,Vt)},getBoundingBox:ke,getRotationPoint:function(tt){return function(tt){return{x:(tt.x1+tt.x2)/2,y:(tt.y1+tt.y2)/2}}(ke(tt))},getRotationOffset:function(tt){return L(ke(tt))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),it=s.data.lblTxrCache=new Nc(s,{getKey:function(tt){return tt[0]._private.labelStyleKey},drawElement:function(tt,Ct,Mt,Pt,Vt){return s.drawElementText(tt,Ct,Mt,Pt,"main",Vt)},getBoundingBox:Te,getRotationPoint:function(tt){return Oe("",Ee(tt,"labelX","labelY"),tt)},getRotationOffset:function(tt){var Ct=Te(tt),Mt=L(Te(tt));if(tt.isNode()){switch(tt.pstyle("text-halign").value){case"left":Mt.x=-Ct.w;break;case"right":Mt.x=0}switch(tt.pstyle("text-valign").value){case"top":Mt.y=-Ct.h;break;case"bottom":Mt.y=0}}return Mt},isVisible:ve}),rt=s.data.slbTxrCache=new Nc(s,{getKey:function(tt){return tt[0]._private.sourceLabelStyleKey},drawElement:function(tt,Ct,Mt,Pt,Vt){return s.drawElementText(tt,Ct,Mt,Pt,"source",Vt)},getBoundingBox:me,getRotationPoint:function(tt){return Oe("source",Ee(tt,"sourceLabelX","sourceLabelY"),tt)},getRotationOffset:function(tt){return L(me(tt))},isVisible:ve}),Et=s.data.tlbTxrCache=new Nc(s,{getKey:function(tt){return tt[0]._private.targetLabelStyleKey},drawElement:function(tt,Ct,Mt,Pt,Vt){return s.drawElementText(tt,Ct,Mt,Pt,"target",Vt)},getBoundingBox:Se,getRotationPoint:function(tt){return Oe("target",Ee(tt,"targetLabelX","targetLabelY"),tt)},getRotationOffset:function(tt){return L(Se(tt))},isVisible:ve}),St=s.data.lyrTxrCache=new Wy(s);s.onUpdateEleCalcs(function(tt,Ct){dt.invalidateElements(Ct),it.invalidateElements(Ct),rt.invalidateElements(Ct),Et.invalidateElements(Ct),St.invalidateElements(Ct);for(var Mt=0;Mt<Ct.length;Mt++){var Pt=Ct[Mt]._private;Pt.oldBackgroundTimestamp=Pt.backgroundTimestamp}});var yt=function(tt){for(var Ct=0;Ct<tt.length;Ct++)St.enqueueElementRefinement(tt[Ct].ele)};dt.onDequeue(yt),it.onDequeue(yt),rt.onDequeue(yt),Et.onDequeue(yt)}kr.CANVAS_LAYERS=3,kr.SELECT_BOX=0,kr.DRAG=1,kr.NODE=2,kr.BUFFER_COUNT=3,kr.TEXTURE_BUFFER=0,kr.MOTIONBLUR_BUFFER_NODE=1,kr.MOTIONBLUR_BUFFER_DRAG=2,kr.redrawHint=function(u,s){var l=this;switch(u){case"eles":l.data.canvasNeedsRedraw[kr.NODE]=s;break;case"drag":l.data.canvasNeedsRedraw[kr.DRAG]=s;break;case"select":l.data.canvasNeedsRedraw[kr.SELECT_BOX]=s}};var vk=typeof Path2D<"u";kr.path2dEnabled=function(u){if(void 0===u)return this.pathsEnabled;this.pathsEnabled=!!u},kr.usePaths=function(){return vk&&this.pathsEnabled},kr.setImgSmoothing=function(u,s){null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled=s:(u.webkitImageSmoothingEnabled=s,u.mozImageSmoothingEnabled=s,u.msImageSmoothingEnabled=s)},kr.getImgSmoothing=function(u){return null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled:u.webkitImageSmoothingEnabled||u.mozImageSmoothingEnabled||u.msImageSmoothingEnabled},kr.makeOffscreenCanvas=function(u,s){var l;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":F(OffscreenCanvas))?l=new OffscreenCanvas(u,s):((l=document.createElement("canvas")).width=u,l.height=s),l},[Df,Co,Da,kf,sl,al,Qo,Sa,ih,{nodeShapeImpl:function(u,s,l,d,f,p,m){switch(u){case"ellipse":return this.drawEllipsePath(s,l,d,f,p);case"polygon":return this.drawPolygonPath(s,l,d,f,p,m);case"round-polygon":return this.drawRoundPolygonPath(s,l,d,f,p,m);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(s,l,d,f,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(s,l,d,f,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(s,l,d,f,p);case"barrel":return this.drawBarrelPath(s,l,d,f,p)}}}].forEach(function(u){nn(kr,u)});var Qm=[{type:"layout",extensions:xf},{type:"renderer",extensions:[{name:"null",impl:Am},{name:"base",impl:Nm},{name:"canvas",impl:Fc}]}],ib={},Jm={};function sh(u,s,l){var d=l,f=function(Se){Dr("Can not register `"+s+"` for `"+u+"` since `"+Se+"` already exists in the prototype and can not be overridden")};if("core"===u){if(Su.prototype[s])return f(s);Su.prototype[s]=l}else if("collection"===u){if(Yi.prototype[s])return f(s);Yi.prototype[s]=l}else if("layout"===u){for(var p=function(Se){this.options=Se,l.call(this,Se),_e(this._private)||(this._private={}),this._private.cy=Se.cy,this._private.listeners=[],this.createEmitter()},m=p.prototype=Object.create(l.prototype),w=[],M=0;M<w.length;M++){var D=w[M];m[D]=m[D]||function(){return this}}m.start&&!m.run?m.run=function(){return this.start(),this}:!m.start&&m.run&&(m.start=function(){return this.run(),this});var I=l.prototype.stop;m.stop=function(){var me=this.options;if(me&&me.animate){var Se=this.animations;if(Se)for(var ve=0;ve<Se.length;ve++)Se[ve].stop()}return I?I.call(this):this.emit("layoutstop"),this},m.destroy||(m.destroy=function(){return this}),m.cy=function(){return this._private.cy};var L=function(Se){return Se._private.cy},z={addEventFields:function(Se,ve){ve.layout=Se,ve.cy=L(Se),ve.target=Se},bubble:function(){return!0},parent:function(Se){return L(Se)}};nn(m,{createEmitter:function(){return this._private.emitter=new Ud(z,this),this},emitter:function(){return this._private.emitter},on:function(Se,ve){return this.emitter().on(Se,ve),this},one:function(Se,ve){return this.emitter().one(Se,ve),this},once:function(Se,ve){return this.emitter().one(Se,ve),this},removeListener:function(Se,ve){return this.emitter().removeListener(Se,ve),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Se,ve){return this.emitter().emit(Se,ve),this}}),Fr.eventAliasesOn(m),d=p}else if("renderer"===u&&"null"!==s&&"base"!==s){var W=If("renderer","base"),Y=W.prototype,Q=l,ne=l.prototype,oe=function(){W.apply(this,arguments),Q.apply(this,arguments)},le=oe.prototype;for(var ce in Y){var pe=Y[ce];if(null!=ne[ce])return f(ce);le[ce]=pe}for(var Te in ne)le[Te]=ne[Te];Y.clientFunctions.forEach(function(me){le[me]=le[me]||function(){Br("Renderer does not implement `renderer."+me+"()` on its prototype")}}),d=oe}else if("__proto__"===u||"constructor"===u||"prototype"===u)return Br(u+" is an illegal type to be registered, possibly lead to prototype pollutions");return Io({map:ib,keys:[u,s],value:d})}function If(u,s){return vo({map:ib,keys:[u,s]})}function ob(u,s,l,d,f){return Io({map:Jm,keys:[u,s,l,d],value:f})}function sb(u,s,l,d){return vo({map:Jm,keys:[u,s,l,d]})}var Of=function(){return 2===arguments.length?If.apply(null,arguments):3===arguments.length?sh.apply(null,arguments):4===arguments.length?sb.apply(null,arguments):5===arguments.length?ob.apply(null,arguments):void Br("Invalid extension access syntax")};Su.prototype.extension=Of,Qm.forEach(function(u){u.extensions.forEach(function(s){sh(u.type,s.name,s.impl)})});var $l=function u(){if(!(this instanceof u))return new u;this.length=0},Lc=$l.prototype;Lc.instanceString=function(){return"stylesheet"},Lc.selector=function(u){return this[this.length++]={selector:u,properties:[]},this},Lc.css=function(u,s){var l=this.length-1;if(fe(u))this[l].properties.push({name:u,value:s});else if(_e(u))for(var d=u,f=Object.keys(d),p=0;p<f.length;p++){var m=f[p],w=d[m];if(null!=w){var M=vr.properties[m]||vr.properties[Ht(m)];null!=M&&this[l].properties.push({name:M.name,value:w})}}return this},Lc.style=Lc.css,Lc.generateStyle=function(u){var s=new vr(u);return this.appendToStyle(s)},Lc.appendToStyle=function(u){for(var s=0;s<this.length;s++){var l=this[s],f=l.properties;u.selector(l.selector);for(var p=0;p<f.length;p++){var m=f[p];u.css(m.name,m.value)}}return u};var Bc=function(s){return void 0===s&&(s={}),_e(s)?new Su(s):fe(s)?Of.apply(Of,arguments):void 0};Bc.use=function(u){var s=Array.prototype.slice.call(arguments,1);return s.unshift(Bc),u.apply(null,s),this},Bc.warnings=function(u){return Xp(u)},Bc.version="3.23.0",Bc.stylesheet=Bc.Stylesheet=$l,j.exports=Bc},9695:(j,ee,v)=>{j.exports={graphlib:v(6456),layout:v(4850),debug:v(1914),util:{time:v(1510).time,notime:v(1510).notime},version:v(8126)}},2234:(j,ee,v)=>{"use strict";var _=v(5760),T=v(7365);j.exports={run:function x(b){var k="greedy"===b.graph().acyclicer?T(b,function S(P){return function(R){return P.edge(R).weight}}(b)):function E(b){var k=[],S={},P={};return _.forEach(b.nodes(),function R(A){_.has(P,A)||(P[A]=!0,S[A]=!0,_.forEach(b.outEdges(A),function(F){_.has(S,F.w)?k.push(F):R(F.w)}),delete S[A])}),k}(b);_.forEach(k,function(P){var R=b.edge(P);b.removeEdge(P),R.forwardName=P.name,R.reversed=!0,b.setEdge(P.w,P.v,R,_.uniqueId("rev"))})},undo:function C(b){_.forEach(b.edges(),function(k){var S=b.edge(k);if(S.reversed){b.removeEdge(k);var P=S.forwardName;delete S.reversed,delete S.forwardName,b.setEdge(k.w,k.v,S,P)}})}}},9999:(j,ee,v)=>{var _=v(5760),T=v(1510);function E(C,b,k,S,P,R){var F=P[b][R-1],N=T.addDummyNode(C,"border",{width:0,height:0,rank:R,borderType:b},k);P[b][R]=N,C.setParent(N,S),F&&C.setEdge(F,N,{weight:1})}j.exports=function x(C){_.forEach(C.children(),function b(k){var S=C.children(k),P=C.node(k);if(S.length&&_.forEach(S,b),_.has(P,"minRank")){P.borderLeft=[],P.borderRight=[];for(var R=P.minRank,A=P.maxRank+1;R<A;++R)E(C,"borderLeft","_bl",k,P,R),E(C,"borderRight","_br",k,P,R)}})}},3870:(j,ee,v)=>{"use strict";var _=v(5760);function E(R){_.forEach(R.nodes(),function(A){C(R.node(A))}),_.forEach(R.edges(),function(A){C(R.edge(A))})}function C(R){var A=R.width;R.width=R.height,R.height=A}function k(R){R.y=-R.y}function P(R){var A=R.x;R.x=R.y,R.y=A}j.exports={adjust:function T(R){var A=R.graph().rankdir.toLowerCase();("lr"===A||"rl"===A)&&E(R)},undo:function x(R){var A=R.graph().rankdir.toLowerCase();("bt"===A||"rl"===A)&&function b(R){_.forEach(R.nodes(),function(A){k(R.node(A))}),_.forEach(R.edges(),function(A){var F=R.edge(A);_.forEach(F.points,k),_.has(F,"y")&&k(F)})}(R),("lr"===A||"rl"===A)&&(function S(R){_.forEach(R.nodes(),function(A){P(R.node(A))}),_.forEach(R.edges(),function(A){var F=R.edge(A);_.forEach(F.points,P),_.has(F,"x")&&P(F)})}(R),E(R))}}},3226:j=>{function ee(){var T={};T._next=T._prev=T,this._sentinel=T}function v(T){T._prev._next=T._next,T._next._prev=T._prev,delete T._next,delete T._prev}function _(T,x){if("_next"!==T&&"_prev"!==T)return x}j.exports=ee,ee.prototype.dequeue=function(){var T=this._sentinel,x=T._prev;if(x!==T)return v(x),x},ee.prototype.enqueue=function(T){var x=this._sentinel;T._prev&&T._next&&v(T),T._next=x._next,x._next._prev=T,x._next=T,T._prev=x},ee.prototype.toString=function(){for(var T=[],x=this._sentinel,E=x._prev;E!==x;)T.push(JSON.stringify(E,_)),E=E._prev;return"["+T.join(", ")+"]"}},1914:(j,ee,v)=>{var _=v(5760),T=v(1510),x=v(6456).Graph;j.exports={debugOrdering:function E(C){var b=T.buildLayerMatrix(C),k=new x({compound:!0,multigraph:!0}).setGraph({});return _.forEach(C.nodes(),function(S){k.setNode(S,{label:S}),k.setParent(S,"layer"+C.node(S).rank)}),_.forEach(C.edges(),function(S){k.setEdge(S.v,S.w,{},S.name)}),_.forEach(b,function(S,P){k.setNode("layer"+P,{rank:"same"}),_.reduce(S,function(A,F){return k.setEdge(A,F,{style:"invis"}),F})}),k}}},6456:(j,ee,v)=>{var _;try{_=v(5510)}catch{}_||(_=window.graphlib),j.exports=_},7365:(j,ee,v)=>{var _=v(5760),T=v(6456).Graph,x=v(3226);j.exports=function C(R,A){if(R.nodeCount()<=1)return[];var F=function S(R,A){var F=new T,N=0,B=0;_.forEach(R.nodes(),function(Z){F.setNode(Z,{v:Z,in:0,out:0})}),_.forEach(R.edges(),function(Z){var X=F.edge(Z.v,Z.w)||0,ie=A(Z);F.setEdge(Z.v,Z.w,X+ie),B=Math.max(B,F.node(Z.v).out+=ie),N=Math.max(N,F.node(Z.w).in+=ie)});var J=_.range(B+N+3).map(function(){return new x}),U=N+1;return _.forEach(F.nodes(),function(Z){P(J,U,F.node(Z))}),{graph:F,buckets:J,zeroIdx:U}}(R,A||E),N=function b(R,A,F){for(var U,N=[],B=A[A.length-1],J=A[0];R.nodeCount();){for(;U=J.dequeue();)k(R,A,F,U);for(;U=B.dequeue();)k(R,A,F,U);if(R.nodeCount())for(var Z=A.length-2;Z>0;--Z)if(U=A[Z].dequeue()){N=N.concat(k(R,A,F,U,!0));break}}return N}(F.graph,F.buckets,F.zeroIdx);return _.flatten(_.map(N,function(B){return R.outEdges(B.v,B.w)}),!0)};var E=_.constant(1);function k(R,A,F,N,B){var J=B?[]:void 0;return _.forEach(R.inEdges(N.v),function(U){var Z=R.edge(U),X=R.node(U.v);B&&J.push({v:U.v,w:U.w}),X.out-=Z,P(A,F,X)}),_.forEach(R.outEdges(N.v),function(U){var Z=R.edge(U),ie=R.node(U.w);ie.in-=Z,P(A,F,ie)}),R.removeNode(N.v),J}function P(R,A,F){F.out?F.in?R[F.out-F.in+A].enqueue(F):R[R.length-1].enqueue(F):R[0].enqueue(F)}},4850:(j,ee,v)=>{"use strict";var _=v(5760),T=v(2234),x=v(1496),E=v(4124),C=v(1510).normalizeRanks,b=v(162),k=v(1510).removeEmptyRanks,S=v(1230),P=v(9999),R=v(3870),A=v(2974),F=v(8226),N=v(1510),B=v(6456).Graph;j.exports=function J(Be,Le){var Ue=Le&&Le.debugTiming?N.time:N.notime;Ue("layout",function(){var Ne=Ue("  buildLayoutGraph",function(){return function ue(Be){var Le=new B({multigraph:!0,compound:!0}),Ue=Tt(Be.graph());return Le.setGraph(_.merge({},ie,et(Ue,X),_.pick(Ue,te))),_.forEach(Be.nodes(),function(Ne){var ye=Tt(Be.node(Ne));Le.setNode(Ne,_.defaults(et(ye,G),V)),Le.setParent(Ne,Be.parent(Ne))}),_.forEach(Be.edges(),function(Ne){var ye=Tt(Be.edge(Ne));Le.setEdge(Ne,_.merge({},q,et(ye,H),_.pick(ye,ae)))}),Le}(Be)});Ue("  runLayout",function(){!function U(Be,Le){Le("    makeSpaceForEdgeLabels",function(){!function se(Be){var Le=Be.graph();Le.ranksep/=2,_.forEach(Be.edges(),function(Ue){var Ne=Be.edge(Ue);Ne.minlen*=2,"c"!==Ne.labelpos.toLowerCase()&&("TB"===Le.rankdir||"BT"===Le.rankdir?Ne.width+=Ne.labeloffset:Ne.height+=Ne.labeloffset)})}(Be)}),Le("    removeSelfEdges",function(){!function qe(Be){_.forEach(Be.edges(),function(Le){if(Le.v===Le.w){var Ue=Be.node(Le.v);Ue.selfEdges||(Ue.selfEdges=[]),Ue.selfEdges.push({e:Le,label:Be.edge(Le)}),Be.removeEdge(Le)}})}(Be)}),Le("    acyclic",function(){T.run(Be)}),Le("    nestingGraph.run",function(){S.run(Be)}),Le("    rank",function(){E(N.asNonCompoundGraph(Be))}),Le("    injectEdgeLabelProxies",function(){!function de(Be){_.forEach(Be.edges(),function(Le){var Ue=Be.edge(Le);if(Ue.width&&Ue.height){var Ne=Be.node(Le.v),ye=Be.node(Le.w);N.addDummyNode(Be,"edge-proxy",{rank:(ye.rank-Ne.rank)/2+Ne.rank,e:Le},"_ep")}})}(Be)}),Le("    removeEmptyRanks",function(){k(Be)}),Le("    nestingGraph.cleanup",function(){S.cleanup(Be)}),Le("    normalizeRanks",function(){C(Be)}),Le("    assignRankMinMax",function(){!function we(Be){var Le=0;_.forEach(Be.nodes(),function(Ue){var Ne=Be.node(Ue);Ne.borderTop&&(Ne.minRank=Be.node(Ne.borderTop).rank,Ne.maxRank=Be.node(Ne.borderBottom).rank,Le=_.max(Le,Ne.maxRank))}),Be.graph().maxRank=Le}(Be)}),Le("    removeEdgeLabelProxies",function(){!function fe(Be){_.forEach(Be.nodes(),function(Le){var Ue=Be.node(Le);"edge-proxy"===Ue.dummy&&(Be.edge(Ue.e).labelRank=Ue.rank,Be.removeNode(Le))})}(Be)}),Le("    normalize.run",function(){x.run(Be)}),Le("    parentDummyChains",function(){b(Be)}),Le("    addBorderSegments",function(){P(Be)}),Le("    order",function(){A(Be)}),Le("    insertSelfEdges",function(){!function Xe(Be){var Le=N.buildLayerMatrix(Be);_.forEach(Le,function(Ue){var Ne=0;_.forEach(Ue,function(ye,Fe){var ot=Be.node(ye);ot.order=Fe+Ne,_.forEach(ot.selfEdges,function(pt){N.addDummyNode(Be,"selfedge",{width:pt.label.width,height:pt.label.height,rank:ot.rank,order:Fe+ ++Ne,e:pt.e,label:pt.label},"_se")}),delete ot.selfEdges})})}(Be)}),Le("    adjustCoordinateSystem",function(){R.adjust(Be)}),Le("    position",function(){F(Be)}),Le("    positionSelfEdges",function(){!function Me(Be){_.forEach(Be.nodes(),function(Le){var Ue=Be.node(Le);if("selfedge"===Ue.dummy){var Ne=Be.node(Ue.e.v),ye=Ne.x+Ne.width/2,Fe=Ne.y,ot=Ue.x-ye,pt=Ne.height/2;Be.setEdge(Ue.e,Ue.label),Be.removeNode(Le),Ue.label.points=[{x:ye+2*ot/3,y:Fe-pt},{x:ye+5*ot/6,y:Fe-pt},{x:ye+ot,y:Fe},{x:ye+5*ot/6,y:Fe+pt},{x:ye+2*ot/3,y:Fe+pt}],Ue.label.x=Ue.x,Ue.label.y=Ue.y}})}(Be)}),Le("    removeBorderNodes",function(){!function ge(Be){_.forEach(Be.nodes(),function(Le){if(Be.children(Le).length){var Ue=Be.node(Le),Ne=Be.node(Ue.borderTop),ye=Be.node(Ue.borderBottom),Fe=Be.node(_.last(Ue.borderLeft)),ot=Be.node(_.last(Ue.borderRight));Ue.width=Math.abs(ot.x-Fe.x),Ue.height=Math.abs(ye.y-Ne.y),Ue.x=Fe.x+Ue.width/2,Ue.y=Ne.y+Ue.height/2}}),_.forEach(Be.nodes(),function(Le){"border"===Be.node(Le).dummy&&Be.removeNode(Le)})}(Be)}),Le("    normalize.undo",function(){x.undo(Be)}),Le("    fixupEdgeLabelCoords",function(){!function _e(Be){_.forEach(Be.edges(),function(Le){var Ue=Be.edge(Le);if(_.has(Ue,"x"))switch(("l"===Ue.labelpos||"r"===Ue.labelpos)&&(Ue.width-=Ue.labeloffset),Ue.labelpos){case"l":Ue.x-=Ue.width/2+Ue.labeloffset;break;case"r":Ue.x+=Ue.width/2+Ue.labeloffset}})}(Be)}),Le("    undoCoordinateSystem",function(){R.undo(Be)}),Le("    translateGraph",function(){!function je(Be){var Le=Number.POSITIVE_INFINITY,Ue=0,Ne=Number.POSITIVE_INFINITY,ye=0,Fe=Be.graph(),ot=Fe.marginx||0,pt=Fe.marginy||0;function ft(bt){var Ht=bt.x,ut=bt.y,Zt=bt.width,Ft=bt.height;Le=Math.min(Le,Ht-Zt/2),Ue=Math.max(Ue,Ht+Zt/2),Ne=Math.min(Ne,ut-Ft/2),ye=Math.max(ye,ut+Ft/2)}_.forEach(Be.nodes(),function(bt){ft(Be.node(bt))}),_.forEach(Be.edges(),function(bt){var Ht=Be.edge(bt);_.has(Ht,"x")&&ft(Ht)}),Le-=ot,Ne-=pt,_.forEach(Be.nodes(),function(bt){var Ht=Be.node(bt);Ht.x-=Le,Ht.y-=Ne}),_.forEach(Be.edges(),function(bt){var Ht=Be.edge(bt);_.forEach(Ht.points,function(ut){ut.x-=Le,ut.y-=Ne}),_.has(Ht,"x")&&(Ht.x-=Le),_.has(Ht,"y")&&(Ht.y-=Ne)}),Fe.width=Ue-Le+ot,Fe.height=ye-Ne+pt}(Be)}),Le("    assignNodeIntersects",function(){!function Ve(Be){_.forEach(Be.edges(),function(Le){var Fe,ot,Ue=Be.edge(Le),Ne=Be.node(Le.v),ye=Be.node(Le.w);Ue.points?(Fe=Ue.points[0],ot=Ue.points[Ue.points.length-1]):(Ue.points=[],Fe=ye,ot=Ne),Ue.points.unshift(N.intersectRect(Ne,Fe)),Ue.points.push(N.intersectRect(ye,ot))})}(Be)}),Le("    reversePoints",function(){!function Ce(Be){_.forEach(Be.edges(),function(Le){var Ue=Be.edge(Le);Ue.reversed&&Ue.points.reverse()})}(Be)}),Le("    acyclic.undo",function(){T.undo(Be)})}(Ne,Ue)}),Ue("  updateInputGraph",function(){!function Z(Be,Le){_.forEach(Be.nodes(),function(Ue){var Ne=Be.node(Ue),ye=Le.node(Ue);Ne&&(Ne.x=ye.x,Ne.y=ye.y,Le.children(Ue).length&&(Ne.width=ye.width,Ne.height=ye.height))}),_.forEach(Be.edges(),function(Ue){var Ne=Be.edge(Ue),ye=Le.edge(Ue);Ne.points=ye.points,_.has(ye,"x")&&(Ne.x=ye.x,Ne.y=ye.y)}),Be.graph().width=Le.graph().width,Be.graph().height=Le.graph().height}(Be,Ne)})})};var X=["nodesep","edgesep","ranksep","marginx","marginy"],ie={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},te=["acyclicer","ranker","rankdir","align"],G=["width","height"],V={width:0,height:0},H=["minlen","weight","width","height","labeloffset"],q={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ae=["labelpos"];function et(Be,Le){return _.mapValues(_.pick(Be,Le),Number)}function Tt(Be){var Le={};return _.forEach(Be,function(Ue,Ne){Le[Ne.toLowerCase()]=Ue}),Le}},5760:(j,ee,v)=>{var _;try{_={cloneDeep:v(733),constant:v(6684),defaults:v(8800),each:v(5474),filter:v(5281),find:v(2516),flatten:v(2274),forEach:v(9851),forIn:v(1176),has:v(4842),isUndefined:v(4235),last:v(5809),map:v(9984),mapValues:v(203),max:v(8176),merge:v(567),min:v(9439),minBy:v(9525),now:v(1710),pick:v(6372),range:v(361),reduce:v(1337),sortBy:v(2906),uniqueId:v(1541),values:v(377),zipObject:v(1617)}}catch{}_||(_=window._),j.exports=_},1230:(j,ee,v)=>{var _=v(5760),T=v(1510);function E(S,P,R,A,F,N,B){var J=S.children(B);if(J.length){var U=T.addBorderNode(S,"_bt"),Z=T.addBorderNode(S,"_bb"),X=S.node(B);S.setParent(U,B),X.borderTop=U,S.setParent(Z,B),X.borderBottom=Z,_.forEach(J,function(ie){E(S,P,R,A,F,N,ie);var te=S.node(ie),G=te.borderTop?te.borderTop:ie,V=te.borderBottom?te.borderBottom:ie,H=te.borderTop?A:2*A,q=G!==V?1:F-N[B]+1;S.setEdge(U,G,{weight:H,minlen:q,nestingEdge:!0}),S.setEdge(V,Z,{weight:H,minlen:q,nestingEdge:!0})}),S.parent(B)||S.setEdge(P,U,{weight:0,minlen:F+N[B]})}else B!==P&&S.setEdge(P,B,{weight:0,minlen:R})}j.exports={run:function x(S){var P=T.addDummyNode(S,"root",{},"_root"),R=function C(S){var P={};function R(A,F){var N=S.children(A);N&&N.length&&_.forEach(N,function(B){R(B,F+1)}),P[A]=F}return _.forEach(S.children(),function(A){R(A,1)}),P}(S),A=_.max(_.values(R))-1,F=2*A+1;S.graph().nestingRoot=P,_.forEach(S.edges(),function(B){S.edge(B).minlen*=F});var N=function b(S){return _.reduce(S.edges(),function(P,R){return P+S.edge(R).weight},0)}(S)+1;_.forEach(S.children(),function(B){E(S,P,F,N,A,R,B)}),S.graph().nodeRankFactor=F},cleanup:function k(S){var P=S.graph();S.removeNode(P.nestingRoot),delete P.nestingRoot,_.forEach(S.edges(),function(R){S.edge(R).nestingEdge&&S.removeEdge(R)})}}},1496:(j,ee,v)=>{"use strict";var _=v(5760),T=v(1510);j.exports={run:function x(b){b.graph().dummyChains=[],_.forEach(b.edges(),function(k){!function E(b,k){var S=k.v,P=b.node(S).rank,R=k.w,A=b.node(R).rank,F=k.name,N=b.edge(k),B=N.labelRank;if(A!==P+1){var J,U,Z;for(b.removeEdge(k),Z=0,++P;P<A;++Z,++P)N.points=[],J=T.addDummyNode(b,"edge",U={width:0,height:0,edgeLabel:N,edgeObj:k,rank:P},"_d"),P===B&&(U.width=N.width,U.height=N.height,U.dummy="edge-label",U.labelpos=N.labelpos),b.setEdge(S,J,{weight:N.weight},F),0===Z&&b.graph().dummyChains.push(J),S=J;b.setEdge(S,R,{weight:N.weight},F)}}(b,k)})},undo:function C(b){_.forEach(b.graph().dummyChains,function(k){var R,S=b.node(k),P=S.edgeLabel;for(b.setEdge(S.edgeObj,P);S.dummy;)R=b.successors(k)[0],b.removeNode(k),P.points.push({x:S.x,y:S.y}),"edge-label"===S.dummy&&(P.x=S.x,P.y=S.y,P.width=S.width,P.height=S.height),S=b.node(k=R)})}}},3034:(j,ee,v)=>{var _=v(5760);j.exports=function T(x,E,C){var k,b={};_.forEach(C,function(S){for(var R,A,P=x.parent(S);P;){if((R=x.parent(P))?(A=b[R],b[R]=P):(A=k,k=P),A&&A!==P)return void E.setEdge(A,P);P=R}})}},1323:(j,ee,v)=>{var _=v(5760);j.exports=function T(x,E){return _.map(E,function(C){var b=x.inEdges(C);if(b.length){var k=_.reduce(b,function(S,P){var R=x.edge(P),A=x.node(P.v);return{sum:S.sum+R.weight*A.order,weight:S.weight+R.weight}},{sum:0,weight:0});return{v:C,barycenter:k.sum/k.weight,weight:k.weight}}return{v:C}})}},1686:(j,ee,v)=>{var _=v(5760),T=v(6456).Graph;j.exports=function x(C,b,k){var S=function E(C){for(var b;C.hasNode(b=_.uniqueId("_root")););return b}(C),P=new T({compound:!0}).setGraph({root:S}).setDefaultNodeLabel(function(R){return C.node(R)});return _.forEach(C.nodes(),function(R){var A=C.node(R),F=C.parent(R);(A.rank===b||A.minRank<=b&&b<=A.maxRank)&&(P.setNode(R),P.setParent(R,F||S),_.forEach(C[k](R),function(N){var B=N.v===R?N.w:N.v,J=P.edge(B,R),U=_.isUndefined(J)?0:J.weight;P.setEdge(B,R,{weight:C.edge(N).weight+U})}),_.has(A,"minRank")&&P.setNode(R,{borderLeft:A.borderLeft[b],borderRight:A.borderRight[b]}))}),P}},8796:(j,ee,v)=>{"use strict";var _=v(5760);function x(E,C,b){for(var k=_.zipObject(b,_.map(b,function(N,B){return B})),S=_.flatten(_.map(C,function(N){return _.sortBy(_.map(E.outEdges(N),function(B){return{pos:k[B.w],weight:E.edge(B).weight}}),"pos")}),!0),P=1;P<b.length;)P<<=1;var R=2*P-1;P-=1;var A=_.map(new Array(R),function(){return 0}),F=0;return _.forEach(S.forEach(function(N){var B=N.pos+P;A[B]+=N.weight;for(var J=0;B>0;)B%2&&(J+=A[B+1]),A[B=B-1>>1]+=N.weight;F+=N.weight*J})),F}j.exports=function T(E,C){for(var b=0,k=1;k<C.length;++k)b+=x(E,C[k-1],C[k]);return b}},2974:(j,ee,v)=>{"use strict";var _=v(5760),T=v(9402),x=v(8796),E=v(1057),C=v(1686),b=v(3034),k=v(6456).Graph,S=v(1510);function R(N,B,J){return _.map(B,function(U){return C(N,U,J)})}function A(N,B){var J=new k;_.forEach(N,function(U){var Z=U.graph().root,X=E(U,Z,J,B);_.forEach(X.vs,function(ie,te){U.node(ie).order=te}),b(U,J,X.vs)})}function F(N,B){_.forEach(B,function(J){_.forEach(J,function(U,Z){N.node(U).order=Z})})}j.exports=function P(N){var B=S.maxRank(N),J=R(N,_.range(1,B+1),"inEdges"),U=R(N,_.range(B-1,-1,-1),"outEdges"),Z=T(N);F(N,Z);for(var ie,X=Number.POSITIVE_INFINITY,te=0,G=0;G<4;++te,++G){A(te%2?J:U,te%4>=2),Z=S.buildLayerMatrix(N);var V=x(N,Z);V<X&&(G=0,ie=_.cloneDeep(Z),X=V)}F(N,ie)}},9402:(j,ee,v)=>{"use strict";var _=v(5760);j.exports=function T(x){var E={},C=_.filter(x.nodes(),function(R){return!x.children(R).length}),b=_.max(_.map(C,function(R){return x.node(R).rank})),k=_.map(_.range(b+1),function(){return[]}),P=_.sortBy(C,function(R){return x.node(R).rank});return _.forEach(P,function S(R){if(!_.has(E,R)){E[R]=!0;var A=x.node(R);k[A.rank].push(R),_.forEach(x.successors(R),S)}}),k}},3826:(j,ee,v)=>{"use strict";var _=v(5760);j.exports=function T(C,b){var k={};return _.forEach(C,function(P,R){var A=k[P.v]={indegree:0,in:[],out:[],vs:[P.v],i:R};_.isUndefined(P.barycenter)||(A.barycenter=P.barycenter,A.weight=P.weight)}),_.forEach(b.edges(),function(P){var R=k[P.v],A=k[P.w];!_.isUndefined(R)&&!_.isUndefined(A)&&(A.indegree++,R.out.push(k[P.w]))}),function x(C){var b=[];function k(R){return function(A){A.merged||(_.isUndefined(A.barycenter)||_.isUndefined(R.barycenter)||A.barycenter>=R.barycenter)&&function E(C,b){var k=0,S=0;C.weight&&(k+=C.barycenter*C.weight,S+=C.weight),b.weight&&(k+=b.barycenter*b.weight,S+=b.weight),C.vs=b.vs.concat(C.vs),C.barycenter=k/S,C.weight=S,C.i=Math.min(b.i,C.i),b.merged=!0}(R,A)}}function S(R){return function(A){A.in.push(R),0==--A.indegree&&C.push(A)}}for(;C.length;){var P=C.pop();b.push(P),_.forEach(P.in.reverse(),k(P)),_.forEach(P.out,S(P))}return _.map(_.filter(b,function(R){return!R.merged}),function(R){return _.pick(R,["vs","i","barycenter","weight"])})}(_.filter(k,function(P){return!P.indegree}))}},1057:(j,ee,v)=>{var _=v(5760),T=v(1323),x=v(3826),E=v(3803);j.exports=function C(S,P,R,A){var F=S.children(P),N=S.node(P),B=N?N.borderLeft:void 0,J=N?N.borderRight:void 0,U={};B&&(F=_.filter(F,function(V){return V!==B&&V!==J}));var Z=T(S,F);_.forEach(Z,function(V){if(S.children(V.v).length){var H=C(S,V.v,R,A);U[V.v]=H,_.has(H,"barycenter")&&function k(S,P){_.isUndefined(S.barycenter)?(S.barycenter=P.barycenter,S.weight=P.weight):(S.barycenter=(S.barycenter*S.weight+P.barycenter*P.weight)/(S.weight+P.weight),S.weight+=P.weight)}(V,H)}});var X=x(Z,R);!function b(S,P){_.forEach(S,function(R){R.vs=_.flatten(R.vs.map(function(A){return P[A]?P[A].vs:A}),!0)})}(X,U);var ie=E(X,A);if(B&&(ie.vs=_.flatten([B,ie.vs,J],!0),S.predecessors(B).length)){var te=S.node(S.predecessors(B)[0]),G=S.node(S.predecessors(J)[0]);_.has(ie,"barycenter")||(ie.barycenter=0,ie.weight=0),ie.barycenter=(ie.barycenter*ie.weight+te.order+G.order)/(ie.weight+2),ie.weight+=2}return ie}},3803:(j,ee,v)=>{var _=v(5760),T=v(1510);function E(b,k,S){for(var P;k.length&&(P=_.last(k)).i<=S;)k.pop(),b.push(P.vs),S++;return S}j.exports=function x(b,k){var S=T.partition(b,function(U){return _.has(U,"barycenter")}),P=S.lhs,R=_.sortBy(S.rhs,function(U){return-U.i}),A=[],F=0,N=0,B=0;P.sort(function C(b){return function(k,S){return k.barycenter<S.barycenter?-1:k.barycenter>S.barycenter?1:b?S.i-k.i:k.i-S.i}}(!!k)),B=E(A,R,B),_.forEach(P,function(U){B+=U.vs.length,A.push(U.vs),F+=U.barycenter*U.weight,N+=U.weight,B=E(A,R,B)});var J={vs:_.flatten(A,!0)};return N&&(J.barycenter=F/N,J.weight=N),J}},162:(j,ee,v)=>{var _=v(5760);j.exports=function T(C){var b=function E(C){var b={},k=0;return _.forEach(C.children(),function S(P){var R=k;_.forEach(C.children(P),S),b[P]={low:R,lim:k++}}),b}(C);_.forEach(C.graph().dummyChains,function(k){for(var S=C.node(k),P=S.edgeObj,R=function x(C,b,k,S){var N,B,P=[],R=[],A=Math.min(b[k].low,b[S].low),F=Math.max(b[k].lim,b[S].lim);N=k;do{N=C.parent(N),P.push(N)}while(N&&(b[N].low>A||F>b[N].lim));for(B=N,N=S;(N=C.parent(N))!==B;)R.push(N);return{path:P.concat(R.reverse()),lca:B}}(C,b,P.v,P.w),A=R.path,F=R.lca,N=0,B=A[N],J=!0;k!==P.w;){if(S=C.node(k),J){for(;(B=A[N])!==F&&C.node(B).maxRank<S.rank;)N++;B===F&&(J=!1)}if(!J){for(;N<A.length-1&&C.node(B=A[N+1]).minRank<=S.rank;)N++;B=A[N]}C.setParent(k,B),k=C.successors(k)[0]}})}},4058:(j,ee,v)=>{"use strict";var _=v(5760),T=v(6456).Graph,x=v(1510);function E(X,ie){var te={};return _.reduce(ie,function G(V,H){var q=0,ae=0,ue=V.length,se=_.last(H);return _.forEach(H,function(de,we){var fe=function b(X,ie){if(X.node(ie).dummy)return _.find(X.predecessors(ie),function(te){return X.node(te).dummy})}(X,de),je=fe?X.node(fe).order:ue;(fe||de===se)&&(_.forEach(H.slice(ae,we+1),function(Ve){_.forEach(X.predecessors(Ve),function(_e){var Ce=X.node(_e),ge=Ce.order;(ge<q||je<ge)&&(!Ce.dummy||!X.node(Ve).dummy)&&k(te,_e,Ve)})}),ae=we+1,q=je)}),H}),te}function C(X,ie){var te={};function G(H,q,ae,ue,se){var de;_.forEach(_.range(q,ae),function(we){X.node(de=H[we]).dummy&&_.forEach(X.predecessors(de),function(fe){var je=X.node(fe);je.dummy&&(je.order<ue||je.order>se)&&k(te,fe,de)})})}return _.reduce(ie,function V(H,q){var ue,ae=-1,se=0;return _.forEach(q,function(de,we){if("border"===X.node(de).dummy){var fe=X.predecessors(de);fe.length&&(ue=X.node(fe[0]).order,G(q,se,we,ae,ue),se=we,ae=ue)}G(q,se,q.length,ue,H.length)}),q}),te}function k(X,ie,te){if(ie>te){var G=ie;ie=te,te=G}var V=X[ie];V||(X[ie]=V={}),V[te]=!0}function S(X,ie,te){if(ie>te){var G=ie;ie=te,te=G}return _.has(X[ie],te)}function P(X,ie,te,G){var V={},H={},q={};return _.forEach(ie,function(ae){_.forEach(ae,function(ue,se){V[ue]=ue,H[ue]=ue,q[ue]=se})}),_.forEach(ie,function(ae){var ue=-1;_.forEach(ae,function(se){var de=G(se);if(de.length)for(var we=((de=_.sortBy(de,function(_e){return q[_e]})).length-1)/2,fe=Math.floor(we),je=Math.ceil(we);fe<=je;++fe){var Ve=de[fe];H[se]===se&&ue<q[Ve]&&!S(te,se,Ve)&&(H[Ve]=se,H[se]=V[se]=V[Ve],ue=q[Ve])}})}),{root:V,align:H}}function R(X,ie,te,G,V){var H={},q=function A(X,ie,te,G){var V=new T,H=X.graph(),q=function U(X,ie,te){return function(G,V,H){var se,q=G.node(V),ae=G.node(H),ue=0;if(ue+=q.width/2,_.has(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":se=-q.width/2;break;case"r":se=q.width/2}if(se&&(ue+=te?se:-se),se=0,ue+=(q.dummy?ie:X)/2,ue+=(ae.dummy?ie:X)/2,ue+=ae.width/2,_.has(ae,"labelpos"))switch(ae.labelpos.toLowerCase()){case"l":se=ae.width/2;break;case"r":se=-ae.width/2}return se&&(ue+=te?se:-se),se=0,ue}}(H.nodesep,H.edgesep,G);return _.forEach(ie,function(ae){var ue;_.forEach(ae,function(se){var de=te[se];if(V.setNode(de),ue){var we=te[ue],fe=V.edge(we,de);V.setEdge(we,de,Math.max(q(X,se,ue),fe||0))}ue=se})}),V}(X,ie,te,V),ae=V?"borderLeft":"borderRight";function ue(we,fe){for(var je=q.nodes(),Ve=je.pop(),_e={};Ve;)_e[Ve]?we(Ve):(_e[Ve]=!0,je.push(Ve),je=je.concat(fe(Ve))),Ve=je.pop()}return ue(function se(we){H[we]=q.inEdges(we).reduce(function(fe,je){return Math.max(fe,H[je.v]+q.edge(je))},0)},q.predecessors.bind(q)),ue(function de(we){var fe=q.outEdges(we).reduce(function(Ve,_e){return Math.min(Ve,H[_e.w]-q.edge(_e))},Number.POSITIVE_INFINITY),je=X.node(we);fe!==Number.POSITIVE_INFINITY&&je.borderType!==ae&&(H[we]=Math.max(H[we],fe))},q.successors.bind(q)),_.forEach(G,function(we){H[we]=H[te[we]]}),H}function F(X,ie){return _.minBy(_.values(ie),function(te){var G=Number.NEGATIVE_INFINITY,V=Number.POSITIVE_INFINITY;return _.forIn(te,function(H,q){var ae=function Z(X,ie){return X.node(ie).width}(X,q)/2;G=Math.max(H+ae,G),V=Math.min(H-ae,V)}),G-V})}function N(X,ie){var te=_.values(ie),G=_.min(te),V=_.max(te);_.forEach(["u","d"],function(H){_.forEach(["l","r"],function(q){var se,ae=H+q,ue=X[ae];if(ue!==ie){var de=_.values(ue);(se="l"===q?G-_.min(de):V-_.max(de))&&(X[ae]=_.mapValues(ue,function(we){return we+se}))}})})}function B(X,ie){return _.mapValues(X.ul,function(te,G){if(ie)return X[ie.toLowerCase()][G];var V=_.sortBy(_.map(X,G));return(V[1]+V[2])/2})}j.exports={positionX:function J(X){var V,ie=x.buildLayerMatrix(X),te=_.merge(E(X,ie),C(X,ie)),G={};_.forEach(["u","d"],function(q){V="u"===q?ie:_.values(ie).reverse(),_.forEach(["l","r"],function(ae){"r"===ae&&(V=_.map(V,function(we){return _.values(we).reverse()}));var ue=("u"===q?X.predecessors:X.successors).bind(X),se=P(0,V,te,ue),de=R(X,V,se.root,se.align,"r"===ae);"r"===ae&&(de=_.mapValues(de,function(we){return-we})),G[q+ae]=de})});var H=F(X,G);return N(G,H),B(G,X.graph().align)},findType1Conflicts:E,findType2Conflicts:C,addConflict:k,hasConflict:S,verticalAlignment:P,horizontalCompaction:R,alignCoordinates:N,findSmallestWidthAlignment:F,balance:B}},8226:(j,ee,v)=>{"use strict";var _=v(5760),T=v(1510),x=v(4058).positionX;j.exports=function E(b){(function C(b){var k=T.buildLayerMatrix(b),S=b.graph().ranksep,P=0;_.forEach(k,function(R){var A=_.max(_.map(R,function(F){return b.node(F).height}));_.forEach(R,function(F){b.node(F).y=P+A/2}),P+=A+S})})(b=T.asNonCompoundGraph(b)),_.forEach(x(b),function(k,S){b.node(S).x=k})}},6632:(j,ee,v)=>{"use strict";var _=v(5760),T=v(6456).Graph,x=v(1916).slack;function C(S,P){return _.forEach(S.nodes(),function R(A){_.forEach(P.nodeEdges(A),function(F){var N=F.v,B=A===N?F.w:N;!S.hasNode(B)&&!x(P,F)&&(S.setNode(B,{}),S.setEdge(A,B,{}),R(B))})}),S.nodeCount()}function b(S,P){return _.minBy(P.edges(),function(R){if(S.hasNode(R.v)!==S.hasNode(R.w))return x(P,R)})}function k(S,P,R){_.forEach(S.nodes(),function(A){P.node(A).rank+=R})}j.exports=function E(S){var F,N,P=new T({directed:!1}),R=S.nodes()[0],A=S.nodeCount();for(P.setNode(R,{});C(P,S)<A;)F=b(P,S),N=P.hasNode(F.v)?x(S,F):-x(S,F),k(P,S,N);return P}},4124:(j,ee,v)=>{"use strict";var T=v(1916).longestPath,x=v(6632),E=v(3804);j.exports=function C(P){switch(P.graph().ranker){case"network-simplex":default:!function S(P){E(P)}(P);break;case"tight-tree":!function k(P){T(P),x(P)}(P);break;case"longest-path":b(P)}};var b=T},3804:(j,ee,v)=>{"use strict";var _=v(5760),T=v(6632),x=v(1916).slack,E=v(1916).longestPath,C=v(6456).alg.preorder,b=v(6456).alg.postorder,k=v(1510).simplify;function S(te){te=k(te),E(te);var V,G=T(te);for(F(G),P(G,te);V=B(G);)U(G,te,V,J(G,te,V))}function P(te,G){var V=b(te,te.nodes());V=V.slice(0,V.length-1),_.forEach(V,function(H){!function R(te,G,V){var H=te.node(V);te.edge(V,H.parent).cutvalue=A(te,G,V)}(te,G,H)})}function A(te,G,V){var q=te.node(V).parent,ae=!0,ue=G.edge(V,q),se=0;return ue||(ae=!1,ue=G.edge(q,V)),se=ue.weight,_.forEach(G.nodeEdges(V),function(de){var we=de.v===V,fe=we?de.w:de.v;if(fe!==q){var je=we===ae,Ve=G.edge(de).weight;if(se+=je?Ve:-Ve,function X(te,G,V){return te.hasEdge(G,V)}(te,V,fe)){var _e=te.edge(V,fe).cutvalue;se+=je?-_e:_e}}}),se}function F(te,G){arguments.length<2&&(G=te.nodes()[0]),N(te,{},1,G)}function N(te,G,V,H,q){var ae=V,ue=te.node(H);return G[H]=!0,_.forEach(te.neighbors(H),function(se){_.has(G,se)||(V=N(te,G,V,se,H))}),ue.low=ae,ue.lim=V++,q?ue.parent=q:delete ue.parent,V}function B(te){return _.find(te.edges(),function(G){return te.edge(G).cutvalue<0})}function J(te,G,V){var H=V.v,q=V.w;G.hasEdge(H,q)||(H=V.w,q=V.v);var ae=te.node(H),ue=te.node(q),se=ae,de=!1;ae.lim>ue.lim&&(se=ue,de=!0);var we=_.filter(G.edges(),function(fe){return de===ie(0,te.node(fe.v),se)&&de!==ie(0,te.node(fe.w),se)});return _.minBy(we,function(fe){return x(G,fe)})}function U(te,G,V,H){te.removeEdge(V.v,V.w),te.setEdge(H.v,H.w,{}),F(te),P(te,G),function Z(te,G){var V=_.find(te.nodes(),function(q){return!G.node(q).parent}),H=C(te,V);H=H.slice(1),_.forEach(H,function(q){var ae=te.node(q).parent,ue=G.edge(q,ae),se=!1;ue||(ue=G.edge(ae,q),se=!0),G.node(q).rank=G.node(ae).rank+(se?ue.minlen:-ue.minlen)})}(te,G)}function ie(te,G,V){return V.low<=G.lim&&G.lim<=V.lim}j.exports=S,S.initLowLimValues=F,S.initCutValues=P,S.calcCutValue=A,S.leaveEdge=B,S.enterEdge=J,S.exchangeEdges=U},1916:(j,ee,v)=>{"use strict";var _=v(5760);j.exports={longestPath:function T(E){var C={};_.forEach(E.sources(),function b(k){var S=E.node(k);if(_.has(C,k))return S.rank;C[k]=!0;var P=_.min(_.map(E.outEdges(k),function(R){return b(R.w)-E.edge(R).minlen}));return(P===Number.POSITIVE_INFINITY||null==P)&&(P=0),S.rank=P})},slack:function x(E,C){return E.node(C.w).rank-E.node(C.v).rank-E.edge(C).minlen}}},1510:(j,ee,v)=>{"use strict";var _=v(5760),T=v(6456).Graph;function x(Z,X,ie,te){var G;do{G=_.uniqueId(te)}while(Z.hasNode(G));return ie.dummy=X,Z.setNode(G,ie),G}function N(Z){return _.max(_.map(Z.nodes(),function(X){var ie=Z.node(X).rank;if(!_.isUndefined(ie))return ie}))}j.exports={addDummyNode:x,simplify:function E(Z){var X=(new T).setGraph(Z.graph());return _.forEach(Z.nodes(),function(ie){X.setNode(ie,Z.node(ie))}),_.forEach(Z.edges(),function(ie){var te=X.edge(ie.v,ie.w)||{weight:0,minlen:1},G=Z.edge(ie);X.setEdge(ie.v,ie.w,{weight:te.weight+G.weight,minlen:Math.max(te.minlen,G.minlen)})}),X},asNonCompoundGraph:function C(Z){var X=new T({multigraph:Z.isMultigraph()}).setGraph(Z.graph());return _.forEach(Z.nodes(),function(ie){Z.children(ie).length||X.setNode(ie,Z.node(ie))}),_.forEach(Z.edges(),function(ie){X.setEdge(ie,Z.edge(ie))}),X},successorWeights:function b(Z){var X=_.map(Z.nodes(),function(ie){var te={};return _.forEach(Z.outEdges(ie),function(G){te[G.w]=(te[G.w]||0)+Z.edge(G).weight}),te});return _.zipObject(Z.nodes(),X)},predecessorWeights:function k(Z){var X=_.map(Z.nodes(),function(ie){var te={};return _.forEach(Z.inEdges(ie),function(G){te[G.v]=(te[G.v]||0)+Z.edge(G).weight}),te});return _.zipObject(Z.nodes(),X)},intersectRect:function S(Z,X){var ae,ue,ie=Z.x,te=Z.y,G=X.x-ie,V=X.y-te,H=Z.width/2,q=Z.height/2;if(!G&&!V)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(V)*H>Math.abs(G)*q?(V<0&&(q=-q),ae=q*G/V,ue=q):(G<0&&(H=-H),ae=H,ue=H*V/G),{x:ie+ae,y:te+ue}},buildLayerMatrix:function P(Z){var X=_.map(_.range(N(Z)+1),function(){return[]});return _.forEach(Z.nodes(),function(ie){var te=Z.node(ie),G=te.rank;_.isUndefined(G)||(X[G][te.order]=ie)}),X},normalizeRanks:function R(Z){var X=_.min(_.map(Z.nodes(),function(ie){return Z.node(ie).rank}));_.forEach(Z.nodes(),function(ie){var te=Z.node(ie);_.has(te,"rank")&&(te.rank-=X)})},removeEmptyRanks:function A(Z){var X=_.min(_.map(Z.nodes(),function(V){return Z.node(V).rank})),ie=[];_.forEach(Z.nodes(),function(V){var H=Z.node(V).rank-X;ie[H]||(ie[H]=[]),ie[H].push(V)});var te=0,G=Z.graph().nodeRankFactor;_.forEach(ie,function(V,H){_.isUndefined(V)&&H%G!=0?--te:te&&_.forEach(V,function(q){Z.node(q).rank+=te})})},addBorderNode:function F(Z,X,ie,te){var G={width:0,height:0};return arguments.length>=4&&(G.rank=ie,G.order=te),x(Z,"border",G,X)},maxRank:N,partition:function B(Z,X){var ie={lhs:[],rhs:[]};return _.forEach(Z,function(te){X(te)?ie.lhs.push(te):ie.rhs.push(te)}),ie},time:function J(Z,X){var ie=_.now();try{return X()}finally{console.log(Z+" time: "+(_.now()-ie)+"ms")}},notime:function U(Z,X){return X()}}},8126:j=>{j.exports="0.8.5"},5510:(j,ee,v)=>{var _=v(1838);j.exports={Graph:_.Graph,json:v(1088),alg:v(3430),version:_.version}},6730:(j,ee,v)=>{var _=v(9138);j.exports=function T(x){var b,E={},C=[];function k(S){_.has(E,S)||(E[S]=!0,b.push(S),_.each(x.successors(S),k),_.each(x.predecessors(S),k))}return _.each(x.nodes(),function(S){b=[],k(S),b.length&&C.push(b)}),C}},2163:(j,ee,v)=>{var _=v(9138);function x(E,C,b,k,S,P){_.has(k,C)||(k[C]=!0,b||P.push(C),_.each(S(C),function(R){x(E,R,b,k,S,P)}),b&&P.push(C))}j.exports=function T(E,C,b){_.isArray(C)||(C=[C]);var k=(E.isDirected()?E.successors:E.neighbors).bind(E),S=[],P={};return _.each(C,function(R){if(!E.hasNode(R))throw new Error("Graph does not have node: "+R);x(E,R,"post"===b,P,k,S)}),S}},5668:(j,ee,v)=>{var _=v(1718),T=v(9138);j.exports=function x(E,C,b){return T.transform(E.nodes(),function(k,S){k[S]=_(E,S,C,b)},{})}},1718:(j,ee,v)=>{var _=v(9138),T=v(1919);j.exports=function E(b,k,S,P){return function C(b,k,S,P){var F,N,R={},A=new T,B=function(J){var U=J.v!==F?J.v:J.w,Z=R[U],X=S(J),ie=N.distance+X;if(X<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+J+" Weight: "+X);ie<Z.distance&&(Z.distance=ie,Z.predecessor=F,A.decrease(U,ie))};for(b.nodes().forEach(function(J){var U=J===k?0:Number.POSITIVE_INFINITY;R[J]={distance:U},A.add(J,U)});A.size()>0&&(F=A.removeMin(),(N=R[F]).distance!==Number.POSITIVE_INFINITY);)P(F).forEach(B);return R}(b,String(k),S||x,P||function(R){return b.outEdges(R)})};var x=_.constant(1)},9611:(j,ee,v)=>{var _=v(9138),T=v(3585);j.exports=function x(E){return _.filter(T(E),function(C){return C.length>1||1===C.length&&E.hasEdge(C[0],C[0])})}},2881:(j,ee,v)=>{var _=v(9138);j.exports=function x(C,b,k){return function E(C,b,k){var S={},P=C.nodes();return P.forEach(function(R){S[R]={},S[R][R]={distance:0},P.forEach(function(A){R!==A&&(S[R][A]={distance:Number.POSITIVE_INFINITY})}),k(R).forEach(function(A){var F=A.v===R?A.w:A.v,N=b(A);S[R][F]={distance:N,predecessor:R}})}),P.forEach(function(R){var A=S[R];P.forEach(function(F){var N=S[F];P.forEach(function(B){var U=A[B],Z=N[B],X=N[R].distance+U.distance;X<Z.distance&&(Z.distance=X,Z.predecessor=U.predecessor)})})}),S}(C,b||T,k||function(S){return C.outEdges(S)})};var T=_.constant(1)},3430:(j,ee,v)=>{j.exports={components:v(6730),dijkstra:v(1718),dijkstraAll:v(5668),findCycles:v(9611),floydWarshall:v(2881),isAcyclic:v(6693),postorder:v(6694),preorder:v(5330),prim:v(6823),tarjan:v(3585),topsort:v(2180)}},6693:(j,ee,v)=>{var _=v(2180);j.exports=function T(x){try{_(x)}catch(E){if(E instanceof _.CycleException)return!1;throw E}return!0}},6694:(j,ee,v)=>{var _=v(2163);j.exports=function T(x,E){return _(x,E,"post")}},5330:(j,ee,v)=>{var _=v(2163);j.exports=function T(x,E){return _(x,E,"pre")}},6823:(j,ee,v)=>{var _=v(9138),T=v(6568),x=v(1919);j.exports=function E(C,b){var R,k=new T,S={},P=new x;function A(N){var B=N.v===R?N.w:N.v,J=P.priority(B);if(void 0!==J){var U=b(N);U<J&&(S[B]=R,P.decrease(B,U))}}if(0===C.nodeCount())return k;_.each(C.nodes(),function(N){P.add(N,Number.POSITIVE_INFINITY),k.setNode(N)}),P.decrease(C.nodes()[0],0);for(var F=!1;P.size()>0;){if(R=P.removeMin(),_.has(S,R))k.setEdge(R,S[R]);else{if(F)throw new Error("Input graph is not connected: "+C);F=!0}C.nodeEdges(R).forEach(A)}return k}},3585:(j,ee,v)=>{var _=v(9138);j.exports=function T(x){var E=0,C=[],b={},k=[];function S(P){var R=b[P]={onStack:!0,lowlink:E,index:E++};if(C.push(P),x.successors(P).forEach(function(N){_.has(b,N)?b[N].onStack&&(R.lowlink=Math.min(R.lowlink,b[N].index)):(S(N),R.lowlink=Math.min(R.lowlink,b[N].lowlink))}),R.lowlink===R.index){var F,A=[];do{F=C.pop(),b[F].onStack=!1,A.push(F)}while(P!==F);k.push(A)}}return x.nodes().forEach(function(P){_.has(b,P)||S(P)}),k}},2180:(j,ee,v)=>{var _=v(9138);function T(E){var C={},b={},k=[];if(_.each(E.sinks(),function S(P){if(_.has(b,P))throw new x;_.has(C,P)||(b[P]=!0,C[P]=!0,_.each(E.predecessors(P),S),delete b[P],k.push(P))}),_.size(C)!==E.nodeCount())throw new x;return k}function x(){}j.exports=T,T.CycleException=x,x.prototype=new Error},1919:(j,ee,v)=>{var _=v(9138);function T(){this._arr=[],this._keyIndices={}}j.exports=T,T.prototype.size=function(){return this._arr.length},T.prototype.keys=function(){return this._arr.map(function(x){return x.key})},T.prototype.has=function(x){return _.has(this._keyIndices,x)},T.prototype.priority=function(x){var E=this._keyIndices[x];if(void 0!==E)return this._arr[E].priority},T.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},T.prototype.add=function(x,E){var C=this._keyIndices;if(x=String(x),!_.has(C,x)){var b=this._arr,k=b.length;return C[x]=k,b.push({key:x,priority:E}),this._decrease(k),!0}return!1},T.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var x=this._arr.pop();return delete this._keyIndices[x.key],this._heapify(0),x.key},T.prototype.decrease=function(x,E){var C=this._keyIndices[x];if(E>this._arr[C].priority)throw new Error("New priority is greater than current priority. Key: "+x+" Old: "+this._arr[C].priority+" New: "+E);this._arr[C].priority=E,this._decrease(C)},T.prototype._heapify=function(x){var E=this._arr,C=2*x,b=C+1,k=x;C<E.length&&(k=E[C].priority<E[k].priority?C:k,b<E.length&&(k=E[b].priority<E[k].priority?b:k),k!==x&&(this._swap(x,k),this._heapify(k)))},T.prototype._decrease=function(x){for(var b,E=this._arr,C=E[x].priority;0!==x&&!(E[b=x>>1].priority<C);)this._swap(x,b),x=b},T.prototype._swap=function(x,E){var C=this._arr,b=this._keyIndices,k=C[x],S=C[E];C[x]=S,C[E]=k,b[S.key]=x,b[k.key]=E}},6568:(j,ee,v)=>{"use strict";var _=v(9138);j.exports=C;var T="\0",x="\0",E="\x01";function C(A){this._isDirected=!_.has(A,"directed")||A.directed,this._isMultigraph=!!_.has(A,"multigraph")&&A.multigraph,this._isCompound=!!_.has(A,"compound")&&A.compound,this._label=void 0,this._defaultNodeLabelFn=_.constant(void 0),this._defaultEdgeLabelFn=_.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[x]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function b(A,F){A[F]?A[F]++:A[F]=1}function k(A,F){--A[F]||delete A[F]}function S(A,F,N,B){var J=""+F,U=""+N;if(!A&&J>U){var Z=J;J=U,U=Z}return J+E+U+E+(_.isUndefined(B)?T:B)}function R(A,F){return S(A,F.v,F.w,F.name)}C.prototype._nodeCount=0,C.prototype._edgeCount=0,C.prototype.isDirected=function(){return this._isDirected},C.prototype.isMultigraph=function(){return this._isMultigraph},C.prototype.isCompound=function(){return this._isCompound},C.prototype.setGraph=function(A){return this._label=A,this},C.prototype.graph=function(){return this._label},C.prototype.setDefaultNodeLabel=function(A){return _.isFunction(A)||(A=_.constant(A)),this._defaultNodeLabelFn=A,this},C.prototype.nodeCount=function(){return this._nodeCount},C.prototype.nodes=function(){return _.keys(this._nodes)},C.prototype.sources=function(){var A=this;return _.filter(this.nodes(),function(F){return _.isEmpty(A._in[F])})},C.prototype.sinks=function(){var A=this;return _.filter(this.nodes(),function(F){return _.isEmpty(A._out[F])})},C.prototype.setNodes=function(A,F){var N=arguments,B=this;return _.each(A,function(J){N.length>1?B.setNode(J,F):B.setNode(J)}),this},C.prototype.setNode=function(A,F){return _.has(this._nodes,A)?(arguments.length>1&&(this._nodes[A]=F),this):(this._nodes[A]=arguments.length>1?F:this._defaultNodeLabelFn(A),this._isCompound&&(this._parent[A]=x,this._children[A]={},this._children[x][A]=!0),this._in[A]={},this._preds[A]={},this._out[A]={},this._sucs[A]={},++this._nodeCount,this)},C.prototype.node=function(A){return this._nodes[A]},C.prototype.hasNode=function(A){return _.has(this._nodes,A)},C.prototype.removeNode=function(A){var F=this;if(_.has(this._nodes,A)){var N=function(B){F.removeEdge(F._edgeObjs[B])};delete this._nodes[A],this._isCompound&&(this._removeFromParentsChildList(A),delete this._parent[A],_.each(this.children(A),function(B){F.setParent(B)}),delete this._children[A]),_.each(_.keys(this._in[A]),N),delete this._in[A],delete this._preds[A],_.each(_.keys(this._out[A]),N),delete this._out[A],delete this._sucs[A],--this._nodeCount}return this},C.prototype.setParent=function(A,F){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_.isUndefined(F))F=x;else{for(var N=F+="";!_.isUndefined(N);N=this.parent(N))if(N===A)throw new Error("Setting "+F+" as parent of "+A+" would create a cycle");this.setNode(F)}return this.setNode(A),this._removeFromParentsChildList(A),this._parent[A]=F,this._children[F][A]=!0,this},C.prototype._removeFromParentsChildList=function(A){delete this._children[this._parent[A]][A]},C.prototype.parent=function(A){if(this._isCompound){var F=this._parent[A];if(F!==x)return F}},C.prototype.children=function(A){if(_.isUndefined(A)&&(A=x),this._isCompound){var F=this._children[A];if(F)return _.keys(F)}else{if(A===x)return this.nodes();if(this.hasNode(A))return[]}},C.prototype.predecessors=function(A){var F=this._preds[A];if(F)return _.keys(F)},C.prototype.successors=function(A){var F=this._sucs[A];if(F)return _.keys(F)},C.prototype.neighbors=function(A){var F=this.predecessors(A);if(F)return _.union(F,this.successors(A))},C.prototype.isLeaf=function(A){return 0===(this.isDirected()?this.successors(A):this.neighbors(A)).length},C.prototype.filterNodes=function(A){var F=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});F.setGraph(this.graph());var N=this;_.each(this._nodes,function(U,Z){A(Z)&&F.setNode(Z,U)}),_.each(this._edgeObjs,function(U){F.hasNode(U.v)&&F.hasNode(U.w)&&F.setEdge(U,N.edge(U))});var B={};function J(U){var Z=N.parent(U);return void 0===Z||F.hasNode(Z)?(B[U]=Z,Z):Z in B?B[Z]:J(Z)}return this._isCompound&&_.each(F.nodes(),function(U){F.setParent(U,J(U))}),F},C.prototype.setDefaultEdgeLabel=function(A){return _.isFunction(A)||(A=_.constant(A)),this._defaultEdgeLabelFn=A,this},C.prototype.edgeCount=function(){return this._edgeCount},C.prototype.edges=function(){return _.values(this._edgeObjs)},C.prototype.setPath=function(A,F){var N=this,B=arguments;return _.reduce(A,function(J,U){return B.length>1?N.setEdge(J,U,F):N.setEdge(J,U),U}),this},C.prototype.setEdge=function(){var A,F,N,B,J=!1,U=arguments[0];"object"==typeof U&&null!==U&&"v"in U?(A=U.v,F=U.w,N=U.name,2===arguments.length&&(B=arguments[1],J=!0)):(A=U,F=arguments[1],N=arguments[3],arguments.length>2&&(B=arguments[2],J=!0)),A=""+A,F=""+F,_.isUndefined(N)||(N=""+N);var Z=S(this._isDirected,A,F,N);if(_.has(this._edgeLabels,Z))return J&&(this._edgeLabels[Z]=B),this;if(!_.isUndefined(N)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(A),this.setNode(F),this._edgeLabels[Z]=J?B:this._defaultEdgeLabelFn(A,F,N);var X=function P(A,F,N,B){var J=""+F,U=""+N;if(!A&&J>U){var Z=J;J=U,U=Z}var X={v:J,w:U};return B&&(X.name=B),X}(this._isDirected,A,F,N);return A=X.v,F=X.w,Object.freeze(X),this._edgeObjs[Z]=X,b(this._preds[F],A),b(this._sucs[A],F),this._in[F][Z]=X,this._out[A][Z]=X,this._edgeCount++,this},C.prototype.edge=function(A,F,N){var B=1===arguments.length?R(this._isDirected,arguments[0]):S(this._isDirected,A,F,N);return this._edgeLabels[B]},C.prototype.hasEdge=function(A,F,N){var B=1===arguments.length?R(this._isDirected,arguments[0]):S(this._isDirected,A,F,N);return _.has(this._edgeLabels,B)},C.prototype.removeEdge=function(A,F,N){var B=1===arguments.length?R(this._isDirected,arguments[0]):S(this._isDirected,A,F,N),J=this._edgeObjs[B];return J&&(A=J.v,F=J.w,delete this._edgeLabels[B],delete this._edgeObjs[B],k(this._preds[F],A),k(this._sucs[A],F),delete this._in[F][B],delete this._out[A][B],this._edgeCount--),this},C.prototype.inEdges=function(A,F){var N=this._in[A];if(N){var B=_.values(N);return F?_.filter(B,function(J){return J.v===F}):B}},C.prototype.outEdges=function(A,F){var N=this._out[A];if(N){var B=_.values(N);return F?_.filter(B,function(J){return J.w===F}):B}},C.prototype.nodeEdges=function(A,F){var N=this.inEdges(A,F);if(N)return N.concat(this.outEdges(A,F))}},1838:(j,ee,v)=>{j.exports={Graph:v(6568),version:v(5089)}},1088:(j,ee,v)=>{var _=v(9138),T=v(6568);function E(k){return _.map(k.nodes(),function(S){var P=k.node(S),R=k.parent(S),A={v:S};return _.isUndefined(P)||(A.value=P),_.isUndefined(R)||(A.parent=R),A})}function C(k){return _.map(k.edges(),function(S){var P=k.edge(S),R={v:S.v,w:S.w};return _.isUndefined(S.name)||(R.name=S.name),_.isUndefined(P)||(R.value=P),R})}j.exports={write:function x(k){var S={options:{directed:k.isDirected(),multigraph:k.isMultigraph(),compound:k.isCompound()},nodes:E(k),edges:C(k)};return _.isUndefined(k.graph())||(S.value=_.clone(k.graph())),S},read:function b(k){var S=new T(k.options).setGraph(k.value);return _.each(k.nodes,function(P){S.setNode(P.v,P.value),P.parent&&S.setParent(P.v,P.parent)}),_.each(k.edges,function(P){S.setEdge({v:P.v,w:P.w,name:P.name},P.value)}),S}}},9138:(j,ee,v)=>{var _;try{_={clone:v(1094),constant:v(6684),each:v(5474),filter:v(5281),has:v(4842),isArray:v(1503),isEmpty:v(1973),isFunction:v(5946),isUndefined:v(4235),keys:v(118),map:v(9984),reduce:v(1337),size:v(5637),transform:v(9416),union:v(8921),values:v(377)}}catch{}_||(_=window._),j.exports=_},5089:j=>{j.exports="2.1.8"},5203:(j,ee,v)=>{j.exports=v(8732)},8732:function(j,ee){var v,_,T;(function(){var x,E,C,b,k,S,P,R,A,F,N,B,J,U,Z;C=Math.floor,F=Math.min,E=function(X,ie){return X<ie?-1:X>ie?1:0},A=function(X,ie,te,G,V){var H;if(null==te&&(te=0),null==V&&(V=E),te<0)throw new Error("lo must be non-negative");for(null==G&&(G=X.length);te<G;)V(ie,X[H=C((te+G)/2)])<0?G=H:te=H+1;return[].splice.apply(X,[te,te-te].concat(ie)),ie},S=function(X,ie,te){return null==te&&(te=E),X.push(ie),U(X,0,X.length-1,te)},k=function(X,ie){var te,G;return null==ie&&(ie=E),te=X.pop(),X.length?(G=X[0],X[0]=te,Z(X,0,ie)):G=te,G},R=function(X,ie,te){var G;return null==te&&(te=E),G=X[0],X[0]=ie,Z(X,0,te),G},P=function(X,ie,te){var G;return null==te&&(te=E),X.length&&te(X[0],ie)<0&&(ie=(G=[X[0],ie])[0],X[0]=G[1],Z(X,0,te)),ie},b=function(X,ie){var G,H,ae,ue,se;for(null==ie&&(ie=E),ue=[],G=0,H=(ae=function(){se=[];for(var de=0,we=C(X.length/2);0<=we?de<we:de>we;0<=we?de++:de--)se.push(de);return se}.apply(this).reverse()).length;G<H;G++)ue.push(Z(X,ae[G],ie));return ue},J=function(X,ie,te){var G;if(null==te&&(te=E),-1!==(G=X.indexOf(ie)))return U(X,0,G,te),Z(X,G,te)},N=function(X,ie,te){var V,H,q,ae;if(null==te&&(te=E),!(V=X.slice(0,ie)).length)return V;for(b(V,te),H=0,q=(ae=X.slice(ie)).length;H<q;H++)P(V,ae[H],te);return V.sort(te).reverse()},B=function(X,ie,te){var G,H,q,ae,ue,se,de,we,fe;if(null==te&&(te=E),10*ie<=X.length){if(!(q=X.slice(0,ie).sort(te)).length)return q;for(H=q[q.length-1],ae=0,se=(de=X.slice(ie)).length;ae<se;ae++)te(G=de[ae],H)<0&&(A(q,G,0,null,te),q.pop(),H=q[q.length-1]);return q}for(b(X,te),fe=[],ue=0,we=F(ie,X.length);0<=we?ue<we:ue>we;0<=we?++ue:--ue)fe.push(k(X,te));return fe},U=function(X,ie,te,G){var V,H,q;for(null==G&&(G=E),V=X[te];te>ie&&G(V,H=X[q=te-1>>1])<0;)X[te]=H,te=q;return X[te]=V},Z=function(X,ie,te){var G,V,H,q,ae;for(null==te&&(te=E),V=X.length,ae=ie,H=X[ie],G=2*ie+1;G<V;)(q=G+1)<V&&!(te(X[G],X[q])<0)&&(G=q),X[ie]=X[G],G=2*(ie=G)+1;return X[ie]=H,U(X,ae,ie,te)},x=function(){function X(ie){this.cmp=ie??E,this.nodes=[]}return X.push=S,X.pop=k,X.replace=R,X.pushpop=P,X.heapify=b,X.updateItem=J,X.nlargest=N,X.nsmallest=B,X.prototype.push=function(ie){return S(this.nodes,ie,this.cmp)},X.prototype.pop=function(){return k(this.nodes,this.cmp)},X.prototype.peek=function(){return this.nodes[0]},X.prototype.contains=function(ie){return-1!==this.nodes.indexOf(ie)},X.prototype.replace=function(ie){return R(this.nodes,ie,this.cmp)},X.prototype.pushpop=function(ie){return P(this.nodes,ie,this.cmp)},X.prototype.heapify=function(){return b(this.nodes,this.cmp)},X.prototype.updateItem=function(ie){return J(this.nodes,ie,this.cmp)},X.prototype.clear=function(){return this.nodes=[]},X.prototype.empty=function(){return 0===this.nodes.length},X.prototype.size=function(){return this.nodes.length},X.prototype.clone=function(){var ie;return(ie=new X).nodes=this.nodes.slice(0),ie},X.prototype.toArray=function(){return this.nodes.slice(0)},X.prototype.insert=X.prototype.push,X.prototype.top=X.prototype.peek,X.prototype.front=X.prototype.peek,X.prototype.has=X.prototype.contains,X.prototype.copy=X.prototype.clone,X}(),_=[],void 0===(T="function"==typeof(v=function(){return x})?v.apply(ee,_):v)||(j.exports=T)}).call(this)},4918:(j,ee,v)=>{"use strict";var _=v(9344).default;const{isArray:T,isObject:x,isString:E}=v(2353),{asArray:C}=v(4249),{prependBase:b}=v(4920),k=v(3327),S=v(9522);function R(F){throw new k("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:F})}function A({context:F,base:N}){if(!F)return;const B=F["@context"];if(E(B))F["@context"]=b(N,B);else if(T(B))for(let J=0;J<B.length;++J){const U=B[J];E(U)?B[J]=b(N,U):x(U)&&A({context:{"@context":U},base:N})}else if(x(B))for(const J in B)A({context:B[J],base:N})}j.exports=class{constructor({sharedCache:N}){this.perOpCache=new Map,this.sharedCache=N}resolve({activeCtx:N,context:B,documentLoader:J,base:U,cycles:Z=new Set}){var X=this;return _(function*(){B&&x(B)&&B["@context"]&&(B=B["@context"]),B=C(B);const ie=[];for(const te of B){if(E(te)){let H=X._get(te);H||(H=yield X._resolveRemoteContext({activeCtx:N,url:te,documentLoader:J,base:U,cycles:Z})),T(H)?ie.push(...H):ie.push(H);continue}if(null===te){ie.push(new S({document:null}));continue}x(te)||R(B);const G=JSON.stringify(te);let V=X._get(G);V||(V=new S({document:te}),X._cacheResolvedContext({key:G,resolved:V,tag:"static"})),ie.push(V)}return ie})()}_get(N){let B=this.perOpCache.get(N);if(!B){const J=this.sharedCache.get(N);J&&(B=J.get("static"),B&&this.perOpCache.set(N,B))}return B}_cacheResolvedContext({key:N,resolved:B,tag:J}){if(this.perOpCache.set(N,B),void 0!==J){let U=this.sharedCache.get(N);U||(U=new Map,this.sharedCache.set(N,U)),U.set(J,B)}return B}_resolveRemoteContext({activeCtx:N,url:B,documentLoader:J,base:U,cycles:Z}){var X=this;return _(function*(){B=b(U,B);const{context:ie,remoteDoc:te}=yield X._fetchContext({activeCtx:N,url:B,documentLoader:J,cycles:Z});A({context:ie,base:U=te.documentUrl||B});const G=yield X.resolve({activeCtx:N,context:ie,documentLoader:J,base:U,cycles:Z});return X._cacheResolvedContext({key:B,resolved:G,tag:te.tag}),G})()}_fetchContext({activeCtx:N,url:B,documentLoader:J,cycles:U}){return _(function*(){if(U.size>10)throw new k("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===N.processingMode?"loading remote context failed":"context overflow",max:10});if(U.has(B))throw new k("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===N.processingMode?"recursive context inclusion":"context overflow",url:B});let Z,X;U.add(B);try{X=yield J(B),Z=X.document||null,E(Z)&&(Z=JSON.parse(Z))}catch(ie){throw new k("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:B,cause:ie})}if(!x(Z))throw new k("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:B});return Z="@context"in Z?{"@context":Z["@context"]}:{"@context":{}},X.contextUrl&&(T(Z["@context"])||(Z["@context"]=[Z["@context"]]),Z["@context"].push(X.contextUrl)),{context:Z,remoteDoc:X}})()}}},3327:j=>{"use strict";j.exports=class extends Error{constructor(v="An unspecified JSON-LD error occurred.",_="jsonld.Error",T={}){super(v),this.name=_,this.message=v,this.details=T}}},779:j=>{"use strict";j.exports=ee=>{class v{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(v,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(v.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:v}),v.compact=function(_,T){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):ee.compact(_,T)},v.expand=function(_){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):ee.expand(_)},v.flatten=function(_){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):ee.flatten(_)},v}},3865:(j,ee,v)=>{"use strict";j.exports=v(4308).NQuads},2210:(j,ee,v)=>{"use strict";var _=v(9344).default;j.exports=class{constructor(){this._requests={}}wrapLoader(x){const E=this;return E._loader=x,function(){return E.add.apply(E,arguments)}}add(x){var E=this;return _(function*(){let C=E._requests[x];if(C)return Promise.resolve(C);C=E._requests[x]=E._loader(x);try{return yield C}finally{delete E._requests[x]}})()}}},9522:(j,ee,v)=>{"use strict";const _=v(5943);j.exports=class{constructor({document:E}){this.document=E,this.cache=new _({max:10})}getProcessed(E){return this.cache.get(E)}setProcessed(E,C){this.cache.set(E,C)}}},9857:(j,ee,v)=>{"use strict";var _=v(9344).default;const T=v(3327),{isArray:x,isObject:E,isString:C,isUndefined:b}=v(2353),{isList:k,isValue:S,isGraph:P,isSimpleGraph:R,isSubjectReference:A}=v(9094),{expandIri:F,getContextValue:N,isKeyword:B,process:J,processingMode:U}=v(2134),{removeBase:Z,prependBase:X}=v(4920),{REGEX_KEYWORD:ie,addValue:te,asArray:G,compareShortestLeast:V}=v(4249),H={};function ae(ue,se,de){if("@nest"!==F(ue,se,{vocab:!0},de))throw new T("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}j.exports=H,H.compact=function(){var ue=_(function*({activeCtx:se,activeProperty:de=null,element:we,options:fe={}}){if(x(we)){let Ve=[];for(let _e=0;_e<we.length;++_e){const Ce=yield H.compact({activeCtx:se,activeProperty:de,element:we[_e],options:fe});null!==Ce&&Ve.push(Ce)}return fe.compactArrays&&1===Ve.length&&0===(N(se,de,"@container")||[]).length&&(Ve=Ve[0]),Ve}const je=N(se,de,"@context");if(b(je)||(se=yield J({activeCtx:se,localCtx:je,propagate:!0,overrideProtected:!0,options:fe})),E(we)){if(fe.link&&"@id"in we&&fe.link.hasOwnProperty(we["@id"])){const et=fe.link[we["@id"]];for(let Tt=0;Tt<et.length;++Tt)if(et[Tt].expanded===we)return et[Tt].compacted}if(S(we)||A(we)){const et=H.compactValue({activeCtx:se,activeProperty:de,value:we,options:fe});return fe.link&&A(we)&&(fe.link.hasOwnProperty(we["@id"])||(fe.link[we["@id"]]=[]),fe.link[we["@id"]].push({expanded:we,compacted:et})),et}if(k(we)&&(N(se,de,"@container")||[]).includes("@list"))return H.compact({activeCtx:se,activeProperty:de,element:we["@list"],options:fe});const Ve="@reverse"===de,_e={},Ce=se;!S(we)&&!A(we)&&(se=se.revertToPreviousContext());const ge=N(Ce,de,"@context");b(ge)||(se=yield J({activeCtx:se,localCtx:ge,propagate:!0,overrideProtected:!0,options:fe})),fe.link&&"@id"in we&&(fe.link.hasOwnProperty(we["@id"])||(fe.link[we["@id"]]=[]),fe.link[we["@id"]].push({expanded:we,compacted:_e}));let qe=we["@type"]||[];qe.length>1&&(qe=Array.from(qe).sort());const Xe=se;for(const et of qe){const Tt=H.compactIri({activeCtx:Xe,iri:et,relativeTo:{vocab:!0}}),Be=N(Ce,Tt,"@context");b(Be)||(se=yield J({activeCtx:se,localCtx:Be,options:fe,propagate:!1}))}const Me=Object.keys(we).sort();for(const et of Me){const Tt=we[et];if("@id"!==et)if("@type"!==et)if("@reverse"!==et)if("@preserve"!==et)if("@index"!==et)if("@graph"!==et&&"@list"!==et&&"@included"!==et&&B(et)){const Be=H.compactIri({activeCtx:se,iri:et,relativeTo:{vocab:!0}});te(_e,Be,Tt)}else{if(!x(Tt))throw new T("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===Tt.length){const Be=H.compactIri({activeCtx:se,iri:et,value:Tt,relativeTo:{vocab:!0},reverse:Ve}),Le=se.mappings.has(Be)?se.mappings.get(Be)["@nest"]:null;let Ue=_e;Le&&(ae(se,Le,fe),E(_e[Le])||(_e[Le]={}),Ue=_e[Le]),te(Ue,Be,Tt,{propertyIsArray:!0})}for(const Be of Tt){const Le=H.compactIri({activeCtx:se,iri:et,value:Be,relativeTo:{vocab:!0},reverse:Ve}),Ue=se.mappings.has(Le)?se.mappings.get(Le)["@nest"]:null;let Ne=_e;Ue&&(ae(se,Ue,fe),E(_e[Ue])||(_e[Ue]={}),Ne=_e[Ue]);const ye=N(se,Le,"@container")||[],Fe=P(Be),ot=k(Be);let pt;ot?pt=Be["@list"]:Fe&&(pt=Be["@graph"]);let ft=yield H.compact({activeCtx:se,activeProperty:Le,element:ot||Fe?pt:Be,options:fe});if(ot){if(x(ft)||(ft=[ft]),ye.includes("@list")){te(Ne,Le,ft,{valueIsArray:!0,allowDuplicate:!0});continue}ft={[H.compactIri({activeCtx:se,iri:"@list",relativeTo:{vocab:!0}})]:ft},"@index"in Be&&(ft[H.compactIri({activeCtx:se,iri:"@index",relativeTo:{vocab:!0}})]=Be["@index"])}if(Fe)if(ye.includes("@graph")&&(ye.includes("@id")||ye.includes("@index")&&R(Be))){let bt;Ne.hasOwnProperty(Le)?bt=Ne[Le]:Ne[Le]=bt={};const Ht=(ye.includes("@id")?Be["@id"]:Be["@index"])||H.compactIri({activeCtx:se,iri:"@none",relativeTo:{vocab:!0}});te(bt,Ht,ft,{propertyIsArray:!fe.compactArrays||ye.includes("@set")})}else ye.includes("@graph")&&R(Be)?(x(ft)&&ft.length>1&&(ft={"@included":ft}),te(Ne,Le,ft,{propertyIsArray:!fe.compactArrays||ye.includes("@set")})):(x(ft)&&1===ft.length&&fe.compactArrays&&(ft=ft[0]),ft={[H.compactIri({activeCtx:se,iri:"@graph",relativeTo:{vocab:!0}})]:ft},"@id"in Be&&(ft[H.compactIri({activeCtx:se,iri:"@id",relativeTo:{vocab:!0}})]=Be["@id"]),"@index"in Be&&(ft[H.compactIri({activeCtx:se,iri:"@index",relativeTo:{vocab:!0}})]=Be["@index"]),te(Ne,Le,ft,{propertyIsArray:!fe.compactArrays||ye.includes("@set")}));else if(ye.includes("@language")||ye.includes("@index")||ye.includes("@id")||ye.includes("@type")){let bt,Ht;if(Ne.hasOwnProperty(Le)?bt=Ne[Le]:Ne[Le]=bt={},ye.includes("@language"))S(ft)&&(ft=ft["@value"]),Ht=Be["@language"];else if(ye.includes("@index")){const ut=N(se,Le,"@index")||"@index",Zt=H.compactIri({activeCtx:se,iri:ut,relativeTo:{vocab:!0}});if("@index"===ut)Ht=Be["@index"],delete ft[Zt];else{let Ft;if([Ht,...Ft]=G(ft[ut]||[]),C(Ht))switch(Ft.length){case 0:delete ft[ut];break;case 1:ft[ut]=Ft[0];break;default:ft[ut]=Ft}else Ht=null}}else if(ye.includes("@id")){const ut=H.compactIri({activeCtx:se,iri:"@id",relativeTo:{vocab:!0}});Ht=ft[ut],delete ft[ut]}else if(ye.includes("@type")){const ut=H.compactIri({activeCtx:se,iri:"@type",relativeTo:{vocab:!0}});let Zt;switch([Ht,...Zt]=G(ft[ut]||[]),Zt.length){case 0:delete ft[ut];break;case 1:ft[ut]=Zt[0];break;default:ft[ut]=Zt}1===Object.keys(ft).length&&"@id"in Be&&(ft=yield H.compact({activeCtx:se,activeProperty:Le,element:{"@id":Be["@id"]},options:fe}))}Ht||(Ht=H.compactIri({activeCtx:se,iri:"@none",relativeTo:{vocab:!0}})),te(bt,Ht,ft,{propertyIsArray:ye.includes("@set")})}else{const bt=!fe.compactArrays||ye.includes("@set")||ye.includes("@list")||x(ft)&&0===ft.length||"@list"===et||"@graph"===et;te(Ne,Le,ft,{propertyIsArray:bt})}}}else{if((N(se,de,"@container")||[]).includes("@index"))continue;const Le=H.compactIri({activeCtx:se,iri:et,relativeTo:{vocab:!0}});te(_e,Le,Tt)}else{const Be=yield H.compact({activeCtx:se,activeProperty:de,element:Tt,options:fe});x(Be)&&0===Be.length||te(_e,et,Be)}else{const Be=yield H.compact({activeCtx:se,activeProperty:"@reverse",element:Tt,options:fe});for(const Le in Be)if(se.mappings.has(Le)&&se.mappings.get(Le).reverse){const Ue=Be[Le],ye=(N(se,Le,"@container")||[]).includes("@set")||!fe.compactArrays;te(_e,Le,Ue,{propertyIsArray:ye}),delete Be[Le]}if(Object.keys(Be).length>0){const Le=H.compactIri({activeCtx:se,iri:et,relativeTo:{vocab:!0}});te(_e,Le,Be)}}else{let Be=G(Tt).map(Fe=>H.compactIri({activeCtx:Ce,iri:Fe,relativeTo:{vocab:!0}}));1===Be.length&&(Be=Be[0]);const Le=H.compactIri({activeCtx:se,iri:"@type",relativeTo:{vocab:!0}}),ye=(N(se,Le,"@container")||[]).includes("@set")&&U(se,1.1)||x(Be)&&0===Tt.length;te(_e,Le,Be,{propertyIsArray:ye})}else{let Be=G(Tt).map(Ue=>H.compactIri({activeCtx:se,iri:Ue,relativeTo:{vocab:!1},base:fe.base}));1===Be.length&&(Be=Be[0]),_e[H.compactIri({activeCtx:se,iri:"@id",relativeTo:{vocab:!0}})]=Be}}return _e}return we});return function(se){return ue.apply(this,arguments)}}(),H.compactIri=({activeCtx:ue,iri:se,value:de=null,relativeTo:we={vocab:!1},reverse:fe=!1,base:je=null})=>{if(null===se)return se;ue.isPropertyTermScoped&&ue.previousContext&&(ue=ue.previousContext);const Ve=ue.getInverse();if(B(se)&&se in Ve&&"@none"in Ve[se]&&"@type"in Ve[se]["@none"]&&"@none"in Ve[se]["@none"]["@type"])return Ve[se]["@none"]["@type"]["@none"];if(we.vocab&&se in Ve){const Xe=ue["@language"]||"@none",Me=[];E(de)&&"@index"in de&&!("@graph"in de)&&Me.push("@index","@index@set"),E(de)&&"@preserve"in de&&(de=de["@preserve"][0]),P(de)?("@index"in de&&Me.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in de&&Me.push("@graph@id","@graph@id@set"),Me.push("@graph","@graph@set","@set"),"@index"in de||Me.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in de||Me.push("@graph@id","@graph@id@set")):E(de)&&!S(de)&&Me.push("@id","@id@set","@type","@set@type");let et="@language",Tt="@null";if(fe)et="@type",Tt="@reverse",Me.push("@set");else if(k(de)){"@index"in de||Me.push("@list");const Le=de["@list"];if(0===Le.length)et="@any",Tt="@none";else{let Ue=0===Le.length?Xe:null,Ne=null;for(let ye=0;ye<Le.length;++ye){const Fe=Le[ye];let ot="@none",pt="@none";if(S(Fe)?"@direction"in Fe?ot=`${(Fe["@language"]||"").toLowerCase()}_${Fe["@direction"]}`:"@language"in Fe?ot=Fe["@language"].toLowerCase():"@type"in Fe?pt=Fe["@type"]:ot="@null":pt="@id",null===Ue?Ue=ot:ot!==Ue&&S(Fe)&&(Ue="@none"),null===Ne?Ne=pt:pt!==Ne&&(Ne="@none"),"@none"===Ue&&"@none"===Ne)break}Ue=Ue||"@none",Ne=Ne||"@none","@none"!==Ne?(et="@type",Tt=Ne):Tt=Ue}}else{if(S(de))if("@language"in de&&!("@index"in de)){Me.push("@language","@language@set"),Tt=de["@language"];const Le=de["@direction"];Le&&(Tt=`${Tt}_${Le}`)}else"@direction"in de&&!("@index"in de)?Tt=`_${de["@direction"]}`:"@type"in de&&(et="@type",Tt=de["@type"]);else et="@type",Tt="@id";Me.push("@set")}Me.push("@none"),E(de)&&!("@index"in de)&&Me.push("@index","@index@set"),S(de)&&1===Object.keys(de).length&&Me.push("@language","@language@set");const Be=function q(ue,se,de,we,fe,je){null===je&&(je="@null");const Ve=[];if(("@id"===je||"@reverse"===je)&&E(de)&&"@id"in de){"@reverse"===je&&Ve.push("@reverse");const Ce=H.compactIri({activeCtx:ue,iri:de["@id"],relativeTo:{vocab:!0}});ue.mappings.has(Ce)&&ue.mappings.get(Ce)&&ue.mappings.get(Ce)["@id"]===de["@id"]?Ve.push.apply(Ve,["@vocab","@id"]):Ve.push.apply(Ve,["@id","@vocab"])}else{Ve.push(je);const Ce=Ve.find(ge=>ge.includes("_"));Ce&&Ve.push(Ce.replace(/^[^_]+_/,"_"))}Ve.push("@none");const _e=ue.inverse[se];for(const Ce of we){if(!(Ce in _e))continue;const ge=_e[Ce][fe];for(const qe of Ve)if(qe in ge)return ge[qe]}return null}(ue,se,de,Me,et,Tt);if(null!==Be)return Be}if(we.vocab&&"@vocab"in ue){const Xe=ue["@vocab"];if(0===se.indexOf(Xe)&&se!==Xe){const Me=se.substr(Xe.length);if(!ue.mappings.has(Me))return Me}}let _e=null;const Ce=[];let ge=ue.fastCurieMap;const qe=se.length-1;for(let Xe=0;Xe<qe&&se[Xe]in ge;++Xe)ge=ge[se[Xe]],""in ge&&Ce.push(ge[""][0]);for(let Xe=Ce.length-1;Xe>=0;--Xe){const Me=Ce[Xe],et=Me.terms;for(const Tt of et){const Be=Tt+":"+se.substr(Me.iri.length);ue.mappings.get(Tt)._prefix&&(!ue.mappings.has(Be)||null===de&&ue.mappings.get(Be)["@id"]===se)&&(null===_e||V(Be,_e)<0)&&(_e=Be)}}if(null!==_e)return _e;for(const[Xe,Me]of ue.mappings)if(Me&&Me._prefix&&se.startsWith(Xe+":"))throw new T(`Absolute IRI "${se}" confused with prefix "${Xe}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:ue});if(!we.vocab){if("@base"in ue){if(ue["@base"]){const Xe=Z(X(je,ue["@base"]),se);return ie.test(Xe)?`./${Xe}`:Xe}return se}return Z(je,se)}return se},H.compactValue=({activeCtx:ue,activeProperty:se,value:de,options:we})=>{if(S(de)){const _e=N(ue,se,"@type"),Ce=N(ue,se,"@language"),ge=N(ue,se,"@direction"),qe=N(ue,se,"@container")||[],Xe="@index"in de&&!qe.includes("@index");if(!Xe&&"@none"!==_e&&(de["@type"]===_e||"@language"in de&&de["@language"]===Ce&&"@direction"in de&&de["@direction"]===ge||"@language"in de&&de["@language"]===Ce||"@direction"in de&&de["@direction"]===ge))return de["@value"];const Me=Object.keys(de).length,et=1===Me||2===Me&&"@index"in de&&!Xe,Tt="@language"in ue,Be=C(de["@value"]),Le=ue.mappings.has(se)&&null===ue.mappings.get(se)["@language"];if(et&&"@none"!==_e&&(!Tt||!Be||Le))return de["@value"];const Ue={};return Xe&&(Ue[H.compactIri({activeCtx:ue,iri:"@index",relativeTo:{vocab:!0}})]=de["@index"]),"@type"in de?Ue[H.compactIri({activeCtx:ue,iri:"@type",relativeTo:{vocab:!0}})]=H.compactIri({activeCtx:ue,iri:de["@type"],relativeTo:{vocab:!0}}):"@language"in de&&(Ue[H.compactIri({activeCtx:ue,iri:"@language",relativeTo:{vocab:!0}})]=de["@language"]),"@direction"in de&&(Ue[H.compactIri({activeCtx:ue,iri:"@direction",relativeTo:{vocab:!0}})]=de["@direction"]),Ue[H.compactIri({activeCtx:ue,iri:"@value",relativeTo:{vocab:!0}})]=de["@value"],Ue}const fe=F(ue,se,{vocab:!0},we),je=N(ue,se,"@type"),Ve=H.compactIri({activeCtx:ue,iri:de["@id"],relativeTo:{vocab:"@vocab"===je},base:we.base});return"@id"===je||"@vocab"===je||"@graph"===fe?Ve:{[H.compactIri({activeCtx:ue,iri:"@id",relativeTo:{vocab:!0}})]:Ve}}},313:j=>{"use strict";const ee="http://www.w3.org/1999/02/22-rdf-syntax-ns#",v="http://www.w3.org/2001/XMLSchema#";j.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:ee,RDF_LIST:ee+"List",RDF_FIRST:ee+"first",RDF_REST:ee+"rest",RDF_NIL:ee+"nil",RDF_TYPE:ee+"type",RDF_PLAIN_LITERAL:ee+"PlainLiteral",RDF_XML_LITERAL:ee+"XMLLiteral",RDF_JSON_LITERAL:ee+"JSON",RDF_OBJECT:ee+"object",RDF_LANGSTRING:ee+"langString",XSD:v,XSD_BOOLEAN:v+"boolean",XSD_DOUBLE:v+"double",XSD_INTEGER:v+"integer",XSD_STRING:v+"string"}},2134:(j,ee,v)=>{"use strict";var _=v(9344).default;const T=v(4249),x=v(3327),{isArray:E,isObject:C,isString:b,isUndefined:k}=v(2353),{isAbsolute:S,isRelative:P,prependBase:R}=v(4920),{handleEvent:A}=v(5775),{REGEX_BCP47:F,REGEX_KEYWORD:N,asArray:B,compareShortestLeast:J}=v(4249),U=new Map,X={};function ie(G,V,H,q,ae,ue){if(null===V||!b(V)||X.isKeyword(V))return V;if(V.match(N))return null;if(q&&q.hasOwnProperty(V)&&!0!==ae.get(V)&&X.createTermDefinition({activeCtx:G,localCtx:q,term:V,defined:ae,options:ue}),(H=H||{}).vocab){const de=G.mappings.get(V);if(null===de)return null;if(C(de)&&"@id"in de)return de["@id"]}const se=V.indexOf(":");if(se>0){const de=V.substr(0,se),we=V.substr(se+1);if("_"===de||0===we.indexOf("//"))return V;q&&q.hasOwnProperty(de)&&X.createTermDefinition({activeCtx:G,localCtx:q,term:de,defined:ae,options:ue});const fe=G.mappings.get(de);if(fe&&fe._prefix)return fe["@id"]+we;if(S(V))return V}if(H.vocab&&"@vocab"in G)V=G["@vocab"]+V;else if(H.base){let de,we;"@base"in G?G["@base"]?(we=R(ue.base,G["@base"]),de=R(we,V)):(we=G["@base"],de=V):(we=ue.base,de=R(ue.base,V)),V=de}return V}function te(G,V){if(!G||"object"!=typeof G||!V||"object"!=typeof V)return G===V;const H=Array.isArray(G);if(H!==Array.isArray(V))return!1;if(H){if(G.length!==V.length)return!1;for(let ue=0;ue<G.length;++ue)if(!te(G[ue],V[ue]))return!1;return!0}const q=Object.keys(G),ae=Object.keys(V);if(q.length!==ae.length)return!1;for(const ue in G){let se=G[ue],de=V[ue];if("@container"===ue&&Array.isArray(se)&&Array.isArray(de)&&(se=se.slice().sort(),de=de.slice().sort()),!te(se,de))return!1}return!0}j.exports=X,X.process=function(){var G=_(function*({activeCtx:V,localCtx:H,options:q,propagate:ae=!0,overrideProtected:ue=!1,cycles:se=new Set}){if(C(H)&&"@context"in H&&E(H["@context"])&&(H=H["@context"]),0===B(H).length)return V;const we=[],fe=[({event:Ce,next:ge})=>{we.push(Ce),ge()}];q.eventHandler&&fe.push(q.eventHandler);const je=q;q={...q,eventHandler:fe};const Ve=yield q.contextResolver.resolve({activeCtx:V,context:H,documentLoader:q.documentLoader,base:q.base});C(Ve[0].document)&&"boolean"==typeof Ve[0].document["@propagate"]&&(ae=Ve[0].document["@propagate"]);let _e=V;!ae&&!_e.previousContext&&(_e=_e.clone(),_e.previousContext=V);for(const Ce of Ve){let{document:ge}=Ce;if(V=_e,null===ge){if(!ue&&0!==Object.keys(V.protected).length)throw new x("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});_e=V=X.getInitialContext(q).clone();continue}const qe=Ce.getProcessed(V);if(qe){if(je.eventHandler)for(const Me of qe.events)A({event:Me,options:je});_e=V=qe.context;continue}if(C(ge)&&"@context"in ge&&(ge=ge["@context"]),!C(ge))throw new x("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:ge});_e=_e.clone();const Xe=new Map;if("@version"in ge){if(1.1!==ge["@version"])throw new x("Unsupported JSON-LD version: "+ge["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:ge});if(V.processingMode&&"json-ld-1.0"===V.processingMode)throw new x("@version: "+ge["@version"]+" not compatible with "+V.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:ge});_e.processingMode="json-ld-1.1",_e["@version"]=ge["@version"],Xe.set("@version",!0)}if(_e.processingMode=_e.processingMode||V.processingMode,"@base"in ge){let Me=ge["@base"];if(null!==Me&&!S(Me)){if(!P(Me))throw new x('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:ge});Me=R(_e["@base"],Me)}_e["@base"]=Me,Xe.set("@base",!0)}if("@vocab"in ge){const Me=ge["@vocab"];if(null===Me)delete _e["@vocab"];else{if(!b(Me))throw new x('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:ge});if(!S(Me)&&X.processingMode(_e,1))throw new x('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:ge});{const et=ie(_e,Me,{vocab:!0,base:!0},void 0,void 0,q);S(et)||q.eventHandler&&A({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:et}},options:q}),_e["@vocab"]=et}}Xe.set("@vocab",!0)}if("@language"in ge){const Me=ge["@language"];if(null===Me)delete _e["@language"];else{if(!b(Me))throw new x('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:ge});Me.match(F)||q.eventHandler&&A({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Me}},options:q}),_e["@language"]=Me.toLowerCase()}Xe.set("@language",!0)}if("@direction"in ge){const Me=ge["@direction"];if("json-ld-1.0"===V.processingMode)throw new x("Invalid JSON-LD syntax; @direction not compatible with "+V.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:ge});if(null===Me)delete _e["@direction"];else{if("ltr"!==Me&&"rtl"!==Me)throw new x('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:ge});_e["@direction"]=Me}Xe.set("@direction",!0)}if("@propagate"in ge){const Me=ge["@propagate"];if("json-ld-1.0"===V.processingMode)throw new x("Invalid JSON-LD syntax; @propagate not compatible with "+V.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:ge});if("boolean"!=typeof Me)throw new x("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:H});Xe.set("@propagate",!0)}if("@import"in ge){const Me=ge["@import"];if("json-ld-1.0"===V.processingMode)throw new x("Invalid JSON-LD syntax; @import not compatible with "+V.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:ge});if(!b(Me))throw new x("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:H});const et=yield q.contextResolver.resolve({activeCtx:V,context:Me,documentLoader:q.documentLoader,base:q.base});if(1!==et.length)throw new x("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:H});const Tt=et[0].getProcessed(V);if(Tt)ge=Tt;else{const Be=et[0].document;if("@import"in Be)throw new x("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:H});for(const Le in Be)ge.hasOwnProperty(Le)||(ge[Le]=Be[Le]);et[0].setProcessed(V,ge)}Xe.set("@import",!0)}Xe.set("@protected",ge["@protected"]||!1);for(const Me in ge)if(X.createTermDefinition({activeCtx:_e,localCtx:ge,term:Me,defined:Xe,options:q,overrideProtected:ue}),C(ge[Me])&&"@context"in ge[Me]){const et=ge[Me]["@context"];let Tt=!0;if(b(et)){const Be=R(q.base,et);se.has(Be)?Tt=!1:se.add(Be)}if(Tt)try{yield X.process({activeCtx:_e.clone(),localCtx:ge[Me]["@context"],overrideProtected:!0,options:q,cycles:se})}catch{throw new x("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:ge[Me]["@context"],term:Me})}}Ce.setProcessed(V,{context:_e,events:we})}return _e});return function(V){return G.apply(this,arguments)}}(),X.createTermDefinition=({activeCtx:G,localCtx:V,term:H,defined:q,options:ae,overrideProtected:ue=!1})=>{if(q.has(H)){if(q.get(H))return;throw new x("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:V,term:H})}let se;if(q.set(H,!1),V.hasOwnProperty(H)&&(se=V[H]),"@type"===H&&C(se)&&"@set"===(se["@container"]||"@set")&&X.processingMode(G,1.1)){const Ce=["@container","@id","@protected"],ge=Object.keys(se);if(0===ge.length||ge.some(qe=>!Ce.includes(qe)))throw new x("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:V,term:H})}else{if(X.isKeyword(H))throw new x("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:V,term:H});if(H.match(N))return void(ae.eventHandler&&A({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:H}},options:ae}));if(""===H)throw new x("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:V})}const de=G.mappings.get(H);G.mappings.has(H)&&G.mappings.delete(H);let we=!1;if((b(se)||null===se)&&(we=!0,se={"@id":se}),!C(se))throw new x("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:V});const fe={};G.mappings.set(H,fe),fe.reverse=!1;const je=["@container","@id","@language","@reverse","@type"];X.processingMode(G,1.1)&&je.push("@context","@direction","@index","@nest","@prefix","@protected");for(const Ce in se)if(!je.includes(Ce))throw new x("Invalid JSON-LD syntax; a term definition must not contain "+Ce,"jsonld.SyntaxError",{code:"invalid term definition",context:V});const Ve=H.indexOf(":");if(fe._termHasColon=Ve>0,"@reverse"in se){if("@id"in se)throw new x("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:V});if("@nest"in se)throw new x("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:V});const Ce=se["@reverse"];if(!b(Ce))throw new x("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:V});if(Ce.match(N))return ae.eventHandler&&A({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:Ce}},options:ae}),void(de?G.mappings.set(H,de):G.mappings.delete(H));const ge=ie(G,Ce,{vocab:!0,base:!1},V,q,ae);if(!S(ge))throw new x("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:V});fe["@id"]=ge,fe.reverse=!0}else if("@id"in se){let Ce=se["@id"];if(Ce&&!b(Ce))throw new x("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:V});if(null===Ce)fe["@id"]=null;else{if(!X.isKeyword(Ce)&&Ce.match(N))return ae.eventHandler&&A({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:Ce}},options:ae}),void(de?G.mappings.set(H,de):G.mappings.delete(H));if(Ce!==H){if(Ce=ie(G,Ce,{vocab:!0,base:!1},V,q,ae),!S(Ce)&&!X.isKeyword(Ce))throw new x("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:V});if(H.match(/(?::[^:])|\//)&&ie(G,H,{vocab:!0,base:!1},V,new Map(q).set(H,!0),ae)!==Ce)throw new x("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:V});fe["@id"]=Ce,fe._prefix=we&&!fe._termHasColon&&Ce.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in fe))if(fe._termHasColon){const Ce=H.substr(0,Ve);if(V.hasOwnProperty(Ce)&&X.createTermDefinition({activeCtx:G,localCtx:V,term:Ce,defined:q,options:ae}),G.mappings.has(Ce)){const ge=H.substr(Ve+1);fe["@id"]=G.mappings.get(Ce)["@id"]+ge}else fe["@id"]=H}else if("@type"===H)fe["@id"]=H;else{if(!("@vocab"in G))throw new x("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:V,term:H});fe["@id"]=G["@vocab"]+H}if((!0===se["@protected"]||!0===q.get("@protected")&&!1!==se["@protected"])&&(G.protected[H]=!0,fe.protected=!0),q.set(H,!0),"@type"in se){let Ce=se["@type"];if(!b(Ce))throw new x("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:V});if("@json"===Ce||"@none"===Ce){if(X.processingMode(G,1))throw new x(`Invalid JSON-LD syntax; an @context @type value must not be "${Ce}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:V})}else if("@id"!==Ce&&"@vocab"!==Ce){if(Ce=ie(G,Ce,{vocab:!0,base:!1},V,q,ae),!S(Ce))throw new x("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:V});if(0===Ce.indexOf("_:"))throw new x("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:V})}fe["@type"]=Ce}if("@container"in se){const Ce=b(se["@container"])?[se["@container"]]:se["@container"]||[],ge=["@list","@set","@index","@language"];let qe=!0;const Xe=Ce.includes("@set");if(X.processingMode(G,1.1)){if(ge.push("@graph","@id","@type"),Ce.includes("@list")){if(1!==Ce.length)throw new x("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:V})}else if(Ce.includes("@graph")){if(Ce.some(Me=>"@graph"!==Me&&"@id"!==Me&&"@index"!==Me&&"@set"!==Me))throw new x("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:V})}else qe&=Ce.length<=(Xe?2:1);if(Ce.includes("@type")&&(fe["@type"]=fe["@type"]||"@id",!["@id","@vocab"].includes(fe["@type"])))throw new x("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:V})}else qe&=!E(se["@container"]),qe&=Ce.length<=1;if(qe&=Ce.every(Me=>ge.includes(Me)),qe&=!(Xe&&Ce.includes("@list")),!qe)throw new x("Invalid JSON-LD syntax; @context @container value must be one of the following: "+ge.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:V});if(fe.reverse&&!Ce.every(Me=>["@index","@set"].includes(Me)))throw new x("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:V});fe["@container"]=Ce}if("@index"in se){if(!("@container"in se)||!fe["@container"].includes("@index"))throw new x(`Invalid JSON-LD syntax; @index without @index in @container: "${se["@index"]}" on term "${H}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:V});if(!b(se["@index"])||0===se["@index"].indexOf("@"))throw new x(`Invalid JSON-LD syntax; @index must expand to an IRI: "${se["@index"]}" on term "${H}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:V});fe["@index"]=se["@index"]}if("@context"in se&&(fe["@context"]=se["@context"]),"@language"in se&&!("@type"in se)){let Ce=se["@language"];if(null!==Ce&&!b(Ce))throw new x("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:V});null!==Ce&&(Ce=Ce.toLowerCase()),fe["@language"]=Ce}if("@prefix"in se){if(H.match(/:|\//))throw new x("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:V});if(X.isKeyword(fe["@id"]))throw new x("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:V});if("boolean"!=typeof se["@prefix"])throw new x("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:V});fe._prefix=!0===se["@prefix"]}if("@direction"in se){const Ce=se["@direction"];if(null!==Ce&&"ltr"!==Ce&&"rtl"!==Ce)throw new x('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:V});fe["@direction"]=Ce}if("@nest"in se){const Ce=se["@nest"];if(!b(Ce)||"@nest"!==Ce&&0===Ce.indexOf("@"))throw new x("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:V});fe["@nest"]=Ce}const _e=fe["@id"];if("@context"===_e||"@preserve"===_e)throw new x("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:V});if(de&&de.protected&&!ue&&(G.protected[H]=!0,fe.protected=!0,!te(de,fe)))throw new x("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:V,term:H})},X.expandIri=(G,V,H,q)=>ie(G,V,H,void 0,void 0,q),X.getInitialContext=G=>{const V=JSON.stringify({processingMode:G.processingMode}),H=U.get(V);if(H)return H;const q={processingMode:G.processingMode,mappings:new Map,inverse:null,getInverse:function ae(){const fe=this;if(fe.inverse)return fe.inverse;const je=fe.inverse={},Ve=fe.fastCurieMap={},_e={},Ce=(fe["@language"]||"@none").toLowerCase(),ge=fe["@direction"],qe=fe.mappings,Xe=[...qe.keys()].sort(J);for(const Me of Xe){const et=qe.get(Me);if(null===et)continue;let Tt=et["@container"]||"@none";if(Tt=[].concat(Tt).sort().join(""),null===et["@id"])continue;const Be=B(et["@id"]);for(const Le of Be){let Ue=je[Le];const Ne=X.isKeyword(Le);if(Ue)!Ne&&!et._termHasColon&&_e[Le].push(Me);else if(je[Le]=Ue={},!Ne&&!et._termHasColon){_e[Le]=[Me];const ye={iri:Le,terms:_e[Le]};Le[0]in Ve?Ve[Le[0]].push(ye):Ve[Le[0]]=[ye]}if(Ue[Tt]||(Ue[Tt]={"@language":{},"@type":{},"@any":{}}),Ue=Ue[Tt],se(Me,Ue["@any"],"@none"),et.reverse)se(Me,Ue["@type"],"@reverse");else if("@none"===et["@type"])se(Me,Ue["@any"],"@none"),se(Me,Ue["@language"],"@none"),se(Me,Ue["@type"],"@none");else if("@type"in et)se(Me,Ue["@type"],et["@type"]);else if("@language"in et&&"@direction"in et){const ye=et["@language"],Fe=et["@direction"];se(Me,Ue["@language"],ye&&Fe?`${ye}_${Fe}`.toLowerCase():ye?ye.toLowerCase():Fe?`_${Fe}`:"@null")}else"@language"in et?se(Me,Ue["@language"],(et["@language"]||"@null").toLowerCase()):"@direction"in et?se(Me,Ue["@language"],et["@direction"]?`_${et["@direction"]}`:"@none"):ge?(se(Me,Ue["@language"],`_${ge}`),se(Me,Ue["@language"],"@none"),se(Me,Ue["@type"],"@none")):(se(Me,Ue["@language"],Ce),se(Me,Ue["@language"],"@none"),se(Me,Ue["@type"],"@none"))}}for(const Me in Ve)ue(Ve,Me,1);return je},clone:function de(){const fe={};return fe.mappings=T.clone(this.mappings),fe.clone=this.clone,fe.inverse=null,fe.getInverse=this.getInverse,fe.protected=T.clone(this.protected),this.previousContext&&(fe.previousContext=this.previousContext.clone()),fe.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(fe["@base"]=this["@base"]),"@language"in this&&(fe["@language"]=this["@language"]),"@vocab"in this&&(fe["@vocab"]=this["@vocab"]),fe},revertToPreviousContext:function we(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===U.size&&U.clear(),U.set(V,q),q;function ue(fe,je,Ve){const _e=fe[je],Ce=fe[je]={};let ge,qe;for(const Xe of _e)ge=Xe.iri,qe=Ve>=ge.length?"":ge[Ve],qe in Ce?Ce[qe].push(Xe):Ce[qe]=[Xe];for(const Xe in Ce)""!==Xe&&ue(Ce,Xe,Ve+1)}function se(fe,je,Ve){je.hasOwnProperty(Ve)||(je[Ve]=fe)}},X.getContextValue=(G,V,H)=>{if(null===V)return"@context"===H?void 0:null;if(G.mappings.has(V)){const q=G.mappings.get(V);if(k(H))return q;if(q.hasOwnProperty(H))return q[H]}return"@language"===H&&H in G||"@direction"===H&&H in G?G[H]:"@context"!==H?null:void 0},X.processingMode=(G,V)=>V.toString()>="1.1"?!G.processingMode||G.processingMode>="json-ld-"+V.toString():"json-ld-1.0"===G.processingMode,X.isKeyword=G=>{if(!b(G)||"@"!==G[0])return!1;switch(G){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},8719:(j,ee,v)=>{"use strict";var _=v(9344).default;const{parseLinkHeader:T,buildHeaders:x}=v(4249),{LINK_HEADER_CONTEXT:E}=v(313),C=v(3327),b=v(2210),{prependBase:k}=v(4920),S=/(^|(\r\n))link:/i;j.exports=({secure:R,headers:A={},xhr:F}={headers:{}})=>{return A=x(A),(new b).wrapLoader(B);function B(U){return J.apply(this,arguments)}function J(){return J=_(function*(U){if(0!==U.indexOf("http:")&&0!==U.indexOf("https:"))throw new C('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:U});if(R&&0!==U.indexOf("https"))throw new C('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:U});let Z;try{Z=yield function P(R,A,F){const N=new(R=R||XMLHttpRequest);return new Promise((B,J)=>{N.onload=()=>B(N),N.onerror=U=>J(U),N.open("GET",A,!0);for(const U in F)N.setRequestHeader(U,F[U]);N.send()})}(F,U,A)}catch(V){throw new C("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:U,cause:V})}if(Z.status>=400)throw new C("URL could not be dereferenced: "+Z.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:U,httpStatusCode:Z.status});let X={contextUrl:null,documentUrl:U,document:Z.response},ie=null;const te=Z.getResponseHeader("Content-Type");let G;if(S.test(Z.getAllResponseHeaders())&&(G=Z.getResponseHeader("Link")),G&&"application/ld+json"!==te){const V=T(G),H=V[E];if(Array.isArray(H))throw new C("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:U});H&&(X.contextUrl=H.target),ie=V.alternate,ie&&"application/ld+json"==ie.type&&!(te||"").match(/^application\/(\w*\+)?json$/)&&(X=yield B(k(U,ie.target)))}return X}),J.apply(this,arguments)}}},5775:(j,ee,v)=>{"use strict";const _=v(3327),{isArray:T}=v(2353),{asArray:x}=v(4249),E={};function C({event:k,handlers:S}){let P=!0;for(let R=0;P&&R<S.length;++R){P=!1;const A=S[R];if(T(A))P=C({event:k,handlers:A});else if("function"==typeof A)A({event:k,next:()=>{P=!0}});else{if("object"!=typeof A)throw new _("Invalid event handler.","jsonld.InvalidEventHandler",{event:k});k.code in A?A[k.code]({event:k,next:()=>{P=!0}}):P=!0}}return P}j.exports=E,E.defaultEventHandler=null,E.setupEventHandler=({options:k={}})=>{const S=[].concat(k.safe?E.safeEventHandler:[],k.eventHandler?x(k.eventHandler):[],E.defaultEventHandler?E.defaultEventHandler:[]);return 0===S.length?null:S},E.handleEvent=({event:k,options:S})=>{C({event:k,handlers:S.eventHandler})};const b=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference"]);E.safeEventHandler=function({event:S,next:P}){if("warning"===S.level&&b.has(S.code))throw new _("Safe mode validation error.","jsonld.ValidationError",{event:S});P()},E.logEventHandler=function({event:S,next:P}){console.log(`EVENT: ${S.message}`,{event:S}),P()},E.logWarningEventHandler=function({event:S,next:P}){"warning"===S.level&&console.warn(`WARNING: ${S.message}`,{event:S}),P()},E.unhandledEventHandler=function({event:S}){throw new _("No handler for event.","jsonld.UnhandledEvent",{event:S})},E.setDefaultEventHandler=function({eventHandler:k}={}){E.defaultEventHandler=k?x(k):null}},554:(j,ee,v)=>{"use strict";var _=v(9344).default;const T=v(3327),{isArray:x,isObject:E,isEmptyObject:C,isString:b,isUndefined:k}=v(2353),{isList:S,isValue:P,isGraph:R,isSubject:A}=v(9094),{expandIri:F,getContextValue:N,isKeyword:B,process:J,processingMode:U}=v(2134),{isAbsolute:Z}=v(4920),{REGEX_BCP47:X,REGEX_KEYWORD:ie,addValue:te,asArray:G,getValues:V,validateTypeValue:H}=v(4249),{handleEvent:q}=v(5775),ae={};function ue(Ve){return se.apply(this,arguments)}function se(){return(se=_(function*({activeCtx:Ve,activeProperty:_e,expandedActiveProperty:Ce,element:ge,expandedParent:qe,options:Xe={},insideList:Me,typeKey:et,typeScopedContext:Tt}){const Be=Object.keys(ge).sort(),Le=[];let Ue;const Ne=ge[et]&&"@json"===F(Ve,x(ge[et])?ge[et][0]:ge[et],{vocab:!0},{...Xe,typeExpansion:!0});for(const ye of Be){let ot,Fe=ge[ye];if("@context"===ye)continue;const pt=F(Ve,ye,{vocab:!0},Xe);if(null===pt||!Z(pt)&&!B(pt)){Xe.eventHandler&&q({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:ye,expandedProperty:pt}},options:Xe});continue}if(B(pt)){if("@reverse"===Ce)throw new T("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:Fe});if(pt in qe&&"@included"!==pt&&"@type"!==pt)throw new T("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:pt})}if("@id"===pt){if(!b(Fe)){if(!Xe.isFrame)throw new T('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:Fe});if(E(Fe)){if(!C(Fe))throw new T('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Fe})}else{if(!x(Fe))throw new T('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Fe});if(!Fe.every(ut=>b(ut)))throw new T('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Fe})}}te(qe,"@id",G(Fe).map(ut=>{if(b(ut)){const Zt=F(Ve,ut,{base:!0},Xe);return Xe.eventHandler&&(null===Zt?q(null===ut?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:ut}},options:Xe}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:ut}},options:Xe}):Z(Zt)||q({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:ut,expandedId:Zt}},options:Xe})),Zt}return ut}),{propertyIsArray:Xe.isFrame});continue}if("@type"===pt){E(Fe)&&(Fe=Object.fromEntries(Object.entries(Fe).map(([ut,Zt])=>[F(Tt,ut,{vocab:!0}),G(Zt).map(Ft=>F(Tt,Ft,{base:!0,vocab:!0},{...Xe,typeExpansion:!0}))]))),H(Fe,Xe.isFrame),te(qe,"@type",G(Fe).map(ut=>{if(b(ut)){const Zt=F(Tt,ut,{base:!0,vocab:!0},{...Xe,typeExpansion:!0});return"@json"!==Zt&&!Z(Zt)&&Xe.eventHandler&&q({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:ut}},options:Xe}),Zt}return ut}),{propertyIsArray:Xe.isFrame});continue}if("@included"===pt&&U(Ve,1.1)){const ut=G(yield ae.expand({activeCtx:Ve,activeProperty:_e,element:Fe,options:Xe}));if(!ut.every(Zt=>A(Zt)))throw new T("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:Fe});te(qe,"@included",ut,{propertyIsArray:!0});continue}if("@graph"===pt&&!E(Fe)&&!x(Fe))throw new T('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:Fe});if("@value"===pt){Ue=Fe,Ne&&U(Ve,1.1)?qe["@value"]=Fe:te(qe,"@value",Fe,{propertyIsArray:Xe.isFrame});continue}if("@language"===pt){if(null===Fe)continue;if(!b(Fe)&&!Xe.isFrame)throw new T('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:Fe});Fe=G(Fe).map(ut=>b(ut)?ut.toLowerCase():ut);for(const ut of Fe)b(ut)&&!ut.match(X)&&Xe.eventHandler&&q({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:ut}},options:Xe});te(qe,"@language",Fe,{propertyIsArray:Xe.isFrame});continue}if("@direction"===pt){if(!b(Fe)&&!Xe.isFrame)throw new T('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:Fe});Fe=G(Fe);for(const ut of Fe)if(b(ut)&&"ltr"!==ut&&"rtl"!==ut)throw new T('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:Fe});te(qe,"@direction",Fe,{propertyIsArray:Xe.isFrame});continue}if("@index"===pt){if(!b(Fe))throw new T('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:Fe});te(qe,"@index",Fe);continue}if("@reverse"===pt){if(!E(Fe))throw new T('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:Fe});if(ot=yield ae.expand({activeCtx:Ve,activeProperty:"@reverse",element:Fe,options:Xe}),"@reverse"in ot)for(const Zt in ot["@reverse"])te(qe,Zt,ot["@reverse"][Zt],{propertyIsArray:!0});let ut=qe["@reverse"]||null;for(const Zt in ot){if("@reverse"===Zt)continue;null===ut&&(ut=qe["@reverse"]={}),te(ut,Zt,[],{propertyIsArray:!0});const Ft=ot[Zt];for(let Vn=0;Vn<Ft.length;++Vn){const ir=Ft[Vn];if(P(ir)||S(ir))throw new T('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:ot});te(ut,Zt,ir,{propertyIsArray:!0})}}continue}if("@nest"===pt){Le.push(ye);continue}let ft=Ve;const bt=N(Ve,ye,"@context");k(bt)||(ft=yield J({activeCtx:Ve,localCtx:bt,propagate:!0,overrideProtected:!0,options:Xe}));const Ht=N(ft,ye,"@container")||[];if(Ht.includes("@language")&&E(Fe))ot=we(ft,Fe,N(ft,ye,"@direction"),Xe);else if(Ht.includes("@index")&&E(Fe)){const ut=Ht.includes("@graph"),Zt=N(ft,ye,"@index")||"@index",Ft="@index"!==Zt&&F(Ve,Zt,{vocab:!0},Xe);ot=yield fe({activeCtx:ft,options:Xe,activeProperty:ye,value:Fe,asGraph:ut,indexKey:Zt,propertyIndex:Ft})}else if(Ht.includes("@id")&&E(Fe)){const ut=Ht.includes("@graph");ot=yield fe({activeCtx:ft,options:Xe,activeProperty:ye,value:Fe,asGraph:ut,indexKey:"@id"})}else if(Ht.includes("@type")&&E(Fe))ot=yield fe({activeCtx:ft.revertToPreviousContext(),options:Xe,activeProperty:ye,value:Fe,asGraph:!1,indexKey:"@type"});else{const ut="@list"===pt;if(ut||"@set"===pt){let Zt=_e;ut&&"@graph"===Ce&&(Zt=null),ot=yield ae.expand({activeCtx:ft,activeProperty:Zt,element:Fe,options:Xe,insideList:ut})}else ot="@json"===N(Ve,ye,"@type")?{"@type":"@json","@value":Fe}:yield ae.expand({activeCtx:ft,activeProperty:ye,element:Fe,options:Xe,insideList:!1})}if(null!==ot||"@value"===pt){if("@list"!==pt&&!S(ot)&&Ht.includes("@list")&&(ot={"@list":G(ot)}),Ht.includes("@graph")&&!Ht.some(ut=>"@id"===ut||"@index"===ut)&&(ot=G(ot).map(ut=>({"@graph":G(ut)}))),ft.mappings.has(ye)&&ft.mappings.get(ye).reverse){const ut=qe["@reverse"]=qe["@reverse"]||{};ot=G(ot);for(let Zt=0;Zt<ot.length;++Zt){const Ft=ot[Zt];if(P(Ft)||S(Ft))throw new T('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:ot});te(ut,pt,Ft,{propertyIsArray:!0})}continue}te(qe,pt,ot,{propertyIsArray:!0})}}if("@value"in qe&&("@json"!==qe["@type"]||!U(Ve,1.1))&&(E(Ue)||x(Ue))&&!Xe.isFrame)throw new T('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:Ue});for(const ye of Le){const Fe=x(ge[ye])?ge[ye]:[ge[ye]];for(const ot of Fe){if(!E(ot)||Object.keys(ot).some(pt=>"@value"===F(Ve,pt,{vocab:!0},Xe)))throw new T("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:ot});yield ue({activeCtx:Ve,activeProperty:_e,expandedActiveProperty:Ce,element:ot,expandedParent:qe,options:Xe,insideList:Me,typeScopedContext:Tt,typeKey:et})}}})).apply(this,arguments)}function de({activeCtx:Ve,activeProperty:_e,value:Ce,options:ge}){if(null==Ce)return null;const qe=F(Ve,_e,{vocab:!0},ge);if("@id"===qe)return F(Ve,Ce,{base:!0},ge);if("@type"===qe)return F(Ve,Ce,{vocab:!0,base:!0},{...ge,typeExpansion:!0});const Xe=N(Ve,_e,"@type");if(("@id"===Xe||"@graph"===qe)&&b(Ce)){const et=F(Ve,Ce,{base:!0},ge);return null===et&&Ce.match(ie)&&ge.eventHandler&&q({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:_e}},options:ge}),{"@id":et}}if("@vocab"===Xe&&b(Ce))return{"@id":F(Ve,Ce,{vocab:!0,base:!0},ge)};if(B(qe))return Ce;const Me={};if(Xe&&!["@id","@vocab","@none"].includes(Xe))Me["@type"]=Xe;else if(b(Ce)){const et=N(Ve,_e,"@language");null!==et&&(Me["@language"]=et);const Tt=N(Ve,_e,"@direction");null!==Tt&&(Me["@direction"]=Tt)}return["boolean","number","string"].includes(typeof Ce)||(Ce=Ce.toString()),Me["@value"]=Ce,Me}function we(Ve,_e,Ce,ge){const qe=[],Xe=Object.keys(_e).sort();for(const Me of Xe){const et=F(Ve,Me,{vocab:!0},ge);let Tt=_e[Me];x(Tt)||(Tt=[Tt]);for(const Be of Tt){if(null===Be)continue;if(!b(Be))throw new T("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:_e});const Le={"@value":Be};"@none"!==et&&(Me.match(X)||ge.eventHandler&&q({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Me}},options:ge}),Le["@language"]=Me.toLowerCase()),Ce&&(Le["@direction"]=Ce),qe.push(Le)}}return qe}function fe(Ve){return je.apply(this,arguments)}function je(){return(je=_(function*({activeCtx:Ve,options:_e,activeProperty:Ce,value:ge,asGraph:qe,indexKey:Xe,propertyIndex:Me}){const et=[],Tt=Object.keys(ge).sort(),Be="@type"===Xe;for(let Le of Tt){if(Be){const ye=N(Ve,Le,"@context");k(ye)||(Ve=yield J({activeCtx:Ve,localCtx:ye,propagate:!1,options:_e}))}let Ne,Ue=ge[Le];x(Ue)||(Ue=[Ue]),Ue=yield ae.expand({activeCtx:Ve,activeProperty:Ce,element:Ue,options:_e,insideList:!1,insideIndex:!0}),Ne=Me?"@none"===Le?"@none":de({activeCtx:Ve,activeProperty:Xe,value:Le,options:_e}):F(Ve,Le,{vocab:!0},_e),"@id"===Xe?Le=F(Ve,Le,{base:!0},_e):Be&&(Le=Ne);for(let ye of Ue){if(qe&&!R(ye)&&(ye={"@graph":[ye]}),"@type"===Xe)"@none"===Ne||(ye["@type"]=ye["@type"]?[Le].concat(ye["@type"]):[Le]);else{if(P(ye)&&!["@language","@type","@index"].includes(Xe))throw new T(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${Xe}".`,"jsonld.SyntaxError",{code:"invalid value object",value:ye});Me?"@none"!==Ne&&te(ye,Me,Ne,{propertyIsArray:!0,prependValue:!0}):"@none"!==Ne&&!(Xe in ye)&&(ye[Xe]=Le)}et.push(ye)}}return et})).apply(this,arguments)}j.exports=ae,ae.expand=function(){var Ve=_(function*({activeCtx:_e,activeProperty:Ce=null,element:ge,options:qe={},insideList:Xe=!1,insideIndex:Me=!1,typeScopedContext:et=null}){if(null==ge)return null;if("@default"===Ce&&(qe=Object.assign({},qe,{isFrame:!1})),!x(ge)&&!E(ge))return Xe||null!==Ce&&"@graph"!==F(_e,Ce,{vocab:!0},qe)?de({activeCtx:_e,activeProperty:Ce,value:ge,options:qe}):(qe.eventHandler&&q({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:ge}},options:qe}),null);if(x(ge)){let ot=[];const pt=N(_e,Ce,"@container")||[];Xe=Xe||pt.includes("@list");for(let ft=0;ft<ge.length;++ft){let bt=yield ae.expand({activeCtx:_e,activeProperty:Ce,element:ge[ft],options:qe,insideIndex:Me,typeScopedContext:et});Xe&&x(bt)&&(bt={"@list":bt}),null!==bt&&(x(bt)?ot=ot.concat(bt):ot.push(bt))}return ot}const Tt=F(_e,Ce,{vocab:!0},qe),Be=N(_e,Ce,"@context");et=et||(_e.previousContext?_e:null);let Le=Object.keys(ge).sort(),Ue=!Me;if(Ue&&et&&Le.length<=2&&!Le.includes("@context"))for(const ot of Le){const pt=F(et,ot,{vocab:!0},qe);if("@value"===pt){Ue=!1,_e=et;break}if("@id"===pt&&1===Le.length){Ue=!1;break}}Ue&&(_e=_e.revertToPreviousContext()),k(Be)||(_e=yield J({activeCtx:_e,localCtx:Be,propagate:!0,overrideProtected:!0,options:qe})),"@context"in ge&&(_e=yield J({activeCtx:_e,localCtx:ge["@context"],options:qe})),et=_e;let Ne=null;for(const ot of Le)if("@type"===F(_e,ot,{vocab:!0},qe)){Ne=Ne||ot;const ft=ge[ot],bt=Array.isArray(ft)?ft.length>1?ft.slice().sort():ft:[ft];for(const Ht of bt){const ut=N(et,Ht,"@context");k(ut)||(_e=yield J({activeCtx:_e,localCtx:ut,options:qe,propagate:!1}))}}let ye={};yield ue({activeCtx:_e,activeProperty:Ce,expandedActiveProperty:Tt,element:ge,expandedParent:ye,options:qe,insideList:Xe,typeKey:Ne,typeScopedContext:et}),Le=Object.keys(ye);let Fe=Le.length;if("@value"in ye){if("@type"in ye&&("@language"in ye||"@direction"in ye))throw new T('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ye});let ot=Fe-1;if("@type"in ye&&(ot-=1),"@index"in ye&&(ot-=1),"@language"in ye&&(ot-=1),"@direction"in ye&&(ot-=1),0!==ot)throw new T('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ye});const pt=null===ye["@value"]?[]:G(ye["@value"]),ft=V(ye,"@type");if(!U(_e,1.1)||!ft.includes("@json")||1!==ft.length)if(0===pt.length)qe.eventHandler&&q({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:ye}},options:qe}),ye=null;else{if(!pt.every(bt=>b(bt)||C(bt))&&"@language"in ye)throw new T("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:ye});if(!ft.every(bt=>Z(bt)&&!(b(bt)&&0===bt.indexOf("_:"))||C(bt)))throw new T('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:ye})}}else if("@type"in ye&&!x(ye["@type"]))ye["@type"]=[ye["@type"]];else if("@set"in ye||"@list"in ye){if(Fe>1&&(2!==Fe||!("@index"in ye)))throw new T('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:ye});"@set"in ye&&(ye=ye["@set"],Le=Object.keys(ye),Fe=Le.length)}else 1===Fe&&"@language"in ye&&(qe.eventHandler&&q({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:ye}},options:qe}),ye=null);if(E(ye)&&!qe.keepFreeFloatingNodes&&!Xe&&(null===Ce||"@graph"===Tt)&&(0===Fe||"@value"in ye||"@list"in ye||1===Fe&&"@id"in ye)){if(qe.eventHandler){let ot,pt;0===Fe?(ot="empty object",pt="Dropping empty object."):"@value"in ye?(ot="object with only @value",pt="Dropping object with only @value."):"@list"in ye?(ot="object with only @list",pt="Dropping object with only @list."):1===Fe&&"@id"in ye&&(ot="object with only @id",pt="Dropping object with only @id."),q({event:{type:["JsonLdEvent"],code:ot,level:"warning",message:pt,details:{value:ye}},options:qe})}ye=null}return ye});return function(_e){return Ve.apply(this,arguments)}}()},7613:(j,ee,v)=>{"use strict";const{isSubjectReference:_}=v(9094),{createMergedNodeMap:T}=v(5057),x={};j.exports=x,x.flatten=E=>{const C=T(E),b=[],k=Object.keys(C).sort();for(let S=0;S<k.length;++S){const P=C[k[S]];_(P)||b.push(P)}return b}},1938:(j,ee,v)=>{"use strict";const{isKeyword:_}=v(2134),T=v(9094),x=v(2353),E=v(4249),C=v(4920),b=v(3327),{createNodeMap:k,mergeNodeMapGraphs:S}=v(5057),P={};function R(G){const V={};for(const H in G)void 0!==G[H]&&(V["@"+H]=[G[H]]);return[V]}function A(G,V,H){for(let q=H.length-1;q>=0;--q){const ae=H[q];if(ae.graph===V&&ae.subject["@id"]===G["@id"])return!0}return!1}function F(G,V,H){const q="@"+H;let ae=q in G?G[q][0]:V[H];if("embed"===H)if(!0===ae)ae="@once";else if(!1===ae)ae="@never";else if("@always"!==ae&&"@never"!==ae&&"@link"!==ae&&"@first"!==ae&&"@last"!==ae&&"@once"!==ae)throw new b("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:G});return ae}function N(G){if(!x.isArray(G)||1!==G.length||!x.isObject(G[0]))throw new b("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:G});if("@id"in G[0])for(const V of E.asArray(G[0]["@id"]))if(!x.isObject(V)&&!C.isAbsolute(V)||x.isString(V)&&0===V.indexOf("_:"))throw new b("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:G});if("@type"in G[0])for(const V of E.asArray(G[0]["@type"]))if(!x.isObject(V)&&!C.isAbsolute(V)||x.isString(V)&&0===V.indexOf("_:"))throw new b("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:G})}function J(G,V,H,q){let ae=!0,ue=!1;for(const se in H){let de=!1;const we=E.getValues(V,se),fe=0===E.getValues(H,se).length;if("@id"===se){if(x.isEmptyObject(H["@id"][0]||{})?de=!0:H["@id"].length>=0&&(de=H["@id"].includes(we[0])),!q.requireAll)return de}else if("@type"===se){if(ae=!1,fe){if(we.length>0)return!1;de=!0}else if(1===H["@type"].length&&x.isEmptyObject(H["@type"][0]))de=we.length>0;else for(const je of H["@type"])de=!(!x.isObject(je)||!("@default"in je))||de||we.some(Ve=>Ve===je);if(!q.requireAll)return de}else{if(_(se))continue;{const je=E.getValues(H,se)[0];let Ve=!1;if(je&&(N([je]),Ve="@default"in je),ae=!1,0===we.length&&Ve)continue;if(we.length>0&&fe)return!1;if(void 0===je){if(we.length>0)return!1;de=!0}else if(T.isList(je)){const _e=je["@list"][0];if(T.isList(we[0])){const Ce=we[0]["@list"];T.isValue(_e)?de=Ce.some(ge=>te(_e,ge)):(T.isSubject(_e)||T.isSubjectReference(_e))&&(de=Ce.some(ge=>ie(G,_e,ge,q)))}}else de=T.isValue(je)?we.some(_e=>te(je,_e)):T.isSubjectReference(je)?we.some(_e=>ie(G,je,_e,q)):!!x.isObject(je)&&we.length>0}}if(!de&&q.requireAll)return!1;ue=ue||de}return ae||ue}function U(G,V){const H=G.uniqueEmbeds[G.graph],q=H[V],ae=q.parent,ue=q.property,se={"@id":V};if(x.isArray(ae)){for(let we=0;we<ae.length;++we)if(E.compareValues(ae[we],se)){ae[we]=se;break}}else{const we=x.isArray(ae[ue]);E.removeValue(ae,ue,se,{propertyIsArray:we}),E.addValue(ae,ue,se,{propertyIsArray:we})}const de=we=>{const fe=Object.keys(H);for(const je of fe)je in H&&x.isObject(H[je].parent)&&H[je].parent["@id"]===we&&(delete H[je],de(je))};de(V)}function Z(G,V){if(x.isArray(G))return G.map(H=>Z(H,V));if(x.isObject(G)){if("@preserve"in G)return G["@preserve"][0];if(T.isValue(G))return G;if(T.isList(G))return G["@list"]=Z(G["@list"],V),G;if("@id"in G){const H=G["@id"];if(V.link.hasOwnProperty(H)){const q=V.link[H].indexOf(G);if(-1!==q)return V.link[H][q];V.link[H].push(G)}else V.link[H]=[G]}for(const H in G)"@id"===H&&V.bnodesToClear.includes(G[H])?delete G["@id"]:G[H]=Z(G[H],V)}return G}function X(G,V,H){x.isObject(G)?E.addValue(G,V,H,{propertyIsArray:!0}):G.push(H)}function ie(G,V,H,q){if(!("@id"in H))return!1;const ae=G.subjects[H["@id"]];return ae&&J(G,ae,V,q)}function te(G,V){const H=V["@value"],q=V["@type"],ae=V["@language"],ue=G["@value"]?x.isArray(G["@value"])?G["@value"]:[G["@value"]]:[],se=G["@type"]?x.isArray(G["@type"])?G["@type"]:[G["@type"]]:[],de=G["@language"]?x.isArray(G["@language"])?G["@language"]:[G["@language"]]:[];return 0===ue.length&&0===se.length&&0===de.length||!(!ue.includes(H)&&!x.isEmptyObject(ue[0])||!(!q&&0===se.length||se.includes(q)||q&&x.isEmptyObject(se[0]))||!(!ae&&0===de.length||de.includes(ae)||ae&&x.isEmptyObject(de[0])))}j.exports=P,P.frameMergedOrDefault=(G,V,H)=>{const q={options:H,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},ae=new E.IdentifierIssuer("_:b");k(G,q.graphMap,"@default",ae),H.merged&&(q.graphMap["@merged"]=S(q.graphMap),q.graph="@merged"),q.subjects=q.graphMap[q.graph];const ue=[];return P.frame(q,Object.keys(q.subjects).sort(),V,ue),H.pruneBlankNodeIdentifiers&&(H.bnodesToClear=Object.keys(q.bnodeMap).filter(se=>1===q.bnodeMap[se].length)),H.link={},Z(ue,H)},P.frame=(G,V,H,q,ae=null)=>{N(H);const ue=G.options,se={embed:F(H=H[0],ue,"embed"),explicit:F(H,ue,"explicit"),requireAll:F(H,ue,"requireAll")};G.link.hasOwnProperty(G.graph)||(G.link[G.graph]={});const de=G.link[G.graph],we=function B(G,V,H,q){const ae={};for(const ue of V){const se=G.graphMap[G.graph][ue];J(G,se,H,q)&&(ae[ue]=se)}return ae}(G,V,H,se),fe=Object.keys(we).sort();for(const je of fe){const Ve=we[je];if(null===ae?G.uniqueEmbeds={[G.graph]:{}}:G.uniqueEmbeds[G.graph]=G.uniqueEmbeds[G.graph]||{},"@link"===se.embed&&je in de){X(q,ae,de[je]);continue}const _e={"@id":je};if(0===je.indexOf("_:")&&E.addValue(G.bnodeMap,je,_e,{propertyIsArray:!0}),de[je]=_e,("@first"===se.embed||"@last"===se.embed)&&G.is11)throw new b("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:H});if(G.embedded||!G.uniqueEmbeds[G.graph].hasOwnProperty(je)){if(G.embedded&&("@never"===se.embed||A(Ve,G.graph,G.subjectStack))){X(q,ae,_e);continue}if(G.embedded&&("@first"==se.embed||"@once"==se.embed)&&G.uniqueEmbeds[G.graph].hasOwnProperty(je)){X(q,ae,_e);continue}if("@last"===se.embed&&je in G.uniqueEmbeds[G.graph]&&U(G,je),G.uniqueEmbeds[G.graph][je]={parent:q,property:ae},G.subjectStack.push({subject:Ve,graph:G.graph}),je in G.graphMap){let Ce=!1,ge=null;"@graph"in H?(ge=H["@graph"][0],Ce=!("@merged"===je||"@default"===je),x.isObject(ge)||(ge={})):(Ce="@merged"!==G.graph,ge={}),Ce&&P.frame({...G,graph:je,embedded:!1},Object.keys(G.graphMap[je]).sort(),[ge],_e,"@graph")}"@included"in H&&P.frame({...G,embedded:!1},V,H["@included"],_e,"@included");for(const Ce of Object.keys(Ve).sort())if(_(Ce)){if(_e[Ce]=E.clone(Ve[Ce]),"@type"===Ce)for(const ge of Ve["@type"])0===ge.indexOf("_:")&&E.addValue(G.bnodeMap,ge,_e,{propertyIsArray:!0})}else if(!se.explicit||Ce in H)for(const ge of Ve[Ce]){const qe=Ce in H?H[Ce]:R(se);if(T.isList(ge)){const Xe=H[Ce]&&H[Ce][0]&&H[Ce][0]["@list"]?H[Ce][0]["@list"]:R(se),Me={"@list":[]};X(_e,Ce,Me);const et=ge["@list"];for(const Tt of et)T.isSubjectReference(Tt)?P.frame({...G,embedded:!0},[Tt["@id"]],Xe,Me,"@list"):X(Me,"@list",E.clone(Tt))}else T.isSubjectReference(ge)?P.frame({...G,embedded:!0},[ge["@id"]],qe,_e,Ce):te(qe[0],ge)&&X(_e,Ce,E.clone(ge))}for(const Ce of Object.keys(H).sort()){if("@type"===Ce){if(!x.isObject(H[Ce][0])||!("@default"in H[Ce][0]))continue}else if(_(Ce))continue;const ge=H[Ce][0]||{};if(!F(ge,ue,"omitDefault")&&!(Ce in _e)){let Xe="@null";"@default"in ge&&(Xe=E.clone(ge["@default"])),x.isArray(Xe)||(Xe=[Xe]),_e[Ce]=[{"@preserve":Xe}]}}for(const Ce of Object.keys(H["@reverse"]||{}).sort()){const ge=H["@reverse"][Ce];for(const qe of Object.keys(G.subjects))E.getValues(G.subjects[qe],Ce).some(Me=>Me["@id"]===je)&&(_e["@reverse"]=_e["@reverse"]||{},E.addValue(_e["@reverse"],Ce,[],{propertyIsArray:!0}),P.frame({...G,embedded:!0},[qe],ge,_e["@reverse"][Ce],ae))}X(q,ae,_e),G.subjectStack.pop()}}},P.cleanupNull=(G,V)=>{if(x.isArray(G))return G.map(q=>P.cleanupNull(q,V)).filter(q=>q);if("@null"===G)return null;if(x.isObject(G)){if("@id"in G){const H=G["@id"];if(V.link.hasOwnProperty(H)){const q=V.link[H].indexOf(G);if(-1!==q)return V.link[H][q];V.link[H].push(G)}else V.link[H]=[G]}for(const H in G)G[H]=P.cleanupNull(G[H],V)}return G}},2216:(j,ee,v)=>{"use strict";var _=v(9344).default;const T=v(3327),x=v(9094),E=v(2353),{REGEX_BCP47:C,addValue:b}=v(4249),{handleEvent:k}=v(5775),{RDF_LIST:S,RDF_FIRST:P,RDF_REST:R,RDF_NIL:A,RDF_TYPE:F,RDF_JSON_LITERAL:N,XSD_BOOLEAN:B,XSD_DOUBLE:J,XSD_INTEGER:U,XSD_STRING:Z}=v(313),X={};function ie(te,G,V,H){if(te.termType.endsWith("Node"))return{"@id":te.value};const q={"@value":te.value};if(te.language)te.language.match(C)||H.eventHandler&&k({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:te.language}},options:H}),q["@language"]=te.language;else{let ae=te.datatype.value;if(ae||(ae=Z),ae===N){ae="@json";try{q["@value"]=JSON.parse(q["@value"])}catch(ue){throw new T("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:q["@value"],cause:ue})}}if(G){if(ae===B)"true"===q["@value"]?q["@value"]=!0:"false"===q["@value"]&&(q["@value"]=!1);else if(E.isNumeric(q["@value"]))if(ae===U){const ue=parseInt(q["@value"],10);ue.toFixed(0)===q["@value"]&&(q["@value"]=ue)}else ae===J&&(q["@value"]=parseFloat(q["@value"]));[B,U,J,Z].includes(ae)||(q["@type"]=ae)}else if("i18n-datatype"===V&&ae.startsWith("https://www.w3.org/ns/i18n#")){const[,ue,se]=ae.split(/[#_]/);ue.length>0&&(q["@language"]=ue,ue.match(C)||H.eventHandler&&k({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:ue}},options:H})),q["@direction"]=se}else ae!==Z&&(q["@type"]=ae)}return q}j.exports=X,X.fromRDF=function(){var te=_(function*(G,V){const H={},q={"@default":H},ae={},{useRdfType:ue=!1,useNativeTypes:se=!1,rdfDirection:de=null}=V;for(const je of G){const Ve="DefaultGraph"===je.graph.termType?"@default":je.graph.value;Ve in q||(q[Ve]={}),"@default"!==Ve&&!(Ve in H)&&(H[Ve]={"@id":Ve});const _e=q[Ve],Ce=je.subject.value,ge=je.predicate.value,qe=je.object;Ce in _e||(_e[Ce]={"@id":Ce});const Xe=_e[Ce],Me=qe.termType.endsWith("Node");if(Me&&!(qe.value in _e)&&(_e[qe.value]={"@id":qe.value}),ge===F&&!ue&&Me){b(Xe,"@type",qe.value,{propertyIsArray:!0});continue}const et=ie(qe,se,de,V);if(b(Xe,ge,et,{propertyIsArray:!0}),Me)if(qe.value===A){const Tt=_e[qe.value];"usages"in Tt||(Tt.usages=[]),Tt.usages.push({node:Xe,property:ge,value:et})}else ae[qe.value]=!(qe.value in ae)&&{node:Xe,property:ge,value:et}}for(const je in q){const Ve=q[je];if(!(A in Ve))continue;const _e=Ve[A];if(_e.usages){for(let Ce of _e.usages){let ge=Ce.node,qe=Ce.property,Xe=Ce.value;const Me=[],et=[];let Tt=Object.keys(ge).length;for(;qe===R&&E.isObject(ae[ge["@id"]])&&E.isArray(ge[P])&&1===ge[P].length&&E.isArray(ge[R])&&1===ge[R].length&&(3===Tt||4===Tt&&E.isArray(ge["@type"])&&1===ge["@type"].length&&ge["@type"][0]===S)&&(Me.push(ge[P][0]),et.push(ge["@id"]),Ce=ae[ge["@id"]],ge=Ce.node,qe=Ce.property,Xe=Ce.value,Tt=Object.keys(ge).length,x.isBlankNode(ge)););delete Xe["@id"],Xe["@list"]=Me.reverse();for(const Be of et)delete Ve[Be]}delete _e.usages}}const we=[],fe=Object.keys(H).sort();for(const je of fe){const Ve=H[je];if(je in q){const _e=Ve["@graph"]=[],Ce=q[je],ge=Object.keys(Ce).sort();for(const qe of ge){const Xe=Ce[qe];x.isSubjectReference(Xe)||_e.push(Xe)}}x.isSubjectReference(Ve)||we.push(Ve)}return we});return function(G,V){return te.apply(this,arguments)}}()},9094:(j,ee,v)=>{"use strict";const _=v(2353),T={};j.exports=T,T.isSubject=x=>!(!_.isObject(x)||"@value"in x||"@set"in x||"@list"in x)&&(Object.keys(x).length>1||!("@id"in x)),T.isSubjectReference=x=>_.isObject(x)&&1===Object.keys(x).length&&"@id"in x,T.isValue=x=>_.isObject(x)&&"@value"in x,T.isList=x=>_.isObject(x)&&"@list"in x,T.isGraph=x=>_.isObject(x)&&"@graph"in x&&1===Object.keys(x).filter(E=>"@id"!==E&&"@index"!==E).length,T.isSimpleGraph=x=>T.isGraph(x)&&!("@id"in x),T.isBlankNode=x=>{if(_.isObject(x)){if("@id"in x){const E=x["@id"];return!_.isString(E)||0===E.indexOf("_:")}return 0===Object.keys(x).length||!("@value"in x||"@set"in x||"@list"in x)}return!1}},5049:(j,ee,v)=>{var _=v(9344).default;const T=v(4308),x=v(2363),E=v(4249),C=v(4918),b=E.IdentifierIssuer,k=v(3327),S=v(5943),P=v(3865),{expand:R}=v(554),{flatten:A}=v(7613),{fromRDF:F}=v(2216),{toRDF:N}=v(5671),{frameMergedOrDefault:B,cleanupNull:J}=v(1938),{isArray:U,isObject:Z,isString:X}=v(2353),{isSubjectReference:ie}=v(9094),{expandIri:te,getInitialContext:G,process:V,processingMode:H}=v(2134),{compact:q,compactIri:ae}=v(9857),{createNodeMap:ue,createMergedNodeMap:se,mergeNodeMaps:de}=v(5057),{logEventHandler:we,logWarningEventHandler:fe,safeEventHandler:je,setDefaultEventHandler:Ve,setupEventHandler:_e,strictEventHandler:Ce,unhandledEventHandler:ge}=v(5775),qe=function(Me){const et={},Be=new S({max:100});function Le(Ue,{documentLoader:Ne=Me.documentLoader,...ye}){if(Ue&&"compactionMap"in Ue)throw new k('"compactionMap" not supported.',"jsonld.OptionsError");if(Ue&&"expansionMap"in Ue)throw new k('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:Ne},ye,Ue,{eventHandler:_e({options:Ue})})}return Me.compact=function(){var Ue=_(function*(Ne,ye,Fe){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===ye)throw new k("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===Ne)return null;let ot;(Fe=Le(Fe,{base:X(Ne)?Ne:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new b("_:b"),contextResolver:new C({sharedCache:Be})})).link&&(Fe.skipExpansion=!0),Fe.compactToRelative||delete Fe.base,ot=Fe.skipExpansion?Ne:yield Me.expand(Ne,Fe);const pt=yield Me.processContext(G(Fe),ye,Fe);let ft=yield q({activeCtx:pt,element:ot,options:Fe});Fe.compactArrays&&!Fe.graph&&U(ft)?1===ft.length?ft=ft[0]:0===ft.length&&(ft={}):Fe.graph&&Z(ft)&&(ft=[ft]),Z(ye)&&"@context"in ye&&(ye=ye["@context"]),ye=E.clone(ye),U(ye)||(ye=[ye]);const bt=ye;ye=[];for(let ut=0;ut<bt.length;++ut)(!Z(bt[ut])||Object.keys(bt[ut]).length>0)&&ye.push(bt[ut]);const Ht=ye.length>0;if(1===ye.length&&(ye=ye[0]),U(ft)){const ut=ae({activeCtx:pt,iri:"@graph",relativeTo:{vocab:!0}}),Zt=ft;ft={},Ht&&(ft["@context"]=ye),ft[ut]=Zt}else if(Z(ft)&&Ht){const ut=ft;ft={"@context":ye};for(const Zt in ut)ft[Zt]=ut[Zt]}return ft});return function(Ne,ye,Fe){return Ue.apply(this,arguments)}}(),Me.expand=function(){var Ue=_(function*(Ne,ye){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const Fe={},ot=[];if("expandContext"in(ye=Le(ye,{keepFreeFloatingNodes:!1,contextResolver:new C({sharedCache:Be})}))){const Ht=E.clone(ye.expandContext);Fe.expandContext=Z(Ht)&&"@context"in Ht?Ht:{"@context":Ht},ot.push(Fe.expandContext)}let pt;if(X(Ne)){const Ht=yield Me.get(Ne,ye);pt=Ht.documentUrl,Fe.input=Ht.document,Ht.contextUrl&&(Fe.remoteContext={"@context":Ht.contextUrl},ot.push(Fe.remoteContext))}else Fe.input=E.clone(Ne);"base"in ye||(ye.base=pt||"");let ft=G(ye);for(const Ht of ot)ft=yield V({activeCtx:ft,localCtx:Ht,options:ye});let bt=yield R({activeCtx:ft,element:Fe.input,options:ye});return Z(bt)&&"@graph"in bt&&1===Object.keys(bt).length?bt=bt["@graph"]:null===bt&&(bt=[]),U(bt)||(bt=[bt]),bt});return function(Ne,ye){return Ue.apply(this,arguments)}}(),Me.flatten=function(){var Ue=_(function*(Ne,ye,Fe){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");ye="function"==typeof ye?null:ye||null,Fe=Le(Fe,{base:X(Ne)?Ne:"",contextResolver:new C({sharedCache:Be})});const ot=yield Me.expand(Ne,Fe),pt=A(ot);return null===ye?pt:(Fe.graph=!0,Fe.skipExpansion=!0,yield Me.compact(pt,ye,Fe))});return function(Ne,ye,Fe){return Ue.apply(this,arguments)}}(),Me.frame=function(){var Ue=_(function*(Ne,ye,Fe){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(Fe=Le(Fe,{base:X(Ne)?Ne:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new C({sharedCache:Be})}),X(ye)){const Vn=yield Me.get(ye,Fe);if(ye=Vn.document,Vn.contextUrl){let ir=ye["@context"];ir?U(ir)?ir.push(Vn.contextUrl):ir=[ir,Vn.contextUrl]:ir=Vn.contextUrl,ye["@context"]=ir}}const ot=ye&&ye["@context"]||{},pt=yield Me.processContext(G(Fe),ot,Fe);Fe.hasOwnProperty("omitGraph")||(Fe.omitGraph=H(pt,1.1)),Fe.hasOwnProperty("pruneBlankNodeIdentifiers")||(Fe.pruneBlankNodeIdentifiers=H(pt,1.1));const ft=yield Me.expand(Ne,Fe),bt={...Fe};bt.isFrame=!0,bt.keepFreeFloatingNodes=!0;const Ht=yield Me.expand(ye,bt),ut=Object.keys(ye).map(Vn=>te(pt,Vn,{vocab:!0}));bt.merged=!ut.includes("@graph"),bt.is11=H(pt,1.1);const Zt=B(ft,Ht,bt);bt.graph=!Fe.omitGraph,bt.skipExpansion=!0,bt.link={},bt.framing=!0;let Ft=yield Me.compact(Zt,ot,bt);return bt.link={},Ft=J(Ft,bt),Ft});return function(Ne,ye,Fe){return Ue.apply(this,arguments)}}(),Me.link=function(){var Ue=_(function*(Ne,ye,Fe){const ot={};return ye&&(ot["@context"]=ye),ot["@embed"]="@link",Me.frame(Ne,ot,Fe)});return function(Ne,ye,Fe){return Ue.apply(this,arguments)}}(),Me.normalize=Me.canonize=function(){var Ue=_(function*(Ne,ye){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(ye=Le(ye,{base:X(Ne)?Ne:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new C({sharedCache:Be})}))){if("application/n-quads"!==ye.inputFormat&&"application/nquads"!==ye.inputFormat)throw new k("Unknown canonicalization input format.","jsonld.CanonizeError");const pt=P.parse(Ne);return T.canonize(pt,ye)}const Fe={...ye};delete Fe.format,Fe.produceGeneralizedRdf=!1;const ot=yield Me.toRDF(Ne,Fe);return T.canonize(ot,ye)});return function(Ne,ye){return Ue.apply(this,arguments)}}(),Me.fromRDF=function(){var Ue=_(function*(Ne,ye){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");ye=Le(ye,{format:X(Ne)?"application/n-quads":void 0});const{format:Fe}=ye;let{rdfParser:ot}=ye;if(Fe){if(ot=ot||et[Fe],!ot)throw new k("Unknown input format.","jsonld.UnknownFormat",{format:Fe})}else ot=()=>Ne;const pt=yield ot(Ne);return F(pt,ye)});return function(Ne,ye){return Ue.apply(this,arguments)}}(),Me.toRDF=function(){var Ue=_(function*(Ne,ye){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let Fe;Fe=(ye=Le(ye,{base:X(Ne)?Ne:"",skipExpansion:!1,contextResolver:new C({sharedCache:Be})})).skipExpansion?Ne:yield Me.expand(Ne,ye);const ot=N(Fe,ye);if(ye.format){if("application/n-quads"===ye.format||"application/nquads"===ye.format)return P.serialize(ot);throw new k("Unknown output format.","jsonld.UnknownFormat",{format:ye.format})}return ot});return function(Ne,ye){return Ue.apply(this,arguments)}}(),Me.createNodeMap=function(){var Ue=_(function*(Ne,ye){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");ye=Le(ye,{base:X(Ne)?Ne:"",contextResolver:new C({sharedCache:Be})});const Fe=yield Me.expand(Ne,ye);return se(Fe,ye)});return function(Ne,ye){return Ue.apply(this,arguments)}}(),Me.merge=function(){var Ue=_(function*(Ne,ye,Fe){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!U(Ne))throw new TypeError('Could not merge, "docs" must be an array.');ye="function"==typeof ye?null:ye||null,Fe=Le(Fe,{contextResolver:new C({sharedCache:Be})});const ot=yield Promise.all(Ne.map(Vn=>{const ir={...Fe};return Me.expand(Vn,ir)}));let pt=!0;"mergeNodes"in Fe&&(pt=Fe.mergeNodes);const ft=Fe.issuer||new b("_:b"),bt={"@default":{}};for(let Vn=0;Vn<ot.length;++Vn){const ir=E.relabelBlankNodes(ot[Vn],{issuer:new b("_:b"+Vn+"-")}),Cr=pt||0===Vn?bt:{"@default":{}};if(ue(ir,Cr,"@default",ft),Cr!==bt)for(const Wr in Cr){const Or=Cr[Wr];if(!(Wr in bt)){bt[Wr]=Or;continue}const Rr=bt[Wr];for(const Fi in Or)Fi in Rr||(Rr[Fi]=Or[Fi])}}const Ht=de(bt),ut=[],Zt=Object.keys(Ht).sort();for(let Vn=0;Vn<Zt.length;++Vn){const ir=Ht[Zt[Vn]];ie(ir)||ut.push(ir)}return null===ye?ut:(Fe.graph=!0,Fe.skipExpansion=!0,yield Me.compact(ut,ye,Fe))});return function(Ne,ye,Fe){return Ue.apply(this,arguments)}}(),Object.defineProperty(Me,"documentLoader",{get:()=>Me._documentLoader,set:Ue=>Me._documentLoader=Ue}),Me.documentLoader=function(){var Ue=_(function*(Ne){throw new k("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:Ne})});return function(Ne){return Ue.apply(this,arguments)}}(),Me.get=function(){var Ue=_(function*(Ne,ye){let Fe;Fe="function"==typeof ye.documentLoader?ye.documentLoader:Me.documentLoader;const ot=yield Fe(Ne);try{if(!ot.document)throw new k("No remote document found at the given URL.","jsonld.NullRemoteDocument");X(ot.document)&&(ot.document=JSON.parse(ot.document))}catch(pt){throw new k("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:pt,remoteDoc:ot})}return ot});return function(Ne,ye){return Ue.apply(this,arguments)}}(),Me.processContext=function(){var Ue=_(function*(Ne,ye,Fe){return Fe=Le(Fe,{base:"",contextResolver:new C({sharedCache:Be})}),null===ye?G(Fe):(ye=E.clone(ye),Z(ye)&&"@context"in ye||(ye={"@context":ye}),V({activeCtx:Ne,localCtx:ye,options:Fe}))});return function(Ne,ye,Fe){return Ue.apply(this,arguments)}}(),Me.getContextValue=v(2134).getContextValue,Me.documentLoaders={},Me.useDocumentLoader=function(Ue){if(!(Ue in Me.documentLoaders))throw new k('Unknown document loader type: "'+Ue+'"',"jsonld.UnknownDocumentLoader",{type:Ue});Me.documentLoader=Me.documentLoaders[Ue].apply(Me,Array.prototype.slice.call(arguments,1))},Me.registerRDFParser=function(Ue,Ne){et[Ue]=Ne},Me.unregisterRDFParser=function(Ue){delete et[Ue]},Me.registerRDFParser("application/n-quads",P.parse),Me.registerRDFParser("application/nquads",P.parse),Me.url=v(4920),Me.logEventHandler=we,Me.logWarningEventHandler=fe,Me.safeEventHandler=je,Me.setDefaultEventHandler=Ve,Me.strictEventHandler=Ce,Me.unhandledEventHandler=ge,Me.util=E,Object.assign(Me,E),Me.promises=Me,Me.RequestQueue=v(2210),Me.JsonLdProcessor=v(779)(Me),x.setupGlobals(Me),x.setupDocumentLoaders(Me),Me},Xe=function(){return qe(function(){return Xe()})};qe(Xe),j.exports=Xe},5057:(j,ee,v)=>{"use strict";const{isKeyword:_}=v(2134),T=v(9094),x=v(2353),E=v(4249),C=v(3327),b={};j.exports=b,b.createMergedNodeMap=(k,S)=>{const P=(S=S||{}).issuer||new E.IdentifierIssuer("_:b"),R={"@default":{}};return b.createNodeMap(k,R,"@default",P),b.mergeNodeMaps(R)},b.createNodeMap=(k,S,P,R,A,F)=>{if(x.isArray(k)){for(const U of k)b.createNodeMap(U,S,P,R,void 0,F);return}if(!x.isObject(k))return void(F&&F.push(k));if(T.isValue(k)){if("@type"in k){let U=k["@type"];0===U.indexOf("_:")&&(k["@type"]=U=R.getId(U))}return void(F&&F.push(k))}if(F&&T.isList(k)){const U=[];return b.createNodeMap(k["@list"],S,P,R,A,U),void F.push({"@list":U})}if("@type"in k){const U=k["@type"];for(const Z of U)0===Z.indexOf("_:")&&R.getId(Z)}x.isUndefined(A)&&(A=T.isBlankNode(k)?R.getId(k["@id"]):k["@id"]),F&&F.push({"@id":A});const N=S[P],B=N[A]=N[A]||{};B["@id"]=A;const J=Object.keys(k).sort();for(let U of J){if("@id"===U)continue;if("@reverse"===U){const X={"@id":A},ie=k["@reverse"];for(const te in ie){const G=ie[te];for(const V of G){let H=V["@id"];T.isBlankNode(V)&&(H=R.getId(H)),b.createNodeMap(V,S,P,R,H),E.addValue(N[H],te,X,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===U){A in S||(S[A]={}),b.createNodeMap(k[U],S,A,R);continue}if("@included"===U){b.createNodeMap(k[U],S,P,R);continue}if("@type"!==U&&_(U)){if("@index"===U&&U in B&&(k[U]!==B[U]||k[U]["@id"]!==B[U]["@id"]))throw new C("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:B});B[U]=k[U];continue}const Z=k[U];if(0===U.indexOf("_:")&&(U=R.getId(U)),0!==Z.length)for(let X of Z)if("@type"===U&&(X=0===X.indexOf("_:")?R.getId(X):X),T.isSubject(X)||T.isSubjectReference(X)){if("@id"in X&&!X["@id"])continue;const ie=T.isBlankNode(X)?R.getId(X["@id"]):X["@id"];E.addValue(B,U,{"@id":ie},{propertyIsArray:!0,allowDuplicate:!1}),b.createNodeMap(X,S,P,R,ie)}else if(T.isValue(X))E.addValue(B,U,X,{propertyIsArray:!0,allowDuplicate:!1});else if(T.isList(X)){const ie=[];b.createNodeMap(X["@list"],S,P,R,A,ie),X={"@list":ie},E.addValue(B,U,X,{propertyIsArray:!0,allowDuplicate:!1})}else b.createNodeMap(X,S,P,R,A),E.addValue(B,U,X,{propertyIsArray:!0,allowDuplicate:!1});else E.addValue(B,U,[],{propertyIsArray:!0})}},b.mergeNodeMapGraphs=k=>{const S={};for(const P of Object.keys(k).sort())for(const R of Object.keys(k[P]).sort()){const A=k[P][R];R in S||(S[R]={"@id":R});const F=S[R];for(const N of Object.keys(A).sort())if(_(N)&&"@type"!==N)F[N]=E.clone(A[N]);else for(const B of A[N])E.addValue(F,N,E.clone(B),{propertyIsArray:!0,allowDuplicate:!1})}return S},b.mergeNodeMaps=k=>{const S=k["@default"],P=Object.keys(k).sort();for(const R of P){if("@default"===R)continue;const A=k[R];let F=S[R];F?"@graph"in F||(F["@graph"]=[]):S[R]=F={"@id":R,"@graph":[]};const N=F["@graph"];for(const B of Object.keys(A).sort()){const J=A[B];T.isSubjectReference(J)||N.push(J)}}return S}},2363:(j,ee,v)=>{"use strict";const _=v(8719),T={};j.exports=T,T.setupDocumentLoaders=function(x){typeof XMLHttpRequest<"u"&&(x.documentLoaders.xhr=_,x.useDocumentLoader("xhr"))},T.setupGlobals=function(x){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:x.JsonLdProcessor})}},5671:(j,ee,v)=>{"use strict";const{createNodeMap:_}=v(5057),{isKeyword:T}=v(2134),x=v(9094),E=v(5423),C=v(2353),b=v(4249),{handleEvent:k}=v(5775),{RDF_FIRST:S,RDF_REST:P,RDF_NIL:R,RDF_TYPE:A,RDF_JSON_LITERAL:F,RDF_LANGSTRING:N,XSD_BOOLEAN:B,XSD_DOUBLE:J,XSD_INTEGER:U,XSD_STRING:Z}=v(313),{isAbsolute:X}=v(4920),ie={};function te(H,q,ae,ue,se){const de=Object.keys(q).sort();for(const we of de){const fe=q[we],je=Object.keys(fe).sort();for(let Ve of je){const _e=fe[Ve];if("@type"===Ve)Ve=A;else if(T(Ve))continue;for(const Ce of _e){const ge={termType:we.startsWith("_:")?"BlankNode":"NamedNode",value:we};if(!X(we)){se.eventHandler&&k({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:we}},options:se});continue}const qe={termType:Ve.startsWith("_:")?"BlankNode":"NamedNode",value:Ve};if(!X(Ve)){se.eventHandler&&k({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:Ve}},options:se});continue}if("BlankNode"===qe.termType&&!se.produceGeneralizedRdf){se.eventHandler&&k({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:ue.getOldIds().find(Me=>ue.getId(Me)===Ve)}},options:se});continue}const Xe=V(Ce,ue,H,ae,se.rdfDirection,se);Xe&&H.push({subject:ge,predicate:qe,object:Xe,graph:ae})}}}}function V(H,q,ae,ue,se,de){const we={};if(x.isValue(H)){we.termType="Literal",we.value=void 0,we.datatype={termType:"NamedNode"};let fe=H["@value"];const je=H["@type"]||null;"@json"===je?(we.value=E(fe),we.datatype.value=F):C.isBoolean(fe)?(we.value=fe.toString(),we.datatype.value=je||B):C.isDouble(fe)||je===J?(C.isDouble(fe)||(fe=parseFloat(fe)),we.value=fe.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),we.datatype.value=je||J):C.isNumber(fe)?(we.value=fe.toFixed(0),we.datatype.value=je||U):"i18n-datatype"===se&&"@direction"in H?(we.datatype.value="https://www.w3.org/ns/i18n#"+(H["@language"]||"")+`_${H["@direction"]}`,we.value=fe):"@language"in H?(we.value=fe,we.datatype.value=je||N,we.language=H["@language"]):(we.value=fe,we.datatype.value=je||Z)}else if(x.isList(H)){const fe=function G(H,q,ae,ue,se,de){const we={termType:"NamedNode",value:S},fe={termType:"NamedNode",value:P},je={termType:"NamedNode",value:R},Ve=H.pop(),_e=Ve?{termType:"BlankNode",value:q.getId()}:je;let Ce=_e;for(const ge of H){const qe=V(ge,q,ae,ue,se,de),Xe={termType:"BlankNode",value:q.getId()};ae.push({subject:Ce,predicate:we,object:qe,graph:ue}),ae.push({subject:Ce,predicate:fe,object:Xe,graph:ue}),Ce=Xe}if(Ve){const ge=V(Ve,q,ae,ue,se,de);ae.push({subject:Ce,predicate:we,object:ge,graph:ue}),ae.push({subject:Ce,predicate:fe,object:je,graph:ue})}return _e}(H["@list"],q,ae,ue,se,de);we.termType=fe.termType,we.value=fe.value}else{const fe=C.isObject(H)?H["@id"]:H;we.termType=fe.startsWith("_:")?"BlankNode":"NamedNode",we.value=fe}return"NamedNode"!==we.termType||X(we.value)?we:(de.eventHandler&&k({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:we.value}},options:de}),null)}j.exports=ie,ie.toRDF=(H,q)=>{const ae=new b.IdentifierIssuer("_:b"),ue={"@default":{}};_(H,ue,"@default",ae);const se=[],de=Object.keys(ue).sort();for(const we of de){let fe;if("@default"===we)fe={termType:"DefaultGraph",value:""};else{if(!X(we)){q.eventHandler&&k({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:we}},options:q});continue}fe=we.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},fe.value=we}te(se,ue[we],fe,ae,q)}return se}},2353:j=>{"use strict";const ee={};j.exports=ee,ee.isArray=Array.isArray,ee.isBoolean=v=>"boolean"==typeof v||"[object Boolean]"===Object.prototype.toString.call(v),ee.isDouble=v=>ee.isNumber(v)&&(-1!==String(v).indexOf(".")||Math.abs(v)>=1e21),ee.isEmptyObject=v=>ee.isObject(v)&&0===Object.keys(v).length,ee.isNumber=v=>"number"==typeof v||"[object Number]"===Object.prototype.toString.call(v),ee.isNumeric=v=>!isNaN(parseFloat(v))&&isFinite(v),ee.isObject=v=>"[object Object]"===Object.prototype.toString.call(v),ee.isString=v=>"string"==typeof v||"[object String]"===Object.prototype.toString.call(v),ee.isUndefined=v=>typeof v>"u"},4920:(j,ee,v)=>{"use strict";const _=v(2353),T={};j.exports=T,T.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},T.parse=(E,C)=>{const b={},k=T.parsers[C||"full"],S=k.regex.exec(E);let P=k.keys.length;for(;P--;)b[k.keys[P]]=void 0===S[P]?null:S[P];return("https"===b.scheme&&"443"===b.port||"http"===b.scheme&&"80"===b.port)&&(b.href=b.href.replace(":"+b.port,""),b.authority=b.authority.replace(":"+b.port,""),b.port=null),b.normalizedPath=T.removeDotSegments(b.path),b},T.prependBase=(E,C)=>{if(null===E||T.isAbsolute(C))return C;(!E||_.isString(E))&&(E=T.parse(E||""));const b=T.parse(C),k={protocol:E.protocol||""};if(null!==b.authority)k.authority=b.authority,k.path=b.path,k.query=b.query;else if(k.authority=E.authority,""===b.path)k.path=E.path,k.query=null!==b.query?b.query:E.query;else{if(0===b.path.indexOf("/"))k.path=b.path;else{let P=E.path;P=P.substr(0,P.lastIndexOf("/")+1),(P.length>0||E.authority)&&"/"!==P.substr(-1)&&(P+="/"),P+=b.path,k.path=P}k.query=b.query}""!==b.path&&(k.path=T.removeDotSegments(k.path));let S=k.protocol;return null!==k.authority&&(S+="//"+k.authority),S+=k.path,null!==k.query&&(S+="?"+k.query),null!==b.fragment&&(S+="#"+b.fragment),""===S&&(S="./"),S},T.removeBase=(E,C)=>{if(null===E)return C;(!E||_.isString(E))&&(E=T.parse(E||""));let b="";if(""!==E.href?b+=(E.protocol||"")+"//"+(E.authority||""):C.indexOf("//")&&(b+="//"),0!==C.indexOf(b))return C;const k=T.parse(C.substr(b.length)),S=E.normalizedPath.split("/"),P=k.normalizedPath.split("/"),R=k.fragment||k.query?0:1;for(;S.length>0&&P.length>R&&S[0]===P[0];)S.shift(),P.shift();let A="";if(S.length>0){S.pop();for(let F=0;F<S.length;++F)A+="../"}return A+=P.join("/"),null!==k.query&&(A+="?"+k.query),null!==k.fragment&&(A+="#"+k.fragment),""===A&&(A="./"),A},T.removeDotSegments=E=>{if(0===E.length)return"";const C=E.split("/"),b=[];for(;C.length>0;){const k=C.shift(),S=0===C.length;"."!==k?".."!==k?b.push(k):(b.pop(),S&&b.push("")):S&&b.push("")}return"/"===E[0]&&b.length>0&&""!==b[0]&&b.unshift(""),1===b.length&&""===b[0]?"/":b.join("/")};const x=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;T.isAbsolute=E=>_.isString(E)&&x.test(E),T.isRelative=E=>_.isString(E)},4249:(j,ee,v)=>{"use strict";const _=v(9094),T=v(2353),x=v(4308).IdentifierIssuer,E=v(3327),b=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,k=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,S=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,R_headers_accept="application/ld+json, application/json",A={};function F(N,B){if(T.isArray(B))for(let J=0;J<B.length;++J)B[J]=F(N,B[J]);else if(_.isList(B))B["@list"]=F(N,B["@list"]);else if(T.isObject(B)){_.isBlankNode(B)&&(B["@id"]=N.getId(B["@id"]));const J=Object.keys(B).sort();for(let U=0;U<J.length;++U){const Z=J[U];"@id"!==Z&&(B[Z]=F(N,B[Z]))}}return B}j.exports=A,A.IdentifierIssuer=x,A.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,A.REGEX_KEYWORD=/^@[a-zA-Z]+$/,A.clone=function(N){if(N&&"object"==typeof N){let B;if(T.isArray(N)){B=[];for(let J=0;J<N.length;++J)B[J]=A.clone(N[J])}else if(N instanceof Map){B=new Map;for(const[J,U]of N)B.set(J,A.clone(U))}else if(N instanceof Set){B=new Set;for(const J of N)B.add(A.clone(J))}else if(T.isObject(N)){B={};for(const J in N)B[J]=A.clone(N[J])}else B=N.toString();return B}return N},A.asArray=function(N){return Array.isArray(N)?N:[N]},A.buildHeaders=(N={})=>{if(Object.keys(N).some(J=>"accept"===J.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+R_headers_accept+'" is supported.');return Object.assign({Accept:R_headers_accept},N)},A.parseLinkHeader=N=>{const B={},J=N.match(b);for(let U=0;U<J.length;++U){let Z=J[U].match(k);if(!Z)continue;const X={target:Z[1]},ie=Z[2];for(;Z=S.exec(ie);)X[Z[1]]=void 0===Z[2]?Z[3]:Z[2];const te=X.rel||"";Array.isArray(B[te])?B[te].push(X):B[te]=B.hasOwnProperty(te)?[B[te],X]:X}return B},A.validateTypeValue=(N,B)=>{if(!(T.isString(N)||T.isArray(N)&&N.every(J=>T.isString(J)))){if(B&&T.isObject(N))switch(Object.keys(N).length){case 0:return;case 1:if("@default"in N&&A.asArray(N["@default"]).every(J=>T.isString(J)))return}throw new E('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:N})}},A.hasProperty=(N,B)=>{if(N.hasOwnProperty(B)){const J=N[B];return!T.isArray(J)||J.length>0}return!1},A.hasValue=(N,B,J)=>{if(A.hasProperty(N,B)){let U=N[B];const Z=_.isList(U);if(T.isArray(U)||Z){Z&&(U=U["@list"]);for(let X=0;X<U.length;++X)if(A.compareValues(J,U[X]))return!0}else if(!T.isArray(J))return A.compareValues(J,U)}return!1},A.addValue=(N,B,J,U)=>{if("propertyIsArray"in(U=U||{})||(U.propertyIsArray=!1),"valueIsArray"in U||(U.valueIsArray=!1),"allowDuplicate"in U||(U.allowDuplicate=!0),"prependValue"in U||(U.prependValue=!1),U.valueIsArray)N[B]=J;else if(T.isArray(J)){0===J.length&&U.propertyIsArray&&!N.hasOwnProperty(B)&&(N[B]=[]),U.prependValue&&(J=J.concat(N[B]),N[B]=[]);for(let Z=0;Z<J.length;++Z)A.addValue(N,B,J[Z],U)}else if(N.hasOwnProperty(B)){const Z=!U.allowDuplicate&&A.hasValue(N,B,J);!T.isArray(N[B])&&(!Z||U.propertyIsArray)&&(N[B]=[N[B]]),Z||(U.prependValue?N[B].unshift(J):N[B].push(J))}else N[B]=U.propertyIsArray?[J]:J},A.getValues=(N,B)=>[].concat(N[B]||[]),A.removeProperty=(N,B)=>{delete N[B]},A.removeValue=(N,B,J,U)=>{"propertyIsArray"in(U=U||{})||(U.propertyIsArray=!1);const Z=A.getValues(N,B).filter(X=>!A.compareValues(X,J));0===Z.length?A.removeProperty(N,B):N[B]=1!==Z.length||U.propertyIsArray?Z:Z[0]},A.relabelBlankNodes=(N,B)=>F((B=B||{}).issuer||new x("_:b"),N),A.compareValues=(N,B)=>!!(N===B||_.isValue(N)&&_.isValue(B)&&N["@value"]===B["@value"]&&N["@type"]===B["@type"]&&N["@language"]===B["@language"]&&N["@index"]===B["@index"])||!!(T.isObject(N)&&"@id"in N&&T.isObject(B)&&"@id"in B)&&N["@id"]===B["@id"],A.compareShortestLeast=(N,B)=>N.length<B.length?-1:B.length<N.length?1:N===B?0:N<B?-1:1},5943:(j,ee,v)=>{"use strict";const _=v(1245),T=Symbol("max"),x=Symbol("length"),E=Symbol("lengthCalculator"),C=Symbol("allowStale"),b=Symbol("maxAge"),k=Symbol("dispose"),S=Symbol("noDisposeOnSet"),P=Symbol("lruList"),R=Symbol("cache"),A=Symbol("updateAgeOnGet"),F=()=>1,B=(te,G,V)=>{const H=te[R].get(G);if(H){const q=H.value;if(J(te,q)){if(Z(te,H),!te[C])return}else V&&(te[A]&&(H.value.now=Date.now()),te[P].unshiftNode(H));return q.value}},J=(te,G)=>{if(!G||!G.maxAge&&!te[b])return!1;const V=Date.now()-G.now;return G.maxAge?V>G.maxAge:te[b]&&V>te[b]},U=te=>{if(te[x]>te[T])for(let G=te[P].tail;te[x]>te[T]&&null!==G;){const V=G.prev;Z(te,G),G=V}},Z=(te,G)=>{if(G){const V=G.value;te[k]&&te[k](V.key,V.value),te[x]-=V.length,te[R].delete(V.key),te[P].removeNode(G)}};class X{constructor(G,V,H,q,ae){this.key=G,this.value=V,this.length=H,this.now=q,this.maxAge=ae||0}}const ie=(te,G,V,H)=>{let q=V.value;J(te,q)&&(Z(te,V),te[C]||(q=void 0)),q&&G.call(H,q.value,q.key,te)};j.exports=class N{constructor(G){if("number"==typeof G&&(G={max:G}),G||(G={}),G.max&&("number"!=typeof G.max||G.max<0))throw new TypeError("max must be a non-negative number");this[T]=G.max||1/0;const H=G.length||F;if(this[E]="function"!=typeof H?F:H,this[C]=G.stale||!1,G.maxAge&&"number"!=typeof G.maxAge)throw new TypeError("maxAge must be a number");this[b]=G.maxAge||0,this[k]=G.dispose,this[S]=G.noDisposeOnSet||!1,this[A]=G.updateAgeOnGet||!1,this.reset()}set max(G){if("number"!=typeof G||G<0)throw new TypeError("max must be a non-negative number");this[T]=G||1/0,U(this)}get max(){return this[T]}set allowStale(G){this[C]=!!G}get allowStale(){return this[C]}set maxAge(G){if("number"!=typeof G)throw new TypeError("maxAge must be a non-negative number");this[b]=G,U(this)}get maxAge(){return this[b]}set lengthCalculator(G){"function"!=typeof G&&(G=F),G!==this[E]&&(this[E]=G,this[x]=0,this[P].forEach(V=>{V.length=this[E](V.value,V.key),this[x]+=V.length})),U(this)}get lengthCalculator(){return this[E]}get length(){return this[x]}get itemCount(){return this[P].length}rforEach(G,V){V=V||this;for(let H=this[P].tail;null!==H;){const q=H.prev;ie(this,G,H,V),H=q}}forEach(G,V){V=V||this;for(let H=this[P].head;null!==H;){const q=H.next;ie(this,G,H,V),H=q}}keys(){return this[P].toArray().map(G=>G.key)}values(){return this[P].toArray().map(G=>G.value)}reset(){this[k]&&this[P]&&this[P].length&&this[P].forEach(G=>this[k](G.key,G.value)),this[R]=new Map,this[P]=new _,this[x]=0}dump(){return this[P].map(G=>!J(this,G)&&{k:G.key,v:G.value,e:G.now+(G.maxAge||0)}).toArray().filter(G=>G)}dumpLru(){return this[P]}set(G,V,H){if((H=H||this[b])&&"number"!=typeof H)throw new TypeError("maxAge must be a number");const q=H?Date.now():0,ae=this[E](V,G);if(this[R].has(G)){if(ae>this[T])return Z(this,this[R].get(G)),!1;const de=this[R].get(G).value;return this[k]&&(this[S]||this[k](G,de.value)),de.now=q,de.maxAge=H,de.value=V,this[x]+=ae-de.length,de.length=ae,this.get(G),U(this),!0}const ue=new X(G,V,ae,q,H);return ue.length>this[T]?(this[k]&&this[k](G,V),!1):(this[x]+=ue.length,this[P].unshift(ue),this[R].set(G,this[P].head),U(this),!0)}has(G){if(!this[R].has(G))return!1;const V=this[R].get(G).value;return!J(this,V)}get(G){return B(this,G,!0)}peek(G){return B(this,G,!1)}pop(){const G=this[P].tail;return G?(Z(this,G),G.value):null}del(G){Z(this,this[R].get(G))}load(G){this.reset();const V=Date.now();for(let H=G.length-1;H>=0;H--){const q=G[H],ae=q.e||0;if(0===ae)this.set(q.k,q.v);else{const ue=ae-V;ue>0&&this.set(q.k,q.v,ue)}}}prune(){this[R].forEach((G,V)=>B(this,V,!1))}}},6023:j=>{"use strict";j.exports=function(ee){ee.prototype[Symbol.iterator]=function*(){for(let v=this.head;v;v=v.next)yield v.value}}},1245:(j,ee,v)=>{"use strict";function _(b){var k=this;if(k instanceof _||(k=new _),k.tail=null,k.head=null,k.length=0,b&&"function"==typeof b.forEach)b.forEach(function(R){k.push(R)});else if(arguments.length>0)for(var S=0,P=arguments.length;S<P;S++)k.push(arguments[S]);return k}function T(b,k,S){var P=k===b.head?new C(S,null,k,b):new C(S,k,k.next,b);return null===P.next&&(b.tail=P),null===P.prev&&(b.head=P),b.length++,P}function x(b,k){b.tail=new C(k,b.tail,null,b),b.head||(b.head=b.tail),b.length++}function E(b,k){b.head=new C(k,null,b.head,b),b.tail||(b.tail=b.head),b.length++}function C(b,k,S,P){if(!(this instanceof C))return new C(b,k,S,P);this.list=P,this.value=b,k?(k.next=this,this.prev=k):this.prev=null,S?(S.prev=this,this.next=S):this.next=null}j.exports=_,_.Node=C,_.create=_,_.prototype.removeNode=function(b){if(b.list!==this)throw new Error("removing node which does not belong to this list");var k=b.next,S=b.prev;return k&&(k.prev=S),S&&(S.next=k),b===this.head&&(this.head=k),b===this.tail&&(this.tail=S),b.list.length--,b.next=null,b.prev=null,b.list=null,k},_.prototype.unshiftNode=function(b){if(b!==this.head){b.list&&b.list.removeNode(b);var k=this.head;b.list=this,b.next=k,k&&(k.prev=b),this.head=b,this.tail||(this.tail=b),this.length++}},_.prototype.pushNode=function(b){if(b!==this.tail){b.list&&b.list.removeNode(b);var k=this.tail;b.list=this,b.prev=k,k&&(k.next=b),this.tail=b,this.head||(this.head=b),this.length++}},_.prototype.push=function(){for(var b=0,k=arguments.length;b<k;b++)x(this,arguments[b]);return this.length},_.prototype.unshift=function(){for(var b=0,k=arguments.length;b<k;b++)E(this,arguments[b]);return this.length},_.prototype.pop=function(){if(this.tail){var b=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,b}},_.prototype.shift=function(){if(this.head){var b=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,b}},_.prototype.forEach=function(b,k){k=k||this;for(var S=this.head,P=0;null!==S;P++)b.call(k,S.value,P,this),S=S.next},_.prototype.forEachReverse=function(b,k){k=k||this;for(var S=this.tail,P=this.length-1;null!==S;P--)b.call(k,S.value,P,this),S=S.prev},_.prototype.get=function(b){for(var k=0,S=this.head;null!==S&&k<b;k++)S=S.next;if(k===b&&null!==S)return S.value},_.prototype.getReverse=function(b){for(var k=0,S=this.tail;null!==S&&k<b;k++)S=S.prev;if(k===b&&null!==S)return S.value},_.prototype.map=function(b,k){k=k||this;for(var S=new _,P=this.head;null!==P;)S.push(b.call(k,P.value,this)),P=P.next;return S},_.prototype.mapReverse=function(b,k){k=k||this;for(var S=new _,P=this.tail;null!==P;)S.push(b.call(k,P.value,this)),P=P.prev;return S},_.prototype.reduce=function(b,k){var S,P=this.head;if(arguments.length>1)S=k;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");P=this.head.next,S=this.head.value}for(var R=0;null!==P;R++)S=b(S,P.value,R),P=P.next;return S},_.prototype.reduceReverse=function(b,k){var S,P=this.tail;if(arguments.length>1)S=k;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");P=this.tail.prev,S=this.tail.value}for(var R=this.length-1;null!==P;R--)S=b(S,P.value,R),P=P.prev;return S},_.prototype.toArray=function(){for(var b=new Array(this.length),k=0,S=this.head;null!==S;k++)b[k]=S.value,S=S.next;return b},_.prototype.toArrayReverse=function(){for(var b=new Array(this.length),k=0,S=this.tail;null!==S;k++)b[k]=S.value,S=S.prev;return b},_.prototype.slice=function(b,k){(k=k||this.length)<0&&(k+=this.length),(b=b||0)<0&&(b+=this.length);var S=new _;if(k<b||k<0)return S;b<0&&(b=0),k>this.length&&(k=this.length);for(var P=0,R=this.head;null!==R&&P<b;P++)R=R.next;for(;null!==R&&P<k;P++,R=R.next)S.push(R.value);return S},_.prototype.sliceReverse=function(b,k){(k=k||this.length)<0&&(k+=this.length),(b=b||0)<0&&(b+=this.length);var S=new _;if(k<b||k<0)return S;b<0&&(b=0),k>this.length&&(k=this.length);for(var P=this.length,R=this.tail;null!==R&&P>k;P--)R=R.prev;for(;null!==R&&P>b;P--,R=R.prev)S.push(R.value);return S},_.prototype.splice=function(b,k,...S){b>this.length&&(b=this.length-1),b<0&&(b=this.length+b);for(var P=0,R=this.head;null!==R&&P<b;P++)R=R.next;var A=[];for(P=0;R&&P<k;P++)A.push(R.value),R=this.removeNode(R);for(null===R&&(R=this.tail),R!==this.head&&R!==this.tail&&(R=R.prev),P=0;P<S.length;P++)R=T(this,R,S[P]);return A},_.prototype.reverse=function(){for(var b=this.head,k=this.tail,S=b;null!==S;S=S.prev){var P=S.prev;S.prev=S.next,S.next=P}return this.head=k,this.tail=b,this};try{v(6023)(_)}catch{}},5982:function(j){j.exports=function(ee){var v={};function _(T){if(v[T])return v[T].exports;var x=v[T]={i:T,l:!1,exports:{}};return ee[T].call(x.exports,x,x.exports,_),x.l=!0,x.exports}return _.m=ee,_.c=v,_.i=function(T){return T},_.d=function(T,x,E){_.o(T,x)||Object.defineProperty(T,x,{configurable:!1,enumerable:!0,get:E})},_.n=function(T){var x=T&&T.__esModule?function(){return T.default}:function(){return T};return _.d(x,"a",x),x},_.o=function(T,x){return Object.prototype.hasOwnProperty.call(T,x)},_.p="",_(_.s=26)}([function(ee,v,_){"use strict";function T(){}T.QUALITY=1,T.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,T.DEFAULT_INCREMENTAL=!1,T.DEFAULT_ANIMATION_ON_LAYOUT=!0,T.DEFAULT_ANIMATION_DURING_LAYOUT=!1,T.DEFAULT_ANIMATION_PERIOD=50,T.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,T.DEFAULT_GRAPH_MARGIN=15,T.NODE_DIMENSIONS_INCLUDE_LABELS=!1,T.SIMPLE_NODE_HALF_SIZE=(T.SIMPLE_NODE_SIZE=40)/2,T.EMPTY_COMPOUND_NODE_SIZE=40,T.MIN_EDGE_LENGTH=1,T.INITIAL_WORLD_BOUNDARY=(T.WORLD_BOUNDARY=1e6)/1e3,T.WORLD_CENTER_X=1200,T.WORLD_CENTER_Y=900,ee.exports=T},function(ee,v,_){"use strict";var T=_(2),x=_(8),E=_(9);function C(k,S,P){T.call(this,P),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=P,this.bendpoints=[],this.source=k,this.target=S}for(var b in C.prototype=Object.create(T.prototype),T)C[b]=T[b];C.prototype.getSource=function(){return this.source},C.prototype.getTarget=function(){return this.target},C.prototype.isInterGraph=function(){return this.isInterGraph},C.prototype.getLength=function(){return this.length},C.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},C.prototype.getBendpoints=function(){return this.bendpoints},C.prototype.getLca=function(){return this.lca},C.prototype.getSourceInLca=function(){return this.sourceInLca},C.prototype.getTargetInLca=function(){return this.targetInLca},C.prototype.getOtherEnd=function(k){if(this.source===k)return this.target;if(this.target===k)return this.source;throw"Node is not incident with this edge"},C.prototype.getOtherEndInGraph=function(k,S){for(var P=this.getOtherEnd(k),R=S.getGraphManager().getRoot();;){if(P.getOwner()==S)return P;if(P.getOwner()==R)break;P=P.getOwner().getParent()}return null},C.prototype.updateLength=function(){var k=new Array(4);this.isOverlapingSourceAndTarget=x.getIntersection(this.target.getRect(),this.source.getRect(),k),this.isOverlapingSourceAndTarget||(this.lengthX=k[0]-k[2],this.lengthY=k[1]-k[3],Math.abs(this.lengthX)<1&&(this.lengthX=E.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=E.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},C.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=E.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=E.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},ee.exports=C},function(ee,v,_){"use strict";ee.exports=function T(x){this.vGraphObject=x}},function(ee,v,_){"use strict";var T=_(2),x=_(10),E=_(13),C=_(0),b=_(16),k=_(4);function S(R,A,F,N){null==F&&null==N&&(N=A),T.call(this,N),null!=R.graphManager&&(R=R.graphManager),this.estimatedSize=x.MIN_VALUE,this.inclusionTreeDepth=x.MAX_VALUE,this.vGraphObject=N,this.edges=[],this.graphManager=R,this.rect=null!=F&&null!=A?new E(A.x,A.y,F.width,F.height):new E}for(var P in S.prototype=Object.create(T.prototype),T)S[P]=T[P];S.prototype.getEdges=function(){return this.edges},S.prototype.getChild=function(){return this.child},S.prototype.getOwner=function(){return this.owner},S.prototype.getWidth=function(){return this.rect.width},S.prototype.setWidth=function(R){this.rect.width=R},S.prototype.getHeight=function(){return this.rect.height},S.prototype.setHeight=function(R){this.rect.height=R},S.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},S.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},S.prototype.getCenter=function(){return new k(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},S.prototype.getLocation=function(){return new k(this.rect.x,this.rect.y)},S.prototype.getRect=function(){return this.rect},S.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},S.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},S.prototype.setRect=function(R,A){this.rect.x=R.x,this.rect.y=R.y,this.rect.width=A.width,this.rect.height=A.height},S.prototype.setCenter=function(R,A){this.rect.x=R-this.rect.width/2,this.rect.y=A-this.rect.height/2},S.prototype.setLocation=function(R,A){this.rect.x=R,this.rect.y=A},S.prototype.moveBy=function(R,A){this.rect.x+=R,this.rect.y+=A},S.prototype.getEdgeListToNode=function(R){var A=[],N=this;return N.edges.forEach(function(B){if(B.target==R){if(B.source!=N)throw"Incorrect edge source!";A.push(B)}}),A},S.prototype.getEdgesBetween=function(R){var A=[],N=this;return N.edges.forEach(function(B){if(B.source!=N&&B.target!=N)throw"Incorrect edge source and/or target";(B.target==R||B.source==R)&&A.push(B)}),A},S.prototype.getNeighborsList=function(){var R=new Set,A=this;return A.edges.forEach(function(F){if(F.source==A)R.add(F.target);else{if(F.target!=A)throw"Incorrect incidency!";R.add(F.source)}}),R},S.prototype.withChildren=function(){var R=new Set;if(R.add(this),null!=this.child)for(var N=this.child.getNodes(),B=0;B<N.length;B++)N[B].withChildren().forEach(function(J){R.add(J)});return R},S.prototype.getNoOfChildren=function(){var R=0;if(null==this.child)R=1;else for(var F=this.child.getNodes(),N=0;N<F.length;N++)R+=F[N].getNoOfChildren();return 0==R&&(R=1),R},S.prototype.getEstimatedSize=function(){if(this.estimatedSize==x.MIN_VALUE)throw"assert failed";return this.estimatedSize},S.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},S.prototype.scatter=function(){var R,A,F=-C.INITIAL_WORLD_BOUNDARY,N=C.INITIAL_WORLD_BOUNDARY;R=C.WORLD_CENTER_X+b.nextDouble()*(N-F)+F;var B=-C.INITIAL_WORLD_BOUNDARY,J=C.INITIAL_WORLD_BOUNDARY;A=C.WORLD_CENTER_Y+b.nextDouble()*(J-B)+B,this.rect.x=R,this.rect.y=A},S.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var R=this.getChild();if(R.updateBounds(!0),this.rect.x=R.getLeft(),this.rect.y=R.getTop(),this.setWidth(R.getRight()-R.getLeft()),this.setHeight(R.getBottom()-R.getTop()),C.NODE_DIMENSIONS_INCLUDE_LABELS){var A=R.getRight()-R.getLeft(),F=R.getBottom()-R.getTop();this.labelWidth>A&&(this.rect.x-=(this.labelWidth-A)/2,this.setWidth(this.labelWidth)),this.labelHeight>F&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-F)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-F),this.setHeight(this.labelHeight))}}},S.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==x.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},S.prototype.transform=function(R){var A=this.rect.x;A>C.WORLD_BOUNDARY?A=C.WORLD_BOUNDARY:A<-C.WORLD_BOUNDARY&&(A=-C.WORLD_BOUNDARY);var F=this.rect.y;F>C.WORLD_BOUNDARY?F=C.WORLD_BOUNDARY:F<-C.WORLD_BOUNDARY&&(F=-C.WORLD_BOUNDARY);var N=new k(A,F),B=R.inverseTransformPoint(N);this.setLocation(B.x,B.y)},S.prototype.getLeft=function(){return this.rect.x},S.prototype.getRight=function(){return this.rect.x+this.rect.width},S.prototype.getTop=function(){return this.rect.y},S.prototype.getBottom=function(){return this.rect.y+this.rect.height},S.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},ee.exports=S},function(ee,v,_){"use strict";function T(x,E){null==x&&null==E?(this.x=0,this.y=0):(this.x=x,this.y=E)}T.prototype.getX=function(){return this.x},T.prototype.getY=function(){return this.y},T.prototype.setX=function(x){this.x=x},T.prototype.setY=function(x){this.y=x},T.prototype.getDifference=function(x){return new DimensionD(this.x-x.x,this.y-x.y)},T.prototype.getCopy=function(){return new T(this.x,this.y)},T.prototype.translate=function(x){return this.x+=x.width,this.y+=x.height,this},ee.exports=T},function(ee,v,_){"use strict";var T=_(2),x=_(10),E=_(0),C=_(6),b=_(3),k=_(1),S=_(13),P=_(12),R=_(11);function A(N,B,J){T.call(this,J),this.estimatedSize=x.MIN_VALUE,this.margin=E.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=N,null!=B&&B instanceof C?this.graphManager=B:null!=B&&B instanceof Layout&&(this.graphManager=B.graphManager)}for(var F in A.prototype=Object.create(T.prototype),T)A[F]=T[F];A.prototype.getNodes=function(){return this.nodes},A.prototype.getEdges=function(){return this.edges},A.prototype.getGraphManager=function(){return this.graphManager},A.prototype.getParent=function(){return this.parent},A.prototype.getLeft=function(){return this.left},A.prototype.getRight=function(){return this.right},A.prototype.getTop=function(){return this.top},A.prototype.getBottom=function(){return this.bottom},A.prototype.isConnected=function(){return this.isConnected},A.prototype.add=function(N,B,J){if(null==B&&null==J){var U=N;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(U)>-1)throw"Node already in graph!";return U.owner=this,this.getNodes().push(U),U}var Z=N;if(!(this.getNodes().indexOf(B)>-1&&this.getNodes().indexOf(J)>-1))throw"Source or target not in graph!";if(B.owner!=J.owner||B.owner!=this)throw"Both owners must be this graph!";return B.owner!=J.owner?null:(Z.source=B,Z.target=J,Z.isInterGraph=!1,this.getEdges().push(Z),B.edges.push(Z),J!=B&&J.edges.push(Z),Z)},A.prototype.remove=function(N){var B=N;if(N instanceof b){if(null==B)throw"Node is null!";if(null==B.owner||B.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var J=B.edges.slice(),Z=J.length,X=0;X<Z;X++)(U=J[X]).isInterGraph?this.graphManager.remove(U):U.source.owner.remove(U);if(-1==(ie=this.nodes.indexOf(B)))throw"Node not in owner node list!";this.nodes.splice(ie,1)}else if(N instanceof k){var U;if(null==(U=N))throw"Edge is null!";if(null==U.source||null==U.target)throw"Source and/or target is null!";if(null==U.source.owner||null==U.target.owner||U.source.owner!=this||U.target.owner!=this)throw"Source and/or target owner is invalid!";var ie,te=U.source.edges.indexOf(U),G=U.target.edges.indexOf(U);if(!(te>-1&&G>-1))throw"Source and/or target doesn't know this edge!";if(U.source.edges.splice(te,1),U.target!=U.source&&U.target.edges.splice(G,1),-1==(ie=U.source.owner.getEdges().indexOf(U)))throw"Not in owner's edge list!";U.source.owner.getEdges().splice(ie,1)}},A.prototype.updateLeftTop=function(){for(var J,U,Z,N=x.MAX_VALUE,B=x.MAX_VALUE,X=this.getNodes(),ie=X.length,te=0;te<ie;te++){var G=X[te];N>(J=G.getTop())&&(N=J),B>(U=G.getLeft())&&(B=U)}return N==x.MAX_VALUE?null:(Z=null!=X[0].getParent().paddingLeft?X[0].getParent().paddingLeft:this.margin,this.left=B-Z,this.top=N-Z,new P(this.left,this.top))},A.prototype.updateBounds=function(N){for(var X,ie,te,G,V,B=x.MAX_VALUE,J=-x.MAX_VALUE,U=x.MAX_VALUE,Z=-x.MAX_VALUE,H=this.nodes,q=H.length,ae=0;ae<q;ae++){var ue=H[ae];N&&null!=ue.child&&ue.updateBounds(),B>(X=ue.getLeft())&&(B=X),J<(ie=ue.getRight())&&(J=ie),U>(te=ue.getTop())&&(U=te),Z<(G=ue.getBottom())&&(Z=G)}var se=new S(B,U,J-B,Z-U);B==x.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),V=null!=H[0].getParent().paddingLeft?H[0].getParent().paddingLeft:this.margin,this.left=se.x-V,this.right=se.x+se.width+V,this.top=se.y-V,this.bottom=se.y+se.height+V},A.calculateBounds=function(N){for(var X,ie,te,G,B=x.MAX_VALUE,J=-x.MAX_VALUE,U=x.MAX_VALUE,Z=-x.MAX_VALUE,V=N.length,H=0;H<V;H++){var q=N[H];B>(X=q.getLeft())&&(B=X),J<(ie=q.getRight())&&(J=ie),U>(te=q.getTop())&&(U=te),Z<(G=q.getBottom())&&(Z=G)}return new S(B,U,J-B,Z-U)},A.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},A.prototype.getEstimatedSize=function(){if(this.estimatedSize==x.MIN_VALUE)throw"assert failed";return this.estimatedSize},A.prototype.calcEstimatedSize=function(){for(var N=0,B=this.nodes,J=B.length,U=0;U<J;U++)N+=B[U].calcEstimatedSize();return this.estimatedSize=0==N?E.EMPTY_COMPOUND_NODE_SIZE:N/Math.sqrt(this.nodes.length),this.estimatedSize},A.prototype.updateConnected=function(){var N=this;if(0!=this.nodes.length){var Z,X,B=new R,J=new Set,U=this.nodes[0];for(U.withChildren().forEach(function(ae){B.push(ae),J.add(ae)});0!==B.length;)for(var te=(Z=(U=B.shift()).getEdges()).length,G=0;G<te;G++)null==(X=Z[G].getOtherEndInGraph(U,this))||J.has(X)||X.withChildren().forEach(function(ae){B.push(ae),J.add(ae)});if(this.isConnected=!1,J.size>=this.nodes.length){var q=0;J.forEach(function(ae){ae.owner==N&&q++}),q==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},ee.exports=A},function(ee,v,_){"use strict";var T,x=_(1);function E(C){T=_(5),this.layout=C,this.graphs=[],this.edges=[]}E.prototype.addRoot=function(){var C=this.layout.newGraph(),b=this.layout.newNode(null),k=this.add(C,b);return this.setRootGraph(k),this.rootGraph},E.prototype.add=function(C,b,k,S,P){if(null==k&&null==S&&null==P){if(null==C)throw"Graph is null!";if(null==b)throw"Parent node is null!";if(this.graphs.indexOf(C)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(C),null!=C.parent)throw"Already has a parent!";if(null!=b.child)throw"Already has a child!";return C.parent=b,b.child=C,C}P=k,k=C;var R=(S=b).getOwner(),A=P.getOwner();if(null==R||R.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==A||A.getGraphManager()!=this)throw"Target not in this graph mgr!";if(R==A)return k.isInterGraph=!1,R.add(k,S,P);if(k.isInterGraph=!0,k.source=S,k.target=P,this.edges.indexOf(k)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(k),null==k.source||null==k.target)throw"Edge source and/or target is null!";if(-1!=k.source.edges.indexOf(k)||-1!=k.target.edges.indexOf(k))throw"Edge already in source and/or target incidency list!";return k.source.edges.push(k),k.target.edges.push(k),k},E.prototype.remove=function(C){if(C instanceof T){var b=C;if(b.getGraphManager()!=this)throw"Graph not in this graph mgr";if(b!=this.rootGraph&&(null==b.parent||b.parent.graphManager!=this))throw"Invalid parent node!";for(var S,k=[],P=(k=k.concat(b.getEdges())).length,R=0;R<P;R++)b.remove(S=k[R]);var A=[];for(P=(A=A.concat(b.getNodes())).length,R=0;R<P;R++)b.remove(A[R]);b==this.rootGraph&&this.setRootGraph(null);var N=this.graphs.indexOf(b);this.graphs.splice(N,1),b.parent=null}else if(C instanceof x){if(null==(S=C))throw"Edge is null!";if(!S.isInterGraph)throw"Not an inter-graph edge!";if(null==S.source||null==S.target)throw"Source and/or target is null!";if(-1==S.source.edges.indexOf(S)||-1==S.target.edges.indexOf(S))throw"Source and/or target doesn't know this edge!";if(N=S.source.edges.indexOf(S),S.source.edges.splice(N,1),N=S.target.edges.indexOf(S),S.target.edges.splice(N,1),null==S.source.owner||null==S.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==S.source.owner.getGraphManager().edges.indexOf(S))throw"Not in owner graph manager's edge list!";N=S.source.owner.getGraphManager().edges.indexOf(S),S.source.owner.getGraphManager().edges.splice(N,1)}},E.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},E.prototype.getGraphs=function(){return this.graphs},E.prototype.getAllNodes=function(){if(null==this.allNodes){for(var C=[],b=this.getGraphs(),k=b.length,S=0;S<k;S++)C=C.concat(b[S].getNodes());this.allNodes=C}return this.allNodes},E.prototype.resetAllNodes=function(){this.allNodes=null},E.prototype.resetAllEdges=function(){this.allEdges=null},E.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},E.prototype.getAllEdges=function(){if(null==this.allEdges){for(var C=[],b=this.getGraphs(),S=0;S<b.length;S++)C=C.concat(b[S].getEdges());C=C.concat(this.edges),this.allEdges=C}return this.allEdges},E.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},E.prototype.setAllNodesToApplyGravitation=function(C){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=C},E.prototype.getRoot=function(){return this.rootGraph},E.prototype.setRootGraph=function(C){if(C.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=C,null==C.parent&&(C.parent=this.layout.newNode("Root node"))},E.prototype.getLayout=function(){return this.layout},E.prototype.isOneAncestorOfOther=function(C,b){if(null==C||null==b)throw"assert failed";if(C==b)return!0;for(var S,k=C.getOwner();null!=(S=k.getParent());){if(S==b)return!0;if(null==(k=S.getOwner()))break}for(k=b.getOwner();null!=(S=k.getParent());){if(S==C)return!0;if(null==(k=S.getOwner()))break}return!1},E.prototype.calcLowestCommonAncestors=function(){for(var C,b,k,S,P,R=this.getAllEdges(),A=R.length,F=0;F<A;F++)if(b=(C=R[F]).source,k=C.target,C.lca=null,C.sourceInLca=b,C.targetInLca=k,b!=k){for(S=b.getOwner();null==C.lca;){for(C.targetInLca=k,P=k.getOwner();null==C.lca;){if(P==S){C.lca=P;break}if(P==this.rootGraph)break;if(null!=C.lca)throw"assert failed";C.targetInLca=P.getParent(),P=C.targetInLca.getOwner()}if(S==this.rootGraph)break;null==C.lca&&(C.sourceInLca=S.getParent(),S=C.sourceInLca.getOwner())}if(null==C.lca)throw"assert failed"}else C.lca=b.getOwner()},E.prototype.calcLowestCommonAncestor=function(C,b){if(C==b)return C.getOwner();for(var k=C.getOwner();null!=k;){for(var S=b.getOwner();null!=S;){if(S==k)return S;S=S.getParent().getOwner()}k=k.getParent().getOwner()}return k},E.prototype.calcInclusionTreeDepths=function(C,b){null==C&&null==b&&(C=this.rootGraph,b=1);for(var k,S=C.getNodes(),P=S.length,R=0;R<P;R++)(k=S[R]).inclusionTreeDepth=b,null!=k.child&&this.calcInclusionTreeDepths(k.child,b+1)},E.prototype.includesInvalidEdge=function(){for(var C,b=this.edges.length,k=0;k<b;k++)if(this.isOneAncestorOfOther((C=this.edges[k]).source,C.target))return!0;return!1},ee.exports=E},function(ee,v,_){"use strict";var T=_(0);function x(){}for(var E in T)x[E]=T[E];x.MAX_ITERATIONS=2500,x.DEFAULT_EDGE_LENGTH=50,x.DEFAULT_SPRING_STRENGTH=.45,x.DEFAULT_REPULSION_STRENGTH=4500,x.DEFAULT_GRAVITY_STRENGTH=.4,x.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,x.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,x.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,x.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,x.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,x.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,x.COOLING_ADAPTATION_FACTOR=.33,x.ADAPTATION_LOWER_NODE_LIMIT=1e3,x.ADAPTATION_UPPER_NODE_LIMIT=5e3,x.MAX_NODE_DISPLACEMENT=3*(x.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),x.MIN_REPULSION_DIST=x.DEFAULT_EDGE_LENGTH/10,x.CONVERGENCE_CHECK_PERIOD=100,x.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,x.MIN_EDGE_LENGTH=1,x.GRID_CALCULATION_CHECK_PERIOD=10,ee.exports=x},function(ee,v,_){"use strict";var T=_(12);function x(){}x.calcSeparationAmount=function(E,C,b,k){if(!E.intersects(C))throw"assert failed";var S=new Array(2);this.decideDirectionsForOverlappingNodes(E,C,S),b[0]=Math.min(E.getRight(),C.getRight())-Math.max(E.x,C.x),b[1]=Math.min(E.getBottom(),C.getBottom())-Math.max(E.y,C.y),E.getX()<=C.getX()&&E.getRight()>=C.getRight()?b[0]+=Math.min(C.getX()-E.getX(),E.getRight()-C.getRight()):C.getX()<=E.getX()&&C.getRight()>=E.getRight()&&(b[0]+=Math.min(E.getX()-C.getX(),C.getRight()-E.getRight())),E.getY()<=C.getY()&&E.getBottom()>=C.getBottom()?b[1]+=Math.min(C.getY()-E.getY(),E.getBottom()-C.getBottom()):C.getY()<=E.getY()&&C.getBottom()>=E.getBottom()&&(b[1]+=Math.min(E.getY()-C.getY(),C.getBottom()-E.getBottom()));var P=Math.abs((C.getCenterY()-E.getCenterY())/(C.getCenterX()-E.getCenterX()));C.getCenterY()===E.getCenterY()&&C.getCenterX()===E.getCenterX()&&(P=1);var R=P*b[0],A=b[1]/P;b[0]<A?A=b[0]:R=b[1],b[0]=-1*S[0]*(A/2+k),b[1]=-1*S[1]*(R/2+k)},x.decideDirectionsForOverlappingNodes=function(E,C,b){b[0]=E.getCenterX()<C.getCenterX()?-1:1,b[1]=E.getCenterY()<C.getCenterY()?-1:1},x.getIntersection2=function(E,C,b){var k=E.getCenterX(),S=E.getCenterY(),P=C.getCenterX(),R=C.getCenterY();if(E.intersects(C))return b[0]=k,b[1]=S,b[2]=P,b[3]=R,!0;var A=E.getX(),F=E.getY(),N=E.getRight(),B=E.getX(),J=E.getBottom(),U=E.getRight(),Z=E.getWidthHalf(),X=E.getHeightHalf(),ie=C.getX(),te=C.getY(),G=C.getRight(),V=C.getX(),H=C.getBottom(),q=C.getRight(),ae=C.getWidthHalf(),ue=C.getHeightHalf(),se=!1,de=!1;if(k===P){if(S>R)return b[0]=k,b[1]=F,b[2]=P,b[3]=H,!1;if(S<R)return b[0]=k,b[1]=J,b[2]=P,b[3]=te,!1}else if(S===R){if(k>P)return b[0]=A,b[1]=S,b[2]=G,b[3]=R,!1;if(k<P)return b[0]=N,b[1]=S,b[2]=ie,b[3]=R,!1}else{var we=E.height/E.width,fe=C.height/C.width,je=(R-S)/(P-k),Ve=void 0,_e=void 0,ge=void 0,Xe=void 0;if(-we===je?k>P?(b[0]=B,b[1]=J,se=!0):(b[0]=N,b[1]=F,se=!0):we===je&&(k>P?(b[0]=A,b[1]=F,se=!0):(b[0]=U,b[1]=J,se=!0)),-fe===je?P>k?(b[2]=V,b[3]=H,de=!0):(b[2]=G,b[3]=te,de=!0):fe===je&&(P>k?(b[2]=ie,b[3]=te,de=!0):(b[2]=q,b[3]=H,de=!0)),se&&de)return!1;if(k>P?S>R?(Ve=this.getCardinalDirection(we,je,4),_e=this.getCardinalDirection(fe,je,2)):(Ve=this.getCardinalDirection(-we,je,3),_e=this.getCardinalDirection(-fe,je,1)):S>R?(Ve=this.getCardinalDirection(-we,je,1),_e=this.getCardinalDirection(-fe,je,3)):(Ve=this.getCardinalDirection(we,je,2),_e=this.getCardinalDirection(fe,je,4)),!se)switch(Ve){case 1:ge=F,b[0]=k+-X/je,b[1]=ge;break;case 2:ge=S+Z*je,b[0]=U,b[1]=ge;break;case 3:ge=J,b[0]=k+X/je,b[1]=ge;break;case 4:ge=S+-Z*je,b[0]=B,b[1]=ge}if(!de)switch(_e){case 1:Xe=te,b[2]=P+-ue/je,b[3]=Xe;break;case 2:Xe=R+ae*je,b[2]=q,b[3]=Xe;break;case 3:Xe=H,b[2]=P+ue/je,b[3]=Xe;break;case 4:Xe=R+-ae*je,b[2]=V,b[3]=Xe}}return!1},x.getCardinalDirection=function(E,C,b){return E>C?b:1+b%4},x.getIntersection=function(E,C,b,k){if(null==k)return this.getIntersection2(E,C,b);var X,ie,te,G,V,H,q,S=E.x,P=E.y,R=C.x,A=C.y,F=b.x,N=b.y,B=k.x,J=k.y;return V=R*P-S*A,H=B*N-F*J,0==(q=(X=A-P)*(G=F-B)-(ie=J-N)*(te=S-R))?null:new T((te*H-G*V)/q,(ie*V-X*H)/q)},x.angleOfVector=function(E,C,b,k){var S=void 0;return E!==b?(S=Math.atan((k-C)/(b-E)),b<E?S+=Math.PI:k<C&&(S+=this.TWO_PI)):S=k<C?this.ONE_AND_HALF_PI:this.HALF_PI,S},x.doIntersect=function(E,C,b,k){var S=E.x,P=E.y,R=C.x,A=C.y,F=b.x,N=b.y,B=k.x,J=k.y,U=(R-S)*(J-N)-(B-F)*(A-P);if(0===U)return!1;var Z=((J-N)*(B-S)+(F-B)*(J-P))/U,X=((P-A)*(B-S)+(R-S)*(J-P))/U;return 0<Z&&Z<1&&0<X&&X<1},x.HALF_PI=.5*Math.PI,x.ONE_AND_HALF_PI=1.5*Math.PI,x.TWO_PI=2*Math.PI,x.THREE_PI=3*Math.PI,ee.exports=x},function(ee,v,_){"use strict";function T(){}T.sign=function(x){return x>0?1:x<0?-1:0},T.floor=function(x){return x<0?Math.ceil(x):Math.floor(x)},T.ceil=function(x){return x<0?Math.floor(x):Math.ceil(x)},ee.exports=T},function(ee,v,_){"use strict";function T(){}T.MAX_VALUE=2147483647,T.MIN_VALUE=-2147483648,ee.exports=T},function(ee,v,_){"use strict";var T=function(){function S(P,R){for(var A=0;A<R.length;A++){var F=R[A];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,R,A){return R&&S(P.prototype,R),A&&S(P,A),P}}();var E=function(P){return{value:P,next:null,prev:null}},C=function(P,R,A,F){return null!==P?P.next=R:F.head=R,null!==A?A.prev=R:F.tail=R,R.prev=P,R.next=A,F.length++,R},b=function(P,R){var A=P.prev,F=P.next;return null!==A?A.next=F:R.head=F,null!==F?F.prev=A:R.tail=A,P.prev=P.next=null,R.length--,P},k=function(){function S(P){var R=this;(function x(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")})(this,S),this.length=0,this.head=null,this.tail=null,P?.forEach(function(A){return R.push(A)})}return T(S,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(R,A){return C(A.prev,E(R),A,this)}},{key:"insertAfter",value:function(R,A){return C(A,E(R),A.next,this)}},{key:"insertNodeBefore",value:function(R,A){return C(A.prev,R,A,this)}},{key:"insertNodeAfter",value:function(R,A){return C(A,R,A.next,this)}},{key:"push",value:function(R){return C(this.tail,E(R),null,this)}},{key:"unshift",value:function(R){return C(null,E(R),this.head,this)}},{key:"remove",value:function(R){return b(R,this)}},{key:"pop",value:function(){return b(this.tail,this).value}},{key:"popNode",value:function(){return b(this.tail,this)}},{key:"shift",value:function(){return b(this.head,this).value}},{key:"shiftNode",value:function(){return b(this.head,this)}},{key:"get_object_at",value:function(R){if(R<=this.length()){for(var A=1,F=this.head;A<R;)F=F.next,A++;return F.value}}},{key:"set_object_at",value:function(R,A){if(R<=this.length()){for(var F=1,N=this.head;F<R;)N=N.next,F++;N.value=A}}}]),S}();ee.exports=k},function(ee,v,_){"use strict";function T(x,E,C){this.x=null,this.y=null,null==x&&null==E&&null==C?(this.x=0,this.y=0):"number"==typeof x&&"number"==typeof E&&null==C?(this.x=x,this.y=E):"Point"==x.constructor.name&&null==E&&null==C&&(this.x=(C=x).x,this.y=C.y)}T.prototype.getX=function(){return this.x},T.prototype.getY=function(){return this.y},T.prototype.getLocation=function(){return new T(this.x,this.y)},T.prototype.setLocation=function(x,E,C){"Point"==x.constructor.name&&null==E&&null==C?this.setLocation((C=x).x,C.y):"number"==typeof x&&"number"==typeof E&&null==C&&(parseInt(x)==x&&parseInt(E)==E?this.move(x,E):(this.x=Math.floor(x+.5),this.y=Math.floor(E+.5)))},T.prototype.move=function(x,E){this.x=x,this.y=E},T.prototype.translate=function(x,E){this.x+=x,this.y+=E},T.prototype.equals=function(x){return"Point"==x.constructor.name?this.x==x.x&&this.y==x.y:this==x},T.prototype.toString=function(){return(new T).constructor.name+"[x="+this.x+",y="+this.y+"]"},ee.exports=T},function(ee,v,_){"use strict";function T(x,E,C,b){this.x=0,this.y=0,this.width=0,this.height=0,null!=x&&null!=E&&null!=C&&null!=b&&(this.x=x,this.y=E,this.width=C,this.height=b)}T.prototype.getX=function(){return this.x},T.prototype.setX=function(x){this.x=x},T.prototype.getY=function(){return this.y},T.prototype.setY=function(x){this.y=x},T.prototype.getWidth=function(){return this.width},T.prototype.setWidth=function(x){this.width=x},T.prototype.getHeight=function(){return this.height},T.prototype.setHeight=function(x){this.height=x},T.prototype.getRight=function(){return this.x+this.width},T.prototype.getBottom=function(){return this.y+this.height},T.prototype.intersects=function(x){return!(this.getRight()<x.x||this.getBottom()<x.y||x.getRight()<this.x||x.getBottom()<this.y)},T.prototype.getCenterX=function(){return this.x+this.width/2},T.prototype.getMinX=function(){return this.getX()},T.prototype.getMaxX=function(){return this.getX()+this.width},T.prototype.getCenterY=function(){return this.y+this.height/2},T.prototype.getMinY=function(){return this.getY()},T.prototype.getMaxY=function(){return this.getY()+this.height},T.prototype.getWidthHalf=function(){return this.width/2},T.prototype.getHeightHalf=function(){return this.height/2},ee.exports=T},function(ee,v,_){"use strict";var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};function x(){}x.lastID=0,x.createID=function(E){return x.isPrimitive(E)?E:(null!=E.uniqueID||(E.uniqueID=x.getString(),x.lastID++),E.uniqueID)},x.getString=function(E){return null==E&&(E=x.lastID),"Object#"+E},x.isPrimitive=function(E){var C=typeof E>"u"?"undefined":T(E);return null==E||"object"!=C&&"function"!=C},ee.exports=x},function(ee,v,_){"use strict";function T(F){if(Array.isArray(F)){for(var N=0,B=Array(F.length);N<F.length;N++)B[N]=F[N];return B}return Array.from(F)}var x=_(0),E=_(6),C=_(3),b=_(1),k=_(5),S=_(4),P=_(17),R=_(27);function A(F){R.call(this),this.layoutQuality=x.QUALITY,this.createBendsAsNeeded=x.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=x.DEFAULT_INCREMENTAL,this.animationOnLayout=x.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=x.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=x.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=x.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new E(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=F&&(this.isRemoteUse=F)}A.RANDOM_SEED=1,(A.prototype=Object.create(R.prototype)).getGraphManager=function(){return this.graphManager},A.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},A.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},A.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},A.prototype.newGraphManager=function(){var F=new E(this);return this.graphManager=F,F},A.prototype.newGraph=function(F){return new k(null,this.graphManager,F)},A.prototype.newNode=function(F){return new C(this.graphManager,F)},A.prototype.newEdge=function(F){return new b(null,null,F)},A.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},A.prototype.runLayout=function(){var F;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),F=!this.checkLayoutSuccess()&&this.layout(),"during"!==x.ANIMATE&&(F&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,F)},A.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},A.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var N=this.graphManager.getAllEdges(),B=0;B<N.length;B++);var U=this.graphManager.getRoot().getNodes();for(B=0;B<U.length;B++);this.update(this.graphManager.getRoot())}},A.prototype.update=function(F){if(null==F)this.update2();else if(F instanceof C){var N=F;if(null!=N.getChild())for(var B=N.getChild().getNodes(),J=0;J<B.length;J++)update(B[J]);null!=N.vGraphObject&&N.vGraphObject.update(N)}else F instanceof b?null!=F.vGraphObject&&F.vGraphObject.update(F):F instanceof k&&null!=F.vGraphObject&&F.vGraphObject.update(F)},A.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=x.QUALITY,this.animationDuringLayout=x.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=x.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=x.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=x.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=x.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=x.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},A.prototype.transform=function(F){if(null==F)this.transform(new S(0,0));else{var N=new P,B=this.graphManager.getRoot().updateLeftTop();if(null!=B){N.setWorldOrgX(F.x),N.setWorldOrgY(F.y),N.setDeviceOrgX(B.x),N.setDeviceOrgY(B.y);for(var J=this.getAllNodes(),Z=0;Z<J.length;Z++)J[Z].transform(N)}}},A.prototype.positionNodesRandomly=function(F){if(null==F)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var N,B,J=F.getNodes(),U=0;U<J.length;U++)null==(B=(N=J[U]).getChild())||0==B.getNodes().length?N.scatter():(this.positionNodesRandomly(B),N.updateBounds())},A.prototype.getFlatForest=function(){for(var F=[],N=!0,B=this.graphManager.getRoot().getNodes(),J=!0,U=0;U<B.length;U++)null!=B[U].getChild()&&(J=!1);if(!J)return F;var Z=new Set,X=[],ie=new Map,te=[];for(te=te.concat(B);te.length>0&&N;){for(X.push(te[0]);X.length>0&&N;){var G=X[0];X.splice(0,1),Z.add(G);var V=G.getEdges();for(U=0;U<V.length;U++){var H=V[U].getOtherEnd(G);if(ie.get(G)!=H){if(Z.has(H)){N=!1;break}X.push(H),ie.set(H,G)}}}if(N){var q=[].concat(T(Z));for(F.push(q),U=0;U<q.length;U++){var ue=te.indexOf(q[U]);ue>-1&&te.splice(ue,1)}Z=new Set,ie=new Map}else F=[]}return F},A.prototype.createDummyNodesForBendpoints=function(F){for(var N=[],B=F.source,J=this.graphManager.calcLowestCommonAncestor(F.source,F.target),U=0;U<F.bendpoints.length;U++){var Z=this.newNode(null);Z.setRect(new Point(0,0),new Dimension(1,1)),J.add(Z);var X=this.newEdge(null);this.graphManager.add(X,B,Z),N.add(Z),B=Z}return X=this.newEdge(null),this.graphManager.add(X,B,F.target),this.edgeToDummyNodes.set(F,N),F.isInterGraph()?this.graphManager.remove(F):J.remove(F),N},A.prototype.createBendpointsFromDummyNodes=function(){var F=[];F=F.concat(this.graphManager.getAllEdges()),F=[].concat(T(this.edgeToDummyNodes.keys())).concat(F);for(var N=0;N<F.length;N++){var B=F[N];if(B.bendpoints.length>0){for(var J=this.edgeToDummyNodes.get(B),U=0;U<J.length;U++){var Z=J[U],X=new S(Z.getCenterX(),Z.getCenterY()),ie=B.bendpoints.get(U);ie.x=X.x,ie.y=X.y,Z.getOwner().remove(Z)}this.graphManager.add(B,B.source,B.target)}}},A.transform=function(F,N,B,J){if(null!=B&&null!=J){var U=N;return F<=50?U-=(N-N/B)/50*(50-F):U+=(N*J-N)/50*(F-50),U}var ie,te;return F<=50?(ie=9*N/500,te=N/10):(ie=9*N/50,te=-8*N),ie*F+te},A.findCenterOfTree=function(F){var N=[];N=N.concat(F);var B=[],J=new Map,U=!1,Z=null;(1==N.length||2==N.length)&&(U=!0,Z=N[0]);for(var X=0;X<N.length;X++){var te=(ie=N[X]).getNeighborsList().size;J.set(ie,ie.getNeighborsList().size),1==te&&B.push(ie)}var G=[];for(G=G.concat(B);!U;){var V=[];for(V=V.concat(G),G=[],X=0;X<N.length;X++){var ie,H=N.indexOf(ie=N[X]);H>=0&&N.splice(H,1),ie.getNeighborsList().forEach(function(se){if(B.indexOf(se)<0){var we=J.get(se)-1;1==we&&G.push(se),J.set(se,we)}})}B=B.concat(G),(1==N.length||2==N.length)&&(U=!0,Z=N[0])}return Z},A.prototype.setGraphManager=function(F){this.graphManager=F},ee.exports=A},function(ee,v,_){"use strict";function T(){}T.seed=1,T.x=0,T.nextDouble=function(){return(T.x=1e4*Math.sin(T.seed++))-Math.floor(T.x)},ee.exports=T},function(ee,v,_){"use strict";var T=_(4);function x(E,C){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}x.prototype.getWorldOrgX=function(){return this.lworldOrgX},x.prototype.setWorldOrgX=function(E){this.lworldOrgX=E},x.prototype.getWorldOrgY=function(){return this.lworldOrgY},x.prototype.setWorldOrgY=function(E){this.lworldOrgY=E},x.prototype.getWorldExtX=function(){return this.lworldExtX},x.prototype.setWorldExtX=function(E){this.lworldExtX=E},x.prototype.getWorldExtY=function(){return this.lworldExtY},x.prototype.setWorldExtY=function(E){this.lworldExtY=E},x.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},x.prototype.setDeviceOrgX=function(E){this.ldeviceOrgX=E},x.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},x.prototype.setDeviceOrgY=function(E){this.ldeviceOrgY=E},x.prototype.getDeviceExtX=function(){return this.ldeviceExtX},x.prototype.setDeviceExtX=function(E){this.ldeviceExtX=E},x.prototype.getDeviceExtY=function(){return this.ldeviceExtY},x.prototype.setDeviceExtY=function(E){this.ldeviceExtY=E},x.prototype.transformX=function(E){var C=0,b=this.lworldExtX;return 0!=b&&(C=this.ldeviceOrgX+(E-this.lworldOrgX)*this.ldeviceExtX/b),C},x.prototype.transformY=function(E){var C=0,b=this.lworldExtY;return 0!=b&&(C=this.ldeviceOrgY+(E-this.lworldOrgY)*this.ldeviceExtY/b),C},x.prototype.inverseTransformX=function(E){var C=0,b=this.ldeviceExtX;return 0!=b&&(C=this.lworldOrgX+(E-this.ldeviceOrgX)*this.lworldExtX/b),C},x.prototype.inverseTransformY=function(E){var C=0,b=this.ldeviceExtY;return 0!=b&&(C=this.lworldOrgY+(E-this.ldeviceOrgY)*this.lworldExtY/b),C},x.prototype.inverseTransformPoint=function(E){return new T(this.inverseTransformX(E.x),this.inverseTransformY(E.y))},ee.exports=x},function(ee,v,_){"use strict";var x=_(15),E=_(7),C=_(0),b=_(8),k=_(9);function S(){x.call(this),this.useSmartIdealEdgeLengthCalculation=E.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=E.DEFAULT_EDGE_LENGTH,this.springConstant=E.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=E.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=E.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=E.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=E.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=E.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*E.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=E.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=E.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=E.MAX_ITERATIONS}for(var P in S.prototype=Object.create(x.prototype),x)S[P]=x[P];S.prototype.initParameters=function(){x.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=E.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},S.prototype.calcIdealEdgeLengths=function(){for(var R,A,F,N,B,J,U=this.getGraphManager().getAllEdges(),Z=0;Z<U.length;Z++)(R=U[Z]).idealLength=this.idealEdgeLength,R.isInterGraph&&(F=R.getSource(),N=R.getTarget(),B=R.getSourceInLca().getEstimatedSize(),J=R.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(R.idealLength+=B+J-2*C.SIMPLE_NODE_SIZE),A=R.getLca().getInclusionTreeDepth(),R.idealLength+=E.DEFAULT_EDGE_LENGTH*E.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(F.getInclusionTreeDepth()+N.getInclusionTreeDepth()-2*A))},S.prototype.initSpringEmbedder=function(){var R=this.getAllNodes().length;this.incremental?(R>E.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*E.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(R-E.ADAPTATION_LOWER_NODE_LIMIT)/(E.ADAPTATION_UPPER_NODE_LIMIT-E.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-E.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=E.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=R>E.ADAPTATION_LOWER_NODE_LIMIT?Math.max(E.COOLING_ADAPTATION_FACTOR,1-(R-E.ADAPTATION_LOWER_NODE_LIMIT)/(E.ADAPTATION_UPPER_NODE_LIMIT-E.ADAPTATION_LOWER_NODE_LIMIT)*(1-E.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=E.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},S.prototype.calcSpringForces=function(){for(var A,R=this.getAllEdges(),F=0;F<R.length;F++)this.calcSpringForce(A=R[F],A.idealLength)},S.prototype.calcRepulsionForces=function(){var F,N,B,J,Z,R=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],A=arguments.length>1&&void 0!==arguments[1]&&arguments[1],U=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%E.GRID_CALCULATION_CHECK_PERIOD==1&&R&&this.updateGrid(),Z=new Set,F=0;F<U.length;F++)this.calculateRepulsionForceOfANode(B=U[F],Z,R,A),Z.add(B);else for(F=0;F<U.length;F++)for(B=U[F],N=F+1;N<U.length;N++)J=U[N],B.getOwner()==J.getOwner()&&this.calcRepulsionForce(B,J)},S.prototype.calcGravitationalForces=function(){for(var A=this.getAllNodesToApplyGravitation(),F=0;F<A.length;F++)this.calcGravitationalForce(A[F])},S.prototype.moveNodes=function(){for(var R=this.getAllNodes(),F=0;F<R.length;F++)R[F].move()},S.prototype.calcSpringForce=function(R,A){var B,J,U,Z,F=R.getSource(),N=R.getTarget();if(this.uniformLeafNodeSizes&&null==F.getChild()&&null==N.getChild())R.updateLengthSimple();else if(R.updateLength(),R.isOverlapingSourceAndTarget)return;0!=(B=R.getLength())&&(Z=(J=this.springConstant*(B-A))*(R.lengthY/B),F.springForceX+=U=J*(R.lengthX/B),F.springForceY+=Z,N.springForceX-=U,N.springForceY-=Z)},S.prototype.calcRepulsionForce=function(R,A){var U,Z,X,ie,te,G,V,F=R.getRect(),N=A.getRect(),B=new Array(2),J=new Array(4);if(F.intersects(N)){b.calcSeparationAmount(F,N,B,E.DEFAULT_EDGE_LENGTH/2),V=2*B[1];var H=R.noOfChildren*A.noOfChildren/(R.noOfChildren+A.noOfChildren);R.repulsionForceX-=H*(G=2*B[0]),R.repulsionForceY-=H*V,A.repulsionForceX+=H*G,A.repulsionForceY+=H*V}else this.uniformLeafNodeSizes&&null==R.getChild()&&null==A.getChild()?(U=N.getCenterX()-F.getCenterX(),Z=N.getCenterY()-F.getCenterY()):(b.getIntersection(F,N,J),U=J[2]-J[0],Z=J[3]-J[1]),Math.abs(U)<E.MIN_REPULSION_DIST&&(U=k.sign(U)*E.MIN_REPULSION_DIST),Math.abs(Z)<E.MIN_REPULSION_DIST&&(Z=k.sign(Z)*E.MIN_REPULSION_DIST),X=U*U+Z*Z,ie=Math.sqrt(X),V=(te=this.repulsionConstant*R.noOfChildren*A.noOfChildren/X)*Z/ie,R.repulsionForceX-=G=te*U/ie,R.repulsionForceY-=V,A.repulsionForceX+=G,A.repulsionForceY+=V},S.prototype.calcGravitationalForce=function(R){var A,F,N,B,J,U,Z,X;F=((A=R.getOwner()).getRight()+A.getLeft())/2,N=(A.getTop()+A.getBottom())/2,B=R.getCenterX()-F,J=R.getCenterY()-N,U=Math.abs(B)+R.getWidth()/2,Z=Math.abs(J)+R.getHeight()/2,R.getOwner()==this.graphManager.getRoot()?(U>(X=A.getEstimatedSize()*this.gravityRangeFactor)||Z>X)&&(R.gravitationForceX=-this.gravityConstant*B,R.gravitationForceY=-this.gravityConstant*J):(U>(X=A.getEstimatedSize()*this.compoundGravityRangeFactor)||Z>X)&&(R.gravitationForceX=-this.gravityConstant*B*this.compoundGravityConstant,R.gravitationForceY=-this.gravityConstant*J*this.compoundGravityConstant)},S.prototype.isConverged=function(){var R,A=!1;return this.totalIterations>this.maxIterations/3&&(A=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),R=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,R||A},S.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},S.prototype.calcNoOfChildrenForAllNodes=function(){for(var R,A=this.graphManager.getAllNodes(),F=0;F<A.length;F++)(R=A[F]).noOfChildren=R.getNoOfChildren()},S.prototype.calcGrid=function(R){var A,F;A=parseInt(Math.ceil((R.getRight()-R.getLeft())/this.repulsionRange)),F=parseInt(Math.ceil((R.getBottom()-R.getTop())/this.repulsionRange));for(var N=new Array(A),B=0;B<A;B++)N[B]=new Array(F);for(B=0;B<A;B++)for(var J=0;J<F;J++)N[B][J]=new Array;return N},S.prototype.addNodeToGrid=function(R,A,F){var N,B,J,U;N=parseInt(Math.floor((R.getRect().x-A)/this.repulsionRange)),B=parseInt(Math.floor((R.getRect().width+R.getRect().x-A)/this.repulsionRange)),J=parseInt(Math.floor((R.getRect().y-F)/this.repulsionRange)),U=parseInt(Math.floor((R.getRect().height+R.getRect().y-F)/this.repulsionRange));for(var Z=N;Z<=B;Z++)for(var X=J;X<=U;X++)this.grid[Z][X].push(R),R.setGridCoordinates(N,B,J,U)},S.prototype.updateGrid=function(){var R,F=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),R=0;R<F.length;R++)this.addNodeToGrid(F[R],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},S.prototype.calculateRepulsionForceOfANode=function(R,A,F,N){if(this.totalIterations%E.GRID_CALCULATION_CHECK_PERIOD==1&&F||N){var B=new Set;R.surrounding=new Array;for(var J,U=this.grid,Z=R.startX-1;Z<R.finishX+2;Z++)for(var X=R.startY-1;X<R.finishY+2;X++)if(!(Z<0||X<0||Z>=U.length||X>=U[0].length))for(var ie=0;ie<U[Z][X].length;ie++)if(J=U[Z][X][ie],R.getOwner()==J.getOwner()&&R!=J&&!A.has(J)&&!B.has(J)){var te=Math.abs(R.getCenterX()-J.getCenterX())-(R.getWidth()/2+J.getWidth()/2),G=Math.abs(R.getCenterY()-J.getCenterY())-(R.getHeight()/2+J.getHeight()/2);te<=this.repulsionRange&&G<=this.repulsionRange&&B.add(J)}R.surrounding=[].concat(function T(R){if(Array.isArray(R)){for(var A=0,F=Array(R.length);A<R.length;A++)F[A]=R[A];return F}return Array.from(R)}(B))}for(Z=0;Z<R.surrounding.length;Z++)this.calcRepulsionForce(R,R.surrounding[Z])},S.prototype.calcRepulsionRange=function(){return 0},ee.exports=S},function(ee,v,_){"use strict";var T=_(1),x=_(7);function E(b,k,S){T.call(this,b,k,S),this.idealLength=x.DEFAULT_EDGE_LENGTH}for(var C in E.prototype=Object.create(T.prototype),T)E[C]=T[C];ee.exports=E},function(ee,v,_){"use strict";var T=_(3);function x(C,b,k,S){T.call(this,C,b,k,S),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var E in x.prototype=Object.create(T.prototype),T)x[E]=T[E];x.prototype.setGridCoordinates=function(C,b,k,S){this.startX=C,this.finishX=b,this.startY=k,this.finishY=S},ee.exports=x},function(ee,v,_){"use strict";function T(x,E){this.width=0,this.height=0,null!==x&&null!==E&&(this.height=E,this.width=x)}T.prototype.getWidth=function(){return this.width},T.prototype.setWidth=function(x){this.width=x},T.prototype.getHeight=function(){return this.height},T.prototype.setHeight=function(x){this.height=x},ee.exports=T},function(ee,v,_){"use strict";var T=_(14);function x(){this.map={},this.keys=[]}x.prototype.put=function(E,C){var b=T.createID(E);this.contains(b)||(this.map[b]=C,this.keys.push(E))},x.prototype.contains=function(E){return T.createID(E),null!=this.map[E]},x.prototype.get=function(E){var C=T.createID(E);return this.map[C]},x.prototype.keySet=function(){return this.keys},ee.exports=x},function(ee,v,_){"use strict";var T=_(14);function x(){this.set={}}x.prototype.add=function(E){var C=T.createID(E);this.contains(C)||(this.set[C]=E)},x.prototype.remove=function(E){delete this.set[T.createID(E)]},x.prototype.clear=function(){this.set={}},x.prototype.contains=function(E){return this.set[T.createID(E)]==E},x.prototype.isEmpty=function(){return 0===this.size()},x.prototype.size=function(){return Object.keys(this.set).length},x.prototype.addAllTo=function(E){for(var C=Object.keys(this.set),b=C.length,k=0;k<b;k++)E.push(this.set[C[k]])},x.prototype.size=function(){return Object.keys(this.set).length},x.prototype.addAll=function(E){for(var C=E.length,b=0;b<C;b++)this.add(E[b])},ee.exports=x},function(ee,v,_){"use strict";var T=function(){function b(k,S){for(var P=0;P<S.length;P++){var R=S[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}return function(k,S,P){return S&&b(k.prototype,S),P&&b(k,P),k}}();var E=_(11),C=function(){function b(k,S){(function x(b,k){if(!(b instanceof k))throw new TypeError("Cannot call a class as a function")})(this,b),(null!==S||void 0!==S)&&(this.compareFunction=this._defaultCompareFunction);var P;P=k instanceof E?k.size():k.length,this._quicksort(k,0,P-1)}return T(b,[{key:"_quicksort",value:function(S,P,R){if(P<R){var A=this._partition(S,P,R);this._quicksort(S,P,A),this._quicksort(S,A+1,R)}}},{key:"_partition",value:function(S,P,R){for(var A=this._get(S,P),F=P,N=R;;){for(;this.compareFunction(A,this._get(S,N));)N--;for(;this.compareFunction(this._get(S,F),A);)F++;if(!(F<N))return N;this._swap(S,F,N),F++,N--}}},{key:"_get",value:function(S,P){return S instanceof E?S.get_object_at(P):S[P]}},{key:"_set",value:function(S,P,R){S instanceof E?S.set_object_at(P,R):S[P]=R}},{key:"_swap",value:function(S,P,R){var A=this._get(S,P);this._set(S,P,this._get(S,R)),this._set(S,R,A)}},{key:"_defaultCompareFunction",value:function(S,P){return P>S}}]),b}();ee.exports=C},function(ee,v,_){"use strict";var T=function(){function C(b,k){for(var S=0;S<k.length;S++){var P=k[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,k,S){return k&&C(b.prototype,k),S&&C(b,S),b}}();var E=function(){function C(b,k){var S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,R=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;(function x(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")})(this,C),this.sequence1=b,this.sequence2=k,this.match_score=S,this.mismatch_penalty=P,this.gap_penalty=R,this.iMax=b.length+1,this.jMax=k.length+1,this.grid=new Array(this.iMax);for(var A=0;A<this.iMax;A++){this.grid[A]=new Array(this.jMax);for(var F=0;F<this.jMax;F++)this.grid[A][F]=0}this.tracebackGrid=new Array(this.iMax);for(var N=0;N<this.iMax;N++){this.tracebackGrid[N]=new Array(this.jMax);for(var B=0;B<this.jMax;B++)this.tracebackGrid[N][B]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return T(C,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var k=1;k<this.jMax;k++)this.grid[0][k]=this.grid[0][k-1]+this.gap_penalty,this.tracebackGrid[0][k]=[!1,!1,!0];for(var S=1;S<this.iMax;S++)this.grid[S][0]=this.grid[S-1][0]+this.gap_penalty,this.tracebackGrid[S][0]=[!1,!0,!1];for(var P=1;P<this.iMax;P++)for(var R=1;R<this.jMax;R++){var B=[this.sequence1[P-1]===this.sequence2[R-1]?this.grid[P-1][R-1]+this.match_score:this.grid[P-1][R-1]+this.mismatch_penalty,this.grid[P-1][R]+this.gap_penalty,this.grid[P][R-1]+this.gap_penalty],J=this.arrayAllMaxIndexes(B);this.grid[P][R]=B[J[0]],this.tracebackGrid[P][R]=[J.includes(0),J.includes(1),J.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var k=[];for(k.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});k[0];){var S=k[0],P=this.tracebackGrid[S.pos[0]][S.pos[1]];P[0]&&k.push({pos:[S.pos[0]-1,S.pos[1]-1],seq1:this.sequence1[S.pos[0]-1]+S.seq1,seq2:this.sequence2[S.pos[1]-1]+S.seq2}),P[1]&&k.push({pos:[S.pos[0]-1,S.pos[1]],seq1:this.sequence1[S.pos[0]-1]+S.seq1,seq2:"-"+S.seq2}),P[2]&&k.push({pos:[S.pos[0],S.pos[1]-1],seq1:"-"+S.seq1,seq2:this.sequence2[S.pos[1]-1]+S.seq2}),0===S.pos[0]&&0===S.pos[1]&&this.alignments.push({sequence1:S.seq1,sequence2:S.seq2}),k.shift()}return this.alignments}},{key:"getAllIndexes",value:function(k,S){for(var P=[],R=-1;-1!==(R=k.indexOf(S,R+1));)P.push(R);return P}},{key:"arrayAllMaxIndexes",value:function(k){return this.getAllIndexes(k,Math.max.apply(null,k))}}]),C}();ee.exports=E},function(ee,v,_){"use strict";var T=function(){};T.FDLayout=_(18),T.FDLayoutConstants=_(7),T.FDLayoutEdge=_(19),T.FDLayoutNode=_(20),T.DimensionD=_(21),T.HashMap=_(22),T.HashSet=_(23),T.IGeometry=_(8),T.IMath=_(9),T.Integer=_(10),T.Point=_(12),T.PointD=_(4),T.RandomSeed=_(16),T.RectangleD=_(13),T.Transform=_(17),T.UniqueIDGeneretor=_(14),T.Quicksort=_(24),T.LinkedList=_(11),T.LGraphObject=_(2),T.LGraph=_(5),T.LEdge=_(1),T.LGraphManager=_(6),T.LNode=_(3),T.Layout=_(15),T.LayoutConstants=_(0),T.NeedlemanWunsch=_(25),ee.exports=T},function(ee,v,_){"use strict";function T(){this.listeners=[]}var x=T.prototype;x.addListener=function(E,C){this.listeners.push({event:E,callback:C})},x.removeListener=function(E,C){for(var b=this.listeners.length;b>=0;b--){var k=this.listeners[b];k.event===E&&k.callback===C&&this.listeners.splice(b,1)}},x.emit=function(E,C){for(var b=0;b<this.listeners.length;b++){var k=this.listeners[b];E===k.event&&k.callback(C)}},ee.exports=T}])},7244:(j,ee,v)=>{var x=v(3436)(v(2119),"DataView");j.exports=x},4994:(j,ee,v)=>{var _=v(4312),T=v(6421),x=v(5764),E=v(8685),C=v(6676);function b(k){var S=-1,P=null==k?0:k.length;for(this.clear();++S<P;){var R=k[S];this.set(R[0],R[1])}}b.prototype.clear=_,b.prototype.delete=T,b.prototype.get=x,b.prototype.has=E,b.prototype.set=C,j.exports=b},9215:(j,ee,v)=>{var _=v(1840),T=v(4378),x=v(4981),E=v(7343),C=v(8895);function b(k){var S=-1,P=null==k?0:k.length;for(this.clear();++S<P;){var R=k[S];this.set(R[0],R[1])}}b.prototype.clear=_,b.prototype.delete=T,b.prototype.get=x,b.prototype.has=E,b.prototype.set=C,j.exports=b},1501:(j,ee,v)=>{var x=v(3436)(v(2119),"Map");j.exports=x},9850:(j,ee,v)=>{var _=v(638),T=v(1184),x=v(866),E=v(3771),C=v(1772);function b(k){var S=-1,P=null==k?0:k.length;for(this.clear();++S<P;){var R=k[S];this.set(R[0],R[1])}}b.prototype.clear=_,b.prototype.delete=T,b.prototype.get=x,b.prototype.has=E,b.prototype.set=C,j.exports=b},4267:(j,ee,v)=>{var x=v(3436)(v(2119),"Promise");j.exports=x},6323:(j,ee,v)=>{var x=v(3436)(v(2119),"Set");j.exports=x},8849:(j,ee,v)=>{var _=v(9850),T=v(4600),x=v(1387);function E(C){var b=-1,k=null==C?0:C.length;for(this.__data__=new _;++b<k;)this.add(C[b])}E.prototype.add=E.prototype.push=T,E.prototype.has=x,j.exports=E},2858:(j,ee,v)=>{var _=v(9215),T=v(3720),x=v(4410),E=v(5576),C=v(2247),b=v(1585);function k(S){var P=this.__data__=new _(S);this.size=P.size}k.prototype.clear=T,k.prototype.delete=x,k.prototype.get=E,k.prototype.has=C,k.prototype.set=b,j.exports=k},443:(j,ee,v)=>{var _=v(2119);j.exports=_.Symbol},3457:(j,ee,v)=>{var _=v(2119);j.exports=_.Uint8Array},4243:(j,ee,v)=>{var x=v(3436)(v(2119),"WeakMap");j.exports=x},6999:j=>{j.exports=function ee(v,_,T){switch(T.length){case 0:return v.call(_);case 1:return v.call(_,T[0]);case 2:return v.call(_,T[0],T[1]);case 3:return v.call(_,T[0],T[1],T[2])}return v.apply(_,T)}},6837:j=>{j.exports=function ee(v,_){for(var T=-1,x=null==v?0:v.length;++T<x&&!1!==_(v[T],T,v););return v}},9779:j=>{j.exports=function ee(v,_){for(var T=-1,x=null==v?0:v.length,E=0,C=[];++T<x;){var b=v[T];_(b,T,v)&&(C[E++]=b)}return C}},1253:(j,ee,v)=>{var _=v(4164);j.exports=function T(x,E){return!(null==x||!x.length)&&_(x,E,0)>-1}},177:j=>{j.exports=function ee(v,_,T){for(var x=-1,E=null==v?0:v.length;++x<E;)if(T(_,v[x]))return!0;return!1}},2271:(j,ee,v)=>{var _=v(5334),T=v(7151),x=v(1503),E=v(891),C=v(8442),b=v(8159),S=Object.prototype.hasOwnProperty;j.exports=function P(R,A){var F=x(R),N=!F&&T(R),B=!F&&!N&&E(R),J=!F&&!N&&!B&&b(R),U=F||N||B||J,Z=U?_(R.length,String):[],X=Z.length;for(var ie in R)(A||S.call(R,ie))&&(!U||!("length"==ie||B&&("offset"==ie||"parent"==ie)||J&&("buffer"==ie||"byteLength"==ie||"byteOffset"==ie)||C(ie,X)))&&Z.push(ie);return Z}},4633:j=>{j.exports=function ee(v,_){for(var T=-1,x=null==v?0:v.length,E=Array(x);++T<x;)E[T]=_(v[T],T,v);return E}},5059:j=>{j.exports=function ee(v,_){for(var T=-1,x=_.length,E=v.length;++T<x;)v[E+T]=_[T];return v}},8745:j=>{j.exports=function ee(v,_,T,x){var E=-1,C=null==v?0:v.length;for(x&&C&&(T=v[++E]);++E<C;)T=_(T,v[E],E,v);return T}},9503:j=>{j.exports=function ee(v,_){for(var T=-1,x=null==v?0:v.length;++T<x;)if(_(v[T],T,v))return!0;return!1}},5481:(j,ee,v)=>{var T=v(1847)("length");j.exports=T},9276:(j,ee,v)=>{var _=v(5683),T=v(217);j.exports=function x(E,C,b){(void 0!==b&&!T(E[C],b)||void 0===b&&!(C in E))&&_(E,C,b)}},9719:(j,ee,v)=>{var _=v(5683),T=v(217),E=Object.prototype.hasOwnProperty;j.exports=function C(b,k,S){var P=b[k];(!E.call(b,k)||!T(P,S)||void 0===S&&!(k in b))&&_(b,k,S)}},3503:(j,ee,v)=>{var _=v(217);j.exports=function T(x,E){for(var C=x.length;C--;)if(_(x[C][0],E))return C;return-1}},4121:(j,ee,v)=>{var _=v(1989),T=v(118);j.exports=function x(E,C){return E&&_(C,T(C),E)}},9287:(j,ee,v)=>{var _=v(1989),T=v(6555);j.exports=function x(E,C){return E&&_(C,T(C),E)}},5683:(j,ee,v)=>{var _=v(6713);j.exports=function T(x,E,C){"__proto__"==E&&_?_(x,E,{configurable:!0,enumerable:!0,value:C,writable:!0}):x[E]=C}},4462:(j,ee,v)=>{var _=v(2858),T=v(6837),x=v(9719),E=v(4121),C=v(9287),b=v(9292),k=v(9454),S=v(4444),P=v(9905),R=v(7597),A=v(6967),F=v(8794),N=v(6782),B=v(7878),J=v(4264),U=v(1503),Z=v(891),X=v(3222),ie=v(5940),te=v(799),G=v(118),V=v(6555),ue="[object Arguments]",je="[object Function]",ge="[object Object]",ut={};ut[ue]=ut["[object Array]"]=ut["[object ArrayBuffer]"]=ut["[object DataView]"]=ut["[object Boolean]"]=ut["[object Date]"]=ut["[object Float32Array]"]=ut["[object Float64Array]"]=ut["[object Int8Array]"]=ut["[object Int16Array]"]=ut["[object Int32Array]"]=ut["[object Map]"]=ut["[object Number]"]=ut[ge]=ut["[object RegExp]"]=ut["[object Set]"]=ut["[object String]"]=ut["[object Symbol]"]=ut["[object Uint8Array]"]=ut["[object Uint8ClampedArray]"]=ut["[object Uint16Array]"]=ut["[object Uint32Array]"]=!0,ut["[object Error]"]=ut[je]=ut["[object WeakMap]"]=!1,j.exports=function Zt(Ft,Vn,ir,Cr,Wr,Or){var Rr,Fi=1&Vn,Li=2&Vn,nn=4&Vn;if(ir&&(Rr=Wr?ir(Ft,Cr,Wr,Or):ir(Ft)),void 0!==Rr)return Rr;if(!ie(Ft))return Ft;var oo=U(Ft);if(oo){if(Rr=N(Ft),!Fi)return k(Ft,Rr)}else{var Pn=F(Ft),xl=Pn==je||"[object GeneratorFunction]"==Pn;if(Z(Ft))return b(Ft,Fi);if(Pn==ge||Pn==ue||xl&&!Wr){if(Rr=Li||xl?{}:J(Ft),!Fi)return Li?P(Ft,C(Rr,Ft)):S(Ft,E(Rr,Ft))}else{if(!ut[Pn])return Wr?Ft:{};Rr=B(Ft,Pn,Fi)}}Or||(Or=new _);var Ao=Or.get(Ft);if(Ao)return Ao;Or.set(Ft,Rr),te(Ft)?Ft.forEach(function(Io){Rr.add(Zt(Io,Vn,ir,Io,Ft,Or))}):X(Ft)&&Ft.forEach(function(Io,vo){Rr.set(vo,Zt(Io,Vn,ir,vo,Ft,Or))});var ya=oo?void 0:(nn?Li?A:R:Li?V:G)(Ft);return T(ya||Ft,function(Io,vo){ya&&(Io=Ft[vo=Io]),x(Rr,vo,Zt(Io,Vn,ir,vo,Ft,Or))}),Rr}},8858:(j,ee,v)=>{var _=v(5940),T=Object.create,x=function(){function E(){}return function(C){if(!_(C))return{};if(T)return T(C);E.prototype=C;var b=new E;return E.prototype=void 0,b}}();j.exports=x},3132:(j,ee,v)=>{var _=v(5184),x=v(6539)(_);j.exports=x},7308:(j,ee,v)=>{var _=v(4129);j.exports=function T(x,E,C){for(var b=-1,k=x.length;++b<k;){var S=x[b],P=E(S);if(null!=P&&(void 0===R?P==P&&!_(P):C(P,R)))var R=P,A=S}return A}},3609:(j,ee,v)=>{var _=v(3132);j.exports=function T(x,E){var C=[];return _(x,function(b,k,S){E(b,k,S)&&C.push(b)}),C}},5317:j=>{j.exports=function ee(v,_,T,x){for(var E=v.length,C=T+(x?1:-1);x?C--:++C<E;)if(_(v[C],C,v))return C;return-1}},686:(j,ee,v)=>{var _=v(5059),T=v(5039);j.exports=function x(E,C,b,k,S){var P=-1,R=E.length;for(b||(b=T),S||(S=[]);++P<R;){var A=E[P];C>0&&b(A)?C>1?x(A,C-1,b,k,S):_(S,A):k||(S[S.length]=A)}return S}},755:(j,ee,v)=>{var T=v(456)();j.exports=T},5184:(j,ee,v)=>{var _=v(755),T=v(118);j.exports=function x(E,C){return E&&_(E,C,T)}},5456:(j,ee,v)=>{var _=v(6884),T=v(8533);j.exports=function x(E,C){for(var b=0,k=(C=_(C,E)).length;null!=E&&b<k;)E=E[T(C[b++])];return b&&b==k?E:void 0}},8247:(j,ee,v)=>{var _=v(5059),T=v(1503);j.exports=function x(E,C,b){var k=C(E);return T(E)?k:_(k,b(E))}},3337:(j,ee,v)=>{var _=v(443),T=v(1318),x=v(2902),b=_?_.toStringTag:void 0;j.exports=function k(S){return null==S?void 0===S?"[object Undefined]":"[object Null]":b&&b in Object(S)?T(S):x(S)}},1100:j=>{j.exports=function ee(v,_){return v>_}},4781:j=>{var v=Object.prototype.hasOwnProperty;j.exports=function _(T,x){return null!=T&&v.call(T,x)}},9989:j=>{j.exports=function ee(v,_){return null!=v&&_ in Object(v)}},4164:(j,ee,v)=>{var _=v(5317),T=v(968),x=v(4977);j.exports=function E(C,b,k){return b==b?x(C,b,k):_(C,T,k)}},186:(j,ee,v)=>{var _=v(3337),T=v(2671);j.exports=function E(C){return T(C)&&"[object Arguments]"==_(C)}},5740:(j,ee,v)=>{var _=v(8325),T=v(2671);j.exports=function x(E,C,b,k,S){return E===C||(null==E||null==C||!T(E)&&!T(C)?E!=E&&C!=C:_(E,C,b,k,x,S))}},8325:(j,ee,v)=>{var _=v(2858),T=v(3914),x=v(8583),E=v(2286),C=v(8794),b=v(1503),k=v(891),S=v(8159),R="[object Arguments]",A="[object Array]",F="[object Object]",B=Object.prototype.hasOwnProperty;j.exports=function J(U,Z,X,ie,te,G){var V=b(U),H=b(Z),q=V?A:C(U),ae=H?A:C(Z),ue=(q=q==R?F:q)==F,se=(ae=ae==R?F:ae)==F,de=q==ae;if(de&&k(U)){if(!k(Z))return!1;V=!0,ue=!1}if(de&&!ue)return G||(G=new _),V||S(U)?T(U,Z,X,ie,te,G):x(U,Z,q,X,ie,te,G);if(!(1&X)){var we=ue&&B.call(U,"__wrapped__"),fe=se&&B.call(Z,"__wrapped__");if(we||fe){var je=we?U.value():U,Ve=fe?Z.value():Z;return G||(G=new _),te(je,Ve,X,ie,G)}}return!!de&&(G||(G=new _),E(U,Z,X,ie,te,G))}},7021:(j,ee,v)=>{var _=v(8794),T=v(2671);j.exports=function E(C){return T(C)&&"[object Map]"==_(C)}},431:(j,ee,v)=>{var _=v(2858),T=v(5740);j.exports=function C(b,k,S,P){var R=S.length,A=R,F=!P;if(null==b)return!A;for(b=Object(b);R--;){var N=S[R];if(F&&N[2]?N[1]!==b[N[0]]:!(N[0]in b))return!1}for(;++R<A;){var B=(N=S[R])[0],J=b[B],U=N[1];if(F&&N[2]){if(void 0===J&&!(B in b))return!1}else{var Z=new _;if(P)var X=P(J,U,B,b,k,Z);if(!(void 0===X?T(U,J,3,P,Z):X))return!1}}return!0}},968:j=>{j.exports=function ee(v){return v!=v}},7304:(j,ee,v)=>{var _=v(5946),T=v(1943),x=v(5940),E=v(2827),b=/^\[object .+?Constructor\]$/,A=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");j.exports=function F(N){return!(!x(N)||T(N))&&(_(N)?A:b).test(E(N))}},771:(j,ee,v)=>{var _=v(8794),T=v(2671);j.exports=function E(C){return T(C)&&"[object Set]"==_(C)}},1083:(j,ee,v)=>{var _=v(3337),T=v(6231),x=v(2671),de={};de["[object Float32Array]"]=de["[object Float64Array]"]=de["[object Int8Array]"]=de["[object Int16Array]"]=de["[object Int32Array]"]=de["[object Uint8Array]"]=de["[object Uint8ClampedArray]"]=de["[object Uint16Array]"]=de["[object Uint32Array]"]=!0,de["[object Arguments]"]=de["[object Array]"]=de["[object ArrayBuffer]"]=de["[object Boolean]"]=de["[object DataView]"]=de["[object Date]"]=de["[object Error]"]=de["[object Function]"]=de["[object Map]"]=de["[object Number]"]=de["[object Object]"]=de["[object RegExp]"]=de["[object Set]"]=de["[object String]"]=de["[object WeakMap]"]=!1,j.exports=function we(fe){return x(fe)&&T(fe.length)&&!!de[_(fe)]}},6517:(j,ee,v)=>{var _=v(8133),T=v(9458),x=v(2608),E=v(1503),C=v(7495);j.exports=function b(k){return"function"==typeof k?k:null==k?x:"object"==typeof k?E(k)?T(k[0],k[1]):_(k):C(k)}},1172:(j,ee,v)=>{var _=v(5488),T=v(5491),E=Object.prototype.hasOwnProperty;j.exports=function C(b){if(!_(b))return T(b);var k=[];for(var S in Object(b))E.call(b,S)&&"constructor"!=S&&k.push(S);return k}},2809:(j,ee,v)=>{var _=v(5940),T=v(5488),x=v(2158),C=Object.prototype.hasOwnProperty;j.exports=function b(k){if(!_(k))return x(k);var S=T(k),P=[];for(var R in k)"constructor"==R&&(S||!C.call(k,R))||P.push(R);return P}},9069:j=>{j.exports=function ee(v,_){return v<_}},2046:(j,ee,v)=>{var _=v(3132),T=v(6507);j.exports=function x(E,C){var b=-1,k=T(E)?Array(E.length):[];return _(E,function(S,P,R){k[++b]=C(S,P,R)}),k}},8133:(j,ee,v)=>{var _=v(431),T=v(2379),x=v(642);j.exports=function E(C){var b=T(C);return 1==b.length&&b[0][2]?x(b[0][0],b[0][1]):function(k){return k===C||_(k,C,b)}}},9458:(j,ee,v)=>{var _=v(5740),T=v(8817),x=v(8492),E=v(5352),C=v(2442),b=v(642),k=v(8533);j.exports=function R(A,F){return E(A)&&C(F)?b(k(A),F):function(N){var B=T(N,A);return void 0===B&&B===F?x(N,A):_(F,B,3)}}},3842:(j,ee,v)=>{var _=v(2858),T=v(9276),x=v(755),E=v(3675),C=v(5940),b=v(6555),k=v(9351);j.exports=function S(P,R,A,F,N){P!==R&&x(R,function(B,J){if(N||(N=new _),C(B))E(P,R,J,A,S,F,N);else{var U=F?F(k(P,J),B,J+"",P,R,N):void 0;void 0===U&&(U=B),T(P,J,U)}},b)}},3675:(j,ee,v)=>{var _=v(9276),T=v(9292),x=v(5208),E=v(9454),C=v(4264),b=v(7151),k=v(1503),S=v(1330),P=v(891),R=v(5946),A=v(5940),F=v(7614),N=v(8159),B=v(9351),J=v(8067);j.exports=function U(Z,X,ie,te,G,V,H){var q=B(Z,ie),ae=B(X,ie),ue=H.get(ae);if(ue)_(Z,ie,ue);else{var se=V?V(q,ae,ie+"",Z,X,H):void 0,de=void 0===se;if(de){var we=k(ae),fe=!we&&P(ae),je=!we&&!fe&&N(ae);se=ae,we||fe||je?k(q)?se=q:S(q)?se=E(q):fe?(de=!1,se=T(ae,!0)):je?(de=!1,se=x(ae,!0)):se=[]:F(ae)||b(ae)?(se=q,b(q)?se=J(q):(!A(q)||R(q))&&(se=C(ae))):de=!1}de&&(H.set(ae,se),G(se,ae,te,V,H),H.delete(ae)),_(Z,ie,se)}}},6119:(j,ee,v)=>{var _=v(4633),T=v(5456),x=v(6517),E=v(2046),C=v(8750),b=v(5647),k=v(1215),S=v(2608),P=v(1503);j.exports=function R(A,F,N){F=F.length?_(F,function(U){return P(U)?function(Z){return T(Z,1===U.length?U[0]:U)}:U}):[S];var B=-1;F=_(F,b(x));var J=E(A,function(U,Z,X){return{criteria:_(F,function(te){return te(U)}),index:++B,value:U}});return C(J,function(U,Z){return k(U,Z,N)})}},3021:(j,ee,v)=>{var _=v(5495),T=v(8492);j.exports=function x(E,C){return _(E,C,function(b,k){return T(E,k)})}},5495:(j,ee,v)=>{var _=v(5456),T=v(5963),x=v(6884);j.exports=function E(C,b,k){for(var S=-1,P=b.length,R={};++S<P;){var A=b[S],F=_(C,A);k(F,A)&&T(R,x(A,C),F)}return R}},1847:j=>{j.exports=function ee(v){return function(_){return _?.[v]}}},9222:(j,ee,v)=>{var _=v(5456);j.exports=function T(x){return function(E){return _(E,x)}}},6307:j=>{var ee=Math.ceil,v=Math.max;j.exports=function _(T,x,E,C){for(var b=-1,k=v(ee((x-T)/(E||1)),0),S=Array(k);k--;)S[C?k:++b]=T,T+=E;return S}},3570:j=>{j.exports=function ee(v,_,T,x,E){return E(v,function(C,b,k){T=x?(x=!1,C):_(T,C,b,k)}),T}},3269:(j,ee,v)=>{var _=v(2608),T=v(3983),x=v(2185);j.exports=function E(C,b){return x(T(C,b,_),C+"")}},5963:(j,ee,v)=>{var _=v(9719),T=v(6884),x=v(8442),E=v(5940),C=v(8533);j.exports=function b(k,S,P,R){if(!E(k))return k;for(var A=-1,F=(S=T(S,k)).length,N=F-1,B=k;null!=B&&++A<F;){var J=C(S[A]),U=P;if("__proto__"===J||"constructor"===J||"prototype"===J)return k;if(A!=N){var Z=B[J];void 0===(U=R?R(Z,J,B):void 0)&&(U=E(Z)?Z:x(S[A+1])?[]:{})}_(B,J,U),B=B[J]}return k}},9510:(j,ee,v)=>{var _=v(6684),T=v(6713),x=v(2608);j.exports=T?function(C,b){return T(C,"toString",{configurable:!0,enumerable:!1,value:_(b),writable:!0})}:x},8750:j=>{j.exports=function ee(v,_){var T=v.length;for(v.sort(_);T--;)v[T]=v[T].value;return v}},5334:j=>{j.exports=function ee(v,_){for(var T=-1,x=Array(v);++T<v;)x[T]=_(T);return x}},3935:(j,ee,v)=>{var _=v(443),T=v(4633),x=v(1503),E=v(4129),b=_?_.prototype:void 0,k=b?b.toString:void 0;j.exports=function S(P){if("string"==typeof P)return P;if(x(P))return T(P,S)+"";if(E(P))return k?k.call(P):"";var R=P+"";return"0"==R&&1/P==-Infinity?"-0":R}},3348:(j,ee,v)=>{var _=v(2760),T=/^\s+/;j.exports=function x(E){return E&&E.slice(0,_(E)+1).replace(T,"")}},5647:j=>{j.exports=function ee(v){return function(_){return v(_)}}},707:(j,ee,v)=>{var _=v(8849),T=v(1253),x=v(177),E=v(5972),C=v(4575),b=v(4174);j.exports=function S(P,R,A){var F=-1,N=T,B=P.length,J=!0,U=[],Z=U;if(A)J=!1,N=x;else if(B>=200){var X=R?null:C(P);if(X)return b(X);J=!1,N=E,Z=new _}else Z=R?[]:U;e:for(;++F<B;){var ie=P[F],te=R?R(ie):ie;if(ie=A||0!==ie?ie:0,J&&te==te){for(var G=Z.length;G--;)if(Z[G]===te)continue e;R&&Z.push(te),U.push(ie)}else N(Z,te,A)||(Z!==U&&Z.push(te),U.push(ie))}return U}},9179:(j,ee,v)=>{var _=v(4633);j.exports=function T(x,E){return _(E,function(C){return x[C]})}},8645:j=>{j.exports=function ee(v,_,T){for(var x=-1,E=v.length,C=_.length,b={};++x<E;)T(b,v[x],x<C?_[x]:void 0);return b}},5972:j=>{j.exports=function ee(v,_){return v.has(_)}},1481:(j,ee,v)=>{var _=v(2608);j.exports=function T(x){return"function"==typeof x?x:_}},6884:(j,ee,v)=>{var _=v(1503),T=v(5352),x=v(2855),E=v(3943);j.exports=function C(b,k){return _(b)?b:T(b,k)?[b]:x(E(b))}},3362:(j,ee,v)=>{var _=v(3457);j.exports=function T(x){var E=new x.constructor(x.byteLength);return new _(E).set(new _(x)),E}},9292:(j,ee,v)=>{j=v.nmd(j);var _=v(2119),T=ee&&!ee.nodeType&&ee,x=T&&j&&!j.nodeType&&j,C=x&&x.exports===T?_.Buffer:void 0,b=C?C.allocUnsafe:void 0;j.exports=function k(S,P){if(P)return S.slice();var R=S.length,A=b?b(R):new S.constructor(R);return S.copy(A),A}},7e3:(j,ee,v)=>{var _=v(3362);j.exports=function T(x,E){var C=E?_(x.buffer):x.buffer;return new x.constructor(C,x.byteOffset,x.byteLength)}},4098:j=>{var ee=/\w*$/;j.exports=function v(_){var T=new _.constructor(_.source,ee.exec(_));return T.lastIndex=_.lastIndex,T}},2533:(j,ee,v)=>{var _=v(443),T=_?_.prototype:void 0,x=T?T.valueOf:void 0;j.exports=function E(C){return x?Object(x.call(C)):{}}},5208:(j,ee,v)=>{var _=v(3362);j.exports=function T(x,E){var C=E?_(x.buffer):x.buffer;return new x.constructor(C,x.byteOffset,x.length)}},3443:(j,ee,v)=>{var _=v(4129);j.exports=function T(x,E){if(x!==E){var C=void 0!==x,b=null===x,k=x==x,S=_(x),P=void 0!==E,R=null===E,A=E==E,F=_(E);if(!R&&!F&&!S&&x>E||S&&P&&A&&!R&&!F||b&&P&&A||!C&&A||!k)return 1;if(!b&&!S&&!F&&x<E||F&&C&&k&&!b&&!S||R&&C&&k||!P&&k||!A)return-1}return 0}},1215:(j,ee,v)=>{var _=v(3443);j.exports=function T(x,E,C){for(var b=-1,k=x.criteria,S=E.criteria,P=k.length,R=C.length;++b<P;){var A=_(k[b],S[b]);if(A)return b>=R?A:A*("desc"==C[b]?-1:1)}return x.index-E.index}},9454:j=>{j.exports=function ee(v,_){var T=-1,x=v.length;for(_||(_=Array(x));++T<x;)_[T]=v[T];return _}},1989:(j,ee,v)=>{var _=v(9719),T=v(5683);j.exports=function x(E,C,b,k){var S=!b;b||(b={});for(var P=-1,R=C.length;++P<R;){var A=C[P],F=k?k(b[A],E[A],A,b,E):void 0;void 0===F&&(F=E[A]),S?T(b,A,F):_(b,A,F)}return b}},4444:(j,ee,v)=>{var _=v(1989),T=v(9383);j.exports=function x(E,C){return _(E,T(E),C)}},9905:(j,ee,v)=>{var _=v(1989),T=v(3051);j.exports=function x(E,C){return _(E,T(E),C)}},4610:(j,ee,v)=>{var _=v(2119);j.exports=_["__core-js_shared__"]},4944:(j,ee,v)=>{var _=v(3269),T=v(3342);j.exports=function x(E){return _(function(C,b){var k=-1,S=b.length,P=S>1?b[S-1]:void 0,R=S>2?b[2]:void 0;for(P=E.length>3&&"function"==typeof P?(S--,P):void 0,R&&T(b[0],b[1],R)&&(P=S<3?void 0:P,S=1),C=Object(C);++k<S;){var A=b[k];A&&E(C,A,k,P)}return C})}},6539:(j,ee,v)=>{var _=v(6507);j.exports=function T(x,E){return function(C,b){if(null==C)return C;if(!_(C))return x(C,b);for(var k=C.length,S=E?k:-1,P=Object(C);(E?S--:++S<k)&&!1!==b(P[S],S,P););return C}}},456:j=>{j.exports=function ee(v){return function(_,T,x){for(var E=-1,C=Object(_),b=x(_),k=b.length;k--;){var S=b[v?k:++E];if(!1===T(C[S],S,C))break}return _}}},4653:(j,ee,v)=>{var _=v(6517),T=v(6507),x=v(118);j.exports=function E(C){return function(b,k,S){var P=Object(b);if(!T(b)){var R=_(k,3);b=x(b),k=function(F){return R(P[F],F,P)}}var A=C(b,k,S);return A>-1?P[R?b[A]:A]:void 0}}},7509:(j,ee,v)=>{var _=v(6307),T=v(3342),x=v(2232);j.exports=function E(C){return function(b,k,S){return S&&"number"!=typeof S&&T(b,k,S)&&(k=S=void 0),b=x(b),void 0===k?(k=b,b=0):k=x(k),S=void 0===S?b<k?1:-1:x(S),_(b,k,S,C)}}},4575:(j,ee,v)=>{var _=v(6323),T=v(2552),x=v(4174),C=_&&1/x(new _([,-0]))[1]==1/0?function(b){return new _(b)}:T;j.exports=C},6713:(j,ee,v)=>{var _=v(3436),T=function(){try{var x=_(Object,"defineProperty");return x({},"",{}),x}catch{}}();j.exports=T},3914:(j,ee,v)=>{var _=v(8849),T=v(9503),x=v(5972);j.exports=function b(k,S,P,R,A,F){var N=1&P,B=k.length,J=S.length;if(B!=J&&!(N&&J>B))return!1;var U=F.get(k),Z=F.get(S);if(U&&Z)return U==S&&Z==k;var X=-1,ie=!0,te=2&P?new _:void 0;for(F.set(k,S),F.set(S,k);++X<B;){var G=k[X],V=S[X];if(R)var H=N?R(V,G,X,S,k,F):R(G,V,X,k,S,F);if(void 0!==H){if(H)continue;ie=!1;break}if(te){if(!T(S,function(q,ae){if(!x(te,ae)&&(G===q||A(G,q,P,R,F)))return te.push(ae)})){ie=!1;break}}else if(G!==V&&!A(G,V,P,R,F)){ie=!1;break}}return F.delete(k),F.delete(S),ie}},8583:(j,ee,v)=>{var _=v(443),T=v(3457),x=v(217),E=v(3914),C=v(3205),b=v(4174),te=_?_.prototype:void 0,G=te?te.valueOf:void 0;j.exports=function V(H,q,ae,ue,se,de,we){switch(ae){case"[object DataView]":if(H.byteLength!=q.byteLength||H.byteOffset!=q.byteOffset)return!1;H=H.buffer,q=q.buffer;case"[object ArrayBuffer]":return!(H.byteLength!=q.byteLength||!de(new T(H),new T(q)));case"[object Boolean]":case"[object Date]":case"[object Number]":return x(+H,+q);case"[object Error]":return H.name==q.name&&H.message==q.message;case"[object RegExp]":case"[object String]":return H==q+"";case"[object Map]":var fe=C;case"[object Set]":if(fe||(fe=b),H.size!=q.size&&!(1&ue))return!1;var Ve=we.get(H);if(Ve)return Ve==q;ue|=2,we.set(H,q);var _e=E(fe(H),fe(q),ue,se,de,we);return we.delete(H),_e;case"[object Symbol]":if(G)return G.call(H)==G.call(q)}return!1}},2286:(j,ee,v)=>{var _=v(7597),E=Object.prototype.hasOwnProperty;j.exports=function C(b,k,S,P,R,A){var F=1&S,N=_(b),B=N.length;if(B!=_(k).length&&!F)return!1;for(var Z=B;Z--;){var X=N[Z];if(!(F?X in k:E.call(k,X)))return!1}var ie=A.get(b),te=A.get(k);if(ie&&te)return ie==k&&te==b;var G=!0;A.set(b,k),A.set(k,b);for(var V=F;++Z<B;){var H=b[X=N[Z]],q=k[X];if(P)var ae=F?P(q,H,X,k,b,A):P(H,q,X,b,k,A);if(!(void 0===ae?H===q||R(H,q,S,P,A):ae)){G=!1;break}V||(V="constructor"==X)}if(G&&!V){var ue=b.constructor,se=k.constructor;ue!=se&&"constructor"in b&&"constructor"in k&&!("function"==typeof ue&&ue instanceof ue&&"function"==typeof se&&se instanceof se)&&(G=!1)}return A.delete(b),A.delete(k),G}},3975:(j,ee,v)=>{var _=v(2274),T=v(3983),x=v(2185);j.exports=function E(C){return x(T(C,void 0,_),C+"")}},9122:j=>{var ee="object"==typeof global&&global&&global.Object===Object&&global;j.exports=ee},7597:(j,ee,v)=>{var _=v(8247),T=v(9383),x=v(118);j.exports=function E(C){return _(C,x,T)}},6967:(j,ee,v)=>{var _=v(8247),T=v(3051),x=v(6555);j.exports=function E(C){return _(C,x,T)}},4537:(j,ee,v)=>{var _=v(3819);j.exports=function T(x,E){var C=x.__data__;return _(E)?C["string"==typeof E?"string":"hash"]:C.map}},2379:(j,ee,v)=>{var _=v(2442),T=v(118);j.exports=function x(E){for(var C=T(E),b=C.length;b--;){var k=C[b],S=E[k];C[b]=[k,S,_(S)]}return C}},3436:(j,ee,v)=>{var _=v(7304),T=v(1990);j.exports=function x(E,C){var b=T(E,C);return _(b)?b:void 0}},9519:(j,ee,v)=>{var T=v(9385)(Object.getPrototypeOf,Object);j.exports=T},1318:(j,ee,v)=>{var _=v(443),T=Object.prototype,x=T.hasOwnProperty,E=T.toString,C=_?_.toStringTag:void 0;j.exports=function b(k){var S=x.call(k,C),P=k[C];try{k[C]=void 0;var R=!0}catch{}var A=E.call(k);return R&&(S?k[C]=P:delete k[C]),A}},9383:(j,ee,v)=>{var _=v(9779),T=v(9975),E=Object.prototype.propertyIsEnumerable,C=Object.getOwnPropertySymbols;j.exports=C?function(k){return null==k?[]:(k=Object(k),_(C(k),function(S){return E.call(k,S)}))}:T},3051:(j,ee,v)=>{var _=v(5059),T=v(9519),x=v(9383),E=v(9975);j.exports=Object.getOwnPropertySymbols?function(k){for(var S=[];k;)_(S,x(k)),k=T(k);return S}:E},8794:(j,ee,v)=>{var _=v(7244),T=v(1501),x=v(4267),E=v(6323),C=v(4243),b=v(3337),k=v(2827),S="[object Map]",R="[object Promise]",A="[object Set]",F="[object WeakMap]",N="[object DataView]",B=k(_),J=k(T),U=k(x),Z=k(E),X=k(C),ie=b;(_&&ie(new _(new ArrayBuffer(1)))!=N||T&&ie(new T)!=S||x&&ie(x.resolve())!=R||E&&ie(new E)!=A||C&&ie(new C)!=F)&&(ie=function(te){var G=b(te),V="[object Object]"==G?te.constructor:void 0,H=V?k(V):"";if(H)switch(H){case B:return N;case J:return S;case U:return R;case Z:return A;case X:return F}return G}),j.exports=ie},1990:j=>{j.exports=function ee(v,_){return v?.[_]}},7283:(j,ee,v)=>{var _=v(6884),T=v(7151),x=v(1503),E=v(8442),C=v(6231),b=v(8533);j.exports=function k(S,P,R){for(var A=-1,F=(P=_(P,S)).length,N=!1;++A<F;){var B=b(P[A]);if(!(N=null!=S&&R(S,B)))break;S=S[B]}return N||++A!=F?N:!!(F=null==S?0:S.length)&&C(F)&&E(B,F)&&(x(S)||T(S))}},7609:j=>{var b=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");j.exports=function k(S){return b.test(S)}},4312:(j,ee,v)=>{var _=v(862);j.exports=function T(){this.__data__=_?_(null):{},this.size=0}},6421:j=>{j.exports=function ee(v){var _=this.has(v)&&delete this.__data__[v];return this.size-=_?1:0,_}},5764:(j,ee,v)=>{var _=v(862),E=Object.prototype.hasOwnProperty;j.exports=function C(b){var k=this.__data__;if(_){var S=k[b];return"__lodash_hash_undefined__"===S?void 0:S}return E.call(k,b)?k[b]:void 0}},8685:(j,ee,v)=>{var _=v(862),x=Object.prototype.hasOwnProperty;j.exports=function E(C){var b=this.__data__;return _?void 0!==b[C]:x.call(b,C)}},6676:(j,ee,v)=>{var _=v(862);j.exports=function x(E,C){var b=this.__data__;return this.size+=this.has(E)?0:1,b[E]=_&&void 0===C?"__lodash_hash_undefined__":C,this}},6782:j=>{var v=Object.prototype.hasOwnProperty;j.exports=function _(T){var x=T.length,E=new T.constructor(x);return x&&"string"==typeof T[0]&&v.call(T,"index")&&(E.index=T.index,E.input=T.input),E}},7878:(j,ee,v)=>{var _=v(3362),T=v(7e3),x=v(4098),E=v(2533),C=v(5208);j.exports=function ae(ue,se,de){var we=ue.constructor;switch(se){case"[object ArrayBuffer]":return _(ue);case"[object Boolean]":case"[object Date]":return new we(+ue);case"[object DataView]":return T(ue,de);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return C(ue,de);case"[object Map]":case"[object Set]":return new we;case"[object Number]":case"[object String]":return new we(ue);case"[object RegExp]":return x(ue);case"[object Symbol]":return E(ue)}}},4264:(j,ee,v)=>{var _=v(8858),T=v(9519),x=v(5488);j.exports=function E(C){return"function"!=typeof C.constructor||x(C)?{}:_(T(C))}},5039:(j,ee,v)=>{var _=v(443),T=v(7151),x=v(1503),E=_?_.isConcatSpreadable:void 0;j.exports=function C(b){return x(b)||T(b)||!!(E&&b&&b[E])}},8442:j=>{var v=/^(?:0|[1-9]\d*)$/;j.exports=function _(T,x){var E=typeof T;return!!(x=x??9007199254740991)&&("number"==E||"symbol"!=E&&v.test(T))&&T>-1&&T%1==0&&T<x}},3342:(j,ee,v)=>{var _=v(217),T=v(6507),x=v(8442),E=v(5940);j.exports=function C(b,k,S){if(!E(S))return!1;var P=typeof k;return!!("number"==P?T(S)&&x(k,S.length):"string"==P&&k in S)&&_(S[k],b)}},5352:(j,ee,v)=>{var _=v(1503),T=v(4129),x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/;j.exports=function C(b,k){if(_(b))return!1;var S=typeof b;return!("number"!=S&&"symbol"!=S&&"boolean"!=S&&null!=b&&!T(b))||E.test(b)||!x.test(b)||null!=k&&b in Object(k)}},3819:j=>{j.exports=function ee(v){var _=typeof v;return"string"==_||"number"==_||"symbol"==_||"boolean"==_?"__proto__"!==v:null===v}},1943:(j,ee,v)=>{var E,_=v(4610),T=(E=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"";j.exports=function x(E){return!!T&&T in E}},5488:j=>{var ee=Object.prototype;j.exports=function v(_){var T=_&&_.constructor;return _===("function"==typeof T&&T.prototype||ee)}},2442:(j,ee,v)=>{var _=v(5940);j.exports=function T(x){return x==x&&!_(x)}},1840:j=>{j.exports=function ee(){this.__data__=[],this.size=0}},4378:(j,ee,v)=>{var _=v(3503),x=Array.prototype.splice;j.exports=function E(C){var b=this.__data__,k=_(b,C);return!(k<0||(k==b.length-1?b.pop():x.call(b,k,1),--this.size,0))}},4981:(j,ee,v)=>{var _=v(3503);j.exports=function T(x){var E=this.__data__,C=_(E,x);return C<0?void 0:E[C][1]}},7343:(j,ee,v)=>{var _=v(3503);j.exports=function T(x){return _(this.__data__,x)>-1}},8895:(j,ee,v)=>{var _=v(3503);j.exports=function T(x,E){var C=this.__data__,b=_(C,x);return b<0?(++this.size,C.push([x,E])):C[b][1]=E,this}},638:(j,ee,v)=>{var _=v(4994),T=v(9215),x=v(1501);j.exports=function E(){this.size=0,this.__data__={hash:new _,map:new(x||T),string:new _}}},1184:(j,ee,v)=>{var _=v(4537);j.exports=function T(x){var E=_(this,x).delete(x);return this.size-=E?1:0,E}},866:(j,ee,v)=>{var _=v(4537);j.exports=function T(x){return _(this,x).get(x)}},3771:(j,ee,v)=>{var _=v(4537);j.exports=function T(x){return _(this,x).has(x)}},1772:(j,ee,v)=>{var _=v(4537);j.exports=function T(x,E){var C=_(this,x),b=C.size;return C.set(x,E),this.size+=C.size==b?0:1,this}},3205:j=>{j.exports=function ee(v){var _=-1,T=Array(v.size);return v.forEach(function(x,E){T[++_]=[E,x]}),T}},642:j=>{j.exports=function ee(v,_){return function(T){return null!=T&&T[v]===_&&(void 0!==_||v in Object(T))}}},719:(j,ee,v)=>{var _=v(535);j.exports=function x(E){var C=_(E,function(k){return 500===b.size&&b.clear(),k}),b=C.cache;return C}},862:(j,ee,v)=>{var T=v(3436)(Object,"create");j.exports=T},5491:(j,ee,v)=>{var T=v(9385)(Object.keys,Object);j.exports=T},2158:j=>{j.exports=function ee(v){var _=[];if(null!=v)for(var T in Object(v))_.push(T);return _}},3597:(j,ee,v)=>{j=v.nmd(j);var _=v(9122),T=ee&&!ee.nodeType&&ee,x=T&&j&&!j.nodeType&&j,C=x&&x.exports===T&&_.process,b=function(){try{return x&&x.require&&x.require("util").types||C&&C.binding&&C.binding("util")}catch{}}();j.exports=b},2902:j=>{var v=Object.prototype.toString;j.exports=function _(T){return v.call(T)}},9385:j=>{j.exports=function ee(v,_){return function(T){return v(_(T))}}},3983:(j,ee,v)=>{var _=v(6999),T=Math.max;j.exports=function x(E,C,b){return C=T(void 0===C?E.length-1:C,0),function(){for(var k=arguments,S=-1,P=T(k.length-C,0),R=Array(P);++S<P;)R[S]=k[C+S];S=-1;for(var A=Array(C+1);++S<C;)A[S]=k[S];return A[C]=b(R),_(E,this,A)}}},2119:(j,ee,v)=>{var _=v(9122),T="object"==typeof self&&self&&self.Object===Object&&self,x=_||T||Function("return this")();j.exports=x},9351:j=>{j.exports=function ee(v,_){if(("constructor"!==_||"function"!=typeof v[_])&&"__proto__"!=_)return v[_]}},4600:j=>{j.exports=function v(_){return this.__data__.set(_,"__lodash_hash_undefined__"),this}},1387:j=>{j.exports=function ee(v){return this.__data__.has(v)}},4174:j=>{j.exports=function ee(v){var _=-1,T=Array(v.size);return v.forEach(function(x){T[++_]=x}),T}},2185:(j,ee,v)=>{var _=v(9510),x=v(29)(_);j.exports=x},29:j=>{var ee=800,v=16,_=Date.now;j.exports=function T(x){var E=0,C=0;return function(){var b=_(),k=v-(b-C);if(C=b,k>0){if(++E>=ee)return arguments[0]}else E=0;return x.apply(void 0,arguments)}}},3720:(j,ee,v)=>{var _=v(9215);j.exports=function T(){this.__data__=new _,this.size=0}},4410:j=>{j.exports=function ee(v){var _=this.__data__,T=_.delete(v);return this.size=_.size,T}},5576:j=>{j.exports=function ee(v){return this.__data__.get(v)}},2247:j=>{j.exports=function ee(v){return this.__data__.has(v)}},1585:(j,ee,v)=>{var _=v(9215),T=v(1501),x=v(9850);j.exports=function C(b,k){var S=this.__data__;if(S instanceof _){var P=S.__data__;if(!T||P.length<199)return P.push([b,k]),this.size=++S.size,this;S=this.__data__=new x(P)}return S.set(b,k),this.size=S.size,this}},4977:j=>{j.exports=function ee(v,_,T){for(var x=T-1,E=v.length;++x<E;)if(v[x]===_)return x;return-1}},2315:(j,ee,v)=>{var _=v(5481),T=v(7609),x=v(1149);j.exports=function E(C){return T(C)?x(C):_(C)}},2855:(j,ee,v)=>{var _=v(719),T=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x=/\\(\\)?/g,E=_(function(C){var b=[];return 46===C.charCodeAt(0)&&b.push(""),C.replace(T,function(k,S,P,R){b.push(P?R.replace(x,"$1"):S||k)}),b});j.exports=E},8533:(j,ee,v)=>{var _=v(4129);j.exports=function x(E){if("string"==typeof E||_(E))return E;var C=E+"";return"0"==C&&1/E==-Infinity?"-0":C}},2827:j=>{var v=Function.prototype.toString;j.exports=function _(T){if(null!=T){try{return v.call(T)}catch{}try{return T+""}catch{}}return""}},2760:j=>{var ee=/\s/;j.exports=function v(_){for(var T=_.length;T--&&ee.test(_.charAt(T)););return T}},1149:j=>{var ee="\\ud800-\\udfff",C="["+ee+"]",b="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",k="\\ud83c[\\udffb-\\udfff]",P="[^"+ee+"]",R="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",N="(?:"+b+"|"+k+")?",B="[\\ufe0e\\ufe0f]?",U=B+N+"(?:\\u200d(?:"+[P,R,A].join("|")+")"+B+N+")*",Z="(?:"+[P+b+"?",b,R,A,C].join("|")+")",X=RegExp(k+"(?="+k+")|"+Z+U,"g");j.exports=function ie(te){for(var G=X.lastIndex=0;X.test(te);)++G;return G}},1094:(j,ee,v)=>{var _=v(4462);j.exports=function x(E){return _(E,4)}},733:(j,ee,v)=>{var _=v(4462);j.exports=function E(C){return _(C,5)}},6684:j=>{j.exports=function ee(v){return function(){return v}}},406:(j,ee,v)=>{var _=v(5940),T=v(1710),x=v(1467),C=Math.max,b=Math.min;j.exports=function k(S,P,R){var A,F,N,B,J,U,Z=0,X=!1,ie=!1,te=!0;if("function"!=typeof S)throw new TypeError("Expected a function");function G(fe){var je=A,Ve=F;return A=F=void 0,Z=fe,B=S.apply(Ve,je)}function q(fe){var je=fe-U;return void 0===U||je>=P||je<0||ie&&fe-Z>=N}function ae(){var fe=T();if(q(fe))return ue(fe);J=setTimeout(ae,function H(fe){var _e=P-(fe-U);return ie?b(_e,N-(fe-Z)):_e}(fe))}function ue(fe){return J=void 0,te&&A?G(fe):(A=F=void 0,B)}function we(){var fe=T(),je=q(fe);if(A=arguments,F=this,U=fe,je){if(void 0===J)return function V(fe){return Z=fe,J=setTimeout(ae,P),X?G(fe):B}(U);if(ie)return clearTimeout(J),J=setTimeout(ae,P),G(U)}return void 0===J&&(J=setTimeout(ae,P)),B}return P=x(P)||0,_(R)&&(X=!!R.leading,N=(ie="maxWait"in R)?C(x(R.maxWait)||0,P):N,te="trailing"in R?!!R.trailing:te),we.cancel=function se(){void 0!==J&&clearTimeout(J),Z=0,A=U=F=J=void 0},we.flush=function de(){return void 0===J?B:ue(T())},we}},8800:(j,ee,v)=>{var _=v(3269),T=v(217),x=v(3342),E=v(6555),C=Object.prototype,b=C.hasOwnProperty,k=_(function(S,P){S=Object(S);var R=-1,A=P.length,F=A>2?P[2]:void 0;for(F&&x(P[0],P[1],F)&&(A=1);++R<A;)for(var N=P[R],B=E(N),J=-1,U=B.length;++J<U;){var Z=B[J],X=S[Z];(void 0===X||T(X,C[Z])&&!b.call(S,Z))&&(S[Z]=N[Z])}return S});j.exports=k},5474:(j,ee,v)=>{j.exports=v(9851)},217:j=>{j.exports=function ee(v,_){return v===_||v!=v&&_!=_}},5281:(j,ee,v)=>{var _=v(9779),T=v(3609),x=v(6517),E=v(1503);j.exports=function C(b,k){return(E(b)?_:T)(b,x(k,3))}},2516:(j,ee,v)=>{var x=v(4653)(v(6397));j.exports=x},6397:(j,ee,v)=>{var _=v(5317),T=v(6517),x=v(4401),E=Math.max;j.exports=function C(b,k,S){var P=null==b?0:b.length;if(!P)return-1;var R=null==S?0:x(S);return R<0&&(R=E(P+R,0)),_(b,T(k,3),R)}},2274:(j,ee,v)=>{var _=v(686);j.exports=function T(x){return null!=x&&x.length?_(x,1):[]}},9851:(j,ee,v)=>{var _=v(6837),T=v(3132),x=v(1481),E=v(1503);j.exports=function C(b,k){return(E(b)?_:T)(b,x(k))}},1176:(j,ee,v)=>{var _=v(755),T=v(1481),x=v(6555);j.exports=function E(C,b){return null==C?C:_(C,T(b),x)}},8817:(j,ee,v)=>{var _=v(5456);j.exports=function T(x,E,C){var b=null==x?void 0:_(x,E);return void 0===b?C:b}},4842:(j,ee,v)=>{var _=v(4781),T=v(7283);j.exports=function x(E,C){return null!=E&&T(E,C,_)}},8492:(j,ee,v)=>{var _=v(9989),T=v(7283);j.exports=function x(E,C){return null!=E&&T(E,C,_)}},2608:j=>{j.exports=function ee(v){return v}},7151:(j,ee,v)=>{var _=v(186),T=v(2671),x=Object.prototype,E=x.hasOwnProperty,C=x.propertyIsEnumerable,b=_(function(){return arguments}())?_:function(k){return T(k)&&E.call(k,"callee")&&!C.call(k,"callee")};j.exports=b},1503:j=>{j.exports=Array.isArray},6507:(j,ee,v)=>{var _=v(5946),T=v(6231);j.exports=function x(E){return null!=E&&T(E.length)&&!_(E)}},1330:(j,ee,v)=>{var _=v(6507),T=v(2671);j.exports=function x(E){return T(E)&&_(E)}},891:(j,ee,v)=>{j=v.nmd(j);var _=v(2119),T=v(3580),x=ee&&!ee.nodeType&&ee,E=x&&j&&!j.nodeType&&j,b=E&&E.exports===x?_.Buffer:void 0;j.exports=(b?b.isBuffer:void 0)||T},1973:(j,ee,v)=>{var _=v(1172),T=v(8794),x=v(7151),E=v(1503),C=v(6507),b=v(891),k=v(5488),S=v(8159),F=Object.prototype.hasOwnProperty;j.exports=function N(B){if(null==B)return!0;if(C(B)&&(E(B)||"string"==typeof B||"function"==typeof B.splice||b(B)||S(B)||x(B)))return!B.length;var J=T(B);if("[object Map]"==J||"[object Set]"==J)return!B.size;if(k(B))return!_(B).length;for(var U in B)if(F.call(B,U))return!1;return!0}},5946:(j,ee,v)=>{var _=v(3337),T=v(5940);j.exports=function k(S){if(!T(S))return!1;var P=_(S);return"[object Function]"==P||"[object GeneratorFunction]"==P||"[object AsyncFunction]"==P||"[object Proxy]"==P}},6231:j=>{j.exports=function v(_){return"number"==typeof _&&_>-1&&_%1==0&&_<=9007199254740991}},3222:(j,ee,v)=>{var _=v(7021),T=v(5647),x=v(3597),E=x&&x.isMap,C=E?T(E):_;j.exports=C},5940:j=>{j.exports=function ee(v){var _=typeof v;return null!=v&&("object"==_||"function"==_)}},2671:j=>{j.exports=function ee(v){return null!=v&&"object"==typeof v}},7614:(j,ee,v)=>{var _=v(3337),T=v(9519),x=v(2671),k=Function.prototype.toString,S=Object.prototype.hasOwnProperty,P=k.call(Object);j.exports=function R(A){if(!x(A)||"[object Object]"!=_(A))return!1;var F=T(A);if(null===F)return!0;var N=S.call(F,"constructor")&&F.constructor;return"function"==typeof N&&N instanceof N&&k.call(N)==P}},799:(j,ee,v)=>{var _=v(771),T=v(5647),x=v(3597),E=x&&x.isSet,C=E?T(E):_;j.exports=C},248:(j,ee,v)=>{var _=v(3337),T=v(1503),x=v(2671);j.exports=function C(b){return"string"==typeof b||!T(b)&&x(b)&&"[object String]"==_(b)}},4129:(j,ee,v)=>{var _=v(3337),T=v(2671);j.exports=function E(C){return"symbol"==typeof C||T(C)&&"[object Symbol]"==_(C)}},8159:(j,ee,v)=>{var _=v(1083),T=v(5647),x=v(3597),E=x&&x.isTypedArray,C=E?T(E):_;j.exports=C},4235:j=>{j.exports=function ee(v){return void 0===v}},118:(j,ee,v)=>{var _=v(2271),T=v(1172),x=v(6507);j.exports=function E(C){return x(C)?_(C):T(C)}},6555:(j,ee,v)=>{var _=v(2271),T=v(2809),x=v(6507);j.exports=function E(C){return x(C)?_(C,!0):T(C)}},5809:j=>{j.exports=function ee(v){var _=null==v?0:v.length;return _?v[_-1]:void 0}},9984:(j,ee,v)=>{var _=v(4633),T=v(6517),x=v(2046),E=v(1503);j.exports=function C(b,k){return(E(b)?_:x)(b,T(k,3))}},203:(j,ee,v)=>{var _=v(5683),T=v(5184),x=v(6517);j.exports=function E(C,b){var k={};return b=x(b,3),T(C,function(S,P,R){_(k,P,b(S,P,R))}),k}},8176:(j,ee,v)=>{var _=v(7308),T=v(1100),x=v(2608);j.exports=function E(C){return C&&C.length?_(C,x,T):void 0}},535:(j,ee,v)=>{var _=v(9850),T="Expected a function";function x(E,C){if("function"!=typeof E||null!=C&&"function"!=typeof C)throw new TypeError(T);var b=function(){var k=arguments,S=C?C.apply(this,k):k[0],P=b.cache;if(P.has(S))return P.get(S);var R=E.apply(this,k);return b.cache=P.set(S,R)||P,R};return b.cache=new(x.Cache||_),b}x.Cache=_,j.exports=x},567:(j,ee,v)=>{var _=v(3842),x=v(4944)(function(E,C,b){_(E,C,b)});j.exports=x},9439:(j,ee,v)=>{var _=v(7308),T=v(9069),x=v(2608);j.exports=function E(C){return C&&C.length?_(C,x,T):void 0}},9525:(j,ee,v)=>{var _=v(7308),T=v(6517),x=v(9069);j.exports=function E(C,b){return C&&C.length?_(C,T(b,2),x):void 0}},2552:j=>{j.exports=function ee(){}},1710:(j,ee,v)=>{var _=v(2119);j.exports=function(){return _.Date.now()}},6372:(j,ee,v)=>{var _=v(3021),x=v(3975)(function(E,C){return null==E?{}:_(E,C)});j.exports=x},7495:(j,ee,v)=>{var _=v(1847),T=v(9222),x=v(5352),E=v(8533);j.exports=function C(b){return x(b)?_(E(b)):T(b)}},361:(j,ee,v)=>{var T=v(7509)();j.exports=T},1337:(j,ee,v)=>{var _=v(8745),T=v(3132),x=v(6517),E=v(3570),C=v(1503);j.exports=function b(k,S,P){var R=C(k)?_:E,A=arguments.length<3;return R(k,x(S,4),P,A,T)}},4793:(j,ee,v)=>{var _=v(5963);j.exports=function T(x,E,C){return null==x?x:_(x,E,C)}},5637:(j,ee,v)=>{var _=v(1172),T=v(8794),x=v(6507),E=v(248),C=v(2315);j.exports=function S(P){if(null==P)return 0;if(x(P))return E(P)?C(P):P.length;var R=T(P);return"[object Map]"==R||"[object Set]"==R?P.size:_(P).length}},2906:(j,ee,v)=>{var _=v(686),T=v(6119),x=v(3269),E=v(3342),C=x(function(b,k){if(null==b)return[];var S=k.length;return S>1&&E(b,k[0],k[1])?k=[]:S>2&&E(k[0],k[1],k[2])&&(k=[k[0]]),T(b,_(k,1),[])});j.exports=C},9975:j=>{j.exports=function ee(){return[]}},3580:j=>{j.exports=function ee(){return!1}},2232:(j,ee,v)=>{var _=v(1467),T=1/0;j.exports=function E(C){return C?(C=_(C))===T||C===-T?17976931348623157e292*(C<0?-1:1):C==C?C:0:0===C?C:0}},4401:(j,ee,v)=>{var _=v(2232);j.exports=function T(x){var E=_(x),C=E%1;return E==E?C?E-C:E:0}},1467:(j,ee,v)=>{var _=v(3348),T=v(5940),x=v(4129),C=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,k=/^0o[0-7]+$/i,S=parseInt;j.exports=function P(R){if("number"==typeof R)return R;if(x(R))return NaN;if(T(R)){var A="function"==typeof R.valueOf?R.valueOf():R;R=T(A)?A+"":A}if("string"!=typeof R)return 0===R?R:+R;R=_(R);var F=b.test(R);return F||k.test(R)?S(R.slice(2),F?2:8):C.test(R)?NaN:+R}},4152:(j,ee,v)=>{var _=v(4633),T=v(9454),x=v(1503),E=v(4129),C=v(2855),b=v(8533),k=v(3943);j.exports=function S(P){return x(P)?_(P,b):E(P)?[P]:T(C(k(P)))}},8067:(j,ee,v)=>{var _=v(1989),T=v(6555);j.exports=function x(E){return _(E,T(E))}},3943:(j,ee,v)=>{var _=v(3935);j.exports=function T(x){return null==x?"":_(x)}},9416:(j,ee,v)=>{var _=v(6837),T=v(8858),x=v(5184),E=v(6517),C=v(9519),b=v(1503),k=v(891),S=v(5946),P=v(5940),R=v(8159);j.exports=function A(F,N,B){var J=b(F),U=J||k(F)||R(F);if(N=E(N,4),null==B){var Z=F&&F.constructor;B=U?J?new Z:[]:P(F)&&S(Z)?T(C(F)):{}}return(U?_:x)(F,function(X,ie,te){return N(B,X,ie,te)}),B}},8921:(j,ee,v)=>{var _=v(686),T=v(3269),x=v(707),E=v(1330),C=T(function(b){return x(_(b,1,E,!0))});j.exports=C},1541:(j,ee,v)=>{var _=v(3943),T=0;j.exports=function x(E){var C=++T;return _(E)+C}},377:(j,ee,v)=>{var _=v(9179),T=v(118);j.exports=function x(E){return null==E?[]:_(E,T(E))}},1617:(j,ee,v)=>{var _=v(9719),T=v(8645);j.exports=function x(E,C){return T(E||[],C||[],_)}},4308:(j,ee,v)=>{j.exports=v(1358)},4512:j=>{"use strict";j.exports=class v5{constructor(v,_=new Map,T=0){this.prefix=v,this._existing=_,this.counter=T}clone(){const{prefix:v,_existing:_,counter:T}=this;return new v5(v,new Map(_),T)}getId(v){const _=v&&this._existing.get(v);if(_)return _;const T=this.prefix+this.counter;return this.counter++,v&&this._existing.set(v,T),T}hasId(v){return this._existing.has(v)}getOldIds(){return[...this._existing.keys()]}}},7510:(j,ee,v)=>{"use strict";var _=v(9344).default;v(6563);const T=self.crypto||self.msCrypto;j.exports=class{constructor(E){if(!T||!T.subtle)throw new Error("crypto.subtle not found.");if("sha256"===E)this.algorithm={name:"SHA-256"};else{if("sha1"!==E)throw new Error(`Unsupported algorithm "${E}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(E){this._content+=E}digest(){var E=this;return _(function*(){const C=(new TextEncoder).encode(E._content),b=new Uint8Array(yield T.subtle.digest(E.algorithm,C));let k="";for(let S=0;S<b.length;++S)k+=b[S].toString(16).padStart(2,"0");return k})()}}},5090:j=>{"use strict";const _="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",T="http://www.w3.org/2001/XMLSchema#string",x="NamedNode",E="BlankNode",C="Literal",b="DefaultGraph",k={};function S(N,B){return N.subject.termType===B.subject.termType&&N.object.termType===B.object.termType&&N.subject.value===B.subject.value&&N.predicate.value===B.predicate.value&&N.object.value===B.object.value&&(N.object.termType!==C||N.object.datatype.termType===B.object.datatype.termType&&N.object.language===B.object.language&&N.object.datatype.value===B.object.datatype.value)}(()=>{const N="(?:<([^:]+:[^>]*)>)",J="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_",U=J+"0-9-\xb7\u0300-\u036f\u203f-\u2040",X="(_:(?:["+J+"0-9])(?:(?:["+U+".])*(?:["+U+"]))?)",H="[ \\t]+",q="[ \\t]*",ae="(?:"+N+"|"+X+")"+H,ue=N+H,se="(?:"+N+"|"+X+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+N+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+q,de="(?:\\.|(?:(?:"+N+"|"+X+")"+q+"\\.))";k.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,k.empty=new RegExp("^"+q+"$"),k.quad=new RegExp("^"+q+ae+ue+se+de+q+"$")})(),j.exports=class Ax{static parse(B){const J=[],U={},Z=B.split(k.eoln);let X=0;for(const ie of Z){if(X++,k.empty.test(ie))continue;const te=ie.match(k.quad);if(null===te)throw new Error("N-Quads parse error on line "+X+".");const G={subject:null,predicate:null,object:null,graph:null};if(G.subject=void 0!==te[1]?{termType:x,value:te[1]}:{termType:E,value:te[2]},G.predicate={termType:x,value:te[3]},void 0!==te[4]?G.object={termType:x,value:te[4]}:void 0!==te[5]?G.object={termType:E,value:te[5]}:(G.object={termType:C,value:void 0,datatype:{termType:x}},void 0!==te[7]?G.object.datatype.value=te[7]:void 0!==te[8]?(G.object.datatype.value=_,G.object.language=te[8]):G.object.datatype.value=T,G.object.value=te[6].replace(A,function(B,J,U,Z){if(J)switch(J){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(U)return String.fromCharCode(parseInt(U,16));if(Z)throw new Error("Unsupported U escape")})),G.graph=void 0!==te[9]?{termType:x,value:te[9]}:void 0!==te[10]?{termType:E,value:te[10]}:{termType:b,value:""},G.graph.value in U){let V=!0;const H=U[G.graph.value];for(const q of H)if(S(q,G)){V=!1;break}V&&(H.push(G),J.push(G))}else U[G.graph.value]=[G],J.push(G)}return J}static serialize(B){Array.isArray(B)||(B=Ax.legacyDatasetToQuads(B));const J=[];for(const U of B)J.push(Ax.serializeQuad(U));return J.sort().join("")}static serializeQuadComponents(B,J,U,Z){let X="";return X+=B.termType===x?`<${B.value}>`:`${B.value}`,X+=` <${J.value}> `,U.termType===x?X+=`<${U.value}>`:U.termType===E?X+=U.value:(X+=`"${function R(N){return N.replace(P,function(B){switch(B){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(U.value)}"`,U.datatype.value===_?U.language&&(X+=`@${U.language}`):U.datatype.value!==T&&(X+=`^^<${U.datatype.value}>`)),Z.termType===x?X+=` <${Z.value}>`:Z.termType===E&&(X+=` ${Z.value}`),X+=" .\n",X}static serializeQuad(B){return Ax.serializeQuadComponents(B.subject,B.predicate,B.object,B.graph)}static legacyDatasetToQuads(B){const J=[],U={"blank node":E,IRI:x,literal:C};for(const Z in B)B[Z].forEach(ie=>{const te={};for(const G in ie){const V=ie[G],H={termType:U[V.type],value:V.value};H.termType===C&&(H.datatype={termType:x},"datatype"in V&&(H.datatype.value=V.datatype),"language"in V?("datatype"in V||(H.datatype.value=_),H.language=V.language):"datatype"in V||(H.datatype.value=T)),te[G]=H}te.graph="@default"===Z?{termType:b,value:""}:{termType:Z.startsWith("_:")?E:x,value:Z},J.push(te)});return J}};const P=/["\\\n\r]/g,A=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},5067:j=>{"use strict";j.exports=class{constructor(v){this.current=v.sort(),this.done=!1,this.dir=new Map;for(let _=0;_<v.length;++_)this.dir.set(v[_],!0)}hasNext(){return!this.done}next(){const{current:v,dir:_}=this,T=v.slice();let x=null,E=0;const C=v.length;for(let b=0;b<C;++b){const k=v[b],S=_.get(k);(null===x||k>x)&&(S&&b>0&&k>v[b-1]||!S&&b<C-1&&k>v[b+1])&&(x=k,E=b)}if(null===x)this.done=!0;else{const b=_.get(x)?E-1:E+1;v[E]=v[b],v[b]=x;for(const k of v)k>x&&_.set(k,!_.get(k))}return T}}},4103:(j,ee,v)=>{"use strict";var _=v(9344).default;const T=v(4512),x=v(7510),E=v(5067),C=v(5090);function b(k,S){return k.hash<S.hash?-1:k.hash>S.hash?1:0}j.exports=class{constructor({createMessageDigest:S=(()=>new x("sha256")),maxDeepIterations:P=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new T("_:c14n"),this.createMessageDigest=S,this.maxDeepIterations=P,this.quads=null,this.deepIterations=null}main(S){var P=this;return _(function*(){P.deepIterations=new Map,P.quads=S;for(const U of S)P._addBlankNodeQuadInfo({quad:U,component:U.subject}),P._addBlankNodeQuadInfo({quad:U,component:U.object}),P._addBlankNodeQuadInfo({quad:U,component:U.graph});const R=new Map,A=[...P.blankNodeInfo.keys()];let F=0;for(const U of A)++F%100==0&&(yield P._yield()),yield P._hashAndTrackBlankNode({id:U,hashToBlankNodes:R});const N=[...R.keys()].sort(),B=[];for(const U of N){const Z=R.get(U);Z.length>1?B.push(Z):P.canonicalIssuer.getId(Z[0])}for(const U of B){const Z=[];for(const X of U){if(P.canonicalIssuer.hasId(X))continue;const ie=new T("_:b");ie.getId(X);const te=yield P.hashNDegreeQuads(X,ie);Z.push(te)}Z.sort(b);for(const X of Z){const ie=X.issuer.getOldIds();for(const te of ie)P.canonicalIssuer.getId(te)}}const J=[];for(const U of P.quads){const Z=C.serializeQuadComponents(P._componentWithCanonicalId(U.subject),U.predicate,P._componentWithCanonicalId(U.object),P._componentWithCanonicalId(U.graph));J.push(Z)}return J.sort(),J.join("")})()}hashFirstDegreeQuads(S){var P=this;return _(function*(){const R=[],A=P.blankNodeInfo.get(S),F=A.quads;for(const B of F){const J={subject:null,predicate:B.predicate,object:null,graph:null};J.subject=P.modifyFirstDegreeComponent(S,B.subject,"subject"),J.object=P.modifyFirstDegreeComponent(S,B.object,"object"),J.graph=P.modifyFirstDegreeComponent(S,B.graph,"graph"),R.push(C.serializeQuad(J))}R.sort();const N=P.createMessageDigest();for(const B of R)N.update(B);return A.hash=yield N.digest(),A.hash})()}hashRelatedBlankNode(S,P,R,A){var F=this;return _(function*(){let N;N=F.canonicalIssuer.hasId(S)?F.canonicalIssuer.getId(S):R.hasId(S)?R.getId(S):F.blankNodeInfo.get(S).hash;const B=F.createMessageDigest();return B.update(A),"g"!==A&&B.update(F.getRelatedPredicate(P)),B.update(N),B.digest()})()}hashNDegreeQuads(S,P){var R=this;return _(function*(){const A=R.deepIterations.get(S)||0;if(A>R.maxDeepIterations)throw new Error(`Maximum deep iterations (${R.maxDeepIterations}) exceeded.`);R.deepIterations.set(S,A+1);const F=R.createMessageDigest(),N=yield R.createHashToRelated(S,P),B=[...N.keys()].sort();for(const J of B){F.update(J);let Z,U="";const X=new E(N.get(J));let ie=0;for(;X.hasNext();){const te=X.next();++ie%3==0&&(yield R._yield());let G=P.clone(),V="";const H=[];let q=!1;for(const ae of te)if(R.canonicalIssuer.hasId(ae)?V+=R.canonicalIssuer.getId(ae):(G.hasId(ae)||H.push(ae),V+=G.getId(ae)),0!==U.length&&V>U){q=!0;break}if(!q){for(const ae of H){const ue=yield R.hashNDegreeQuads(ae,G);if(V+=G.getId(ae),V+=`<${ue.hash}>`,G=ue.issuer,0!==U.length&&V>U){q=!0;break}}q||(0===U.length||V<U)&&(U=V,Z=G)}}F.update(U),P=Z}return{hash:yield F.digest(),issuer:P}})()}modifyFirstDegreeComponent(S,P){return"BlankNode"!==P.termType?P:{termType:"BlankNode",value:P.value===S?"_:a":"_:z"}}getRelatedPredicate(S){return`<${S.predicate.value}>`}createHashToRelated(S,P){var R=this;return _(function*(){const A=new Map,F=R.blankNodeInfo.get(S).quads;let N=0;for(const B of F)++N%100==0&&(yield R._yield()),yield Promise.all([R._addRelatedBlankNodeHash({quad:B,component:B.subject,position:"s",id:S,issuer:P,hashToRelated:A}),R._addRelatedBlankNodeHash({quad:B,component:B.object,position:"o",id:S,issuer:P,hashToRelated:A}),R._addRelatedBlankNodeHash({quad:B,component:B.graph,position:"g",id:S,issuer:P,hashToRelated:A})]);return A})()}_hashAndTrackBlankNode({id:S,hashToBlankNodes:P}){var R=this;return _(function*(){const A=yield R.hashFirstDegreeQuads(S),F=P.get(A);F?F.push(S):P.set(A,[S])})()}_addBlankNodeQuadInfo({quad:S,component:P}){if("BlankNode"!==P.termType)return;const R=P.value,A=this.blankNodeInfo.get(R);A?A.quads.add(S):this.blankNodeInfo.set(R,{quads:new Set([S]),hash:null})}_addRelatedBlankNodeHash({quad:S,component:P,position:R,id:A,issuer:F,hashToRelated:N}){var B=this;return _(function*(){if("BlankNode"!==P.termType||P.value===A)return;const J=P.value,U=yield B.hashRelatedBlankNode(J,S,F,R),Z=N.get(U);Z?Z.push(J):N.set(U,[J])})()}_componentWithCanonicalId(S){return"BlankNode"!==S.termType||S.value.startsWith(this.canonicalIssuer.prefix)?S:{termType:"BlankNode",value:this.canonicalIssuer.getId(S.value)}}_yield(){return _(function*(){return new Promise(S=>setImmediate(S))})()}}},526:(j,ee,v)=>{"use strict";const _=v(4512),T=v(7510),x=v(5067),E=v(5090);function C(b,k){return b.hash<k.hash?-1:b.hash>k.hash?1:0}j.exports=class{constructor({createMessageDigest:k=(()=>new T("sha256")),maxDeepIterations:S=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new _("_:c14n"),this.createMessageDigest=k,this.maxDeepIterations=S,this.quads=null,this.deepIterations=null}main(k){this.deepIterations=new Map,this.quads=k;for(const N of k)this._addBlankNodeQuadInfo({quad:N,component:N.subject}),this._addBlankNodeQuadInfo({quad:N,component:N.object}),this._addBlankNodeQuadInfo({quad:N,component:N.graph});const S=new Map,P=[...this.blankNodeInfo.keys()];for(const N of P)this._hashAndTrackBlankNode({id:N,hashToBlankNodes:S});const R=[...S.keys()].sort(),A=[];for(const N of R){const B=S.get(N);B.length>1?A.push(B):this.canonicalIssuer.getId(B[0])}for(const N of A){const B=[];for(const J of N){if(this.canonicalIssuer.hasId(J))continue;const U=new _("_:b");U.getId(J);const Z=this.hashNDegreeQuads(J,U);B.push(Z)}B.sort(C);for(const J of B){const U=J.issuer.getOldIds();for(const Z of U)this.canonicalIssuer.getId(Z)}}const F=[];for(const N of this.quads){const B=E.serializeQuadComponents(this._componentWithCanonicalId({component:N.subject}),N.predicate,this._componentWithCanonicalId({component:N.object}),this._componentWithCanonicalId({component:N.graph}));F.push(B)}return F.sort(),F.join("")}hashFirstDegreeQuads(k){const S=[],P=this.blankNodeInfo.get(k),R=P.quads;for(const F of R){const N={subject:null,predicate:F.predicate,object:null,graph:null};N.subject=this.modifyFirstDegreeComponent(k,F.subject,"subject"),N.object=this.modifyFirstDegreeComponent(k,F.object,"object"),N.graph=this.modifyFirstDegreeComponent(k,F.graph,"graph"),S.push(E.serializeQuad(N))}S.sort();const A=this.createMessageDigest();for(const F of S)A.update(F);return P.hash=A.digest(),P.hash}hashRelatedBlankNode(k,S,P,R){let A;A=this.canonicalIssuer.hasId(k)?this.canonicalIssuer.getId(k):P.hasId(k)?P.getId(k):this.blankNodeInfo.get(k).hash;const F=this.createMessageDigest();return F.update(R),"g"!==R&&F.update(this.getRelatedPredicate(S)),F.update(A),F.digest()}hashNDegreeQuads(k,S){const P=this.deepIterations.get(k)||0;if(P>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(k,P+1);const R=this.createMessageDigest(),A=this.createHashToRelated(k,S),F=[...A.keys()].sort();for(const N of F){R.update(N);let J,B="";const U=new x(A.get(N));for(;U.hasNext();){const Z=U.next();let X=S.clone(),ie="";const te=[];let G=!1;for(const V of Z)if(this.canonicalIssuer.hasId(V)?ie+=this.canonicalIssuer.getId(V):(X.hasId(V)||te.push(V),ie+=X.getId(V)),0!==B.length&&ie>B){G=!0;break}if(!G){for(const V of te){const H=this.hashNDegreeQuads(V,X);if(ie+=X.getId(V),ie+=`<${H.hash}>`,X=H.issuer,0!==B.length&&ie>B){G=!0;break}}G||(0===B.length||ie<B)&&(B=ie,J=X)}}R.update(B),S=J}return{hash:R.digest(),issuer:S}}modifyFirstDegreeComponent(k,S){return"BlankNode"!==S.termType?S:{termType:"BlankNode",value:S.value===k?"_:a":"_:z"}}getRelatedPredicate(k){return`<${k.predicate.value}>`}createHashToRelated(k,S){const P=new Map,R=this.blankNodeInfo.get(k).quads;for(const A of R)this._addRelatedBlankNodeHash({quad:A,component:A.subject,position:"s",id:k,issuer:S,hashToRelated:P}),this._addRelatedBlankNodeHash({quad:A,component:A.object,position:"o",id:k,issuer:S,hashToRelated:P}),this._addRelatedBlankNodeHash({quad:A,component:A.graph,position:"g",id:k,issuer:S,hashToRelated:P});return P}_hashAndTrackBlankNode({id:k,hashToBlankNodes:S}){const P=this.hashFirstDegreeQuads(k),R=S.get(P);R?R.push(k):S.set(P,[k])}_addBlankNodeQuadInfo({quad:k,component:S}){if("BlankNode"!==S.termType)return;const P=S.value,R=this.blankNodeInfo.get(P);R?R.quads.add(k):this.blankNodeInfo.set(P,{quads:new Set([k]),hash:null})}_addRelatedBlankNodeHash({quad:k,component:S,position:P,id:R,issuer:A,hashToRelated:F}){if("BlankNode"!==S.termType||S.value===R)return;const N=S.value,B=this.hashRelatedBlankNode(N,k,A,P),J=F.get(B);J?J.push(N):F.set(B,[N])}_componentWithCanonicalId({component:k}){return"BlankNode"!==k.termType||k.value.startsWith(this.canonicalIssuer.prefix)?k:{termType:"BlankNode",value:this.canonicalIssuer.getId(k.value)}}}},1359:(j,ee,v)=>{"use strict";var _=v(9344).default;const T=v(7510),x=v(4103);j.exports=class extends x{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new T("sha1")}modifyFirstDegreeComponent(C,b,k){return"BlankNode"!==b.termType?b:"graph"===k?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:b.value===C?"_:a":"_:z"}}getRelatedPredicate(C){return C.predicate.value}createHashToRelated(C,b){var k=this;return _(function*(){const S=new Map,P=k.blankNodeInfo.get(C).quads;let R=0;for(const A of P){let F,N;if("BlankNode"===A.subject.termType&&A.subject.value!==C)N=A.subject.value,F="p";else{if("BlankNode"!==A.object.termType||A.object.value===C)continue;N=A.object.value,F="r"}++R%100==0&&(yield k._yield());const B=yield k.hashRelatedBlankNode(N,A,b,F),J=S.get(B);J?J.push(N):S.set(B,[N])}return S})()}}},7492:(j,ee,v)=>{"use strict";const _=v(7510),T=v(526);j.exports=class extends T{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new _("sha1")}modifyFirstDegreeComponent(E,C,b){return"BlankNode"!==C.termType?C:"graph"===b?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:C.value===E?"_:a":"_:z"}}getRelatedPredicate(E){return E.predicate.value}createHashToRelated(E,C){const b=new Map,k=this.blankNodeInfo.get(E).quads;for(const S of k){let P,R;if("BlankNode"===S.subject.termType&&S.subject.value!==E)R=S.subject.value,P="p";else{if("BlankNode"!==S.object.termType||S.object.value===E)continue;R=S.object.value,P="r"}const A=this.hashRelatedBlankNode(R,S,C,P),F=b.get(A);F?F.push(R):b.set(A,[R])}return b}}},1358:(j,ee,v)=>{"use strict";var _=v(9344).default;const T=v(4103),x=v(1359),E=v(526),C=v(7492);let b;try{b=v(7670)}catch{}ee.NQuads=v(5090),ee.IdentifierIssuer=v(4512),ee._rdfCanonizeNative=function(k){return k&&(b=k),b},ee.canonize=function(){var k=_(function*(S,P){if(Array.isArray(S)||(S=ee.NQuads.legacyDatasetToQuads(S)),P.useNative){if(!b)throw new Error("rdf-canonize-native not available");if(P.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((R,A)=>b.canonize(S,P,(F,N)=>F?A(F):R(N)))}if("URDNA2015"===P.algorithm)return new T(P).main(S);if("URGNA2012"===P.algorithm){if(P.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new x(P).main(S)}throw"algorithm"in P?new Error("Invalid RDF Dataset Canonicalization algorithm: "+P.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")});return function(S,P){return k.apply(this,arguments)}}(),ee._canonizeSync=function(k,S){if(Array.isArray(k)||(k=ee.NQuads.legacyDatasetToQuads(k)),S.useNative){if(!b)throw new Error("rdf-canonize-native not available");if(S.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return b.canonizeSync(k,S)}if("URDNA2015"===S.algorithm)return new E(S).main(k);if("URGNA2012"===S.algorithm){if(S.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new C(S).main(k)}throw"algorithm"in S?new Error("Invalid RDF Dataset Canonicalization algorithm: "+S.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},6563:function(){!function(j,ee){"use strict";if(!j.setImmediate){var E,v=1,_={},T=!1,x=j.document,J=Object.getPrototypeOf&&Object.getPrototypeOf(j);J=J&&J.setTimeout?J:j,"[object process]"==={}.toString.call(j.process)?function P(){E=function(U){process.nextTick(function(){S(U)})}}():function R(){if(j.postMessage&&!j.importScripts){var U=!0,Z=j.onmessage;return j.onmessage=function(){U=!1},j.postMessage("","*"),j.onmessage=Z,U}}()?function A(){var U="setImmediate$"+Math.random()+"$",Z=function(X){X.source===j&&"string"==typeof X.data&&0===X.data.indexOf(U)&&S(+X.data.slice(U.length))};j.addEventListener?j.addEventListener("message",Z,!1):j.attachEvent("onmessage",Z),E=function(X){j.postMessage(U+X,"*")}}():j.MessageChannel?function F(){var U=new MessageChannel;U.port1.onmessage=function(Z){S(Z.data)},E=function(Z){U.port2.postMessage(Z)}}():x&&"onreadystatechange"in x.createElement("script")?function N(){var U=x.documentElement;E=function(Z){var X=x.createElement("script");X.onreadystatechange=function(){S(Z),X.onreadystatechange=null,U.removeChild(X),X=null},U.appendChild(X)}}():function B(){E=function(U){setTimeout(S,0,U)}}(),J.setImmediate=function C(U){"function"!=typeof U&&(U=new Function(""+U));for(var Z=new Array(arguments.length-1),X=0;X<Z.length;X++)Z[X]=arguments[X+1];return _[v]={callback:U,args:Z},E(v),v++},J.clearImmediate=b}function b(U){delete _[U]}function S(U){if(T)setTimeout(S,0,U);else{var Z=_[U];if(Z){T=!0;try{!function k(U){var Z=U.callback,X=U.args;switch(X.length){case 0:Z();break;case 1:Z(X[0]);break;case 2:Z(X[0],X[1]);break;case 3:Z(X[0],X[1],X[2]);break;default:Z.apply(ee,X)}}(Z)}finally{b(U),T=!1}}}}}(typeof self>"u"?typeof global>"u"?this:global:self)},7670:()=>{},9344:j=>{function ee(_,T,x,E,C,b,k){try{var S=_[b](k),P=S.value}catch(R){return void x(R)}S.done?T(P):Promise.resolve(P).then(E,C)}j.exports=function v(_){return function(){var T=this,x=arguments;return new Promise(function(E,C){var b=_.apply(T,x);function k(P){ee(b,E,C,k,S,"next",P)}function S(P){ee(b,E,C,k,S,"throw",P)}k(void 0)})}},j.exports.__esModule=!0,j.exports.default=j.exports}},j=>{j(j.s=2749)}]);
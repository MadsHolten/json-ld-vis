(self.webpackChunkjson_ld_vis=self.webpackChunkjson_ld_vis||[]).push([[179],{354:(j,ee,v)=>{"use strict";function _(n){return"function"==typeof n}function A(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const x=A(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function E(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class C{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(_(r))try{r()}catch(s){e=s instanceof x?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{D(s)}catch(a){e=e??[],a instanceof x?e=[...e,...a.errors]:e.push(a)}}if(e)throw new x(e)}}add(e){var t;if(e&&e!==this)if(this.closed)D(e);else{if(e instanceof C){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&E(t,e)}remove(e){const{_finalizers:t}=this;t&&E(t,e),e instanceof C&&e._removeParent(this)}}C.EMPTY=(()=>{const n=new C;return n.closed=!0,n})();const b=C.EMPTY;function M(n){return n instanceof C||n&&"closed"in n&&_(n.remove)&&_(n.add)&&_(n.unsubscribe)}function D(n){_(n)?n():n.unsubscribe()}const P={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},R={setTimeout(n,e,...t){const{delegate:r}=R;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=R;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function I(n){R.setTimeout(()=>{const{onUnhandledError:e}=P;if(!e)throw n;e(n)})}function L(){}const N=U("C",void 0,void 0);function U(n,e,t){return{kind:n,value:e,error:t}}let Z=null;function X(n){if(P.useDeprecatedSynchronousErrorHandling){const e=!Z;if(e&&(Z={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Z;if(Z=null,t)throw r}}else n()}class te extends C{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,M(e)&&e.add(this)):this.destination=de}static create(e,t,r){return new q(e,t,r)}next(e){this.isStopped?oe(function J(n){return U("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?oe(function B(n){return U("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?oe(N,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const G=Function.prototype.bind;function V(n,e){return G.call(n,e)}class z{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ae(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ae(r)}else ae(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ae(t)}}}class q extends te{constructor(e,t,r){let i;if(super(),_(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&P.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&V(e.next,s),error:e.error&&V(e.error,s),complete:e.complete&&V(e.complete,s)}):i=e}this.destination=new z(i)}}function ae(n){P.useDeprecatedSynchronousErrorHandling?function ie(n){P.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=n)}(n):I(n)}function oe(n,e){const{onStoppedNotification:t}=P;t&&R.setTimeout(()=>t(n,e))}const de={closed:!0,next:L,error:function ue(n){throw n},complete:L},we="function"==typeof Symbol&&Symbol.observable||"@@observable";function fe(n){return n}let _e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function qe(n){return n&&n instanceof te||function ge(n){return n&&_(n.next)&&_(n.error)&&_(n.complete)}(n)&&M(n)}(t)?t:new q(t,r,i);return X(()=>{const{operator:a,source:u}=this;s.add(a?a.call(s,u):u?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ce(r))((i,s)=>{const a=new q({next:u=>{try{t(u)}catch(h){s(h),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[we](){return this}pipe(...t){return function Ve(n){return 0===n.length?fe:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Ce(t))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return n.create=e=>new n(e),n})();function Ce(n){var e;return null!==(e=n??P.Promise)&&void 0!==e?e:Promise}const Xe=A(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Te=(()=>{class n extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new et(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Xe}next(t){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?b:(this.currentObservers=null,s.push(t),new C(()=>{this.currentObservers=null,E(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new _e;return t.source=this,t}}return n.create=(e,t)=>new et(e,t),n})();class et extends Te{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:b}}function Be(n){return e=>{if(function At(n){return _(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Fe(n,e,t,r,i){return new Ue(n,e,t,r,i)}class Ue extends te{constructor(e,t,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(u){try{t(u)}catch(h){e.error(h)}}:super._next,this._error=i?function(u){try{i(u)}catch(h){e.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ne(n,e){return Be((t,r)=>{let i=0;t.subscribe(Fe(r,s=>{r.next(n.call(e,s,i++))}))})}function kn(n){return this instanceof kn?(this.v=n,this):new kn(n)}function Go(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Rr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(u,h){!function i(s,a,u,h){Promise.resolve(h).then(function(g){s({value:g,done:u})},a)}(u,h,(a=n[s](a)).done,a.value)})}}}const zi=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function va(n){return _(n?.then)}function Ua(n){return _(n[we])}function ya(n){return Symbol.asyncIterator&&_(n?.[Symbol.asyncIterator])}function hd(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const El=function wl(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function jh(n){return _(n?.[El])}function Do(n){return function _l(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a($){r[$]&&(i[$]=function(K){return new Promise(function(re,he){s.push([$,K,re,he])>1||u($,K)})})}function u($,K){try{!function h($){$.value instanceof kn?Promise.resolve($.value.v).then(g,y):O(s[0][2],$)}(r[$](K))}catch(re){O(s[0][3],re)}}function g($){u("next",$)}function y($){u("throw",$)}function O($,K){$(K),s.shift(),s.length&&u(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield kn(t.read());if(i)return yield kn(void 0);yield yield kn(r)}}finally{t.releaseLock()}})}function Mo(n){return _(n?.getReader)}function is(n){if(n instanceof _e)return n;if(null!=n){if(Ua(n))return function Ga(n){return new _e(e=>{const t=n[we]();if(_(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(zi(n))return function Uh(n){return new _e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(va(n))return function Gh(n){return new _e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,I)})}(n);if(ya(n))return pd(n);if(jh(n))return function fd(n){return new _e(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Mo(n))return function Up(n){return pd(Do(n))}(n)}throw hd(n)}function pd(n){return new _e(e=>{(function tu(n,e){var t,r,i,s;return function Jn(n,e,t,r){return new(t||(t=Promise))(function(s,a){function u(y){try{g(r.next(y))}catch(O){a(O)}}function h(y){try{g(r.throw(y))}catch(O){a(O)}}function g(y){y.done?s(y.value):function i(s){return s instanceof t?s:new t(function(a){a(s)})}(y.value).then(u,h)}g((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Go(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function To(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function $a(n,e,t=1/0){return _(e)?$a((r,i)=>Ne((s,a)=>e(r,s,i,a))(is(n(r,i))),t):("number"==typeof e&&(t=e),Be((r,i)=>function nu(n,e,t,r,i,s,a,u){const h=[];let g=0,y=0,O=!1;const $=()=>{O&&!h.length&&!g&&e.complete()},K=he=>g<r?re(he):h.push(he),re=he=>{s&&e.next(he),g++;let xe=!1;is(t(he,y++)).subscribe(Fe(e,Pe=>{i?.(Pe),s?K(Pe):e.next(Pe)},()=>{xe=!0},void 0,()=>{if(xe)try{for(g--;h.length&&g<r;){const Pe=h.shift();a?To(e,a,()=>re(Pe)):re(Pe)}$()}catch(Pe){e.error(Pe)}}))};return n.subscribe(Fe(e,K,()=>{O=!0,$()})),()=>{u?.()}}(r,i,n,t)))}function ru(n=1/0){return $a(fe,n)}const Br=new _e(n=>n.complete());function md(n){return n&&_(n.schedule)}function $s(n){return n[n.length-1]}function $h(n){return _($s(n))?n.pop():void 0}function Cl(n){return md($s(n))?n.pop():void 0}function gd(n,e=0){return Be((t,r)=>{t.subscribe(Fe(r,i=>To(r,n,()=>r.next(i),e),()=>To(r,n,()=>r.complete(),e),i=>To(r,n,()=>r.error(i),e)))})}function Ti(n,e=0){return Be((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Io(n,e){if(!n)throw new Error("Iterable cannot be null");return new _e(t=>{To(t,e,()=>{const r=n[Symbol.asyncIterator]();To(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Sl(n,e){return e?function As(n,e){if(null!=n){if(Ua(n))return function ba(n,e){return is(n).pipe(Ti(e),gd(e))}(n,e);if(zi(n))return function Nv(n,e){return new _e(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(va(n))return function vd(n,e){return is(n).pipe(Ti(e),gd(e))}(n,e);if(ya(n))return Io(n,e);if(jh(n))return function Ao(n,e){return new _e(t=>{let r;return To(t,e,()=>{r=n[El](),To(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void t.error(a)}s?t.complete():t.next(i)},0,!0)}),()=>_(r?.return)&&r.return()})}(n,e);if(Mo(n))return function Wh(n,e){return Io(Do(n),e)}(n,e)}throw hd(n)}(n,e):is(n)}function Dl(...n){const e=Cl(n),t=function $p(n,e){return"number"==typeof $s(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?is(r[0]):ru(t)(Sl(r,e)):Br}function Wa(n={}){const{connector:e=(()=>new Te),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let a,u,h,g=0,y=!1,O=!1;const $=()=>{u?.unsubscribe(),u=void 0},K=()=>{$(),a=h=void 0,y=O=!1},re=()=>{const he=a;K(),he?.unsubscribe()};return Be((he,xe)=>{g++,!O&&!y&&$();const Pe=h=h??e();xe.add(()=>{g--,0===g&&!O&&!y&&(u=Ml(re,i))}),Pe.subscribe(xe),!a&&g>0&&(a=new q({next:Je=>Pe.next(Je),error:Je=>{O=!0,$(),u=Ml(K,t,Je),Pe.error(Je)},complete:()=>{y=!0,$(),u=Ml(K,r),Pe.complete()}}),is(he).subscribe(a))})(s)}}function Ml(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new q({next:()=>{r.unsubscribe(),n()}});return is(e(...t)).subscribe(r)}function Ir(n){for(let e in n)if(n[e]===Ir)return e;throw Error("Could not find renamed property on target object.")}function ke(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Se(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Se).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ye(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const _t=Ir({__forward_ref__:Ir});function ct(n){return n.__forward_ref__=ct,n.toString=function(){return Se(this())},n}function ht(n){return rn(n)?n():n}function rn(n){return"function"==typeof n&&n.hasOwnProperty(_t)&&n.__forward_ref__===ct}function Bt(n){return n&&!!n.\u0275providers}const vn="https://g.co/ng/security#xss";class Ze extends Error{constructor(e,t){super(ur(e,t)),this.code=e}}function ur(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function Wt(n){return"string"==typeof n?n:null==n?"":String(n)}function Xt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Wt(n)}function ir(n,e){throw new Ze(-201,!1)}function Ai(n,e){null==n&&function En(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function tn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Wo(n){return ao(n,Ya)||ao(n,su)}function ao(n,e){return n.hasOwnProperty(e)?n[e]:null}function Yo(n){return n&&(n.hasOwnProperty(bd)||n.hasOwnProperty(Wp))?n[bd]:null}const Ya=Ir({\u0275prov:Ir}),bd=Ir({\u0275inj:Ir}),su=Ir({ngInjectableDef:Ir}),Wp=Ir({ngInjectorDef:Ir});var xn=(()=>((xn=xn||{})[xn.Default=0]="Default",xn[xn.Host=1]="Host",xn[xn.Self=2]="Self",xn[xn.SkipSelf=4]="SkipSelf",xn[xn.Optional=8]="Optional",xn))();let _d;function Vr(n){const e=_d;return _d=n,e}function lo(n,e,t){const r=Wo(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&xn.Optional?null:void 0!==e?e:void ir(Se(n))}const Nr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ro={},qa="__NG_DI_FLAG__",Ws="ngTempTokenPath",Il="ngTokenPath",Xh=/\n/gm,yc="\u0275",gs="__source";let ou;function kl(n){const e=ou;return ou=n,e}function wd(n,e=xn.Default){if(void 0===ou)throw new Ze(-203,!1);return null===ou?lo(n,void 0,e):ou.get(n,e&xn.Optional?null:void 0,e)}function xt(n,e=xn.Default){return(function Yp(){return _d}()||wd)(ht(n),e)}function Xo(n,e=xn.Default){return xt(n,au(e))}function au(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Kp(n){const e=[];for(let t=0;t<n.length;t++){const r=ht(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Ze(900,!1);let i,s=xn.Default;for(let a=0;a<r.length;a++){const u=r[a],h=Fv(u);"number"==typeof h?-1===h?i=u.token:s|=h:i=u}e.push(xt(i,s))}else e.push(xt(r))}return e}function Ed(n,e){return n[qa]=e,n.prototype[qa]=e,n}function Fv(n){return n[qa]}function co(n){return{toString:n}.toString()}var Ko=(()=>((Ko=Ko||{})[Ko.OnPush=0]="OnPush",Ko[Ko.Default=1]="Default",Ko))(),qo=(()=>{return(n=qo||(qo={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",qo;var n})();const Za={},Mr=[],Cd=Ir({\u0275cmp:Ir}),qp=Ir({\u0275dir:Ir}),Zp=Ir({\u0275pipe:Ir}),Qa=Ir({\u0275fac:Ir}),Sd=Ir({__NG_ELEMENT_ID__:Ir});let Ax=0;function si(n){return co(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ko.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Mr,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||qo.Emulated,id:"c"+Ax++,styles:n.styles||Mr,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,a=n.features;return i.inputs=Qp(n.inputs,r),i.outputs=Qp(n.outputs),a&&a.forEach(u=>u(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(jv).filter(Uv):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(ji).filter(Uv):null,i})}function jv(n){return hr(n)||_i(n)}function Uv(n){return null!==n}function Tr(n){return co(()=>({type:n.type,bootstrap:n.bootstrap||Mr,declarations:n.declarations||Mr,imports:n.imports||Mr,exports:n.exports||Mr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Qp(n,e){if(null==n)return Za;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const en=si;function hr(n){return n[Cd]||null}function _i(n){return n[qp]||null}function ji(n){return n[Zp]||null}const Po=0,Kt=1,Fn=2,oi=3,Zo=4,bc=5,vs=6,_c=7,fi=8,Kh=9,qh=10,Un=11,Jp=12,Md=13,em=14,cu=15,ys=16,Td=17,uu=18,Qo=19,Ol=20,$v=21,qr=22,tm=1,Wv=2,Zh=7,Qh=8,du=9,ks=10;function uo(n){return Array.isArray(n)&&"object"==typeof n[tm]}function No(n){return Array.isArray(n)&&!0===n[tm]}function nm(n){return 0!=(4&n.flags)}function Ad(n){return n.componentOffset>-1}function Jh(n){return 1==(1&n.flags)}function Xs(n){return null!==n.template}function Ox(n){return 0!=(256&n[Fn])}function _a(n,e){return n.hasOwnProperty(Qa)?n[Qa]:null}class br{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Gn(){return nn}function nn(n){return n.type.prototype.ngOnChanges&&(n.setInput=zx),im}function im(){const n=Qv(this),e=n?.current;if(e){const t=n.previous;if(t===Za)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function zx(n,e,t,r){const i=this.declaredInputs[t],s=Qv(n)||function fu(n,e){return n[Zv]=e}(n,{previous:Za,current:null}),a=s.current||(s.current={}),u=s.previous,h=u[i];a[i]=new br(h&&h.currentValue,e,u===Za),n[r]=e}Gn.ngInherit=!0;const Zv="__ngSimpleChanges__";function Qv(n){return n[Zv]||null}const Lo=function(n,e,t){},Jv="svg";function ss(n){for(;Array.isArray(n);)n=n[Po];return n}function kd(n,e){return ss(e[n])}function ho(n,e){return ss(e[n.index])}function ef(n,e){return n.data[e]}function fr(n,e){const t=e[n];return uo(t)?t:t[Po]}function tf(n){return 64==(64&n[Fn])}function Pl(n,e){return null==e?null:n[e]}function Ja(n){n[uu]=0}function wa(n,e){n[bc]+=e;let t=n,r=n[oi];for(;null!==r&&(1===e&&1===t[bc]||-1===e&&0===t[bc]);)r[bc]+=e,t=r,r=r[oi]}const _n={lFrame:cy(null),bindingsEnabled:!0};function ry(){return _n.bindingsEnabled}function It(){return _n.lFrame.lView}function Zn(){return _n.lFrame.tView}function os(n){return _n.lFrame.contextLView=n,n[fi]}function Ii(n){return _n.lFrame.contextLView=null,n}function zr(){let n=am();for(;null!==n&&64===n.type;)n=n.parent;return n}function am(){return _n.lFrame.currentTNode}function Jo(n,e){const t=_n.lFrame;t.currentTNode=n,t.isParent=e}function lm(){return _n.lFrame.isParent}function Nl(){_n.lFrame.isParent=!1}function Fl(){return _n.lFrame.bindingIndex++}function el(n){const e=_n.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function oy(n,e){const t=_n.lFrame;t.bindingIndex=t.bindingRootIndex=n,nf(e)}function nf(n){_n.lFrame.currentDirectiveIndex=n}function ay(){return _n.lFrame.currentQueryIndex}function xc(n){_n.lFrame.currentQueryIndex=n}function Ld(n){const e=n[Kt];return 2===e.type?e.declTNode:1===e.type?n[vs]:null}function um(n,e,t){if(t&xn.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&xn.Host||(i=Ld(s),null===i||(s=s[cu],10&i.type))););if(null===i)return!1;e=i,n=s}const r=_n.lFrame=ly();return r.currentTNode=e,r.lView=n,!0}function dm(n){const e=ly(),t=n[Kt];_n.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ly(){const n=_n.lFrame,e=null===n?null:n.child;return null===e?cy(n):e}function cy(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function uy(){const n=_n.lFrame;return _n.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const dy=uy;function hm(){const n=uy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Os(){return _n.lFrame.selectedIndex}function Bl(n){_n.lFrame.selectedIndex=n}function ai(){const n=_n.lFrame;return ef(n.tView,n.selectedIndex)}function sf(){_n.lFrame.currentNamespace=Jv}function af(){!function Fd(){_n.lFrame.currentNamespace=null}()}function cf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:u,ngAfterViewInit:h,ngAfterViewChecked:g,ngOnDestroy:y}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-t,a),u&&((n.contentHooks||(n.contentHooks=[])).push(t,u),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,u)),h&&(n.viewHooks||(n.viewHooks=[])).push(-t,h),g&&((n.viewHooks||(n.viewHooks=[])).push(t,g),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,g)),null!=y&&(n.destroyHooks||(n.destroyHooks=[])).push(t,y)}}function Bd(n,e,t){Hd(n,e,3,t)}function Vd(n,e,t,r){(3&n[Fn])===t&&Hd(n,e,t,r)}function fm(n,e){let t=n[Fn];(3&t)===e&&(t&=2047,t+=1,n[Fn]=t)}function Hd(n,e,t,r){const s=r??-1,a=e.length-1;let u=0;for(let h=void 0!==r?65535&n[uu]:0;h<a;h++)if("number"==typeof e[h+1]){if(u=e[h],null!=r&&u>=r)break}else e[h]<0&&(n[uu]+=65536),(u<s||-1==s)&&(Vl(n,t,e,h),n[uu]=(4294901760&n[uu])+h+2),h++}function Vl(n,e,t,r){const i=t[r]<0,s=t[r+1],u=n[i?-t[r]:t[r]];if(i){if(n[Fn]>>11<n[uu]>>16&&(3&n[Fn])===e){n[Fn]+=2048,Lo(4,u,s);try{s.call(u)}finally{Lo(5,u,s)}}}else{Lo(4,u,s);try{s.call(u)}finally{Lo(5,u,s)}}}const wc=-1;class gu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function yu(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],a=t[r++],u=t[r++];n.setAttribute(e,a,u,s)}else{const s=i,a=t[++r];my(s)?n.setProperty(e,s,a):n.setAttribute(e,s,a),r++}}return r}function py(n){return 3===n||4===n||6===n}function my(n){return 64===n.charCodeAt(0)}function Hl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||pm(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function pm(n,e,t,r,i){let s=0,a=n.length;if(-1===e)a=-1;else for(;s<n.length;){const u=n[s++];if("number"==typeof u){if(u===e){a=-1;break}if(u>e){a=s-1;break}}}for(;s<n.length;){const u=n[s];if("number"==typeof u)break;if(u===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function zd(n){return n!==wc}function Ec(n){return 32767&n}function bu(n,e){let t=function as(n){return n>>16}(n),r=e;for(;t>0;)r=r[cu],t--;return r}let jd=!0;function tl(n){const e=jd;return jd=n,e}const gy=255,vy=5;let Zx=0;const ls={};function nl(n,e){const t=mm(n,e);if(-1!==t)return t;const r=e[Kt];r.firstCreatePass&&(n.injectorIndex=e.length,Ui(r.data,n),Ui(e,null),Ui(r.blueprint,null));const i=uf(n,e),s=n.injectorIndex;if(zd(i)){const a=Ec(i),u=bu(i,e),h=u[Kt].data;for(let g=0;g<8;g++)e[s+g]=u[a+g]|h[a+g]}return e[s+8]=i,s}function Ui(n,e){n.push(0,0,0,0,0,0,0,0,e)}function mm(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function uf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=bm(i),null===r)return wc;if(t++,i=i[cu],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return wc}function df(n,e,t){!function yy(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Sd)&&(r=t[Sd]),null==r&&(r=t[Sd]=Zx++);const i=r&gy;e.data[n+(i>>vy)]|=1<<i}(n,e,t)}function gm(n,e,t){if(t&xn.Optional||void 0!==n)return n;ir()}function vm(n,e,t,r){if(t&xn.Optional&&void 0===r&&(r=null),!(t&(xn.Self|xn.Host))){const i=n[Kh],s=Vr(void 0);try{return i?i.get(e,r,t&xn.Optional):lo(e,r,t&xn.Optional)}finally{Vr(s)}}return gm(r,0,t)}function Gi(n,e,t,r=xn.Default,i){if(null!==n){if(1024&e[Fn]){const a=function Jx(n,e,t,r,i){let s=n,a=e;for(;null!==s&&null!==a&&1024&a[Fn]&&!(256&a[Fn]);){const u=jr(s,a,t,r|xn.Self,ls);if(u!==ls)return u;let h=s.parent;if(!h){const g=a[$v];if(g){const y=g.get(t,ls,r);if(y!==ls)return y}h=bm(a),a=a[cu]}s=h}return i}(n,e,t,r,ls);if(a!==ls)return a}const s=jr(n,e,t,r,ls);if(s!==ls)return s}return vm(e,t,r,i)}function jr(n,e,t,r,i){const s=function Wr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Sd)?n[Sd]:void 0;return"number"==typeof e?e>=0?e&gy:_u:e}(t);if("function"==typeof s){if(!um(e,n,r))return r&xn.Host?gm(i,0,r):vm(e,t,r,i);try{const a=s(r);if(null!=a||r&xn.Optional)return a;ir()}finally{dy()}}else if("number"==typeof s){let a=null,u=mm(n,e),h=wc,g=r&xn.Host?e[ys][vs]:null;for((-1===u||r&xn.SkipSelf)&&(h=-1===u?uf(n,e):e[u+8],h!==wc&&ym(r,!1)?(a=e[Kt],u=Ec(h),e=bu(h,e)):u=-1);-1!==u;){const y=e[Kt];if(Ud(s,u,y.data)){const O=Qx(u,e,t,a,r,g);if(O!==ls)return O}h=e[u+8],h!==wc&&ym(r,e[Kt].data[u+8]===g)&&Ud(s,u,e)?(a=y,u=Ec(h),e=bu(h,e)):u=-1}}return i}function Qx(n,e,t,r,i,s){const a=e[Kt],u=a.data[n+8],y=hf(u,a,t,null==r?Ad(u)&&jd:r!=a&&0!=(3&u.type),i&xn.Host&&s===u);return null!==y?Cc(e,a,y,u):ls}function hf(n,e,t,r,i){const s=n.providerIndexes,a=e.data,u=1048575&s,h=n.directiveStart,y=s>>20,$=i?u+y:n.directiveEnd;for(let K=r?u:u+y;K<$;K++){const re=a[K];if(K<h&&t===re||K>=h&&re.type===t)return K}if(i){const K=a[h];if(K&&Xs(K)&&K.type===t)return h}return null}function Cc(n,e,t,r){let i=n[t];const s=e.data;if(function Xx(n){return n instanceof gu}(i)){const a=i;a.resolving&&function Gr(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${n}${t}`)}(Xt(s[t]));const u=tl(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?Vr(a.injectImpl):null;um(n,r,xn.Default);try{i=n[t]=a.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function hy(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const a=nn(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==h&&Vr(h),tl(u),a.resolving=!1,dy()}}return i}function Ud(n,e,t){return!!(t[e+(n>>vy)]&1<<n)}function ym(n,e){return!(n&xn.Self||n&xn.Host&&e)}class Sc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Gi(this._tNode,this._lView,e,au(r),t)}}function _u(){return new Sc(zr(),It())}function Dc(n){return rn(n)?()=>{const e=Dc(ht(n));return e&&e()}:_a(n)}function bm(n){const e=n[Kt],t=e.type;return 2===t?e.declTNode:1===t?n[vs]:null}function xu(n){return function by(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(py(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(zr(),n)}const rl="__parameters__";function Cu(n,e,t){return co(()=>{const r=function Eu(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return u.annotation=a,u;function u(h,g,y){const O=h.hasOwnProperty(rl)?h[rl]:Object.defineProperty(h,rl,{value:[]})[rl];for(;O.length<=y;)O.push(null);return(O[y]=O[y]||[]).push(a),h}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Lt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=tn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ta(n,e){n.forEach(t=>Array.isArray(t)?ta(t,e):e(t))}function Su(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ac(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function $d(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Ks(n,e,t){let r=Ic(n,e);return r>=0?n[1|r]=t:(r=~r,function xy(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Em(n,e){const t=Ic(n,e);if(t>=0)return n[1|t]}function Ic(n,e){return function Ey(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),a=n[s<<t];if(e===a)return s<<t;a>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const bf=Ed(Cu("Inject",n=>({token:n})),-1),zl=Ed(Cu("Optional"),8),Wd=Ed(Cu("SkipSelf"),4);var pi=(()=>((pi=pi||{})[pi.Important=1]="Important",pi[pi.DashCase=2]="DashCase",pi))();const Ul=new Map;let Om=0;const Nm="__ngContext__";function xs(n,e){uo(e)?(n[Nm]=e[Ol],function yw(n){Ul.set(n[Ol],n)}(e)):n[Nm]=e}let Lm;function Rc(n,e){return Lm(n,e)}function Qd(n){const e=n[oi];return No(e)?e[oi]:e}function Fm(n){return zy(n[Md])}function Bm(n){return zy(n[Zo])}function zy(n){for(;null!==n&&!No(n);)n=n[Zo];return n}function ku(n,e,t,r,i){if(null!=r){let s,a=!1;No(r)?s=r:uo(r)&&(a=!0,r=r[Po]);const u=ss(r);0===n&&null!==t?null==i?qy(e,t,u):ws(e,t,u,i||null,!0):1===n&&null!==t?ws(e,t,u,i||null,!0):2===n?function Ca(n,e,t){const r=Df(n,e);r&&function Mw(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,u,a):3===n&&e.destroyNode(u),null!=s&&function Jy(n,e,t,r,i){const s=t[Zh];s!==ss(t)&&ku(e,n,r,s,i);for(let u=ks;u<t.length;u++){const h=t[u];Ou(h[Kt],h,n,e,r,s)}}(e,n,s,t,i)}}function Hm(n,e,t){return n.createElement(e,t)}function Wy(n,e){const t=n[du],r=t.indexOf(e),i=e[oi];512&e[Fn]&&(e[Fn]&=-513,wa(i,-1)),t.splice(r,1)}function Sf(n,e){if(n.length<=ks)return;const t=ks+e,r=n[t];if(r){const i=r[Td];null!==i&&i!==n&&Wy(i,r),e>0&&(n[t-1][Zo]=r[Zo]);const s=Ac(n,ks+e);!function Uy(n,e){Ou(n,e,e[Un],2,null,null),e[Po]=null,e[vs]=null}(r[Kt],r);const a=s[Qo];null!==a&&a.detachView(s[Kt]),r[oi]=null,r[Zo]=null,r[Fn]&=-65}return r}function zm(n,e){if(!(128&e[Fn])){const t=e[Un];t.destroyNode&&Ou(n,e,t,3,null,null),function Gy(n){let e=n[Md];if(!e)return jm(n[Kt],n);for(;e;){let t=null;if(uo(e))t=e[Md];else{const r=e[ks];r&&(t=r)}if(!t){for(;e&&!e[Zo]&&e!==n;)uo(e)&&jm(e[Kt],e),e=e[oi];null===e&&(e=n),uo(e)&&jm(e[Kt],e),t=e&&e[Zo]}e=t}}(e)}}function jm(n,e){if(!(128&e[Fn])){e[Fn]&=-65,e[Fn]|=128,function Yy(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof gu)){const s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const u=i[s[a]],h=s[a+1];Lo(4,u,h);try{h.call(u)}finally{Lo(5,u,h)}}else{Lo(4,i,s);try{s.call(i)}finally{Lo(5,i,s)}}}}}(n,e),function Dw(n,e){const t=n.cleanup,r=e[_c];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?r[i=a]():r[i=-a].unsubscribe(),s+=2}else{const a=r[i=t[s+1]];t[s].call(a)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[_c]=null}}(n,e),1===e[Kt].type&&e[Un].destroy();const t=e[Td];if(null!==t&&No(e[oi])){t!==e[oi]&&Wy(t,e);const r=e[Qo];null!==r&&r.detachView(n)}!function wf(n){Ul.delete(n[Ol])}(e)}}function Xy(n,e,t){return function Ky(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Po];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===qo.None||s===qo.Emulated)return null}return ho(r,t)}}(n,e.parent,t)}function ws(n,e,t,r,i){n.insertBefore(e,t,r,i)}function qy(n,e,t){n.appendChild(e,t)}function Zy(n,e,t,r,i){null!==r?ws(n,e,t,r,i):qy(n,e,t)}function Df(n,e){return n.parentNode(e)}function Ea(n,e,t){return Mf(n,e,t)}let sl,nh,Xm,Mf=function Gm(n,e,t){return 40&n.type?ho(n,t):null};function ol(n,e,t,r){const i=Xy(n,r,e),s=e[Un],u=Ea(r.parent||e[vs],r,e);if(null!=i)if(Array.isArray(t))for(let h=0;h<t.length;h++)Zy(s,i,t[h],u,!1);else Zy(s,i,t,u,!1);void 0!==sl&&sl(s,r,e,t,i)}function eh(n,e){if(null!==e){const t=e.type;if(3&t)return ho(e,n);if(4&t)return $m(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return eh(n,r);{const i=n[e.index];return No(i)?$m(-1,i):ss(i)}}if(32&t)return Rc(e,n)()||ss(n[e.index]);{const r=qs(n,e);return null!==r?Array.isArray(r)?r[0]:eh(Qd(n[ys]),r):eh(n,e.next)}}return null}function qs(n,e){return null!==e?n[ys][vs].projection[e.projection]:null}function $m(n,e){const t=ks+n+1;if(t<e.length){const r=e[t],i=r[Kt].firstChild;if(null!==i)return eh(r,i)}return e[Zh]}function Tf(n,e,t,r,i,s,a){for(;null!=t;){const u=r[t.index],h=t.type;if(a&&0===e&&(u&&xs(ss(u),r),t.flags|=2),32!=(32&t.flags))if(8&h)Tf(n,e,t.child,r,i,s,!1),ku(e,n,i,u,s);else if(32&h){const g=Rc(t,r);let y;for(;y=g();)ku(e,n,i,y,s);ku(e,n,i,u,s)}else 16&h?Af(n,e,r,t,i,s):ku(e,n,i,u,s);t=a?t.projectionNext:t.next}}function Ou(n,e,t,r,i,s){Tf(t,r,n.firstChild,e,i,s,!1)}function Af(n,e,t,r,i,s){const a=t[ys],h=a[vs].projection[r.projection];if(Array.isArray(h))for(let g=0;g<h.length;g++)ku(e,n,i,h[g],s);else Tf(n,e,h,a[oi],i,s,!0)}function eb(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ym(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&yu(n,e,r),null!==i&&eb(n,e,i),null!==s&&function th(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Pc(n){return function If(){if(void 0===nh&&(nh=null,Nr.trustedTypes))try{nh=Nr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return nh}()?.createHTML(n)||n}class Gl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vn})`}}class Nc extends Gl{getTypeName(){return"HTML"}}class Aw extends Gl{getTypeName(){return"Style"}}class Lc extends Gl{getTypeName(){return"Script"}}class c extends Gl{getTypeName(){return"URL"}}class o extends Gl{getTypeName(){return"ResourceURL"}}function l(n){return n instanceof Gl?n.changingThisBreaksApplicationSecurity:n}function d(n,e){const t=function f(n){return n instanceof Gl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${vn})`)}return t===e}class F{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Pc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class H{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Pc(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Pc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const a=t.item(i).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&e.removeAttribute(a)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Y=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Q(n){return(n=String(n)).match(Y)?n:"unsafe:"+n}function ne(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function se(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const le=ne("area,br,col,hr,img,wbr"),ce=ne("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pe=ne("rp,rt"),De=se(le,se(ce,ne("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),se(pe,ne("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),se(pe,ce)),ve=ne("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ee=se(ve,ne("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ne("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),He=ne("script,style,template");class Ie{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!De.hasOwnProperty(t))return this.sanitizedSomething=!0,!He.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),a=s.name,u=a.toLowerCase();if(!Ee.hasOwnProperty(u)){this.sanitizedSomething=!0;continue}let h=s.value;ve[u]&&(h=Q(h)),this.buf.push(" ",a,'="',We(h),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();De.hasOwnProperty(t)&&!le.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(We(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Qe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ge=/([^\#-~ |!])/g;function We(n){return n.replace(/&/g,"&amp;").replace(Qe,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Ge,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nt;function ot(n,e){let t=null;try{nt=nt||function k(n){const e=new H(n);return function W(){try{return!!(new window.DOMParser).parseFromString(Pc(""),"text/html")}catch{return!1}}()?new F(e):e}(n);let r=e?String(e):"";t=nt.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=nt.getInertBodyElement(r)}while(r!==s);return Pc((new Ie).sanitizeChildren(dt(t)||t))}finally{if(t){const r=dt(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function dt(n){return"content"in n&&function it(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var rt=(()=>((rt=rt||{})[rt.NONE=0]="NONE",rt[rt.HTML=1]="HTML",rt[rt.STYLE=2]="STYLE",rt[rt.SCRIPT=3]="SCRIPT",rt[rt.URL=4]="URL",rt[rt.RESOURCE_URL=5]="RESOURCE_URL",rt))();const Ft=new Lt("ENVIRONMENT_INITIALIZER"),gn=new Lt("INJECTOR",-1),sn=new Lt("INJECTOR_DEF_TYPES");class Ut{get(e,t=Ro){if(t===Ro){const r=new Error(`NullInjectorError: No provider for ${Se(e)}!`);throw r.name="NullInjectorError",r}return t}}function Kn(...n){return{\u0275providers:On(0,n),\u0275fromNgModule:!0}}function On(n,...e){const t=[],r=new Set;let i;return ta(e,s=>{const a=s;Rt(a,t,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&yn(i,t),t}function yn(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];lt(i,s=>{e.push(s)})}}function Rt(n,e,t,r){if(!(n=ht(n)))return!1;let i=null,s=Yo(n);const a=!s&&hr(n);if(s||a){if(a&&!a.standalone)return!1;i=n}else{const h=n.ngModule;if(s=Yo(h),!s)return!1;i=h}const u=r.has(i);if(a){if(u)return!1;if(r.add(i),a.dependencies){const h="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const g of h)Rt(g,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!u){let g;r.add(i);try{ta(s.imports,y=>{Rt(y,e,t,r)&&(g||(g=[]),g.push(y))})}finally{}void 0!==g&&yn(g,e)}if(!u){const g=_a(i)||(()=>new i);e.push({provide:i,useFactory:g,deps:Mr},{provide:sn,useValue:i,multi:!0},{provide:Ft,useValue:()=>xt(i),multi:!0})}const h=s.providers;null==h||u||lt(h,y=>{e.push(y)})}}return i!==n&&void 0!==n.providers}function lt(n,e){for(let t of n)Bt(t)&&(t=t.\u0275providers),Array.isArray(t)?lt(t,e):e(t)}const Ot=Ir({provide:String,useValue:Ir});function mt(n){return null!==n&&"object"==typeof n&&Ot in n}function kt(n){return"function"==typeof n}const Qn=new Lt("Set Injector scope."),Sr={},$n={};let _r;function Dn(){return void 0===_r&&(_r=new Ut),_r}class Tn{}class li extends Tn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wl(e,a=>this.processProvider(a)),this.records.set(gn,us(void 0,this)),i.has("environment")&&this.records.set(Tn,us(void 0,this));const s=this.records.get(Qn);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(sn.multi,Mr,xn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=kl(this),r=Vr(void 0);try{return e()}finally{kl(t),Vr(r)}}get(e,t=Ro,r=xn.Default){this.assertNotDestroyed(),r=au(r);const i=kl(this),s=Vr(void 0);try{if(!(r&xn.SkipSelf)){let u=this.records.get(e);if(void 0===u){const h=function $l(n){return"function"==typeof n||"object"==typeof n&&n instanceof Lt}(e)&&Wo(e);u=h&&this.injectableDefInScope(h)?us(Fi(e),Sr):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&xn.Self?Dn():this.parent).get(e,t=r&xn.Optional&&t===Ro?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ws]=a[Ws]||[]).unshift(Se(e)),i)throw a;return function lu(n,e,t,r){const i=n[Ws];throw e[gs]&&i.unshift(e[gs]),n.message=function Bv(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==yc?n.slice(2):n;let i=Se(e);if(Array.isArray(e))i=e.map(Se).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let u=e[a];s.push(a+":"+("string"==typeof u?JSON.stringify(u):Se(u)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Xh,"\n  ")}`}("\n"+n.message,i,t,r),n[Il]=i,n[Ws]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Vr(s),kl(i)}}resolveInjectorInitializers(){const e=kl(this),t=Vr(void 0);try{const r=this.get(Ft.multi,Mr,xn.Self);for(const i of r)i()}finally{kl(e),Vr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Se(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(e){let t=kt(e=ht(e))?e:ht(e&&e.provide);const r=function ra(n){return mt(n)?us(void 0,n.useValue):us(Xi(n),Sr)}(e);if(kt(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=us(void 0,Sr,!0),i.factory=()=>Kp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Sr&&(t.value=$n,t.value=t.factory()),"object"==typeof t.value&&t.value&&function al(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ht(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Fi(n){const e=Wo(n),t=null!==e?e.factory:_a(n);if(null!==t)return t;if(n instanceof Lt)throw new Ze(204,!1);if(n instanceof Function)return function na(n){const e=n.length;if(e>0)throw $d(e,"?"),new Ze(204,!1);const t=function Oo(n){const e=n&&(n[Ya]||n[su]);if(e){const t=function iu(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ze(204,!1)}function Xi(n,e,t){let r;if(kt(n)){const i=ht(n);return _a(i)||Fi(i)}if(mt(n))r=()=>ht(n.useValue);else if(function Rn(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Kp(n.deps||[]));else if(function vt(n){return!(!n||!n.useExisting)}(n))r=()=>xt(ht(n.useExisting));else{const i=ht(n&&(n.useClass||n.provide));if(!function Ns(n){return!!n.deps}(n))return _a(i)||Fi(i);r=()=>new i(...Kp(n.deps))}return r}function us(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Wl(n,e){for(const t of n)Array.isArray(t)?Wl(t,e):t&&Bt(t)?Wl(t.\u0275providers,e):e(t)}class Fc{}class Bc{}class Es{resolveComponentFactory(e){throw function Rf(n){const e=Error(`No component factory found for ${Se(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ki=(()=>{class n{}return n.NULL=new Es,n})();function Pf(){return Ls(zr(),It())}function Ls(n,e){return new Bn(ho(n,e))}let Bn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Pf,n})();function Iw(n){return n instanceof Bn?n.nativeElement:n}class ih{}let ll=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function kw(){const n=It(),t=fr(zr().index,n);return(uo(t)?t:n)[Un]}(),n})(),Ow=(()=>{class n{}return n.\u0275prov=tn({token:n,providedIn:"root",factory:()=>null}),n})();class Pu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Rw=new Pu("15.1.5"),Vc={},sh="ngOriginalError";function Lf(n){return n[sh]}class Sa{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Lf(e);for(;t&&Lf(t);)t=Lf(t);return t||null}}function Nu(n){return n.ownerDocument.defaultView}function go(n){return n.ownerDocument}function vM(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const yM="ng-template";function f5(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==vM(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function bM(n){return 4===n.type&&n.value!==yM}function p5(n,e,t){return e===(4!==n.type||t?n.value:yM)}function m5(n,e,t){let r=4;const i=n.attrs||[],s=function y5(n){for(let e=0;e<n.length;e++)if(py(n[e]))return e;return n.length}(i);let a=!1;for(let u=0;u<e.length;u++){const h=e[u];if("number"!=typeof h){if(!a)if(4&r){if(r=2|1&r,""!==h&&!p5(n,h,t)||""===h&&1===e.length){if(cl(r))return!1;a=!0}}else{const g=8&r?h:e[++u];if(8&r&&null!==n.attrs){if(!f5(n.attrs,g,t)){if(cl(r))return!1;a=!0}continue}const O=g5(8&r?"class":h,i,bM(n),t);if(-1===O){if(cl(r))return!1;a=!0;continue}if(""!==g){let $;$=O>s?"":i[O+1].toLowerCase();const K=8&r?$:null;if(K&&-1!==vM(K,g,0)||2&r&&g!==$){if(cl(r))return!1;a=!0}}}}else{if(!a&&!cl(r)&&!cl(h))return!1;if(a&&cl(h))continue;a=!1,r=h|1&r}}return cl(r)||a}function cl(n){return 0==(1&n)}function g5(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const a=e[i];if(a===n)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let u=e[++i];for(;"string"==typeof u;)u=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function b5(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function _M(n,e,t=!1){for(let r=0;r<e.length;r++)if(m5(n,e[r],t))return!0;return!1}function _5(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function xM(n,e){return n?":not("+e.trim()+")":e}function x5(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&r){const u=n[++t];i+="["+a+(u.length>0?'="'+u+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!cl(a)&&(e+=xM(s,i),i=""),r=a,s=s||!cl(r);t++}return""!==i&&(e+=xM(s,i)),e}const Vn={};function un(n){wM(Zn(),It(),Os()+n,!1)}function wM(n,e,t,r){if(!r)if(3==(3&e[Fn])){const s=n.preOrderCheckHooks;null!==s&&Bd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Vd(e,s,0,t)}Bl(t)}function DM(n,e=null,t=null,r){const i=function MM(n,e=null,t=null,r,i=new Set){const s=[t||Mr,Kn(n)];return r=r||("object"==typeof n?void 0:Se(n)),new li(s,e||Dn(),r||null,i)}(n,e,t,r);return i.resolveInjectorInitializers(),i}let ul=(()=>{class n{static create(t,r){if(Array.isArray(t))return DM({name:""},r,t,"");{const i=t.name??"";return DM({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ro,n.NULL=new Ut,n.\u0275prov=tn({token:n,providedIn:"any",factory:()=>xt(gn)}),n.__NG_ELEMENT_ID__=-1,n})();function ze(n,e=xn.Default){const t=It();return null===t?xt(n,e):Gi(zr(),t,ht(n),e)}function Zm(){throw new Error("invalid")}function PM(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];xc(t[r]),a.contentQueries(2,e[s],s)}}}function ab(n,e,t,r,i,s,a,u,h,g,y){const O=e.blueprint.slice();return O[Po]=i,O[Fn]=76|r,(null!==y||n&&1024&n[Fn])&&(O[Fn]|=1024),Ja(O),O[oi]=O[cu]=n,O[fi]=t,O[qh]=a||n&&n[qh],O[Un]=u||n&&n[Un],O[Jp]=h||n&&n[Jp]||null,O[Kh]=g||n&&n[Kh]||null,O[vs]=s,O[Ol]=function Py(){return Om++}(),O[$v]=y,O[ys]=2==e.type?n[ys]:O,O}function Vf(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Hw(n,e,t,r,i){const s=am(),a=lm(),h=n.data[e]=function Y5(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=h),null!==s&&(a?null==s.child&&null!==h.parent&&(s.child=h):null===s.next&&(s.next=h)),h}(n,e,t,r,i),function sy(){return _n.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const a=function mu(){const n=_n.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Jo(s,!0),s}function Qm(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function zw(n,e,t){dm(e);try{const r=n.viewQuery;null!==r&&Zw(1,r,t);const i=n.template;null!==i&&NM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&PM(n,e),n.staticViewQueries&&Zw(2,n.viewQuery,t);const s=n.components;null!==s&&function G5(n,e){for(let t=0;t<e.length;t++)f3(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Fn]&=-5,hm()}}function lb(n,e,t,r){const i=e[Fn];if(128!=(128&i)){dm(e);try{Ja(e),function Pd(n){return _n.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&NM(n,e,t,2,r);const a=3==(3&i);if(a){const g=n.preOrderCheckHooks;null!==g&&Bd(e,g,null)}else{const g=n.preOrderHooks;null!==g&&Vd(e,g,0,null),fm(e,0)}if(function d3(n){for(let e=Fm(n);null!==e;e=Bm(e)){if(!e[Wv])continue;const t=e[du];for(let r=0;r<t.length;r++){const i=t[r];512&i[Fn]||wa(i[oi],1),i[Fn]|=512}}}(e),function u3(n){for(let e=Fm(n);null!==e;e=Bm(e))for(let t=ks;t<e.length;t++){const r=e[t],i=r[Kt];tf(r)&&lb(i,r,i.template,r[fi])}}(e),null!==n.contentQueries&&PM(n,e),a){const g=n.contentCheckHooks;null!==g&&Bd(e,g)}else{const g=n.contentHooks;null!==g&&Vd(e,g,1),fm(e,1)}!function j5(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Bl(~i);else{const s=i,a=t[++r],u=t[++r];oy(a,s),u(2,e[s])}}}finally{Bl(-1)}}(n,e);const u=n.components;null!==u&&function U5(n,e){for(let t=0;t<e.length;t++)h3(n,e[t])}(e,u);const h=n.viewQuery;if(null!==h&&Zw(2,h,r),a){const g=n.viewCheckHooks;null!==g&&Bd(e,g)}else{const g=n.viewHooks;null!==g&&Vd(e,g,2),fm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Fn]&=-41,512&e[Fn]&&(e[Fn]&=-513,wa(e[oi],-1))}finally{hm()}}}function NM(n,e,t,r,i){const s=Os(),a=2&r;try{Bl(-1),a&&e.length>qr&&wM(n,e,qr,!1),Lo(a?2:0,i),t(r,i)}finally{Bl(s),Lo(a?3:1,i)}}function jw(n,e,t){if(nm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}}function Uw(n,e,t){ry()&&(function J5(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Ad(t)&&function a3(n,e,t){const r=ho(e,n),i=LM(t),s=n[qh],a=cb(n,ab(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||nl(t,e),xs(r,e);const a=t.initialInputs;for(let u=i;u<s;u++){const h=n.data[u],g=Cc(e,n,u,t);xs(g,e),null!==a&&l3(0,u-i,g,h,0,a),Xs(h)&&(fr(t.index,e)[fi]=Cc(e,n,u,t))}}(n,e,t,ho(t,e)),64==(64&t.flags)&&jM(n,e,t))}function Gw(n,e,t=ho){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],u=-1===a?t(e,n):n[a];n[i++]=u}}}function LM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=$w(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function $w(n,e,t,r,i,s,a,u,h,g){const y=qr+r,O=y+i,$=function $5(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Vn);return t}(y,O),K="function"==typeof g?g():g;return $[Kt]={type:n,blueprint:$,template:t,queries:null,viewQuery:u,declTNode:e,data:$.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:h,consts:K,incompleteFirstPass:!1}}function FM(n,e,t,r){const i=GM(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&$M(n).push(r,i.length-1))}function BM(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?VM(t,e,i,s):r.hasOwnProperty(i)&&VM(t,e,r[i],s)}return t}function VM(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function sa(n,e,t,r,i,s,a,u){const h=ho(e,t);let y,g=e.inputs;!u&&null!=g&&(y=g[r])?(Qw(n,t,y,r,i),Ad(e)&&HM(t,e.index)):3&e.type&&(r=function K5(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=a?a(i,e.value||"",r):i,s.setProperty(h,r,i))}function HM(n,e){const t=fr(e,n);16&t[Fn]||(t[Fn]|=32)}function Ww(n,e,t,r){let i=!1;if(ry()){const s=null===r?null:{"":-1},a=function t3(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const a=t[s];if(_M(e,a.selectors,!1))if(r||(r=[]),Xs(a))if(null!==a.findHostDirectiveDefs){const u=[];i=i||new Map,a.findHostDirectiveDefs(a,u,i),r.unshift(...u,a),Yw(n,e,u.length)}else r.unshift(a),Yw(n,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(n,t);let u,h;null===a?u=h=null:[u,h]=a,null!==u&&(i=!0,zM(n,e,t,u,s,h)),s&&function n3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Ze(-301,!1);r.push(e[i],s)}}}(t,r,s)}return t.mergedAttrs=Hl(t.mergedAttrs,t.attrs),i}function zM(n,e,t,r,i,s){for(let g=0;g<r.length;g++)df(nl(t,e),n,r[g].type);!function s3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let g=0;g<r.length;g++){const y=r[g];y.providersResolver&&y.providersResolver(y)}let a=!1,u=!1,h=Qm(n,e,r.length,null);for(let g=0;g<r.length;g++){const y=r[g];t.mergedAttrs=Hl(t.mergedAttrs,y.hostAttrs),o3(n,t,e,h,y),r3(h,y,i),null!==y.contentQueries&&(t.flags|=4),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(t.flags|=64);const O=y.type.prototype;!a&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(O.ngOnChanges||O.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),h++}!function X5(n,e,t){const i=e.directiveEnd,s=n.data,a=e.attrs,u=[];let h=null,g=null;for(let y=e.directiveStart;y<i;y++){const O=s[y],$=t?t.get(O):null,re=$?$.outputs:null;h=BM(O.inputs,y,h,$?$.inputs:null),g=BM(O.outputs,y,g,re);const he=null===h||null===a||bM(e)?null:c3(h,y,a);u.push(he)}null!==h&&(h.hasOwnProperty("class")&&(e.flags|=8),h.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=u,e.inputs=h,e.outputs=g}(n,t,s)}function jM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,a=function Nd(){return _n.lFrame.currentDirectiveIndex}();try{Bl(s);for(let u=r;u<i;u++){const h=n.data[u],g=e[u];nf(u),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&e3(h,g)}}finally{Bl(-1),nf(a)}}function e3(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Yw(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function r3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Xs(e)&&(t[""]=n)}}function o3(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=_a(i.type)),a=new gu(s,Xs(i),ze);n.blueprint[r]=a,t[r]=a,function Z5(n,e,t,r,i){const s=i.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function Q5(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(t,r,s)}}(n,e,r,Qm(n,t,i.hostVars,Vn),i)}function Xl(n,e,t,r,i,s){const a=ho(n,e);!function Xw(n,e,t,r,i,s,a){if(null==s)n.removeAttribute(e,i,t);else{const u=null==a?Wt(s):a(s,r||"",i);n.setAttribute(e,i,u,t)}}(e[Un],a,s,n.value,t,r,i)}function l3(n,e,t,r,i,s){const a=s[e];if(null!==a){const u=r.setInput;for(let h=0;h<a.length;){const g=a[h++],y=a[h++],O=a[h++];null!==u?r.setInput(t,O,g,y):t[y]=O}}}function c3(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const a=n[s];for(let u=0;u<a.length;u+=2)if(a[u]===e){r.push(s,a[u+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function UM(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function h3(n,e){const t=fr(e,n);if(tf(t)){const r=t[Kt];48&t[Fn]?lb(r,t,r.template,t[fi]):t[bc]>0&&Kw(t)}}function Kw(n){for(let r=Fm(n);null!==r;r=Bm(r))for(let i=ks;i<r.length;i++){const s=r[i];if(tf(s))if(512&s[Fn]){const a=s[Kt];lb(a,s,a.template,s[fi])}else s[bc]>0&&Kw(s)}const t=n[Kt].components;if(null!==t)for(let r=0;r<t.length;r++){const i=fr(t[r],n);tf(i)&&i[bc]>0&&Kw(i)}}function f3(n,e){const t=fr(e,n),r=t[Kt];(function p3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),zw(r,t,t[fi])}function cb(n,e){return n[Md]?n[em][Zo]=e:n[Md]=e,n[em]=e,e}function qw(n){for(;n;){n[Fn]|=32;const e=Qd(n);if(Ox(n)&&!e)return n;n=e}return null}function ub(n,e,t,r=!0){const i=e[qh];i.begin&&i.begin();try{lb(n,e,n.template,t)}catch(a){throw r&&YM(e,a),a}finally{i.end&&i.end()}}function Zw(n,e,t){xc(0),e(n,t)}function GM(n){return n[_c]||(n[_c]=[])}function $M(n){return n.cleanup||(n.cleanup=[])}function YM(n,e){const t=n[Kh],r=t?t.get(Sa,null):null;r&&r.handleError(e)}function Qw(n,e,t,r,i){for(let s=0;s<t.length;){const a=t[s++],u=t[s++],h=e[a],g=n.data[a];null!==g.setInput?g.setInput(h,i,r,u):h[u]=i}}function db(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const u=e[a];"number"==typeof u?s=u:1==s?i=Ye(i,u):2==s&&(r=Ye(r,u+": "+e[++a]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function hb(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(ss(s)),No(s))for(let u=ks;u<s.length;u++){const h=s[u],g=h[Kt].firstChild;null!==g&&hb(h[Kt],h,g,r)}const a=t.type;if(8&a)hb(n,e,t.child,r);else if(32&a){const u=Rc(t,e);let h;for(;h=u();)r.push(h)}else if(16&a){const u=qs(e,t);if(Array.isArray(u))r.push(...u);else{const h=Qd(e[ys]);hb(h[Kt],h,u,r,!0)}}t=i?t.projectionNext:t.next}return r}class Jm{get rootNodes(){const e=this._lView,t=e[Kt];return hb(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fi]}set context(e){this._lView[fi]=e}get destroyed(){return 128==(128&this._lView[Fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[oi];if(No(e)){const t=e[Qh],r=t?t.indexOf(this):-1;r>-1&&(Sf(e,r),Ac(t,r))}this._attachedToViewContainer=!1}zm(this._lView[Kt],this._lView)}onDestroy(e){FM(this._lView[Kt],this._lView,null,e)}markForCheck(){qw(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fn]&=-65}reattach(){this._lView[Fn]|=64}detectChanges(){ub(this._lView[Kt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sw(n,e){Ou(n,e,e[Un],2,null,null)}(this._lView[Kt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=e}}class m3 extends Jm{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ub(e[Kt],e,e[fi],!1)}checkNoChanges(){}get context(){return null}}class XM extends Ki{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=hr(e);return new eg(t,this.ngModule)}}function KM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class v3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=au(r);const i=this.injector.get(e,Vc,r);return i!==Vc||t===Vc?i:this.parentInjector.get(e,t,r)}}class eg extends Bc{get inputs(){return KM(this.componentDef.inputs)}get outputs(){return KM(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function w5(n){return n.map(x5).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Tn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new v3(e,s):e,u=a.get(ih,null);if(null===u)throw new Ze(407,!1);const h=a.get(Ow,null),g=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",O=r?function W5(n,e,t){return n.selectRootElement(e,t===qo.ShadowDom)}(g,r,this.componentDef.encapsulation):Hm(g,y,function g3(n){const e=n.toLowerCase();return"svg"===e?Jv:"math"===e?"math":null}(y)),$=this.componentDef.onPush?288:272,K=$w(0,null,null,1,0,null,null,null,null,null),re=ab(null,K,null,$,null,null,u,g,h,a,null);let he,xe;dm(re);try{const Pe=this.componentDef;let Je,Ke=null;Pe.findHostDirectiveDefs?(Je=[],Ke=new Map,Pe.findHostDirectiveDefs(Pe,Je,Ke),Je.push(Pe)):Je=[Pe];const at=function b3(n,e){const t=n[Kt],r=qr;return n[r]=e,Vf(t,r,2,"#host",null)}(re,O),wt=function _3(n,e,t,r,i,s,a,u){const h=i[Kt];!function x3(n,e,t,r){for(const i of n)e.mergedAttrs=Hl(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(db(e,e.mergedAttrs,!0),null!==t&&Ym(r,t,e))}(r,n,e,a);const g=s.createRenderer(e,t),y=ab(i,LM(t),null,t.onPush?32:16,i[n.index],n,s,g,u||null,null,null);return h.firstCreatePass&&Yw(h,n,r.length-1),cb(i,y),i[n.index]=y}(at,O,Pe,Je,re,u,g);xe=ef(K,qr),O&&function E3(n,e,t,r){if(r)yu(n,t,["ng-version",Rw.full]);else{const{attrs:i,classes:s}=function E5(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!cl(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&yu(n,t,i),s&&s.length>0&&eb(n,t,s.join(" "))}}(g,Pe,O,r),void 0!==t&&function C3(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(xe,this.ngContentSelectors,t),he=function w3(n,e,t,r,i,s){const a=zr(),u=i[Kt],h=ho(a,i);zM(u,i,a,t,null,r);for(let y=0;y<t.length;y++)xs(Cc(i,u,a.directiveStart+y,a),i);jM(u,i,a),h&&xs(h,i);const g=Cc(i,u,a.directiveStart+a.componentOffset,a);if(n[fi]=i[fi]=g,null!==s)for(const y of s)y(g,e);return jw(u,a,n),g}(wt,Pe,Je,Ke,re,[S3]),zw(K,re,null)}finally{hm()}return new y3(this.componentType,he,Ls(xe,re),re,xe)}}class y3 extends Fc{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new m3(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Qw(s[Kt],s,i,e,t),HM(s,this._tNode.index)}}get injector(){return new Sc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function S3(){const n=zr();cf(It()[Kt],n)}function Pn(n){let e=function qM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Xs(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ze(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const a=n;a.inputs=Jw(n.inputs),a.declaredInputs=Jw(n.declaredInputs),a.outputs=Jw(n.outputs);const u=i.hostBindings;u&&A3(n,u);const h=i.viewQuery,g=i.contentQueries;if(h&&M3(n,h),g&&T3(n,g),ke(n.inputs,i.inputs),ke(n.declaredInputs,i.declaredInputs),ke(n.outputs,i.outputs),Xs(i)&&i.data.animation){const y=n.data;y.animation=(y.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let a=0;a<s.length;a++){const u=s[a];u&&u.ngInherit&&u(n),u===Pn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function D3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hl(i.hostAttrs,t=Hl(t,i.hostAttrs))}}(r)}function Jw(n){return n===Za?{}:n===Mr?[]:n}function M3(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function T3(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function A3(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let fb=null;function oh(){if(!fb){const n=Nr.Symbol;if(n&&n.iterator)fb=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(fb=r)}}}return fb}function pb(n){return!!eE(n)&&(Array.isArray(n)||!(n instanceof Map)&&oh()in n)}function eE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Zs(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function mi(n,e,t,r){const i=It();return Zs(i,Fl(),e)&&(Zn(),Xl(ai(),i,n,e,t,r)),mi}function zf(n,e,t,r){return Zs(n,Fl(),t)?e+Wt(t)+r:Vn}function er(n,e,t,r,i,s,a,u){const h=It(),g=Zn(),y=n+qr,O=g.firstCreatePass?function V3(n,e,t,r,i,s,a,u,h){const g=e.consts,y=Vf(e,n,4,a||null,Pl(g,u));Ww(e,t,y,Pl(g,h)),cf(e,y);const O=y.tViews=$w(2,y,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,g);return null!==e.queries&&(e.queries.template(e,y),O.queries=e.queries.embeddedTView(y)),y}(y,g,h,e,t,r,i,s,a):g.data[y];Jo(O,!1);const $=h[Un].createComment("");ol(g,h,$,O),xs($,h),cb(h,h[y]=UM($,h,$,O)),Jh(O)&&Uw(g,h,O),null!=a&&Gw(h,O,u)}function ng(n){return function pu(n,e){return n[e]}(function Ll(){return _n.lFrame.contextLView}(),qr+n)}function Qt(n,e,t){const r=It();return Zs(r,Fl(),e)&&sa(Zn(),ai(),r,n,e,r[Un],t,!1),Qt}function tE(n,e,t,r,i){const a=i?"class":"style";Qw(n,t,e.inputs[a],a,r)}function on(n,e,t,r){const i=It(),s=Zn(),a=qr+n,u=i[Un],h=i[a]=Hm(u,e,function lf(){return _n.lFrame.currentNamespace}()),g=s.firstCreatePass?function z3(n,e,t,r,i,s,a){const u=e.consts,g=Vf(e,n,2,i,Pl(u,s));return Ww(e,t,g,Pl(u,a)),null!==g.attrs&&db(g,g.attrs,!1),null!==g.mergedAttrs&&db(g,g.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,g),g}(a,s,i,0,e,t,r):s.data[a];return Jo(g,!0),Ym(u,h,g),32!=(32&g.flags)&&ol(s,i,h,g),0===function om(){return _n.lFrame.elementDepthCount}()&&xs(h,i),function ty(){_n.lFrame.elementDepthCount++}(),Jh(g)&&(Uw(s,i,g),jw(s,g,i)),null!==r&&Gw(i,g),on}function pn(){let n=zr();lm()?Nl():(n=n.parent,Jo(n,!1));const e=n;!function ny(){_n.lFrame.elementDepthCount--}();const t=Zn();return t.firstCreatePass&&(cf(t,n),nm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function fy(n){return 0!=(8&n.flags)}(e)&&tE(t,e,It(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Er(n){return 0!=(16&n.flags)}(e)&&tE(t,e,It(),e.stylesWithoutHost,!1),pn}function kr(n,e,t,r){return on(n,e,t,r),pn(),kr}function gb(n,e,t){const r=It(),i=Zn(),s=n+qr,a=i.firstCreatePass?function j3(n,e,t,r,i){const s=e.consts,a=Pl(s,r),u=Vf(e,n,8,"ng-container",a);return null!==a&&db(u,a,!0),Ww(e,t,u,Pl(s,i)),null!==e.queries&&e.queries.elementStart(e,u),u}(s,i,r,e,t):i.data[s];Jo(a,!0);const u=r[s]=r[Un].createComment("");return ol(i,r,u,a),xs(u,r),Jh(a)&&(Uw(i,r,a),jw(i,a,r)),null!=t&&Gw(r,a),gb}function vb(){let n=zr();const e=Zn();return lm()?Nl():(n=n.parent,Jo(n,!1)),e.firstCreatePass&&(cf(e,n),nm(n)&&e.queries.elementEnd(n)),vb}function Lu(){return It()}function yb(n){return!!n&&"function"==typeof n.then}const dT=function uT(n){return!!n&&"function"==typeof n.subscribe};function or(n,e,t,r){const i=It(),s=Zn(),a=zr();return function fT(n,e,t,r,i,s,a){const u=Jh(r),g=n.firstCreatePass&&$M(n),y=e[fi],O=GM(e);let $=!0;if(3&r.type||a){const he=ho(r,e),xe=a?a(he):he,Pe=O.length,Je=a?at=>a(ss(at[r.index])):r.index;let Ke=null;if(!a&&u&&(Ke=function U3(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===t&&i[s+1]===r){const u=e[_c],h=i[s+2];return u.length>h?u[h]:null}"string"==typeof a&&(s+=2)}return null}(n,e,i,r.index)),null!==Ke)(Ke.__ngLastListenerFn__||Ke).__ngNextListenerFn__=s,Ke.__ngLastListenerFn__=s,$=!1;else{s=mT(r,e,y,s,!1);const at=t.listen(xe,i,s);O.push(s,at),g&&g.push(i,Je,Pe,Pe+1)}}else s=mT(r,e,y,s,!1);const K=r.outputs;let re;if($&&null!==K&&(re=K[i])){const he=re.length;if(he)for(let xe=0;xe<he;xe+=2){const wt=e[re[xe]][re[xe+1]].subscribe(s),St=O.length;O.push(s,wt),g&&g.push(i,r.index,St,-(St+1))}}}(s,i,i[Un],a,n,e,r),or}function pT(n,e,t,r){try{return Lo(6,e,t),!1!==t(r)}catch(i){return YM(n,i),!1}finally{Lo(7,e,t)}}function mT(n,e,t,r,i){return function s(a){if(a===Function)return r;qw(n.componentOffset>-1?fr(n.index,e):e);let h=pT(e,t,r,a),g=s.__ngNextListenerFn__;for(;g;)h=pT(e,t,g,a)&&h,g=g.__ngNextListenerFn__;return i&&!1===h&&(a.preventDefault(),a.returnValue=!1),h}}function Hn(n=1){return function $x(n){return(_n.lFrame.contextLView=function Wx(n,e){for(;n>0;)e=e[cu],n--;return e}(n,_n.lFrame.contextLView))[fi]}(n)}function G3(n,e){let t=null;const r=function v5(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?_M(n,s,!0):_5(r,s))return i}else t=i}return t}function oa(n){const e=It()[ys][vs];if(!e.projection){const r=e.projection=$d(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const a=n?G3(s,n):0;null!==a&&(i[a]?i[a].projectionNext=s:r[a]=s,i[a]=s),s=s.next}}}function Yr(n,e=0,t){const r=It(),i=Zn(),s=Vf(i,qr+n,16,null,t||null);null===s.projection&&(s.projection=e),Nl(),32!=(32&s.flags)&&function Wm(n,e,t){Af(e[Un],0,e,t,Xy(n,t,e),Ea(t.parent||e[vs],t,e))}(i,r,s)}function bb(n,e){return n<<17|e<<2}function Fu(n){return n>>17&32767}function rE(n){return 2|n}function lh(n){return(131068&n)>>2}function iE(n,e){return-131069&n|e<<2}function sE(n){return 1|n}function ST(n,e,t,r,i){const s=n[t+1],a=null===e;let u=r?Fu(s):lh(s),h=!1;for(;0!==u&&(!1===h||a);){const y=n[u+1];q3(n[u],e)&&(h=!0,n[u+1]=r?sE(y):rE(y)),u=r?Fu(y):lh(y)}h&&(n[t+1]=r?rE(s):sE(s))}function q3(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ic(n,e)>=0}const ds={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DT(n){return n.substring(ds.key,ds.keyEnd)}function MT(n,e){const t=ds.textEnd;return t===e?-1:(e=ds.keyEnd=function eH(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ds.key=e,t),Kf(n,e,t))}function Kf(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function jc(n,e,t){return dl(n,e,t,!1),jc}function Qr(n,e){return dl(n,e,null,!0),Qr}function Zl(n,e){for(let t=function Q3(n){return function AT(n){ds.key=0,ds.keyEnd=0,ds.value=0,ds.valueEnd=0,ds.textEnd=n.length}(n),MT(n,Kf(n,0,ds.textEnd))}(e);t>=0;t=MT(e,t))Ks(n,DT(e),!0)}function dl(n,e,t,r){const i=It(),s=Zn(),a=el(2);s.firstUpdatePass&&PT(s,n,a,r),e!==Vn&&Zs(i,a,e)&&LT(s,s.data[Os()],i,i[Un],n,i[a+1]=function uH(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Se(l(n)))),n}(e,t),r,a)}function hl(n,e,t,r){const i=Zn(),s=el(2);i.firstUpdatePass&&PT(i,null,s,r);const a=It();if(t!==Vn&&Zs(a,s,t)){const u=i.data[Os()];if(BT(u,r)&&!RT(i,s)){let h=r?u.classesWithoutHost:u.stylesWithoutHost;null!==h&&(t=Ye(h,t||"")),tE(i,u,a,t,r)}else!function cH(n,e,t,r,i,s,a,u){i===Vn&&(i=Mr);let h=0,g=0,y=0<i.length?i[0]:null,O=0<s.length?s[0]:null;for(;null!==y||null!==O;){const $=h<i.length?i[h+1]:void 0,K=g<s.length?s[g+1]:void 0;let he,re=null;y===O?(h+=2,g+=2,$!==K&&(re=O,he=K)):null===O||null!==y&&y<O?(h+=2,re=y):(g+=2,re=O,he=K),null!==re&&LT(n,e,t,r,re,he,a,u),y=h<i.length?i[h]:null,O=g<s.length?s[g]:null}}(i,u,a,a[Un],a[s+1],a[s+1]=function lH(n,e,t){if(null==t||""===t)return Mr;const r=[],i=l(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function RT(n,e){return e>=n.expandoStartIndex}function PT(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Os()],a=RT(n,t);BT(s,r)&&null===e&&!a&&(e=!1),e=function iH(n,e,t,r){const i=function rf(n){const e=_n.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=rg(t=oE(null,n,e,t,r),e.attrs,r),s=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==i)if(t=oE(i,n,e,t,r),null===s){let h=function sH(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==lh(r))return n[Fu(r)]}(n,e,r);void 0!==h&&Array.isArray(h)&&(h=oE(null,n,e,h[1],r),h=rg(h,e.attrs,r),function oH(n,e,t,r){n[Fu(t?e.classBindings:e.styleBindings)]=r}(n,e,r,h))}else s=function aH(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=rg(r,n[s].hostAttrs,t);return rg(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function X3(n,e,t,r,i,s){let a=s?e.classBindings:e.styleBindings,u=Fu(a),h=lh(a);n[r]=t;let y,g=!1;if(Array.isArray(t)?(y=t[1],(null===y||Ic(t,y)>0)&&(g=!0)):y=t,i)if(0!==h){const $=Fu(n[u+1]);n[r+1]=bb($,u),0!==$&&(n[$+1]=iE(n[$+1],r)),n[u+1]=function W3(n,e){return 131071&n|e<<17}(n[u+1],r)}else n[r+1]=bb(u,0),0!==u&&(n[u+1]=iE(n[u+1],r)),u=r;else n[r+1]=bb(h,0),0===u?u=r:n[h+1]=iE(n[h+1],r),h=r;g&&(n[r+1]=rE(n[r+1])),ST(n,y,r,!0),ST(n,y,r,!1),function K3(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ic(s,e)>=0&&(t[r+1]=sE(t[r+1]))}(e,y,n,r,s),a=bb(u,h),s?e.classBindings=a:e.styleBindings=a}(i,s,e,t,a,r)}}function oE(n,e,t,r,i){let s=null;const a=t.directiveEnd;let u=t.directiveStylingLast;for(-1===u?u=t.directiveStart:u++;u<a&&(s=e[u],r=rg(r,s.hostAttrs,i),s!==n);)u++;return null!==n&&(t.directiveStylingLast=u),r}function rg(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ks(n,a,!!t||e[++s]))}return void 0===n?null:n}function LT(n,e,t,r,i,s,a,u){if(!(3&e.type))return;const h=n.data,g=h[u+1],y=function Y3(n){return 1==(1&n)}(g)?FT(h,e,t,i,lh(g),a):void 0;_b(y)||(_b(s)||function $3(n){return 2==(2&n)}(g)&&(s=FT(h,null,t,i,u,a)),function Ru(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:pi.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=pi.Important),n.setStyle(t,r,i,s))}}(r,a,kd(Os(),t),i,s))}function FT(n,e,t,r,i,s){const a=null===e;let u;for(;i>0;){const h=n[i],g=Array.isArray(h),y=g?h[1]:h,O=null===y;let $=t[i+1];$===Vn&&($=O?Mr:void 0);let K=O?Em($,r):y===r?$:void 0;if(g&&!_b(K)&&(K=Em(h,r)),_b(K)&&(u=K,a))return u;const re=n[i+1];i=a?Fu(re):lh(re)}if(null!==e){let h=s?e.residualClasses:e.residualStyles;null!=h&&(u=Em(h,r))}return u}function _b(n){return void 0!==n}function BT(n,e){return 0!=(n.flags&(e?8:16))}function Qs(n,e=""){const t=It(),r=Zn(),i=n+qr,s=r.firstCreatePass?Vf(r,i,1,e,null):r.data[i],a=t[i]=function Vm(n,e){return n.createText(e)}(t[Un],e);ol(r,t,a,s),Jo(s,!1)}function Uc(n){return ig("",n,""),Uc}function ig(n,e,t){const r=It(),i=zf(r,n,e,t);return i!==Vn&&function zc(n,e,t){const r=kd(e,n);!function jy(n,e,t){n.setValue(e,t)}(n[Un],r,t)}(r,Os(),i),ig}function sg(n,e,t){const r=It();return Zs(r,Fl(),e)&&sa(Zn(),ai(),r,n,e,r[Un],t,!0),sg}const Zf="en-US";let oA=Zf;function cE(n,e,t,r,i){if(n=ht(n),Array.isArray(n))for(let s=0;s<n.length;s++)cE(n[s],e,t,r,i);else{const s=Zn(),a=It();let u=kt(n)?n:ht(n.provide),h=Xi(n);const g=zr(),y=1048575&g.providerIndexes,O=g.directiveStart,$=g.providerIndexes>>20;if(kt(n)||!n.multi){const K=new gu(h,i,ze),re=dE(u,e,i?y:y+$,O);-1===re?(df(nl(g,a),s,u),uE(s,n,e.length),e.push(u),g.directiveStart++,g.directiveEnd++,i&&(g.providerIndexes+=1048576),t.push(K),a.push(K)):(t[re]=K,a[re]=K)}else{const K=dE(u,e,y+$,O),re=dE(u,e,y,y+$),xe=re>=0&&t[re];if(i&&!xe||!i&&!(K>=0&&t[K])){df(nl(g,a),s,u);const Pe=function Mz(n,e,t,r,i){const s=new gu(n,t,ze);return s.multi=[],s.index=e,s.componentProviders=0,kA(s,i,r&&!t),s}(i?Dz:Sz,t.length,i,r,h);!i&&xe&&(t[re].providerFactory=Pe),uE(s,n,e.length,0),e.push(u),g.directiveStart++,g.directiveEnd++,i&&(g.providerIndexes+=1048576),t.push(Pe),a.push(Pe)}else uE(s,n,K>-1?K:re,kA(t[i?re:K],h,!i&&r));!i&&r&&xe&&t[re].componentProviders++}}}function uE(n,e,t,r){const i=kt(e),s=function an(n){return!!n.useClass}(e);if(i||s){const h=(s?ht(e.useClass):e).prototype.ngOnDestroy;if(h){const g=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const y=g.indexOf(t);-1===y?g.push(t,[r,h]):g[y+1].push(r,h)}else g.push(t,h)}}}function kA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function dE(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Sz(n,e,t,r){return hE(this.multi,[])}function Dz(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,u=Cc(t,t[Kt],this.providerFactory.index,r);s=u.slice(0,a),hE(i,s);for(let h=a;h<u.length;h++)s.push(u[h])}else s=[],hE(i,s);return s}function hE(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ar(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Cz(n,e,t){const r=Zn();if(r.firstCreatePass){const i=Xs(n);cE(t,r.data,r.blueprint,i,!0),cE(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Qf{}class Iz extends Qf{constructor(e,t,r){super(),this.componentFactoryResolver=new XM(this),this.instance=null;const i=new li([...e,{provide:Qf,useValue:this},{provide:Ki,useValue:this.componentFactoryResolver}],t||Dn(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function RA(n,e,t=null){return new Iz(n,e,t).injector}let kz=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=On(0,t.type),i=r.length>0?RA([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=tn({token:n,providedIn:"environment",factory:()=>new n(xt(Tn))}),n})();function uh(n){n.getStandaloneInjector=e=>e.get(kz).getOrCreateStandaloneInjector(n)}function HA(n,e,t,r){return function zA(n,e,t,r,i,s){const a=e+t;return Zs(n,a,i)?function Kl(n,e,t){return n[e]=t}(n,a+1,s?r.call(s,i):r(i)):function dg(n,e){const t=n[e];return t===Vn?void 0:t}(n,a+1)}(It(),function xi(){const n=_n.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function mE(n){return e=>{setTimeout(n,void 0,e)}}const Wn=class n4 extends Te{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),a=r;if(e&&"object"==typeof e){const h=e;i=h.next?.bind(h),s=h.error?.bind(h),a=h.complete?.bind(h)}this.__isAsync&&(s=mE(s),i&&(i=mE(i)),a&&(a=mE(a)));const u=super.subscribe({next:i,error:s,complete:a});return e instanceof C&&e.add(u),u}};function r4(){return this._results[oh()]()}class fg{get changes(){return this._changes||(this._changes=new Wn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=oh(),r=fg.prototype;r[t]||(r[t]=r4)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Yi(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function ew(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ql=(()=>{class n{}return n.__NG_ELEMENT_ID__=a4,n})();const s4=Ql,o4=class extends s4{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=ab(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Td]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Qo];return null!==a&&(i[Qo]=a.createEmbeddedView(r)),zw(r,i,e),new Jm(i)}};function a4(){return Sb(zr(),It())}function Sb(n,e){return 4&n.type?new o4(e,n,Ls(n,e)):null}let Ma=(()=>{class n{}return n.__NG_ELEMENT_ID__=l4,n})();function l4(){return XA(zr(),It())}const c4=Ma,WA=class extends c4{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ls(this._hostTNode,this._hostLView)}get injector(){return new Sc(this._hostTNode,this._hostLView)}get parentInjector(){const e=uf(this._hostTNode,this._hostLView);if(zd(e)){const t=bu(e,this._hostLView),r=Ec(e);return new Sc(t[Kt].data[r+8],t)}return new Sc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=YA(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ks}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedView(t||{},s);return this.insert(a,i),a}createComponent(e,t,r,i,s){const a=e&&!function Gd(n){return"function"==typeof n}(e);let u;if(a)u=t;else{const O=t||{};u=O.index,r=O.injector,i=O.projectableNodes,s=O.environmentInjector||O.ngModuleRef}const h=a?e:new eg(hr(e)),g=r||this.parentInjector;if(!s&&null==h.ngModule){const $=(a?g:this.parentInjector).get(Tn,null);$&&(s=$)}const y=h.create(g,i,void 0,s);return this.insert(y.hostView,u),y}insert(e,t){const r=e._lView,i=r[Kt];if(function Gx(n){return No(n[oi])}(r)){const y=this.indexOf(e);if(-1!==y)this.detach(y);else{const O=r[oi],$=new WA(O,O[vs],O[oi]);$.detach($.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;!function cs(n,e,t,r){const i=ks+r,s=t.length;r>0&&(t[i-1][Zo]=e),r<s-ks?(e[Zo]=t[i],Su(t,ks+r,e)):(t.push(e),e[Zo]=null),e[oi]=t;const a=e[Td];null!==a&&t!==a&&function $y(n,e){const t=n[du];e[ys]!==e[oi][oi][ys]&&(n[Wv]=!0),null===t?n[du]=[e]:t.push(e)}(a,e);const u=e[Qo];null!==u&&u.insertView(n),e[Fn]|=64}(i,r,a,s);const u=$m(s,a),h=r[Un],g=Df(h,a[Zh]);return null!==g&&function Cw(n,e,t,r,i,s){r[Po]=i,r[vs]=e,Ou(n,r,t,1,i,s)}(i,a[vs],h,r,g,u),e.attachToViewContainerRef(),Su(gE(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=YA(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Sf(this._lContainer,t);r&&(Ac(gE(this._lContainer),t),zm(r[Kt],r))}detach(e){const t=this._adjustIndex(e,-1),r=Sf(this._lContainer,t);return r&&null!=Ac(gE(this._lContainer),t)?new Jm(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function YA(n){return n[Qh]}function gE(n){return n[Qh]||(n[Qh]=[])}function XA(n,e){let t;const r=e[n.index];if(No(r))t=r;else{let i;if(8&n.type)i=ss(r);else{const s=e[Un];i=s.createComment("");const a=ho(n,e);ws(s,Df(s,a),i,function Um(n,e){return n.nextSibling(e)}(s,a),!1)}e[n.index]=t=UM(r,e,i,n),cb(e,t)}return new WA(t,n,e)}class vE{constructor(e){this.queryList=e,this.matches=null}clone(){return new vE(this.queryList)}setDirty(){this.queryList.setDirty()}}class yE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const a=t.getByIndex(s);i.push(this.queries[a.indexInDeclarationView].clone())}return new yE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==JA(e,t).matches&&this.queries[t].setDirty()}}class KA{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class bE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new bE(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class _E{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new _E(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,u4(t,s)),this.matchTNodeWithReadOption(e,t,hf(t,e,s,!1,!1))}else r===Ql?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Bn||i===Ma||i===Ql&&4&t.type)this.addMatch(t.index,-2);else{const s=hf(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function u4(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function h4(n,e,t,r){return-1===t?function d4(n,e){return 11&n.type?Ls(n,e):4&n.type?Sb(n,e):null}(e,n):-2===t?function f4(n,e,t){return t===Bn?Ls(e,n):t===Ql?Sb(e,n):t===Ma?XA(e,n):void 0}(n,e,r):Cc(n,n[Kt],t,e)}function qA(n,e,t,r){const i=e[Qo].queries[r];if(null===i.matches){const s=n.data,a=t.matches,u=[];for(let h=0;h<a.length;h+=2){const g=a[h];u.push(g<0?null:h4(e,s[g],a[h+1],t.metadata.read))}i.matches=u}return i.matches}function xE(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const a=qA(n,e,i,t);for(let u=0;u<s.length;u+=2){const h=s[u];if(h>0)r.push(a[u/2]);else{const g=s[u+1],y=e[-h];for(let O=ks;O<y.length;O++){const $=y[O];$[Td]===$[oi]&&xE($[Kt],$,g,r)}if(null!==y[du]){const O=y[du];for(let $=0;$<O.length;$++){const K=O[$];xE(K[Kt],K,g,r)}}}}}return r}function mr(n){const e=It(),t=Zn(),r=ay();xc(r+1);const i=JA(t,r);if(n.dirty&&function Zr(n){return 4==(4&n[Fn])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?xE(t,e,r,[]):qA(t,e,i,r);n.reset(s,Iw),n.notifyOnChanges()}return!0}return!1}function wi(n,e,t){const r=Zn();r.firstCreatePass&&(QA(r,new KA(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),ZA(r,It(),e)}function Vo(n,e,t,r){const i=Zn();if(i.firstCreatePass){const s=zr();QA(i,new KA(e,t,r),s.index),function m4(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}ZA(i,It(),t)}function gr(){return function p4(n,e){return n[Qo].queries[e].queryList}(It(),ay())}function ZA(n,e,t){const r=new fg(4==(4&t));FM(n,e,r,r.destroy),null===e[Qo]&&(e[Qo]=new yE),e[Qo].queries.push(new vE(r))}function QA(n,e,t){null===n.queries&&(n.queries=new bE),n.queries.track(new _E(e,t))}function JA(n,e){return n.queries.getByIndex(e)}function eI(n,e){return Sb(n,e)}function Mb(...n){}const bI=new Lt("Application Initializer");let Tb=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Mb,this.reject=Mb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(yb(s))t.push(s);else if(dT(s)){const a=new Promise((u,h)=>{s.subscribe({complete:u,error:h})});t.push(a)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(xt(bI,8))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ab=new Lt("AppId",{providedIn:"root",factory:function _I(){return`${DE()}${DE()}${DE()}`}});function DE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xI=new Lt("Platform Initializer"),ME=new Lt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),N4=new Lt("appBootstrapListener"),Ta=new Lt("AnimationModuleType"),Jl=new Lt("LocaleId",{providedIn:"root",factory:()=>Xo(Jl,xn.Optional|xn.SkipSelf)||function L4(){return typeof $localize<"u"&&$localize.locale||Zf}()}),z4=(()=>Promise.resolve(0))();class An{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wn(!1),this.onMicrotaskEmpty=new Wn(!1),this.onStable=new Wn(!1),this.onError=new Wn(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function j4(){let n=Nr.requestAnimationFrame,e=Nr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function $4(n){const e=()=>{!function G4(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Nr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,IE(n),n.isCheckStableRunning=!0,AE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),IE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,a,u)=>{try{return CI(n),t.invokeTask(i,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),SI(n)}},onInvoke:(t,r,i,s,a,u,h)=>{try{return CI(n),t.invoke(i,s,a,u,h)}finally{n.shouldCoalesceRunChangeDetection&&e(),SI(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,IE(n),AE(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!An.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(An.isInAngularZone())throw new Ze(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,U4,Mb,Mb);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const U4={};function AE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function IE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function CI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function SI(n){n._nesting--,AE(n)}class W4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wn,this.onMicrotaskEmpty=new Wn,this.onStable=new Wn,this.onError=new Wn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const DI=new Lt("");let Bu=null;const PE=new Lt("PlatformDestroyListeners"),Gc=!1;function Q4(n){const{rootComponent:e,appProviders:t,platformProviders:r}=n;Gc&&void 0!==e&&function d5(n){if(function h5(n){if(!hr(n))throw new Ze(906,`The ${Xt(n)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(n),!hr(n).standalone)throw new Ze(907,`The ${Xt(n)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${Xt(n)} component has the \`standalone: true\` flag in the decorator.`)}(e);const i=function Z4(n=[]){if(Bu)return Bu;const e=function AI(n=[],e){return ul.create({name:e,providers:[{provide:Qn,useValue:"platform"},{provide:PE,useValue:new Set([()=>Bu=null])},...n]})}(n);return Bu=e,function TI(n){const e=n.get(xI,null);e&&e.forEach(t=>t())}(e),e}(r),s=function OI(n,e){let t;return t="noop"===n?new W4:("zone.js"===n?void 0:n)||new An(e),t}("zone.js",function kI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return s.run(()=>{const u=RA([{provide:An,useValue:s},...t||[]],i,"Environment Injector"),h=u.get(Sa,null);if(Gc&&!h)throw new Ze(402,"No `ErrorHandler` found in the Dependency Injection tree.");let g;s.runOutsideAngular(()=>{g=s.onError.subscribe({next:$=>{h.handleError($)}})});const y=()=>u.destroy(),O=i.get(PE);return O.add(y),u.onDestroy(()=>{g.unsubscribe(),O.delete(y)}),function RI(n,e,t){try{const r=t();return yb(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(h,s,()=>{const $=u.get(Tb);return $.runInitializers(),$.donePromise.then(()=>{!function aA(n){Ai(n,"Expected localeId to be defined"),"string"==typeof n&&(oA=n.toLowerCase().replace(/_/g,"-"))}(u.get(Jl,Zf)||Zf);const re=u.get(mg);return void 0!==e&&re.bootstrap(e),re})})})}let mg=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new _e(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new _e(u=>{let h;this._zone.runOutsideAngular(()=>{h=this._zone.onStable.subscribe(()=>{An.assertNotInAngularZone(),function TE(n){typeof Zone>"u"?z4.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{An.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{h.unsubscribe(),g.unsubscribe()}});this.isStable=Dl(s,a.pipe(Wa()))}bootstrap(t,r){Gc&&this.warnIfDestroyed();const i=t instanceof Bc;if(!this._injector.get(Tb).done){const K="Cannot bootstrap as there are still asynchronous initializers running."+(!i&&function Dd(n){const e=hr(n)||_i(n)||ji(n);return null!==e&&e.standalone}(t)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new Ze(405,Gc&&K)}let a;a=i?t:this._injector.get(Ki).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const u=function K4(n){return n.isBoundToModule}(a)?void 0:this._injector.get(Qf),g=a.create(ul.NULL,[],r||a.selector,u),y=g.location.nativeElement,O=g.injector.get(DI,null);return O?.registerApplication(y),g.onDestroy(()=>{this.detachView(g.hostView),kb(this.components,g),O?.unregisterApplication(y)}),this._loadComponent(g),g}tick(){if(Gc&&this.warnIfDestroyed(),this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){Gc&&this.warnIfDestroyed();const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){Gc&&this.warnIfDestroyed();const r=t;kb(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(N4,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return Gc&&this.warnIfDestroyed(),this._destroyListeners.push(t),()=>kb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ze(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){Gc&&this._destroyed&&console.warn(ur(406,"This instance of the `ApplicationRef` has already been destroyed."))}}return n.\u0275fac=function(t){return new(t||n)(xt(An),xt(Tn),xt(Sa))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Ho=(()=>{class n{}return n.__NG_ELEMENT_ID__=tj,n})();function tj(n){return function nj(n,e,t){if(Ad(n)&&!t){const r=fr(n.index,e);return new Jm(r,r)}return 47&n.type?new Jm(e[ys],e):null}(zr(),It(),16==(16&n))}class VI{constructor(){}supports(e){return pb(e)}create(e){return new lj(e)}}const aj=(n,e)=>e;class lj{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||aj}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const a=!r||t&&t.currentIndex<zI(r,i,s)?t:r,u=zI(a,i,s),h=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{s||(s=[]);const g=u-i,y=h-i;if(g!=y){for(let $=0;$<g;$++){const K=$<s.length?s[$]:s[$]=0,re=K+$;y<=re&&re<g&&(s[$]=K+1)}s[a.previousIndex]=y-g}}u!==h&&e(a,u,h)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!pb(e))throw new Ze(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,a,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let u=0;u<this.length;u++)s=e[u],a=this._trackByFn(u,s),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,s,a,u)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,u),r=!0),t=t._next}else i=0,function L3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[oh()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,u=>{a=this._trackByFn(i,u),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,u,a,i)),Object.is(t.item,u)||this._addIdentityChange(t,u)):(t=this._mismatch(t,u,a,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new cj(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new HI),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HI),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class cj{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uj{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class HI{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new uj,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zI(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class jI{constructor(){}supports(e){return e instanceof Map||eE(e)}create(){return new dj}}class dj{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||eE(e)))throw new Ze(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const r=new hj(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class hj{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UI(){return new Pb([new VI])}let Pb=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||UI()),deps:[[n,new Wd,new zl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Ze(901,!1)}}return n.\u0275prov=tn({token:n,providedIn:"root",factory:UI}),n})();function GI(){return new gg([new jI])}let gg=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||GI()),deps:[[n,new Wd,new zl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Ze(901,!1)}}return n.\u0275prov=tn({token:n,providedIn:"root",factory:GI}),n})(),zE=null;function ec(){return zE}class vj{}const tr=new Lt("DocumentToken");let $I=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tn({token:n,factory:function(){return function yj(){return xt(WI)}()},providedIn:"platform"}),n})(),WI=(()=>{class n extends $I{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ec().getBaseHref(this._doc)}onPopState(t){const r=ec().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ec().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){YI()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){YI()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(xt(tr))},n.\u0275prov=tn({token:n,factory:function(){return function bj(){return new WI(xt(tr))}()},providedIn:"platform"}),n})();function YI(){return!!window.history.pushState}function XI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function KI(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function hh(n){return n&&"?"!==n[0]?"?"+n:n}let jE=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tn({token:n,factory:function(){return Xo(xj)},providedIn:"root"}),n})();const _j=new Lt("appBaseHref");let xj=(()=>{class n extends jE{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Xo(tr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return XI(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+hh(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const a=this.prepareExternalUrl(i+hh(s));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){const a=this.prepareExternalUrl(i+hh(s));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(xt($I),xt(_j,8))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qI=(()=>{class n{constructor(t){this._subject=new Wn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Cj(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(KI(ZI(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+hh(r))}normalize(t){return n.stripTrailingSlash(function Ej(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,ZI(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hh(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hh(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=hh,n.joinWithSlash=XI,n.stripTrailingSlash=KI,n.\u0275fac=function(t){return new(t||n)(xt(jE))},n.\u0275prov=tn({token:n,factory:function(){return function wj(){return new qI(xt(jE))}()},providedIn:"root"}),n})();function ZI(n){return n.replace(/\/index.html$/,"")}const QE=/\s+/,ok=[];let JE=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=ok,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(QE):ok}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(QE):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(QE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(ze(Pb),ze(gg),ze(Bn),ze(ll))},n.\u0275dir=en({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class c8{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bg=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new c8(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===s?void 0:s);else if(null!==s){const u=r.get(s);r.move(u,a),ck(u,i)}});for(let i=0,s=r.length;i<s;i++){const u=r.get(i).context;u.index=i,u.count=s,u.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ck(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(ze(Ma),ze(Ql),ze(Pb))},n.\u0275dir=en({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ck(n,e){n.context.$implicit=e.item}let Vu=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new d8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){uk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){uk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(ze(Ma),ze(Ql))},n.\u0275dir=en({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class d8{constructor(){this.$implicit=null,this.ngIf=null}}function uk(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Se(e)}'.`)}class e1{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let _g=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=en({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),t1=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new e1(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(ze(Ma),ze(Ql),ze(_g,9))},n.\u0275dir=en({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),dk=(()=>{class n{constructor(t,r,i){i._addDefault(new e1(t,r))}}return n.\u0275fac=function(t){return new(t||n)(ze(Ma),ze(Ql),ze(_g,9))},n.\u0275dir=en({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),fk=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:a}=this;this._viewRef=r.createEmbeddedView(i,s,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(ze(Ma))},n.\u0275dir=en({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Gn]}),n})(),ka=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({}),n})();const mk="browser";class pU extends vj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class l1 extends pU{static makeCurrent(){!function gj(n){zE||(zE=n)}(new l1)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function mU(){return wg=wg||document.querySelector("base"),wg?wg.getAttribute("href"):null}();return null==t?null:function gU(n){$b=$b||document.createElement("a"),$b.setAttribute("href",n);const e=$b.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function a8(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let $b,wg=null,_U=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})();const Wb=new Lt("EventManagerPlugins");let Yb=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const a=i[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(xt(Wb),xt(An))},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})();class xk{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=ec().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let wk=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})(),Eg=(()=>{class n extends wk{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,i.push(r.appendChild(a))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ek),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ek))}}return n.\u0275fac=function(t){return new(t||n)(xt(tr))},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})();function Ek(n){ec().remove(n)}const c1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},u1=/%COMP%/g;function d1(n,e){return e.flat(100).map(t=>t.replace(u1,n))}function Dk(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xb=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new h1(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case qo.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new DU(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case qo.ShadowDom:return new MU(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=d1(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(xt(Yb),xt(Eg),xt(Ab))},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})();class h1{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(c1[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Tk(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Tk(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=c1[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=c1[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(pi.DashCase|pi.Important)?e.style.setProperty(t,r,i&pi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&pi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Dk(r)):this.eventManager.addEventListener(e,t,Dk(r))}}function Tk(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class DU extends h1{constructor(e,t,r,i){super(e),this.component=r;const s=d1(i+"-"+r.id,r.styles);t.addStyles(s),this.contentAttr=function EU(n){return"_ngcontent-%COMP%".replace(u1,n)}(i+"-"+r.id),this.hostAttr=function CU(n){return"_nghost-%COMP%".replace(u1,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class MU extends h1{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=d1(i.id,i.styles);for(let a=0;a<s.length;a++){const u=document.createElement("style");u.textContent=s[a],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const Ak=["alt","control","meta","shift"],AU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function kk(n){return{appProviders:[...VU,...n?.providers??[]],platformProviders:LU}}const LU=[{provide:ME,useValue:mk},{provide:xI,useValue:function RU(){l1.makeCurrent()},multi:!0},{provide:tr,useFactory:function NU(){return function nb(n){Xm=n}(document),document},deps:[]}],VU=[{provide:Qn,useValue:"root"},{provide:Sa,useFactory:function PU(){return new Sa},deps:[]},{provide:Wb,useClass:(()=>{class n extends xk{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(xt(tr))},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[tr,An,ME]},{provide:Wb,useClass:(()=>{class n extends xk{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ec().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let a="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),a="code."),Ak.forEach(g=>{const y=r.indexOf(g);y>-1&&(r.splice(y,1),a+=g+".")}),a+=s,0!=r.length||0===s.length)return null;const h={};return h.domEventName=i,h.fullKey=a,h}static matchEventFullKeyCode(t,r){let i=AU[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ak.forEach(a=>{a!==i&&(0,IU[a])(t)&&(s+=a+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(xt(tr))},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[tr]},{provide:Xb,useClass:Xb,deps:[Yb,Eg,Ab]},{provide:ih,useExisting:Xb},{provide:wk,useExisting:Eg},{provide:Eg,useClass:Eg,deps:[tr]},{provide:Yb,useClass:Yb,deps:[Wb,An]},{provide:class z8{},useClass:_U,deps:[]},[]];typeof window<"u"&&window;let p1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tn({token:n,factory:function(t){let r=null;return r=t?new(t||n):xt(Pk),r},providedIn:"root"}),n})(),Pk=(()=>{class n extends p1{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case rt.NONE:return r;case rt.HTML:return d(r,"HTML")?l(r):ot(this._doc,String(r)).toString();case rt.STYLE:return d(r,"Style")?l(r):r;case rt.SCRIPT:if(d(r,"Script"))return l(r);throw new Error("unsafe value used in a script context");case rt.URL:return d(r,"URL")?l(r):Q(String(r));case rt.RESOURCE_URL:if(d(r,"ResourceURL"))return l(r);throw new Error(`unsafe value used in a resource URL context (see ${vn})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${vn})`)}}bypassSecurityTrustHtml(t){return function p(n){return new Nc(n)}(t)}bypassSecurityTrustStyle(t){return function m(n){return new Aw(n)}(t)}bypassSecurityTrustScript(t){return function w(n){return new Lc(n)}(t)}bypassSecurityTrustUrl(t){return function T(n){return new c(n)}(t)}bypassSecurityTrustResourceUrl(t){return function S(n){return new o(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(xt(tr))},n.\u0275prov=tn({token:n,factory:function(t){let r=null;return r=t?new t:function XU(n){return new Pk(n.get(tr))}(xt(ul)),r},providedIn:"root"}),n})();function Nk(n,e,t,r,i,s,a){try{var u=n[s](a),h=u.value}catch(g){return void t(g)}u.done?e(h):Promise.resolve(h).then(r,i)}function fh(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function a(h){Nk(s,r,i,a,u,"next",h)}function u(h){Nk(s,r,i,a,u,"throw",h)}a(void 0)})}}class KU extends C{constructor(e,t){super()}schedule(e,t=0){return this}}const Kb={setInterval(n,e,...t){const{delegate:r}=Kb;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Kb;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class m1 extends KU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Kb.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Kb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,E(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Lk={now:()=>(Lk.delegate||Date).now(),delegate:void 0};class Cg{constructor(e,t=Cg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Cg.now=Lk.now;class g1 extends Cg{constructor(e,t=Cg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const v1=new g1(m1),qU=v1;function Sg(n,e=v1){return Be((t,r)=>{let i=null,s=null,a=null;const u=()=>{if(i){i.unsubscribe(),i=null;const g=s;s=null,r.next(g)}};function h(){const g=a+n,y=e.now();if(y<g)return i=this.schedule(void 0,g-y),void r.add(i);u()}t.subscribe(Fe(r,g=>{s=g,a=e.now(),i||(i=e.schedule(h,n),r.add(i))},()=>{u(),r.complete()},void 0,()=>{s=i=null}))})}const ZU=["gutterEls"];function QU(n,e){if(1&n){const t=Lu();on(0,"div",2,3),or("keydown",function(i){os(t);const s=Hn().index;return Ii(Hn().startKeyboardDrag(i,2*s+1,s+1))})("mousedown",function(i){os(t);const s=Hn().index;return Ii(Hn().startMouseDrag(i,2*s+1,s+1))})("touchstart",function(i){os(t);const s=Hn().index;return Ii(Hn().startMouseDrag(i,2*s+1,s+1))})("mouseup",function(i){os(t);const s=Hn().index;return Ii(Hn().clickGutter(i,s+1))})("touchend",function(i){os(t);const s=Hn().index;return Ii(Hn().clickGutter(i,s+1))}),kr(2,"div",4),pn()}if(2&n){const t=Hn(),r=t.index,i=t.$implicit,s=Hn();jc("flex-basis",s.gutterSize,"px")("order",2*r+1),mi("aria-label",s.gutterAriaLabel)("aria-orientation",s.direction)("aria-valuemin",i.minSize)("aria-valuemax",i.maxSize)("aria-valuenow",i.size)("aria-valuetext",s.getAriaAreaSizeText(i.size))}}function JU(n,e){1&n&&er(0,QU,3,10,"div",1),2&n&&Qt("ngIf",!1===e.last)}const eG=["*"];function Dg(n){if(void 0!==n.changedTouches&&n.changedTouches.length>0)return{x:n.changedTouches[0].clientX,y:n.changedTouches[0].clientY};if(void 0!==n.clientX&&void 0!==n.clientY)return{x:n.clientX,y:n.clientY};if(void 0!==n.currentTarget){const e=n.currentTarget;return{x:e.offsetLeft,y:e.offsetTop}}return null}function Fk(n,e,t){return Math.abs(n.x-e.x)<=t&&Math.abs(n.y-e.y)<=t}function Bk(n,e){const t=n.nativeElement.getBoundingClientRect();return"horizontal"===e?t.width:t.height}function Mg(n){return"boolean"==typeof n?n:"false"!==n}function zu(n,e){return null==n?e:(n=Number(n),!isNaN(n)&&n>=0?n:e)}function Vk(n,e){if("percent"===n){const t=e.reduce((r,i)=>null!==i?r+i:r,0);return e.every(r=>null!==r)&&t>99.9&&t<100.1}if("pixel"===n)return 1===e.filter(t=>null===t).length}function qb(n){return null===n.size?null:!0===n.component.lockSize?n.size:null===n.component.minSize?null:n.component.minSize>n.size?n.size:n.component.minSize}function Zb(n){return null===n.size?null:!0===n.component.lockSize?n.size:null===n.component.maxSize?null:n.component.maxSize<n.size?n.size:n.component.maxSize}function tp(n,e,t,r){return e.reduce((i,s)=>{const a=function nG(n,e,t,r){return 0===t?{areaSnapshot:e,pixelAbsorb:0,percentAfterAbsorption:e.sizePercentAtStart,pixelRemain:0}:0===e.sizePixelAtStart&&t<0?{areaSnapshot:e,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:t}:"percent"===n?function rG(n,e,t){const i=(n.sizePixelAtStart+e)/t*100;if(e>0){if(null!==n.area.maxSize&&i>n.area.maxSize){const s=n.area.maxSize/100*t;return{areaSnapshot:n,pixelAbsorb:s,percentAfterAbsorption:n.area.maxSize,pixelRemain:n.sizePixelAtStart+e-s}}return{areaSnapshot:n,pixelAbsorb:e,percentAfterAbsorption:i>100?100:i,pixelRemain:0}}if(e<0){if(null!==n.area.minSize&&i<n.area.minSize){const s=n.area.minSize/100*t;return{areaSnapshot:n,pixelAbsorb:s,percentAfterAbsorption:n.area.minSize,pixelRemain:n.sizePixelAtStart+e-s}}return i<0?{areaSnapshot:n,pixelAbsorb:-n.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:e+n.sizePixelAtStart}:{areaSnapshot:n,pixelAbsorb:e,percentAfterAbsorption:i,pixelRemain:0}}}(e,t,r):"pixel"===n?function iG(n,e,t){const r=n.sizePixelAtStart+e;return e>0?null!==n.area.maxSize&&r>n.area.maxSize?{areaSnapshot:n,pixelAbsorb:n.area.maxSize-n.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:r-n.area.maxSize}:{areaSnapshot:n,pixelAbsorb:e,percentAfterAbsorption:-1,pixelRemain:0}:e<0?null!==n.area.minSize&&r<n.area.minSize?{areaSnapshot:n,pixelAbsorb:n.area.minSize+e-r,percentAfterAbsorption:-1,pixelRemain:r-n.area.minSize}:r<0?{areaSnapshot:n,pixelAbsorb:-n.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:e+n.sizePixelAtStart}:{areaSnapshot:n,pixelAbsorb:e,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(e,t):void 0}(n,s,i.remain,r);return i.list.push(a),i.remain=a.pixelRemain,i},{remain:t,list:[]})}function Hk(n,e){"percent"===n?e.areaSnapshot.area.size=e.percentAfterAbsorption:"pixel"===n&&null!==e.areaSnapshot.area.size&&(e.areaSnapshot.area.size=e.areaSnapshot.sizePixelAtStart+e.pixelAbsorb)}const sG=new Lt("angular-split-global-config");let zk=(()=>{class n{set direction(t){this._direction="vertical"===t?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,`as-${this._direction}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}get direction(){return this._direction}set unit(t){this._unit="pixel"===t?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,`as-${this._unit}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}get unit(){return this._unit}set gutterSize(t){this._gutterSize=zu(t,11),this.build(!1,!1)}get gutterSize(){return this._gutterSize}set gutterStep(t){this._gutterStep=zu(t,1)}get gutterStep(){return this._gutterStep}set restrictMove(t){this._restrictMove=Mg(t)}get restrictMove(){return this._restrictMove}set useTransition(t){this._useTransition=Mg(t),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}get useTransition(){return this._useTransition}set disabled(t){this._disabled=Mg(t),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}get disabled(){return this._disabled}set dir(t){this._dir="rtl"===t?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}get dir(){return this._dir}set gutterDblClickDuration(t){this._gutterDblClickDuration=zu(t,0)}get gutterDblClickDuration(){return this._gutterDblClickDuration}get transitionEnd(){return new _e(t=>this.transitionEndSubscriber=t).pipe(Sg(20))}constructor(t,r,i,s,a){this.ngZone=t,this.elRef=r,this.cdRef=i,this.renderer=s,this.gutterClickDeltaPx=2,this._config={direction:"horizontal",unit:"percent",gutterSize:11,gutterStep:1,restrictMove:!1,useTransition:!1,disabled:!1,dir:"ltr",gutterDblClickDuration:0},this.dragStart=new Wn(!1),this.dragEnd=new Wn(!1),this.gutterClick=new Wn(!1),this.gutterDblClick=new Wn(!1),this.dragProgressSubject=new Te,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.isWaitingInitialMove=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hiddenAreas=[],this._clickTimeout=null,this.direction=this._direction,this._config=a?Object.assign(this._config,a):this._config,Object.keys(this._config).forEach(u=>{this[u]=this._config[u]})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>this.renderer.addClass(this.elRef.nativeElement,"as-init"))})}getNbGutters(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}addArea(t){const r={component:t,order:0,size:0,minSize:null,maxSize:null,sizeBeforeCollapse:null,gutterBeforeCollapse:0};!0===t.visible?(this.displayedAreas.push(r),this.build(!0,!0)):this.hiddenAreas.push(r)}removeArea(t){if(this.displayedAreas.some(r=>r.component===t)){const r=this.displayedAreas.find(i=>i.component===t);this.displayedAreas.splice(this.displayedAreas.indexOf(r),1),this.build(!0,!0)}else if(this.hiddenAreas.some(r=>r.component===t)){const r=this.hiddenAreas.find(i=>i.component===t);this.hiddenAreas.splice(this.hiddenAreas.indexOf(r),1)}}updateArea(t,r,i){!0===t.visible&&this.build(r,i)}showArea(t){const r=this.hiddenAreas.find(s=>s.component===t);if(void 0===r)return;const i=this.hiddenAreas.splice(this.hiddenAreas.indexOf(r),1);this.displayedAreas.push(...i),this.build(!0,!0)}hideArea(t){const r=this.displayedAreas.find(s=>s.component===t);if(void 0===r)return;const i=this.displayedAreas.splice(this.displayedAreas.indexOf(r),1);i.forEach(s=>{s.order=0,s.size=0}),this.hiddenAreas.push(...i),this.build(!0,!0)}getVisibleAreaSizes(){return this.displayedAreas.map(t=>null===t.size?"*":t.size)}setVisibleAreaSizes(t){if(t.length!==this.displayedAreas.length)return!1;const r=t.map(s=>zu(s,null));return!1!==Vk(this.unit,r)&&(this.displayedAreas.forEach((s,a)=>s.component._size=r[a]),this.build(!1,!0),!0)}build(t,r){if(this.stopDragging(),!0===t&&(this.displayedAreas.every(i=>null!==i.component.order)&&this.displayedAreas.sort((i,s)=>i.component.order-s.component.order),this.displayedAreas.forEach((i,s)=>{i.order=2*s,i.component.setStyleOrder(i.order)})),!0===r){const i=Vk(this.unit,this.displayedAreas.map(s=>s.component.size));switch(this.unit){case"percent":{const s=100/this.displayedAreas.length;this.displayedAreas.forEach(a=>{a.size=i?a.component.size:s,a.minSize=qb(a),a.maxSize=Zb(a)});break}case"pixel":if(i)this.displayedAreas.forEach(s=>{s.size=s.component.size,s.minSize=qb(s),s.maxSize=Zb(s)});else{const s=this.displayedAreas.filter(a=>null===a.component.size);if(0===s.length&&this.displayedAreas.length>0)this.displayedAreas.forEach((a,u)=>{a.size=0===u?null:a.component.size,a.minSize=0===u?null:qb(a),a.maxSize=0===u?null:Zb(a)});else if(s.length>1){let a=!1;this.displayedAreas.forEach(u=>{null===u.component.size?!1===a?(u.size=null,u.minSize=null,u.maxSize=null,a=!0):(u.size=100,u.minSize=null,u.maxSize=null):(u.size=u.component.size,u.minSize=qb(u),u.maxSize=Zb(u))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}refreshStyleSizes(){if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{const t=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(r=>{r.component.setStyleFlex(0,0,`calc( ${r.size}% - ${r.size/100*t}px )`,null!==r.minSize&&r.minSize===r.size,null!==r.maxSize&&r.maxSize===r.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(t=>{null===t.size?t.component.setStyleFlex(1,1,1===this.displayedAreas.length?"100%":"auto",!1,!1):1===this.displayedAreas.length?t.component.setStyleFlex(0,0,"100%",!1,!1):t.component.setStyleFlex(0,0,`${t.size}px`,null!==t.minSize&&t.minSize===t.size,null!==t.maxSize&&t.maxSize===t.size)})}clickGutter(t,r){const i=Dg(t);this.startPoint&&Fk(this.startPoint,i,this.gutterClickDeltaPx)&&(!this.isDragging||this.isWaitingInitialMove)&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",r),this.stopDragging()):this._clickTimeout=window.setTimeout(()=>{this._clickTimeout=null,this.notify("click",r),this.stopDragging()},this.gutterDblClickDuration))}startKeyboardDrag(t,r,i){if(!0===this.disabled||!0===this.isWaitingClear)return;const s=function tG(n,e){if("horizontal"===e)switch(n.key){case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":break;default:return null}if("vertical"===e)switch(n.key){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":break;default:return null}const t=n.currentTarget,r="PageUp"===n.key||"PageDown"===n.key?500:50;let i=t.offsetLeft,s=t.offsetTop;switch(n.key){case"ArrowLeft":i-=r;break;case"ArrowRight":i+=r;break;case"ArrowUp":s-=r;break;case"ArrowDown":s+=r;break;case"PageUp":"vertical"===e?s-=r:i+=r;break;case"PageDown":"vertical"===e?s+=r:i-=r;break;default:return null}return{x:i,y:s}}(t,this.direction);null!==s&&(this.endPoint=s,this.startPoint=Dg(t),t.preventDefault(),t.stopPropagation(),this.setupForDragEvent(r,i),this.startDragging(),this.drag(),this.stopDragging())}startMouseDrag(t,r,i){t.preventDefault(),t.stopPropagation(),this.startPoint=Dg(t),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.setupForDragEvent(r,i),this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(()=>{this.dragListeners.push(this.renderer.listen("document","mousemove",this.mouseDragEvent.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchmove",this.mouseDragEvent.bind(this)))}),this.startDragging())}setupForDragEvent(t,r){this.snapshot={gutterNum:r,lastSteppedOffset:0,allAreasSizePixel:Bk(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(i=>{const s={area:i,sizePixelAtStart:Bk(i.component.elRef,this.direction),sizePercentAtStart:"percent"===this.unit?i.size:-1};i.order<t?!0===this.restrictMove?this.snapshot.areasBeforeGutter=[s]:this.snapshot.areasBeforeGutter.unshift(s):i.order>t&&(!0===this.restrictMove?0===this.snapshot.areasAfterGutter.length&&(this.snapshot.areasAfterGutter=[s]):this.snapshot.areasAfterGutter.push(s))}),this.snapshot.allInvolvedAreasSizePercent=[...this.snapshot.areasBeforeGutter,...this.snapshot.areasAfterGutter].reduce((i,s)=>i+s.sizePercentAtStart,0)}startDragging(){this.displayedAreas.forEach(t=>t.component.lockEvents()),this.isDragging=!0,this.isWaitingInitialMove=!0}mouseDragEvent(t){t.preventDefault(),t.stopPropagation();const r=Dg(t);null!==this._clickTimeout&&!Fk(this.startPoint,r,this.gutterClickDeltaPx)&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=Dg(t),null!==this.endPoint&&this.drag())}drag(){if(this.isWaitingInitialMove){if(this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y)return;this.ngZone.run(()=>{this.isWaitingInitialMove=!1,this.renderer.addClass(this.elRef.nativeElement,"as-dragging"),this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.notify("start",this.snapshot.gutterNum)})}let t="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&"horizontal"===this.direction&&(t=-t);const r=Math.round(t/this.gutterStep)*this.gutterStep;if(r===this.snapshot.lastSteppedOffset)return;this.snapshot.lastSteppedOffset=r;let i=tp(this.unit,this.snapshot.areasBeforeGutter,-r,this.snapshot.allAreasSizePixel),s=tp(this.unit,this.snapshot.areasAfterGutter,r,this.snapshot.allAreasSizePixel);if(0!==i.remain&&0!==s.remain?Math.abs(i.remain)===Math.abs(s.remain)||(Math.abs(i.remain)>Math.abs(s.remain)?s=tp(this.unit,this.snapshot.areasAfterGutter,r+i.remain,this.snapshot.allAreasSizePixel):i=tp(this.unit,this.snapshot.areasBeforeGutter,-(r-s.remain),this.snapshot.allAreasSizePixel)):0!==i.remain?s=tp(this.unit,this.snapshot.areasAfterGutter,r+i.remain,this.snapshot.allAreasSizePixel):0!==s.remain&&(i=tp(this.unit,this.snapshot.areasBeforeGutter,-(r-s.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){const a=[...i.list,...s.list],u=a.find(h=>0!==h.percentAfterAbsorption&&h.percentAfterAbsorption!==h.areaSnapshot.area.minSize&&h.percentAfterAbsorption!==h.areaSnapshot.area.maxSize);u&&(u.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-a.filter(h=>h!==u).reduce((h,g)=>h+g.percentAfterAbsorption,0))}i.list.forEach(a=>Hk(this.unit,a)),s.list.forEach(a=>Hk(this.unit,a)),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}stopDragging(t){if(t&&(t.preventDefault(),t.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(r=>r.component.unlockEvents());this.dragListeners.length>0;){const r=this.dragListeners.pop();r&&r()}this.isDragging=!1,!1===this.isWaitingInitialMove&&this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.startPoint=null,this.endPoint=null,this.isWaitingClear=!1})})}}notify(t,r){const i=this.getVisibleAreaSizes();"start"===t?this.dragStart.emit({gutterNum:r,sizes:i}):"end"===t?this.dragEnd.emit({gutterNum:r,sizes:i}):"click"===t?this.gutterClick.emit({gutterNum:r,sizes:i}):"dblclick"===t?this.gutterDblClick.emit({gutterNum:r,sizes:i}):"transitionEnd"===t?this.transitionEndSubscriber&&this.ngZone.run(()=>this.transitionEndSubscriber.next(i)):"progress"===t&&this.dragProgressSubject.next({gutterNum:r,sizes:i})}ngOnDestroy(){this.stopDragging()}collapseArea(t,r,i){const s=this.displayedAreas.find(h=>h.component===t);if(void 0===s)return;const a="right"===i?1:-1;s.sizeBeforeCollapse||(s.sizeBeforeCollapse=s.size,s.gutterBeforeCollapse=a),s.size=r;const u=this.gutterEls.find(h=>h.nativeElement.style.order===`${s.order+a}`);u&&this.renderer.addClass(u.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}expandArea(t){const r=this.displayedAreas.find(s=>s.component===t);if(void 0===r||!r.sizeBeforeCollapse)return;r.size=r.sizeBeforeCollapse,r.sizeBeforeCollapse=null;const i=this.gutterEls.find(s=>s.nativeElement.style.order===`${r.order+r.gutterBeforeCollapse}`);i&&this.renderer.removeClass(i.nativeElement,"as-split-gutter-collapsed"),this.updateArea(t,!1,!1)}getAriaAreaSizeText(t){return null===t?null:t.toFixed(0)+" "+this.unit}}return n.\u0275fac=function(t){return new(t||n)(ze(An),ze(Bn),ze(Ho),ze(ll),ze(sG,8))},n.\u0275cmp=si({type:n,selectors:[["as-split"]],viewQuery:function(t,r){if(1&t&&wi(ZU,5),2&t){let i;mr(i=gr())&&(r.gutterEls=i)}},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration",gutterClickDeltaPx:"gutterClickDeltaPx",gutterAriaLabel:"gutterAriaLabel"},outputs:{transitionEnd:"transitionEnd",dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick"},exportAs:["asSplit"],ngContentSelectors:eG,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["role","slider","tabindex","0","class","as-split-gutter",3,"flex-basis","order","keydown","mousedown","touchstart","mouseup","touchend",4,"ngIf"],["role","slider","tabindex","0",1,"as-split-gutter",3,"keydown","mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(t,r){1&t&&(oa(),Yr(0),er(1,JU,1,1,"ng-template",0)),2&t&&(un(1),Qt("ngForOf",r.displayedAreas))},dependencies:[bg,Vu],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{border:none;flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter.as-split-gutter-collapsed[_ngcontent-%COMP%]{flex-basis:1px!important;pointer-events:none}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%], .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area{transition:flex-basis .3s}"],changeDetection:0}),n})(),oG=(()=>{class n{set order(t){this._order=zu(t,null),this.split.updateArea(this,!0,!1)}get order(){return this._order}set size(t){this._size=zu(t,null),this.split.updateArea(this,!1,!0)}get size(){return this._size}set minSize(t){this._minSize=zu(t,null),this.split.updateArea(this,!1,!0)}get minSize(){return this._minSize}set maxSize(t){this._maxSize=zu(t,null),this.split.updateArea(this,!1,!0)}get maxSize(){return this._maxSize}set lockSize(t){this._lockSize=Mg(t),this.split.updateArea(this,!1,!0)}get lockSize(){return this._lockSize}set visible(t){this._visible=Mg(t),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}get visible(){return this._visible}constructor(t,r,i,s){this.ngZone=t,this.elRef=r,this.renderer=i,this.split=s,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}ngOnInit(){this.split.addArea(this),this.ngZone.runOutsideAngular(()=>{this.transitionListener=this.renderer.listen(this.elRef.nativeElement,"transitionend",t=>{"flex-basis"===t.propertyName&&this.split.notify("transitionEnd",-1)})})}setStyleOrder(t){this.renderer.setStyle(this.elRef.nativeElement,"order",t)}setStyleFlex(t,r,i,s,a){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",t),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",r),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",i),!0===s?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===a?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}lockEvents(){this.ngZone.runOutsideAngular(()=>{this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"selectstart",()=>!1)),this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"dragstart",()=>!1))})}unlockEvents(){for(;this.lockListeners.length>0;){const t=this.lockListeners.pop();t&&t()}}ngOnDestroy(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}collapse(t=0,r="right"){this.split.collapseArea(this,t,r)}expand(){this.split.expandArea(this)}}return n.\u0275fac=function(t){return new(t||n)(ze(An),ze(Bn),ze(ll),ze(zk))},n.\u0275dir=en({type:n,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),n})(),aG=(()=>{class n{static forRoot(){return console.warn("AngularSplitModule.forRoot() is deprecated and will be removed in v6"),{ngModule:n,providers:[]}}static forChild(){return console.warn("AngularSplitModule.forChild() is deprecated and will be removed in v6"),{ngModule:n,providers:[]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[ka]}),n})();class y1{constructor(){this.displayContextMenu=!0,this.graph=new lG,this.contextMenuCommands=new cG,this.individualCSS={"background-color":"rgb(64,153,218)",color:"#333","border-color":"#bbb","border-width":3,"border-opacity":.5},this.classNodeCSS={"background-color":"rgb(238, 75, 43)",color:"#333"},this.literalNodeCSS={"background-color":"white",color:"#333",opacity:1,width:"data(width)",shape:"rectangle","border-color":"#bbb","border-width":3,"border-opacity":.5}}}class lG{constructor(){this.scale=100,this.layout=Tg.COSE_BILKENT,this.randomize=!0,this.animation="end",this.animationDuration=500,this.nodeRepulsion=4500,this.idealEdgeLength=200}}var Tg=(()=>{return(n=Tg||(Tg={})).BREADTHFIRST="breadthfirst",n.CIRCLE="circle",n.CONCENTRIC="concentric",n.COSE_BILKENT="cose-bilkent",n.DAGRE="dagre",n.GRID="grid",Tg;var n})();class cG{constructor(){this.nodes=[{id:"copyURI",visible:!0,enabled:!0,label:"Copy"},{id:"search",visible:!0,enabled:!0,label:"Search"},{id:"focus",visible:!0,enabled:!0,label:"Focus"},{id:"expandInbound",visible:!0,enabled:!0,label:"+inbound"},{id:"expandOutbound",visible:!0,enabled:!0,label:"+outbound"}],this.edges=[{id:"copyURI",visible:!0,enabled:!0,label:"Copy"},{id:"search",visible:!0,enabled:!0,label:"Search"}],this.canvas=[]}}class uG{constructor(e,t,r){this.resourceURI=e,this.commandId=t,this.contextCategory=r}}var np=(()=>{return(n=np||(np={})).CANVAS="CANVAS",n.EDGE="EDGE",n.NODE="NODE",np;var n})();let b1;try{b1=typeof Intl<"u"&&Intl.v8BreakIterator}catch{b1=!1}let Ag,Qb,ph,_1,Cs=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function V8(n){return n===mk}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!b1)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(xt(ME))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ip(n){return function dG(){if(null==Ag&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ag=!0}))}finally{Ag=Ag||!1}return Ag}()?n:!!n.capture}function Uk(){if(null==ph){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ph=!1,ph;if("scrollBehavior"in document.documentElement.style)ph=!0;else{const n=Element.prototype.scrollTo;ph=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ph}function Ig(){if("object"!=typeof document||!document)return 0;if(null==Qb){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Qb=0,0===n.scrollLeft&&(n.scrollLeft=1,Qb=0===n.scrollLeft?1:2),n.remove()}return Qb}function ju(n){return n.composedPath?n.composedPath()[0]:n.target}function x1(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class Gk extends Te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Uu(...n){return Sl(n,Cl(n))}function sp(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Jb(n,e,t){const r=_(n)||e||t?{next:n,error:e,complete:t}:n;return r?Be((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let u=!0;i.subscribe(Fe(s,h=>{var g;null===(g=r.next)||void 0===g||g.call(r,h),s.next(h)},()=>{var h;u=!1,null===(h=r.complete)||void 0===h||h.call(r),s.complete()},h=>{var g;u=!1,null===(g=r.error)||void 0===g||g.call(r,h),s.error(h)},()=>{var h,g;u&&(null===(h=r.unsubscribe)||void 0===h||h.call(r)),null===(g=r.finalize)||void 0===g||g.call(r)}))}):fe}function op(n,e){return Be((t,r)=>{let i=0;t.subscribe(Fe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Kk(n){return op((e,t)=>n<=t)}function qk(n,e=fe){return n=n??MG,Be((t,r)=>{let i,s=!0;t.subscribe(Fe(r,a=>{const u=e(a);(s||!n(i,u))&&(s=!1,i=u,r.next(a))}))})}function MG(n,e){return n===e}function Oi(n){return Be((e,t)=>{is(n).subscribe(Fe(t,()=>t.complete(),L)),!t.closed&&e.subscribe(t)})}function ti(n){return null!=n&&"false"!=`${n}`}function Js(n,e=0){return function TG(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function e0(n){return Array.isArray(n)?n:[n]}function Ji(n){return null==n?"":"string"==typeof n?n:`${n}px`}function mh(n){return n instanceof Bn?n.nativeElement:n}let Zk=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AG=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=mh(t);return new _e(i=>{const a=this._observeElement(r).subscribe(i);return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Te,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(xt(Zk))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IG=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=ti(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Js(t),this._subscribe()}constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new Wn,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Sg(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(ze(AG),ze(Bn),ze(An))},n.\u0275dir=en({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({providers:[Zk]}),n})();const{isArray:kG}=Array,{getPrototypeOf:OG,prototype:RG,keys:PG}=Object;function Jk(n){if(1===n.length){const e=n[0];if(kG(e))return{args:e,keys:null};if(function NG(n){return n&&"object"==typeof n&&OG(n)===RG}(e)){const t=PG(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:LG}=Array;function D1(n){return Ne(e=>function FG(n,e){return LG(e)?n(...e):n(e)}(n,e))}function eO(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function tO(n,e,t){n?To(t,n,e):e()}function M1(...n){return function HG(){return ru(1)}()(Sl(n,Cl(n)))}function gh(n){return n<=0?()=>Br:Be((e,t)=>{let r=0;e.subscribe(Fe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function t0(...n){const e=Cl(n);return Be((t,r)=>{(e?M1(n,t,e):M1(n,t)).subscribe(r)})}const nO=new Set;let ap,zG=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):UG}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function jG(n){if(!nO.has(n))try{ap||(ap=document.createElement("style"),ap.setAttribute("type","text/css"),document.head.appendChild(ap)),ap.sheet&&(ap.sheet.insertRule(`@media ${n} {body{ }}`,0),nO.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(xt(Cs))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UG(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let GG=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Te}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return rO(e0(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=function BG(...n){const e=Cl(n),t=$h(n),{args:r,keys:i}=Jk(n);if(0===r.length)return Sl([],e);const s=new _e(function VG(n,e,t=fe){return r=>{tO(e,()=>{const{length:i}=n,s=new Array(i);let a=i,u=i;for(let h=0;h<i;h++)tO(e,()=>{const g=Sl(n[h],e);let y=!1;g.subscribe(Fe(r,O=>{s[h]=O,y||(y=!0,u--),u||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,e,i?a=>eO(i,a):fe));return t?s.pipe(D1(t)):s}(rO(e0(t)).map(a=>this._registerQuery(a).observable));return s=M1(s.pipe(gh(1)),s.pipe(Kk(1),Sg(0))),s.pipe(Ne(a=>{const u={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:g})=>{u.matches=u.matches||h,u.breakpoints[g]=h}),u}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new _e(a=>{const u=h=>this._zone.run(()=>a.next(h));return r.addListener(u),()=>{r.removeListener(u)}}).pipe(t0(r),Ne(({matches:a})=>({query:t,matches:a})),Oi(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(xt(zG),xt(An))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rO(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function n0(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const sO="cdk-describedby-message",r0="cdk-describedby-host";let T1=0,YG=(()=>{class n{constructor(t,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+T1++,this._document=t,this._id=Xo(Ab)+"-"+T1++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const s=A1(r,i);"string"!=typeof r?(oO(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const s=A1(r,i);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof r){const a=this._messageRegistry.get(s);a&&0===a.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${r0}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(r0);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");oO(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(A1(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=n0(t,"aria-describedby").filter(i=>0!=i.indexOf(sO));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function $G(n,e,t){const r=n0(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(r0,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function WG(n,e,t){const i=n0(n,e).filter(s=>s!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(r0)}_isElementDescribedByMessage(t,r){const i=n0(t,"aria-describedby"),s=this._messageRegistry.get(r),a=s&&s.messageElement.id;return!!a&&-1!=i.indexOf(a)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),s=t.getAttribute("aria-label");return!(!i||s&&s.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(xt(tr),xt(Cs))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A1(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function oO(n,e){n.id||(n.id=`${sO}-${e}-${T1++}`)}class XG{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Te,this._typeaheadSubscription=C.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Te,this.change=new Te,e instanceof fg&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Jb(t=>this._pressedLetters.push(t)),Sg(e),op(()=>this._pressedLetters.length>0),Ne(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,a=r[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(s<a?s:a-1,-1);break}return;default:return void((i||sp(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof fg?this._items.toArray():this._items}}class KG extends XG{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function lO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function cO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const t6=new Lt("cdk-input-modality-detector-options"),n6={ignoreKeys:[18,17,224,91,16]},lp=ip({passive:!0,capture:!0});let r6=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Gk(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(u=>u===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ju(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lO(a)?"keyboard":"mouse"),this._mostRecentTarget=ju(a))},this._onTouchstart=a=>{cO(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ju(a))},this._options={...n6,...s},this.modalityDetected=this._modality.pipe(Kk(1)),this.modalityChanged=this.modalityDetected.pipe(qk()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,lp),i.addEventListener("mousedown",this._onMousedown,lp),i.addEventListener("touchstart",this._onTouchstart,lp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,lp),document.removeEventListener("mousedown",this._onMousedown,lp),document.removeEventListener("touchstart",this._onTouchstart,lp))}}return n.\u0275fac=function(t){return new(t||n)(xt(Cs),xt(An),xt(tr),xt(t6,8))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const i6=new Lt("liveAnnouncerElement",{providedIn:"root",factory:function s6(){return null}}),o6=new Lt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let a6=0,l6=(()=>{class n{constructor(t,r,i,s){this._ngZone=r,this._defaultOptions=s,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let s,a;return 1===r.length&&"number"==typeof r[0]?a=r[0]:[s,a]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),null==a&&i&&(a=i.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+a6++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const s=r[i],a=s.getAttribute("aria-owns");a?-1===a.indexOf(t)&&s.setAttribute("aria-owns",a+" "+t):s.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(xt(i6,8),xt(An),xt(tr),xt(o6,8))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const c6=new Lt("cdk-focus-monitor-default-options"),s0=ip({passive:!0,capture:!0});let I1=(()=>{class n{constructor(t,r,i,s,a){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Te,this._rootNodeFocusAndBlurListener=u=>{for(let g=ju(u);g;g=g.parentElement)"focus"===u.type?this._onFocus(u,g):this._onBlur(u,g)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(t,r=!1){const i=mh(t);if(!this._platform.isBrowser||1!==i.nodeType)return Uu(null);const s=function fG(n){if(function hG(){if(null==_1){const n=typeof document<"u"?document.head:null;_1=!(!n||!n.createShadowRoot&&!n.attachShadow)}return _1}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),a=this._elementInfo.get(i);if(a)return r&&(a.checkChildren=!0),a.subject;const u={checkChildren:r,subject:new Te,rootNode:s};return this._elementInfo.set(i,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(t){const r=mh(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=mh(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,h])=>this._originChanged(u,r,h)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=ju(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,s0),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,s0)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Oi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,s0),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,s0),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(xt(An),xt(Cs),xt(r6),xt(tr,8),xt(c6,8))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dO="cdk-high-contrast-black-on-white",hO="cdk-high-contrast-white-on-black",k1="cdk-high-contrast-active";let fO=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=Xo(GG).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(k1,dO,hO),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(k1,dO):2===r&&t.add(k1,hO)}}}return n.\u0275fac=function(t){return new(t||n)(xt(Cs),xt(tr))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u6=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(xt(fO))},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[Qk]}),n})();const d6=new Lt("cdk-dir-doc",{providedIn:"root",factory:function h6(){return Xo(tr)}}),f6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Wc=(()=>{class n{constructor(t){this.value="ltr",this.change=new Wn,t&&(this.value=function p6(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?f6.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(xt(d6,8))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({}),n})();const m6=["text"];function g6(n,e){if(1&n&&kr(0,"mat-pseudo-checkbox",6),2&n){const t=Hn();Qt("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function v6(n,e){1&n&&kr(0,"mat-pseudo-checkbox",7),2&n&&Qt("disabled",Hn().disabled)}function y6(n,e){if(1&n&&(on(0,"span",8),Qs(1),pn()),2&n){const t=Hn();un(1),ig("(",t.group.label,")")}}const b6=[[["mat-icon"]],"*"],_6=["mat-icon","*"],w6=new Lt("mat-sanity-checks",{providedIn:"root",factory:function x6(){return!0}});let Vi=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!x1()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(xt(fO),xt(w6,8),xt(tr))},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[kg,kg]}),n})();function O1(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=ti(e)}constructor(...e){super(...e),this._disabled=!1}}}function Og(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function o0(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ti(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function gO(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Js(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function E6(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let S6=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class D6{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const vO=ip({passive:!0,capture:!0});class M6{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ju(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const a=s.get(r);a?a.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,vO)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,vO)))}}const yO={enterDuration:225,exitDuration:150},bO=ip({passive:!0,capture:!0}),_O=["mousedown","touchstart"],xO=["mouseup","mouseleave","touchend","touchcancel"];class Pg{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=mh(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...yO,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const a=r.radius||function A6(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),u=e-i.left,h=t-i.top,g=s.enterDuration,y=document.createElement("div");y.classList.add("mat-ripple-element"),y.style.left=u-a+"px",y.style.top=h-a+"px",y.style.height=2*a+"px",y.style.width=2*a+"px",null!=r.color&&(y.style.backgroundColor=r.color),y.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(y);const O=window.getComputedStyle(y),K=O.transitionDuration,re="none"===O.transitionProperty||"0s"===K||"0s, 0s"===K||0===i.width&&0===i.height,he=new D6(this,y,r,re);y.style.transform="scale3d(1, 1, 1)",he.state=0,r.persistent||(this._mostRecentTransientRipple=he);let xe=null;return!re&&(g||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Pe=()=>this._finishRippleTransition(he),Je=()=>this._destroyRipple(he);y.addEventListener("transitionend",Pe),y.addEventListener("transitioncancel",Je),xe={onTransitionEnd:Pe,onTransitionCancel:Je}}),this._activeRipples.set(he,xe),(re||!g)&&this._finishRippleTransition(he),he}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...yO,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=mh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,_O.forEach(r=>{Pg._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{xO.forEach(t=>{this._triggerElement.addEventListener(t,this,bO)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=lO(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!cO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(_O.forEach(t=>Pg._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&xO.forEach(t=>e.removeEventListener(t,this,bO)))}}Pg._eventManager=new M6;const wO=new Lt("mat-ripple-global-options");let vh=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,s,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Pg(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(An),ze(Cs),ze(wO,8),ze(Ta,8))},n.\u0275dir=en({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Qr("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),a0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[Vi,Vi]}),n})(),I6=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(t){return new(t||n)(ze(Ta,8))},n.\u0275cmp=si({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(t,r){2&t&&Qr("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),k6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[Vi]}),n})();const EO=new Lt("MAT_OPTION_PARENT_COMPONENT"),CO=new Lt("MatOptgroup");let O6=0;class R6{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let P6=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=ti(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,r,i,s){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+O6++,this.onSelectionChange=new Wn,this._stateChanges=new Te}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!sp(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new R6(this,t))}}return n.\u0275fac=function(t){Zm()},n.\u0275dir=en({type:n,viewQuery:function(t,r){if(1&t&&wi(m6,7),2&t){let i;mr(i=gr())&&(r._text=i.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),SO=(()=>{class n extends P6{constructor(t,r,i,s){super(t,r,i,s)}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(Ho),ze(EO,8),ze(CO,8))},n.\u0275cmp=si({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mat-mdc-focus-indicator","mdc-list-item"],hostVars:12,hostBindings:function(t,r){1&t&&or("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&t&&(sg("id",r.id),mi("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),Qr("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[Pn],ngContentSelectors:_6,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(oa(b6),er(0,g6,1,2,"mat-pseudo-checkbox",0),Yr(1),on(2,"span",1,2),Yr(4,1),pn(),er(5,v6,1,1,"mat-pseudo-checkbox",3),er(6,y6,2,1,"span",4),kr(7,"div",5)),2&t&&(Qt("ngIf",r.multiple),un(5),Qt("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),un(1),Qt("ngIf",r.group&&r.group._inert),un(1),Qt("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[vh,Vu,I6],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[a0,ka,Vi,k6]}),n})();function MO(...n){const e=$h(n),{args:t,keys:r}=Jk(n),i=new _e(s=>{const{length:a}=t;if(!a)return void s.complete();const u=new Array(a);let h=a,g=a;for(let y=0;y<a;y++){let O=!1;is(t[y]).subscribe(Fe(s,$=>{O||(O=!0,g--),u[y]=$},()=>h--,void 0,()=>{(!h||!O)&&(g||s.next(r?eO(r,u):u),s.complete())}))}});return e?i.pipe(D1(e)):i}function TO(n){return Be((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Fe(t,void 0,void 0,a=>{s=is(n(a,TO(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}class R1{}class Gu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Gu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Gu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Gu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(u=>-1===s.indexOf(u)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class H6{encodeKey(e){return IO(e)}encodeValue(e){return IO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const j6=/%(\d[a-f0-9])/gi,U6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function IO(n){return encodeURIComponent(n).replace(j6,(e,t)=>U6[t]??e)}function l0(n){return`${n}`}class $u{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new H6,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function z6(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[a,u]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],h=t.get(a)||[];h.push(u),t.set(a,h)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(l0):[l0(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new $u({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(l0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(l0(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class G6{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function kO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function OO(n){return typeof Blob<"u"&&n instanceof Blob}function RO(n){return typeof FormData<"u"&&n instanceof FormData}class Ng{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $6(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Gu),this.context||(this.context=new G6),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const u=t.indexOf("?");this.urlWithParams=t+(-1===u?"?":u<t.length-1?"&":"")+a}}else this.params=new $u,this.urlWithParams=t}serializeBody(){return null===this.body?null:kO(this.body)||OO(this.body)||RO(this.body)||function W6(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $u?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||RO(this.body)?null:OO(this.body)?this.body.type||null:kO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $u?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let h=e.headers||this.headers,g=e.params||this.params;const y=e.context??this.context;return void 0!==e.setHeaders&&(h=Object.keys(e.setHeaders).reduce((O,$)=>O.set($,e.setHeaders[$]),h)),e.setParams&&(g=Object.keys(e.setParams).reduce((O,$)=>O.set($,e.setParams[$]),g)),new Ng(t,r,s,{params:g,headers:h,context:y,reportProgress:u,responseType:i,withCredentials:a})}}var Fs=(()=>((Fs=Fs||{})[Fs.Sent=0]="Sent",Fs[Fs.UploadProgress=1]="UploadProgress",Fs[Fs.ResponseHeader=2]="ResponseHeader",Fs[Fs.DownloadProgress=3]="DownloadProgress",Fs[Fs.Response=4]="Response",Fs[Fs.User=5]="User",Fs))();class Y6{constructor(e,t=200,r="OK"){this.headers=e.headers||new Gu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class P1 extends Y6{constructor(e={}){super(e),this.type=Fs.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new P1({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function N1(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let L1=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Ng)s=t;else{let h,g;h=i.headers instanceof Gu?i.headers:new Gu(i.headers),i.params&&(g=i.params instanceof $u?i.params:new $u({fromObject:i.params})),s=new Ng(t,r,void 0!==i.body?i.body:null,{headers:h,context:i.context,params:g,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const a=Uu(s).pipe(function V6(n,e){return _(e)?$a(n,e,1):$a(n,1)}(h=>this.handler.handle(h)));if(t instanceof Ng||"events"===i.observe)return a;const u=a.pipe(op(h=>h instanceof P1));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(Ne(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return u.pipe(Ne(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return u.pipe(Ne(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return u.pipe(Ne(h=>h.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new $u).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,N1(i,r))}post(t,r,i={}){return this.request("POST",t,N1(i,r))}put(t,r,i={}){return this.request("PUT",t,N1(i,r))}}return n.\u0275fac=function(t){return new(t||n)(xt(R1))},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})();const o9=["*"];let u0;function Lg(n){return function a9(){if(void 0===u0&&(u0=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(u0=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return u0}()?.createHTML(n)||n}function zO(n){return Error(`Unable to find icon with the name "${n}"`)}function jO(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function UO(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class yh{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let d0=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new yh(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const a=this._sanitizer.sanitize(rt.HTML,i);if(!a)throw UO(i);const u=Lg(a);return this._addSvgIconConfig(t,r,new yh("",u,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new yh(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(rt.HTML,r);if(!s)throw UO(r);const a=Lg(s);return this._addSvgIconSetConfig(t,new yh("",a,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(rt.RESOURCE_URL,t);if(!r)throw jO(t);const i=this._cachedIconsByUrl.get(r);return i?Uu(h0(i)):this._loadSvgIconFromConfig(new yh(t,null)).pipe(Jb(s=>this._cachedIconsByUrl.set(r,s)),Ne(s=>h0(s)))}getNamedSvgIcon(t,r=""){const i=GO(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(t,a):function F6(n,e){const t=_(n)?n:()=>n,r=i=>i.error(t());return new _e(e?i=>e.schedule(r,0,i):r)}(zO(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Uu(h0(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Ne(r=>h0(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Uu(i):MO(r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(TO(u=>{const g=`Loading icon set URL: ${this._sanitizer.sanitize(rt.RESOURCE_URL,a.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(g)),Uu(null)})))).pipe(Ne(()=>{const a=this._extractIconWithNameFromAnySet(t,r);if(!a)throw zO(t);return a}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const a=this._svgElementFromConfig(s),u=this._extractSvgIconFromSet(a,t,s.options);if(u)return u}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Jb(r=>t.svgText=r),Ne(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Uu(null):this._fetchIcon(t).pipe(Jb(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,i);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),i);const u=this._svgElementFromString(Lg("<svg></svg>"));return u.appendChild(a),this._setSvgAttributes(u,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Lg("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:a,value:u}=i[s];"id"!==a&&r.setAttribute(a,u)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function l9(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(rt.RESOURCE_URL,r);if(!a)throw jO(r);const u=this._inProgressUrlFetches.get(a);if(u)return u;const h=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(Ne(g=>Lg(g)),function B6(n){return Be((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>this._inProgressUrlFetches.delete(a)),Wa());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(GO(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return u9(s)?new yh(s.url,null,s.options):new yh(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(xt(L1,8),xt(p1),xt(tr,8),xt(Sa))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function h0(n){return n.cloneNode(!0)}function GO(n,e){return n+":"+e}function u9(n){return!(!n.url||!n.options)}const d9=Og(class{constructor(n){this._elementRef=n}}),h9=new Lt("MAT_ICON_DEFAULT_OPTIONS"),f9=new Lt("mat-icon-location",{providedIn:"root",factory:function p9(){const n=Xo(tr),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),$O=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],m9=$O.map(n=>`[${n}]`).join(", "),g9=/^url\(['"]?#(.*?)['"]?\)$/;let WO=(()=>{class n extends d9{get inline(){return this._inline}set inline(t){this._inline=ti(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,s,a,u){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=C.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(a=>{s.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(m9),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)$O.forEach(a=>{const u=r[s],h=u.getAttribute(a),g=h?h.match(g9):null;if(g){let y=i.get(u);y||(y=[],i.set(u,y)),y.push({name:a,value:g[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(gh(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(d0),xu("aria-hidden"),ze(f9),ze(Sa),ze(h9,8))},n.\u0275cmp=si({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(mi("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Qr("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Pn],ngContentSelectors:o9,decls:1,vars:0,template:function(t,r){1&t&&(oa(),Yr(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),B1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[Vi,Vi]}),n})(),v9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[ka,B1]}),n})();const V1=new y1;V1.contextMenuCommands.nodes=[{id:"copyURI",visible:!0,enabled:!0,label:"Copy"}],V1.contextMenuCommands.edges=[{id:"copyURI",visible:!0,enabled:!0,label:"Copy"}];const aa=new Lt("NgValueAccessor"),w9=!1;function Wu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function KO(n){return null!=n&&"number"==typeof n.length}const Bs=new Lt("NgValidators"),Yu=new Lt("NgAsyncValidators"),E9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class C9{static min(e){return function qO(n){return e=>{if(Wu(e.value)||Wu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function ZO(n){return e=>{if(Wu(e.value)||Wu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function QO(n){return Wu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function JO(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function eR(n){return Wu(n.value)||E9.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function tR(n){return e=>Wu(e.value)||!KO(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function nR(n){return e=>KO(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function rR(n){if(!n)return f0;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Wu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return cR(e)}static composeAsync(e){return uR(e)}}function f0(n){return null}function iR(n){return null!=n}function sR(n){const e=yb(n)?Sl(n):n;if(w9&&!dT(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new Ze(-1101,t)}return e}function oR(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function aR(n,e){return e.map(t=>t(n))}function lR(n){return n.map(e=>function S9(n){return!n.validate}(e)?e:t=>e.validate(t))}function cR(n){if(!n)return null;const e=n.filter(iR);return 0==e.length?null:function(t){return oR(aR(t,e))}}function z1(n){return null!=n?cR(lR(n)):null}function uR(n){if(!n)return null;const e=n.filter(iR);return 0==e.length?null:function(t){return MO(aR(t,e).map(sR)).pipe(Ne(oR))}}function j1(n){return null!=n?uR(lR(n)):null}function dR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function hR(n){return n._rawValidators}function fR(n){return n._rawAsyncValidators}function U1(n){return n?Array.isArray(n)?n:[n]:[]}function p0(n,e){return Array.isArray(n)?n.includes(e):n===e}function pR(n,e){const t=U1(e);return U1(n).forEach(i=>{p0(t,i)||t.push(i)}),t}function mR(n,e){return U1(e).filter(t=>!p0(n,t))}class gR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=z1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=j1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class bo extends gR{get formDirective(){return null}get path(){return null}}class Yc extends gR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}function yR(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const W1=!1,Fg="VALID",g0="INVALID",dp="PENDING",Bg="DISABLED";function Y1(n){return(v0(n)?n.validators:n)||null}function X1(n,e){return(v0(e)?e.asyncValidators:n)||null}function v0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class xR{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fg}get invalid(){return this.status===g0}get pending(){return this.status==dp}get disabled(){return this.status===Bg}get enabled(){return this.status!==Bg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mR(e,this._rawAsyncValidators))}hasValidator(e){return p0(this._rawValidators,e)}hasAsyncValidator(e){return p0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=dp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fg||this.status===dp)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bg:Fg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=dp,this._hasOwnPendingAsyncValidator=!0;const t=sR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Wn,this.statusChanges=new Wn}_calculateStatus(){return this._allControlsDisabled()?Bg:this.errors?g0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dp)?dp:this._anyControlsHaveStatus(g0)?g0:Fg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){v0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function P9(n){return Array.isArray(n)?z1(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function N9(n){return Array.isArray(n)?j1(n):n||null}(this._rawAsyncValidators)}}class K1 extends xR{constructor(e,t,r){super(Y1(t),X1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function _R(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new Ze(1002,W1?function R9(n,e){return`Must supply a value for form control ${yR(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function bR(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ze(1e3,W1?function k9(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new Ze(1001,W1?function O9(n,e){return`Cannot find form control ${yR(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const hp=new Lt("CallSetDisabledState",{providedIn:"root",factory:()=>y0}),y0="always";function Vg(n,e,t=y0){q1(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function B9(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&wR(n,e)})}(n,e),function H9(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function V9(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&wR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function F9(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function _0(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),w0(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function x0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function q1(n,e){const t=hR(n);null!==e.validator?n.setValidators(dR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=fR(n);null!==e.asyncValidator?n.setAsyncValidators(dR(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();x0(e._rawValidators,i),x0(e._rawAsyncValidators,i)}function w0(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=hR(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(a=>a!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=fR(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(a=>a!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return x0(e._rawValidators,r),x0(e._rawAsyncValidators,r),t}function wR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ER(n,e){q1(n,e)}function CR(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const $9={provide:bo,useExisting:ct(()=>E0)},Hg=(()=>Promise.resolve())();let E0=(()=>{class n extends bo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Wn,this.form=new K1({},z1(t),j1(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hg.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Vg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hg.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Hg.then(()=>{const r=this._findContainer(t.path),i=new K1({});ER(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hg.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Hg.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,CR(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(ze(Bs,10),ze(Yu,10),ze(hp,8))},n.\u0275dir=en({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&or("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ar([$9]),Pn]}),n})();function SR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function DR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const MR=class extends xR{constructor(e=null,t,r){super(Y1(t),X1(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),v0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=DR(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){DR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let RR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({}),n})();const t$={provide:bo,useExisting:ct(()=>C0)};let C0=(()=>{class n extends bo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Wn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(w0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Vg(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){_0(t.control||null,t,!1),function G9(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,CR(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(_0(r||null,t),(n=>n instanceof MR)(i)&&(Vg(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);ER(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function z9(n,e){return w0(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){q1(this.form,this),this._oldForm&&w0(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(ze(Bs,10),ze(Yu,10),ze(hp,8))},n.\u0275dir=en({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&or("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ar([t$]),Pn,Gn]}),n})(),b$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[RR]}),n})(),x$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:hp,useValue:t.callSetDisabledState??y0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[b$]}),n})();const w$=["knob"],E$=["valueIndicatorContainer"];function C$(n,e){if(1&n&&(on(0,"div",4,5)(2,"div",6)(3,"span",7),Qs(4),pn()()()),2&n){const t=Hn();un(4),Uc(t.valueIndicatorText)}}const S$=["trackActive"];function D$(n,e){if(1&n&&kr(0,"div"),2&n){const t=e.$implicit,r=e.index,i=Hn(3);(function OT(n){hl(Ks,Zl,n,!0)})(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),jc("transform",i._calcTickMarkTransform(r))}}function M$(n,e){if(1&n&&(gb(0),er(1,D$,1,4,"div",11),vb()),2&n){const t=Hn(2);un(1),Qt("ngForOf",t._tickMarks)}}function T$(n,e){if(1&n&&(on(0,"div",8,9),er(2,M$,2,1,"ng-container",10),pn()),2&n){const t=Hn();un(2),Qt("ngIf",t._cachedWidth)}}function A$(n,e){if(1&n&&kr(0,"mat-slider-visual-thumb",7),2&n){const t=Hn();Qt("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}const I$=["*"],S0=new Lt("_MatSlider"),qR=new Lt("_MatSliderThumb"),ZR=new Lt("_MatSliderRangeThumb"),QR=new Lt("_MatSliderVisualThumb");let k$=(()=>{class n{constructor(t,r,i,s){this._cdr=t,this._ngZone=r,this._slider=s,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=a=>{if(this._sliderInput._isFocused)return;const u=this._hostElement.getBoundingClientRect(),h=this._isSliderThumbHovered(a,u);this._isHovered=h,h?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=()=>{this._isActive=!0,this._showActiveRipple()},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=i.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return 0===t?.state||1===t?.state}_showRipple(t,r){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||r))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const r=this._getSibling();r._isShowingAnyRipple()||(this._hideValueIndicator(),r._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}_isSliderThumbHovered(t,r){const i=r.width/2,h=t.clientY-(r.y+i);return Math.pow(t.clientX-(r.x+i),2)+Math.pow(h,2)<Math.pow(i,2)}}return n.\u0275fac=function(t){return new(t||n)(ze(Ho),ze(An),ze(Bn),ze(S0))},n.\u0275cmp=si({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(t,r){if(1&t&&(wi(vh,5),wi(w$,5),wi(E$,5)),2&t){let i;mr(i=gr())&&(r._ripple=i.first),mr(i=gr())&&(r._knob=i.first),mr(i=gr())&&(r._valueIndicatorContainer=i.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Ar([{provide:QR,useExisting:n}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(t,r){1&t&&(er(0,C$,5,1,"div",0),kr(1,"div",1,2)(3,"div",3)),2&t&&(Qt("ngIf",r.discrete),un(3),Qt("matRippleDisabled",!0))},dependencies:[Vu,vh],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),n})();const O$=Og(o0(class{constructor(n){this._elementRef=n}}),"primary");let R$=(()=>{class n extends O${get disabled(){return this._disabled}set disabled(t){this._disabled=ti(t);const r=this._getInput(2),i=this._getInput(1);r&&(r.disabled=this._disabled),i&&(i.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=ti(t),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(t){this._showTickMarks=ti(t)}get min(){return this._min}set min(t){const r=Js(t,this._min);this._min!==r&&this._updateMin(r)}_updateMin(t){const r=this._min;this._min=t,this._isRange?this._updateMinRange({old:r,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const r=this._getInput(2),i=this._getInput(1),s=r.value,a=i.value;i.min=t.new,r.min=Math.max(t.new,i.value),i.max=Math.min(r.max,r.value),i._updateWidthInactive(),r._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),s!==r.value&&this._onValueChange(r),a!==i.value&&this._onValueChange(i)}_updateMinNonRange(t){const r=this._getInput(2);if(r){const i=r.value;r.min=t,r._updateThumbUIByValue(),this._updateTrackUI(r),i!==r.value&&this._onValueChange(r)}}get max(){return this._max}set max(t){const r=Js(t,this._max);this._max!==r&&this._updateMax(r)}_updateMax(t){const r=this._max;this._max=t,this._isRange?this._updateMaxRange({old:r,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const r=this._getInput(2),i=this._getInput(1),s=r.value,a=i.value;r.max=t.new,i.max=Math.min(t.new,r.value),r.min=i.value,r._updateWidthInactive(),i._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),s!==r.value&&this._onValueChange(r),a!==i.value&&this._onValueChange(i)}_updateMaxNonRange(t){const r=this._getInput(2);if(r){const i=r.value;r.max=t,r._updateThumbUIByValue(),this._updateTrackUI(r),i!==r.value&&this._onValueChange(r)}}get step(){return this._step}set step(t){const r=Js(t,this._step);this._step!==r&&this._updateStep(r)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(2),r=this._getInput(1),i=t.value,s=r.value,a=r.value;t.min=this._min,r.max=this._max,t.step=this._step,r.step=this._step,this._platform.SAFARI&&(t.value=t.value,r.value=r.value),t.min=Math.max(this._min,r.value),r.max=Math.min(this._max,t.value),r._updateWidthInactive(),t._updateWidthInactive(),t.value<a?this._onTranslateXChangeBySideEffect(r,t):this._onTranslateXChangeBySideEffect(t,r),i!==t.value&&this._onValueChange(t),s!==r.value&&this._onValueChange(r)}_updateStepNonRange(){const t=this._getInput(2);if(t){const r=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),r!==t.value&&this._onValueChange(t)}}constructor(t,r,i,s,a,u,h){super(s),this._ngZone=t,this._cdr=r,this._platform=i,this._dir=a,this._globalRippleOptions=u,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=0,this.displayWith=g=>`${g}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===h,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(2),r=this._getInput(1);this._isRange=!!t&&!!r,this._cdr.detectChanges();const i=this._getThumb(2);this._rippleRadius=i._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(t,r):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,r){t.initProps(),t.initUI(),r.initProps(),r.initUI(),t._updateMinMax(),r._updateMinMax(),t._updateStaticStyles(),r._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),r._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(2),r=this._getInput(1);t._setIsLeftThumb(),r._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),r.translateX=r._calcTranslateXByValue(),t._updateStaticStyles(),r._updateStaticStyles(),t._updateWidthInactive(),r._updateWidthInactive(),t._updateThumbUIByValue(),r._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(t=2){const r=this._getInput(t);return r?r.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const r=this._trackActive.nativeElement.style,i=t.left!==r.left&&t.right!==r.right;r.left=t.left,r.right=t.right,r.transformOrigin=t.transformOrigin,i?(this._elementRef.nativeElement.classList.add("mat-mdc-slider-disable-track-animation"),this._ngZone.onStable.pipe(gh(1)).subscribe(()=>{this._elementRef.nativeElement.classList.remove("mat-mdc-slider-disable-track-animation"),r.transform=t.transform})):r.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,r){this._hasViewInitialized&&(t._updateThumbUIByValue(),r._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(2),r=this._getInput(1);t._updateThumbUIByValue(),r._updateThumbUIByValue(),t._updateStaticStyles(),r._updateStaticStyles(),t._updateMinMax(),r._updateMinMax(),t._updateWidthInactive(),r._updateWidthInactive()}else{const t=this._getInput(2);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(1),r=this._getInput(2);return!(!t||!r)&&r.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const r=t.getSibling(),i=this._getThumb(t.thumbPosition);this._getThumb(r.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),i._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(2===t.thumbPosition?2:1)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const r=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=r:t._hostElement.setAttribute("aria-valuetext",r),this.discrete){1===t.thumbPosition?this.startValueIndicatorText=r:this.endValueIndicatorText=r;const i=this._getThumb(t.thumbPosition);r.length<3?i._hostElement.classList.add("mdc-slider__thumb--short-value"):i._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(2),r=this._getInput(1);t&&this._updateValueIndicatorUI(t),r&&this._updateValueIndicatorUI(r)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,i=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*i-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const r=t.getSibling();if(!r||!this._cachedWidth)return;const i=Math.abs(r.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-r.translateX+"px",transformOrigin:"right",transform:`scaleX(${i})`}:{left:`${r.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${i})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const r=this._getValue();let i=Math.max(Math.round((r-this.min)/t),0),s=Math.max(Math.round((this.max-r)/t),0);this._isRtl?i++:s++,this._tickMarks=Array(i).fill(0).concat(Array(s).fill(1))}_updateTickMarkUIRange(t){const r=this._getValue(),i=this._getValue(1),s=Math.max(Math.floor((i-this.min)/t),0),a=Math.max(Math.floor((r-i)/t)+1,0),u=Math.max(Math.floor((this.max-r)/t),0);this._tickMarks=Array(s).fill(1).concat(Array(a).fill(0),Array(u).fill(1))}_getInput(t){return 2===t&&this._input?this._input:this._inputs?.length?1===t?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return 2===t?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}}return n.\u0275fac=function(t){return new(t||n)(ze(An),ze(Ho),ze(Cs),ze(Bn),ze(Wc,8),ze(wO,8),ze(Ta,8))},n.\u0275cmp=si({type:n,selectors:[["mat-slider"]],contentQueries:function(t,r,i){if(1&t&&(Vo(i,qR,5),Vo(i,ZR,4)),2&t){let s;mr(s=gr())&&(r._input=s.first),mr(s=gr())&&(r._inputs=s)}},viewQuery:function(t,r){if(1&t&&(wi(S$,5),wi(QR,5)),2&t){let i;mr(i=gr())&&(r._trackActive=i.first),mr(i=gr())&&(r._thumbs=i)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(t,r){2&t&&Qr("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[Ar([{provide:S0,useExisting:n}]),Pn],ngContentSelectors:I$,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(oa(),Yr(0),on(1,"div",0),kr(2,"div",1),on(3,"div",2),kr(4,"div",3,4),pn(),er(6,T$,3,1,"div",5),pn(),er(7,A$,1,3,"mat-slider-visual-thumb",6),kr(8,"mat-slider-visual-thumb",7)),2&t&&(un(6),Qt("ngIf",r.showTickMarks),un(1),Qt("ngIf",r._isRange),un(1),Qt("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[bg,Vu,k$],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:0;margin:0;height:100%;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const N$={provide:aa,useExisting:ct(()=>oC),multi:!0};let oC=(()=>{class n{get value(){return Js(this._hostElement.value)}set value(t){const r=Js(t).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=r,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges()):this._initialValue=r}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return Js(this._hostElement.min)}set min(t){this._hostElement.min=Js(t).toString(),this._cdr.detectChanges()}get max(){return Js(this._hostElement.max)}set max(t){this._hostElement.max=Js(t).toString(),this._cdr.detectChanges()}get step(){return Js(this._hostElement.step)}set step(t){this._hostElement.step=Js(t).toString(),this._cdr.detectChanges()}get disabled(){return ti(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=ti(t),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,r,i,s){this._ngZone=t,this._elementRef=r,this._cdr=i,this._slider=s,this.valueChange=new Wn,this.dragStart=new Wn,this.dragEnd=new Wn,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Te,this._skipUIUpdate=!1,this._onChangeFn=()=>{},this._onTouchedFn=()=>{},this._hostElement=r.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){this.disabled||0!==t.button||(this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value})))}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const r=t.clientX-this._slider._cachedLeft,i=this._slider._cachedWidth,s=0===this._slider.step?1:this._slider.step,a=Math.floor((this._slider.max-this._slider.min)/s),g=Math.round((this._slider._isRtl?1-r/i:r/i)*a)/a*(this._slider.max-this._slider.min)+this._slider.min,y=Math.round(g/s)*s;if(y===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=y,this.valueChange.emit(this.value),this._onChangeFn(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive()))}_clamp(t){return Math.max(Math.min(t,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,r){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(r)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){this.value=t}registerOnChange(t){this._onChangeFn=t}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return n.\u0275fac=function(t){return new(t||n)(ze(An),ze(Bn),ze(Ho),ze(S0))},n.\u0275dir=en({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(t,r){1&t&&or("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),2&t&&mi("aria-valuetext",r._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Ar([N$,{provide:qR,useExisting:n}])]}),n})(),B$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[Vi,ka,a0]}),n})(),V$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({}),n})();class JR{}class H${}const Xc="*";function fp(n,e){return{type:7,name:n,definitions:e,options:{}}}function Xu(n,e=null){return{type:4,styles:e,timings:n}}function eP(n,e=null){return{type:2,steps:n,options:e}}function eo(n){return{type:6,styles:n,offset:null}}function pp(n,e,t){return{type:0,name:n,styles:e,options:t}}function tP(n){return{type:5,steps:n}}function Ku(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function z$(n=null){return{type:9,options:n}}function D0(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function nP(n){Promise.resolve().then(n)}class zg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){nP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class rP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?nP(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++r==s&&this._onDestroy()}),a.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const aC="!",U$=["matFormFieldNotchedOutline",""],G$=["*"],$$=["textField"],W$=["iconPrefixContainer"],Y$=["textPrefixContainer"];function X$(n,e){1&n&&kr(0,"span",19)}function K$(n,e){if(1&n){const t=Lu();on(0,"label",17),or("cdkObserveContent",function(){return os(t),Ii(Hn(2)._refreshOutlineNotchWidth())}),Yr(1,1),er(2,X$,1,0,"span",18),pn()}if(2&n){const t=Hn(2);Qt("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),mi("for",t._control.id)("aria-owns",t._control.id),un(2),Qt("ngIf",!t.hideRequiredMarker&&t._control.required)}}function q$(n,e){1&n&&er(0,K$,3,6,"label",16),2&n&&Qt("ngIf",Hn()._hasFloatingLabel())}function Z$(n,e){1&n&&kr(0,"div",20)}function Q$(n,e){}function J$(n,e){1&n&&er(0,Q$,0,0,"ng-template",22),2&n&&(Hn(2),Qt("ngTemplateOutlet",ng(1)))}function eW(n,e){if(1&n&&(on(0,"div",21),er(1,J$,1,1,"ng-template",9),pn()),2&n){const t=Hn();Qt("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),un(1),Qt("ngIf",!t._forceDisplayInfixLabel())}}function tW(n,e){1&n&&(on(0,"div",23,24),Yr(2,2),pn())}function nW(n,e){1&n&&(on(0,"div",25,26),Yr(2,3),pn())}function rW(n,e){}function iW(n,e){1&n&&er(0,rW,0,0,"ng-template",22),2&n&&(Hn(),Qt("ngTemplateOutlet",ng(1)))}function sW(n,e){1&n&&(on(0,"div",27),Yr(1,4),pn())}function oW(n,e){1&n&&(on(0,"div",28),Yr(1,5),pn())}function aW(n,e){1&n&&kr(0,"div",29)}function lW(n,e){1&n&&(on(0,"div",30),Yr(1,6),pn()),2&n&&Qt("@transitionMessages",Hn()._subscriptAnimationState)}function cW(n,e){if(1&n&&(on(0,"mat-hint",34),Qs(1),pn()),2&n){const t=Hn(2);Qt("id",t._hintLabelId),un(1),Uc(t.hintLabel)}}function uW(n,e){if(1&n&&(on(0,"div",31),er(1,cW,2,2,"mat-hint",32),Yr(2,7),kr(3,"div",33),Yr(4,8),pn()),2&n){const t=Hn();Qt("@transitionMessages",t._subscriptAnimationState),un(1),Qt("ngIf",t.hintLabel)}}const dW=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],hW=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let lC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=en({type:n,selectors:[["mat-label"]]}),n})();const fW=new Lt("MatError");let pW=0,iP=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+pW++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=en({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,r){2&t&&(sg("id",r.id),mi("align",null),Qr("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const mW=new Lt("MatPrefix"),gW=new Lt("MatSuffix");let sP=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function vW(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const r=t.scrollWidth;return t.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn))},n.\u0275dir=en({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,r){2&t&&Qr("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),n})();const oP="mdc-line-ripple--active",M0="mdc-line-ripple--deactivating";let aP=(()=>{class n{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=i=>{const s=this._elementRef.nativeElement.classList,a=s.contains(M0);"opacity"===i.propertyName&&a&&s.remove(oP,M0)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(M0),t.add(oP)}deactivate(){this._elementRef.nativeElement.classList.add(M0)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(An))},n.\u0275dir=en({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),lP=(()=>{class n{constructor(t,r){this._elementRef=t,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(An))},n.\u0275cmp=si({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,r){2&t&&Qr("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:U$,ngContentSelectors:G$,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,r){1&t&&(oa(),kr(0,"div",0),on(1,"div",1),Yr(2),pn(),kr(3,"div",2)),2&t&&(un(1),jc("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const yW={transitionMessages:fp("transitionMessages",[pp("enter",eo({opacity:1,transform:"translateY(0%)"})),Ku("void => enter",[eo({opacity:0,transform:"translateY(-5px)"}),Xu("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let cP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=en({type:n}),n})();const uP=new Lt("MatFormField"),dP=new Lt("MAT_FORM_FIELD_DEFAULT_OPTIONS");let hP=0,xW=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ti(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,i,s,a,u,h,g){this._elementRef=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=s,this._platform=a,this._defaults=u,this._animationMode=h,this._document=g,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+hP++,this._hintLabelId="mat-mdc-hint-"+hP++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Te,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=Boolean(u?.hideRequiredMarker),u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Oi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Dl(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Oi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Oi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,a=i?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+a}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(Ho),ze(An),ze(Wc),ze(Cs),ze(dP,8),ze(Ta,8),ze(tr))},n.\u0275cmp=si({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(Vo(i,lC,5),Vo(i,lC,7),Vo(i,cP,5),Vo(i,mW,5),Vo(i,gW,5),Vo(i,fW,5),Vo(i,iP,5)),2&t){let s;mr(s=gr())&&(r._labelChildNonStatic=s.first),mr(s=gr())&&(r._labelChildStatic=s.first),mr(s=gr())&&(r._formFieldControl=s.first),mr(s=gr())&&(r._prefixChildren=s),mr(s=gr())&&(r._suffixChildren=s),mr(s=gr())&&(r._errorChildren=s),mr(s=gr())&&(r._hintChildren=s)}},viewQuery:function(t,r){if(1&t&&(wi($$,5),wi(W$,5),wi(Y$,5),wi(sP,5),wi(lP,5),wi(aP,5)),2&t){let i;mr(i=gr())&&(r._textField=i.first),mr(i=gr())&&(r._iconPrefixContainer=i.first),mr(i=gr())&&(r._textPrefixContainer=i.first),mr(i=gr())&&(r._floatingLabel=i.first),mr(i=gr())&&(r._notchedOutline=i.first),mr(i=gr())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,r){2&t&&Qr("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ar([{provide:uP,useExisting:n}])],ngContentSelectors:hW,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,r){1&t&&(oa(dW),er(0,q$,1,1,"ng-template",null,0,eI),on(2,"div",1,2),or("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),er(4,Z$,1,0,"div",3),on(5,"div",4),er(6,eW,2,3,"div",5),er(7,tW,3,0,"div",6),er(8,nW,3,0,"div",7),on(9,"div",8),er(10,iW,1,1,"ng-template",9),Yr(11),pn(),er(12,sW,2,0,"div",10),er(13,oW,2,0,"div",11),pn(),er(14,aW,1,0,"div",12),pn(),on(15,"div",13),er(16,lW,2,1,"div",14),er(17,uW,5,2,"div",15),pn()),2&t&&(un(2),Qr("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),un(2),Qt("ngIf",!r._hasOutline()&&!r._control.disabled),un(2),Qt("ngIf",r._hasOutline()),un(1),Qt("ngIf",r._hasIconPrefix),un(1),Qt("ngIf",r._hasTextPrefix),un(2),Qt("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),un(2),Qt("ngIf",r._hasTextSuffix),un(1),Qt("ngIf",r._hasIconSuffix),un(1),Qt("ngIf",!r._hasOutline()),un(1),Qr("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),Qt("ngSwitch",r._getDisplayedMessages()),un(1),Qt("ngSwitchCase","error"),un(1),Qt("ngSwitchCase","hint"))},dependencies:[Vu,fk,_g,t1,IG,iP,sP,lP,aP],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[yW.transitionMessages]},changeDetection:0}),n})(),T0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[Vi,ka,Qk,Vi]}),n})(),wW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[Vi,T0,T0,V$,Vi]}),n})();const EW=["addListener","removeListener"],CW=["addEventListener","removeEventListener"],SW=["on","off"];function A0(n,e,t,r){if(_(t)&&(r=t,t=void 0),r)return A0(n,e,t).pipe(D1(r));const[i,s]=function TW(n){return _(n.addEventListener)&&_(n.removeEventListener)}(n)?CW.map(a=>u=>n[a](e,u,t)):function DW(n){return _(n.addListener)&&_(n.removeListener)}(n)?EW.map(mP(n,e)):function MW(n){return _(n.on)&&_(n.off)}(n)?SW.map(mP(n,e)):[];if(!i&&zi(n))return $a(a=>A0(a,e,t))(is(n));if(!i)throw new TypeError("Invalid event target");return new _e(a=>{const u=(...h)=>a.next(1<h.length?h:h[0]);return i(u),()=>s(u)})}function mP(n,e){return t=>r=>n[t](e,r)}const jg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=jg;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new C(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=jg;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=jg;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},kW=new class IW extends g1{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class AW extends m1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=jg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(jg.cancelAnimationFrame(t),e._scheduled=void 0)}});let cC,OW=1;const I0={};function gP(n){return n in I0&&(delete I0[n],!0)}const RW={setImmediate(n){const e=OW++;return I0[e]=!0,cC||(cC=Promise.resolve()),cC.then(()=>gP(e)&&n()),e},clearImmediate(n){gP(n)}},{setImmediate:PW,clearImmediate:NW}=RW,k0={setImmediate(...n){const{delegate:e}=k0;return(e?.setImmediate||PW)(...n)},clearImmediate(n){const{delegate:e}=k0;return(e?.clearImmediate||NW)(n)},delegate:void 0},BW=new class FW extends g1{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class LW extends m1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=k0.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(k0.clearImmediate(t),e._scheduled=void 0)}});function uC(n,e=v1){return function VW(n){return Be((e,t)=>{let r=!1,i=null,s=null,a=!1;const u=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const g=i;i=null,t.next(g)}a&&t.complete()},h=()=>{s=null,a&&t.complete()};e.subscribe(Fe(t,g=>{r=!0,i=g,s||is(n(g)).subscribe(s=Fe(t,u,h))},()=>{a=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function zW(n=0,e,t=qU){let r=-1;return null!=e&&(md(e)?t=e:r=e),new _e(i=>{let s=function HW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}const jW=["contentWrapper"],UW=["*"],GW=new Lt("VIRTUAL_SCROLL_STRATEGY");let Ug=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Te,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _e(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(uC(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Uu()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(op(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=mh(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>A0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(xt(An),xt(Cs),xt(tr,8))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vP=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new Te,this._elementScrolled=new _e(a=>this.ngZone.runOutsideAngular(()=>A0(this.elementRef.nativeElement,"scroll").pipe(Oi(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Ig()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Ig()?t.left=t.right:1==Ig()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;Uk()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==t?t=a?i:r:"end"==t&&(t=a?r:i),a&&2==Ig()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&1==Ig()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(Ug),ze(An),ze(Wc,8))},n.\u0275dir=en({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),O0=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Te,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(uC(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(xt(Cs),xt(An),xt(tr,8))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yP=new Lt("VIRTUAL_SCROLLABLE");let YW=(()=>{class n extends vP{constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(Ug),ze(An),ze(Wc,8))},n.\u0275dir=en({type:n,features:[Pn]}),n})();const KW=typeof requestAnimationFrame<"u"?kW:BW;let qW=(()=>{class n extends YW{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=ti(t)}constructor(t,r,i,s,a,u,h,g){super(t,u,i,a),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=g,this._platform=Xo(Cs),this._detachedSubject=new Te,this._renderedRangeSubject=new Te,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new _e(y=>this._scrollStrategy.scrolledIndexChange.subscribe(O=>Promise.resolve().then(()=>this.ngZone.run(()=>y.next(O))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=C.EMPTY,this._viewportChanges=h.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(t0(null),uC(0,KW)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Oi(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function XW(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,a=s?"X":"Y";let h=`translate${a}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(h+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=h&&(this._renderedContentTransform=h,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",a="rtl"==this.dir?.value;r="start"==t?a?s:i:"end"==t?a?i:s:t||("horizontal"===this.orientation?"left":"top");const u=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-u}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(Ho),ze(An),ze(GW,8),ze(Wc,8),ze(Ug),ze(O0),ze(yP,8))},n.\u0275cmp=si({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&wi(jW,7),2&t){let i;mr(i=gr())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&Qr("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Ar([{provide:vP,useFactory:(e,t)=>e||t,deps:[[new zl,new bf(yP)],n]}]),Pn,uh],ngContentSelectors:UW,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(oa(),on(0,"div",0,1),Yr(2),pn(),kr(3,"div",2)),2&t&&(un(3),jc("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),R0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({}),n})(),bP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[kg,R0,qW,kg,R0]}),n})();class dC{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class _P extends dC{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class xP extends dC{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class ZW extends dC{constructor(e){super(),this.element=e instanceof Bn?e.nativeElement:e}}class QW{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof _P?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof xP?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof ZW?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class JW extends QW{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");u.parentNode.insertBefore(h,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||ul.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let e7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({}),n})();const wP=Uk();class n7{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ji(-this._previousScrollPosition.left),e.style.top=Ji(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),wP&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wP&&(r.scrollBehavior=s,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class r7{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class EP{enable(){}disable(){}attach(){}}function hC(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function CP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class i7{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();hC(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let s7=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new EP,this.close=a=>new r7(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new n7(this._viewportRuler,this._document),this.reposition=a=>new i7(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(xt(Ug),xt(O0),xt(An),xt(tr))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class SP{constructor(e){if(this.scrollStrategy=new EP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class o7{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let DP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(xt(tr))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a7=(()=>{class n extends DP{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const u=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(i)):u.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(xt(tr),xt(An,8))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l7=(()=>{class n extends DP{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ju(s)},this._clickListener=s=>{const a=ju(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let g=h.length-1;g>-1;g--){const y=h[g];if(y._outsidePointerEvents.observers.length<1||!y.hasAttached())continue;if(y.overlayElement.contains(a)||y.overlayElement.contains(u))break;const O=y._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>O.next(s)):O.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(xt(tr),xt(Cs),xt(An,8))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MP=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||x1()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),x1()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(xt(tr),xt(Cs))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class c7{constructor(e,t,r,i,s,a,u,h,g,y=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=a,this._document=u,this._location=h,this._outsideClickDispatcher=g,this._animationsDisabled=y,this._backdropElement=null,this._backdropClick=new Te,this._attachments=new Te,this._detachments=new Te,this._locationChanges=C.EMPTY,this._backdropClickHandler=O=>this._backdropClick.next(O),this._backdropTransitionendHandler=O=>{this._disposeBackdrop(O.target)},this._keydownEvents=new Te,this._outsidePointerEvents=new Te,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(gh(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ji(this._config.width),e.height=Ji(this._config.height),e.minWidth=Ji(this._config.minWidth),e.minHeight=Ji(this._config.minHeight),e.maxWidth=Ji(this._config.maxWidth),e.maxHeight=Ji(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=e0(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Oi(Dl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const TP="cdk-overlay-connected-position-bounding-box",u7=/([A-Za-z%]+)$/;class d7{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Te,this._resizeSubscription=C.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(TP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let a;for(let u of this._preferredPositions){let h=this._getOriginPoint(e,i,u),g=this._getOverlayPoint(h,t,u),y=this._getOverlayFit(g,t,r,u);if(y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(y,g,r)?s.push({position:u,origin:h,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!a||a.overlayFit.visibleArea<y.visibleArea)&&(a={overlayFit:y,overlayPoint:g,originPoint:h,position:u,overlayRect:t})}if(s.length){let u=null,h=-1;for(const g of s){const y=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);y>h&&(h=y,u=g)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&xh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(TP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,u=this._isRtl()?e.left:e.right;i="start"==r.originX?a:u}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=IP(t);let{x:a,y:u}=e,h=this._getOffset(i,"x"),g=this._getOffset(i,"y");h&&(a+=h),g&&(u+=g);let $=0-u,K=u+s.height-r.height,re=this._subtractOverflows(s.width,0-a,a+s.width-r.width),he=this._subtractOverflows(s.height,$,K),xe=re*he;return{visibleArea:xe,isCompletelyWithinViewport:s.width*s.height===xe,fitsInViewportVertically:he===s.height,fitsInViewportHorizontally:re==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,a=AP(this._overlayRef.getConfig().minHeight),u=AP(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=a&&a<=i)&&(e.fitsInViewportHorizontally||null!=u&&u<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=IP(t),s=this._viewportRect,a=Math.max(e.x+i.width-s.width,0),u=Math.max(e.y+i.height-s.height,0),h=Math.max(s.top-r.top-e.y,0),g=Math.max(s.left-r.left-e.x,0);let y=0,O=0;return y=i.width<=s.width?g||-a:e.x<this._viewportMargin?s.left-r.left-e.x:0,O=i.height<=s.height?h||-u:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:y,y:O},{x:e.x+y,y:e.y+O}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new o7(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,a,u,y,O,$;if("top"===t.overlayY)a=e.y,s=r.height-a+this._viewportMargin;else if("bottom"===t.overlayY)u=r.height-e.y+2*this._viewportMargin,s=r.height-u+this._viewportMargin;else{const K=Math.min(r.bottom-e.y+r.top,e.y),re=this._lastBoundingBoxSize.height;s=2*K,a=e.y-K,s>re&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-re/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)$=r.width-e.x+this._viewportMargin,y=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)O=e.x,y=r.right-e.x;else{const K=Math.min(r.right-e.x+r.left,e.x),re=this._lastBoundingBoxSize.width;y=2*K,O=e.x-K,y>re&&!this._isInitialRender&&!this._growAfterOpen&&(O=e.x-re/2)}return{top:a,left:O,bottom:u,right:$,width:y,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=Ji(r.height),i.top=Ji(r.top),i.bottom=Ji(r.bottom),i.width=Ji(r.width),i.left=Ji(r.left),i.right=Ji(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Ji(s)),a&&(i.maxWidth=Ji(a))}this._lastBoundingBoxSize=r,xh(this._boundingBox.style,i)}_resetBoundingBoxStyles(){xh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){xh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){const y=this._viewportRuler.getViewportScrollPosition();xh(r,this._getExactOverlayY(t,e,y)),xh(r,this._getExactOverlayX(t,e,y))}else r.position="static";let u="",h=this._getOffset(t,"x"),g=this._getOffset(t,"y");h&&(u+=`translateX(${h}px) `),g&&(u+=`translateY(${g}px)`),r.transform=u.trim(),a.maxHeight&&(i?r.maxHeight=Ji(a.maxHeight):s&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=Ji(a.maxWidth):s&&(r.maxWidth="")),xh(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Ji(s.y),i}_getExactOverlayX(e,t,r){let a,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Ji(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:CP(e,r),isOriginOutsideView:hC(e,r),isOverlayClipped:CP(t,r),isOverlayOutsideView:hC(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&e0(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Bn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function xh(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function AP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(u7);return t&&"px"!==t?null:parseFloat(e)}return n||null}function IP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const kP="cdk-global-overlay-wrapper";class h7{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(kP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:a,maxHeight:u}=r,h=!("100%"!==i&&"100vw"!==i||a&&"100%"!==a&&"100vw"!==a),g=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u),y=this._xPosition,O=this._xOffset,$="rtl"===this._overlayRef.getConfig().direction;let K="",re="",he="";h?he="flex-start":"center"===y?(he="center",$?re=O:K=O):$?"left"===y||"end"===y?(he="flex-end",K=O):("right"===y||"start"===y)&&(he="flex-start",re=O):"left"===y||"start"===y?(he="flex-start",K=O):("right"===y||"end"===y)&&(he="flex-end",re=O),e.position=this._cssPosition,e.marginLeft=h?"0":K,e.marginTop=g?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=h?"0":re,t.justifyContent=he,t.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(kP),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let f7=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new h7}flexibleConnectedTo(t){return new d7(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(xt(O0),xt(tr),xt(Cs),xt(MP))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p7=0,mp=(()=>{class n{constructor(t,r,i,s,a,u,h,g,y,O,$,K){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=u,this._ngZone=h,this._document=g,this._directionality=y,this._location=O,this._outsideClickDispatcher=$,this._animationsModuleType=K}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),a=new SP(t);return a.direction=a.direction||this._directionality.value,new c7(s,r,i,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+p7++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(mg)),new JW(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(xt(s7),xt(MP),xt(Ki),xt(f7),xt(a7),xt(ul),xt(An),xt(tr),xt(Wc),xt(qI),xt(l7),xt(Ta,8))},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m7=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],OP=new Lt("cdk-connected-overlay-scroll-strategy");let fC=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn))},n.\u0275dir=en({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),RP=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=ti(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=ti(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=ti(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=ti(t)}get push(){return this._push}set push(t){this._push=ti(t)}constructor(t,r,i,s,a){this._overlay=t,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=C.EMPTY,this._attachSubscription=C.EMPTY,this._detachSubscription=C.EMPTY,this._positionSubscription=C.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Wn,this.positionChange=new Wn,this.attach=new Wn,this.detach=new Wn,this.overlayKeydown=new Wn,this.overlayOutsideClick=new Wn,this._templatePortal=new xP(r,i),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=m7);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!sp(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new SP({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof fC?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function t7(n,e=!1){return Be((t,r)=>{let i=0;t.subscribe(Fe(r,s=>{const a=n(s,i++);(a||e)&&r.next(s),!a&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(ze(mp),ze(Ql),ze(Ma),ze(OP),ze(Wc,8))},n.\u0275dir=en({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Gn]}),n})();const v7={provide:OP,deps:[mp],useFactory:function g7(n){return()=>n.scrollStrategies.reposition()}};let PP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({providers:[mp,v7],imports:[kg,e7,bP,bP]}),n})();class y7{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Te,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,r=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!r.has(s)).forEach(s=>this._unmarkSelected(s));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}function NP(n,e){return Be((t,r)=>{let i=null,s=0,a=!1;const u=()=>a&&!i&&r.complete();t.subscribe(Fe(r,h=>{i?.unsubscribe();let g=0;const y=s++;is(n(h,y)).subscribe(i=Fe(r,O=>r.next(e?e(h,O,y,g++):O),()=>{i=null,u()}))},()=>{a=!0,u()}))})}const _7=["trigger"],x7=["panel"];function w7(n,e){if(1&n&&(on(0,"span",10),Qs(1),pn()),2&n){const t=Hn();un(1),Uc(t.placeholder)}}function E7(n,e){if(1&n&&(on(0,"span",14),Qs(1),pn()),2&n){const t=Hn(2);un(1),Uc(t.triggerValue)}}function C7(n,e){1&n&&Yr(0,0,["*ngSwitchCase","true"])}function S7(n,e){1&n&&(on(0,"span",11),er(1,E7,2,1,"span",12),er(2,C7,1,0,"ng-content",13),pn()),2&n&&(Qt("ngSwitch",!!Hn().customTrigger),un(2),Qt("ngSwitchCase",!0))}function D7(n,e){if(1&n){const t=Lu();sf(),af(),on(0,"div",15,16),or("@transformPanel.done",function(i){return os(t),Ii(Hn()._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){return os(t),Ii(Hn()._handleKeydown(i))}),Yr(2,1),pn()}if(2&n){const t=Hn();(function YT(n,e,t){hl(Ks,Zl,zf(It(),n,e,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),Qt("ngClass",t.panelClass)("@transformPanel","showing"),mi("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const M7=[[["mat-select-trigger"]],"*"],T7=["mat-select-trigger","*"],A7={transformPanelWrap:fp("transformPanelWrap",[Ku("* => void",D0("@transformPanel",[z$()],{optional:!0}))]),transformPanel:fp("transformPanel",[pp("void",eo({opacity:0,transform:"scale(1, 0.8)"})),Ku("void => showing",Xu("120ms cubic-bezier(0, 0, 0.2, 1)",eo({opacity:1,transform:"scale(1, 1)"}))),Ku("* => void",Xu("100ms linear",eo({opacity:0})))])};let LP=0;const FP=new Lt("mat-select-scroll-strategy"),k7=new Lt("MAT_SELECT_CONFIG"),O7={provide:FP,deps:[mp],useFactory:function I7(n){return()=>n.scrollStrategies.reposition()}},R7=new Lt("MatSelectTrigger");class P7{constructor(e,t){this.source=e,this.value=t}}const N7=o0(gO(O1(E6(class{constructor(n,e,t,r,i){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=i,this.stateChanges=new Te}}))));let L7=(()=>{class n extends N7{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(C9.required)??!1}set required(t){this._required=ti(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=ti(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=ti(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Js(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,r,i,s,a,u,h,g,y,O,$,K,re,he){super(a,s,h,g,O),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=u,this._parentFormField=y,this._liveAnnouncer=re,this._defaultOptions=he,this._panelOpen=!1,this._compareWith=(xe,Pe)=>xe===Pe,this._uid="mat-select-"+LP++,this._triggerAriaLabelledBy=null,this._destroy=new Te,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+LP++,this._panelDoneAnimatingStream=new Te,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=function b7(n){return new _e(e=>{is(n()).subscribe(e)})}(()=>{const xe=this.options;return xe?xe.changes.pipe(t0(xe),NP(()=>Dl(...xe.map(Pe=>Pe.onSelectionChange)))):this._ngZone.onStable.pipe(gh(1),NP(()=>this.optionSelectionChanges))}),this.openedChange=new Wn,this._openedStream=this.openedChange.pipe(op(xe=>xe),Ne(()=>{})),this._closedStream=this.openedChange.pipe(op(xe=>!xe),Ne(()=>{})),this.selectionChange=new Wn,this.valueChange=new Wn,this.ngControl&&(this.ngControl.valueAccessor=this),null!=he?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=he.typeaheadDebounceInterval),this._scrollStrategyFactory=K,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt($)||0,this.id=this.id}ngOnInit(){this._selectionModel=new y7(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(qk(),Oi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Oi(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(t0(null),Oi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,s=13===r||32===r,a=this._keyManager;if(!a.isTyping()&&s&&!sp(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;a.onKeydown(t);const h=this.selected;h&&u!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,s=40===i||38===i,a=r.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(a||13!==i&&32!==i||!r.activeItem||sp(t))if(!a&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const u=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(u?h.select():h.deselect())})}else{const u=r.activeItemIndex;r.onKeydown(t),this._multiple&&s&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==u&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(gh(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new KG(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Dl(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Oi(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Dl(...this.options.map(r=>r._stateChanges)).pipe(Oi(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let r=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(ze(O0),ze(Ho),ze(An),ze(S6),ze(Bn),ze(Wc,8),ze(E0,8),ze(C0,8),ze(uP,8),ze(Yc,10),xu("tabindex"),ze(FP),ze(l6),ze(k7,8))},n.\u0275dir=en({type:n,viewQuery:function(t,r){if(1&t&&(wi(_7,5),wi(x7,5),wi(RP,5)),2&t){let i;mr(i=gr())&&(r.trigger=i.first),mr(i=gr())&&(r.panel=i.first),mr(i=gr())&&(r._overlayDir=i.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Pn,Gn]}),n})(),F7=(()=>{class n extends L7{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Oi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const r=this.options.toArray()[t];if(r){const i=this.panel.nativeElement,s=function N6(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),s=0;for(let a=0;a<n+1;a++)r[a].group&&r[a].group===i[s]&&s++;return s}return 0}(t,this.options,this.optionGroups),a=r._getHostElement();i.scrollTop=0===t&&1===s?0:function L6(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}(a.offsetTop,a.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new P7(this,t)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof fC?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=ti(t),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=function $i(n){return co(()=>{const e=n.prototype.constructor,t=e[Qa]||Dc(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Qa]||Dc(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(r||n)}}(),n.\u0275cmp=si({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,i){if(1&t&&(Vo(i,R7,5),Vo(i,SO,5),Vo(i,CO,5)),2&t){let s;mr(s=gr())&&(r.customTrigger=s.first),mr(s=gr())&&(r.options=s),mr(s=gr())&&(r.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,r){1&t&&or("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(mi("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Qr("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[Ar([{provide:cP,useExisting:n},{provide:EO,useExisting:n}]),Pn],ngContentSelectors:T7,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(oa(M7),on(0,"div",0,1),or("click",function(){return r.toggle()}),on(3,"div",2),er(4,w7,2,1,"span",3),er(5,S7,3,2,"span",4),pn(),on(6,"div",5)(7,"div",6),sf(),on(8,"svg",7),kr(9,"path",8),pn()()()(),er(10,D7,3,9,"ng-template",9),or("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const i=ng(1);mi("aria-owns",r.panelOpen?r.id+"-panel":null),un(3),Qt("ngSwitch",r.empty),mi("id",r._valueId),un(1),Qt("ngSwitchCase",!0),un(1),Qt("ngSwitchCase",!1),un(5),Qt("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[JE,_g,t1,dk,RP,fC],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[A7.transformPanel]},changeDetection:0}),n})(),B7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({providers:[O7],imports:[ka,PP,DO,Vi,R0,T0,DO,Vi]}),n})();var V7=v(6864),gp=v.n(V7),H7=v(3811),z7=v.n(H7),j7=v(1212),U7=v.n(j7),G7=v(5791),$7=v.n(G7),W7=v(1936),Y7=v.n(W7),X7=v(6977),K7=v.n(X7);gp().use(z7()),gp().use(U7()),gp().use(K7()),gp().use($7()),gp().use(Y7());let BP=(()=>{class n{constructor(){this.contextMenuClick$=new Te,this.settings=new y1}build(t,r,i){this.settings=i,this.initCytoscape(t,r),i.displayContextMenu&&this.setupContextMenus(),this.setupHoverEvents()}addElements(t){null!=this.cy&&(this.cy.add(t),this.updateLayout())}contextMenuClick(){return this.contextMenuClick$.asObservable()}getCytoscape(){return this.cy}initCytoscape(t,r){this.cy=gp()({container:t,wheelSensitivity:.5,elements:r,style:[{selector:"node",style:{content:"data(name)","text-valign":"center",color:"#ccc"}},{selector:"node.individual",style:{width:"data(size)",height:"data(size)",...this.settings.individualCSS}},{selector:"node.class",style:{width:"data(size)",height:"data(size)",...this.settings.classNodeCSS}},{selector:"node.literal",style:{content:"data(name)",...this.settings.literalNodeCSS}},{selector:":selected",style:{"border-width":3,"border-color":"#333"}},{selector:"edge",style:{content:"data(name)","curve-style":"bezier",opacity:.666,"target-arrow-shape":"triangle"}},{selector:".faded",style:{opacity:.25,"text-opacity":0}}]}),this.updateLayout(),this.appendScale()}appendScale(){this.cy?.nodes().forEach(t=>{const r=t.hasClass("literal"),i=parseInt(t.style("height"))*this.settings.graph.scale/100;t.style("height",`${i}px`);const s=parseInt(t.style("font-size"))*this.settings.graph.scale/100;if(t.style("font-size",`${s}px`),r){const a=function q7(n,e,t){const r=document.createElement("span");r.style.fontSize=e,r.style.fontFamily=t,r.style.visibility="hidden",r.style.position="absolute",r.style.top="-9999px",r.innerHTML=n,document.body.appendChild(r);const i=r.offsetWidth;return document.body.removeChild(r),i}(t.data("name"),t.style("font-size"),t.style("font-family"));t.style("width",`${a+10}px`)}else{const a=parseInt(t.style("width"))*this.settings.graph.scale/100;t.style("width",`${a}px`)}}),this.cy?.edges().forEach(t=>{const r=parseInt(t.style("width"))*this.settings.graph.scale/100,i=parseInt(t.style("font-size"))*this.settings.graph.scale/100;t.style("width",`${r}px`),t.style("font-size",`${i}px`)})}updateLayout(){null!=this.cy&&this.cy.layout({name:this.settings.graph.layout,quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:100,randomize:this.settings.graph.randomize,nodeRepulsion:this.settings.graph.nodeRepulsion,idealEdgeLength:this.settings.graph.idealEdgeLength,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:this.settings.graph.animation,animationDuration:this.settings.graph.animationDuration,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5}).run()}setupContextMenus(){if(null==this.cy)return;const t=[this.settings.contextMenuCommands.nodes,this.settings.contextMenuCommands.edges,this.settings.contextMenuCommands.canvas],r=[np.NODE,np.EDGE,np.CANVAS],i=["node","edge","core"];for(const s in t){const a=r[s],u=i[s],h=[];t[s].forEach(g=>{g.visible&&h.push({content:g.label,enabled:g.enabled,select:y=>{console.log(y);const $=y.json().data?.uri;if(void 0===$)return;const K=new uG($,g.id,a);this.contextMenuClick$.next(K)}})}),h.length&&this.cy.cxtmenu({selector:u,commands:h})}}setupHoverEvents(){if(null==this.cy)return;let t=this.cy.collection();this.cy.nodes().on("click",function(r){const i=r.target;console.log(i),t=t.union(i)}),this.cy.nodes().unbind("mouseover"),this.cy.nodes().bind("mouseover",r=>{this.dimAllButNeighbors(r.target)}),this.cy.nodes().unbind("mouseout"),this.cy.nodes().bind("mouseout",()=>{this.unDimAll()})}unDimAll(){null!=this.cy&&this.cy.elements().forEach(t=>{t.removeClass("faded")})}dimAllButNeighbors(t){if(null==this.cy)return;const r=t.neighborhood().map(i=>i.id());this.cy.elements().forEach(i=>{r.includes(i.id())||i.id()===t.id()?i.removeClass("faded"):i.addClass("faded")})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var P0,VP=v(5049),Z7=new Uint8Array(16);function Q7(){if(!P0&&!(P0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return P0(Z7)}const J7=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,tY=function eY(n){return"string"==typeof n&&J7.test(n)};for(var Vs=[],pC=0;pC<256;++pC)Vs.push((pC+256).toString(16).substr(1));const sY=function iY(n,e,t){var r=(n=n||{}).random||(n.rng||Q7)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return function nY(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Vs[n[e+0]]+Vs[n[e+1]]+Vs[n[e+2]]+Vs[n[e+3]]+"-"+Vs[n[e+4]]+Vs[n[e+5]]+"-"+Vs[n[e+6]]+Vs[n[e+7]]+"-"+Vs[n[e+8]]+Vs[n[e+9]]+"-"+Vs[n[e+10]]+Vs[n[e+11]]+Vs[n[e+12]]+Vs[n[e+13]]+Vs[n[e+14]]+Vs[n[e+15]]).toLowerCase();if(!tY(t))throw TypeError("Stringified UUID is invalid");return t}(r)};let oY=(()=>{class n{constructor(){this.nodes=[],this.edges=[],this.seenNodes=[],this.resourceLabels={},this.knownPrefixes={schema:"http://schema.org/"}}buildElementData(t,r="en"){var i=this;return fh(function*(){return"http://schema.org/"==t["@context"]&&(t["@context"]="https://schema.org/"),i.context={...t["@context"],...i.knownPrefixes},i.nodes=[],i.edges=[],i.seenNodes=[],i.resourceLabels={},(yield(0,VP.toRDF)(t)).forEach(a=>i.processQuad(a)),i.nodes=i.appendNames(i.nodes,r),i.edges=i.appendNames(i.edges,r),{nodes:i.nodes,edges:i.edges}})()}appendElementData(t,r="en"){var i=this;return fh(function*(){return(yield(0,VP.toRDF)(t)).forEach(a=>i.processQuad(a)),i.nodes=i.appendNames(i.nodes,r),i.edges=i.appendNames(i.edges,r),{nodes:i.nodes,edges:i.edges}})()}processQuad(t){const r=t.subject.value;let i=t.predicate.value,s=t.object.value;if("http://www.w3.org/2004/02/skos/core#prefLabel"===i||"http://www.w3.org/2000/01/rdf-schema#label"===i)return void(Object.keys(this.resourceLabels).includes(r)?this.resourceLabels[r].push(t.object):this.resourceLabels[r]=[t.object]);"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===i&&(i="a"),this.appendNamedNode(r);const a=t.object.termType;"Literal"===a?s=this.appendLiteralNode(s):"BlankNode"===a?this.appendNamedNode(s,"individual"):"NamedNode"===a?this.appendNamedNode(s,"a"===i?"class":"individual"):console.warn("Unknown term type "+a),this.appendEdge(r,i,s)}appendNames(t,r="en"){return t.map(i=>{const s=this.resourceLabels[i.data.id];if(Array.isArray(s))1===s.length?i.data.name=s[0].value:console.log("MORE THAN ONE LABEL NOT YET SUPPORTED");else{if("class"===i.classes){if(null==i.data.uri)return i;i.data.name=this.getIdFromURI(i.data.uri)}if("edge"===i.classes){if(null==i.data.uri)return i;i.data.name=this.getIdFromURI(i.data.uri)}}return void 0!==i.data.size&&""!=i.data.name&&(i.data.size=70),i})}appendNamedNode(t,r="individual"){if(this.seenNodes.includes(t)){if("class"===r){const i=this.nodes.find(s=>s.data.id===t);null!=i&&(i.classes=r)}}else this.nodes.push({data:{id:t,uri:t,name:"",size:40},classes:r}),this.seenNodes.push(t)}appendLiteralNode(t){""===t&&(t="-");const r=this.camelize(t);return this.seenNodes.includes(r)||(this.nodes.push({data:{id:r,name:t,width:10*t.length+"px"},classes:"literal"}),this.seenNodes.push(r)),r}appendEdge(t,r,i){this.edges.push({data:{id:sY(),source:t,target:i,name:this.appendPrefix(r),uri:r},classes:"edge"})}appendPrefix(t){const r=Object.keys(this.context),i=Object.values(this.context);for(const s in i){const a=i[s];if(t.startsWith(a)){t=t.replace(a,`${r[s]}:`);break}}return t}camelize(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(r,i){return 0===i?r.toLowerCase():r.toUpperCase()}).replace(/\s+/g,"")}getIdFromURI(t){return t.includes("#")?t.split("#")[1]:t.split("/").pop()??t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class aY{constructor(e,t){this.newRect=e,this.oldRect=t,this.isFirst=null==t}}let lY=(()=>{class n{constructor(t,r){this.element=t,this.zone=r,this.resized=new Wn,this.observer=new ResizeObserver(i=>this.zone.run(()=>this.observe(i)))}ngOnInit(){this.observer.observe(this.element.nativeElement)}ngOnDestroy(){this.observer.disconnect()}observe(t){const r=t[0],i=new aY(r.contentRect,this.oldRect);this.oldRect=r.contentRect,this.resized.emit(i)}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(An))},n.\u0275dir=en({type:n,selectors:[["","imPoc1Resized",""]],outputs:{resized:"resized"},standalone:!0}),n})();const cY=["cy"];let uY=(()=>{class n{set content(t){if(t){if(this.canvas=t.nativeElement,null==this.canvas||null==this.elementData)return;this.rdfGraphService.build(this.canvas,this.elementData,this.settings)}}constructor(t,r){this.rdfGraphService=t,this.jsonLDProcessingService=r,this.settings=new y1,this.clickedContextMenu=new Wn}ngOnInit(){this.rdfGraphService.contextMenuClick().subscribe(t=>{t&&this.clickedContextMenu.emit(t),"copyURI"===t?.commandId&&navigator.clipboard.writeText(t.resourceURI??"")})}ngOnChanges(){var t=this;return fh(function*(){t.elementData=yield t.jsonLDProcessingService.buildElementData(t.data),null!=t.canvas&&null!=t.elementData&&t.rdfGraphService.build(t.canvas,t.elementData,t.settings)})()}ngAfterViewInit(){null!=this.canvas&&null!=this.elementData&&this.rdfGraphService.build(this.canvas,this.elementData,this.settings)}append(t){var r=this;return fh(function*(){if(null==r.canvas)return;const i=yield r.jsonLDProcessingService.buildElementData(t);r.rdfGraphService.addElements(i)})()}getCytoscape(){return this.rdfGraphService.getCytoscape()}onResized(){null==this.canvas||null==this.elementData||(this.canvas.innerHTML="",this.rdfGraphService.build(this.canvas,this.elementData,this.settings))}}return n.\u0275fac=function(t){return new(t||n)(ze(BP),ze(oY))},n.\u0275cmp=si({type:n,selectors:[["im-poc1-rdf-graph"]],viewQuery:function(t,r){if(1&t&&wi(cY,5),2&t){let i;mr(i=gr())&&(r.content=i.first)}},inputs:{data:"data",settings:"settings"},outputs:{clickedContextMenu:"clickedContextMenu"},features:[Gn],decls:2,vars:0,consts:[["id","graph-canvas","imPoc1Resized","",3,"resized"],["cy",""]],template:function(t,r){1&t&&(on(0,"div",0,1),or("resized",function(){return r.onResized()}),pn())},dependencies:[lY],styles:["#graph-canvas[_ngcontent-%COMP%]{height:100%;width:100%}  .node-hover-div{font-size:.6em}"]}),n})();function dY(n,e){if(1&n&&(on(0,"mat-option",11),Qs(1),pn()),2&n){const t=e.$implicit;Qt("value",t),un(1),ig(" ",t," ")}}function hY(n,e){if(1&n){const t=Lu();on(0,"div",3)(1,"mat-label"),Qs(2,"Edge length"),pn(),on(3,"mat-slider",4)(4,"input",5),or("valueChange",function(i){return os(t),Ii(Hn().edgeLengthChanged(i))}),pn()(),on(5,"mat-label"),Qs(6,"Node/edge scale"),pn(),on(7,"mat-slider",6)(8,"input",7),or("valueChange",function(i){return os(t),Ii(Hn().scaleChanged(i))}),pn()(),on(9,"mat-form-field",8)(10,"mat-label"),Qs(11,"Layout"),pn(),on(12,"mat-select",9),or("selectionChange",function(i){return os(t),Ii(Hn().layoutChanged(i))}),er(13,dY,2,2,"mat-option",10),pn()()()}if(2&n){const t=Hn();un(12),Qt("value",t.selectedLayout),un(1),Qt("ngForOf",t.layoutOptions)}}let fY=(()=>{class n{constructor(){this.settings=V1,this.isSmallScreen=!1,this.layoutOptions=Object.values(Tg),this.selectedLayout=this.settings.graph.layout}ngOnInit(){this.isSmallScreen=window.innerWidth<500}onContextMenuClick(t){console.log(t)}edgeLengthChanged(t){const r={...this.settings};r.graph.idealEdgeLength=t,this.settings=r}scaleChanged(t){const r={...this.settings};r.graph.scale=t,this.settings=r}layoutChanged(t){const r={...this.settings};r.graph.layout=t.value,this.settings=r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=si({type:n,selectors:[["im-poc1-graph"]],inputs:{data:"data"},standalone:!0,features:[uh],decls:3,vars:3,consts:[[1,"container"],["class","options",4,"ngIf"],[3,"data","settings","clickedContextMenu"],[1,"options"],["min","100","max","1500","step","50",1,"slider",2,"width","100%","margin-right","50px"],["matSliderThumb","","value","500",3,"valueChange"],["min","50","max","1000","step","50",1,"slider",2,"width","100%","margin-right","50px"],["matSliderThumb","","value","100",3,"valueChange"],[2,"width","400px"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(on(0,"div",0),er(1,hY,14,2,"div",1),on(2,"im-poc1-rdf-graph",2),or("clickedContextMenu",function(s){return r.onContextMenuClick(s)}),pn()()),2&t&&(un(1),Qt("ngIf",!r.isSmallScreen),un(1),Qt("data",r.data)("settings",r.settings))},dependencies:[ka,bg,Vu,v9,uY,B$,R$,oC,wW,xW,lC,T0,B7,F7,SO,x$],styles:[".container{position:relative;height:100%;overflow-y:hidden}.options{position:absolute;display:flex;gap:10px;top:5px;left:20px;right:20px;z-index:10}\n"],encapsulation:2}),n})();class Fr{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),tc.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let r=[];return this.decompose(e,t,r,0),tc.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Gg(this),s=new Gg(e);for(let a=t,u=t;;){if(i.next(a),s.next(a),a=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(u+=i.value.length,i.done||u>=r)return!0}}iter(e=1){return new Gg(this,e)}iterRange(e,t=this.length){return new zP(this,e,t)}iterLines(e,t){let r;if(null==e)r=this.iter();else{null==t&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new jP(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new Hi(e):tc.from(Hi.split(e,[])):Fr.empty}}class Hi extends Fr{constructor(e,t=function pY(n){let e=-1;for(let t of n)e+=t.length+1;return e}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let a=this.text[s],u=i+a.length;if((t?r:u)>=e)return new mY(i,u,r,a);i=u+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new Hi(HP(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){let a=r.pop(),u=N0(s.text,a.text.slice(),0,s.length);if(u.length<=32)r.push(new Hi(u,a.length+s.length));else{let h=u.length>>1;r.push(new Hi(u.slice(0,h)),new Hi(u.slice(h)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof Hi))return super.replace(e,t,r);let i=N0(this.text,N0(r.text,HP(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new Hi(i,s):tc.from(Hi.split(i,[]),s)}sliceString(e,t=this.length,r="\n"){let i="";for(let s=0,a=0;s<=t&&a<this.text.length;a++){let u=this.text[a],h=s+u.length;s>e&&a&&(i+=r),e<h&&t>s&&(i+=u.slice(Math.max(0,e-s),t-s)),s=h+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,32==r.length&&(t.push(new Hi(r,i)),r=[],i=-1);return i>-1&&t.push(new Hi(r,i)),t}}class tc extends Fr{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let a=this.children[s],u=i+a.length,h=r+a.lines-1;if((t?h:u)>=e)return a.lineInner(e,t,r,i);i=u+1,r=h+1}}decompose(e,t,r,i){for(let s=0,a=0;a<=t&&s<this.children.length;s++){let u=this.children[s],h=a+u.length;if(e<=h&&t>=a){let g=i&((a<=e?1:0)|(h>=t?2:0));a>=e&&h<=t&&!g?r.push(u):u.decompose(e-a,t-a,r,g)}a=h+1}}replace(e,t,r){if(r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let a=this.children[i],u=s+a.length;if(e>=s&&t<=u){let h=a.replace(e-s,t-s,r),g=this.lines-a.lines+h.lines;if(h.lines<g>>4&&h.lines>g>>6){let y=this.children.slice();return y[i]=h,new tc(y,this.length-(t-e)+r.length)}return super.replace(s,u,h)}s=u+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r="\n"){let i="";for(let s=0,a=0;s<this.children.length&&a<=t;s++){let u=this.children[s],h=a+u.length;a>e&&s&&(i+=r),e<h&&t>a&&(i+=u.sliceString(e-a,t-a,r)),a=h+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof tc))return 0;let r=0,[i,s,a,u]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==a||s==u)return r;let h=this.children[i],g=e.children[s];if(h!=g)return r+h.scanIdentical(g,t);r+=h.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let K of e)r+=K.lines;if(r<32){let K=[];for(let re of e)re.flatten(K);return new Hi(K,t)}let i=Math.max(32,r>>5),s=i<<1,a=i>>1,u=[],h=0,g=-1,y=[];function O(K){let re;if(K.lines>s&&K instanceof tc)for(let he of K.children)O(he);else K.lines>a&&(h>a||!h)?($(),u.push(K)):K instanceof Hi&&h&&(re=y[y.length-1])instanceof Hi&&K.lines+re.lines<=32?(h+=K.lines,g+=K.length+1,y[y.length-1]=new Hi(re.text.concat(K.text),re.length+1+K.length)):(h+K.lines>i&&$(),h+=K.lines,g+=K.length+1,y.push(K))}function $(){0!=h&&(u.push(1==y.length?y[0]:tc.from(y,g)),g=-1,h=y.length=0)}for(let K of e)O(K);return $(),1==u.length?u[0]:new tc(u,t)}}function N0(n,e,t=0,r=1e9){for(let i=0,s=0,a=!0;s<n.length&&i<=r;s++){let u=n[s],h=i+u.length;h>=t&&(h>r&&(u=u.slice(0,r-i)),i<t&&(u=u.slice(t-i)),a?(e[e.length-1]+=u,a=!1):e.push(u)),i=h+1}return e}function HP(n,e,t){return N0(n,[""],e,t)}Fr.empty=new Hi([""],0);class Gg{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Hi?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],a=s>>1;if(a==(t>0?i instanceof Hi?i.text.length:i.children.length:0)){if(0==r)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(t>0?0:1)){if(this.offsets[r]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(i instanceof Hi){let h=i.text[a+(t<0?-1:0)];if(this.offsets[r]+=t,h.length>Math.max(0,e))return this.value=0==e?h:t>0?h.slice(e):h.slice(0,h.length-e),this;e-=h.length}else{let h=i.children[a+(t<0?-1:0)];e>h.length?(e-=h.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(h),this.offsets.push(t>0?1:(h instanceof Hi?h.text.length:h.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class zP{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new Gg(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class jP{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Fr.prototype[Symbol.iterator]=function(){return this.iter()},Gg.prototype[Symbol.iterator]=zP.prototype[Symbol.iterator]=jP.prototype[Symbol.iterator]=function(){return this});class mY{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}let vp="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<vp.length;n++)vp[n]+=vp[n-1];function gY(n){for(let e=1;e<vp.length;e+=2)if(vp[e]>n)return vp[e-1]<=n;return!1}function UP(n){return n>=127462&&n<=127487}const GP=8205;function _o(n,e,t=!0,r=!0){return(t?$P:vY)(n,e,r)}function $P(n,e,t){if(e==n.length)return e;e&&WP(n.charCodeAt(e))&&YP(n.charCodeAt(e-1))&&e--;let r=Hs(n,e);for(e+=Oa(r);e<n.length;){let i=Hs(n,e);if(r==GP||i==GP||t&&gY(i))e+=Oa(i),r=i;else{if(!UP(i))break;{let s=0,a=e-2;for(;a>=0&&UP(Hs(n,a));)s++,a-=2;if(s%2==0)break;e+=2}}}return e}function vY(n,e,t){for(;e>0;){let r=$P(n,e-2,t);if(r<e)return r;e--}return 0}function WP(n){return n>=56320&&n<57344}function YP(n){return n>=55296&&n<56320}function Hs(n,e){let t=n.charCodeAt(e);if(!YP(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return WP(r)?r-56320+(t-55296<<10)+65536:t}function mC(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n)))}function Oa(n){return n<65536?1:2}const gC=/\r\n?|\n/;var xo=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(xo||(xo={}));class nc{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],a=this.sections[t++];a<0?(e(r,i,s),i+=s):i+=a,r+=s}}iterChangedRanges(e,t=!1){vC(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new nc(e)}composeDesc(e){return this.empty?e:e.empty?this:XP(this,e)}mapDesc(e,t=!1){return e.empty?this:yC(this,e,t)}mapPos(e,t=-1,r=xo.Simple){let i=0,s=0;for(let a=0;a<this.sections.length;){let u=this.sections[a++],h=this.sections[a++],g=i+u;if(h<0){if(g>e)return s+(e-i);s+=u}else{if(r!=xo.Simple&&g>=e&&(r==xo.TrackDel&&i<e&&g>e||r==xo.TrackBefore&&i<e||r==xo.TrackAfter&&g>e))return null;if(g>e||g==e&&t<0&&!u)return e==i||t<0?s:s+h;s+=h}i=g}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let u=i+this.sections[r++];if(this.sections[r++]>=0&&i<=t&&u>=e)return!(i<e&&u>t)||"cover";i=u}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>"number"!=typeof t))throw new RangeError("Invalid JSON representation of ChangeDesc");return new nc(e)}static create(e){return new nc(e)}}class fs extends nc{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return vC(this,(t,r,i,s,a)=>e=e.replace(i,i+(r-t),a),!1),e}mapDesc(e,t=!1){return yC(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let a=t[i],u=t[i+1];if(u>=0){t[i]=u,t[i+1]=a;let h=i>>1;for(;r.length<h;)r.push(Fr.empty);r.push(a?e.slice(s,s+a):Fr.empty)}s+=a}return new fs(t,r)}compose(e){return this.empty?e:e.empty?this:XP(this,e,!0)}map(e,t=!1){return e.empty?this:yC(this,e,t,!0)}iterChanges(e,t=!1){vC(this,e,t)}get desc(){return nc.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new $g(this);e:for(let a=0,u=0;;){let h=a==e.length?1e9:e[a++];for(;u<h||u==h&&0==s.len;){if(s.done)break e;let y=Math.min(s.len,h-u);to(i,y,-1);let O=-1==s.ins?-1:0==s.off?s.ins:0;to(t,y,O),O>0&&qu(r,t,s.text),s.forward(y),u+=y}let g=e[a++];for(;u<g;){if(s.done)break e;let y=Math.min(s.len,g-u);to(t,y,-1),to(i,y,-1==s.ins?-1:0==s.off?s.ins:0),s.forward(y),u+=y}}return{changes:new fs(t,r),filtered:nc.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];e.push(i<0?r:0==i?[r]:[r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],a=0,u=null;function h(y=!1){if(!y&&!i.length)return;a<t&&to(i,t-a,-1);let O=new fs(i,s);u=u?u.compose(O.map(u)):O,i=[],s=[],a=0}return function g(y){if(Array.isArray(y))for(let O of y)g(O);else if(y instanceof fs){if(y.length!=t)throw new RangeError(`Mismatched change set length (got ${y.length}, expected ${t})`);h(),u=u?u.compose(y.map(u)):y}else{let{from:O,to:$=O,insert:K}=y;if(O>$||O<0||$>t)throw new RangeError(`Invalid change range ${O} to ${$} (in doc of length ${t})`);let re=K?"string"==typeof K?Fr.of(K.split(r||gC)):K:Fr.empty,he=re.length;if(O==$&&0==he)return;O<a&&h(),O>a&&to(i,O-a,-1),to(i,$-O,he),qu(s,i,re),a=$}}(e),h(!u),u}static empty(e){return new fs(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if("number"==typeof s)t.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some((a,u)=>u&&"string"!=typeof a))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)t.push(s[0],0);else{for(;r.length<i;)r.push(Fr.empty);r[i]=Fr.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new fs(t,r)}static createSet(e,t){return new fs(e,t)}}function to(n,e,t,r=!1){if(0==e&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:0==e&&0==n[i]?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function qu(n,e,t){if(0==t.length)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Fr.empty);n.push(t)}}function vC(n,e,t){let r=n.inserted;for(let i=0,s=0,a=0;a<n.sections.length;){let u=n.sections[a++],h=n.sections[a++];if(h<0)i+=u,s+=u;else{let g=i,y=s,O=Fr.empty;for(;g+=u,y+=h,h&&r&&(O=O.append(r[a-2>>1])),!(t||a==n.sections.length||n.sections[a+1]<0);)u=n.sections[a++],h=n.sections[a++];e(i,g,s,y,O),i=g,s=y}}}function yC(n,e,t,r=!1){let i=[],s=r?[]:null,a=new $g(n),u=new $g(e);for(let h=-1;;)if(-1==a.ins&&-1==u.ins){let g=Math.min(a.len,u.len);to(i,g,-1),a.forward(g),u.forward(g)}else if(u.ins>=0&&(a.ins<0||h==a.i||0==a.off&&(u.len<a.len||u.len==a.len&&!t))){let g=u.len;for(to(i,u.ins,-1);g;){let y=Math.min(a.len,g);a.ins>=0&&h<a.i&&a.len<=y&&(to(i,0,a.ins),s&&qu(s,i,a.text),h=a.i),a.forward(y),g-=y}u.next()}else{if(!(a.ins>=0)){if(a.done&&u.done)return s?fs.createSet(i,s):nc.create(i);throw new Error("Mismatched change set lengths")}{let g=0,y=a.len;for(;y;)if(-1==u.ins){let O=Math.min(y,u.len);g+=O,y-=O,u.forward(O)}else{if(!(0==u.ins&&u.len<y))break;y-=u.len,u.next()}to(i,g,h<a.i?a.ins:0),s&&h<a.i&&qu(s,i,a.text),h=a.i,a.forward(a.len-y)}}}function XP(n,e,t=!1){let r=[],i=t?[]:null,s=new $g(n),a=new $g(e);for(let u=!1;;){if(s.done&&a.done)return i?fs.createSet(r,i):nc.create(r);if(0==s.ins)to(r,s.len,0,u),s.next();else if(0!=a.len||a.done){if(s.done||a.done)throw new Error("Mismatched change set lengths");{let h=Math.min(s.len2,a.len),g=r.length;if(-1==s.ins){let y=-1==a.ins?-1:a.off?0:a.ins;to(r,h,y,u),i&&y&&qu(i,r,a.text)}else-1==a.ins?(to(r,s.off?0:s.len,h,u),i&&qu(i,r,s.textBit(h))):(to(r,s.off?0:s.len,a.off?0:a.ins,u),i&&!a.off&&qu(i,r,a.text));u=(s.ins>h||a.ins>=0&&a.len>h)&&(u||r.length>g),s.forward2(h),a.forward(h)}}else to(r,0,a.ins,u),i&&qu(i,r,a.text),a.next()}}class $g{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Fr.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Fr.empty:t[r].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class wh{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new wh(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Mt.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Mt.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Mt.range(e.anchor,e.head)}static create(e,t,r){return new wh(e,t,r)}}class Mt{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Mt.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Mt([this.main],0)}addRange(e,t=!0){return Mt.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,Mt.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Mt(e.ranges.map(t=>wh.fromJSON(t)),e.main)}static single(e,t=e){return new Mt([Mt.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return Mt.normalized(e.slice(),t);r=s.to}return new Mt(e,t)}static cursor(e,t=0,r,i){return wh.create(e,e,(0==t?0:t<0?4:8)|(null==r?3:Math.min(2,r))|(i??33554431)<<5)}static range(e,t,r,i){let s=(r??33554431)<<5|(null==i?3:Math.min(2,i));return t<e?wh.create(t,e,24|s):wh.create(e,t,(t>e?4:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],a=e[i-1];if(s.empty?s.from<=a.to:s.from<a.to){let u=a.from,h=Math.max(s.to,a.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?Mt.range(h,u):Mt.range(u,h))}}return new Mt(e,t)}}function KP(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let bC=0;class dn{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=bC++,this.default=e([]),this.extensions="function"==typeof s?s(this):s}static define(e={}){return new dn(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:_C),!!e.static,e.enables)}of(e){return new L0([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new L0(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new L0(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function _C(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class L0{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=bC++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,a=e[s]>>1,u=2==this.type,h=!1,g=!1,y=[];for(let O of this.dependencies)"doc"==O?h=!0:"selection"==O?g=!0:1&(null!==(t=e[O.id])&&void 0!==t?t:1)||y.push(e[O.id]);return{create:O=>(O.values[a]=r(O),1),update(O,$){if(h&&$.docChanged||g&&($.docChanged||$.selection)||xC(O,y)){let K=r(O);if(u?!qP(K,O.values[a],i):!i(K,O.values[a]))return O.values[a]=K,1}return 0},reconfigure:(O,$)=>{let K,re=$.config.address[s];if(null!=re){let he=V0($,re);if(this.dependencies.every(xe=>xe instanceof dn?$.facet(xe)===O.facet(xe):!(xe instanceof es)||$.field(xe,!1)==O.field(xe,!1))||(u?qP(K=r(O),he,i):i(K=r(O),he)))return O.values[a]=he,0}else K=r(O);return O.values[a]=K,1}}}}function qP(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function xC(n,e){let t=!1;for(let r of e)1&Yg(n,r)&&(t=!0);return t}function yY(n,e,t){let r=t.map(h=>n[h.id]),i=t.map(h=>h.type),s=r.filter(h=>!(1&h)),a=n[e.id]>>1;function u(h){let g=[];for(let y=0;y<r.length;y++){let O=V0(h,r[y]);if(2==i[y])for(let $ of O)g.push($);else g.push(O)}return e.combine(g)}return{create(h){for(let g of r)Yg(h,g);return h.values[a]=u(h),1},update(h,g){if(!xC(h,s))return 0;let y=u(h);return e.compare(y,h.values[a])?0:(h.values[a]=y,1)},reconfigure(h,g){let y=xC(h,r),O=g.config.facets[e.id],$=g.facet(e);if(O&&!y&&_C(t,O))return h.values[a]=$,0;let K=u(h);return e.compare(K,$)?(h.values[a]=$,0):(h.values[a]=K,1)}}}const ZP=dn.define({static:!0});class es{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new es(bC++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){return(e.facet(ZP).find(r=>r.field==this)?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],a=this.updateF(s,i);return this.compareF(s,a)?0:(r.values[t]=a,1)},reconfigure:(r,i)=>null!=i.config.address[this.id]?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}init(e){return[this,ZP.of({field:this,create:e})]}get extension(){return this}}const Eh={lowest:4,low:3,default:2,high:1,highest:0};function Wg(n){return e=>new QP(e,n)}const Ch={highest:Wg(Eh.highest),high:Wg(Eh.high),default:Wg(Eh.default),low:Wg(Eh.low),lowest:Wg(Eh.lowest)};class QP{constructor(e,t){this.inner=e,this.prec=t}}class F0{of(e){return new wC(this,e)}reconfigure(e){return F0.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class wC{constructor(e,t){this.compartment=e,this.inner=t}}class B0{constructor(e,t,r,i,s,a){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),a=new Map;for(let $ of function bY(n,e,t){let r=[[],[],[],[],[]],i=new Map;return function s(a,u){let h=i.get(a);if(null!=h){if(h<=u)return;let g=r[h].indexOf(a);g>-1&&r[h].splice(g,1),a instanceof wC&&t.delete(a.compartment)}if(i.set(a,u),Array.isArray(a))for(let g of a)s(g,u);else if(a instanceof wC){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let g=e.get(a.compartment)||a.inner;t.set(a.compartment,g),s(g,u)}else if(a instanceof QP)s(a.inner,a.prec);else if(a instanceof es)r[u].push(a),a.provides&&s(a.provides,u);else if(a instanceof L0)r[u].push(a),a.facet.extensions&&s(a.facet.extensions,Eh.default);else{let g=a.extension;if(!g)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(g,u)}}(n,Eh.default),r.reduce((a,u)=>a.concat(u))}(e,t,a))$ instanceof es?i.push($):(s[$.facet.id]||(s[$.facet.id]=[])).push($);let u=Object.create(null),h=[],g=[];for(let $ of i)u[$.id]=g.length<<1,g.push(K=>$.slot(K));let y=r?.config.facets;for(let $ in s){let K=s[$],re=K[0].facet,he=y&&y[$]||[];if(K.every(xe=>0==xe.type))if(u[re.id]=h.length<<1|1,_C(he,K))h.push(r.facet(re));else{let xe=re.combine(K.map(Pe=>Pe.value));h.push(r&&re.compare(xe,r.facet(re))?r.facet(re):xe)}else{for(let xe of K)0==xe.type?(u[xe.id]=h.length<<1|1,h.push(xe.value)):(u[xe.id]=g.length<<1,g.push(Pe=>xe.dynamicSlot(Pe)));u[re.id]=g.length<<1,g.push(xe=>yY(xe,re,K))}}let O=g.map($=>$(u));return new B0(e,a,O,u,h,s)}}function Yg(n,e){if(1&e)return 2;let t=e>>1,r=n.status[t];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function V0(n,e){return 1&e?n.config.staticValues[e>>1]:n.values[e>>1]}const JP=dn.define(),eN=dn.define({combine:n=>n.some(e=>e),static:!0}),tN=dn.define({combine:n=>n.length?n[0]:void 0,static:!0}),nN=dn.define(),rN=dn.define(),iN=dn.define(),sN=dn.define({combine:n=>!!n.length&&n[0]});class Kc{constructor(e,t){this.type=e,this.value=t}static define(){return new _Y}}class _Y{of(e){return new Kc(this,e)}}class xY{constructor(e){this.map=e}of(e){return new lr(this,e)}}let lr=(()=>{class n{constructor(t,r){this.type=t,this.value=r}map(t){let r=this.type.map(this.value,t);return void 0===r?void 0:r==this.value?this:new n(this.type,r)}is(t){return this.type==t}static define(t={}){return new xY(t.map||(r=>r))}static mapEffects(t,r){if(!t.length)return t;let i=[];for(let s of t){let a=s.map(r);a&&i.push(a)}return i}}return n.reconfigure=n.define(),n.appendConfig=n.define(),n})(),rc=(()=>{class n{constructor(t,r,i,s,a,u){this.startState=t,this.changes=r,this.selection=i,this.effects=s,this.annotations=a,this.scrollIntoView=u,this._doc=null,this._state=null,i&&KP(i,r.newLength),a.some(h=>h.type==n.time)||(this.annotations=a.concat(n.time.of(Date.now())))}static create(t,r,i,s,a,u){return new n(t,r,i,s,a,u)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let r of this.annotations)if(r.type==t)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let r=this.annotation(n.userEvent);return!(!r||!(r==t||r.length>t.length&&r.slice(0,t.length)==t&&"."==r[t.length]))}}return n.time=Kc.define(),n.userEvent=Kc.define(),n.addToHistory=Kc.define(),n.remote=Kc.define(),n})();function wY(n,e){let t=[];for(let r=0,i=0;;){let s,a;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],a=n[r++];else{if(!(i<e.length))return t;s=e[i++],a=e[i++]}!t.length||t[t.length-1]<s?t.push(s,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function oN(n,e,t){var r;let i,s,a;return t?(i=e.changes,s=fs.empty(e.changes.length),a=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),a=n.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(s):null===(r=n.selection)||void 0===r?void 0:r.map(i),effects:lr.mapEffects(n.effects,i).concat(lr.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function EC(n,e,t){let r=e.selection,i=yp(e.annotations);return e.userEvent&&(i=i.concat(rc.userEvent.of(e.userEvent))),{changes:e.changes instanceof fs?e.changes:fs.of(e.changes||[],t,n.facet(tN)),selection:r&&(r instanceof Mt?r:Mt.single(r.anchor,r.head)),effects:yp(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function aN(n,e,t){let r=EC(n,e.length?e[0]:{},n.doc.length);e.length&&!1===e[0].filter&&(t=!1);for(let s=1;s<e.length;s++){!1===e[s].filter&&(t=!1);let a=!!e[s].sequential;r=oN(r,EC(n,e[s],a?r.changes.newLength:n.doc.length),a)}let i=rc.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function CY(n){let e=n.startState,t=e.facet(iN),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=oN(r,EC(e,s,n.changes.newLength),!0))}return r==n?n:rc.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}(t?function EY(n){let e=n.startState,t=!0;for(let i of e.facet(nN)){let s=i(n);if(!1===s){t=!1;break}Array.isArray(s)&&(t=!0===t?s:wY(t,s))}if(!0!==t){let i,s;if(!1===t)s=n.changes.invertedDesc,i=fs.empty(e.doc.length);else{let a=n.changes.filter(t);i=a.changes,s=a.filtered.mapDesc(a.changes).invertedDesc}n=rc.create(e,i,n.selection&&n.selection.map(s),lr.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(rN);for(let i=r.length-1;i>=0;i--){let s=r[i](n);n=s instanceof rc?s:Array.isArray(s)&&1==s.length&&s[0]instanceof rc?s[0]:aN(e,yp(s),!1)}return n}(i):i)}const SY=[];function yp(n){return null==n?SY:Array.isArray(n)?n:[n]}var gi=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(gi||(gi={}));const DY=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let CC;try{CC=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}let wo=(()=>{class n{constructor(t,r,i,s,a,u){this.config=t,this.doc=r,this.selection=i,this.values=s,this.status=t.statusTemplate.slice(),this.computeSlot=a,u&&(u._state=this);for(let h=0;h<this.config.dynamicSlots.length;h++)Yg(this,h<<1);this.computeSlot=null}field(t,r=!0){let i=this.config.address[t.id];if(null!=i)return Yg(this,i),V0(this,i);if(r)throw new RangeError("Field is not present in this state")}update(...t){return aN(this,t,!0)}applyTransaction(t){let a,r=this.config,{base:i,compartments:s}=r;for(let u of t.effects)u.is(F0.reconfigure)?(r&&(s=new Map,r.compartments.forEach((h,g)=>s.set(g,h)),r=null),s.set(u.value.compartment,u.value.extension)):u.is(lr.reconfigure)?(r=null,i=u.value):u.is(lr.appendConfig)&&(r=null,i=yp(i).concat(u.value));r?a=t.startState.values.slice():(r=B0.resolve(i,s,this),a=new n(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(h,g)=>g.reconfigure(h,this),null).values),new n(r,t.newDoc,t.newSelection,a,(u,h)=>h.update(u,t),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:t},range:Mt.cursor(r.from+t.length)}))}changeByRange(t){let r=this.selection,i=t(r.ranges[0]),s=this.changes(i.changes),a=[i.range],u=yp(i.effects);for(let h=1;h<r.ranges.length;h++){let g=t(r.ranges[h]),y=this.changes(g.changes),O=y.map(s);for(let K=0;K<h;K++)a[K]=a[K].map(O);let $=s.mapDesc(y,!0);a.push(g.range.map($)),s=s.compose(O),u=lr.mapEffects(u,O).concat(lr.mapEffects(yp(g.effects),$))}return{changes:s,selection:Mt.create(a,r.mainIndex),effects:u}}changes(t=[]){return t instanceof fs?t:fs.of(t,this.doc.length,this.facet(n.lineSeparator))}toText(t){return Fr.of(t.split(this.facet(n.lineSeparator)||gC))}sliceDoc(t=0,r=this.doc.length){return this.doc.sliceString(t,r,this.lineBreak)}facet(t){let r=this.config.address[t.id];return null==r?t.default:(Yg(this,r),V0(this,r))}toJSON(t){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let s=t[i];s instanceof es&&null!=this.config.address[s.id]&&(r[i]=s.spec.toJSON(this.field(t[i]),this))}return r}static fromJSON(t,r={},i){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(i)for(let a in i)if(Object.prototype.hasOwnProperty.call(t,a)){let u=i[a],h=t[a];s.push(u.init(g=>u.spec.fromJSON(h,g)))}return n.create({doc:t.doc,selection:Mt.fromJSON(t.selection),extensions:r.extensions?s.concat([r.extensions]):s})}static create(t={}){let r=B0.resolve(t.extensions||[],new Map),i=t.doc instanceof Fr?t.doc:Fr.of((t.doc||"").split(r.staticFacet(n.lineSeparator)||gC)),s=t.selection?t.selection instanceof Mt?t.selection:Mt.single(t.selection.anchor,t.selection.head):Mt.single(0);return KP(s,i.length),r.staticFacet(eN)||(s=s.asSingle()),new n(r,i,s,r.dynamicSlots.map(()=>null),(a,u)=>u.create(a),null)}get tabSize(){return this.facet(n.tabSize)}get lineBreak(){return this.facet(n.lineSeparator)||"\n"}get readOnly(){return this.facet(sN)}phrase(t,...r){for(let i of this.facet(n.phrases))if(Object.prototype.hasOwnProperty.call(i,t)){t=i[t];break}return r.length&&(t=t.replace(/\$(\$|\d*)/g,(i,s)=>{if("$"==s)return"$";let a=+(s||1);return!a||a>r.length?i:r[a-1]})),t}languageDataAt(t,r,i=-1){let s=[];for(let a of this.facet(JP))for(let u of a(this,r,i))Object.prototype.hasOwnProperty.call(u,t)&&s.push(u[t]);return s}charCategorizer(t){return function TY(n){return e=>{if(!/\S/.test(e))return gi.Space;if(function MY(n){if(CC)return CC.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||DY.test(t)))return!0}return!1}(e))return gi.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return gi.Word;return gi.Other}}(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:r,from:i,length:s}=this.doc.lineAt(t),a=this.charCategorizer(t),u=t-i,h=t-i;for(;u>0;){let g=_o(r,u,!1);if(a(r.slice(g,u))!=gi.Word)break;u=g}for(;h<s;){let g=_o(r,h);if(a(r.slice(h,g))!=gi.Word)break;h=g}return u==h?null:Mt.range(u+i,h+i)}}return n.allowMultipleSelections=eN,n.tabSize=dn.define({combine:e=>e.length?e[0]:4}),n.lineSeparator=tN,n.readOnly=sN,n.phrases=dn.define({compare(e,t){let r=Object.keys(e),i=Object.keys(t);return r.length==i.length&&r.every(s=>e[s]==t[s])}}),n.languageData=JP,n.changeFilter=nN,n.transactionFilter=rN,n.transactionExtender=iN,n})();function gl(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let a=i[s],u=r[s];if(void 0===u)r[s]=a;else if(u!==a&&void 0!==a){if(!Object.hasOwnProperty.call(t,s))throw new Error("Config merge conflict for field "+s);r[s]=t[s](u,a)}}for(let i in e)void 0===r[i]&&(r[i]=e[i]);return r}F0.reconfigure=lr.define();class Sh{eq(e){return this==e}range(e,t=e){return Xg.create(e,t,this)}}Sh.prototype.startSide=Sh.prototype.endSide=0,Sh.prototype.point=!1,Sh.prototype.mapMode=xo.TrackDel;class Xg{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new Xg(e,t,r)}}function SC(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class DC{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let a=i,u=s.length;;){if(a==u)return a;let h=a+u>>1,g=s[h]-e||(r?this.value[h].endSide:this.value[h].startSide)-t;if(h==a)return g>=0?a:u;g>=0?u=h:a=h+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),a=this.findIndex(r,1e9,!1,s);s<a;s++)if(!1===i(this.from[s]+e,this.to[s]+e,this.value[s]))return!1}map(e,t){let r=[],i=[],s=[],a=-1,u=-1;for(let h=0;h<this.value.length;h++){let $,K,g=this.value[h],y=this.from[h]+e,O=this.to[h]+e;if(y==O){let re=t.mapPos(y,g.startSide,g.mapMode);if(null==re||($=K=re,g.startSide!=g.endSide&&(K=t.mapPos(y,g.endSide),K<$)))continue}else if($=t.mapPos(y,g.startSide),K=t.mapPos(O,g.endSide),$>K||$==K&&g.startSide>0&&g.endSide<=0)continue;(K-$||g.endSide-g.startSide)<0||(a<0&&(a=$),g.point&&(u=Math.max(u,K-$)),r.push(g),i.push($-a),s.push(K-a))}return{mapped:r.length?new DC(i,s,r,u):null,pos:a}}}let Ci=(()=>{class n{constructor(t,r,i,s){this.chunkPos=t,this.chunk=r,this.nextLayer=i,this.maxPoint=s}static create(t,r,i,s){return new n(t,r,i,s)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let r of this.chunk)t+=r.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:r=[],sort:i=!1,filterFrom:s=0,filterTo:a=this.length}=t,u=t.filter;if(0==r.length&&!u)return this;if(i&&(r=r.slice().sort(SC)),this.isEmpty)return r.length?n.of(r):this;let h=new cN(this,null,-1).goto(0),g=0,y=[],O=new Zu;for(;h.value||g<r.length;)if(g<r.length&&(h.from-r[g].from||h.startSide-r[g].value.startSide)>=0){let $=r[g++];O.addInner($.from,$.to,$.value)||y.push($)}else 1==h.rangeIndex&&h.chunkIndex<this.chunk.length&&(g==r.length||this.chunkEnd(h.chunkIndex)<r[g].from)&&(!u||s>this.chunkEnd(h.chunkIndex)||a<this.chunkPos[h.chunkIndex])&&O.addChunk(this.chunkPos[h.chunkIndex],this.chunk[h.chunkIndex])?h.nextChunk():((!u||s>h.to||a<h.from||u(h.from,h.to,h.value))&&(O.addInner(h.from,h.to,h.value)||y.push(Xg.create(h.from,h.to,h.value))),h.next());return O.finishInner(this.nextLayer.isEmpty&&!y.length?n.empty:this.nextLayer.update({add:y,filter:u,filterFrom:s,filterTo:a}))}map(t){if(t.empty||this.isEmpty)return this;let r=[],i=[],s=-1;for(let u=0;u<this.chunk.length;u++){let h=this.chunkPos[u],g=this.chunk[u],y=t.touchesRange(h,h+g.length);if(!1===y)s=Math.max(s,g.maxPoint),r.push(g),i.push(t.mapPos(h));else if(!0===y){let{mapped:O,pos:$}=g.map(h,t);O&&(s=Math.max(s,O.maxPoint),r.push(O),i.push($))}}let a=this.nextLayer.map(t);return 0==r.length?a:new n(i,r,a||n.empty,s)}between(t,r,i){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],u=this.chunk[s];if(r>=a&&t<=a+u.length&&!1===u.between(a,t-a,r-a,i))return}this.nextLayer.between(t,r,i)}}iter(t=0){return Kg.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,r=0){return Kg.from(t).goto(r)}static compare(t,r,i,s,a=-1){let u=t.filter($=>$.maxPoint>0||!$.isEmpty&&$.maxPoint>=a),h=r.filter($=>$.maxPoint>0||!$.isEmpty&&$.maxPoint>=a),g=lN(u,h,i),y=new qg(u,g,a),O=new qg(h,g,a);i.iterGaps(($,K,re)=>uN(y,$,O,K,re,s)),i.empty&&0==i.length&&uN(y,0,O,0,0,s)}static eq(t,r,i=0,s){null==s&&(s=999999999);let a=t.filter(O=>!O.isEmpty&&r.indexOf(O)<0),u=r.filter(O=>!O.isEmpty&&t.indexOf(O)<0);if(a.length!=u.length)return!1;if(!a.length)return!0;let h=lN(a,u),g=new qg(a,h,0).goto(i),y=new qg(u,h,0).goto(i);for(;;){if(g.to!=y.to||!TC(g.active,y.active)||g.point&&(!y.point||!g.point.eq(y.point)))return!1;if(g.to>s)return!0;g.next(),y.next()}}static spans(t,r,i,s,a=-1){let u=new qg(t,null,a).goto(r),h=r,g=u.openStart;for(;;){let y=Math.min(u.to,i);if(u.point){let O=u.activeForPoint(u.to),$=u.pointFrom<r?O.length+1:Math.min(O.length,g);s.point(h,y,u.point,O,$,u.pointRank),g=Math.min(u.openEnd(y),O.length)}else y>h&&(s.span(h,y,u.active,g),g=u.openEnd(y));if(u.to>i)return g+(u.point&&u.to>i?1:0);h=u.to,u.next()}}static of(t,r=!1){let i=new Zu;for(let s of t instanceof Xg?[t]:r?function AY(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(SC(e,r)>0)return n.slice().sort(SC);e=r}return n}(t):t)i.add(s.from,s.to,s.value);return i.finish()}}return n.empty=new n([],[],null,-1),n})();Ci.empty.nextLayer=Ci.empty;class Zu{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new DC(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Zu)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),0))}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Ci.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=Ci.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function lN(n,e,t){let r=new Map;for(let s of n)for(let a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&r.set(s.chunk[a],s.chunkPos[a]);let i=new Set;for(let s of e)for(let a=0;a<s.chunk.length;a++){let u=r.get(s.chunk[a]);null!=u&&(t?t.mapPos(u):u)==s.chunkPos[a]&&!t?.touchesRange(u,u+s.chunk[a].length)&&i.add(s.chunk[a])}return i}class cN{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex];if(this.from=e+t.from[this.rangeIndex],this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Kg{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let a=e[s];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new cN(a,t,r,s));return 1==i.length?i[0]:new Kg(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)MC(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)MC(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),MC(this.heap,0)}}}function MC(n,e){for(let t=n[e];;){let r=1+(e<<1);if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class qg{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Kg.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){H0(this.active,e),H0(this.activeTo,e),H0(this.activeRank,e),this.minActive=dN(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;z0(this.active,t,r),z0(this.activeTo,t,i),z0(this.activeRank,t,s),e&&z0(e,t,this.cursor.from),this.minActive=dN(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&H0(r,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let s=this.cursor.value;if(s.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function uN(n,e,t,r,i,s){n.goto(e),t.goto(r);let a=r+i,u=r,h=r-e;for(;;){let g=n.to+h-t.to||n.endSide-t.endSide,y=g<0?n.to+h:t.to,O=Math.min(y,a);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&TC(n.activeForPoint(n.to+h),t.activeForPoint(t.to))||s.comparePoint(u,O,n.point,t.point):O>u&&!TC(n.active,t.active)&&s.compareRange(u,O,n.active,t.active),y>a)break;u=y,g<=0&&n.next(),g>=0&&t.next()}}function TC(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function H0(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function z0(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function dN(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Zg(n,e,t=n.length){let r=0;for(let i=0;i<t;)9==n.charCodeAt(i)?(r+=e-r%e,i++):(r++,i=_o(n,i));return r}function AC(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=9==n.charCodeAt(i)?t-s%t:1,i=_o(n,i)}return!0===r?-1:n.length}const hN=typeof Symbol>"u"?"__\u037c":Symbol.for("\u037c"),kC=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),fN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Qu{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function s(a,u,h,g){let y=[],O=/^@(\w+)\b/.exec(a[0]),$=O&&"keyframes"==O[1];if(O&&null==u)return h.push(a[0]+";");for(let K in u){let re=u[K];if(/&/.test(K))s(K.split(/,\s*/).map(he=>a.map(xe=>he.replace(/&/,xe))).reduce((he,xe)=>he.concat(xe)),re,h);else if(re&&"object"==typeof re){if(!O)throw new RangeError("The value of a property ("+K+") should be a primitive value.");s(i(K),re,y,$)}else null!=re&&y.push(K.replace(/_.*/,"").replace(/[A-Z]/g,he=>"-"+he.toLowerCase())+": "+re+";")}(y.length||$)&&h.push((!r||O||g?a:a.map(r)).join(", ")+" {"+y.join(" ")+"}")}for(let a in e)s(i(a),e[a],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=fN[hN]||1;return fN[hN]=e+1,"\u037c"+e.toString(36)}static mount(e,t){(e[kC]||new IY(e)).mount(Array.isArray(t)?t:[t])}}let j0=null;class IY{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(j0)return e.adoptedStyleSheets=[j0.sheet,...e.adoptedStyleSheets],e[kC]=j0;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],j0=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[kC]=this}mount(e){let t=this.sheet,r=0,i=0;for(let s=0;s<e.length;s++){let a=e[s],u=this.modules.indexOf(a);if(u<i&&u>-1&&(this.modules.splice(u,1),i--,u=-1),-1==u){if(this.modules.splice(i++,0,a),t)for(let h=0;h<a.rules.length;h++)t.insertRule(a.rules[h],r++)}else{for(;i<u;)r+=this.modules[i++].rules.length;r+=a.rules.length,i++}}if(!t){let s="";for(let a=0;a<this.modules.length;a++)s+=this.modules[a].getRules()+"\n";this.styleTag.textContent=s}}}for(var Ju={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Qg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},pN=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),kY=(typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent),typeof navigator<"u"&&/Mac/.test(navigator.platform)),OY=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),RY=kY||pN&&+pN[1]<57,zs=0;zs<10;zs++)Ju[48+zs]=Ju[96+zs]=String(zs);for(zs=1;zs<=24;zs++)Ju[zs+111]="F"+zs;for(zs=65;zs<=90;zs++)Ju[zs]=String.fromCharCode(zs+32),Qg[zs]=String.fromCharCode(zs);for(var OC in Ju)Qg.hasOwnProperty(OC)||(Qg[OC]=Ju[OC]);function U0(n){let e;return e=11==n.nodeType?n.getSelection?n:n.ownerDocument:n,e.getSelection()}function bp(n,e){return!!e&&(n==e||n.contains(1!=e.nodeType?e.parentNode:e))}function G0(n,e){if(!e.anchorNode)return!1;try{return bp(n,e.anchorNode)}catch{return!1}}function Jg(n){return 3==n.nodeType?xp(n,0,n.nodeValue.length).getClientRects():1==n.nodeType?n.getClientRects():[]}function $0(n,e,t,r){return!!t&&(mN(n,e,t,r,-1)||mN(n,e,t,r,1))}function W0(n){for(var e=0;;e++)if(!(n=n.previousSibling))return e}function mN(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:ev(n))){if("DIV"==n.nodeName)return!1;let s=n.parentNode;if(!s||1!=s.nodeType)return!1;e=W0(n)+(i<0?0:1),n=s}else{if(1!=n.nodeType)return!1;if(1==(n=n.childNodes[e+(i<0?-1:0)]).nodeType&&"false"==n.contentEditable)return!1;e=i<0?ev(n):0}}}function ev(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}const gN={left:0,right:0,top:0,bottom:0};function RC(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function LY(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}class VY{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let yN,_p=null;function vN(n){if(n.setActive)return n.setActive();if(_p)return n.focus(_p);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(null==_p?{get preventScroll(){return _p={preventScroll:!0},!0}}:void 0),!_p){_p=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}function xp(n,e,t=e){let r=yN||(yN=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function wp(n,e,t){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,n.dispatchEvent(i);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,n.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function bN(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}class js{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new js(e.parentNode,W0(e),t)}static after(e,t){return new js(e.parentNode,W0(e)+1,t)}}const PC=[];class ci{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e,t){if(2&this.dirty){let s,r=this.dom,i=null;for(let a of this.children){if(a.dirty){if(!a.dom&&(s=i?i.nextSibling:r.firstChild)){let u=ci.get(s);(!u||!u.parent&&u.canReuseDOM(a))&&a.reuseDOM(s)}a.sync(e,t),a.dirty=0}if(s=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=a.dom&&(t.written=!0),a.dom.parentNode==r)for(;s&&s!=a.dom;)s=_N(s);else r.insertBefore(a.dom,s);i=a.dom}for(s=i?i.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=_N(s)}else if(1&this.dirty)for(let r of this.children)r.dirty&&(r.sync(e,t),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=0==ev(e)?0:0==t?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;0==i&&s.firstChild!=s.lastChild&&(i=e==s.firstChild?-1:1),e=s}r=i<0?e:e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!ci.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let a=this.children[i];if(a.dom==r)return s;s+=a.length+a.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,s=-1,a=-1,u=-1;for(let h=0,g=r,y=r;h<this.children.length;h++){let O=this.children[h],$=g+O.length;if(g<e&&$>t)return O.domBoundsAround(e,t,g);if($>=e&&-1==i&&(i=h,s=g),g>t&&O.dom.parentNode==this.dom){a=h,u=y;break}y=$,g=$+O.breakAfter}return{from:s,to:u<0?r+this.length:u,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=PC){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new xN(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,s,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}function _N(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}ci.prototype.breakAfter=0;class xN{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function wN(n,e,t,r,i,s,a,u,h){let{children:g}=n,y=g.length?g[e]:null,O=s.length?s[s.length-1]:null,$=O?O.breakAfter:a;if(!(e==r&&y&&!a&&!$&&s.length<2&&y.merge(t,i,s.length?O:null,0==t,u,h))){if(r<g.length){let K=g[r];K&&i<K.length?(e==r&&(K=K.split(i),i=0),!$&&O&&K.merge(0,i,O,!0,0,h)?s[s.length-1]=K:(i&&K.merge(0,i,null,!1,0,h),s.push(K))):K?.breakAfter&&(O?O.breakAfter=1:a=1),r++}for(y&&(y.breakAfter=a,t>0&&(!a&&s.length&&y.merge(t,y.length,s[0],!1,u,0)?y.breakAfter=s.shift().breakAfter:(t<y.length||y.children.length&&0==y.children[y.children.length-1].length)&&y.merge(t,y.length,null,!1,u,0),e++));e<r&&s.length;)if(g[r-1].become(s[s.length-1]))r--,s.pop(),h=s.length?0:u;else{if(!g[e].become(s[0]))break;e++,s.shift(),u=s.length?0:h}!s.length&&e&&r<g.length&&!g[e-1].breakAfter&&g[r].merge(0,0,g[e-1],!1,u,h)&&e--,(e<r||s.length)&&n.replaceChildren(e,r,s)}}function EN(n,e,t,r,i,s){let a=n.childCursor(),{i:u,off:h}=a.findPos(t,1),{i:g,off:y}=a.findPos(e,-1),O=e-t;for(let $ of r)O+=$.length;n.length+=O,wN(n,g,y,u,h,r,0,i,s)}let la=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},NC=typeof document<"u"?document:{documentElement:{style:{}}};const LC=/Edge\/(\d+)/.exec(la.userAgent),CN=/MSIE \d/.test(la.userAgent),FC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(la.userAgent),Y0=!!(CN||FC||LC),SN=!Y0&&/gecko\/(\d+)/i.test(la.userAgent),BC=!Y0&&/Chrome\/(\d+)/.exec(la.userAgent),DN="webkitFontSmoothing"in NC.documentElement.style,MN=!Y0&&/Apple Computer/.test(la.vendor),TN=MN&&(/Mobile\/\w+/.test(la.userAgent)||la.maxTouchPoints>2);var fn={mac:TN||/Mac/.test(la.platform),windows:/Win/.test(la.platform),linux:/Linux|X11/.test(la.platform),ie:Y0,ie_version:CN?NC.documentMode||6:FC?+FC[1]:LC?+LC[1]:0,gecko:SN,gecko_version:SN?+(/Firefox\/(\d+)/.exec(la.userAgent)||[0,0])[1]:0,chrome:!!BC,chrome_version:BC?+BC[1]:0,ios:TN,android:/Android\b/.test(la.userAgent),webkit:DN,safari:MN,webkit_version:DN?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=NC.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class ed extends ci{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,r){return(!r||r instanceof ed&&!(this.length-(t-e)+r.length>256))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new ed(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new js(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return VC(this.dom,e,t)}}class ic extends ci{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(bN(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,s,a){return!(r&&(!(r instanceof ic&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&a<=0)||(EN(this,e,t,r?r.children:[],s-1,a-1),this.markDirty(),0))}split(e){let t=[],r=0,i=-1,s=0;for(let u of this.children){let h=r+u.length;h>e&&t.push(r<e?u.split(e-r):u),i<0&&r>=e&&(i=s),r=h,s++}let a=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new ic(this.mark,t,a)}domAtPos(e){return kN(this,e)}coordsAt(e,t){return RN(this,e,t)}}function VC(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,s=e,a=0;0==e&&t<0||e==r&&t>=0?fn.chrome||fn.gecko||(e?(i--,a=1):s<r&&(s++,a=-1)):t<0?i--:s<r&&s++;let u=xp(n,i,s).getClientRects();if(!u.length)return gN;let h=u[(a?a<0:t>=0)?0:u.length-1];return fn.safari&&!a&&0==h.width&&(h=Array.prototype.find.call(u,g=>g.width)||h),a?RC(h,a<0):h||null}class td extends ci{constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}static create(e,t,r){return new(e.customView||td)(e,t,r)}split(e){let t=td.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,r,i,s,a){return!(r&&(!(r instanceof td&&this.widget.compare(r.widget))||e>0&&s<=0||t<this.length&&a<=0)||(this.length=e+(r?r.length:0)+(this.length-t),0))}become(e){return e.length==this.length&&e instanceof td&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return Fr.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Fr.empty}domAtPos(e){return(this.length?0==e:this.side>0)?js.before(this.dom):js.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.dom.getClientRects(),i=null;if(!r.length)return gN;for(let s=e>0?r.length-1:0;i=r[s],!(e>0?0==s:s==r.length-1||i.top<i.bottom);s+=e>0?-1:1);return this.length?i:RC(i,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class AN extends td{domAtPos(e){let{topView:t,text:r}=this.widget;return t?HC(e,0,t,r,(i,s)=>i.domAtPos(s),i=>new js(r,Math.min(i,r.nodeValue.length))):new js(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:r,text:i}=this.widget;return r?IN(e,t,r,i):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:r,text:i}=this.widget;return r?HC(e,t,r,i,(s,a,u)=>s.coordsAt(a,u),(s,a)=>VC(i,s,a)):VC(i,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function HC(n,e,t,r,i,s){if(t instanceof ic){for(let a=t.dom.firstChild;a;a=a.nextSibling){let u=ci.get(a);if(!u)return s(n,e);let h=bp(a,r),g=u.length+(h?r.nodeValue.length:0);if(n<g||n==g&&u.getSide()<=0)return h?HC(n,e,u,r,i,s):i(u,n,e);n-=g}return i(t,t.length,-1)}return t.dom==r?s(n,e):i(t,n,e)}function IN(n,e,t,r){if(t instanceof ic){let i=0;for(let s of t.children){let a=bp(s.dom,r);if(bp(s.dom,n))return i+(a?IN(n,e,s,r):s.localPosFromDOM(n,e));i+=a?r.nodeValue.length:s.length}}else if(t.dom==r)return Math.min(e,r.nodeValue.length);return t.localPosFromDOM(n,e)}class Dh extends ci{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Dh&&e.side==this.side}split(){return new Dh(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?js.before(this.dom):js.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),r=function UY(n,e){let t=n.parent,r=t?t.children.indexOf(n):-1;for(;t&&r>=0;)if(e<0?r>0:r<t.children.length){let i=t.children[r+e];if(i instanceof ed){let s=i.coordsAt(e<0?i.length:0,e);if(s)return s}r+=e}else{if(!(t instanceof ic&&t.parent)){let i=t.dom.lastChild;if(i&&"BR"==i.nodeName)return i.getClientRects()[0];break}r=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent}}(this,this.side>0?-1:1);return r&&r.top<t.bottom&&r.bottom>t.top?{left:t.left,right:t.right,top:r.top,bottom:r.bottom}:t}get overrideDOMText(){return Fr.empty}get isHidden(){return!0}}function kN(n,e){let t=n.dom,{children:r}=n,i=0;for(let s=0;i<r.length;i++){let a=r[i],u=s+a.length;if(!(u==s&&a.getSide()<=0)){if(e>s&&e<u&&a.dom.parentNode==t)return a.domAtPos(e-s);if(e<=s)break;s=u}}for(let s=i;s>0;s--){let a=r[s-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let s=i;s<r.length;s++){let a=r[s];if(a.dom.parentNode==t)return a.domAtPos(0)}return new js(t,0)}function ON(n,e,t){let r,{children:i}=n;t>0&&e instanceof ic&&i.length&&(r=i[i.length-1])instanceof ic&&r.mark.eq(e.mark)?ON(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function RN(n,e,t){let r=null,i=-1,s=null,a=-1;!function u(g,y){for(let O=0,$=0;O<g.children.length&&$<=y;O++){let K=g.children[O],re=$+K.length;re>=y&&(K.children.length?u(K,y-$):(!s||s instanceof Dh&&t>0)&&(re>y||$==re&&K.getSide()>0)?(s=K,a=y-$):($<y||$==re&&K.getSide()<0)&&(r=K,i=y-$)),$=re}}(n,e);let h=(t<0?r:s)||r||s;return h?h.coordsAt(Math.max(0,h==r?i:a),t):function GY(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Jg(e);return t[t.length-1]||null}(n)}function zC(n,e){for(let t in n)"class"==t&&e.class?e.class+=" "+n.class:"style"==t&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function jC(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i of t)if(-1==r.indexOf(i)||n[i]!==e[i])return!1;return!0}function UC(n,e,t){let r=null;if(e)for(let i in e)t&&i in t||n.removeAttribute(r=i);if(t)for(let i in t)e&&e[i]==t[i]||n.setAttribute(r=i,t[i]);return!!r}ed.prototype.children=td.prototype.children=Dh.prototype.children=PC;class qc{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}get isHidden(){return!1}destroy(e){}}var Jr=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Jr||(Jr={}));class mn extends Sh{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new X0(e)}static widget(e){let t=e.side||0,r=!!e.block;return t+=r?t>0?3e8:-4e8:t>0?1e8:-1e8,new Mh(e,t,t,r,e.widget||null,!1)}static replace(e){let r,i,t=!!e.block;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:a}=PN(e,t);r=(s?t?-3e8:-1:5e8)-1,i=1+(a?t?2e8:1:-6e8)}return new Mh(e,r,i,t,e.widget||null,!0)}static line(e){return new tv(e)}static set(e,t=!1){return Ci.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}mn.none=Ci.empty;class X0 extends mn{constructor(e){let{start:t,end:r}=PN(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof X0&&this.tagName==e.tagName&&this.class==e.class&&jC(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}X0.prototype.point=!1;class tv extends mn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof tv&&this.spec.class==e.spec.class&&jC(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}tv.prototype.mapMode=xo.TrackBefore,tv.prototype.point=!0;class Mh extends mn{constructor(e,t,r,i,s,a){super(t,r,s,e),this.block=i,this.isReplace=a,this.mapMode=i?t<=0?xo.TrackBefore:xo.TrackAfter:xo.TrackDel}get type(){return this.startSide<this.endSide?Jr.WidgetRange:this.startSide<=0?Jr.WidgetBefore:Jr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Mh&&function $Y(n,e){return n==e||!!(n&&e&&n.compare(e))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function PN(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return null==t&&(t=n.inclusive),null==r&&(r=n.inclusive),{start:t??e,end:r??e}}function GC(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}Mh.prototype.point=!0;class Eo extends ci{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,s,a){if(r){if(!(r instanceof Eo))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),EN(this,e,t,r?r.children:[],s,a),!0}split(e){let t=new Eo;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&0==this.children[r-1].length;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){jC(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){ON(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=zC(t,this.attrs||{})),r&&(this.attrs=zC({class:r},this.attrs||{}))}domAtPos(e){return kN(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var r;this.dom?4&this.dirty&&(bN(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(UC(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&ci.get(i)instanceof ic;)i=i.lastChild;if(!(i&&this.length&&("BR"==i.nodeName||0!=(null===(r=ci.get(i))||void 0===r?void 0:r.isEditable)||fn.ios&&this.children.some(s=>s instanceof ed)))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let r of this.children){if(!(r instanceof ed)||/[^ -~]/.test(r.text))return null;let i=Jg(r.dom);if(1!=i.length)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=RN(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let a=(s-i.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return Jr.Text}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],a=i+s.length;if(a>=t){if(s instanceof Eo)return s;if(a>t)break}i=a+s.breakAfter}return null}}class Th extends ci{constructor(e,t,r){super(),this.widget=e,this.length=t,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,s,a){return!(r&&(!(r instanceof Th&&this.widget.compare(r.widget))||e>0&&s<=0||t<this.length&&a<=0)||(this.length=e+(r?r.length:0)+(this.length-t),0))}domAtPos(e){return 0==e?js.before(this.dom):js.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Th(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}get children(){return PC}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Fr.empty}domBoundsAround(){return null}become(e){return e instanceof Th&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class $C{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Th&&e.type==Jr.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Eo),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(K0(new Dh(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:a,done:u}=this.cursor.next(this.skip);if(this.skip=0,u)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(K0(new ed(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,s,a){if(this.disallowBlockEffectsFor[a]&&r instanceof Mh){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let u=t-e;if(r instanceof Mh)if(r.block){let{type:h}=r;h==Jr.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Th(r.widget||new NN("div"),u,h))}else{let h=td.create(r.widget||new NN("span"),u,u?0:r.startSide),g=this.atCursorPos&&!h.isEditable&&s<=i.length&&(e<t||r.startSide>0),y=!h.isEditable&&(e<t||s>i.length||r.startSide<=0),O=this.getLine();2==this.pendingBuffer&&!g&&!h.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),g&&(O.append(K0(new Dh(1),i),s),s=i.length+Math.max(0,s-i.length)),O.append(K0(h,i),s),this.atCursorPos=y,this.pendingBuffer=y?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);u&&(this.textOff+u<=this.text.length?this.textOff+=u:(this.skip+=u-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,i,s){let a=new $C(e,t,r,s);return a.openEnd=Ci.spans(i,t,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function K0(n,e){for(let t of e)n=new ic(t,[n],n.length);return n}class NN extends qc{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const LN=dn.define(),FN=dn.define(),BN=dn.define(),VN=dn.define(),WC=dn.define(),HN=dn.define(),zN=dn.define(),jN=dn.define({combine:n=>n.some(e=>e)}),UN=dn.define({combine:n=>n.some(e=>e)});class q0{constructor(e,t="nearest",r="nearest",i=5,s=5){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s}map(e){return e.empty?this:new q0(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const GN=lr.define({map:(n,e)=>n.map(e)});function ca(n,e,t){let r=n.facet(VN);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Z0=dn.define({combine:n=>!n.length||n[0]});let WY=0;const nv=dn.define();class Ri{constructor(e,t,r,i){this.id=e,this.create=t,this.domEventHandlers=r,this.extension=i(this)}static define(e,t){const{eventHandlers:r,provide:i,decorations:s}=t||{};return new Ri(WY++,e,r,a=>{let u=[nv.of(a)];return s&&u.push(rv.of(h=>{let g=h.plugin(a);return g?s(g):mn.none})),i&&u.push(i(a)),u})}static fromClass(e,t){return Ri.define(r=>new e(r),t)}}class YC{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(ca(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){ca(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null!==(t=this.value)&&void 0!==t&&t.destroy)try{this.value.destroy()}catch(r){ca(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const $N=dn.define(),Q0=dn.define(),rv=dn.define(),WN=dn.define(),YN=dn.define(),iv=dn.define();class vl{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new vl(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(0==t.length)return e;let r=[];for(let i=0,s=0,a=0,u=0;;i++){let h=i==e.length?null:e[i],g=a-u,y=h?h.fromB:1e9;for(;s<t.length&&t[s]<y;){let $=t[s+1],K=Math.max(u,t[s]),re=Math.min(y,$);if(K<=re&&new vl(K+g,re+g,K,re).addToSet(r),$>y)break;s+=2}if(!h)return r;new vl(h.fromA,h.toA,h.fromB,h.toB).addToSet(r),a=h.toA,u=h.toB}}}class J0{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=fs.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,a,u,h)=>i.push(new vl(s,a,u,h))),this.changedRanges=i}static create(e,t,r){return new J0(e,t,r)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}var Si=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Si||(Si={}));const XC=Si.LTR,YY=Si.RTL;function XN(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const XY=XN("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),KY=XN("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),KC=Object.create(null),sc=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);KC[e]=t,KC[t]=-e}function qY(n){return n<=247?XY[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?KY[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:8204==n?256:1}const ZY=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ep{constructor(e,t,r){this.from=e,this.to=t,this.level=r}get dir(){return this.level%2?YY:XC}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,r,i){let s=-1;for(let a=0;a<e.length;a++){let u=e[a];if(u.from<=t&&u.to>=t){if(u.level==r)return a;(s<0||(0!=i?i<0?u.from<t:u.to>t:e[s].level>u.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}const Di=[];function qN(n){return[new Ep(0,n,0)]}let ZN="";function QN(n,e,t,r,i){var s;let a=r.head-n.from,u=-1;if(0==a){if(!i||!n.length)return null;e[0].level!=t&&(a=e[0].side(!1,t),u=0)}else if(a==n.length){if(i)return null;let $=e[e.length-1];$.level!=t&&(a=$.side(!0,t),u=e.length-1)}u<0&&(u=Ep.find(e,a,null!==(s=r.bidiLevel)&&void 0!==s?s:-1,r.assoc));let h=e[u];a==h.side(i,t)&&(h=e[u+=i?1:-1],a=h.side(!i,t));let g=i==(h.dir==t),y=_o(n.text,a,g);if(ZN=n.text.slice(Math.min(a,y),Math.max(a,y)),y!=h.side(i,t))return Mt.cursor(y+n.from,g?-1:1,h.level);let O=u==(i?e.length-1:0)?null:e[u+(i?1:-1)];return O||h.level==t?O&&O.level<h.level?Mt.cursor(O.side(!i,t)+n.from,i?1:-1,O.level):Mt.cursor(y+n.from,i?-1:1,h.level):Mt.cursor(i?n.to:n.from,i?-1:1,t)}const nd="\uffff";class JN{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(wo.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=nd}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i),this.readNode(i);let s=i.nextSibling;if(s==t)break;let a=ci.get(i),u=ci.get(s);(a&&u?a.breakAfter:(a?a.breakAfter:eL(i))||eL(s)&&("BR"!=i.nodeName||i.cmIgnore))&&this.lineBreak(),i=s}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let u,s=-1,a=1;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(u=i.exec(t))&&(s=u.index,a=u[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let h of this.points)h.node==e&&h.pos>this.text.length&&(h.pos-=a-1);r=s+a}}readNode(e){if(e.cmIgnore)return;let t=ci.get(e),r=t&&t.overrideDOMText;if(null!=r){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(3==e.nodeType?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(t,r.offset))}}function eL(n){return 1==n.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class tL{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class nL extends ci{constructor(e){super(),this.view=e,this.compositionDeco=mn.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Eo],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new vl(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:a,toA:u})=>u<this.minWidthFrom||a>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=mn.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function JY(n,e){let t=iL(n);if(!t)return mn.none;let{from:r,to:i,node:s,text:a}=t,u=e.mapPos(r,1),h=Math.max(u,e.mapPos(i,-1)),{state:g}=n,y=3==s.nodeType?s.nodeValue:new JN([],g).readRange(s.firstChild,null).text;if(h-u<y.length)if(g.doc.sliceString(u,Math.min(g.doc.length,u+y.length),nd)==y)h=u+y.length;else{if(g.doc.sliceString(Math.max(0,h-y.length),h,nd)!=y)return mn.none;u=h-y.length}else if(g.doc.sliceString(u,h,nd)!=y)return mn.none;let O=ci.get(s);return O instanceof AN?O=O.widget.topView:O&&(O.parent=null),mn.set(mn.replace({widget:new eX(s,a,O),inclusive:!0}).range(u,h))}(this.view,e.changes)),(fn.ie||fn.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=function rX(n,e,t){let r=new nX;return Ci.compare(n,e,t,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return t=vl.extendWithRanges(t,s),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=fn.chrome||fn.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.dirty=0,s&&(s.written||r.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Th&&s.widget instanceof rL&&i.push(s.dom);r.updateGaps(i)}updateChildren(e,t){let r=this.childCursor(t);for(let i=e.length-1;;i--){let s=i>=0?e[i]:null;if(!s)break;let{fromA:a,toA:u,fromB:h,toB:g}=s,{content:y,breakAtStart:O,openStart:$,openEnd:K}=$C.build(this.view.state.doc,h,g,this.decorations,this.dynamicDecorationMap),{i:re,off:he}=r.findPos(u,1),{i:xe,off:Pe}=r.findPos(a,-1);wN(this,xe,Pe,re,he,y,O,$,K)}}updateSelection(e=!1,t=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection())return;let r=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,s=this.domAtPos(i.anchor),a=i.empty?s:this.domAtPos(i.head);if(fn.gecko&&i.empty&&!this.compositionDeco.size&&function QY(n){return 1==n.node.nodeType&&n.node.firstChild&&(0==n.offset||"false"==n.node.childNodes[n.offset-1].contentEditable)&&(n.offset==n.node.childNodes.length||"false"==n.node.childNodes[n.offset].contentEditable)}(s)){let h=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(h,s.node.childNodes[s.offset]||null)),s=a=new js(h,0),r=!0}let u=this.view.observer.selectionRange;(r||!u.focusNode||!$0(s.node,s.offset,u.anchorNode,u.anchorOffset)||!$0(a.node,a.offset,u.focusNode,u.focusOffset))&&(this.view.observer.ignore(()=>{fn.android&&fn.chrome&&this.dom.contains(u.focusNode)&&function iX(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(1==t.nodeType&&"false"==t.contentEditable)return!0;return!1}(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=U0(this.view.root);if(h)if(i.empty){if(fn.gecko){let g=function tX(n,e){return 1!=n.nodeType?0:(e&&"false"==n.childNodes[e-1].contentEditable?1:0)|(e<n.childNodes.length&&"false"==n.childNodes[e].contentEditable?2:0)}(s.node,s.offset);if(g&&3!=g){let y=sL(s.node,s.offset,1==g?1:-1);y&&(s=new js(y,1==g?0:y.nodeValue.length))}}h.collapse(s.node,s.offset),null!=i.bidiLevel&&null!=u.cursorBidiLevel&&(u.cursorBidiLevel=i.bidiLevel)}else if(h.extend){h.collapse(s.node,s.offset);try{h.extend(a.node,a.offset)}catch{}}else{let g=document.createRange();i.anchor>i.head&&([s,a]=[a,s]),g.setEnd(a.node,a.offset),g.setStart(s.node,s.offset),h.removeAllRanges(),h.addRange(g)}}),this.view.observer.setSelectionRange(s,a)),this.impreciseAnchor=s.precise?null:new js(u.anchorNode,u.anchorOffset),this.impreciseHead=a.precise?null:new js(u.focusNode,u.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,r=U0(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!(r&&t.empty&&t.assoc&&r.modify))return;let a=Eo.find(this,t.head);if(!a)return;let u=a.posAtStart;if(t.head==u||t.head==u+a.length)return;let h=this.coordsAt(t.head,-1),g=this.coordsAt(t.head,1);if(!h||!g||h.bottom>g.top)return;let y=this.domAtPos(t.head+t.assoc);r.collapse(y.node,y.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let O=e.observer.selectionRange;e.docView.posFromDOM(O.anchorNode,O.anchorOffset)!=t.from&&r.collapse(i,s)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||G0(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let r=ci.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof Eo)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){for(let r=this.length,i=this.children.length-1;;i--){let s=this.children[i],a=r-s.breakAfter-s.length;if(e>a||e==a&&s.type!=Jr.WidgetBefore&&s.type!=Jr.WidgetAfter&&(!i||2==t||this.children[i-1].breakAfter||this.children[i-1].type==Jr.WidgetBefore&&t>-2))return s.coordsAt(e-a,t);r=a}}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,h=this.view.textDirection==Si.LTR;for(let g=0,y=0;y<this.children.length;y++){let O=this.children[y],$=g+O.length;if($>i)break;if(g>=r){let K=O.dom.getBoundingClientRect();if(t.push(K.height),a){let re=O.dom.lastChild,he=re?Jg(re):[];if(he.length){let xe=he[he.length-1],Pe=h?xe.right-K.left:K.right-xe.left;Pe>u&&(u=Pe,this.minWidth=s,this.minWidthFrom=g,this.minWidthTo=$)}}}g=$+O.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Si.RTL:Si.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Eo){let a=s.measureTextSize();if(a)return a}let t,r,i,e=document.createElement("div");return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Jg(e.firstChild)[0];t=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new xN(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],a=s?s.from-1:this.length;if(a>r){let u=t.lineBlockAt(a).bottom-t.lineBlockAt(r).top;e.push(mn.replace({widget:new rL(u),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!s)break;r=s.to+1}return mn.set(e)}updateDeco(){let e=this.view.state.facet(rv).map((t,r)=>(this.dynamicDecorationMap[r]="function"==typeof t)?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let i,{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1);if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=0,a=0,u=0,h=0;for(let y of this.view.state.facet(YN).map(O=>O(this.view)))if(y){let{left:O,right:$,top:K,bottom:re}=y;null!=O&&(s=Math.max(s,O)),null!=$&&(a=Math.max(a,$)),null!=K&&(u=Math.max(u,K)),null!=re&&(h=Math.max(h,re))}!function FY(n,e,t,r,i,s,a,u){let h=n.ownerDocument,g=h.defaultView||window;for(let y=n;y;)if(1==y.nodeType){let O,$=y==h.body;if($)O=LY(g);else{if(y.scrollHeight<=y.clientHeight&&y.scrollWidth<=y.clientWidth){y=y.assignedSlot||y.parentNode;continue}let he=y.getBoundingClientRect();O={left:he.left,right:he.left+y.clientWidth,top:he.top,bottom:he.top+y.clientHeight}}let K=0,re=0;if("nearest"==i)e.top<O.top?(re=-(O.top-e.top+a),t>0&&e.bottom>O.bottom+re&&(re=e.bottom-O.bottom+re+a)):e.bottom>O.bottom&&(re=e.bottom-O.bottom+a,t<0&&e.top-re<O.top&&(re=-(O.top+re-e.top+a)));else{let he=e.bottom-e.top,xe=O.bottom-O.top;re=("center"==i&&he<=xe?e.top+he/2-xe/2:"start"==i||"center"==i&&t<0?e.top-a:e.bottom-xe+a)-O.top}if("nearest"==r?e.left<O.left?(K=-(O.left-e.left+s),t>0&&e.right>O.right+K&&(K=e.right-O.right+K+s)):e.right>O.right&&(K=e.right-O.right+s,t<0&&e.left<O.left+K&&(K=-(O.left+K-e.left+s))):K=("center"==r?e.left+(e.right-e.left)/2-(O.right-O.left)/2:"start"==r==u?e.left-s:e.right-(O.right-O.left)+s)-O.left,K||re)if($)g.scrollBy(K,re);else{let he=0,xe=0;if(re){let Pe=y.scrollTop;y.scrollTop+=re,xe=y.scrollTop-Pe}if(K){let Pe=y.scrollLeft;y.scrollLeft+=K,he=y.scrollLeft-Pe}e={left:e.left-he,top:e.top-xe,right:e.right-he,bottom:e.bottom-xe},he&&Math.abs(he-K)<1&&(r="nearest"),xe&&Math.abs(xe-re)<1&&(i="nearest")}if($)break;y=y.assignedSlot||y.parentNode}else{if(11!=y.nodeType)break;y=y.host}}(this.view.scrollDOM,{left:r.left-s,top:r.top-u,right:r.right+a,bottom:r.bottom+h},t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Si.LTR)}}class rL extends qc{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function iL(n){let e=n.observer.selectionRange,t=e.focusNode&&sL(e.focusNode,e.focusOffset,0);if(!t)return null;let r=n.docView.nearest(t);if(!r)return null;if(r instanceof Eo){let i=t;for(;i.parentNode!=r.dom;)i=i.parentNode;let s=i.previousSibling;for(;s&&!ci.get(s);)s=s.previousSibling;let a=s?ci.get(s).posAtEnd:r.posAtStart;return{from:a,to:a,node:i,text:t}}{for(;;){let{parent:s}=r;if(!s)return null;if(s instanceof Eo)break;r=s}let i=r.posAtStart;return{from:i,to:i+r.length,node:r.dom,text:t}}}class eX extends qc{constructor(e,t,r){super(),this.top=e,this.text=t,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return AN}}function sL(n,e,t){if(t<=0)for(let r=n,i=e;;){if(3==r.nodeType)return r;if(!(1==r.nodeType&&i>0))break;r=r.childNodes[i-1],i=ev(r)}if(t>=0)for(let r=n,i=e;;){if(3==r.nodeType)return r;if(!(1==r.nodeType&&i<r.childNodes.length&&t>=0))break;r=r.childNodes[i],i=0}return null}class nX{constructor(){this.changes=[]}compareRange(e,t){GC(e,t,this.changes)}comparePoint(e,t){GC(e,t,this.changes)}}function oX(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function aX(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function qC(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function oL(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function aL(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function ZC(n,e,t){let r,i,s,a,h,g,y,O,u=!1;for(let re=n.firstChild;re;re=re.nextSibling){let he=Jg(re);for(let xe=0;xe<he.length;xe++){let Pe=he[xe];i&&qC(i,Pe)&&(Pe=oL(aL(Pe,i.bottom),i.top));let Je=oX(e,Pe),Ke=aX(t,Pe);if(0==Je&&0==Ke)return 3==re.nodeType?lL(re,e,t):ZC(re,e,t);if(!r||a>Ke||a==Ke&&s>Je){r=re,i=Pe,s=Je,a=Ke;let at=Ke?t<Pe.top?-1:1:Je?e<Pe.left?-1:1:0;u=!at||(at>0?xe<he.length-1:xe>0)}0==Je?t>Pe.bottom&&(!y||y.bottom<Pe.bottom)?(h=re,y=Pe):t<Pe.top&&(!O||O.top>Pe.top)&&(g=re,O=Pe):y&&qC(y,Pe)?y=aL(y,Pe.bottom):O&&qC(O,Pe)&&(O=oL(O,Pe.top))}}if(y&&y.bottom>=t?(r=h,i=y):O&&O.top<=t&&(r=g,i=O),!r)return{node:n,offset:0};let $=Math.max(i.left,Math.min(i.right,e));return 3==r.nodeType?lL(r,$,t):u&&"false"!=r.contentEditable?ZC(r,$,t):{node:n,offset:Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}}function lL(n,e,t){let r=n.nodeValue.length,i=-1,s=1e9,a=0;for(let u=0;u<r;u++){let h=xp(n,u,u+1).getClientRects();for(let g=0;g<h.length;g++){let y=h[g];if(y.top==y.bottom)continue;a||(a=e-y.left);let O=(y.top>t?y.top-t:t-y.bottom)-1;if(y.left-1<=e&&y.right+1>=e&&O<s){let $=e>=(y.left+y.right)/2,K=$;if((fn.chrome||fn.gecko)&&xp(n,u).getBoundingClientRect().left==y.right&&(K=!$),O<=0)return{node:n,offset:u+(K?1:0)};i=u+(K?1:0),s=O}}}return{node:n,offset:i>-1?i:a>0?n.nodeValue.length:0}}function cL(n,e,t,r=-1){var i,s;let h,a=n.contentDOM.getBoundingClientRect(),u=a.top+n.viewState.paddingTop,{docHeight:g}=n.viewState,{x:y,y:O}=e,$=O-u;if($<0)return 0;if($>g)return n.state.doc.length;for(let at=n.defaultLineHeight/2,wt=!1;h=n.elementAtHeight($),h.type!=Jr.Text;)for(;$=r>0?h.bottom+at:h.top-at,!($>=0&&$<=g);){if(wt)return t?null:0;wt=!0,r=-r}O=u+$;let K=h.from;if(K<n.viewport.from)return 0==n.viewport.from?0:t?null:uL(n,a,h,y,O);if(K>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:uL(n,a,h,y,O);let re=n.dom.ownerDocument,he=n.root.elementFromPoint?n.root:re,xe=he.elementFromPoint(y,O);xe&&!n.contentDOM.contains(xe)&&(xe=null),xe||(y=Math.max(a.left+1,Math.min(a.right-1,y)),xe=he.elementFromPoint(y,O),xe&&!n.contentDOM.contains(xe)&&(xe=null));let Pe,Je=-1;if(xe&&0!=(null===(i=n.docView.nearest(xe))||void 0===i?void 0:i.isEditable))if(re.caretPositionFromPoint){let at=re.caretPositionFromPoint(y,O);at&&({offsetNode:Pe,offset:Je}=at)}else if(re.caretRangeFromPoint){let at=re.caretRangeFromPoint(y,O);at&&(({startContainer:Pe,startOffset:Je}=at),(!n.contentDOM.contains(Pe)||fn.safari&&function lX(n,e,t){let r;if(3!=n.nodeType||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(1!=i.nodeType||"BR"!=i.nodeName)return!1;return xp(n,r-1,r).getBoundingClientRect().left>t}(Pe,Je,y)||fn.chrome&&function cX(n,e,t){if(0!=e)return!1;for(let i=n;;){let s=i.parentNode;if(!s||1!=s.nodeType||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}return t-(1==n.nodeType?n.getBoundingClientRect():xp(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect()).left>5}(Pe,Je,y))&&(Pe=void 0))}if(!Pe||!n.docView.dom.contains(Pe)){let at=Eo.find(n.docView,K);if(!at)return $>h.top+h.height/2?h.to:h.from;({node:Pe,offset:Je}=ZC(at.dom,y,O))}let Ke=n.docView.nearest(Pe);if(!Ke)return null;if(Ke.isWidget&&1==(null===(s=Ke.dom)||void 0===s?void 0:s.nodeType)){let at=Ke.dom.getBoundingClientRect();return e.y<at.top||e.y<=at.bottom&&e.x<=(at.left+at.right)/2?Ke.posAtStart:Ke.posAtEnd}return Ke.localPosFromDOM(Pe,Je)+Ke.posAtStart}function uL(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);n.lineWrapping&&t.height>1.5*n.defaultLineHeight&&(s+=Math.floor((i-t.top)/n.defaultLineHeight)*n.viewState.heightOracle.lineLength);let a=n.state.sliceDoc(t.from,t.to);return t.from+AC(a,s,n.state.tabSize)}function dL(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),a=n.textDirectionAt(i.from);for(let u=e,h=null;;){let g=QN(i,s,a,u,t),y=ZN;if(!g){if(i.number==(t?n.state.doc.lines:1))return u;y="\n",i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),g=Mt.cursor(t?i.from:i.to)}if(h){if(!h(y))return u}else{if(!r)return g;h=r(y)}u=g}}function QC(n,e,t){let r=n.state.facet(WN).map(i=>i(n));for(;;){let i=!1;for(let s of r)s.between(t.from-1,t.from+1,(a,u,h)=>{t.from>a&&t.from<u&&(t=e.head>t.from?Mt.cursor(a,1):Mt.cursor(u,-1),i=!0)});if(!i)return t}}class fX{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(r,i)=>{this.ignoreDuringComposition(i)||"keydown"==i.type&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():r(e,i))};for(let r in ps){let i=ps[r];e.contentDOM.addEventListener(r,s=>{pL(e,s)&&t(i,s)},JC[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t(ps.mousedown,r),!r.defaultPrevented&&2==r.button)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),fn.chrome&&102==fn.chrome_version&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,fn.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var r;let i;this.customHandlers=[];for(let s of t)if(i=null===(r=s.update(e).spec)||void 0===r?void 0:r.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:i});for(let a in i)this.registeredEvents.indexOf(a)<0&&"scroll"!=a&&(this.registeredEvents.push(a),e.contentDOM.addEventListener(a,u=>{pL(e,u)&&this.runCustomHandlers(a,e,u)&&u.preventDefault()}))}}runCustomHandlers(e,t,r){for(let i of this.customHandlers){let s=i.handlers[e];if(s)try{if(s.call(i.plugin,r,t)||r.defaultPrevented)return!0}catch(a){ca(t.state,a)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,t,e)}catch(s){ca(e.state,s)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(fn.android&&fn.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let r;return!(!fn.ios||t.synthetic||t.altKey||t.metaKey||!((r=hL.find(i=>i.keyCode==t.keyCode))&&!t.ctrlKey||pX.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)||(this.pendingIOSKey=r||t,setTimeout(()=>this.flushIOSKey(e),250),0))}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,wp(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(fn.safari&&!fn.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const hL=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],pX="dthko",fL=[16,17,18,20,91,92,224,225];function t_(n){return.7*Math.max(0,n)+8}class mX{constructor(e,t,r,i){this.view=e,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=function BY(n){let e=n.ownerDocument;for(let t=n.parentNode;t&&t!=e.body;)if(1==t.nodeType){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else{if(11!=t.nodeType)break;t=t.host}return null}(e.contentDOM);let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(wo.allowMultipleSelections)&&function gX(n,e){let t=n.state.facet(LN);return t.length?t[0](e):fn.mac?e.metaKey:e.ctrlKey}(e,t),this.dragMove=function vX(n,e){let t=n.state.facet(FN);return t.length?t[0](e):fn.mac?!e.altKey:!e.ctrlKey}(e,t),this.dragging=!(!function yX(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=U0(n.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let a=i[s];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}(e,t)||1!=CL(t))&&null}start(e){!1===this.dragging&&(e.preventDefault(),this.select(e))}move(e){var t;if(0==e.buttons)return this.destroy();if(!1!==this.dragging)return;this.select(this.lastEvent=e);let r=0,i=0,s=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=s.left+6?r=-t_(s.left-e.clientX):e.clientX>=s.right-6&&(r=t_(e.clientX-s.right)),e.clientY<=s.top+6?i=-t_(s.top-e.clientY):e.clientY>=s.bottom-6&&(i=t_(e.clientY-s.bottom)),this.setScrollSpeed(r,i)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function pL(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r,t=e.target;t!=n.contentDOM;t=t.parentNode)if(!t||11==t.nodeType||(r=ci.get(t))&&r.ignoreEvent(e))return!1;return!0}const ps=Object.create(null),JC=Object.create(null),mL=fn.ie&&fn.ie_version<15||fn.ios&&fn.webkit_version<604;function gL(n,e){let r,{state:t}=n,i=1,s=t.toText(e),a=s.lines==t.selection.ranges.length;if(null!=eS&&t.selection.ranges.every(h=>h.empty)&&eS==s.toString()){let h=-1;r=t.changeByRange(g=>{let y=t.doc.lineAt(g.from);if(y.from==h)return{range:g};h=y.from;let O=t.toText((a?s.line(i++).text:e)+t.lineBreak);return{changes:{from:y.from,insert:O},range:Mt.cursor(g.from+O.length)}})}else r=a?t.changeByRange(h=>{let g=s.line(i++);return{changes:{from:h.from,to:h.to,insert:g.text},range:Mt.cursor(h.from+g.length)}}):t.replaceSelection(s);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}function vL(n,e,t,r){if(1==r)return Mt.cursor(e,t);if(2==r)return function sX(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(0==i.length)return Mt.cursor(e);0==s?t=1:s==i.length&&(t=-1);let a=s,u=s;t<0?a=_o(i.text,s,!1):u=_o(i.text,s);let h=r(i.text.slice(a,u));for(;a>0;){let g=_o(i.text,a,!1);if(r(i.text.slice(g,a))!=h)break;a=g}for(;u<i.length;){let g=_o(i.text,u);if(r(i.text.slice(u,g))!=h)break;u=g}return Mt.range(a+i.from,u+i.from)}(n.state,e,t);{let i=Eo.find(n.docView,e),s=n.state.doc.lineAt(i?i.posAtEnd:e),u=i?i.posAtEnd:s.to;return u<n.state.doc.length&&u==s.to&&u++,Mt.range(i?i.posAtStart:s.from,u)}}ps.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),27==e.keyCode?n.inputState.lastEscPress=Date.now():fL.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)},ps.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")},ps.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")},JC.touchstart=JC.touchmove={passive:!0},ps.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let r of n.state.facet(BN))if(t=r(n,e),t)break;if(!t&&0==e.button&&(t=function wX(n,e){let t=_L(n,e),r=CL(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,a,u){let g,h=_L(n,s),y=vL(n,h.pos,h.bias,r);if(t.pos!=h.pos&&!a){let O=vL(n,t.pos,t.bias,r),$=Math.min(O.from,y.from),K=Math.max(O.to,y.to);y=$<y.from?Mt.range($,K):Mt.range(K,$)}return a?i.replaceRange(i.main.extend(y.from,y.to)):u&&1==r&&i.ranges.length>1&&(g=function EX(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return Mt.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}(i,h.pos))?g:u?i.addRange(y):Mt.create([y])}}}(n,e)),t){let r=n.root.activeElement!=n.contentDOM;n.inputState.startMouseSelection(new mX(n,e,t,r)),r&&n.observer.ignore(()=>vN(n.contentDOM)),n.inputState.mouseSelection&&n.inputState.mouseSelection.start(e)}};let yL=(n,e)=>n>=e.top&&n<=e.bottom,bL=(n,e,t)=>yL(e,t)&&n>=t.left&&n<=t.right;function _X(n,e,t,r){let i=Eo.find(n.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(0==s)return 1;if(s==i.length)return-1;let a=i.coordsAt(s,-1);if(a&&bL(t,r,a))return-1;let u=i.coordsAt(s,1);return u&&bL(t,r,u)?1:a&&yL(r,a)?-1:1}function _L(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:_X(n,t,e.clientX,e.clientY)}}const xX=fn.ie&&fn.ie_version<=11;let xL=null,wL=0,EL=0;function CL(n){if(!xX)return n.detail;let e=xL,t=EL;return xL=n,EL=Date.now(),wL=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(wL+1)%3:1}function SL(n,e,t,r){if(!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=n.inputState,a=r&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,u={from:i,insert:t},h=n.state.changes(a?[a,u]:u);n.focus(),n.dispatch({changes:h,selection:{anchor:h.mapPos(i,-1),head:h.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"})}ps.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:r}=n.inputState;r&&(r.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")},ps.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let r=Array(t.length),i=0,s=()=>{++i==t.length&&SL(n,e,r.filter(a=>null!=a).join(n.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let u=new FileReader;u.onerror=s,u.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(r[a]=u.result),s()},u.readAsText(t[a])}}else SL(n,e,e.dataTransfer.getData("Text"),!0)},ps.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=mL?null:e.clipboardData;t?(gL(n,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):function bX(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),gL(n,t.value)},50)}(n)};let eS=null;ps.copy=ps.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=function SX(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let a=n.doc.lineAt(s);a.number>i&&(e.push(a.text),t.push({from:a.from,to:Math.min(n.doc.length,a.to+1)})),i=a.number}r=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:r}}(n.state);if(!t&&!i)return;eS=i?t:null;let s=mL?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",t)):function CX(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}(n,t),"cut"==e.type&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const DL=Kc.define();function ML(n,e){let t=[];for(let r of n.facet(zN)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:DL.of(!0)}):null}function TL(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=ML(n.state,e);t?n.dispatch(t):n.update([])}},10)}ps.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),TL(n)},ps.blur=n=>{n.observer.clearSelectionRange(),TL(n)},ps.compositionstart=ps.compositionupdate=n=>{null==n.inputState.compositionFirstChange&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)},ps.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,fn.chrome&&fn.android&&n.observer.flushSoon(),setTimeout(()=>{n.inputState.composing<0&&n.docView.compositionDeco.size&&n.update([])},50)},ps.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()},ps.beforeinput=(n,e)=>{var t;let r;if(fn.chrome&&fn.android&&(r=hL.find(i=>i.inputType==e.inputType))&&(n.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let i=(null===(t=window.visualViewport)||void 0===t?void 0:t.height)||0;setTimeout(()=>{var s;((null===(s=window.visualViewport)||void 0===s?void 0:s.height)||0)>i+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const AL=["pre-wrap","normal","pre-line","break-spaces"];class IL{constructor(e){this.lineWrapping=e,this.doc=Fr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return AL.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(10*i)]||(t=!0,this.heightSamples[Math.floor(10*i)]=!0)}return t}refresh(e,t,r,i,s,a){let u=AL.indexOf(e)>-1,h=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=u;if(this.lineWrapping=u,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,h){this.heightSamples={};for(let g=0;g<a.length;g++){let y=a[g];y<0?g++:this.heightSamples[Math.floor(10*y)]=!0}}return h}}class kL{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Zc{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Zc(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var ni=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(ni||(ni={}));const n_=.001;class no{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>n_&&(e.heightChanged=!0),this.height=t)}replace(e,t,r){return no.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,a=r.doc;for(let u=i.length-1;u>=0;u--){let{fromA:h,toA:g,fromB:y,toB:O}=i[u],$=s.lineAt(h,ni.ByPosNoHeight,r.setDoc(t),0,0),K=$.to>=g?$:s.lineAt(g,ni.ByPosNoHeight,r,0,0);for(O+=K.to-g,g=K.to;u>0&&$.from<=i[u-1].toA;)h=i[u-1].fromA,y=i[u-1].fromB,u--,h<$.from&&($=s.lineAt(h,ni.ByPosNoHeight,r,0,0));y+=$.from-h,h=$.from;let re=tS.build(r.setDoc(a),e,y,O);s=s.replace(h,g,re)}return s.updateHeight(r,0)}static empty(){return new ua(0,0)}static of(e){if(1==e.length)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>2*s){let u=e[t-1];u.break?e.splice(--t,1,u.left,null,u.right):e.splice(--t,1,u.left,u.right),r+=1+u.break,i-=u.size}else{if(!(s>2*i))break;{let u=e[r];u.break?e.splice(r,1,u.left,null,u.right):e.splice(r,1,u.left,u.right),r+=2+u.break,s-=u.size}}else if(i<s){let u=e[t++];u&&(i+=u.size)}else{let u=e[--r];u&&(s+=u.size)}let a=0;return null==e[t-1]?(a=1,t--):null==e[t]&&(a=1,r++),new DX(no.of(e.slice(0,t)),a,no.of(e.slice(r)))}}no.prototype.size=1;class OL extends no{constructor(e,t,r){super(e,t),this.type=r}blockAt(e,t,r,i){return new Zc(i,this.length,r,this.height,this.type)}lineAt(e,t,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,t,r,i,s,a){e<=s+this.length&&t>=s&&a(this.blockAt(0,r,i,s))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ua extends OL{constructor(e,t){super(e,t,Jr.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,r){let i=r[0];return 1==r.length&&(i instanceof ua||i instanceof Us&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof Us?i=new ua(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):no.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Us extends no{constructor(e){super(e,0)}heightMetrics(e,t){let a,r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,u=0;if(e.lineWrapping){let h=Math.min(this.height,e.lineHeight*s);a=h/s,u=(this.height-h)/(this.length-s-1)}else a=this.height/s;return{firstLine:r,lastLine:i,perLine:a,perChar:u}}blockAt(e,t,r,i){let{firstLine:s,lastLine:a,perLine:u,perChar:h}=this.heightMetrics(t,i);if(t.lineWrapping){let g=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),y=t.doc.lineAt(g),O=u+y.length*h,$=Math.max(r,e-O/2);return new Zc(y.from,y.length,$,O,Jr.Text)}{let g=Math.max(0,Math.min(a-s,Math.floor((e-r)/u))),{from:y,length:O}=t.doc.line(s+g);return new Zc(y,O,r+u*g,u,Jr.Text)}}lineAt(e,t,r,i,s){if(t==ni.ByHeight)return this.blockAt(e,r,i,s);if(t==ni.ByPosNoHeight){let{from:K,to:re}=r.doc.lineAt(e);return new Zc(K,re-K,0,0,Jr.Text)}let{firstLine:a,perLine:u,perChar:h}=this.heightMetrics(r,s),g=r.doc.lineAt(e),y=u+g.length*h,O=g.number-a;return new Zc(g.from,g.length,Math.max(i,Math.min(i+u*O+h*(g.from-s-O),i+this.height-y)),y,Jr.Text)}forEachLine(e,t,r,i,s,a){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:u,perLine:h,perChar:g}=this.heightMetrics(r,s);for(let y=e,O=i;y<=t;){let $=r.doc.lineAt(y);if(y==e){let re=$.number-u;O+=h*re+g*(e-s-re)}let K=h+g*$.length;a(new Zc($.from,$.length,O,K,Jr.Text)),O+=K,y=$.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof Us?r[r.length-1]=new Us(s.length+i):r.push(null,new Us(i-1))}if(e>0){let s=r[0];s instanceof Us?r[0]=new Us(e+s.length):r.unshift(new Us(e-1),null)}return no.of(r)}decomposeLeft(e,t){t.push(new Us(e-1),null)}decomposeRight(e,t){t.push(null,new Us(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let a=[],u=Math.max(t,i.from),h=-1;for(i.from>t&&a.push(new Us(i.from-t-1).updateHeight(e,t));u<=s&&i.more;){let y=e.doc.lineAt(u).length;a.length&&a.push(null);let O=i.heights[i.index++];-1==h?h=O:Math.abs(O-h)>=n_&&(h=-2);let $=new ua(y,O);$.outdated=!1,a.push($),u+=y+1}u<=s&&a.push(null,new Us(s-u).updateHeight(e,u));let g=no.of(a);return(h<0||Math.abs(g.height-this.height)>=n_||Math.abs(h-this.heightMetrics(e,t).perLine)>=n_)&&(e.heightChanged=!0),g}return(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class DX extends no{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return 1&this.flags}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let a=i+this.left.height,u=s+this.left.length+this.break,h=t==ni.ByHeight?e<a:e<u,g=h?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,a,u);if(this.break||(h?g.to<u:g.from>u))return g;let y=t==ni.ByPosNoHeight?ni.ByPosNoHeight:ni.ByPos;return h?g.join(this.right.lineAt(u,y,r,a,u)):this.left.lineAt(u,y,r,i,s).join(g)}forEachLine(e,t,r,i,s,a){let u=i+this.left.height,h=s+this.left.length+this.break;if(this.break)e<h&&this.left.forEachLine(e,t,r,i,s,a),t>=h&&this.right.forEachLine(e,t,r,u,h,a);else{let g=this.lineAt(h,ni.ByPos,r,i,s);e<g.from&&this.left.forEachLine(e,g.from-1,r,i,s,a),g.to>=e&&g.from<=t&&a(g),t>g.to&&this.right.forEachLine(g.to+1,t,r,u,h,a)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let a=s.length;for(let u of r)s.push(u);if(e>0&&RL(s,a-1),t<this.length){let u=s.length;this.decomposeRight(t,s),RL(s,u)}return no.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?no.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:a}=this,u=t+s.length+this.break,h=null;return i&&i.from<=t+s.length&&i.more?h=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=u+a.length&&i.more?h=a=a.updateHeight(e,u,r,i):a.updateHeight(e,u,r),h?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function RL(n,e){let t,r;null==n[e]&&(t=n[e-1])instanceof Us&&(r=n[e+1])instanceof Us&&n.splice(e-1,3,new Us(t.length+1+r.length))}class tS{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ua?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ua(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let s=t-e;r.block?this.addBlock(new OL(s,i,r.type)):(s||i>=5)&&this.addLineDeco(i,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ua(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new Us(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ua)return e;let t=new ua(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==Jr.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Jr.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let r=this.ensureLine();r.length+=t,r.collapsed+=t,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof ua||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new ua(0,-1));let r=e;for(let i of this.nodes)i instanceof ua&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new tS(r,e);return Ci.spans(t,r,i,s,0),s.finish(r)}}class AX{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&GC(e,t,this.changes,5)}}function IX(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),a=Math.min(i.innerWidth,t.right),u=Math.max(0,t.top),h=Math.min(i.innerHeight,t.bottom);for(let g=n.parentNode;g&&g!=r.body;)if(1==g.nodeType){let y=g,O=window.getComputedStyle(y);if((y.scrollHeight>y.clientHeight||y.scrollWidth>y.clientWidth)&&"visible"!=O.overflow){let $=y.getBoundingClientRect();s=Math.max(s,$.left),a=Math.min(a,$.right),u=Math.max(u,$.top),h=g==n.parentNode?$.bottom:Math.min(h,$.bottom)}g="absolute"==O.position||"fixed"==O.position?y.offsetParent:y.parentNode}else{if(11!=g.nodeType)break;g=g.host}return{left:s-t.left,right:Math.max(s,a)-t.left,top:u-(t.top+e),bottom:Math.max(u,h)-(t.top+e)}}function kX(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class nS{constructor(e,t,r){this.from=e,this.to=t,this.size=r}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e){return mn.replace({widget:new OX(this.size,e)}).range(this.from,this.to)}}class OX extends qc{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class PL{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=NL,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Si.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Q0).some(r=>"function"!=typeof r&&"cm-lineWrapping"==r.class);this.heightOracle=new IL(t),this.stateDeco=e.facet(rv).filter(r=>"function"!=typeof r),this.heightMap=no.empty().applyChanges(this.stateDeco,Fr.empty,this.heightOracle.setDoc(e.doc),[new vl(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=mn.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:a})=>i>=s&&i<=a)){let{from:s,to:a}=this.lineBlockAt(i);e.push(new r_(s,a))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?NL:new NX(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(1==this.scaler.scale?e:sv(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(rv).filter(g=>"function"!=typeof g);let s=vl.extendWithRanges(e.changedRanges,function TX(n,e,t){let r=new AX;return Ci.compare(n,e,t,r,0),r.changes}(r,this.stateDeco,e?e.changes:fs.empty(this.state.doc.length))),a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=a&&(e.flags|=2);let u=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<u.from||t.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,t));let h=!e.changes.empty||2&e.flags||u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,this.updateForViewport(),h&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(UN)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection="rtl"==r.direction?Si.RTL:Si.LTR;let a=this.heightOracle.mustRefreshForWrapping(s),u=t.getBoundingClientRect(),h=a||this.mustMeasureContent||this.contentDOMHeight!=u.height;this.contentDOMHeight=u.height,this.mustMeasureContent=!1;let g=0,y=0,O=parseInt(r.paddingTop)||0,$=parseInt(r.paddingBottom)||0;(this.paddingTop!=O||this.paddingBottom!=$)&&(this.paddingTop=O,this.paddingBottom=$,g|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(h=!0),this.editorWidth=e.scrollDOM.clientWidth,g|=8);let K=(this.printing?kX:IX)(t,this.paddingTop),re=K.top-this.pixelViewport.top,he=K.bottom-this.pixelViewport.bottom;this.pixelViewport=K;let xe=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(xe!=this.inView&&(this.inView=xe,xe&&(h=!0)),!this.inView&&!this.scrollTarget)return 0;let Pe=u.width;if((this.contentDOMWidth!=Pe||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=u.width,this.editorHeight=e.scrollDOM.clientHeight,g|=8),h){let Ke=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(Ke)&&(a=!0),a||i.lineWrapping&&Math.abs(Pe-this.contentDOMWidth)>i.charWidth){let{lineHeight:at,charWidth:wt,textHeight:St}=e.docView.measureTextSize();a=at>0&&i.refresh(s,at,wt,St,Pe/wt,Ke),a&&(e.docView.minWidth=0,g|=8)}re>0&&he>0?y=Math.max(re,he):re<0&&he<0&&(y=Math.min(re,he)),i.heightChanged=!1;for(let at of this.viewports){let wt=at.from==this.viewport.from?Ke:e.docView.measureVisibleLineHeights(at);this.heightMap=(a?no.empty().applyChanges(this.stateDeco,Fr.empty,this.heightOracle,[new vl(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new kL(at.from,wt))}i.heightChanged&&(g|=2)}let Je=!this.viewportIsAppropriate(this.viewport,y)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return Je&&(this.viewport=this.getViewport(y,this.scrollTarget)),this.updateForViewport(),(2&g||Je)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),g|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),g}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:u}=this,h=new r_(i.lineAt(a-1e3*r,ni.ByHeight,s,0,0).from,i.lineAt(u+1e3*(1-r),ni.ByHeight,s,0,0).to);if(t){let{head:g}=t.range;if(g<h.from||g>h.to){let $,y=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),O=i.lineAt(g,ni.ByPos,s,0,0);$="center"==t.y?(O.top+O.bottom)/2-y/2:"start"==t.y||"nearest"==t.y&&g<h.from?O.top:O.bottom-y,h=new r_(i.lineAt($-500,ni.ByHeight,s,0,0).from,i.lineAt($+y+500,ni.ByHeight,s,0,0).to)}}return h}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new r_(this.heightMap.lineAt(r,ni.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ni.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,ni.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,ni.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:u}=this;return(0==e||i<=a-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=u+Math.max(10,Math.min(r,250)))&&i>a-2e3&&s<u+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new nS(t.mapPos(i.from),t.mapPos(i.to),i.size));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,a=i<<1;if(this.defaultTextDirection!=Si.LTR&&!r)return[];let u=[],h=(g,y,O,$)=>{if(y-g<s)return;let K=this.state.selection.main,re=[K.from];K.empty||re.push(K.to);for(let xe of re)if(xe>g&&xe<y)return h(g,xe-10,O,$),void h(xe+10,y,O,$);let he=function PX(n,e){for(let t of n)if(e(t))return t}(e,xe=>xe.from>=O.from&&xe.to<=O.to&&Math.abs(xe.from-g)<s&&Math.abs(xe.to-y)<s&&!re.some(Pe=>xe.from<Pe&&xe.to>Pe));if(!he){if(y<O.to&&t&&r&&t.visibleRanges.some(xe=>xe.from<=y&&xe.to>=y)){let xe=t.moveToLineBoundary(Mt.cursor(y),!1,!0).head;xe>g&&(y=xe)}he=new nS(g,y,this.gapSize(O,g,y,$))}u.push(he)};for(let g of this.viewportLines){if(g.length<a)continue;let y=RX(g.from,g.to,this.stateDeco);if(y.total<a)continue;let $,K,O=this.scrollTarget?this.scrollTarget.range.head:null;if(r){let he,xe,re=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=O){let Pe=s_(y,O),Je=((this.visibleBottom-this.visibleTop)/2+re)/g.height;he=Pe-Je,xe=Pe+Je}else he=(this.visibleTop-g.top-re)/g.height,xe=(this.visibleBottom-g.top+re)/g.height;$=i_(y,he),K=i_(y,xe)}else{let xe,Pe,re=y.total*this.heightOracle.charWidth,he=i*this.heightOracle.charWidth;if(null!=O){let Je=s_(y,O),Ke=((this.pixelViewport.right-this.pixelViewport.left)/2+he)/re;xe=Je-Ke,Pe=Je+Ke}else xe=(this.pixelViewport.left-he)/re,Pe=(this.pixelViewport.right+he)/re;$=i_(y,xe),K=i_(y,Pe)}$>g.from&&h(g.from,$,g,y),K<g.to&&h(K,g.to,g,y)}return u}gapSize(e,t,r,i){let s=s_(i,r)-s_(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){nS.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=mn.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Ci.spans(e,this.viewport.from,this.viewport.to,{span(i,s){t.push({from:i,to:s})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some((i,s)=>i.from!=t[s].from||i.to!=t[s].to);return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||sv(this.heightMap.lineAt(e,ni.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return sv(this.heightMap.lineAt(this.scaler.fromDOM(e),ni.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return sv(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class r_{constructor(e,t){this.from=e,this.to=t}}function RX(n,e,t){let r=[],i=n,s=0;return Ci.spans(t,n,e,{span(){},point(a,u){a>i&&(r.push({from:i,to:a}),s+=a-i),i=u}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function i_({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:a}=e[i],u=a-s;if(r<=u)return s+r;r-=u}}function s_(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}const NL={toDOM:n=>n,fromDOM:n=>n,scale:1};class NX{constructor(e,t,r){let i=0,s=0,a=0;this.viewports=r.map(({from:u,to:h})=>{let g=t.lineAt(u,ni.ByPos,e,0,0).top,y=t.lineAt(h,ni.ByPos,e,0,0).bottom;return i+=y-g,{from:u,to:h,top:g,bottom:y,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let u of this.viewports)u.domTop=a+(u.top-s)*this.scale,a=u.domBottom=u.domTop+(u.bottom-u.top),s=u.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}}function sv(n,e){if(1==e.scale)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Zc(n.from,n.length,t,r-t,Array.isArray(n.type)?n.type.map(i=>sv(i,e)):n.type)}const o_=dn.define({combine:n=>n.join(" ")}),rS=dn.define({combine:n=>n.indexOf(!0)>-1}),iS=Qu.newName(),LL=Qu.newName(),FL=Qu.newName(),BL={"&light":"."+LL,"&dark":"."+FL};function sS(n,e,t){return new Qu(e,{finish:r=>/&/.test(r)?r.replace(/&\w*/,i=>{if("&"==i)return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r})}const LX=sS("."+iS,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},BL);class FX{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let u=s||a?[]:function VX(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new tL(t,r)),(i!=t||s!=r)&&e.push(new tL(i,s))),e}(e),h=new JN(u,e.state);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=function HX(n,e){if(0==n.length)return null;let t=n[0].pos,r=2==n.length?n[1].pos:t;return t>-1&&r>-1?Mt.single(t+e,r+e):null}(u,this.bounds.from)}else{let u=e.observer.selectionRange,h=s&&s.node==u.focusNode&&s.offset==u.focusOffset||!bp(e.contentDOM,u.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(u.focusNode,u.focusOffset),g=a&&a.node==u.anchorNode&&a.offset==u.anchorOffset||!bp(e.contentDOM,u.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(u.anchorNode,u.anchorOffset);this.newSel=Mt.single(g,h)}}}function VL(n,e){let t,{newSel:r}=e,i=n.state.selection.main;if(e.bounds){let{from:s,to:a}=e.bounds,u=i.from,h=null;(8===n.inputState.lastKeyCode&&n.inputState.lastKeyTime>Date.now()-100||fn.android&&e.text.length<a-s)&&(u=i.to,h="end");let g=function BX(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let a=n.length,u=e.length;for(;a>0&&u>0&&n.charCodeAt(a-1)==e.charCodeAt(u-1);)a--,u--;return"end"==r&&(t-=a+Math.max(0,s-Math.min(a,u))-s),a<s&&n.length<e.length?(s-=t<=s&&t>=a?s-t:0,u=s+(u-a),a=s):u<s&&(s-=t<=s&&t>=u?s-t:0,a=s+(a-u),u=s),{from:s,toA:a,toB:u}}(n.state.doc.sliceString(s,a,nd),e.text,u-s,h);g&&(fn.chrome&&13==n.inputState.lastKeyCode&&g.toB==g.from+2&&e.text.slice(g.from,g.toB)==nd+nd&&g.toB--,t={from:s+g.from,to:s+g.toA,insert:Fr.of(e.text.slice(g.from,g.toB).split(nd))})}else r&&(!n.hasFocus&&n.state.facet(Z0)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:(fn.mac||fn.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&"off"==n.contentDOM.getAttribute("autocorrect")?(r&&2==t.insert.length&&(r=Mt.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Fr.of([" "])}):fn.chrome&&t&&t.from==t.to&&t.from==i.head&&"\n "==t.insert.toString()&&n.lineWrapping&&(r&&(r=Mt.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Fr.of([" "])}),t){let s=n.state;if(fn.ios&&n.inputState.flushIOSKey(n)||fn.android&&(t.from==i.from&&t.to==i.to&&1==t.insert.length&&2==t.insert.lines&&wp(n.contentDOM,"Enter",13)||t.from==i.from-1&&t.to==i.to&&0==t.insert.length&&wp(n.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&0==t.insert.length&&wp(n.contentDOM,"Delete",46)))return!0;let u,a=t.insert.toString();if(n.state.facet(HN).some(g=>g(n,t.from,t.to,a)))return!0;if(n.inputState.composing>=0&&n.inputState.composing++,t.from>=i.from&&t.to<=i.to&&t.to-t.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==t.from+t.insert.length)&&n.inputState.composing<0){let g=i.from<t.from?s.sliceDoc(i.from,t.from):"",y=i.to>t.to?s.sliceDoc(t.to,i.to):"";u=s.replaceSelection(n.state.toText(g+t.insert.sliceString(0,void 0,n.state.lineBreak)+y))}else{let g=s.changes(t),y=r&&r.main.to<=g.newLength?r.main:void 0;if(s.selection.ranges.length>1&&n.inputState.composing>=0&&t.to<=i.to&&t.to>=i.to-10){let O=n.state.sliceDoc(t.from,t.to),$=iL(n)||n.state.doc.lineAt(i.head),K=i.to-t.to,re=i.to-i.from;u=s.changeByRange(he=>{if(he.from==i.from&&he.to==i.to)return{changes:g,range:y||he.map(g)};let xe=he.to-K,Pe=xe-O.length;if(he.to-he.from!=re||n.state.sliceDoc(Pe,xe)!=O||$&&he.to>=$.from&&he.from<=$.to)return{range:he};let Je=s.changes({from:Pe,to:xe,insert:t.insert}),Ke=he.to-i.to;return{changes:Je,range:y?Mt.range(Math.max(0,y.anchor+Ke),Math.max(0,y.head+Ke)):he.map(Je)}})}else u={changes:g,selection:y&&s.selection.replaceRange(y)}}let h="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,h+=".compose",n.inputState.compositionFirstChange&&(h+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(u,{scrollIntoView:!0,userEvent:h}),!0}if(r&&!r.main.eq(i)){let s=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&("select"==n.inputState.lastSelectionOrigin&&(s=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}return!1}const zX={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},oS=fn.ie&&fn.ie_version<=11;class jX{constructor(e){this.view=e,this.active=!1,this.selectionRange=new VY,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(fn.ie&&fn.ie_version<=11||fn.ios&&e.composing)&&t.some(r=>"childList"==r.type&&r.removedNodes.length||"characterData"==r.type&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),oS&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Z0)?r.root.activeElement!=this.dom:!G0(r.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);s&&s.ignoreEvent(e)?t||(this.selectionChanged=!1):(fn.ie&&fn.ie_version<=11||fn.android&&fn.chrome)&&!r.state.selection.main.empty&&i.focusNode&&$0(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=fn.safari&&11==e.root.nodeType&&function NY(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom&&function UX(n){let e=null;function t(h){h.preventDefault(),h.stopImmediatePropagation(),e=h.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let r=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,u=n.docView.domAtPos(n.state.selection.main.anchor);return $0(u.node,u.offset,s,a)&&([r,i,s,a]=[s,a,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a}}(this.view)||U0(e.root);if(!t||this.selectionRange.eq(t))return!1;let r=G0(this.dom,t);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function zY(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(;;)if(r){if(1!=t.nodeType)return!1;let i=t.childNodes[r-1];"false"==i.contentEditable?r--:(t=i,r=ev(t))}else{if(t==n)return!0;r=W0(t),t=t.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(1==r.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else{if(11!=r.nodeType)break;r=r.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,zX),oS&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),oS&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),!this.flush()&&s.force&&wp(this.dom,s.key,s.keyCode))})),(!this.delayedAndroidKey||"Enter"==e)&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!(null===(r=this.delayedAndroidKey)||void 0===r||!r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let a=this.readMutation(s);a&&(a.typeOver&&(i=!0),-1==t?({from:t,to:r}=a):(t=Math.min(a.from,t),r=Math.max(a.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&G0(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new FX(this.view,e,t,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let r=this.view.state,i=VL(this.view,t);return this.view.state==r&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let r=HL(t,e.previousSibling||e.target.previousSibling,-1),i=HL(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,r,i;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(r=this.resizeScroll)||void 0===r||r.disconnect(),null===(i=this.resizeContent)||void 0===i||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function HL(n,e,t){for(;e;){let r=ci.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}let zn=(()=>{class n{constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(r=>this.update([r])),this.dispatch=this.dispatch.bind(this),this._root=t.root||function HY(n){for(;n;){if(n&&(9==n.nodeType||11==n.nodeType&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}(t.parent)||document,this.viewState=new PL(t.state||wo.create(t)),this.plugins=this.state.facet(nv).map(r=>new YC(r));for(let r of this.plugins)r.update(this);this.observer=new jX(this),this.inputState=new fX(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new nL(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...t){this._dispatch(1==t.length&&t[0]instanceof rc?t[0]:this.state.update(...t))}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let s,r=!1,i=!1,a=this.state;for(let K of t){if(K.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=K.state}if(this.destroyed)return void(this.viewState.state=a);let u=this.hasFocus,h=0,g=null;t.some(K=>K.annotation(DL))?(this.inputState.notifiedFocused=u,h=1):u!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=u,g=ML(a,u),g||(h=1));let y=this.observer.delayedAndroidKey,O=null;if(y?(this.observer.clearDelayedAndroidKey(),O=this.observer.readChange(),(O&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(O=null)):this.observer.clear(),a.facet(wo.phrases)!=this.state.facet(wo.phrases))return this.setState(a);s=J0.create(this,a,t),s.flags|=h;let $=this.viewState.scrollTarget;try{this.updateState=2;for(let K of t){if($&&($=$.map(K.changes)),K.scrollIntoView){let{main:re}=K.state.selection;$=new q0(re.empty?re:Mt.cursor(re.head,re.head>re.anchor?-1:1))}for(let re of K.effects)re.is(GN)&&($=re.value)}this.viewState.update(s,$),this.bidiCache=a_.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),r=this.docView.update(s),this.state.facet(iv)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(r,t.some(K=>K.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(o_)!=s.state.facet(o_)&&(this.viewState.mustMeasureContent=!0),(r||i||$||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!s.empty)for(let K of this.state.facet(WC))K(s);(g||O)&&Promise.resolve().then(()=>{g&&this.state==g.startState&&this.dispatch(g),O&&!VL(this,O)&&y.force&&wp(this.contentDOM,y.key,y.keyCode)})}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let r=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new PL(t),this.plugins=t.facet(nv).map(i=>new YC(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new nL(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(t){let r=t.startState.facet(nv),i=t.state.facet(nv);if(r!=i){let s=[];for(let a of i){let u=r.indexOf(a);if(u<0)s.push(new YC(a));else{let h=this.plugins[u];h.mustUpdate=t,s.push(h)}}for(let a of this.plugins)a.mustUpdate!=t&&a.destroy(this);this.plugins=s,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let s of this.plugins)s.mustUpdate=t;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this)}measure(t=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.forceFlush();let r=null,{scrollHeight:i,scrollTop:s,clientHeight:a}=this.scrollDOM,u=s>i-a-4?i:s;try{for(let h=0;;h++){this.updateState=1;let g=this.viewport,y=this.viewState.lineBlockAtHeight(u),O=this.viewState.measure(this);if(!O&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(h>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let $=[];4&O||([this.measureRequests,$]=[$,this.measureRequests]);let K=$.map(Pe=>{try{return Pe.read(this)}catch(Je){return ca(this.state,Je),zL}}),re=J0.create(this,this.state,[]),he=!1,xe=!1;re.flags|=O,r?r.flags|=O:r=re,this.updateState=2,re.empty||(this.updatePlugins(re),this.inputState.update(re),this.updateAttrs(),he=this.docView.update(re));for(let Pe=0;Pe<$.length;Pe++)if(K[Pe]!=zL)try{let Je=$[Pe];Je.write&&Je.write(K[Pe],this)}catch(Je){ca(this.state,Je)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,xe=!0;else{let Pe=this.viewState.lineBlockAt(y.from).top-y.top;(Pe>1||Pe<-1)&&(this.scrollDOM.scrollTop+=Pe,xe=!0)}if(he&&this.docView.updateSelection(!0),this.viewport.from==g.from&&this.viewport.to==g.to&&!xe&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let h of this.state.facet(WC))h(r)}get themeClasses(){return iS+" "+(this.state.facet(rS)?FL:LL)+" "+this.state.facet(o_)}updateAttrs(){let t=jL(this,$N,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Z0)?"true":"false",class:"cm-content",style:`${fn.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),jL(this,Q0,r);let i=this.observer.ignore(()=>{let s=UC(this.contentDOM,this.contentAttrs,r),a=UC(this.dom,this.editorAttrs,t);return s||a});return this.editorAttrs=t,this.contentAttrs=r,i}showAnnouncements(t){let r=!0;for(let i of t)for(let s of i.effects)s.is(n.announce)&&(r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=s.value)}mountStyles(){this.styleModules=this.state.facet(iv),Qu.mount(this.root,this.styleModules.concat(LX).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===t.key)return void(this.measureRequests[r]=t);this.measureRequests.push(t)}}plugin(t){let r=this.pluginMap.get(t);return(void 0===r||r&&r.spec!=t)&&this.pluginMap.set(t,r=this.plugins.find(i=>i.spec==t)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,r,i){return QC(this,t,dL(this,t,r,i))}moveByGroup(t,r){return QC(this,t,dL(this,t,r,i=>function dX(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let a=r(s);return i==gi.Space&&(i=a),i==a}}(this,t.head,i)))}moveToLineBoundary(t,r,i=!0){return function uX(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=r&&n.lineWrapping?n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head):null;if(s){let h=n.dom.getBoundingClientRect(),g=n.textDirectionAt(i.from),y=n.posAtCoords({x:t==(g==Si.LTR)?h.right-1:h.left+1,y:(s.top+s.bottom)/2});if(null!=y)return Mt.cursor(y,t?-1:1)}let a=Eo.find(n.docView,e.head);return Mt.cursor(a?t?a.posAtEnd:a.posAtStart:t?i.to:i.from,t?-1:1)}(this,t,r,i)}moveVertically(t,r,i){return QC(this,t,function hX(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return Mt.cursor(i,e.assoc);let u,a=e.goalColumn,h=n.contentDOM.getBoundingClientRect(),g=n.coordsAtPos(i),y=n.documentTop;if(g)null==a&&(a=g.left-h.left),u=s<0?g.top:g.bottom;else{let K=n.viewState.lineBlockAt(i);null==a&&(a=Math.min(h.right-h.left,n.defaultCharacterWidth*(i-K.from))),u=(s<0?K.top:K.bottom)+y}let O=h.left+a,$=r??n.defaultLineHeight>>1;for(let K=0;;K+=10){let re=u+($+K)*s,he=cL(n,{x:O,y:re},!1,s);if(re<h.top||re>h.bottom||(s<0?he<i:he>i))return Mt.cursor(he,e.assoc,void 0,a)}}(this,t,r,i))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,r=0){return this.docView.posFromDOM(t,r)}posAtCoords(t,r=!0){return this.readMeasured(),cL(this,t,r)}coordsAtPos(t,r=1){this.readMeasured();let i=this.docView.coordsAt(t,r);if(!i||i.left==i.right)return i;let s=this.state.doc.lineAt(t),a=this.bidiSpans(s);return RC(i,a[Ep.find(a,t-s.from,-1,r)].dir==Si.LTR==r>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(jN)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>GX)return qN(t.length);let r=this.textDirectionAt(t.from);for(let s of this.bidiCache)if(s.from==t.from&&s.dir==r)return s.order;let i=function KN(n,e){let t=n.length,r=e==XC?1:2,i=e==XC?2:1;if(!n||1==r&&!ZY.test(n))return qN(t);for(let a=0,u=r,h=r;a<t;a++){let g=qY(n.charCodeAt(a));512==g?g=u:8==g&&4==h&&(g=16),Di[a]=4==g?2:g,7&g&&(h=g),u=g}for(let a=0,u=r,h=r;a<t;a++){let g=Di[a];if(128==g)a<t-1&&u==Di[a+1]&&24&u?g=Di[a]=u:Di[a]=256;else if(64==g){let y=a+1;for(;y<t&&64==Di[y];)y++;let O=a&&8==u||y<t&&8==Di[y]?1==h?1:8:256;for(let $=a;$<y;$++)Di[$]=O;a=y-1}else 8==g&&1==h&&(Di[a]=1);u=g,7&g&&(h=g)}for(let g,y,O,a=0,u=0,h=0;a<t;a++)if(y=KC[g=n.charCodeAt(a)])if(y<0){for(let $=u-3;$>=0;$-=3)if(sc[$+1]==-y){let K=sc[$+2],re=2&K?r:4&K?1&K?i:r:0;re&&(Di[a]=Di[sc[$]]=re),u=$;break}}else{if(189==sc.length)break;sc[u++]=a,sc[u++]=g,sc[u++]=h}else if(2==(O=Di[a])||1==O){let $=O==r;h=$?0:1;for(let K=u-3;K>=0;K-=3){let re=sc[K+2];if(2&re)break;if($)sc[K+2]|=2;else{if(4&re)break;sc[K+2]|=4}}}for(let a=0;a<t;a++)if(256==Di[a]){let u=a+1;for(;u<t&&256==Di[u];)u++;let h=1==(a?Di[a-1]:r),y=h==(1==(u<t?Di[u]:r))?h?1:2:r;for(let O=a;O<u;O++)Di[O]=y;a=u-1}let s=[];if(1==r)for(let a=0;a<t;){let u=a,h=1!=Di[a++];for(;a<t&&h==(1!=Di[a]);)a++;if(h)for(let g=a;g>u;){let y=g,O=2!=Di[--g];for(;g>u&&O==(2!=Di[g-1]);)g--;s.push(new Ep(g,y,O?2:1))}else s.push(new Ep(u,a,0))}else for(let a=0;a<t;){let u=a,h=2==Di[a++];for(;a<t&&h==(2==Di[a]);)a++;s.push(new Ep(u,a,h?1:2))}return s}(t.text,r);return this.bidiCache.push(new a_(t.from,t.to,r,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||fn.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{vN(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,r={}){return GN.of(new q0("number"==typeof t?Mt.cursor(t):t,r.y,r.x,r.yMargin,r.xMargin))}static domEventHandlers(t){return Ri.define(()=>({}),{eventHandlers:t})}static theme(t,r){let i=Qu.newName(),s=[o_.of(i),iv.of(sS(`.${i}`,t))];return r&&r.dark&&s.push(rS.of(!0)),s}static baseTheme(t){return Ch.lowest(iv.of(sS("."+iS,t,BL)))}static findFromDOM(t){var r;let i=t.querySelector(".cm-content");return(null===(r=(i&&ci.get(i)||ci.get(t))?.rootView)||void 0===r?void 0:r.view)||null}}return n.styleModule=iv,n.inputHandler=HN,n.focusChangeEffect=zN,n.perLineTextDirection=jN,n.exceptionSink=VN,n.updateListener=WC,n.editable=Z0,n.mouseSelectionStyle=BN,n.dragMovesSelection=FN,n.clickAddsSelectionRange=LN,n.decorations=rv,n.atomicRanges=WN,n.scrollMargins=YN,n.darkTheme=rS,n.contentAttributes=Q0,n.editorAttributes=$N,n.lineWrapping=n.contentAttributes.of({class:"cm-lineWrapping"}),n.announce=lr.define(),n})();const GX=4096,zL={};class a_{constructor(e,t,r,i){this.from=e,this.to=t,this.dir=r,this.order=i}static update(e,t){if(t.empty)return e;let r=[],i=e.length?e[e.length-1].dir:Si.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let a=e[s];a.dir==i&&!t.touchesRange(a.from,a.to)&&r.push(new a_(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.order))}return r}}function jL(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],a="function"==typeof s?s(n):s;a&&zC(a,t)}return t}const $X=fn.mac?"mac":fn.windows?"win":fn.linux?"linux":"key";function l_(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),!1!==t&&e.shiftKey&&(n="Shift-"+n),n}const c_=dn.define({enables:Ch.default(zn.domEventHandlers({keydown:(n,e)=>$L(GL(e.state),n,e,"editor")}))}),UL=new WeakMap;function GL(n){let e=n.facet(c_),t=UL.get(e);return t||UL.set(e,t=function qX(n,e=$X){let t=Object.create(null),r=Object.create(null),i=(a,u)=>{let h=r[a];if(null==h)r[a]=u;else if(h!=u)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},s=(a,u,h,g)=>{var y,O;let $=t[a]||(t[a]=Object.create(null)),K=u.split(/ (?!$)/).map(xe=>function WX(n,e){const t=n.split(/-(?!$)/);let i,s,a,u,r=t[t.length-1];"Space"==r&&(r=" ");for(let h=0;h<t.length-1;++h){const g=t[h];if(/^(cmd|meta|m)$/i.test(g))u=!0;else if(/^a(lt)?$/i.test(g))i=!0;else if(/^(c|ctrl|control)$/i.test(g))s=!0;else if(/^s(hift)?$/i.test(g))a=!0;else{if(!/^mod$/i.test(g))throw new Error("Unrecognized modifier name: "+g);"mac"==e?u=!0:s=!0}}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),u&&(r="Meta-"+r),a&&(r="Shift-"+r),r}(xe,e));for(let xe=1;xe<K.length;xe++){let Pe=K.slice(0,xe).join(" ");i(Pe,!0),$[Pe]||($[Pe]={preventDefault:!0,run:[Je=>{let Ke=rd={view:Je,prefix:Pe,scope:a};return setTimeout(()=>{rd==Ke&&(rd=null)},KX),!0}]})}let re=K.join(" ");i(re,!1);let he=$[re]||($[re]={preventDefault:!1,run:(null===(O=null===(y=$._any)||void 0===y?void 0:y.run)||void 0===O?void 0:O.slice())||[]});h&&he.run.push(h),g&&(he.preventDefault=!0)};for(let a of n){let u=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let g of u){let y=t[g]||(t[g]=Object.create(null));y._any||(y._any={preventDefault:!1,run:[]});for(let O in y)y[O].run.push(a.any)}let h=a[e]||a.key;if(h)for(let g of u)s(g,h,a.run,a.preventDefault),a.shift&&s(g,"Shift-"+h,a.shift,a.preventDefault)}return t}(e.reduce((r,i)=>r.concat(i),[]))),t}let rd=null;const KX=4e3;function $L(n,e,t,r){let i=function PY(n){var t=!(RY&&(n.ctrlKey||n.altKey||n.metaKey)||OY&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?Qg:Ju)[n.keyCode]||n.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(e),a=Oa(Hs(i,0))==i.length&&" "!=i,u="",h=!1;rd&&rd.view==t&&rd.scope==r&&(u=rd.prefix+" ",(h=fL.indexOf(e.keyCode)<0)&&(rd=null));let $,K,g=new Set,y=re=>{if(re){for(let he of re.run)if(!g.has(he)&&(g.add(he),he(t,e)))return!0;re.preventDefault&&(h=!0)}return!1},O=n[r];if(O){if(y(O[u+l_(i,e,!a)]))return!0;if(a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(fn.windows&&e.ctrlKey&&e.altKey)&&($=Ju[e.keyCode])&&$!=i){if(y(O[u+l_($,e,!0)]))return!0;if(e.shiftKey&&(K=Qg[e.keyCode])!=i&&K!=$&&y(O[u+l_(K,e,!1)]))return!0}else if(a&&e.shiftKey&&y(O[u+l_(i,e,!0)]))return!0;if(y(O._any))return!0}return h}class ov{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=WL(e);return[new ov(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}return function ZX(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==Si.LTR,a=n.contentDOM,u=a.getBoundingClientRect(),h=WL(n),g=a.querySelector(".cm-line"),y=g&&window.getComputedStyle(g),O=u.left+(y?parseInt(y.paddingLeft)+Math.min(0,parseInt(y.textIndent)):0),$=u.right-(y?parseInt(y.paddingRight):0),K=XL(n,r),re=XL(n,i),he=K.type==Jr.Text?K:null,xe=re.type==Jr.Text?re:null;if(n.lineWrapping&&(he&&(he=YL(n,r,he)),xe&&(xe=YL(n,i,xe))),he&&xe&&he.from==xe.from)return Je(Ke(t.from,t.to,he));{let wt=he?Ke(t.from,null,he):at(K,!1),St=xe?Ke(null,t.to,xe):at(re,!0),Jt=[];return(he||K).to<(xe||re).from-1?Jt.push(Pe(O,wt.bottom,$,St.top)):wt.bottom<St.top&&n.elementAtHeight((wt.bottom+St.top)/2).type==Jr.Text&&(wt.bottom=St.top=(wt.bottom+St.top)/2),Je(wt).concat(Jt).concat(Je(St))}function Pe(wt,St,Jt,vr){return new ov(e,wt-h.left,St-h.top-.01,Jt-wt,vr-St+.01)}function Je({top:wt,bottom:St,horizontal:Jt}){let vr=[];for(let Mn=0;Mn<Jt.length;Mn+=2)vr.push(Pe(Jt[Mn],wt,Jt[Mn+1],St));return vr}function Ke(wt,St,Jt){let vr=1e9,Mn=-1e9,In=[];function Xr(Gs,ts,Gt,ln,cn){let bn=n.coordsAtPos(Gs,Gs==Jt.to?-2:2),cr=n.coordsAtPos(Gt,Gt==Jt.from?2:-2);vr=Math.min(bn.top,cr.top,vr),Mn=Math.max(bn.bottom,cr.bottom,Mn),cn==Si.LTR?In.push(s&&ts?O:bn.left,s&&ln?$:cr.right):In.push(!s&&ln?O:cr.left,!s&&ts?$:bn.right)}let ui=wt??Jt.from,yi=St??Jt.to;for(let Gs of n.visibleRanges)if(Gs.to>ui&&Gs.from<yi)for(let ts=Math.max(Gs.from,ui),Gt=Math.min(Gs.to,yi);;){let ln=n.state.doc.lineAt(ts);for(let cn of n.bidiSpans(ln)){let bn=cn.from+ln.from,cr=cn.to+ln.from;if(bn>=Gt)break;cr>ts&&Xr(Math.max(bn,ts),null==wt&&bn<=ui,Math.min(cr,Gt),null==St&&cr>=yi,cn.dir)}if(ts=ln.to+1,ts>=Gt)break}return 0==In.length&&Xr(ui,null==wt,yi,null==St,n.textDirection),{top:vr,bottom:Mn,horizontal:In}}function at(wt,St){let Jt=u.top+(St?wt.top:wt.bottom);return{top:Jt,bottom:Jt,horizontal:[]}}}(e,t,r)}}function WL(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Si.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function YL(n,e,t){let r=Mt.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(r,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(r,!0,!0).from),type:Jr.Text}}function XL(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type))for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==Jr.Text))return r;return t}class JX{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(u_)!=e.state.facet(u_)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(u_);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!function QX(n,e){return n.constructor==e.constructor&&n.eq(e)}(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const u_=dn.define();function KL(n){return[Ri.define(e=>new JX(e,n)),u_.of(n)]}const qL=!fn.ios,av=dn.define({combine:n=>gl(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function eK(n={}){return[av.of(n),tK,nK,rK,UN.of(!0)]}function ZL(n){return n.startState.facet(av)!=n.state.facet(av)}const tK=KL({above:!0,markers(n){let{state:e}=n,t=e.facet(av),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||qL:t.drawRangeCursor){let a=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=i.empty?i:Mt.cursor(i.head,i.head>i.anchor?-1:1);for(let h of ov.forRange(n,a,u))r.push(h)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName="cm-blink"==e.style.animationName?"cm-blink2":"cm-blink");let t=ZL(n);return t&&QL(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){QL(e.state,n)},class:"cm-cursorLayer"});function QL(n,e){e.style.animationDuration=n.facet(av).cursorBlinkRate+"ms"}const nK=KL({above:!1,markers:n=>n.state.selection.ranges.map(e=>e.empty?[]:ov.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t)),update:(n,e)=>n.docChanged||n.selectionSet||n.viewportChanged||ZL(n),class:"cm-selectionLayer"}),JL={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};qL&&(JL[".cm-line"].caretColor="transparent !important");const rK=Ch.highest(zn.theme(JL)),eF=lr.define({map:(n,e)=>null==n?null:e.mapPos(n)}),lv=es.define({create:()=>null,update:(n,e)=>(null!=n&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(eF)?r.value:t,n))}),iK=Ri.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(lv);null==t?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(lv)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let n=this.view.state.field(lv),e=null!=n&&this.view.coordsAtPos(n);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(n){this.cursor&&(n?(this.cursor.style.left=n.left+"px",this.cursor.style.top=n.top+"px",this.cursor.style.height=n.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(lv)!=n&&this.view.dispatch({effects:eF.of(n)})}},{eventHandlers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function tF(n,e,t,r,i){e.lastIndex=0;for(let u,s=n.iterRange(t,r),a=t;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;u=e.exec(s.value);)i(a+u.index,u)}class aS{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:a=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(u,h,g,y)=>i(y,g,g+u[0].length,u,h);else if("function"==typeof r)this.addMatch=(u,h,g,y)=>{let O=r(u,h,g);O&&y(g,g+u[0].length,O)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(u,h,g,y)=>y(g,g+u[0].length,r)}this.boundary=s,this.maxLength=a}createDeco(e){let t=new Zu,r=t.add.bind(t);for(let{from:i,to:s}of function oK(n,e){let t=n.visibleRanges;if(1==t.length&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}(e,this.maxLength))tF(e.state.doc,this.regexp,i,s,(a,u)=>this.addMatch(u,e,a,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,a,u,h)=>{h>e.view.viewport.from&&u<e.view.viewport.to&&(r=Math.min(u,r),i=Math.max(h,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let a=Math.max(s.from,r),u=Math.min(s.to,i);if(u>a){let h=e.state.doc.lineAt(a),g=h.to<u?e.state.doc.lineAt(u):h,y=Math.max(s.from,h.from),O=Math.min(s.to,g.to);if(this.boundary){for(;a>h.from;a--)if(this.boundary.test(h.text[a-1-h.from])){y=a;break}for(;u<g.to;u++)if(this.boundary.test(g.text[u-g.from])){O=u;break}}let K,$=[],re=(he,xe,Pe)=>$.push(Pe.range(he,xe));if(h==g)for(this.regexp.lastIndex=y-h.from;(K=this.regexp.exec(h.text))&&K.index<O-h.from;)this.addMatch(K,e,K.index+h.from,re);else tF(e.state.doc,this.regexp,y,O,(he,xe)=>this.addMatch(xe,e,he,re));t=t.update({filterFrom:y,filterTo:O,filter:(he,xe)=>he<y||xe>O,add:$})}}return t}}const lS=null!=/x/.unicode?"gu":"g",aK=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",lS),lK={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let cS=null;const d_=dn.define({combine(n){let e=gl(n,{render:null,specialChars:aK,addSpecialChars:null});return(e.replaceTabs=!function cK(){var n;if(null==cS&&typeof document<"u"&&document.body){let e=document.body.style;cS=null!=(null!==(n=e.tabSize)&&void 0!==n?n:e.MozTabSize)}return cS||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,lS)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,lS)),e}});function uK(n={}){return[d_.of(n),nF||(nF=Ri.fromClass(class{constructor(n){this.view=n,this.decorations=mn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(d_)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new aS({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=Hs(e[0],0);if(9==s){let a=i.lineAt(r),u=t.state.tabSize,h=Zg(a.text,u,r-a.from);return mn.replace({widget:new mK((u-h%u)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=mn.replace({widget:new pK(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(d_);n.startState.facet(d_)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))]}let nF=null;class pK extends qc{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function fK(n){return n>=32?"\u2022":10==n?"\u2424":String.fromCharCode(9216+n)}(this.code),r=e.state.phrase("Control character")+" "+(lK[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class mK extends qc{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const vK=mn.line({class:"cm-activeLine"}),yK=Ri.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(vK.range(i.from)),e=i.from)}return mn.set(t)}},{decorations:n=>n.decorations}),uS=2e3;function iF(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>uS?-1:i==r.length?function xK(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}(n,e.clientX):Zg(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function EK(n){let e=n?.eventFilter||(t=>t.altKey&&0==t.button);return zn.mouseSelectionStyle.of((t,r)=>e(r)?function wK(n,e){let t=iF(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),a=i.state.doc.lineAt(s);t={line:a.number,col:t.col,off:Math.min(t.off,a.length)},r=r.map(i.changes)}},get(i,s,a){let u=iF(n,i);if(!u)return r;let h=function _K(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>uS||t.off>uS||e.col<0||t.col<0){let a=Math.min(e.off,t.off),u=Math.max(e.off,t.off);for(let h=r;h<=i;h++){let g=n.doc.line(h);g.length<=u&&s.push(Mt.range(g.from+a,g.to+u))}}else{let a=Math.min(e.col,t.col),u=Math.max(e.col,t.col);for(let h=r;h<=i;h++){let g=n.doc.line(h),y=AC(g.text,a,n.tabSize,!0);if(y<0)s.push(Mt.cursor(g.to));else{let O=AC(g.text,u,n.tabSize);s.push(Mt.range(g.from+y,g.from+O))}}}return s}(n.state,t,u);return h.length?Mt.create(a?h.concat(r.ranges):h):r}}:null}(t,r):null)}const CK={Alt:[18,n=>n.altKey],Control:[17,n=>n.ctrlKey],Shift:[16,n=>n.shiftKey],Meta:[91,n=>n.metaKey]},SK={style:"cursor: crosshair"};function DK(n={}){let[e,t]=CK[n.key||"Alt"],r=Ri.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventHandlers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,zn.contentAttributes.of(i=>{var s;return null!==(s=i.plugin(r))&&void 0!==s&&s.isDown?SK:null})]}const h_="-10000px";class sF{constructor(e,t,r){this.facet=t,this.createTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(r)}update(e){var t;let r=e.state.facet(this.facet),i=r.filter(a=>a);if(r===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let s=[];for(let a=0;a<i.length;a++){let u=i[a],h=-1;if(u){for(let g=0;g<this.tooltips.length;g++){let y=this.tooltips[g];y&&y.create==u.create&&(h=g)}if(h<0)s[a]=this.createTooltipView(u);else{let g=s[a]=this.tooltipViews[h];g.update&&g.update(e)}}}for(let a of this.tooltipViews)s.indexOf(a)<0&&(a.dom.remove(),null===(t=a.destroy)||void 0===t||t.call(a));return this.input=r,this.tooltips=i,this.tooltipViews=s,!0}}function MK(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const f_=dn.define({combine:n=>{var e,t,r;return{position:fn.ios?"absolute":(null===(e=n.find(i=>i.position))||void 0===e?void 0:e.position)||"fixed",parent:(null===(t=n.find(i=>i.parent))||void 0===t?void 0:t.parent)||null,tooltipSpace:(null===(r=n.find(i=>i.tooltipSpace))||void 0===r?void 0:r.tooltipSpace)||MK}}}),oF=new WeakMap,dS=Ri.fromClass(class{constructor(n){this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(f_);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new sF(n,p_,t=>this.createTooltip(t)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(f_);if(r.position!=this.position){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=h_,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),null===(n=t.destroy)||void 0===n||n.call(t);null===(e=this.intersectionObserver)||void 0===e||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((e,t)=>{let r=this.manager.tooltipViews[t];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(f_).tooltipSpace(this.view)}}writeMeasure(n){var e;let{editor:t,space:r}=n,i=[];for(let s=0;s<this.manager.tooltips.length;s++){let a=this.manager.tooltips[s],u=this.manager.tooltipViews[s],{dom:h}=u,g=n.pos[s],y=n.size[s];if(!g||g.bottom<=Math.max(t.top,r.top)||g.top>=Math.min(t.bottom,r.bottom)||g.right<Math.max(t.left,r.left)-.1||g.left>Math.min(t.right,r.right)+.1){h.style.top=h_;continue}let O=a.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,$=O?7:0,K=y.right-y.left,re=null!==(e=oF.get(u))&&void 0!==e?e:y.bottom-y.top,he=u.offset||AK,xe=this.view.textDirection==Si.LTR,Pe=y.width>r.right-r.left?xe?r.left:r.right-y.width:xe?Math.min(g.left-(O?14:0)+he.x,r.right-K):Math.max(r.left,g.left-K+(O?14:0)-he.x),Je=!!a.above;!a.strictSide&&(Je?g.top-(y.bottom-y.top)-he.y<r.top:g.bottom+(y.bottom-y.top)+he.y>r.bottom)&&Je==r.bottom-g.bottom>g.top-r.top&&(Je=!Je);let Ke=(Je?g.top-r.top:r.bottom-g.bottom)-$;if(Ke<re&&!1!==u.resize){if(Ke<this.view.defaultLineHeight){h.style.top=h_;continue}oF.set(u,re),h.style.height=(re=Ke)+"px"}else h.style.height&&(h.style.height="");let at=Je?g.top-re-$-he.y:g.bottom+$+he.y,wt=Pe+K;if(!0!==u.overlap)for(let St of i)St.left<wt&&St.right>Pe&&St.top<at+re&&St.bottom>at&&(at=Je?St.top-re-2-$:St.bottom+$+2);"absolute"==this.position?(h.style.top=at-n.parent.top+"px",h.style.left=Pe-n.parent.left+"px"):(h.style.top=at+"px",h.style.left=Pe+"px"),O&&(O.style.left=g.left+(xe?he.x:-he.x)-(Pe+14-7)+"px"),!0!==u.overlap&&i.push({left:Pe,top:at,right:wt,bottom:at+re}),h.classList.toggle("cm-tooltip-above",Je),h.classList.toggle("cm-tooltip-below",!Je),u.positioned&&u.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=h_}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),AK={x:0,y:0},p_=dn.define({enables:[dS,zn.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),cv=dn.define();class hS{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new sF(e,cv,t=>this.createHostedView(t))}static create(e){return new hS(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}}const IK=p_.compute([cv],n=>{let e=n.facet(cv).filter(t=>t);return 0===e.length?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>null!=t.end).map(t=>t.end)),create:hS.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class kK{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==t)return;let r=this.view.coordsAtPos(t);if(null==r||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(u=>u.from<=t&&u.to>=t),s=i&&i.dir==Si.RTL?-1:1,a=this.source(this.view,t,e.x<r.left?-s:s);if(a?.then){let u=this.pending={pos:t};a.then(h=>{this.pending==u&&(this.pending=null,h&&this.view.dispatch({effects:this.setHover.of(h)}))},h=>ca(this.view.state,h,"hover tooltip"))}else a&&this.view.dispatch({effects:this.setHover.of(a)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!aF(this.lastMove.target)||this.pending){let{pos:i}=r||this.pending,s=null!==(t=r?.end)&&void 0!==t?t:i;(i==s?this.view.posAtCoords(this.lastMove)!=i:!function OK(n,e,t,r,i,s){let a=document.createRange(),u=n.domAtPos(e),h=n.domAtPos(t);a.setEnd(h.node,h.offset),a.setStart(u.node,u.offset);let g=a.getClientRects();a.detach();for(let y=0;y<g.length;y++){let O=g[y];if(Math.max(O.top-i,i-O.bottom,O.left-r,r-O.right)<=s)return!0}return!1}(this.view,i,s,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!aF(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function aF(n){for(let e=n;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip"))return!0;return!1}function RK(n,e={}){let t=lr.define(),r=es.define({create:()=>null,update(i,s){if(i&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,i)))return null;if(i&&s.docChanged){let a=s.changes.mapPos(i.pos,-1,xo.TrackDel);if(null==a)return null;let u=Object.assign(Object.create(null),i);u.pos=a,null!=i.end&&(u.end=s.changes.mapPos(i.end)),i=u}for(let a of s.effects)a.is(t)&&(i=a.value),a.is(NK)&&(i=null);return i},provide:i=>cv.from(i)});return[r,Ri.define(i=>new kK(i,n,r,t,e.hoverTime||300)),IK]}const NK=lr.define(),fS=dn.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function uv(n,e){let t=n.plugin(lF),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const lF=Ri.fromClass(class{constructor(n){this.input=n.state.facet(dv),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(fS);this.top=new m_(n,!0,e.topContainer),this.bottom=new m_(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(fS);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new m_(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new m_(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(dv);if(t!=this.input){let r=t.filter(h=>h),i=[],s=[],a=[],u=[];for(let h of r){let y,g=this.specs.indexOf(h);g<0?(y=h(n.view),u.push(y)):(y=this.panels[g],y.update&&y.update(n)),i.push(y),(y.top?s:a).push(y)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(a);for(let h of u)h.dom.classList.add("cm-panel"),h.mount&&h.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>zn.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class m_{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=cF(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=cF(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function cF(n){let e=n.nextSibling;return n.remove(),e}const dv=dn.define({enables:lF});class oc extends Sh{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}oc.prototype.elementClass="",oc.prototype.toDOM=void 0,oc.prototype.mapMode=xo.TrackBefore,oc.prototype.startSide=oc.prototype.endSide=-1,oc.prototype.point=!0;const g_=dn.define(),LK={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ci.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},hv=dn.define();function uF(n){return[dF(),hv.of(Object.assign(Object.assign({},LK),n))]}const pS=dn.define({combine:n=>n.some(e=>e)});function dF(n){let e=[FK];return n&&!1===n.fixed&&e.push(pS.of(!0)),e}const FK=Ri.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(hv).map(e=>new pF(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(pS),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<.8*(t.to-t.from))}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(pS)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Ci.iter(this.view.state.facet(g_),this.view.viewport.from),r=[],i=this.gutters.map(s=>new BK(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks){let a;if(Array.isArray(s.type)){for(let u of s.type)if(u.type==Jr.Text){a=u;break}}else a=s.type==Jr.Text?s:void 0;if(a){r.length&&(r=[]),fF(t,r,s.from);for(let u of i)u.line(this.view,a,r)}}for(let s of i)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(hv),t=n.state.facet(hv),r=n.docChanged||n.heightChanged||n.viewportChanged||!Ci.eq(n.startState.facet(g_),n.state.facet(g_),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let a=e.indexOf(s);a<0?i.push(new pF(this.view,s)):(this.gutters[a].update(n),i.push(this.gutters[a]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>zn.scrollMargins.of(e=>{let t=e.plugin(n);return t&&0!=t.gutters.length&&t.fixed?e.textDirection==Si.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}:null})});function hF(n){return Array.isArray(n)?n:[n]}function fF(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class BK{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Ci.iter(e.markers,t.from)}line(e,t,r){let i=[];fF(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let a=this.gutter;if(0==i.length&&!a.config.renderEmptyElements)return;let u=t.top-this.height;if(this.i==a.elements.length){let h=new mF(e,t.height,u,i);a.elements.push(h),a.dom.appendChild(h.dom)}else a.elements[this.i].update(e,t.height,u,i);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class pF{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let a,s=i.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let h=s.getBoundingClientRect();a=(h.top+h.bottom)/2}else a=i.clientY;let u=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[r](e,u,i)&&i.preventDefault()});this.markers=hF(t.markers(e)),t.initialSpacer&&(this.spacer=new mF(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=hF(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Ci.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class mF{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function VK(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,a=0;;){let u=a,h=s<t.length?t[s++]:null,g=!1;if(h){let y=h.elementClass;y&&(r+=" "+y);for(let O=a;O<this.markers.length;O++)if(this.markers[O].compare(h)){u=O,g=!0;break}}else u=this.markers.length;for(;a<u;){let y=this.markers[a++];if(y.toDOM){y.destroy(i);let O=i.nextSibling;i.remove(),i=O}}if(!h)break;h.toDOM&&(g?i=i.nextSibling:this.dom.insertBefore(h.toDOM(e),i)),g&&a++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}const HK=dn.define(),Cp=dn.define({combine:n=>gl(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],a=t[i];r[i]=s?(u,h,g)=>s(u,h,g)||a(u,h,g):a}return r}})});class mS extends oc{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function gS(n,e){return n.state.facet(Cp).formatNumber(e,n.state)}const zK=hv.compute([Cp],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(HK),lineMarker:(e,t,r)=>r.some(i=>i.toDOM)?null:new mS(gS(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(Cp)!=e.state.facet(Cp),initialSpacer:e=>new mS(gS(e,gF(e.state.doc.lines))),updateSpacer(e,t){let r=gS(t.view,gF(t.view.state.doc.lines));return r==e.number?e:new mS(r)},domEventHandlers:n.facet(Cp).domEventHandlers}));function jK(n={}){return[Cp.of(n),dF(),zK]}function gF(n){let e=9;for(;e<n;)e=10*e+9;return e}const UK=new class extends oc{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},GK=g_.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(UK.range(i)))}return Ci.of(e)}),bF=1024;let KK=0;class Ra{constructor(e,t){this.from=e,this.to=t}}class qn{constructor(e={}){this.id=KK++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=Co.match(e)),t=>{let r=e(t);return void 0===r?null:[this,r]}}}qn.closedBy=new qn({deserialize:n=>n.split(" ")}),qn.openedBy=new qn({deserialize:n=>n.split(" ")}),qn.group=new qn({deserialize:n=>n.split(" ")}),qn.contextHash=new qn({perNode:!0}),qn.lookAhead=new qn({perNode:!0}),qn.mounted=new qn({perNode:!0});const ZK=Object.create(null);class Co{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):ZK,i=new Co(e.name||"",t,e.id,(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0));if(e.props)for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(qn.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(qn.group),s=-1;s<(i?i.length:0);s++){let a=t[s<0?r.name:i[s]];if(a)return a}}}}Co.none=new Co("",Object.create(null),0,8);class v_{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let a=s(r);a&&(i||(i=Object.assign({},r.props)),i[a[0].id]=a[1])}t.push(i?new Co(r.name,i,r.id,r.flags):r)}return new v_(t)}}const y_=new WeakMap,_F=new WeakMap;var vi=(()=>{return(n=vi||(vi={}))[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays",vi;var n})();class Mi{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,u]of s)this.props["number"==typeof a?a:a.id]=u}}toString(){let e=this.prop(qn.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new fv(this.topNode,e)}cursorAt(e,t=0,r=0){let i=y_.get(this)||this.topNode,s=new fv(i);return s.moveTo(e,t),y_.set(this,s._tree),s}get topNode(){return new Pa(this,0,0,null)}resolve(e,t=0){let r=Sp(y_.get(this)||this.topNode,e,t,!1);return y_.set(this,r),r}resolveInner(e,t=0){let r=Sp(_F.get(this)||this.topNode,e,t,!0);return _F.set(this,r),r}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e;for(let a=this.cursor((e.mode||0)|vi.IncludeAnonymous);;){let u=!1;if(a.from<=s&&a.to>=i&&(a.type.isAnonymous||!1!==t(a))){if(a.firstChild())continue;u=!0}for(;u&&r&&!a.type.isAnonymous&&r(a),!a.nextSibling();){if(!a.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:bS(Co.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new Mi(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new Mi(Co.none,t,r,i)))}static build(e){return function JK(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=bF,reused:s=[],minRepeatType:a=r.types.length}=n,u=Array.isArray(t)?new vS(t,t.length):t,h=r.types,g=0,y=0;function O(at,wt,St,Jt,vr){let{id:Mn,start:In,end:Xr,size:ui}=u,yi=y;for(;ui<0;){if(u.next(),-1==ui)return St.push(s[Mn]),void Jt.push(In-at);if(-3==ui)return void(g=Mn);if(-4==ui)return void(y=Mn);throw new RangeError(`Unrecognized record size: ${ui}`)}let ts,Gt,Gs=h[Mn],ln=In-at;if(Xr-In<=i&&(Gt=function he(at,wt){let St=u.fork(),Jt=0,vr=0,Mn=0,In=St.end-i,Xr={size:0,start:0,skip:0};e:for(let ui=St.pos-at;St.pos>ui;){let yi=St.size;if(St.id==wt&&yi>=0){Xr.size=Jt,Xr.start=vr,Xr.skip=Mn,Mn+=4,Jt+=4,St.next();continue}let Gs=St.pos-yi;if(yi<0||Gs<ui||St.start<In)break;let ts=St.id>=a?4:0,Gt=St.start;for(St.next();St.pos>Gs;){if(St.size<0){if(-3!=St.size)break e;ts+=4}else St.id>=a&&(ts+=4);St.next()}vr=Gt,Jt+=yi,Mn+=ts}return(wt<0||Jt==at)&&(Xr.size=Jt,Xr.start=vr,Xr.skip=Mn),Xr.size>4?Xr:void 0}(u.pos-wt,vr))){let cn=new Uint16Array(Gt.size-Gt.skip),bn=u.pos-Gt.size,cr=cn.length;for(;u.pos>bn;)cr=xe(Gt.start,cn,cr);ts=new Ah(cn,Xr-Gt.start,r),ln=Gt.start-at}else{let cn=u.pos-ui;u.next();let bn=[],cr=[],Ds=Mn>=a?Mn:-1,ns=0,ma=Xr;for(;u.pos>cn;)Ds>=0&&u.id==Ds&&u.size>=0?(u.end<=ma-i&&(K(bn,cr,In,ns,u.end,ma,Ds,yi),ns=bn.length,ma=u.end),u.next()):O(In,cn,bn,cr,Ds);if(Ds>=0&&ns>0&&ns<bn.length&&K(bn,cr,In,ns,In,ma,Ds,yi),bn.reverse(),cr.reverse(),Ds>-1&&ns>0){let ii=function $(at){return(wt,St,Jt)=>{let In,Xr,vr=0,Mn=wt.length-1;if(Mn>=0&&(In=wt[Mn])instanceof Mi){if(!Mn&&In.type==at&&In.length==Jt)return In;(Xr=In.prop(qn.lookAhead))&&(vr=St[Mn]+In.length+Xr)}return re(at,wt,St,Jt,vr)}}(Gs);ts=bS(Gs,bn,cr,0,bn.length,0,Xr-In,ii,ii)}else ts=re(Gs,bn,cr,Xr-In,yi-Xr)}St.push(ts),Jt.push(ln)}function K(at,wt,St,Jt,vr,Mn,In,Xr){let ui=[],yi=[];for(;at.length>Jt;)ui.push(at.pop()),yi.push(wt.pop()+St-vr);at.push(re(r.types[In],ui,yi,Mn-vr,Xr-Mn)),wt.push(vr-St)}function re(at,wt,St,Jt,vr=0,Mn){if(g){let In=[qn.contextHash,g];Mn=Mn?[In].concat(Mn):[In]}if(vr>25){let In=[qn.lookAhead,vr];Mn=Mn?[In].concat(Mn):[In]}return new Mi(at,wt,St,Jt,Mn)}function xe(at,wt,St){let{id:Jt,start:vr,end:Mn,size:In}=u;if(u.next(),In>=0&&Jt<a){let Xr=St;if(In>4){let ui=u.pos-(In-4);for(;u.pos>ui;)St=xe(at,wt,St)}wt[--St]=Xr,wt[--St]=Mn-at,wt[--St]=vr-at,wt[--St]=Jt}else-3==In?g=Jt:-4==In&&(y=Jt);return St}let Pe=[],Je=[];for(;u.pos>0;)O(n.start||0,n.bufferStart||0,Pe,Je,-1);let Ke=null!==(e=n.length)&&void 0!==e?e:Pe.length?Je[0]+Pe[0].length:0;return new Mi(h[n.topID],Pe.reverse(),Je.reverse(),Ke)}(e)}}Mi.empty=new Mi(Co.none,[],[],0);class vS{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new vS(this.buffer,this.index)}}class Ah{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Co.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let r=this.buffer[e+3],i=this.set.types[this.buffer[e]],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),r==(e+=4))return s;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return s+"("+a.join(",")+")"}findChild(e,t,r,i,s){let{buffer:a}=this,u=-1;for(let h=e;h!=t&&!(xF(s,i,a[h+1],a[h+2])&&(u=h,r>0));h=a[h+3]);return u}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),a=0;for(let u=e,h=0;u<t;){s[h++]=i[u++],s[h++]=i[u++]-r;let g=s[h++]=i[u++]-r;s[h++]=i[u++]-e,a=Math.max(a,g)}return new Ah(s,a,this.set)}}function xF(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function wF(n,e){let t=n.childBefore(e);for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(n=t,t=r.prevSibling):t=r}return n}function Sp(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let a=!r&&n instanceof Pa&&n.index<0?null:n.parent;if(!a)return n;n=a}let s=r?0:vi.IgnoreOverlays;if(r)for(let a=n,u=a.parent;u;a=u,u=a.parent)a instanceof Pa&&a.index<0&&(null===(i=u.enter(e,t,s))||void 0===i?void 0:i.from)!=a.from&&(n=u);for(;;){let a=n.enter(e,t,s);if(!a)return n;n=a}}class Pa{constructor(e,t,r,i){this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let a=this;;){for(let{children:u,positions:h}=a._tree,g=t>0?u.length:-1;e!=g;e+=t){let y=u[e],O=h[e]+a.from;if(xF(i,r,O,O+y.length))if(y instanceof Ah){if(s&vi.ExcludeBuffers)continue;let $=y.findChild(0,y.buffer.length,t,r-O,i);if($>-1)return new ac(new QK(a,y,e,O),null,$)}else if(s&vi.IncludeAnonymous||!y.type.isAnonymous||yS(y)){let $;if(!(s&vi.IgnoreMounts)&&y.props&&($=y.prop(qn.mounted))&&!$.overlay)return new Pa($.tree,O,e,a);let K=new Pa(y,O,e,a);return s&vi.IncludeAnonymous||!K.type.isAnonymous?K:K.nextChild(t<0?y.children.length-1:0,t,r,i)}}if(s&vi.IncludeAnonymous||!a.type.isAnonymous||(e=a.index>=0?a.index+t:t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&vi.IgnoreOverlays)&&(i=this._tree.prop(qn.mounted))&&i.overlay){let s=e-this.from;for(let{from:a,to:u}of i.overlay)if((t>0?a<=s:a<s)&&(t<0?u>=s:u>s))return new Pa(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new fv(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Sp(this,e,t,!1)}resolveInner(e,t=0){return Sp(this,e,t,!0)}enterUnfinishedNodesBefore(e){return wF(this,e)}getChild(e,t=null,r=null){let i=b_(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return b_(this,e,t,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return __(this,e)}}function b_(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(null!=t)for(;!i.type.is(t);)if(!i.nextSibling())return s;for(;;){if(null!=r&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return null==r?s:[]}}function __(n,e,t=e.length-1){for(let r=n.parent;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class QK{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class ac{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new ac(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&vi.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new ac(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ac(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new ac(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new fv(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];return s>i&&(e.push(r.slice(i,s,r.buffer[this.index+1])),t.push(0)),new Mi(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Sp(this,e,t,!1)}resolveInner(e,t=0){return Sp(this,e,t,!0)}enterUnfinishedNodesBefore(e){return wF(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,r=null){let i=b_(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return b_(this,e,t,r)}get node(){return this}matchContext(e){return __(this,e)}}class fv{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Pa)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return!!e&&(e instanceof Pa?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return!(s<0)&&(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?!(r&vi.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&vi.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&vi.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;({index:t,_parent:r}=r))if(t>-1)for(let s=t+e,a=e<0?-1:r._tree.children.length;s!=a;s+=e){let u=r._tree.children[s];if(this.mode&vi.IncludeAnonymous||u instanceof Ah||!u.type.isAnonymous||yS(u))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;t=a,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new ac(this.buffer,t,this.stack[i]);return this.bufferNode=new ac(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&t&&t(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return __(this.node,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return __(this.node,e,i);let a=r[t.buffer[this.stack[s]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function yS(n){return n.children.some(e=>e instanceof Ah||!e.type.isAnonymous||yS(e))}const EF=new WeakMap;function x_(n,e){if(!n.isAnonymous||e instanceof Ah||e.type!=n)return 1;let t=EF.get(e);if(null==t){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Mi)){t=1;break}t+=x_(n,r)}EF.set(e,t)}return t}function bS(n,e,t,r,i,s,a,u,h){let g=0;for(let re=r;re<i;re++)g+=x_(n,e[re]);let y=Math.ceil(1.5*g/8),O=[],$=[];return function K(re,he,xe,Pe,Je){for(let Ke=xe;Ke<Pe;){let at=Ke,wt=he[Ke],St=x_(n,re[Ke]);for(Ke++;Ke<Pe;Ke++){let Jt=x_(n,re[Ke]);if(St+Jt>=y)break;St+=Jt}if(Ke==at+1){if(St>y){let Jt=re[at];K(Jt.children,Jt.positions,0,Jt.children.length,he[at]+Je);continue}O.push(re[at])}else O.push(bS(n,re,he,at,Ke,wt,he[Ke-1]+re[Ke-1].length-wt,null,h));$.push(wt+Je-s)}}(e,t,r,i,0),(u||h)(O,$,a)}class Qc{constructor(e,t,r,i,s=!1,a=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(a?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],r=!1){let i=[new Qc(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,a=e.length?e[0]:null;for(let u=0,h=0,g=0;;u++){let y=u<t.length?t[u]:null,O=y?y.fromA:1e9;if(O-h>=r)for(;a&&a.from<O;){let $=a;if(h>=$.from||O<=$.to||g){let K=Math.max($.from,h)-g,re=Math.min($.to,O)-g;$=K>=re?null:new Qc(K,re,$.tree,$.offset+g,u>0,!!y)}if($&&i.push($),a.to>O)break;a=s<e.length?e[s++]:null}if(!y)break;h=y.toA,g=y.toA-y.toB}return i}}class CF{startParse(e,t,r){return"string"==typeof e&&(e=new eq(e)),r=r?r.length?r.map(i=>new Ra(i.from,i.to)):[new Ra(0,0)]:[new Ra(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}}class eq{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new qn({perNode:!0});class w_{constructor(e,t,r,i,s,a,u,h,g,y=0,O){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=s,this.score=a,this.buffer=u,this.bufferBase=h,this.curContext=g,this.lookAhead=y,this.parent=O}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new w_(e,[],t,r,r,0,[],0,i?new IF(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=65535&e,{parser:s}=this.p,a=s.dynamicPrecedence(i);if(a&&(this.score+=a),0==r)return this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),void this.reduceContext(i,this.reducePos);let u=this.stack.length-3*(r-1)-(262144&e?6:0),h=u?this.stack[u-2]:this.p.ranges[0].from,g=this.reducePos-h;g>=2e3&&(null===(t=this.p.parser.nodeSet.types[i])||void 0===t||!t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=g):this.p.lastBigReductionSize<g&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=g));let O=this.bufferBase+this.buffer.length-(u?this.stack[u-1]:0);if(i<s.minRepeatTerm||131072&e){let $=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,$,O+4,!0)}for(this.state=262144&e?this.stack[u]:s.getGoto(this.stack[u-3],i,!0);this.stack.length>u;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,t,r,i=4,s=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,u=this.buffer.length;if(0==u&&a.parent&&(u=a.bufferBase-a.parent.bufferBase,a=a.parent),u>0&&0==a.buffer[u-4]&&a.buffer[u-1]>-1){if(t==r)return;if(a.buffer[u-2]>=t)return void(a.buffer[u-2]=r)}}if(s&&this.pos!=r){let a=this.buffer.length;if(a>0&&0!=this.buffer[a-4])for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4);this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=r,this.buffer[a+3]=i}else this.buffer.push(e,t,r,i)}shift(e,t,r){let i=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(262144&e)this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4);else{let s=e,{parser:a}=this.p;(r>this.pos||t<=a.maxNode)&&(this.pos=r,a.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(t,i),t<=a.maxNode&&this.buffer.push(t,i,r,4)}}apply(e,t,r){65536&e?this.reduce(e):this.shift(e,t,r)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new w_(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new aq(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==r)return!1;if(!(65536&r))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let a,s=0;s<t.length;s+=2)(a=t[s+1])!=this.state&&this.p.parser.hasAction(a,e)&&i.push(t[s],a);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let a=t[s+1];i.some((u,h)=>1&h&&u==a)||i.push(t[s],a)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let a=this.split();a.pushState(s,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[i],this.pos),a.score-=200,r.push(a)}return r}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let s=this.stack.length-3*(e>>19);if(s<0||t.getGoto(this.stack[s],65535&e,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new IF(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class IF{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class aq{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,r=e>>19;0==r?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(r-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class E_{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new E_(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new E_(this.stack,this.pos,this.index)}}function pv(n,e=Uint16Array){if("string"!=typeof n)return n;let t=null;for(let r=0,i=0;r<n.length;){let s=0;for(;;){let a=n.charCodeAt(r++),u=!1;if(126==a){s=65535;break}a>=92&&a--,a>=34&&a--;let h=a-32;if(h>=46&&(h-=46,u=!0),s+=h,u)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class C_{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const kF=new C_;class lq{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=kF,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let a=this.ranges[--i];s-=r.from-a.to,r=a}for(;t<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];s+=a.from-r.to,r=a}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let r,i,t=this.chunkOff+e;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(null==s)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,u=this.range;for(;u.to<=r;)u=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>u.to&&(this.chunk2=this.chunk2.slice(0,u.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(null==r||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos);this.chunk=this.pos+e.length>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.next=this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?-1:this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=kF,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class Dp{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;!function OF(n,e,t,r,i,s){let a=0,u=1<<r,{dialect:h}=t.p.parser;e:for(;u&n[a];){let g=n[a+1];for(let K=a+3;K<g;K+=2)if((n[K+1]&u)>0){let re=n[K];if(h.allows(re)&&(-1==e.token.value||e.token.value==re||uq(re,e.token.value,i,s))){e.acceptToken(re);break}}let y=e.next,O=0,$=n[a+2];if(!(e.next<0&&$>O&&65535==n[g+3*$-3]&&65535==n[g+3*$-3])){for(;O<$;){let K=O+$>>1,re=g+K+(K<<1);if(y<n[re])$=K;else{if(!(y>=(n[re+1]||65536))){a=n[re+2],e.advance();continue e}O=K+1}}break}a=n[g+3*$-1]}}(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}function RF(n,e,t){for(let i,r=e;65535!=(i=n[r]);r++)if(i==t)return r-e;return-1}function uq(n,e,t,r){let i=RF(t,r,e);return i<0||RF(t,r,n)<i}Dp.prototype.contextual=Dp.prototype.fallback=Dp.prototype.extend=!1,Dp.prototype.fallback=Dp.prototype.extend=!1;const yl=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let xS=null;function PF(n,e,t){let r=n.cursor(vi.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class dq{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?PF(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?PF(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],a=this.start[t]+r.positions[i];if(a>e)return this.nextStart=a,null;if(s instanceof Mi){if(a==e){if(a<this.safeFrom)return null;let u=a+s.length;if(u<=this.safeTo){let h=s.prop(qn.lookAhead);if(!h||u+h<this.fragment.to)return s}}this.index[t]++,a+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+s.length}}}class hq{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new C_)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,a=i.stateSlot(e.state,3),u=e.curContext?e.curContext.hash:0,h=0;for(let g=0;g<s.length;g++){if(!(1<<g&a))continue;let y=s[g],O=this.tokens[g];if((!r||y.fallback)&&((y.contextual||O.start!=e.pos||O.mask!=a||O.context!=u)&&(this.updateCachedToken(O,y,e),O.mask=a,O.context=u),O.lookAhead>O.end+25&&(h=Math.max(O.lookAhead,h)),0!=O.value)){let $=t;if(O.extended>-1&&(t=this.addActions(e,O.extended,O.end,t)),t=this.addActions(e,O.value,O.end,t),!y.extend&&(r=O,t>$))break}}for(;this.actions.length>t;)this.actions.pop();return h&&e.setLookAhead(h),!r&&e.pos==this.stream.end&&(r=new C_,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new C_,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let a=0;a<s.specialized.length;a++)if(s.specialized[a]==e.value){let u=s.specializers[a](this.stream.read(e.start,e.end),r);if(u>=0&&r.p.parser.dialect.allows(u>>1)){1&u?e.extended=u>>1:e.value=u>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:s}=e,{parser:a}=e.p,{data:u}=a;for(let h=0;h<2;h++)for(let g=a.stateSlot(s,h?2:1);;g+=3){if(65535==u[g]){if(1!=u[g+1]){0==i&&2==u[g+1]&&(i=this.putAction(Jc(u,g+2),t,r,i));break}g=Jc(u,g+2)}u[g]==t&&(i=this.putAction(Jc(u,g+1),t,r,i))}return i}}class fq{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new lq(t,i),this.tokens=new hq(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[w_.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>4*e.bufferLength?new dq(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let i,s,e=this.stacks,t=this.minStackPos,r=this.stacks=[];if(this.bigReductionCount>300&&1==e.length){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let u=e[a];for(;;){if(this.tokens.mainToken=null,u.pos>t)r.push(u);else{if(this.advanceStack(u,r,e))continue;{i||(i=[],s=[]),i.push(u);let h=this.tokens.getMainToken(u);s.push(h.value,h.end)}}break}}if(!r.length){let a=i&&function mq(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||null!=r&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}(i);if(a)return this.stackToTree(a);if(this.parser.strict)throw yl&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=null!=this.stoppedAt&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(a)return this.stackToTree(a.forceAll())}if(this.recovering){let a=1==this.recovering?1:3*this.recovering;if(r.length>a)for(r.sort((u,h)=>h.score-u.score);r.length>a;)r.pop();r.some(u=>u.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let u=r[a];for(let h=a+1;h<r.length;h++){let g=r[h];if(u.sameState(g)||u.buffer.length>500&&g.buffer.length>500){if(!((u.score-g.score||u.buffer.length-g.buffer.length)>0)){r.splice(a--,1);continue e}r.splice(h--,1)}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:s}=this,a=yl?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let g=e.curContext&&e.curContext.tracker.strict,y=g?e.curContext.hash:0;for(let O=this.fragments.nodeAt(i);O;){let $=this.parser.nodeSet.types[O.type.id]==O.type?s.getGoto(e.state,O.type.id):-1;if($>-1&&O.length&&(!g||(O.prop(qn.contextHash)||0)==y))return e.useNode(O,$),yl&&console.log(a+this.stackID(e)+` (via reuse of ${s.getName(O.type.id)})`),!0;if(!(O instanceof Mi)||0==O.children.length||O.positions[0]>0)break;let K=O.children[0];if(!(K instanceof Mi&&0==O.positions[0]))break;O=K}}let u=s.stateSlot(e.state,4);if(u>0)return e.reduce(u),yl&&console.log(a+this.stackID(e)+` (via always-reduce ${s.getName(65535&u)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let h=this.tokens.getActions(e);for(let g=0;g<h.length;){let y=h[g++],O=h[g++],$=h[g++],K=g==h.length||!r,re=K?e:e.split();if(re.apply(y,O,$),yl&&console.log(a+this.stackID(re)+` (via ${65536&y?`reduce of ${s.getName(65535&y)}`:"shift"} for ${s.getName(O)} @ ${i}${re==e?"":", split"})`),K)return!0;re.pos>i?t.push(re):r.push(re)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return NF(e,t),!0}}runRecovery(e,t,r){let i=null,s=!1;for(let a=0;a<e.length;a++){let u=e[a],h=t[a<<1],g=t[1+(a<<1)],y=yl?this.stackID(u)+" -> ":"";if(u.deadEnd&&(s||(s=!0,u.restart(),yl&&console.log(y+this.stackID(u)+" (restarted)"),this.advanceFully(u,r))))continue;let O=u.split(),$=y;for(let K=0;O.forceReduce()&&K<10&&(yl&&console.log($+this.stackID(O)+" (via force-reduce)"),!this.advanceFully(O,r));K++)yl&&($=this.stackID(O)+" -> ");for(let K of u.recoverByInsert(h))yl&&console.log(y+this.stackID(K)+" (via recover-insert)"),this.advanceFully(K,r);this.stream.end>u.pos?(g==u.pos&&(g++,h=0),u.recoverByDelete(h,g),yl&&console.log(y+this.stackID(u)+` (via recover-delete ${this.parser.getName(h)})`),NF(u,r)):(!i||i.score<u.score)&&(i=u)}return i}stackToTree(e){return e.close(),Mi.build({buffer:E_.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(xS||(xS=new WeakMap)).get(e);return t||xS.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function NF(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n))return void(e[t].score<n.score&&(e[t]=n))}e.push(n)}class pq{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||0==this.disabled[e]}}class S_ extends CF{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let u=0;u<e.repeatNodeCount;u++)t.push("");let r=Object.keys(e.topRules).map(u=>e.topRules[u][1]),i=[];for(let u=0;u<t.length;u++)i.push([]);function s(u,h,g){i[u].push([h,h.deserialize(String(g))])}if(e.nodeProps)for(let u of e.nodeProps){let h=u[0];"string"==typeof h&&(h=qn[h]);for(let g=1;g<u.length;){let y=u[g++];if(y>=0)s(y,h,u[g++]);else{let O=u[g+-y];for(let $=-y;$>0;$--)s(u[g++],h,O);g++}}}this.nodeSet=new v_(t.map((u,h)=>Co.define({name:h>=this.minRepeatTerm?void 0:u,id:h,props:i[h],top:r.indexOf(h)>-1,error:0==h,skipped:e.skippedNodes&&e.skippedNodes.indexOf(h)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=bF;let a=pv(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let u=0;u<this.specializerSpecs.length;u++)this.specialized[u]=this.specializerSpecs[u].term;this.specializers=this.specializerSpecs.map(LF),this.states=pv(e.states,Uint32Array),this.data=pv(e.stateData),this.goto=pv(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(u=>"number"==typeof u?new Dp(a,u):u),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new fq(this,e,t,r);for(let s of this.wrappers)i=s(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let a=i[s++],u=1&a,h=i[s++];if(u&&r)return h;for(let g=s+(a>>1);s<g;s++)if(i[s]==e)return h;if(u)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let a,s=this.stateSlot(e,i?2:1);;s+=3){if(65535==(a=r[s])){if(1!=r[s+1]){if(2==r[s+1])return Jc(r,s+2);break}a=r[s=Jc(r,s+2)]}if(a==t||0==a)return Jc(r,s+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])return!1;r=Jc(this.data,r+2)}if(t==Jc(this.data,r+1))return!0}}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=Jc(this.data,r+2)}if(!(1&this.data[r+2])){let i=this.data[r+1];t.some((s,a)=>1&a&&s==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(S_.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(u=>u.from==r.external);if(!s)return r;let a=Object.assign(Object.assign({},r),{external:s.to});return t.specializers[i]=LF(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let s of e.split(" ")){let a=t.indexOf(s);a>=0&&(r[a]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!r[s])for(let u,a=this.dialects[t[s]];65535!=(u=this.data[a++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[u]=1;return new pq(e,r,i)}static deserialize(e){return new S_(e)}}function Jc(n,e){return n[e]|n[e+1]<<16}function LF(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}let gq=0;class lc{constructor(e,t,r){this.set=e,this.base=t,this.modified=r,this.id=gq++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let t=new lc([],null,[]);if(t.set.push(t),e)for(let r of e.set)t.set.push(r);return t}static defineModifier(){let e=new D_;return t=>t.modified.indexOf(e)>-1?t:D_.get(t.base||t,t.modified.concat(e).sort((r,i)=>r.id-i.id))}}let vq=0;class D_{constructor(){this.instances=[],this.id=vq++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(u=>u.base==e&&function yq(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}(t,u.modified));if(r)return r;let i=[],s=new lc(i,e,t);for(let u of t)u.instances.push(s);let a=function bq(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}(t);for(let u of e.set)if(!u.modified.length)for(let h of a)i.push(D_.get(u,h));return s}}function FF(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let s=[],a=2,u=i;for(let O=0;;){if("..."==u&&O>0&&O+3==i.length){a=1;break}let $=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!$)throw new RangeError("Invalid path: "+i);if(s.push("*"==$[0]?"":'"'==$[0][0]?JSON.parse($[0]):$[0]),O+=$[0].length,O==i.length)break;let K=i[O++];if(O==i.length&&"!"==K){a=0;break}if("/"!=K)throw new RangeError("Invalid path: "+i);u=i.slice(O)}let h=s.length-1,g=s[h];if(!g)throw new RangeError("Invalid path: "+i);let y=new M_(r,a,h>0?s.slice(0,h):null);e[g]=y.sort(e[g])}}return BF.add(e)}const BF=new qn;class M_{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function VF(n,e){let t=Object.create(null);for(let s of n)if(Array.isArray(s.tag))for(let a of s.tag)t[a.id]=s.class;else t[s.tag.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let a=i;for(let u of s)for(let h of u.set){let g=t[h.id];if(g){a=a?a+" "+g:g;break}}return a},scope:r}}function xq(n,e,t,r=0,i=n.length){let s=new wq(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,"",s.highlighters),s.flush(i)}M_.empty=new M_([],2,null);class wq{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:a,from:u,to:h}=e;if(u>=r||h<=t)return;a.isTop&&(s=this.highlighters.filter(K=>!K.scope||K.scope(a)));let g=i,y=function Eq(n){let e=n.type.prop(BF);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}(e)||M_.empty,O=function _q(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}(s,y.tags);if(O&&(g&&(g+=" "),g+=O,1==y.mode&&(i+=(i?" ":"")+O)),this.startSpan(e.from,g),y.opaque)return;let $=e.tree&&e.tree.prop(qn.mounted);if($&&$.overlay){let K=e.node.enter($.overlay[0].from+u,1),re=this.highlighters.filter(xe=>!xe.scope||xe.scope($.tree.type)),he=e.firstChild();for(let xe=0,Pe=u;;xe++){let Je=xe<$.overlay.length?$.overlay[xe]:null,Ke=Je?Je.from+u:h,at=Math.max(t,Pe),wt=Math.min(r,Ke);if(at<wt&&he)for(;e.from<wt&&(this.highlightRange(e,at,wt,i,s),this.startSpan(Math.min(wt,e.to),g),!(e.to>=Ke)&&e.nextSibling()););if(!Je||Ke>r)break;Pe=Je.to+u,Pe>t&&(this.highlightRange(K.cursor(),Math.max(t,Je.from+u),Math.min(r,Pe),i,re),this.startSpan(Pe,g))}he&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),g)}}while(e.nextSibling());e.parent()}}}const $t=lc.define,T_=$t(),id=$t(),HF=$t(id),zF=$t(id),sd=$t(),A_=$t(sd),ES=$t(sd),cc=$t(),Ih=$t(cc),uc=$t(),dc=$t(),CS=$t(),mv=$t(CS),I_=$t(),$e={comment:T_,lineComment:$t(T_),blockComment:$t(T_),docComment:$t(T_),name:id,variableName:$t(id),typeName:HF,tagName:$t(HF),propertyName:zF,attributeName:$t(zF),className:$t(id),labelName:$t(id),namespace:$t(id),macroName:$t(id),literal:sd,string:A_,docString:$t(A_),character:$t(A_),attributeValue:$t(A_),number:ES,integer:$t(ES),float:$t(ES),bool:$t(sd),regexp:$t(sd),escape:$t(sd),color:$t(sd),url:$t(sd),keyword:uc,self:$t(uc),null:$t(uc),atom:$t(uc),unit:$t(uc),modifier:$t(uc),operatorKeyword:$t(uc),controlKeyword:$t(uc),definitionKeyword:$t(uc),moduleKeyword:$t(uc),operator:dc,derefOperator:$t(dc),arithmeticOperator:$t(dc),logicOperator:$t(dc),bitwiseOperator:$t(dc),compareOperator:$t(dc),updateOperator:$t(dc),definitionOperator:$t(dc),typeOperator:$t(dc),controlOperator:$t(dc),punctuation:CS,separator:$t(CS),bracket:mv,angleBracket:$t(mv),squareBracket:$t(mv),paren:$t(mv),brace:$t(mv),content:cc,heading:Ih,heading1:$t(Ih),heading2:$t(Ih),heading3:$t(Ih),heading4:$t(Ih),heading5:$t(Ih),heading6:$t(Ih),contentSeparator:$t(cc),list:$t(cc),quote:$t(cc),emphasis:$t(cc),strong:$t(cc),link:$t(cc),monospace:$t(cc),strikethrough:$t(cc),inserted:$t(),deleted:$t(),changed:$t(),invalid:$t(),meta:I_,documentMeta:$t(I_),annotation:$t(I_),processingInstruction:$t(I_),definition:lc.defineModifier(),constant:lc.defineModifier(),function:lc.defineModifier(),standard:lc.defineModifier(),local:lc.defineModifier(),special:lc.defineModifier()},Cq=(VF([{tag:$e.link,class:"tok-link"},{tag:$e.heading,class:"tok-heading"},{tag:$e.emphasis,class:"tok-emphasis"},{tag:$e.strong,class:"tok-strong"},{tag:$e.keyword,class:"tok-keyword"},{tag:$e.atom,class:"tok-atom"},{tag:$e.bool,class:"tok-bool"},{tag:$e.url,class:"tok-url"},{tag:$e.labelName,class:"tok-labelName"},{tag:$e.inserted,class:"tok-inserted"},{tag:$e.deleted,class:"tok-deleted"},{tag:$e.literal,class:"tok-literal"},{tag:$e.string,class:"tok-string"},{tag:$e.number,class:"tok-number"},{tag:[$e.regexp,$e.escape,$e.special($e.string)],class:"tok-string2"},{tag:$e.variableName,class:"tok-variableName"},{tag:$e.local($e.variableName),class:"tok-variableName tok-local"},{tag:$e.definition($e.variableName),class:"tok-variableName tok-definition"},{tag:$e.special($e.variableName),class:"tok-variableName2"},{tag:$e.definition($e.propertyName),class:"tok-propertyName tok-definition"},{tag:$e.typeName,class:"tok-typeName"},{tag:$e.namespace,class:"tok-namespace"},{tag:$e.className,class:"tok-className"},{tag:$e.macroName,class:"tok-macroName"},{tag:$e.propertyName,class:"tok-propertyName"},{tag:$e.operator,class:"tok-operator"},{tag:$e.comment,class:"tok-comment"},{tag:$e.meta,class:"tok-meta"},{tag:$e.invalid,class:"tok-invalid"},{tag:$e.punctuation,class:"tok-punctuation"}]),FF({String:$e.string,Number:$e.number,"True False":$e.bool,PropertyName:$e.propertyName,Null:$e.null,",":$e.separator,"[ ]":$e.squareBracket,"{ }":$e.brace})),Sq=S_.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26a0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[Cq],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});var SS;const kh=new qn;const Dq=new qn;let Na=(()=>{class n{constructor(t,r,i=[],s=""){this.data=t,this.name=s,wo.prototype.hasOwnProperty("tree")||Object.defineProperty(wo.prototype,"tree",{get(){return Ss(this)}}),this.parser=r,this.extension=[od.of(this),wo.languageData.of((a,u,h)=>{let g=UF(a,u,h),y=g.type.prop(kh);if(!y)return[];let O=a.facet(y),$=g.type.prop(Dq);if($){let K=g.resolve(u-g.from,h);for(let re of $)if(re.test(K,a)){let he=a.facet(re.facet);return"replace"==re.type?he:he.concat(O)}}return O})].concat(i)}isActiveAt(t,r,i=-1){return UF(t,r,i).type.prop(kh)==this.data}findRegions(t){let r=t.facet(od);if(r?.data==this.data)return[{from:0,to:t.doc.length}];if(!r||!r.allowsNesting)return[];let i=[],s=(a,u)=>{if(a.prop(kh)==this.data)return void i.push({from:u,to:u+a.length});let h=a.prop(qn.mounted);if(h){if(h.tree.prop(kh)==this.data){if(h.overlay)for(let g of h.overlay)i.push({from:g.from+u,to:g.to+u});else i.push({from:u,to:u+a.length});return}if(h.overlay){let g=i.length;if(s(h.tree,h.overlay[0].from+u),i.length>g)return}}for(let g=0;g<a.children.length;g++){let y=a.children[g];y instanceof Mi&&s(y,a.positions[g]+u)}};return s(Ss(t),0),i}get allowsNesting(){return!0}}return n.setState=lr.define(),n})();function UF(n,e,t){let r=n.facet(od),i=Ss(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,vi.ExcludeBuffers))s.type.isTop&&(i=s);return i}class k_ extends Na{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=function jF(n){return dn.define({combine:n?e=>e.concat(n):void 0})}(e.languageData);return new k_(t,e.parser.configure({props:[kh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new k_(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ss(n){let e=n.field(Na.state,!1);return e?e.tree:Mi.empty}class Tq{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let gv=null;class Mp{constructor(e,t,r=[],i,s,a,u,h){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=a,this.skipped=u,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new Mp(e,t,[],Mi.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Tq(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=Mi.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if("number"==typeof e){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(Qc.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(r=this.parse.stoppedAt)&&void 0!==r?r:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(t??this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Qc.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=gv;gv=this;try{return e()}finally{gv=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=GF(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:a,skipped:u}=this;if(this.takeTree(),!e.empty){let h=[];if(e.iterChangedRanges((g,y,O,$)=>h.push({fromA:g,toA:y,fromB:O,toB:$})),r=Qc.applyChanges(r,h),i=Mi.empty,s=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){u=[];for(let g of this.skipped){let y=e.mapPos(g.from,1),O=e.mapPos(g.to,-1);y<O&&u.push({from:y,to:O})}}}return new Mp(this.parser,t,r,i,s,a,u,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=GF(this.fragments,i,s),this.skipped.splice(r--,1))}return!(this.skipped.length>=t||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends CF{createParse(t,r,i){let s=i[0].from,a=i[i.length-1].to;return{parsedPos:s,advance(){let h=gv;if(h){for(let g of i)h.tempSkipped.push(g);e&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,e]):e)}return this.parsedPos=a,new Mi(Co.none,[],[],a-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return gv}}function GF(n,e,t){return Qc.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Tp{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Tp(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Mp.create(e.facet(od).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Tp(r)}}Na.state=es.define({create:Tp.init,update(n,e){for(let t of e.effects)if(t.is(Na.setState))return t.value;return e.startState.facet(od)!=e.state.facet(od)?Tp.init(e.state):n.apply(e)}});let $F=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&($F=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const DS=typeof navigator<"u"&&null!==(SS=navigator.scheduling)&&void 0!==SS&&SS.isInputPending?()=>navigator.scheduling.isInputPending():null,WF=Ri.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Na.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Na.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=$F(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Na.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!DS?Math.max(25,e.timeRemaining()-5):1e9),u=s.context.treeLen<i&&r.doc.length>i+1e3,h=s.context.work(()=>DS&&DS()||Date.now()>a,i+(u?0:1e5));this.chunkBudget-=Date.now()-t,(h||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Na.setState.of(new Tp(s.context))})),this.chunkBudget>0&&!(h&&!u)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>ca(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),od=dn.define({combine:n=>n.length?n[0]:null,enables:n=>[Na.state,WF,zn.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class Aq{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const XF=dn.define(),MS=dn.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Oh(n){let e=n.facet(MS);return 9==e.charCodeAt(0)?n.tabSize*e.length:e.length}function Ap(n,e){let t="",r=n.tabSize,i=n.facet(MS)[0];if("\t"==i){for(;e>=r;)t+="\t",e-=r;i=" "}for(let s=0;s<e;s++)t+=i;return t}function O_(n,e){n instanceof wo&&(n=new vv(n));for(let r of n.state.facet(XF)){let i=r(n,e);if(void 0!==i)return i}let t=Ss(n.state);return t?function Iq(n,e,t){return qF(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,n)}(n,t,e):null}class vv{constructor(e,t={}){this.state=e,this.options=t,this.unit=Oh(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return null!=i&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(s+=a-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return Zg(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let a=s(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const KF=new qn;function Oq(n){let e=n.type.prop(KF);if(e)return e;let r,t=n.firstChild;if(t&&(r=t.type.prop(qn.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return a=>function ZF(n,e,t,r,i){let s=n.textAfter,a=s.match(/^\s*/)[0].length,u=r&&s.slice(a,a+r.length)==r||i==n.pos+a,h=e?function Nq(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),a=null==i||i<=s.from?s.to:Math.min(s.to,i);for(let u=t.to;;){let h=e.childAfter(u);if(!h||h==r)return null;if(!h.type.isSkipped)return h.from<a?t:null;u=h.to}}(n):null;return h?n.column(u?h.from:h.to):n.baseIndent+(u?0:n.unit*t)}(a,!0,1,void 0,s&&!function kq(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}(a)?i.from:void 0)}return null==n.parent?Rq:null}function qF(n,e,t){for(;n;n=n.parent){let r=Oq(n);if(r)return r(TS.create(t,e,n))}return null}function Rq(){return 0}class TS extends vv{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.node=r}static create(e,t,r){return new TS(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(Pq(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?qF(e,this.pos,this.base):0}}function Pq(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function QF({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const Bq=dn.define(),JF=new qn;function zq(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function yv(n,e,t){for(let r of n.facet(Bq)){let i=r(n,e,t);if(i)return i}return function Hq(n,e,t){let r=Ss(n);if(r.length<t)return null;let s=null;for(let a=r.resolveInner(t,1);a;a=a.parent){if(a.to<=t||a.from>t)continue;if(s&&a.from<e)break;let u=a.type.prop(JF);if(u&&(a.to<r.length-50||r.length==n.doc.length||!zq(a))){let h=u(a,n);h&&h.from<=t&&h.from>=e&&h.to>t&&(s=h)}}return s}(n,e,t)}function e2(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const bv=lr.define({map:e2}),Ip=lr.define({map:e2});function AS(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const ad=es.define({create:()=>mn.none,update(n,e){n=n.map(e.changes);for(let t of e.effects)t.is(bv)&&!jq(n,t.value.from,t.value.to)?n=n.update({add:[r2.range(t.value.from,t.value.to)]}):t.is(Ip)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,s)=>{i<r&&s>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return n},provide:n=>zn.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");e.push(r2.range(r,i))}return mn.set(e,!0)}});function _v(n,e,t){var r;let i=null;return null===(r=n.field(ad,!1))||void 0===r||r.between(e,t,(s,a)=>{(!i||i.from>s)&&(i={from:s,to:a})}),i}function jq(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function IS(n,e){return n.field(ad,!1)?e:e.concat(lr.appendConfig.of(n2()))}function R_(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return zn.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const Xq=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:n=>{for(let e of AS(n)){let t=yv(n.state,e.from,e.to);if(t)return n.dispatch({effects:IS(n.state,[bv.of(t),R_(n,t)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:n=>{if(!n.state.field(ad,!1))return!1;let e=[];for(let t of AS(n)){let r=_v(n.state,t.from,t.to);r&&e.push(Ip.of(r),R_(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=yv(e,i.from,i.to);s&&t.push(bv.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:IS(n.state,t)}),!!t.length}},{key:"Ctrl-Alt-]",run:n=>{let e=n.state.field(ad,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(Ip.of({from:r,to:i}))}),n.dispatch({effects:t}),!0}}],Kq={placeholderDOM:null,placeholderText:"\u2026"},t2=dn.define({combine:n=>gl(n,Kq)});function n2(n){let e=[ad,Qq];return n&&e.push(t2.of(n)),e}const r2=mn.replace({widget:new class extends qc{toDOM(n){let{state:e}=n,t=e.facet(t2),r=s=>{let a=n.lineBlockAt(n.posAtDOM(s.target)),u=_v(n.state,a.from,a.to);u&&n.dispatch({effects:Ip.of(u)}),s.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(n,r);let i=document.createElement("span");return i.textContent=t.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),qq={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class kS extends oc{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Zq(n={}){let e=Object.assign(Object.assign({},qq),n),t=new kS(e,!0),r=new kS(e,!1),i=Ri.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(od)!=a.state.facet(od)||a.startState.field(ad,!1)!=a.state.field(ad,!1)||Ss(a.startState)!=Ss(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let u=new Zu;for(let h of a.viewportLineBlocks){let g=_v(a.state,h.from,h.to)?r:yv(a.state,h.from,h.to)?t:null;g&&u.add(h.from,h.from,g)}return u.finish()}}),{domEventHandlers:s}=e;return[i,uF({class:"cm-foldGutter",markers(a){var u;return(null===(u=a.plugin(i))||void 0===u?void 0:u.markers)||Ci.empty},initialSpacer:()=>new kS(e,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(a,u,h)=>{if(s.click&&s.click(a,u,h))return!0;let g=_v(a.state,u.from,u.to);if(g)return a.dispatch({effects:Ip.of(g)}),!0;let y=yv(a.state,u.from,u.to);return!!y&&(a.dispatch({effects:bv.of(y)}),!0)}})}),n2()]}const Qq=zn.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class kp{constructor(e,t){let r;function i(u){let h=Qu.newName();return(r||(r=Object.create(null)))["."+h]=u,h}this.specs=e;const s="string"==typeof t.all?t.all:t.all?i(t.all):void 0,a=t.scope;this.scope=a instanceof Na?u=>u.prop(kh)==a.data:a?u=>u==a:void 0,this.style=VF(e.map(u=>({tag:u.tag,class:u.class||i(Object.assign({},u,{tag:null}))})),{all:s}).style,this.module=r?new Qu(r):null,this.themeType=t.themeType}static define(e,t){return new kp(e,t||{})}}const OS=dn.define(),s2=dn.define({combine:n=>n.length?[n[0]]:null});function P_(n){let e=n.facet(OS);return e.length?e:n.facet(s2)}function RS(n,e){let r,t=[eZ];return n instanceof kp&&(n.module&&t.push(zn.styleModule.of(n.module)),r=n.themeType),t.push(e?.fallback?s2.of(n):r?OS.computeN([zn.darkTheme],i=>i.facet(zn.darkTheme)==("dark"==r)?[n]:[]):OS.of(n)),t}class Jq{constructor(e){this.markCache=Object.create(null),this.tree=Ss(e.state),this.decorations=this.buildDeco(e,P_(e.state))}update(e){let t=Ss(e.state),r=P_(e.state),i=r!=P_(e.startState);t.length<e.view.viewport.to&&!i&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,t){if(!t||!this.tree.length)return mn.none;let r=new Zu;for(let{from:i,to:s}of e.visibleRanges)xq(this.tree,t,(a,u,h)=>{r.add(a,u,this.markCache[h]||(this.markCache[h]=mn.mark({class:h})))},i,s);return r.finish()}}const eZ=Ch.high(Ri.fromClass(Jq,{decorations:n=>n.decorations})),tZ=kp.define([{tag:$e.meta,color:"#404740"},{tag:$e.link,textDecoration:"underline"},{tag:$e.heading,textDecoration:"underline",fontWeight:"bold"},{tag:$e.emphasis,fontStyle:"italic"},{tag:$e.strong,fontWeight:"bold"},{tag:$e.strikethrough,textDecoration:"line-through"},{tag:$e.keyword,color:"#708"},{tag:[$e.atom,$e.bool,$e.url,$e.contentSeparator,$e.labelName],color:"#219"},{tag:[$e.literal,$e.inserted],color:"#164"},{tag:[$e.string,$e.deleted],color:"#a11"},{tag:[$e.regexp,$e.escape,$e.special($e.string)],color:"#e40"},{tag:$e.definition($e.variableName),color:"#00f"},{tag:$e.local($e.variableName),color:"#30a"},{tag:[$e.typeName,$e.namespace],color:"#085"},{tag:$e.className,color:"#167"},{tag:[$e.special($e.variableName),$e.macroName],color:"#256"},{tag:$e.definition($e.propertyName),color:"#00c"},{tag:$e.comment,color:"#940"},{tag:$e.invalid,color:"#f00"}]),nZ=zn.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),o2=1e4,a2="()[]{}",l2=dn.define({combine:n=>gl(n,{afterCursor:!0,brackets:a2,maxScanDistance:o2,renderMatch:sZ})}),rZ=mn.mark({class:"cm-matchingBracket"}),iZ=mn.mark({class:"cm-nonmatchingBracket"});function sZ(n){let e=[],t=n.matched?rZ:iZ;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const oZ=[es.define({create:()=>mn.none,update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(l2);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=hc(e.state,i.head,-1,r)||i.head>0&&hc(e.state,i.head-1,1,r)||r.afterCursor&&(hc(e.state,i.head,1,r)||i.head<e.state.doc.length&&hc(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return mn.set(t,!0)},provide:n=>zn.decorations.from(n)}),nZ];function aZ(n={}){return[l2.of(n),oZ]}const lZ=new qn;function PS(n,e,t){let r=n.prop(e<0?qn.openedBy:qn.closedBy);if(r)return r;if(1==n.name.length){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function NS(n){let e=n.type.prop(lZ);return e?e(n.node):n}function hc(n,e,t,r={}){let i=r.maxScanDistance||o2,s=r.brackets||a2,a=Ss(n),u=a.resolveInner(e,t);for(let h=u;h;h=h.parent){let g=PS(h.type,t,s);if(g&&h.from<h.to){let y=NS(h);if(y&&(t>0?e>=y.from&&e<y.to:e>y.from&&e<=y.to))return cZ(0,0,t,h,y,g,s)}}return function uZ(n,e,t,r,i,s,a){let u=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),h=a.indexOf(u);if(h<0||h%2==0!=t>0)return null;let g={from:t<0?e-1:e,to:t>0?e+1:e},y=n.doc.iterRange(e,t>0?n.doc.length:0),O=0;for(let $=0;!y.next().done&&$<=s;){let K=y.value;t<0&&($+=K.length);let re=e+$*t;for(let he=t>0?0:K.length-1,xe=t>0?K.length:-1;he!=xe;he+=t){let Pe=a.indexOf(K[he]);if(!(Pe<0||r.resolveInner(re+he,1).type!=i))if(Pe%2==0==t>0)O++;else{if(1==O)return{start:g,end:{from:re+he,to:re+he+1},matched:Pe>>1==h>>1};O--}}t>0&&($+=K.length)}return y.done?{start:g,matched:!1}:null}(n,e,t,a,u.type,i,s)}function cZ(n,e,t,r,i,s,a){let h={from:i.from,to:i.to},g=0,y=r.parent?.cursor();if(y&&(t<0?y.childBefore(r.from):y.childAfter(r.to)))do{if(t<0?y.to<=r.from:y.from>=r.to){if(0==g&&s.indexOf(y.type.name)>-1&&y.from<y.to){let O=NS(y);return{start:h,end:O?{from:O.from,to:O.to}:void 0,matched:!0}}if(PS(y.type,t,a))g++;else if(PS(y.type,-t,a)){if(0==g){let O=NS(y);return{start:h,end:O&&O.from<O.to?{from:O.from,to:O.to}:void 0,matched:!1}}g--}}}while(t<0?y.prevSibling():y.nextSibling());return{start:h,matched:!1}}const FS=Object.create(null),xv=[Co.none],m2=[],g2=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])g2[n]=y2(FS,e);function BS(n,e){m2.indexOf(n)>-1||(m2.push(n),console.warn(e))}function y2(n,e){let t=null;for(let s of e.split(".")){let a=n[s]||$e[s];a?"function"==typeof a?t?t=a(t):BS(s,`Modifier ${s} used at start of tag`):t?BS(s,`Tag ${s} used as modifier`):t=a:BS(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let r=e.replace(/ /g,"_"),i=Co.define({id:xv.length,name:r,props:[FF({[r]:t})]});return xv.push(i),i.id}const _Z=k_.define({name:"json",parser:Sq.configure({props:[KF.add({Object:QF({except:/^\s*\}/}),Array:QF({except:/^\s*\]/})}),JF.add({"Object Array":function Vq(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function ri(){var n=arguments[0];"string"==typeof n&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&"object"==typeof t&&null==t.nodeType&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];"string"==typeof i?n.setAttribute(r,i):null!=i&&(n[r]=i)}e++}for(;e<arguments.length;e++)b2(n,arguments[e]);return n}function b2(n,e){if("string"==typeof e)n.appendChild(document.createTextNode(e));else if(null!=e)if(null!=e.nodeType)n.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var t=0;t<e.length;t++)b2(n,e[t])}}class wZ{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class Rh{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,s=r.facet(Ph).markerFilter;s&&(i=s(i));let a=mn.set(i.map(u=>u.from==u.to||u.from==u.to-1&&r.doc.lineAt(u.from).to==u.from?mn.widget({widget:new AZ(u),diagnostic:u}).range(u.from):mn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+u.severity},diagnostic:u}).range(u.from,u.to)),!0);return new Rh(a,t,Op(a))}}function Op(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:a})=>{if(!e||a.diagnostic==e)return r=new wZ(i,s,a.diagnostic),!1}),r}function _2(n,e){return!(!n.effects.some(t=>t.is(N_))&&!n.changes.touchesRange(e.pos))}function x2(n,e){return n.field(So,!1)?e:e.concat(lr.appendConfig.of([So,zn.decorations.compute([So],t=>{let{selected:r,panel:i}=t.field(So);return r&&i&&r.from!=r.to?mn.set([CZ.range(r.from,r.to)]):mn.none}),RK(SZ,{hideOn:_2}),IZ]))}const N_=lr.define(),VS=lr.define(),w2=lr.define(),So=es.define({create:()=>new Rh(mn.none,null,null),update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),r=null;if(n.selected){let i=e.changes.mapPos(n.selected.from,1);r=Op(t,n.selected.diagnostic,i)||Op(t,null,i)}n=new Rh(t,n.panel,r)}for(let t of e.effects)t.is(N_)?n=Rh.init(t.value,n.panel,e.state):t.is(VS)?n=new Rh(n.diagnostics,t.value?L_.open:null,n.selected):t.is(w2)&&(n=new Rh(n.diagnostics,n.panel,t.value));return n},provide:n=>[dv.from(n,e=>e.panel),zn.decorations.from(n,e=>e.diagnostics)]}),CZ=mn.mark({class:"cm-lintRange cm-lintRange-active"});function SZ(n,e,t){let{diagnostics:r}=n.state.field(So),i=[],s=2e8,a=0;r.between(e-(t<0?1:0),e+(t>0?1:0),(h,g,{spec:y})=>{e>=h&&e<=g&&(h==g||(e>h||t>0)&&(e<g||t<0))&&(i.push(y.diagnostic),s=Math.min(h,s),a=Math.max(g,a))});let u=n.state.facet(Ph).tooltipFilter;return u&&(i=u(i)),i.length?{pos:s,end:a,above:n.state.doc.lineAt(s).to<a,create:()=>({dom:E2(n,i)})}:null}function E2(n,e){return ri("ul",{class:"cm-tooltip-lint"},e.map(t=>M2(n,t,!1)))}const C2=n=>{let e=n.state.field(So,!1);return!(!e||!e.panel||(n.dispatch({effects:VS.of(!1)}),0))},MZ=[{key:"Mod-Shift-m",run:n=>{let e=n.state.field(So,!1);(!e||!e.panel)&&n.dispatch({effects:x2(n.state,[VS.of(!0)])});let t=uv(n,L_.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:n=>{let e=n.state.field(So,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)||(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),0))}}],Ph=dn.define({combine:n=>Object.assign({sources:n.map(e=>e.source)},gl(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t})),enables:Ri.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(Ph);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let n=Date.now();if(n<this.lintTime-10)setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(Ph);Promise.all(t.map(r=>Promise.resolve(r(this.view)))).then(r=>{let i=r.reduce((s,a)=>s.concat(a));this.view.state.doc==e.doc&&this.view.dispatch(function EZ(n,e){return{effects:x2(n,[N_.of(e)])}}(this.view.state,i))},r=>{ca(this.view.state,r)})}}update(n){let e=n.state.facet(Ph);(n.docChanged||e!=n.startState.facet(Ph)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}})});function D2(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function M2(n,e,t){var r;let i=t?D2(e.actions):[];return ri("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ri("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),null===(r=e.actions)||void 0===r?void 0:r.map((s,a)=>{let u=!1,h=$=>{if($.preventDefault(),u)return;u=!0;let K=Op(n.state.field(So).diagnostics,e);K&&s.apply(n,K.from,K.to)},{name:g}=s,y=i[a]?g.indexOf(i[a]):-1,O=y<0?g:[g.slice(0,y),ri("u",g.slice(y,y+1)),g.slice(y+1)];return ri("button",{type:"button",class:"cm-diagnosticAction",onclick:h,onmousedown:h,"aria-label":` Action: ${g}${y<0?"":` (access key "${i[a]})"`}.`},O)}),e.source&&ri("div",{class:"cm-diagnosticSource"},e.source))}class AZ extends qc{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return ri("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class T2{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=M2(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class L_{constructor(e){this.view=e,this.items=[],this.list=ri("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:i=>{if(27==i.keyCode)C2(this.view),this.view.focus();else if(38==i.keyCode||33==i.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==i.keyCode||34==i.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==i.keyCode)this.moveSelection(0);else if(35==i.keyCode)this.moveSelection(this.items.length-1);else if(13==i.keyCode)this.view.focus();else{if(!(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:s}=this.items[this.selectedIndex],a=D2(s.actions);for(let u=0;u<a.length;u++)if(a[u].toUpperCase().charCodeAt(0)==i.keyCode){let h=Op(this.view.state.field(So).diagnostics,s);h&&s.actions[u].apply(e,h.from,h.to)}}}i.preventDefault()},onclick:i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)}}),this.dom=ri("div",{class:"cm-panel-lint"},this.list,ri("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>C2(this.view)},"\xd7")),this.update()}get selectedIndex(){let e=this.view.state.field(So).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(So),r=0,i=!1,s=null;for(e.between(0,this.view.state.doc.length,(a,u,{spec:h})=>{let y,g=-1;for(let O=r;O<this.items.length;O++)if(this.items[O].diagnostic==h.diagnostic){g=O;break}g<0?(y=new T2(this.view,h.diagnostic),this.items.splice(r,0,y),i=!0):(y=this.items[g],g>r&&(this.items.splice(r,g-r),i=!0)),t&&y.diagnostic==t.diagnostic?y.dom.hasAttribute("aria-selected")||(y.dom.setAttribute("aria-selected","true"),s=y):y.dom.hasAttribute("aria-selected")&&y.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();0==this.items.length&&(this.items.push(new T2(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:u})=>{a.top<u.top?this.list.scrollTop-=u.top-a.top:a.bottom>u.bottom&&(this.list.scrollTop+=a.bottom-u.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let r=Op(this.view.state.field(So).diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:w2.of(r)})}static open(e){return new L_(e)}}function HS(n){return function F_(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const IZ=zn.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:HS("#d11")},".cm-lintRange-warning":{backgroundImage:HS("orange")},".cm-lintRange-info":{backgroundImage:HS("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function jS(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return!!i&&(r(t.update(i)),!0)}}const BZ=jS(UZ,0),VZ=jS(k2,0),HZ=jS((n,e)=>k2(n,e,function jZ(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from,to:i.to})}return e}(e)),0);function US(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const wv=50;function k2(n,e,t=e.selection.ranges){let r=t.map(s=>US(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,a)=>function zZ(n,{open:e,close:t},r,i){let y,O,s=n.sliceDoc(r-wv,r),a=n.sliceDoc(i,i+wv),u=/\s*$/.exec(s)[0].length,h=/^\s*/.exec(a)[0].length,g=s.length-u;if(s.slice(g-e.length,g)==e&&a.slice(h,h+t.length)==t)return{open:{pos:r-u,margin:u&&1},close:{pos:i+h,margin:h&&1}};i-r<=2*wv?y=O=n.sliceDoc(r,i):(y=n.sliceDoc(r,r+wv),O=n.sliceDoc(i-wv,i));let $=/^\s*/.exec(y)[0].length,K=/\s*$/.exec(O)[0].length,re=O.length-K-t.length;return y.slice($,$+e.length)==e&&O.slice(re,re+t.length)==t?{open:{pos:r+$+e.length,margin:/\s/.test(y.charAt($+e.length))?1:0},close:{pos:i-K-t.length,margin:/\s/.test(O.charAt(re-1))?1:0}}:null}(e,r[a],s.from,s.to));if(2!=n&&!i.every(s=>s))return{changes:e.changes(t.map((s,a)=>i[a]?[]:[{from:s.from,insert:r[a].open+" "},{from:s.to,insert:" "+r[a].close}]))};if(1!=n&&i.some(s=>s)){let s=[];for(let u,a=0;a<i.length;a++)if(u=i[a]){let h=r[a],{open:g,close:y}=u;s.push({from:g.pos-h.open.length,to:g.pos+g.margin},{from:y.pos-y.margin,to:y.pos+h.close.length})}return{changes:s}}return null}function UZ(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:a}of t){let u=r.length,h=1e9,g=US(e,s).line;if(g){for(let y=s;y<=a;){let O=e.doc.lineAt(y);if(O.from>i&&(s==a||a>O.from)){i=O.from;let $=/^\s*/.exec(O.text)[0].length,K=$==O.length,re=O.text.slice($,$+g.length)==g?$:-1;$<O.text.length&&$<h&&(h=$),r.push({line:O,comment:re,token:g,indent:$,empty:K,single:!1})}y=O.to+1}if(h<1e9)for(let y=u;y<r.length;y++)r[y].indent<r[y].line.text.length&&(r[y].indent=h);r.length==u+1&&(r[u].single=!0)}}if(2!=n&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:u,token:h,indent:g,empty:y,single:O}of r)(O||!y)&&s.push({from:u.from+g,insert:h+" "});let a=e.changes(s);return{changes:a,selection:e.selection.map(a,1)}}if(1!=n&&r.some(s=>s.comment>=0)){let s=[];for(let{line:a,comment:u,token:h}of r)if(u>=0){let g=a.from+u,y=g+h.length;" "==a.text[y-a.from]&&y++,s.push({from:g,to:y})}return{changes:s}}return null}const GS=Kc.define(),GZ=Kc.define(),$Z=dn.define(),O2=dn.define({combine:n=>gl(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}),$S=es.define({create:()=>XS.empty,update(n,e){let t=e.state.facet(O2),r=e.annotation(GS);if(r){let h=e.docChanged?Mt.single(function WZ(n){let e=0;return n.iterChangedRanges((t,r)=>e=r),e}(e.changes)):void 0,g=jo.fromTransaction(e,h),y=r.side,O=0==y?n.undone:n.done;return O=g?H_(O,O.length,t.minDepth,g):N2(O,e.startState.selection),new XS(0==y?r.rest:O,0==y?O:r.rest)}let i=e.annotation(GZ);if(("full"==i||"before"==i)&&(n=n.isolate()),!1===e.annotation(rc.addToHistory))return e.changes.empty?n:n.addMapping(e.changes.desc);let s=jo.fromTransaction(e),a=e.annotation(rc.time),u=e.annotation(rc.userEvent);return s?n=n.addChanges(s,a,u,t,e):e.selection&&(n=n.addSelection(e.startState.selection,a,u,t.newGroupDelay)),("full"==i||"after"==i)&&(n=n.isolate()),n},toJSON:n=>({done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}),fromJSON:n=>new XS(n.done.map(jo.fromJSON),n.undone.map(jo.fromJSON))});function YZ(n={}){return[$S,O2.of(n),zn.domEventHandlers({beforeinput(e,t){let r="historyUndo"==e.inputType?R2:"historyRedo"==e.inputType?WS:null;return!!r&&(e.preventDefault(),r(t))}})]}function V_(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field($S,!1);if(!i)return!1;let s=i.pop(n,t,e);return!!s&&(r(s),!0)}}const R2=V_(0,!1),WS=V_(1,!1),XZ=V_(0,!0),KZ=V_(1,!0);class jo{constructor(e,t,r,i,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new jo(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(r=this.startSelection)||void 0===r?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new jo(e.changes&&fs.fromJSON(e.changes),[],e.mapped&&nc.fromJSON(e.mapped),e.startSelection&&Mt.fromJSON(e.startSelection),e.selectionsAfter.map(Mt.fromJSON))}static fromTransaction(e,t){let r=La;for(let i of e.startState.facet($Z)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new jo(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,La)}static selection(e){return new jo(void 0,La,void 0,void 0,e)}}function H_(n,e,t,r){let s=n.slice(e+1>t+20?e-t-1:0,e);return s.push(r),s}function P2(n,e){return n.length?e.length?n.concat(e):n:e}const La=[],QZ=200;function N2(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-QZ));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),H_(n,n.length-1,1e9,t.setSelAfter(r)))}return[jo.selection([e])]}function JZ(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function YS(n,e){if(!n.length)return n;let t=n.length,r=La;for(;t;){let i=eQ(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=n.slice(0,t);return s[t-1]=i,s}e=i.mapped,t--,r=i.selectionsAfter}return r.length?[jo.selection(r)]:La}function eQ(n,e,t){let r=P2(n.selectionsAfter.length?n.selectionsAfter.map(u=>u.map(e)):La,t);if(!n.changes)return jo.selection(r);let i=n.changes.map(e),s=e.mapDesc(n.changes,!0),a=n.mapped?n.mapped.composeDesc(s):s;return new jo(i,lr.mapEffects(n.effects,e),a,n.startSelection.map(s),r)}const tQ=/^(input\.type|delete)($|\.)/;let XS=(()=>{class n{constructor(t,r,i=0,s){this.done=t,this.undone=r,this.prevTime=i,this.prevUserEvent=s}isolate(){return this.prevTime?new n(this.done,this.undone):this}addChanges(t,r,i,s,a){let u=this.done,h=u[u.length-1];return u=h&&h.changes&&!h.changes.empty&&t.changes&&(!i||tQ.test(i))&&(!h.selectionsAfter.length&&r-this.prevTime<s.newGroupDelay&&s.joinToEvent(a,function qZ(n,e){let t=[],r=!1;return n.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,a,u)=>{for(let h=0;h<t.length;){let g=t[h++],y=t[h++];u>=g&&a<=y&&(r=!0)}}),r}(h.changes,t.changes))||"input.type.compose"==i)?H_(u,u.length-1,s.minDepth,new jo(t.changes.compose(h.changes),P2(t.effects,h.effects),h.mapped,h.startSelection,La)):H_(u,u.length,s.minDepth,t),new n(u,La,r,i)}addSelection(t,r,i,s){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:La;return a.length>0&&r-this.prevTime<s&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&function ZZ(n,e){return n.ranges.length==e.ranges.length&&0===n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length}(a[a.length-1],t)?this:new n(N2(this.done,t),this.undone,r,i)}addMapping(t){return new n(YS(this.done,t),YS(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,r,i){let s=0==t?this.done:this.undone;if(0==s.length)return null;let a=s[s.length-1];if(i&&a.selectionsAfter.length)return r.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:GS.of({side:t,rest:JZ(s)}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let u=1==s.length?La:s.slice(0,s.length-1);return a.mapped&&(u=YS(u,a.mapped)),r.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:GS.of({side:t,rest:u}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}return n.empty=new n(La,La),n})();const nQ=[{key:"Mod-z",run:R2,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:WS,preventDefault:!0},{linux:"Ctrl-Shift-z",run:WS,preventDefault:!0},{key:"Mod-u",run:XZ,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:KZ,preventDefault:!0}];function Rp(n,e){return Mt.create(n.ranges.map(e),n.mainIndex)}function fc(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Fa({state:n,dispatch:e},t){let r=Rp(n.selection,t);return!r.eq(n.selection)&&(e(fc(n,r)),!0)}function Ev(n,e){return Mt.cursor(e?n.to:n.from)}function z_(n,e){return Fa(n,t=>t.empty?n.moveByChar(t,e):Ev(t,e))}function ro(n){return n.textDirectionAt(n.state.selection.main.head)==Si.LTR}const L2=n=>z_(n,!ro(n)),F2=n=>z_(n,ro(n));function j_(n,e){return Fa(n,t=>t.empty?n.moveByGroup(t,e):Ev(t,e))}function sQ(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function U_(n,e,t){let a,u,r=Ss(n).resolveInner(e.head),i=t?qn.closedBy:qn.openedBy;for(let h=e.head;;){let g=t?r.childAfter(h):r.childBefore(h);if(!g)break;sQ(n,g,i)?r=g:h=t?g.to:g.from}return u=r.type.prop(i)&&(a=t?hc(n,r.from,1):hc(n,r.to,-1))&&a.matched?t?a.end.to:a.end.from:t?r.to:r.from,Mt.cursor(u,t?-1:1)}function H2(n,e){return Fa(n,t=>{if(!t.empty)return Ev(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const z2=n=>H2(n,!1),j2=n=>H2(n,!0);function U2(n){let i,e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0;if(e){for(let s of n.state.facet(zn.scrollMargins)){let a=s(n);a?.top&&(t=Math.max(a?.top,t)),a?.bottom&&(r=Math.max(a?.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function G2(n,e){let s,t=U2(n),{state:r}=n,i=Rp(r.selection,a=>a.empty?n.moveVertically(a,e,t.height):Ev(a,e));if(i.eq(r.selection))return!1;if(t.selfScroll){let a=n.coordsAtPos(r.selection.main.head),u=n.scrollDOM.getBoundingClientRect(),h=u.top+t.marginTop;a&&a.top>h&&a.bottom<u.bottom-t.marginBottom&&(s=zn.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-h}))}return n.dispatch(fc(r,i),{effects:s}),!0}const $2=n=>G2(n,!1),KS=n=>G2(n,!0);function ld(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=Mt.cursor(r.from+s))}return i}function da(n,e){let t=Rp(n.state.selection,r=>{let i=e(r);return Mt.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return!t.eq(n.state.selection)&&(n.dispatch(fc(n.state,t)),!0)}function G_(n,e){return da(n,t=>n.moveByChar(t,e))}const Y2=n=>G_(n,!ro(n)),X2=n=>G_(n,ro(n));function $_(n,e){return da(n,t=>n.moveByGroup(t,e))}function q2(n,e){return da(n,t=>n.moveVertically(t,e))}const Z2=n=>q2(n,!1),Q2=n=>q2(n,!0);function J2(n,e){return da(n,t=>n.moveVertically(t,e,U2(n).height))}const eB=n=>J2(n,!1),tB=n=>J2(n,!0),nB=({state:n,dispatch:e})=>(e(fc(n,{anchor:0})),!0),rB=({state:n,dispatch:e})=>(e(fc(n,{anchor:n.doc.length})),!0),iB=({state:n,dispatch:e})=>(e(fc(n,{anchor:n.selection.main.anchor,head:0})),!0),sB=({state:n,dispatch:e})=>(e(fc(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0);function W_(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(s=>{let{from:a,to:u}=s;if(a==u){let h=e(a);h<a?(t="delete.backward",h=Y_(n,h,!1)):h>a&&(t="delete.forward",h=Y_(n,h,!0)),a=Math.min(a,h),u=Math.max(u,h)}else a=Y_(n,a,!1),u=Y_(n,u,!0);return a==u?{range:s}:{changes:{from:a,to:u},range:Mt.cursor(a)}});return!i.changes.empty&&(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:"delete.selection"==t?zn.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Y_(n,e,t){if(n instanceof zn)for(let r of n.state.facet(zn.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const oB=(n,e)=>W_(n,t=>{let s,a,{state:r}=n,i=r.doc.lineAt(t);if(!e&&t>i.from&&t<i.from+200&&!/[^ \t]/.test(s=i.text.slice(0,t-i.from))){if("\t"==s[s.length-1])return t-1;let h=Zg(s,r.tabSize)%Oh(r)||Oh(r);for(let g=0;g<h&&" "==s[s.length-1-g];g++)t--;a=t}else a=_o(i.text,t-i.from,e,e)+i.from,a==t&&i.number!=(e?r.doc.lines:1)&&(a+=e?1:-1);return a}),qS=n=>oB(n,!1),aB=n=>oB(n,!0),lB=(n,e)=>W_(n,t=>{let r=t,{state:i}=n,s=i.doc.lineAt(r),a=i.charCategorizer(r);for(let u=null;;){if(r==(e?s.to:s.from)){r==t&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let h=_o(s.text,r-s.from,e)+s.from,g=s.text.slice(Math.min(r,h)-s.from,Math.max(r,h)-s.from),y=a(g);if(null!=u&&y!=u)break;(" "!=g||r!=t)&&(u=y),r=h}return r}),cB=n=>lB(n,!1),uB=n=>W_(n,e=>{let t=n.lineBlockAt(e).to;return e<t?t:Math.min(n.state.doc.length,e+1)});function X_(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let a=e[e.length-1];a.to=s.to,a.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function dB(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of X_(n)){if(t?s.to==n.doc.length:0==s.from)continue;let a=n.doc.lineAt(t?s.to+1:s.from-1),u=a.length+1;if(t){r.push({from:s.to,to:a.to},{from:s.from,insert:a.text+n.lineBreak});for(let h of s.ranges)i.push(Mt.range(Math.min(n.doc.length,h.anchor+u),Math.min(n.doc.length,h.head+u)))}else{r.push({from:a.from,to:s.from},{from:s.to,insert:n.lineBreak+a.text});for(let h of s.ranges)i.push(Mt.range(h.anchor-u,h.head-u))}}return!!r.length&&(e(n.update({changes:r,scrollIntoView:!0,selection:Mt.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0)}function hB(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of X_(n))r.push(t?{from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}:{from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const VQ=fB(!1);function fB(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:a}=i,u=e.doc.lineAt(s),h=!n&&s==a&&function BQ(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let s,t=Ss(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e);return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(qn.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}(e,s);n&&(s=a=(a<=u.to?u:e.doc.lineAt(a)).to);let g=new vv(e,{simulateBreak:s,simulateDoubleBreak:!!h}),y=O_(g,s);for(null==y&&(y=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);a<u.to&&/\s/.test(u.text[a-u.from]);)a++;h?({from:s,to:a}=h):s>u.from&&s<u.from+100&&!/\S/.test(u.text.slice(0,s))&&(s=u.from);let O=["",Ap(e,y)];return h&&O.push(Ap(e,g.lineIndent(u.from,-1))),{changes:{from:s,to:a,insert:Fr.of(O)},range:Mt.cursor(s+1+O[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function ZS(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let u=n.doc.lineAt(a);u.number>t&&(r.empty||r.to>u.from)&&(e(u,i,r),t=u.number),a=u.to+1}let s=n.changes(i);return{changes:i,range:Mt.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const GQ=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:n=>Fa(n,e=>U_(n.state,e,!ro(n))),shift:n=>da(n,e=>U_(n.state,e,!ro(n)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:n=>Fa(n,e=>U_(n.state,e,ro(n))),shift:n=>da(n,e=>U_(n.state,e,ro(n)))},{key:"Alt-ArrowUp",run:({state:n,dispatch:e})=>dB(n,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:n,dispatch:e})=>hB(n,e,!1)},{key:"Alt-ArrowDown",run:({state:n,dispatch:e})=>dB(n,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:n,dispatch:e})=>hB(n,e,!0)},{key:"Escape",run:({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=Mt.create([t.main]):t.main.empty||(r=Mt.create([Mt.cursor(t.main.head)])),!!r&&(e(fc(n,r)),!0)}},{key:"Mod-Enter",run:fB(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:n,dispatch:e})=>{let t=X_(n).map(({from:r,to:i})=>Mt.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:Mt.create(t),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:n,dispatch:e})=>{let t=Rp(n.selection,r=>{var i;let s=Ss(n).resolveInner(r.head,1);for(;!(s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from||null===(i=s.parent)||void 0===i)&&i.parent;)s=s.parent;return Mt.range(s.to,s.from)});return e(fc(n,t)),!0},preventDefault:!0},{key:"Mod-[",run:({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(ZS(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=Zg(i,n.tabSize),a=0,u=Ap(n,Math.max(0,s-Oh(n)));for(;a<i.length&&a<u.length&&i.charCodeAt(a)==u.charCodeAt(a);)a++;r.push({from:t.from+a,to:t.from+i.length,insert:u.slice(a)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(ZS(n,(t,r)=>{r.push({from:t.from,insert:n.facet(MS)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new vv(n,{overrideIndentation:s=>t[s]??-1}),i=ZS(n,(s,a,u)=>{let h=O_(r,s.from);if(null==h)return;/\S/.test(s.text)||(h=0);let g=/^\s*/.exec(s.text)[0],y=Ap(n,h);(g!=y||u.from<s.from+g.length)&&(t[s.from]=h,a.push({from:s.from,to:s.from+g.length,insert:y}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(X_(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Rp(e.selection,i=>n.moveVertically(i,!0)).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:n,dispatch:e})=>function W2(n,e,t){let r=!1,i=Rp(n.selection,s=>{let a=hc(n,s.head,-1)||hc(n,s.head,1)||s.head>0&&hc(n,s.head-1,1)||s.head<n.doc.length&&hc(n,s.head+1,-1);if(!a||!a.end)return s;r=!0;let u=a.start.from==s.head?a.end.to:a.end.from;return t?Mt.range(s.anchor,u):Mt.cursor(u)});return!!r&&(e(fc(n,i)),!0)}(n,e,!1)},{key:"Mod-/",run:n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=US(n.state,t.from);return r.line?BZ(n):!!r.block&&HZ(n)}},{key:"Alt-A",run:VZ}].concat([{key:"ArrowLeft",run:L2,shift:Y2,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:n=>j_(n,!ro(n)),shift:n=>$_(n,!ro(n)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:n=>Fa(n,e=>ld(n,e,!ro(n))),shift:n=>da(n,e=>ld(n,e,!ro(n))),preventDefault:!0},{key:"ArrowRight",run:F2,shift:X2,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:n=>j_(n,ro(n)),shift:n=>$_(n,ro(n)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:n=>Fa(n,e=>ld(n,e,ro(n))),shift:n=>da(n,e=>ld(n,e,ro(n))),preventDefault:!0},{key:"ArrowUp",run:z2,shift:Z2,preventDefault:!0},{mac:"Cmd-ArrowUp",run:nB,shift:iB},{mac:"Ctrl-ArrowUp",run:$2,shift:eB},{key:"ArrowDown",run:j2,shift:Q2,preventDefault:!0},{mac:"Cmd-ArrowDown",run:rB,shift:sB},{mac:"Ctrl-ArrowDown",run:KS,shift:tB},{key:"PageUp",run:$2,shift:eB},{key:"PageDown",run:KS,shift:tB},{key:"Home",run:n=>Fa(n,e=>ld(n,e,!1)),shift:n=>da(n,e=>ld(n,e,!1)),preventDefault:!0},{key:"Mod-Home",run:nB,shift:iB},{key:"End",run:n=>Fa(n,e=>ld(n,e,!0)),shift:n=>da(n,e=>ld(n,e,!0)),preventDefault:!0},{key:"Mod-End",run:rB,shift:sB},{key:"Enter",run:VQ},{key:"Mod-a",run:({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:qS,shift:qS},{key:"Delete",run:aB},{key:"Mod-Backspace",mac:"Alt-Backspace",run:cB},{key:"Mod-Delete",mac:"Alt-Delete",run:n=>lB(n,!0)},{mac:"Mod-Backspace",run:n=>W_(n,e=>{let t=n.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)})},{mac:"Mod-Delete",run:uB}].concat([{key:"Ctrl-b",run:L2,shift:Y2,preventDefault:!0},{key:"Ctrl-f",run:F2,shift:X2},{key:"Ctrl-p",run:z2,shift:Z2},{key:"Ctrl-n",run:j2,shift:Q2},{key:"Ctrl-a",run:n=>Fa(n,e=>Mt.cursor(n.lineBlockAt(e.head).from,1)),shift:n=>da(n,e=>Mt.cursor(n.lineBlockAt(e.head).from))},{key:"Ctrl-e",run:n=>Fa(n,e=>Mt.cursor(n.lineBlockAt(e.head).to,-1)),shift:n=>da(n,e=>Mt.cursor(n.lineBlockAt(e.head).to))},{key:"Ctrl-d",run:aB},{key:"Ctrl-h",run:qS},{key:"Ctrl-k",run:uB},{key:"Ctrl-Alt-h",run:cB},{key:"Ctrl-o",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Fr.of(["",""])},range:Mt.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||0==r.from||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),a=i==s.from?i-1:_o(s.text,i-s.from,!1)+s.from,u=i==s.to?i+1:_o(s.text,i-s.from,!0)+s.from;return{changes:{from:a,to:u,insert:n.doc.slice(i,u).append(n.doc.slice(a,i))},range:Mt.cursor(u)}});return!t.changes.empty&&(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:KS}].map(n=>({mac:n.key,run:n.run,shift:n.shift})))),mB="function"==typeof String.prototype.normalize?n=>n.normalize("NFKD"):n=>n;class Pp{constructor(e,t,r=0,i=e.length,s,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?u=>s(mB(u)):mB,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Hs(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=mC(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Oa(e);let i=this.normalize(t);for(let s=0,a=r;;s++){let u=i.charCodeAt(s),h=this.match(u,a);if(h)return this.value=h,this;if(s==i.length-1)break;a==r&&s<t.length&&t.charCodeAt(s)==u&&a++}}}match(e,t){let r=null;for(let i=0;i<this.matches.length;i+=2){let s=this.matches[i],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?r={from:this.matches[i+1],to:t+1}:(this.matches[i]++,a=!0)),a||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:t+1}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferPos)&&(r=null),r}}typeof Symbol<"u"&&(Pp.prototype[Symbol.iterator]=function(){return this});const gB={from:-1,to:-1,match:/.*/.exec("")},JS="gm"+(null==/x/.unicode?"":"u");class vB{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=gB,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new yB(e,t,r,i,s);this.re=new RegExp(t,JS+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let a=e.lineAt(i);this.curLineStart=a.from,this.matchPos=K_(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=K_(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const eD=new WeakMap;class Np{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=eD.get(e);if(!i||i.from>=r||i.to<=t){let u=new Np(t,e.sliceString(t,r));return eD.set(e,u),u}if(i.from==t&&i.to==r)return i;let{text:s,from:a}=i;return a>t&&(s=e.sliceString(t,a)+s,a=t),i.to<r&&(s+=e.sliceString(i.to,r)),eD.set(e,new Np(a,s)),new Np(t,s.slice(t-a,r-a))}}class yB{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=gB,this.matchPos=K_(e,i),this.re=new RegExp(t,JS+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=Np.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=K_(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Np.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function K_(n,e){if(e>=n.length)return e;let r,t=n.lineAt(e);for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function tD(n){let e=ri("input",{class:"cm-textfield",name:"line"});function r(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:s}=n,a=s.doc.lineAt(s.selection.main.head),[,u,h,g,y]=i,O=g?+g.slice(1):0,$=h?+h:a.number;if(h&&y){let re=$/100;u&&(re=re*("-"==u?-1:1)+a.number/s.doc.lines),$=Math.round(s.doc.lines*re)}else h&&u&&($=$*("-"==u?-1:1)+a.number);let K=s.doc.line(Math.max(1,Math.min(s.doc.lines,$)));n.dispatch({effects:q_.of(!1),selection:Mt.cursor(K.from+Math.max(0,Math.min(O,K.length))),scrollIntoView:!0}),n.focus()}return{dom:ri("form",{class:"cm-gotoLine",onkeydown:i=>{27==i.keyCode?(i.preventDefault(),n.dispatch({effects:q_.of(!1)}),n.focus()):13==i.keyCode&&(i.preventDefault(),r())},onsubmit:i=>{i.preventDefault(),r()}},ri("label",n.state.phrase("Go to line"),": ",e)," ",ri("button",{class:"cm-button",type:"submit"},n.state.phrase("go")))}}typeof Symbol<"u"&&(vB.prototype[Symbol.iterator]=yB.prototype[Symbol.iterator]=function(){return this});const q_=lr.define(),bB=es.define({create:()=>!0,update(n,e){for(let t of e.effects)t.is(q_)&&(n=t.value);return n},provide:n=>dv.from(n,e=>e?tD:null)}),YQ=zn.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),XQ={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},_B=dn.define({combine:n=>gl(n,XQ,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function KQ(n){let e=[eJ,JQ];return n&&e.push(_B.of(n)),e}const qQ=mn.mark({class:"cm-selectionMatch"}),ZQ=mn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function xB(n,e,t,r){return!(0!=t&&n(e.sliceDoc(t-1,t))==gi.Word||r!=e.doc.length&&n(e.sliceDoc(r,r+1))==gi.Word)}const JQ=Ri.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(_B),{state:t}=n,r=t.selection;if(r.ranges.length>1)return mn.none;let s,i=r.main,a=null;if(i.empty){if(!e.highlightWordAroundCursor)return mn.none;let h=t.wordAt(i.head);if(!h)return mn.none;a=t.charCategorizer(i.head),s=t.sliceDoc(h.from,h.to)}else{let h=i.to-i.from;if(h<e.minSelectionLength||h>200)return mn.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),a=t.charCategorizer(i.head),!xB(a,t,i.from,i.to)||!function QQ(n,e,t,r){return n(e.sliceDoc(t,t+1))==gi.Word&&n(e.sliceDoc(r-1,r))==gi.Word}(a,t,i.from,i.to))return mn.none}else if(s=t.sliceDoc(i.from,i.to).trim(),!s)return mn.none}let u=[];for(let h of n.visibleRanges){let g=new Pp(t.doc,s,h.from,h.to);for(;!g.next().done;){let{from:y,to:O}=g.value;if((!a||xB(a,t,y,O))&&(i.empty&&y<=i.from&&O>=i.to?u.push(ZQ.range(y,O)):(y>=i.to||O<=i.from)&&u.push(qQ.range(y,O)),u.length>e.maxMatches))return mn.none}}return mn.set(u)}},{decorations:n=>n.decorations}),eJ=zn.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Nh=dn.define({combine:n=>gl(n,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new mJ(e),scrollToMatch:e=>zn.scrollIntoView(e)})});class wB{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function $Q(n){try{return new RegExp(n,JS),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>"n"==r?"\n":"r"==r?"\r":"t"==r?"\t":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new aJ(this):new sJ(this)}getCursor(e,t=0,r){let i=e.doc?e:wo.create({doc:e});return null==r&&(r=i.doc.length),this.regexp?Fp(this,i,t,r):Lp(this,i,t,r)}}class EB{constructor(e){this.spec=e}}function Lp(n,e,t,r){return new Pp(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?function iJ(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),!(e(Z_(i,t-s))==gi.Word&&e(Q_(i,t-s))==gi.Word||e(Q_(i,r-s))==gi.Word&&e(Z_(i,r-s))==gi.Word))}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}class sJ extends EB{constructor(e){super(e)}nextMatch(e,t,r){let i=Lp(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=Lp(this.spec,e,0,t).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),a=Lp(this.spec,e,s,i),u=null;for(;!a.nextOverlapping().done;)u=a.value;if(u)return u;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=Lp(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Lp(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Fp(n,e,t,r){return new vB(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?oJ(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function Z_(n,e){return n.slice(_o(n,e,!1),e)}function Q_(n,e){return n.slice(e,_o(n,e))}function oJ(n){return(e,t,r)=>!r[0].length||(n(Z_(r.input,r.index))!=gi.Word||n(Q_(r.input,r.index))!=gi.Word)&&(n(Q_(r.input,r.index+r[0].length))!=gi.Word||n(Z_(r.input,r.index+r[0].length))!=gi.Word)}class aJ extends EB{nextMatch(e,t,r){let i=Fp(this.spec,e,r,e.doc.length).next();return i.done&&(i=Fp(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-1e4*i),a=Fp(this.spec,e,s,r),u=null;for(;!a.next().done;)u=a.value;if(u&&(s==t||u.from>s+10))return u;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(t,r)=>"$"==r?"$":"&"==r?e.match[0]:"0"!=r&&+r<e.match.length?e.match[r]:t))}matchAll(e,t){let r=Fp(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Fp(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Cv=lr.define(),nD=lr.define(),pc=es.define({create:n=>new rD(tx(n).create(),null),update(n,e){for(let t of e.effects)t.is(Cv)?n=new rD(t.value.create(),n.panel):t.is(nD)&&(n=new rD(n.query,t.value?iD:null));return n},provide:n=>dv.from(n,e=>e.panel)});class rD{constructor(e,t){this.query=e,this.panel=t}}const lJ=mn.mark({class:"cm-searchMatch"}),cJ=mn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),uJ=Ri.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(pc))}update(n){let e=n.state.field(pc);(e!=n.startState.field(pc)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return mn.none;let{view:t}=this,r=new Zu;for(let i=0,s=t.visibleRanges,a=s.length;i<a;i++){let{from:u,to:h}=s[i];for(;i<a-1&&h>s[i+1].from-500;)h=s[++i].to;n.highlight(t.state,u,h,(g,y)=>{let O=t.state.selection.ranges.some($=>$.from==g&&$.to==y);r.add(g,y,O?cJ:lJ)})}return r.finish()}},{decorations:n=>n.decorations});function Sv(n){return e=>{let t=e.state.field(pc,!1);return t&&t.query.spec.valid?n(e,t):SB(e)}}const J_=Sv((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=Mt.single(r.from,r.to),s=n.state.facet(Nh);return n.dispatch({selection:i,effects:[sD(n,r),s.scrollToMatch(i.main)],userEvent:"select.search"}),!0}),ex=Sv((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=Mt.single(i.from,i.to),a=n.state.facet(Nh);return n.dispatch({selection:s,effects:[sD(n,i),a.scrollToMatch(s.main)],userEvent:"select.search"}),!0}),dJ=Sv((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!(!t||!t.length||(n.dispatch({selection:Mt.create(t.map(r=>Mt.range(r.from,r.to))),userEvent:"select.search.matches"}),0))}),CB=Sv((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let u,h,a=[],g=[];if(s.from==r&&s.to==i&&(h=t.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:h}),s=e.nextMatch(t,s.from,s.to),g.push(zn.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),s){let y=0==a.length||a[0].from>=s.to?0:s.to-s.from-h.length;u=Mt.single(s.from-y,s.to-y),g.push(sD(n,s)),g.push(t.facet(Nh).scrollToMatch(u.main))}return n.dispatch({changes:a,selection:u,effects:g,userEvent:"input.replace"}),!0}),fJ=Sv((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:a}=i;return{from:s,to:a,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:zn.announce.of(r),userEvent:"input.replace.all"}),!0});function iD(n){return n.state.facet(Nh).createPanel(n)}function tx(n,e){var t,r,i,s;let a=n.selection.main,u=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!u)return e;let h=n.facet(Nh);return new wB({search:(null!==(t=e?.literal)&&void 0!==t?t:h.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:null!==(r=e?.caseSensitive)&&void 0!==r?r:h.caseSensitive,literal:null!==(i=e?.literal)&&void 0!==i?i:h.literal,wholeWord:null!==(s=e?.wholeWord)&&void 0!==s?s:h.wholeWord})}const SB=n=>{let e=n.state.field(pc,!1);if(e&&e.panel){let t=uv(n,iD);if(!t)return!1;let r=t.dom.querySelector("[main-field]");if(r&&r!=n.root.activeElement){let i=tx(n.state,e.query.spec);i.valid&&n.dispatch({effects:Cv.of(i)}),r.focus(),r.select()}}else n.dispatch({effects:[nD.of(!0),e?Cv.of(tx(n.state,e.query.spec)):lr.appendConfig.of(oD)]});return!0},DB=n=>{let e=n.state.field(pc,!1);if(!e||!e.panel)return!1;let t=uv(n,iD);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:nD.of(!1)}),!0},pJ=[{key:"Mod-f",run:SB,scope:"editor search-panel"},{key:"F3",run:J_,shift:ex,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:J_,shift:ex,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:DB,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],a=0;for(let u=new Pp(n.doc,n.sliceDoc(r,i));!u.next().done;){if(s.length>1e3)return!1;u.value.from==r&&(a=s.length),s.push(Mt.range(u.value.from,u.value.to))}return e(n.update({selection:Mt.create(s,a),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:n=>{let e=uv(n,tD);if(!e){let t=[q_.of(!0)];null==n.state.field(bB,!1)&&t.push(lr.appendConfig.of([bB,YQ])),n.dispatch({effects:t}),e=uv(n,tD)}return e&&e.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return(({state:n,dispatch:e})=>{let{selection:t}=n,r=Mt.create(t.ranges.map(i=>n.wordAt(i.head)||Mt.cursor(i.head)),t.mainIndex);return!r.eq(t)&&(e(n.update({selection:r})),!0)})({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=function nJ(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let a=!1,u=new Pp(n.doc,e,r[r.length-1].to);;){if(u.next(),!u.done){if(a&&r.some(h=>h.from==u.value.from))continue;if(s){let h=n.wordAt(u.value.from);if(!h||h.from!=u.value.from||h.to!=u.value.to)continue}return u.value}if(a)return null;u=new Pp(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),a=!0}}(n,r);return!!i&&(e(n.update({selection:n.selection.addRange(Mt.range(i.from,i.to),!1),effects:zn.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class mJ{constructor(e){this.view=e;let t=this.query=e.state.field(pc).query.spec;function r(i,s,a){return ri("button",{class:"cm-button",name:i,onclick:s,type:"button"},a)}this.commit=this.commit.bind(this),this.searchField=ri("input",{value:t.search,placeholder:ha(e,"Find"),"aria-label":ha(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ri("input",{value:t.replace,placeholder:ha(e,"Replace"),"aria-label":ha(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ri("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=ri("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=ri("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=ri("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>J_(e),[ha(e,"next")]),r("prev",()=>ex(e),[ha(e,"previous")]),r("select",()=>dJ(e),[ha(e,"all")]),ri("label",null,[this.caseField,ha(e,"match case")]),ri("label",null,[this.reField,ha(e,"regexp")]),ri("label",null,[this.wordField,ha(e,"by word")]),...e.state.readOnly?[]:[ri("br"),this.replaceField,r("replace",()=>CB(e),[ha(e,"replace")]),r("replaceAll",()=>fJ(e),[ha(e,"replace all")])],ri("button",{name:"close",onclick:()=>DB(e),"aria-label":ha(e,"close"),type:"button"},["\xd7"])])}commit(){let e=new wB({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Cv.of(e)}))}keydown(e){!function XX(n,e,t){return $L(GL(n.state),e,n,t)}(this.view,e,"search-panel")?13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?ex:J_)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),CB(this.view)):e.preventDefault()}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Cv)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Nh).top}}function ha(n,e){return n.state.phrase(e)}const nx=30,rx=/[\s\.,:;?!]/;function sD(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-nx),a=Math.min(i,t+nx),u=n.state.sliceDoc(s,a);if(s!=r.from)for(let h=0;h<nx;h++)if(!rx.test(u[h+1])&&rx.test(u[h])){u=u.slice(h);break}if(a!=i)for(let h=u.length-1;h>u.length-nx;h--)if(!rx.test(u[h-1])&&rx.test(u[h])){u=u.slice(0,h);break}return zn.announce.of(`${n.state.phrase("current match")}. ${u} ${n.state.phrase("on line")} ${r.number}.`)}const gJ=zn.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),oD=[pc,Ch.lowest(uJ),gJ];class MB{constructor(e,t,r){this.state=e,this.pos=t,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let t=Ss(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search(IB(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function TB(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}class AB{constructor(e,t,r){this.completion=e,this.source=t,this.match=r}}function cd(n){return n.selection.main.head}function IB(n,e){var t;let{source:r}=n,i=e&&"^"!=r[0],s="$"!=r[r.length-1];return i||s?new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,null!==(t=n.flags)&&void 0!==t?t:n.ignoreCase?"i":""):n}const kB=Kc.define();function OB(n,e){const t=e.completion.apply||e.completion.label;let r=e.source;"string"==typeof t?n.dispatch(Object.assign(Object.assign({},function bJ(n,e,t,r){return Object.assign(Object.assign({},n.changeByRange(i=>{if(i==n.selection.main)return{changes:{from:t,to:r,insert:e},range:Mt.cursor(t+e.length)};let s=r-t;return!i.empty||s&&n.sliceDoc(i.from-s,i.from)!=n.sliceDoc(t,r)?{range:i}:{changes:{from:i.from-s,to:i.from,insert:e},range:Mt.cursor(i.from-s+e.length)}})),{userEvent:"input.complete"})}(n.state,t,r.from,r.to)),{annotations:kB.of(e.completion)})):t(n,e.completion,r.from,r.to)}const RB=new WeakMap;function _J(n){if(!Array.isArray(n))return n;let e=RB.get(n);return e||RB.set(n,e=function yJ(n){let e=n.map(i=>"string"==typeof i?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:function vJ(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=TB(e)+TB(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}(n)),e}class xJ{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let r=Hs(e,t),i=Oa(r);this.chars.push(r);let s=e.slice(t,t+i),a=s.toUpperCase();this.folded.push(Hs(a==s?s.toLowerCase():a,0)),t+=i}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:a}=this;if(1==t.length){let Je=Hs(e,0),Ke=Oa(Je),at=Ke==e.length?0:-100;if(Je!=t[0]){if(Je!=r[0])return null;at+=-200}return[at,0,Ke]}let u=e.indexOf(this.pattern);if(0==u)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let h=t.length,g=0;if(u<0){for(let Je=0,Ke=Math.min(e.length,200);Je<Ke&&g<h;){let at=Hs(e,Je);(at==t[g]||at==r[g])&&(i[g++]=Je),Je+=Oa(at)}if(g<h)return null}let y=0,O=0,$=!1,K=0,re=-1,he=-1,xe=/[a-z]/.test(e),Pe=!0;for(let Je=0,Ke=Math.min(e.length,200),at=0;Je<Ke&&O<h;){let wt=Hs(e,Je);u<0&&(y<h&&wt==t[y]&&(s[y++]=Je),K<h&&(wt==t[K]||wt==r[K]?(0==K&&(re=Je),he=Je+1,K++):K=0));let St,Jt=wt<255?wt>=48&&wt<=57||wt>=97&&wt<=122?2:wt>=65&&wt<=90?1:0:(St=mC(wt))!=St.toLowerCase()?1:St!=St.toUpperCase()?2:0;(!Je||1==Jt&&xe||0==at&&0!=Jt)&&(t[O]==wt||r[O]==wt&&($=!0)?a[O++]=Je:a.length&&(Pe=!1)),at=Jt,Je+=Oa(wt)}return O==h&&0==a[0]&&Pe?this.result(($?-200:0)-100,a,e):K==h&&0==re?[-200-e.length+(he==e.length?0:-100),0,he]:u>-1?[-700-e.length,u,u+this.pattern.length]:K==h?[-900-e.length,re,he]:O==h?this.result(($?-200:0)-100-700+(Pe?0:-1100),a,e):2==t.length?null:this.result((i[0]?-700:0)-200-1100,i,e)}result(e,t,r){let i=[e-r.length],s=1;for(let a of t){let u=a+(this.astral?Oa(Hs(r,a)):1);s>1&&i[s-1]==a?i[s-1]=u:(i[s++]=a,i[s++]=u)}return i}}const Ba=dn.define({combine:n=>gl(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>PB(e(r),t(r)),optionClass:(e,t)=>r=>PB(e(r),t(r)),addToOptions:(e,t)=>e.concat(t)})});function PB(n,e){return n?e?n+" "+e:n:e}function NB(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class EJ{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:u=>this.positionInfo(u),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:i,selected:s}=r.open,a=e.state.facet(Ba);this.optionContent=function wJ(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i){let s=document.createElement("span");s.className="cm-completionLabel";let{label:a}=t,u=0;for(let h=1;h<i.length;){let g=i[h++],y=i[h++];g>u&&s.appendChild(document.createTextNode(a.slice(u,g)));let O=s.appendChild(document.createElement("span"));O.appendChild(document.createTextNode(a.slice(g,y))),O.className="cm-completionMatchedText",u=y}return u<a.length&&s.appendChild(document.createTextNode(a.slice(u))),s},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=NB(i.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{for(let g,h=u.target;h&&h!=this.dom;h=h.parentNode)if("LI"==h.nodeName&&(g=/-(\d+)$/.exec(h.id))&&+g[1]<i.length)return OB(e,i[+g[1]]),void u.preventDefault()}),this.list=this.dom.appendChild(this.createListBox(i,r.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){var t,r,i;let s=e.state.field(this.stateField),a=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=a&&(this.updateSel(),(null===(t=s.open)||void 0===t?void 0:t.disabled)!=(null===(r=a.open)||void 0===r?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!(null===(i=s.open)||void 0===i||!i.disabled)))}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=NB(t.options.length,t.selected,this.view.state.facet(Ba).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let s="string"==typeof i?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a)}).catch(a=>ca(this.view.state,a,"completion info")):this.addInfoPane(s)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&function SJ(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect();r.top<t.top?n.scrollTop-=t.top-r.top:r.bottom>t.bottom&&(n.scrollTop+=r.bottom-t.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let re=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:re.innerWidth,bottom:re.innerHeight}}if(i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10)return null;let g,a=this.view.textDirection==Si.RTL,u=a,h=!1,y="",O="",$=t.left-s.left,K=s.right-t.right;if(u&&$<Math.min(r.width,K)?u=!1:!u&&K<Math.min(r.width,$)&&(u=!0),r.width<=(u?$:K))y=Math.max(s.top,Math.min(i.top,s.bottom-r.height))-t.top+"px",g=Math.min(400,u?$:K)+"px";else{h=!0,g=Math.min(400,(a?t.right:s.right-t.left)-30)+"px";let re=s.bottom-t.bottom;re>=r.height||re>t.top?y=i.bottom-t.top+"px":O=t.bottom-i.top+"px"}return{top:y,bottom:O,maxWidth:g,class:h?a?"left-narrow":"right-narrow":u?"left":"right"}}positionInfo(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let s=r.from;s<r.to;s++){let{completion:a,match:u}=e[s];const h=i.appendChild(document.createElement("li"));h.id=t+"-"+s,h.setAttribute("role","option");let g=this.optionClass(a);g&&(h.className=g);for(let y of this.optionContent){let O=y(a,this.view.state,u);O&&h.appendChild(O)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}function LB(n){return 100*(n.boost||0)+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}class Bp{constructor(e,t,r,i,s,a){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=a}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Bp(this.options,FB(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s){let a=function DJ(n,e){let t=[],r=0;for(let u of n)if(u.hasResult())if(!1===u.result.filter){let h=u.result.getMatch;for(let g of u.result.options){let y=[1e9-r++];if(h)for(let O of h(g))y.push(O);t.push(new AB(g,u,y))}}else{let g,h=new xJ(e.sliceDoc(u.from,u.to));for(let y of u.result.options)(g=h.match(y.label))&&(null!=y.boost&&(g[0]+=y.boost),t.push(new AB(y,u,g)))}let i=[],s=null,a=e.facet(Ba).compareCompletions;for(let u of t.sort((h,g)=>g.match[0]-h.match[0]||a(h.completion,g.completion)))!s||s.label!=u.completion.label||s.detail!=u.completion.detail||null!=s.type&&null!=u.completion.type&&s.type!=u.completion.type||s.apply!=u.completion.apply?i.push(u):LB(u.completion)>LB(s)&&(i[i.length-1]=u),s=u.completion;return i}(e,t);if(!a.length)return i&&e.some(h=>1==h.state)?new Bp(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let u=t.facet(Ba).selectOnOpen?0:-1;if(i&&i.selected!=u&&-1!=i.selected){let h=i.options[i.selected].completion;for(let g=0;g<a.length;g++)if(a[g].completion==h){u=g;break}}return new Bp(a,FB(r,u),{pos:e.reduce((h,g)=>g.hasResult()?Math.min(h,g.from):h,1e8),create:(n=io,e=>new EJ(e,n)),above:s.aboveCursor},i?i.timestamp:Date.now(),u,!1);var n}map(e){return new Bp(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class ix{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new ix(AJ,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Ba),s=(r.override||t.languageDataAt("autocomplete",cd(t)).map(_J)).map(u=>(this.active.find(g=>g.source==u)||new Uo(u,this.active.some(g=>0!=g.state)?1:0)).update(e,r));s.length==this.active.length&&s.every((u,h)=>u==this.active[h])&&(s=this.active);let a=this.open;a&&e.docChanged&&(a=a.map(e.changes)),e.selection||s.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!function MJ(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;r<e.length&&!e[r].hasResult;)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}(s,this.active)?a=Bp.build(s,t,this.id,a,r):a&&a.disabled&&!s.some(u=>1==u.state)&&(a=null),!a&&s.every(u=>1!=u.state)&&s.some(u=>u.hasResult())&&(s=s.map(u=>u.hasResult()?new Uo(u.source,0):u));for(let u of e.effects)u.is(cD)&&(a=a&&a.setSelected(u.value,this.id));return s==this.active&&a==this.open?this:new ix(s,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:TJ}}const TJ={"aria-autocomplete":"list"};function FB(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const AJ=[];function aD(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class Uo{constructor(e,t,r=-1){this.source=e,this.state=t,this.explicitPos=r}hasResult(){return!1}update(e,t){let r=aD(e),i=this;r?i=i.handleUserEvent(e,r,t):e.docChanged?i=i.handleChange(e):e.selection&&0!=i.state&&(i=new Uo(i.source,0));for(let s of e.effects)if(s.is(lD))i=new Uo(i.source,1,s.value?cd(e.state):-1);else if(s.is(sx))i=new Uo(i.source,0);else if(s.is(BB))for(let a of s.value)a.source==i.source&&(i=a);return i}handleUserEvent(e,t,r){return"delete"!=t&&r.activateOnTyping?new Uo(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(cd(e.startState))?new Uo(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Uo(this.source,this.state,e.mapPos(this.explicitPos))}}class Dv extends Uo{constructor(e,t,r,i,s){super(e,2,t),this.result=r,this.from=i,this.to=s}hasResult(){return!0}handleUserEvent(e,t,r){var i;let s=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),u=cd(e.state);if((this.explicitPos<0?u<=s:u<this.from)||u>a||"delete"==t&&cd(e.startState)==this.from)return new Uo(this.source,"input"==t&&r.activateOnTyping?1:0);let g,h=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function IJ(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return"function"==typeof n?n(i,t,r,e):IB(n,!0).test(i)}(this.result.validFor,e.state,s,a)?new Dv(this.source,h,this.result,s,a):this.result.update&&(g=this.result.update(this.result,s,a,new MB(e.state,u,h>=0)))?new Dv(this.source,h,g,g.from,null!==(i=g.to)&&void 0!==i?i:cd(e.state)):new Uo(this.source,1,h)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Uo(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Dv(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const lD=lr.define(),sx=lr.define(),BB=lr.define({map:(n,e)=>n.map(t=>t.map(e))}),cD=lr.define(),io=es.define({create:()=>ix.start(),update:(n,e)=>n.update(e),provide:n=>[p_.from(n,e=>e.tooltip),zn.contentAttributes.from(n,e=>e.attrs)]});function ox(n,e="option"){return t=>{let r=t.state.field(io,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Ba).interactionDelay)return!1;let s,i=1;"page"==e&&(s=function PK(n,e){let t=n.plugin(dS);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,u=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:a-1;return u<0?u="page"==e?0:a-1:u>=a&&(u="page"==e?a-1:0),t.dispatch({effects:cD.of(u)}),!0}}class PJ{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const FJ=Ri.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(io).active)1==e.state&&this.startQuery(e)}update(n){let e=n.state.field(io);if(!n.selectionSet&&!n.docChanged&&n.startState.field(io)==e)return;let t=n.transactions.some(r=>(r.selection||r.docChanged)&&!aD(r));for(let r=0;r<this.running.length;r++){let i=this.running[r];if(t||i.updates.length+n.transactions.length>50&&Date.now()-i.time>1e3){for(let s of i.context.abortListeners)try{s()}catch(a){ca(this.view.state,a)}i.context.abortListeners=null,this.running.splice(r--,1)}else i.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(r=>1==r.state&&!this.running.some(i=>i.active.source==r.source))?setTimeout(()=>this.startUpdate(),50):-1,0!=this.composing)for(let r of n.transactions)"input"==aD(r)?this.composing=2:2==this.composing&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(io);for(let t of e.active)1==t.state&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=cd(e),r=new MB(e,t,n.explicitPos==t),i=new PJ(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:sx.of(null)}),ca(this.view.state,s)})}scheduleAccept(){this.running.every(n=>void 0!==n.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),50))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Ba);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(void 0===i.done)continue;if(this.running.splice(r--,1),i.done){let a=new Dv(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(n=i.done.to)&&void 0!==n?n:cd(i.updates.length?i.updates[0].startState:this.view.state));for(let u of i.updates)a=a.update(u,t);if(a.hasResult()){e.push(a);continue}}let s=this.view.state.field(io).active.find(a=>a.source==i.active.source);if(s&&1==s.state)if(null==i.done){let a=new Uo(i.active.source,0);for(let u of i.updates)a=a.update(u,t);1!=a.state&&e.push(a)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:BB.of(e)})}},{eventHandlers:{blur(){let n=this.view.state.field(io,!1);n&&n.tooltip&&this.view.state.facet(Ba).closeOnBlur&&this.view.dispatch({effects:sx.of(null)})},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:lD.of(!1)}),20),this.composing=0}}}),HB=zn.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1d465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1d436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1d461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1f511}\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Av={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Lh=lr.define({map:(n,e)=>e.mapPos(n,-1,xo.TrackAfter)??void 0}),fD=lr.define({map:(n,e)=>e.mapPos(n)}),pD=new class extends Sh{};pD.startSide=1,pD.endSide=-1;const YB=es.define({create:()=>Ci.empty,update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(r,-1)&&(n=Ci.empty)}n=n.map(e.changes);for(let t of e.effects)t.is(Lh)?n=n.update({add:[pD.range(t.value,t.value+1)]}):t.is(fD)&&(n=n.update({filter:r=>r!=t.value}));return n}}),mD="()[]{}<>";function XB(n){for(let e=0;e<mD.length;e+=2)if(mD.charCodeAt(e)==n)return mD.charAt(e+1);return mC(n<128?n:n+1)}function KB(n,e){return n.languageDataAt("closeBrackets",e)[0]||Av}const KJ="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),qJ=zn.inputHandler.of((n,e,t,r)=>{if((KJ?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||2==r.length&&1==Oa(Hs(r,0))||e!=i.from||t!=i.to)return!1;let s=function QJ(n,e){let t=KB(n,n.selection.main.head),r=t.brackets||Av.brackets;for(let i of r){let s=XB(Hs(i,0));if(e==i)return s==i?nee(n,i,r.indexOf(i+i+i)>-1,t):eee(n,i,s,t.before||Av.before);if(e==s&&qB(n,n.selection.main.from))return tee(n,0,s)}return null}(n.state,r);return!!s&&(n.dispatch(s),!0)}),ZJ=[{key:"Backspace",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=KB(n,n.selection.main.head).brackets||Av.brackets,i=null,s=n.changeByRange(a=>{if(a.empty){let u=function JJ(n,e){let t=n.sliceString(e-2,e);return Oa(Hs(t,0))==t.length?t:t.slice(1)}(n.doc,a.head);for(let h of r)if(h==u&&ax(n.doc,a.head)==XB(Hs(h,0)))return{changes:{from:a.head-h.length,to:a.head+h.length},range:Mt.cursor(a.head-h.length)}}return{range:i=a}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i}}];function qB(n,e){let t=!1;return n.field(YB).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function ax(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Oa(Hs(t,0)))}function eee(n,e,t,r){let i=null,s=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:t,from:a.to}],effects:Lh.of(a.to+e.length),range:Mt.range(a.anchor+e.length,a.head+e.length)};let u=ax(n.doc,a.head);return!u||/\s/.test(u)||r.indexOf(u)>-1?{changes:{insert:e+t,from:a.head},effects:Lh.of(a.head+e.length),range:Mt.cursor(a.head+e.length)}:{range:i=a}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function tee(n,e,t){let r=null,i=n.selection.ranges.map(s=>s.empty&&ax(n.doc,s.head)==t?Mt.cursor(s.head+t.length):r=s);return r?null:n.update({selection:Mt.create(i,n.selection.mainIndex),scrollIntoView:!0,effects:n.selection.ranges.map(({from:s})=>fD.of(s))})}function nee(n,e,t,r){let i=r.stringPrefixes||Av.stringPrefixes,s=null,a=n.changeByRange(u=>{if(!u.empty)return{changes:[{insert:e,from:u.from},{insert:e,from:u.to}],effects:Lh.of(u.to+e.length),range:Mt.range(u.anchor+e.length,u.head+e.length)};let y,h=u.head,g=ax(n.doc,h);if(g==e){if(ZB(n,h))return{changes:{insert:e+e,from:h},effects:Lh.of(h+e.length),range:Mt.cursor(h+e.length)};if(qB(n,h)){let O=t&&n.sliceDoc(h,h+3*e.length)==e+e+e;return{range:Mt.cursor(h+e.length*(O?3:1)),effects:fD.of(h)}}}else{if(t&&n.sliceDoc(h-2*e.length,h)==e+e&&(y=QB(n,h-2*e.length,i))>-1&&ZB(n,y))return{changes:{insert:e+e+e+e,from:h},effects:Lh.of(h+e.length),range:Mt.cursor(h+e.length)};if(n.charCategorizer(h)(g)!=gi.Word&&QB(n,h,i)>-1&&!function ree(n,e,t,r){let i=Ss(n).resolveInner(e,-1),s=r.reduce((a,u)=>Math.max(a,u.length),0);for(let a=0;a<5;a++){let u=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),h=u.indexOf(t);if(!h||h>-1&&r.indexOf(u.slice(0,h))>-1){let y=i.firstChild;for(;y&&y.from==i.from&&y.to-y.from>t.length+h;){if(n.sliceDoc(y.to-t.length,y.to)==t)return!1;y=y.firstChild}return!0}let g=i.to==e&&i.parent;if(!g)break;i=g}return!1}(n,h,e,i))return{changes:{insert:e+e,from:h},effects:Lh.of(h+e.length),range:Mt.cursor(h+e.length)}}return{range:s=u}});return s?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function ZB(n,e){let t=Ss(n).resolveInner(e+1);return t.parent&&t.from==e}function QB(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=gi.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=gi.Word)return s}return-1}function iee(n={}){return[io,Ba.of(n),FJ,see,HB]}const JB=[{key:"Ctrl-Space",run:n=>!!n.state.field(io,!1)&&(n.dispatch({effects:lD.of(!0)}),!0)},{key:"Escape",run:n=>{let e=n.state.field(io,!1);return!(!e||!e.active.some(t=>0!=t.state)||(n.dispatch({effects:sx.of(null)}),0))}},{key:"ArrowDown",run:ox(!0)},{key:"ArrowUp",run:ox(!1)},{key:"PageDown",run:ox(!0,"page")},{key:"PageUp",run:ox(!1,"page")},{key:"Enter",run:n=>{let e=n.state.field(io,!1);return!(n.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<n.state.facet(Ba).interactionDelay||(e.open.disabled||OB(n,e.open.options[e.open.selected]),0))}}],see=Ch.highest(c_.computeN([Ba],n=>n.facet(Ba).defaultKeymap?[JB]:[])),oee=(()=>[jK(),GK,uK(),YZ(),Zq(),eK(),[lv,iK],wo.allowMultipleSelections.of(!0),wo.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+200)return n;let s=t.sliceString(i.from,r);if(!e.some(g=>g.test(s)))return n;let{state:a}=n,u=-1,h=[];for(let{head:g}of a.selection.ranges){let y=a.doc.lineAt(g);if(y.from==u)continue;u=y.from;let O=O_(a,y.from);if(null==O)continue;let $=/^\s*/.exec(y.text)[0],K=Ap(a,O);$!=K&&h.push({from:y.from,to:y.from+$.length,insert:K})}return h.length?[n,{changes:h,sequential:!0}]:n}),RS(tZ,{fallback:!0}),aZ(),[qJ,YB],iee(),EK(),DK(),yK,KQ(),c_.of([...ZJ,...GQ,...pJ,...nQ,...Xq,...JB,...MZ])])(),gD="#2e3440",tV="#3b4252",nV="#434c5e",Hp="#4c566a",Iv="#d8dee9",Fh="#8fbcbb",rV="#88c0d0",mc="#5e81ac",iV="#d08770",vD="#ebcb8b",lx="#a3be8c",yD="#b48ead",sV="#d30102",xD=[zn.theme({"&":{color:Iv,backgroundColor:gD},".cm-content":{caretColor:Iv},".cm-cursor, .cm-dropCursor":{borderLeftColor:Iv},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Hp},".cm-panels":{backgroundColor:"#252a33",color:Hp},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"transparent",outline:`1px solid ${Fh}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:Iv,color:gD},".cm-activeLine":{backgroundColor:Hp},".cm-selectionMatch":{backgroundColor:"#e5e9f0",color:tV},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${Fh}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:"#eceff4",color:nV},".cm-gutters":{backgroundColor:gD,color:Hp,border:"none"},".cm-activeLineGutter":{backgroundColor:Hp,color:Iv},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tV},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tV,borderBottomColor:tV},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Hp,color:Hp}}},{dark:!0}),RS(kp.define([{tag:$e.keyword,color:mc},{tag:[$e.name,$e.deleted,$e.character,$e.propertyName,$e.macroName],color:rV},{tag:[$e.variableName],color:Fh},{tag:[$e.function($e.variableName)],color:Fh},{tag:[$e.labelName],color:"#81a1c1"},{tag:[$e.color,$e.constant($e.name),$e.standard($e.name)],color:mc},{tag:[$e.definition($e.name),$e.separator],color:lx},{tag:[$e.brace],color:Fh},{tag:[$e.annotation],color:sV},{tag:[$e.number,$e.changed,$e.annotation,$e.modifier,$e.self,$e.namespace],color:yD},{tag:[$e.typeName,$e.className],color:vD},{tag:[$e.operator,$e.operatorKeyword],color:lx},{tag:[$e.tagName],color:yD},{tag:[$e.squareBracket],color:"#bf616a"},{tag:[$e.angleBracket],color:iV},{tag:[$e.attributeName],color:vD},{tag:[$e.regexp],color:mc},{tag:[$e.quote],color:yD},{tag:[$e.string],color:lx},{tag:$e.link,color:lx,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[$e.url,$e.escape,$e.special($e.string)],color:Fh},{tag:[$e.meta],color:rV},{tag:[$e.monospace],color:Iv,fontStyle:"italic"},{tag:[$e.comment],color:Hp,fontStyle:"italic"},{tag:$e.strong,fontWeight:"bold",color:mc},{tag:$e.emphasis,fontStyle:"italic",color:mc},{tag:$e.strikethrough,textDecoration:"line-through"},{tag:$e.heading,fontWeight:"bold",color:mc},{tag:$e.special($e.heading1),fontWeight:"bold",color:mc},{tag:$e.heading1,fontWeight:"bold",color:mc},{tag:[$e.heading2,$e.heading3,$e.heading4],fontWeight:"bold",color:mc},{tag:[$e.heading5,$e.heading6],color:mc},{tag:[$e.atom,$e.bool,$e.special($e.variableName)],color:iV},{tag:[$e.processingInstruction,$e.inserted],color:Fh},{tag:[$e.contentSeparator],color:vD},{tag:$e.invalid,color:nV,borderBottom:`1px dotted ${sV}`}]))],aV="#2e3440",lV="#3b4252",cV="#434c5e",cx="#4c566a",wD="#e5e9f0",ED="#eceff4",CD="#8fbcbb",uV="#88c0d0",bl="#5e81ac",zp="#d08770",SD="#ebcb8b",dV="#a3be8c",hV="#d30102",Eee=[zn.theme({"&":{color:aV,backgroundColor:"#ffffff"},".cm-content":{caretColor:lV},".cm-cursor, .cm-dropCursor":{borderLeftColor:lV},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:ED},".cm-panels":{backgroundColor:ED,color:cx},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${cx}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:wD},".cm-activeLine":{backgroundColor:ED},".cm-selectionMatch":{backgroundColor:wD},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${cx}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:ED},".cm-gutters":{backgroundColor:ED,color:aV,border:"none"},".cm-activeLineGutter":{backgroundColor:ED},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:wD},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:wD,borderBottomColor:wD},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:ED,color:cx}}},{dark:!1}),RS(kp.define([{tag:$e.keyword,color:bl},{tag:[$e.name,$e.deleted,$e.character,$e.propertyName,$e.macroName],color:zp},{tag:[$e.variableName],color:zp},{tag:[$e.function($e.variableName)],color:bl},{tag:[$e.labelName],color:"#81a1c1"},{tag:[$e.color,$e.constant($e.name),$e.standard($e.name)],color:bl},{tag:[$e.definition($e.name),$e.separator],color:dV},{tag:[$e.brace],color:CD},{tag:[$e.annotation],color:hV},{tag:[$e.number,$e.changed,$e.annotation,$e.modifier,$e.self,$e.namespace],color:uV},{tag:[$e.typeName,$e.className],color:SD},{tag:[$e.operator,$e.operatorKeyword],color:dV},{tag:[$e.tagName],color:"#b48ead"},{tag:[$e.squareBracket],color:"#bf616a"},{tag:[$e.angleBracket],color:zp},{tag:[$e.attributeName],color:SD},{tag:[$e.regexp],color:bl},{tag:[$e.quote],color:lV},{tag:[$e.string],color:zp},{tag:$e.link,color:CD,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[$e.url,$e.escape,$e.special($e.string)],color:zp},{tag:[$e.meta],color:uV},{tag:[$e.comment],color:cV,fontStyle:"italic"},{tag:$e.strong,fontWeight:"bold",color:bl},{tag:$e.emphasis,fontStyle:"italic",color:bl},{tag:$e.strikethrough,textDecoration:"line-through"},{tag:$e.heading,fontWeight:"bold",color:bl},{tag:$e.special($e.heading1),fontWeight:"bold",color:bl},{tag:$e.heading1,fontWeight:"bold",color:bl},{tag:[$e.heading2,$e.heading3,$e.heading4],fontWeight:"bold",color:bl},{tag:[$e.heading5,$e.heading6],color:bl},{tag:[$e.atom,$e.bool,$e.special($e.variableName)],color:zp},{tag:[$e.processingInstruction,$e.inserted],color:CD},{tag:[$e.contentSeparator],color:SD},{tag:$e.invalid,color:cV,borderBottom:`1px dotted ${hV}`}]))];let AD=(()=>{class n{constructor(){this._darkMode=!1,this._darkMode$=new Gk(this._darkMode)}toggleDarkMode(){this._darkMode=!this._darkMode,this._darkMode$.next(this._darkMode)}darkMode(){return this._darkMode$.asObservable()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cee=["cm"];let See=(()=>{class n{set targetContent(t){t&&(this.editorSource=t.nativeElement,this.initEditor())}constructor(t){this.globalSettings=t,this.editorReady=new Promise(r=>{this.editorReadyPromiseResolve=r}),this.theme=xD,this.extensions=this.updateExtensions(),this.text="",this.docChangedDebounceTime=400,this.docChanged=new Wn,this.darkMode=!1,this.docValue$=new Te,this.invalidInput=!1}ngOnInit(){this.globalSettings.darkMode().subscribe(t=>{this.darkMode=t,this.updateTheme()}),this.docValue$.asObservable().pipe(Sg(this.docChangedDebounceTime)).subscribe(t=>{this.docChanged.emit(t)})}ngOnChanges(){this.setEditorContent(this.text)}initEditor(){null!=this.editorSource&&(this.view=new zn({state:wo.create({doc:this.text,extensions:this.extensions}),parent:this.editorSource}),this.editorReadyPromiseResolve())}setEditorContent(t){var r=this;return fh(function*(){if(yield r.editorReady,null==r.view)return;const i=wo.create({doc:t,extensions:r.extensions});r.view.setState(i)})()}updateTheme(){var t=this;return fh(function*(){if(yield t.editorReady,null==t.view)return;t.theme=t.darkMode?xD:Eee,t.updateExtensions();const r=wo.create({doc:t.view.state.doc,extensions:t.extensions});t.view.setState(r)})()}updateExtensions(){null==this.theme&&(this.theme=xD);const t=function TZ(n,e={}){return Ph.of({source:n,config:e})}(n=>{try{JSON.parse(n.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const t=function bZ(n,e){let t;return(t=n.message.match(/at position (\d+)/))?Math.min(+t[1],e.length):(t=n.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+t[1]).from+ +t[2]-1,e.length):0}(e,n.state.doc);return[{from:t,message:e.message,severity:"error",to:t}]}return[]});return this.extensions=[oee,zn.lineWrapping,new Aq(_Z),t,this.theme,zn.updateListener.of(r=>{if(r.docChanged)try{const i=JSON.parse(r.state.doc.toString());this.docValue$.next(i)}catch{this.invalidInput=!0}})],this.extensions}onSaveHandler(t){console.log("Save"),t.preventDefault()}onPasteHandler(t){console.log("Pasted")}}return n.\u0275fac=function(t){return new(t||n)(ze(AD))},n.\u0275cmp=si({type:n,selectors:[["im-poc1-rdf-editor"]],viewQuery:function(t,r){if(1&t&&wi(Cee,5),2&t){let i;mr(i=gr())&&(r.targetContent=i.first)}},hostBindings:function(t,r){1&t&&or("keydown.control.s",function(s){return r.onSaveHandler(s)},0,go)("keydown.control.v",function(s){return r.onPasteHandler(s)},!1,go)},inputs:{text:"text",docChangedDebounceTime:"docChangedDebounceTime"},outputs:{docChanged:"docChanged"},standalone:!0,features:[Gn,uh],decls:3,vars:2,consts:[[1,"container"],["cm",""]],template:function(t,r){1&t&&(on(0,"div",0),kr(1,"div",null,1),pn()),2&t&&jc("background-color",r.darkMode?"#2e3440":"white")},dependencies:[ka],styles:[".container[_ngcontent-%COMP%]{height:100%}"]}),n})();const Dee=["switch"],Mee=["*"],Tee=new Lt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),Aee={provide:aa,useExisting:ct(()=>mV),multi:!0};class pV{constructor(e,t){this.source=e,this.checked=t}}let Iee=0;const kee=gO(Og(o0(O1(class{constructor(n){this._elementRef=n}}))));let Oee=(()=>{class n extends kee{get required(){return this._required}set required(t){this._required=ti(t)}get checked(){return this._checked}set checked(t){this._checked=ti(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,r,i,s,a,u,h){super(t),this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=a,this._onChange=g=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new Wn,this.toggleChange=new Wn,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=a.color||"accent",this._noopAnimations="NoopAnimations"===u,this.id=this._uniqueId=`${h}${++Iee}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){Zm()},n.\u0275dir=en({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[Pn]}),n})(),mV=(()=>{class n extends Oee{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,r,i,s,a,u){super(t,r,i,s,a,u,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new pV(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new pV(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(I1),ze(Ho),xu("tabindex"),ze(Tee),ze(Ta,8))},n.\u0275cmp=si({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,r){if(1&t&&wi(Dee,5),2&t){let i;mr(i=gr())&&(r._switchElement=i.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(t,r){2&t&&(sg("id",r.id),mi("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Qr("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[Ar([Aee]),Pn],ngContentSelectors:Mee,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(t,r){if(1&t&&(oa(),on(0,"div",0)(1,"button",1,2),or("click",function(){return r._handleClick()}),kr(3,"div",3),on(4,"div",4)(5,"div",5)(6,"div",6),kr(7,"div",7),pn(),on(8,"div",8),kr(9,"div",9),pn(),on(10,"div",10),sf(),on(11,"svg",11),kr(12,"path",12),pn(),on(13,"svg",13),kr(14,"path",14),pn()()()()(),af(),on(15,"label",15),or("click",function(s){return s.stopPropagation()}),Yr(16),pn()()),2&t){const i=ng(2);Qr("mdc-form-field--align-end","before"==r.labelPosition),un(1),Qr("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),Qt("tabIndex",r.tabIndex)("disabled",r.disabled),mi("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),un(8),Qt("matRippleTrigger",i)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),un(6),Qt("for",r.buttonId),mi("id",r._labelId)}},dependencies:[vh],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),n})(),gV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({}),n})(),Nee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[gV,Vi,a0,ka,gV,Vi]}),n})();const Lee=["*",[["mat-toolbar-row"]]],Fee=["*","mat-toolbar-row"],Bee=Og(class{constructor(n){this._elementRef=n}});let Vee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=en({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Hee=(()=>{class n extends Bee{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(Cs),ze(tr))},n.\u0275cmp=si({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&Vo(i,Vee,5),2&t){let s;mr(s=gr())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Qr("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Pn],ngContentSelectors:Fee,decls:2,vars:0,template:function(t,r){1&t&&(oa(Lee),Yr(0),Yr(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),zee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[Vi,Vi]}),n})(),jee=(()=>{class n{constructor(t,r){this.document=t,this.globalSettings=r,this.darkMode=!1}ngOnInit(){this.globalSettings.darkMode().subscribe(t=>{this.darkMode=t,this.document.body.style.backgroundColor=t?"#bbb":"#eee"})}}return n.\u0275fac=function(t){return new(t||n)(ze(tr),ze(AD))},n.\u0275cmp=si({type:n,selectors:[["im-poc1-top-bar"]],standalone:!0,features:[uh],decls:9,vars:3,consts:[[1,"toolbar"],[1,"toggle"],[1,"mr-8"],[3,"checked","click"]],template:function(t,r){1&t&&(on(0,"mat-toolbar",0)(1,"h2"),Qs(2,"JSON-LD graph view"),pn(),on(3,"div",1)(4,"mat-icon",2),Qs(5,"brightness_5"),pn(),on(6,"mat-slide-toggle",3),or("click",function(){return r.globalSettings.toggleDarkMode()}),pn(),on(7,"mat-icon"),Qs(8,"bedtime"),pn()()()),2&t&&(Qr("dark",r.darkMode),un(6),Qt("checked",r.darkMode))},dependencies:[ka,zee,Hee,Nee,mV,B1,WO],styles:[".toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;box-shadow:#00000026 1.95px 1.95px 2.6px;background-color:#fff}.toggle[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:3px}.dark[_ngcontent-%COMP%]{color:#fff!important;background-color:#020b4a!important}@media screen and (max-width: 500px){h2[_ngcontent-%COMP%]{font-size:1em}}"]}),n})();const yV=(n,e=1)=>{const t=[['"',"'"],["':","!"],[",'","~"],["}",")","\\","\\"],["{","(","\\","\\"]],r=(i,s)=>{let a=new RegExp(`${(s[2]?s[2]:"")+s[0]}|${(s[3]?s[3]:"")+s[1]}`,"g");return i.replace(a,u=>u===s[0]?s[1]:s[0])};if(e)for(let i=0;i<t.length;++i)n=r(n,t[i]);else for(let i=t.length;i--;)n=r(n,t[i]);return n},Uee=[fp("fabToggler",[pp("inactive",eo({transform:"rotate(0deg)"})),pp("active",eo({transform:"rotate(225deg)"})),Ku("* <=> *",Xu("200ms cubic-bezier(0.4, 0.0, 0.2, 1)"))]),fp("speedDialStagger",[Ku("* => *",[D0(":enter",eo({opacity:0}),{optional:!0}),D0(":enter",function j$(n,e){return{type:12,timings:n,animation:e}}("40ms",[Xu("200ms cubic-bezier(0.4, 0.0, 0.2, 1)",tP([eo({opacity:0,transform:"translateY(10px)"}),eo({opacity:1,transform:"translateY(0)"})]))]),{optional:!0}),D0(":leave",Xu("200ms cubic-bezier(0.4, 0.0, 0.2, 1)",tP([eo({opacity:1}),eo({opacity:0})])),{optional:!0})])])],bV=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],_V=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Gee=["mat-fab",""],$ee=["mat-mini-fab",""],Yee=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Xee=Og(O1(o0(class{constructor(n){this._elementRef=n}})));let xV=(()=>{class n extends Xee{constructor(t,r,i,s){super(t),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=Xo(I1),this._isFab=!1;const a=t.nativeElement.classList;for(const u of Yee)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(h=>{a.add(h)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){Zm()},n.\u0275dir=en({type:n,viewQuery:function(t,r){if(1&t&&wi(vh,5),2&t){let i;mr(i=gr())&&(r.ripple=i.first)}},features:[Pn]}),n})();const wV=new Lt("mat-mdc-fab-default-options",{providedIn:"root",factory:EV});function EV(){return{color:"accent"}}const ux=EV();let qee=(()=>{class n extends xV{get extended(){return this._extended}set extended(t){this._extended=ti(t)}constructor(t,r,i,s,a){super(t,r,i,s),this._options=a,this._isFab=!0,this._options=this._options||ux,this.color=this.defaultColor=this._options.color||ux.color}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(Cs),ze(An),ze(Ta,8),ze(wV,8))},n.\u0275cmp=si({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(t,r){2&t&&(mi("disabled",r.disabled||null),Qr("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[Pn],attrs:Gee,ngContentSelectors:_V,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(oa(bV),kr(0,"span",0),Yr(1),on(2,"span",1),Yr(3,1),pn(),Yr(4,2),kr(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(Qr("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),un(6),Qt("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[vh],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),Zee=(()=>{class n extends xV{constructor(t,r,i,s,a){super(t,r,i,s),this._options=a,this._isFab=!0,this._options=this._options||ux,this.color=this.defaultColor=this._options.color||ux.color}}return n.\u0275fac=function(t){return new(t||n)(ze(Bn),ze(Cs),ze(An),ze(Ta,8),ze(wV,8))},n.\u0275cmp=si({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(t,r){2&t&&(mi("disabled",r.disabled||null),Qr("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Pn],attrs:$ee,ngContentSelectors:_V,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(oa(bV),kr(0,"span",0),Yr(1),on(2,"span",1),Yr(3,1),pn(),Yr(4,2),kr(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(Qr("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),un(6),Qt("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[vh],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),Qee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({imports:[Vi,a0,Vi]}),n})();const Jee=["tooltip"],CV=new Lt("mat-tooltip-scroll-strategy"),nte={provide:CV,deps:[mp],useFactory:function tte(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},ite=new Lt("mat-tooltip-default-options",{providedIn:"root",factory:function rte(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),SV="tooltip-panel",DV=ip({passive:!0});let ute=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=ti(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ti(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Js(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Js(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,r,i,s,a,u,h,g,y,O,$,K){this._overlay=t,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=s,this._ngZone=a,this._platform=u,this._ariaDescriber=h,this._focusMonitor=g,this._dir=O,this._defaultOptions=$,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Te,this._scrollStrategy=y,this._document=K,$&&($.position&&(this.position=$.position),$.positionAtOrigin&&(this.positionAtOrigin=$.positionAtOrigin),$.touchGestures&&(this.touchGestures=$.touchGestures)),O.change.pipe(Oi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Oi(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{t.removeEventListener(r,i,DV)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay(r);this._detach(),this._portal=this._portal||new _P(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=i.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Oi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(t):(r._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof Bn)return this._overlayRef;this._detach()}const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(Oi(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${SV}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Oi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Oi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Oi(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!sp(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const r=t.getConfig().positionStrategy,i=this._getOrigin(),s=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...s.main}),this._addOffset({...i.fallback,...s.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={originX:"end",originY:"center"});const{x:s,y:a}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:s,originY:a}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={overlayX:"start",overlayY:"center"});const{x:s,y:a}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(gh(1),Oi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){const{overlayY:r,originX:i,originY:s}=t;let a;if(a="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===s?"above":"below",a!==this._currentPosition){const u=this._overlayRef;if(u){const h=`${this._cssClassPrefix}-${SV}-`;u.removePanelClass(h+this._currentPosition),u.addPanelClass(h+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let r;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(r=t),this.show(void 0,r)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const r=t.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,DV)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const r=this._elementRef.nativeElement,i=r.style;("on"===t||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===t||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){Zm()},n.\u0275dir=en({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),dte=(()=>{class n extends ute{constructor(t,r,i,s,a,u,h,g,y,O,$,K){super(t,r,i,s,a,u,h,g,y,O,$,K),this._tooltipComponent=fte,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(t){const i=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=i?-8:8:"end"===t.originX&&(t.offsetX=i?8:-8),t}}return n.\u0275fac=function(t){return new(t||n)(ze(mp),ze(Bn),ze(Ug),ze(Ma),ze(An),ze(Cs),ze(YG),ze(I1),ze(CV),ze(Wc,8),ze(ite,8),ze(tr))},n.\u0275dir=en({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[Pn]}),n})(),hte=(()=>{class n{constructor(t,r){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Te,this._animationsDisabled="NoopAnimations"===r}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const r=this._tooltip.nativeElement,i=this._showAnimation,s=this._hideAnimation;if(r.classList.remove(t?s:i),r.classList.add(t?i:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(r);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(ze(Ho),ze(Ta,8))},n.\u0275dir=en({type:n}),n})(),fte=(()=>{class n extends hte{constructor(t,r,i){super(t,i),this._elementRef=r,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}}return n.\u0275fac=function(t){return new(t||n)(ze(Ho),ze(Bn),ze(Ta,8))},n.\u0275cmp=si({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,r){if(1&t&&wi(Jee,7),2&t){let i;mr(i=gr())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,r){1&t&&or("mouseleave",function(s){return r._handleMouseLeave(s)}),2&t&&jc("zoom",r.isVisible()?1:null)},features:[Pn],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(t,r){1&t&&(on(0,"div",0,1),or("animationend",function(s){return r._handleAnimationEnd(s)}),on(2,"div",2),Qs(3),pn()()),2&t&&(Qr("mdc-tooltip--multiline",r._isMultiline),Qt("ngClass",r.tooltipClass),un(3),Uc(r.message))},dependencies:[JE],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),pte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tr({type:n}),n.\u0275inj=jn({providers:[nte],imports:[u6,ka,PP,Vi,Vi,R0]}),n})();function mte(n,e){if(1&n){const t=Lu();on(0,"div",2),or("click",function(){return os(t),Ii(Hn().toggle())}),pn()}}function gte(n,e){if(1&n){const t=Lu();on(0,"button",7),or("click",function(){const s=os(t).$implicit;return Ii(Hn(2).onBtnClick(s))}),on(1,"mat-icon"),Qs(2),pn()()}if(2&n){const t=e.$implicit;Qt("matTooltip",t.tooltip),un(2),Uc(t.icon)}}const vte=function(n){return{value:n}};function yte(n,e){if(1&n){const t=Lu();on(0,"div",3)(1,"button",4),or("click",function(){return os(t),Ii(Hn().toggle())}),on(2,"mat-icon",5),Qs(3),pn()(),on(4,"div"),er(5,gte,3,2,"button",6),pn()()}if(2&n){const t=Hn();un(2),Qt("@fabToggler",HA(4,vte,t.fabTogglerState)),un(1),Uc(t.options.icon),un(1),Qt("@speedDialStagger",t.buttons.length),un(1),Qt("ngForOf",t.buttons)}}let bte=(()=>{class n{constructor(){this.clickedMenuItem=new Wn,this.buttons=[],this.fabTogglerState="inactive"}ngOnInit(){null!=this.options&&this.options.buttons.length>6&&this.options.buttons.splice(5,this.options.buttons.length-6)}showItems(){null!=this.options&&(this.fabTogglerState="active",this.buttons=this.options.buttons,console.log(this.buttons))}hideItems(){this.fabTogglerState="inactive",this.buttons=[]}toggle(){this.buttons.length?this.hideItems():this.showItems()}onBtnClick(t){this.toggle(),this.clickedMenuItem.emit(t.id)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=si({type:n,selectors:[["im-poc1-fab-menu"]],inputs:{options:"options"},outputs:{clickedMenuItem:"clickedMenuItem"},standalone:!0,features:[uh],decls:2,vars:2,consts:[["id","fab-dismiss",3,"click",4,"ngIf"],["class","fab-container",4,"ngIf"],["id","fab-dismiss",3,"click"],[1,"fab-container"],["mat-fab","",1,"fab-toggler",3,"click"],[1,"material-icons"],["mat-mini-fab","","class","fab-secondary","color","secondary",3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-mini-fab","","color","secondary",1,"fab-secondary",3,"matTooltip","click"]],template:function(t,r){1&t&&(er(0,mte,1,0,"div",0),er(1,yte,6,6,"div",1)),2&t&&(Qt("ngIf","active"===r.fabTogglerState),un(1),Qt("ngIf",r.options))},dependencies:[ka,bg,Vu,B1,WO,Qee,Zee,qee,pte,dte],styles:[".fab-container[_ngcontent-%COMP%]{position:fixed;bottom:15px;right:15px;z-index:100;display:flex;flex-direction:column-reverse;align-items:center}.fab-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;margin-bottom:5px}.fab-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:17px}.fab-toggler[_ngcontent-%COMP%]{float:right;z-index:100}#fab-dismiss[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:99}"],data:{animation:Uee}}),n})(),_te=(()=>{class n{constructor(t,r){this.globalSettings=t,this.rdfGraphService=r,this.graphData={"@context":{name:"http://schema.org/name",description:"http://schema.org/description",image:{"@id":"http://schema.org/image","@type":"@id"},geo:"http://schema.org/geo",latitude:{"@id":"http://schema.org/latitude","@type":"xsd:float"},longitude:{"@id":"http://schema.org/longitude","@type":"xsd:float"},xsd:"http://www.w3.org/2001/XMLSchema#"},name:"The Empire State Building",description:"The Empire State Building is a 102-story landmark in New York City.",image:"http://www.civil.usherbrooke.ca/cours/gci215a/empire-state-building.jpg",geo:{latitude:"40.75",longitude:"73.98"}},this.fabOptions={icon:"share",buttons:[{id:"permalink",icon:"link",tooltip:"Copy permalink"},{id:"image-png",icon:"image",tooltip:"Save image"}]},this.rdfText=JSON.stringify(this.graphData,null,2),this.darkMode=!1,this.isSmallScreen=!1}ngOnInit(){this.globalSettings.darkMode().subscribe(t=>{this.darkMode=t}),this.detectScreenSize(),this.getJSONFromURL()}getJSONFromURL(){const t=window.location.search,i=new URLSearchParams(t).get("d");if(null!=i){const s=(n=>{const e=(n=n.substring(0,n.length-1)).split("\x01");let t=e[0];if(e.length>1){let r=e[1];for(let i of r){let s=t.split(i);t=s.join(s.pop())}}return yV(t,0)})(i);this.graphData=JSON.parse(s),this.rdfText=JSON.stringify(this.graphData,null,2)}}onRDFDocUpdate(t){this.graphData=t}onShareMenuBtnClick(t){var r=this;return fh(function*(){if("permalink"===t){console.log("Create permalink");const i=window.location.href.split("?")[0],s=((n,e=50)=>{let i=[];for(let h=127;--h;)(h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||"-_.!~*'()".includes(String.fromCharCode(h)))&&i.push(String.fromCharCode(h));for(let h=32;h<255;++h){let g=String.fromCharCode(h);"\\"!=g&&!i.includes(g)&&i.unshift(g)}n=n.replace(new RegExp("\x01","g"),"");const a=((h,g)=>{let y=g.length,O="";const $=he=>encodeURI(encodeURIComponent(he)).replace(/%../g,"i").length,K=he=>{let xe=he.charCodeAt(0),Pe=he.charCodeAt(he.length-1);return xe>=56320&&xe<=57343||Pe>=55296&&Pe<=56319};let re={};for(let he=2;he<e;he++)for(let xe=0;xe<h.length-he;++xe){let Pe=h.substr(xe,he);if(re[Pe]||K(Pe))continue;let Je=1;for(let Ke=h.indexOf(Pe,xe+he);Ke>=0;++Je)Ke=h.indexOf(Pe,Ke+he);Je>1&&(re[Pe]=Je)}for(;;){for(;y--&&h.includes(g[y]););if(y<0)break;let xe,he=g[y],Pe=0,Je=$(he);for(let at in re){let wt=re[at],St=(wt-1)*$(at)-(wt+1)*Je;O.length||(St-=$("\x01")),St<=0?delete re[at]:St>Pe&&(xe=at,Pe=St)}if(!xe)break;h=h.split(xe).join(he)+he+xe,O=he+O;let Ke={};for(let at in re){let wt=at.split(xe).join(he),St=0;for(let Jt=h.indexOf(wt);Jt>=0;++St)Jt=h.indexOf(wt,Jt+wt.length);St>1&&(Ke[wt]=St)}re=Ke}return{a:h,b:O}})(n=yV(n),i);let u=a.a;return a.b.length&&(u+="\x01"+a.b),u+="_",u})(JSON.stringify(r.graphData));console.log(encodeURIComponent(s)),navigator.clipboard.writeText(`${i}?d=${encodeURIComponent(s)}`)}if("image-png"===t){const i=r.rdfGraphService.getCytoscape();if(null==i)return;const s=i.svg(),a="graph.svg",u=document.createElement("a");u.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(s)),u.setAttribute("download",a),u.click()}})()}onWindowResize(){this.detectScreenSize()}detectScreenSize(){this.isSmallScreen=window.innerWidth<500}}return n.\u0275fac=function(t){return new(t||n)(ze(AD),ze(BP))},n.\u0275cmp=si({type:n,selectors:[["im-poc1-root"]],hostBindings:function(t,r){1&t&&or("resize",function(s){return r.onWindowResize(s)},0,Nu)},standalone:!0,features:[uh],decls:9,vars:8,consts:[[1,"main"],[1,"split-container"],[3,"direction"],[3,"size"],[3,"text","docChanged"],[3,"data"],[3,"options","clickedMenuItem"]],template:function(t,r){1&t&&(kr(0,"im-poc1-top-bar"),on(1,"div",0)(2,"div",1)(3,"as-split",2)(4,"as-split-area",3)(5,"im-poc1-rdf-editor",4),or("docChanged",function(s){return r.onRDFDocUpdate(s)}),pn()(),on(6,"as-split-area",3),kr(7,"im-poc1-graph",5),pn()()()(),on(8,"im-poc1-fab-menu",6),or("clickedMenuItem",function(s){return r.onShareMenuBtnClick(s)}),pn()),2&t&&(un(2),jc("background-color",r.darkMode?"#595959":"white"),un(1),Qt("direction",r.isSmallScreen?"vertical":"horizontal"),un(1),Qt("size",40),un(1),Qt("text",r.rdfText),un(1),Qt("size",60),un(1),Qt("data",r.graphData),un(1),Qt("options",r.fabOptions))},dependencies:[fY,See,aG,zk,oG,jee,bte],styles:[".split-container[_ngcontent-%COMP%]{width:calc(100% - 20px);height:calc(100vh - 200px);box-shadow:#00000026 1.95px 1.95px 2.6px;border-radius:10px;padding:10px}.main[_ngcontent-%COMP%]{padding:50px}@media screen and (max-width: 500px){.main[_ngcontent-%COMP%]{padding:5px}.split-container[_ngcontent-%COMP%]{width:calc(100% - 20px);height:calc(100vh - 75px)}}"]}),n})();function MV(n){return new Ze(3e3,!1)}function tne(){return typeof window<"u"&&typeof window.document<"u"}function ID(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ud(n){switch(n.length){case 0:return new zg;case 1:return n[0];default:return new rP(n)}}function TV(n,e,t,r,i=new Map,s=new Map){const a=[],u=[];let h=-1,g=null;if(r.forEach(y=>{const O=y.get("offset"),$=O==h,K=$&&g||new Map;y.forEach((re,he)=>{let xe=he,Pe=re;if("offset"!==he)switch(xe=e.normalizePropertyName(xe,a),Pe){case aC:Pe=i.get(he);break;case Xc:Pe=s.get(he);break;default:Pe=e.normalizeStyleValue(he,xe,Pe,a)}K.set(xe,Pe)}),$||u.push(K),g=K,h=O}),a.length)throw function Ute(n){return new Ze(3502,!1)}();return u}function kD(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&OD(t,"start",n)));break;case"done":n.onDone(()=>r(t&&OD(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&OD(t,"destroy",n)))}}function OD(n,e,t){const s=RD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),a=n._data;return null!=a&&(s._data=a),s}function RD(n,e,t,r,i="",s=0,a){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!a}}function fa(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function AV(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let PD=(n,e)=>!1,IV=(n,e,t)=>[],kV=null;function ND(n){const e=n.parentNode||n.host;return e===kV?null:e}(ID()||typeof Element<"u")&&(tne()?(kV=(()=>document.documentElement)(),PD=(n,e)=>{for(;e;){if(e===n)return!0;e=ND(e)}return!1}):PD=(n,e)=>n.contains(e),IV=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Bh=null,OV=!1;const RV=PD,PV=IV;let NV=(()=>{class n{validateStyleProperty(t){return function rne(n){Bh||(Bh=function ine(){return typeof document<"u"?document.body:null}()||{},OV=!!Bh.style&&"WebkitAppearance"in Bh.style);let e=!0;return Bh.style&&!function nne(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Bh.style,!e&&OV&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Bh.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return RV(t,r)}getParentElement(t){return ND(t)}query(t,r,i){return PV(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,a,u=[],h){return new zg(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})(),LD=(()=>{class n{}return n.NOOP=new NV,n})();const sne=1e3,FD="ng-enter",dx="ng-leave",hx="ng-trigger",fx=".ng-trigger",FV="ng-animating",BD=".ng-animating";function eu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:VD(parseFloat(e[1]),e[2])}function VD(n,e){return"s"===e?n*sne:n}function px(n,e,t){return n.hasOwnProperty("duration")?n:function ane(n,e,t){let i,s=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return e.push(MV()),{duration:0,delay:0,easing:""};i=VD(parseFloat(u[1]),u[2]);const h=u[3];null!=h&&(s=VD(parseFloat(h),u[4]));const g=u[5];g&&(a=g)}else i=n;if(!t){let u=!1,h=e.length;i<0&&(e.push(function xte(){return new Ze(3100,!1)}()),u=!0),s<0&&(e.push(function wte(){return new Ze(3101,!1)}()),u=!0),u&&e.splice(h,0,MV())}return{duration:i,delay:s,easing:a}}(n,e,t)}function kv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function BV(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function dd(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function HV(n,e,t){return t?e+":"+t+";":""}function zV(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=HV(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=HV(0,dne(t),n.style[t]));n.setAttribute("style",e)}function gc(n,e,t){n.style&&(e.forEach((r,i)=>{const s=zD(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),ID()&&zV(n))}function Vh(n,e){n.style&&(e.forEach((t,r)=>{const i=zD(r);n.style[i]=""}),ID()&&zV(n))}function Ov(n){return Array.isArray(n)?1==n.length?n[0]:eP(n):n}const HD=new RegExp("{{\\s*(.+?)\\s*}}","g");function jV(n){let e=[];if("string"==typeof n){let t;for(;t=HD.exec(n);)e.push(t[1]);HD.lastIndex=0}return e}function Rv(n,e,t){const r=n.toString(),i=r.replace(HD,(s,a)=>{let u=e[a];return null==u&&(t.push(function Cte(n){return new Ze(3003,!1)}()),u=""),u.toString()});return i==r?n:i}function mx(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const une=/-+([a-z0-9])/g;function zD(n){return n.replace(une,(...e)=>e[1].toUpperCase())}function dne(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ste(n){return new Ze(3004,!1)}()}}function UV(n,e){return window.getComputedStyle(n)[e]}const yx="*";function vne(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function yne(n,e,t){if(":"==n[0]){const h=function bne(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Vte(n){return new Ze(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof h)return void e.push(h);n=h}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Bte(n){return new Ze(3015,!1)}()),e;const i=r[1],s=r[2],a=r[3];e.push(GV(i,a));"<"==s[0]&&!(i==yx&&a==yx)&&e.push(GV(a,i))}(r,t,e)):t.push(n),t}const bx=new Set(["true","1"]),_x=new Set(["false","0"]);function GV(n,e){const t=bx.has(n)||_x.has(n),r=bx.has(e)||_x.has(e);return(i,s)=>{let a=n==yx||n==i,u=e==yx||e==s;return!a&&t&&"boolean"==typeof i&&(a=i?bx.has(n):_x.has(n)),!u&&r&&"boolean"==typeof s&&(u=s?bx.has(e):_x.has(e)),a&&u}}const _ne=new RegExp("s*:selfs*,?","g");function jD(n,e,t,r){return new xne(n).build(e,t,r)}class xne{constructor(e){this._driver=e}build(e,t,r){const i=new Cne(t);return this._resetContextStyleTimingState(i),pa(this,Ov(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function Mte(){return new Ze(3006,!1)}()),e.definitions.forEach(u=>{if(this._resetContextStyleTimingState(t),0==u.type){const h=u,g=h.name;g.toString().split(/\s*,\s*/).forEach(y=>{h.name=y,s.push(this.visitState(h,t))}),h.name=g}else if(1==u.type){const h=this.visitTransition(u,t);r+=h.queryCount,i+=h.depCount,a.push(h)}else t.errors.push(function Tte(){return new Ze(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:a,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,a=i||{};r.styles.forEach(u=>{u instanceof Map&&u.forEach(h=>{jV(h).forEach(g=>{a.hasOwnProperty(g)||s.add(g)})})}),s.size&&(mx(s.values()),t.errors.push(function Ate(n,e){return new Ze(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=pa(this,Ov(e.animation),t);return{type:1,matchers:vne(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Hh(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>pa(this,r,t)),options:Hh(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(a=>{t.currentTime=r;const u=pa(this,a,t);return i=Math.max(i,t.currentTime),u});return t.currentTime=i,{type:3,steps:s,options:Hh(e.options)}}visitAnimate(e,t){const r=function Dne(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return UD(px(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=UD(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=px(t,e);return UD(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:eo({});if(5==s.type)i=this.visitKeyframes(s,t);else{let a=e.styles,u=!1;if(!a){u=!0;const g={};r.easing&&(g.easing=r.easing),a=eo(g)}t.currentTime+=r.duration+r.delay;const h=this.visitStyle(a,t);h.isEmptyStep=u,i=h}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let u of i)"string"==typeof u?u===Xc?r.push(u):t.errors.push(new Ze(3002,!1)):r.push(BV(u));let s=!1,a=null;return r.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(a=u.get("easing"),u.delete("easing")),!s))for(let h of u.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{const g=t.collectedStyles.get(t.currentQuerySelector),y=g.get(h);let O=!0;y&&(s!=i&&s>=y.startTime&&i<=y.endTime&&(t.errors.push(function kte(n,e,t,r,i){return new Ze(3010,!1)}()),O=!1),s=y.startTime),O&&g.set(h,{startTime:s,endTime:i}),t.options&&function cne(n,e,t){const r=e.params||{},i=jV(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Ete(n){return new Ze(3001,!1)}())})}(u,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Ote(){return new Ze(3011,!1)}()),r;let s=0;const a=[];let u=!1,h=!1,g=0;const y=e.steps.map(Pe=>{const Je=this._makeStyleAst(Pe,t);let Ke=null!=Je.offset?Je.offset:function Sne(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Je.styles),at=0;return null!=Ke&&(s++,at=Je.offset=Ke),h=h||at<0||at>1,u=u||at<g,g=at,a.push(at),Je});h&&t.errors.push(function Rte(){return new Ze(3012,!1)}()),u&&t.errors.push(function Pte(){return new Ze(3200,!1)}());const O=e.steps.length;let $=0;s>0&&s<O?t.errors.push(function Nte(){return new Ze(3202,!1)}()):0==s&&($=1/(O-1));const K=O-1,re=t.currentTime,he=t.currentAnimateTimings,xe=he.duration;return y.forEach((Pe,Je)=>{const Ke=$>0?Je==K?1:$*Je:a[Je],at=Ke*xe;t.currentTime=re+he.delay+at,he.duration=at,this._validateStyleAst(Pe,t),Pe.offset=Ke,r.styles.push(Pe)}),r}visitReference(e,t){return{type:8,animation:pa(this,Ov(e.animation),t),options:Hh(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Hh(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Hh(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,a]=function wne(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(_ne,"")),n=n.replace(/@\*/g,fx).replace(/@\w+/g,t=>fx+"-"+t.slice(1)).replace(/:animating/g,BD),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,fa(t.collectedStyles,t.currentQuerySelector,new Map);const u=pa(this,Ov(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:u,originalSelector:e.selector,options:Hh(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Lte(){return new Ze(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:px(e.timings,t.errors,!0);return{type:12,animation:pa(this,Ov(e.animation),t),timings:r,options:null}}}class Cne{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hh(n){return n?(n=kv(n)).params&&(n.params=function Ene(n){return n?kv(n):null}(n.params)):n={},n}function UD(n,e,t){return{duration:n,delay:e,easing:t}}function GD(n,e,t,r,i,s,a=null,u=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:u}}class xx{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Ane=new RegExp(":enter","g"),kne=new RegExp(":leave","g");function $D(n,e,t,r,i,s=new Map,a=new Map,u,h,g=[]){return(new One).buildKeyframes(n,e,t,r,i,s,a,u,h,g)}class One{buildKeyframes(e,t,r,i,s,a,u,h,g,y=[]){g=g||new xx;const O=new WD(e,t,g,i,s,y,[]);O.options=h;const $=h.delay?eu(h.delay):0;O.currentTimeline.delayNextStep($),O.currentTimeline.setStyles([a],null,O.errors,h),pa(this,r,O);const K=O.timelines.filter(re=>re.containsAnimation());if(K.length&&u.size){let re;for(let he=K.length-1;he>=0;he--){const xe=K[he];if(xe.element===t){re=xe;break}}re&&!re.allowOnlyTimelineStyles()&&re.setStyles([u],null,O.errors,h)}return K.length?K.map(re=>re.buildKeyframes()):[GD(t,[],[],[],0,$,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const a="number"==typeof s?s:eu(Rv(s,i?.params??{},t.errors));r.delayNextStep(a)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const a=null!=r.duration?eu(r.duration):null,u=null!=r.delay?eu(r.delay):null;return 0!==a&&e.forEach(h=>{const g=t.appendInstructionToTimeline(h,a,u);s=Math.max(s,g.duration+g.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),pa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=wx);const a=eu(s.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>pa(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?eu(e.options.delay):0;e.steps.forEach(a=>{const u=t.createSubContext(e.options);s&&u.delayNextStep(s),pa(this,a,u),i=Math.max(i,u.currentTimeline.currentTime),r.push(u.currentTimeline)}),r.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return px(t.params?Rv(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,u=t.createSubContext().currentTimeline;u.easing=r.easing,e.styles.forEach(h=>{u.forwardTime((h.offset||0)*s),u.setStyles(h.styles,h.easing,t.errors,t.options),u.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(u),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?eu(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=wx);let a=r;const u=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=u.length;let h=null;u.forEach((g,y)=>{t.currentQueryIndex=y;const O=t.createSubContext(e.options,g);s&&O.delayNextStep(s),g===t.element&&(h=O.currentTimeline),pa(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),h&&(t.currentTimeline.mergeTimelineCollectedStyles(h),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,a=Math.abs(s.duration),u=a*(t.currentQueryTotal-1);let h=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=u-h;break;case"full":h=r.currentStaggerTime}const y=t.currentTimeline;h&&y.delayNextStep(h);const O=y.currentTime;pa(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-O+(i.startTime-r.currentTimeline.startTime)}}const wx={};class WD{constructor(e,t,r,i,s,a,u,h){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new Ex(this._driver,t,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=eu(r.duration)),null!=r.delay&&(i.delay=eu(r.delay));const s=r.params;if(s){let a=i.params;a||(a=this.options.params={}),Object.keys(s).forEach(u=>{(!t||!a.hasOwnProperty(u))&&(a[u]=Rv(s[u],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new WD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=wx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Rne(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,a){let u=[];if(i&&u.push(this.element),e.length>0){e=(e=e.replace(Ane,"."+this._enterClassName)).replace(kne,"."+this._leaveClassName);let g=this._driver.query(this.element,e,1!=r);0!==r&&(g=r<0?g.slice(g.length+r,g.length):g.slice(0,r)),u.push(...g)}return!s&&0==u.length&&a.push(function Fte(n){return new Ze(3014,!1)}()),u}}class Ex{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ex(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Xc),this._currentKeyframe.set(t,Xc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},a=function Pne(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Xc)}else dd(i,t)}),t}(e,this._globalTimelineStyles);for(let[u,h]of a){const g=Rv(h,s,r);this._pendingStyles.set(u,g),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??Xc),this._updateStyle(u,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((u,h)=>{const g=dd(u,new Map,this._backFill);g.forEach((y,O)=>{y===aC?e.add(O):y===Xc&&t.add(O)}),r||g.set("offset",h/this.duration),i.push(g)});const s=e.size?mx(e.values()):[],a=t.size?mx(t.values()):[];if(r){const u=i[0],h=new Map(u);u.set("offset",0),h.set("offset",1),i=[u,h]}return GD(this.element,i,s,a,this.duration,this.startTime,this.easing,!1)}}class Rne extends Ex{constructor(e,t,r,i,s,a,u=!1){super(e,t,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],a=r+t,u=t/a,h=dd(e[0]);h.set("offset",0),s.push(h);const g=dd(e[0]);g.set("offset",YV(u)),s.push(g);const y=e.length-1;for(let O=1;O<=y;O++){let $=dd(e[O]);const K=$.get("offset");$.set("offset",YV((t+K*r)/a)),s.push($)}r=a,t=0,i="",e=s}return GD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function YV(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class YD{}const Nne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Lne extends YD{normalizePropertyName(e,t){return zD(e)}normalizeStyleValue(e,t,r,i){let s="";const a=r.toString().trim();if(Nne.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const u=r.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&i.push(function Dte(n,e){return new Ze(3005,!1)}())}return a+s}}function XV(n,e,t,r,i,s,a,u,h,g,y,O,$){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:a,timelines:u,queriedElements:h,preStyleProps:g,postStyleProps:y,totalTime:O,errors:$}}const XD={};class KV{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Fne(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,a,u,h,g,y){const O=[],$=this.ast.options&&this.ast.options.params||XD,re=this.buildStyles(r,u&&u.params||XD,O),he=h&&h.params||XD,xe=this.buildStyles(i,he,O),Pe=new Set,Je=new Map,Ke=new Map,at="void"===i,wt={params:Bne(he,$),delay:this.ast.options?.delay},St=y?[]:$D(e,t,this.ast.animation,s,a,re,xe,wt,g,O);let Jt=0;if(St.forEach(Mn=>{Jt=Math.max(Mn.duration+Mn.delay,Jt)}),O.length)return XV(t,this._triggerName,r,i,at,re,xe,[],[],Je,Ke,Jt,O);St.forEach(Mn=>{const In=Mn.element,Xr=fa(Je,In,new Set);Mn.preStyleProps.forEach(yi=>Xr.add(yi));const ui=fa(Ke,In,new Set);Mn.postStyleProps.forEach(yi=>ui.add(yi)),In!==t&&Pe.add(In)});const vr=mx(Pe.values());return XV(t,this._triggerName,r,i,at,re,xe,St,vr,Je,Ke,Jt)}}function Bne(n,e){const t=kv(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Vne{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=kv(this.defaultParams);return Object.keys(e).forEach(s=>{const a=e[s];null!==a&&(i[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,u)=>{a&&(a=Rv(a,i,t));const h=this.normalizer.normalizePropertyName(u,t);a=this.normalizer.normalizeStyleValue(u,h,a,t),r.set(u,a)})}),r}}class zne{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Vne(i.style,i.options&&i.options.params||{},r))}),qV(this.states,"true","1"),qV(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new KV(e,i,this.states))}),this.fallbackTransition=function jne(n,e,t){return new KV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(a=>a.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function qV(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Une=new xx;class Gne{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=jD(this._driver,t,r,i);if(r.length)throw function Gte(n){return new Ze(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=TV(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let a;const u=new Map;if(s?(a=$D(this._driver,t,s,FD,dx,new Map,new Map,r,Une,i),a.forEach(y=>{const O=fa(u,y.element,new Map);y.postStyleProps.forEach($=>O.set($,null))})):(i.push(function $te(){return new Ze(3300,!1)}()),a=[]),i.length)throw function Wte(n){return new Ze(3504,!1)}();u.forEach((y,O)=>{y.forEach(($,K)=>{y.set(K,this._driver.computeStyle(O,K,Xc))})});const g=ud(a.map(y=>{const O=u.get(y.element);return this._buildPlayer(y,new Map,O)}));return this._playersById.set(e,g),g.onDestroy(()=>this.destroy(e)),this.players.push(g),g}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Yte(n){return new Ze(3301,!1)}();return t}listen(e,t,r,i){const s=RD(t,"","","");return kD(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const ZV="ng-animate-queued",KD="ng-animate-disabled",Kne=[],QV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Va="__ng_removed";class qD{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function ere(n){return n??null}(r?e.value:e),r){const s=kv(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Pv="void",ZD=new qD(Pv);class Zne{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ha(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Xte(n,e){return new Ze(3302,!1)}();if(null==r||0==r.length)throw function Kte(n){return new Ze(3303,!1)}();if(!function tre(n){return"start"==n||"done"==n}(r))throw function qte(n,e){return new Ze(3400,!1)}();const s=fa(this._elementListeners,e,[]),a={name:t,phase:r,callback:i};s.push(a);const u=fa(this._engine.statesByElement,e,new Map);return u.has(t)||(Ha(e,hx),Ha(e,hx+"-"+t),u.set(t,ZD)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(a);h>=0&&s.splice(h,1),this._triggers.has(t)||u.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Zte(n){return new Ze(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),a=new QD(this.id,t,e);let u=this._engine.statesByElement.get(e);u||(Ha(e,hx),Ha(e,hx+"-"+t),this._engine.statesByElement.set(e,u=new Map));let h=u.get(t);const g=new qD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&h&&g.absorbOptions(h.options),u.set(t,g),h||(h=ZD),g.value!==Pv&&h.value===g.value){if(!function ire(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(h.params,g.params)){const he=[],xe=s.matchStyles(h.value,h.params,he),Pe=s.matchStyles(g.value,g.params,he);he.length?this._engine.reportError(he):this._engine.afterFlush(()=>{Vh(e,xe),gc(e,Pe)})}return}const $=fa(this._engine.playersByElement,e,[]);$.forEach(he=>{he.namespaceId==this.id&&he.triggerName==t&&he.queued&&he.destroy()});let K=s.matchTransition(h.value,g.value,e,g.params),re=!1;if(!K){if(!i)return;K=s.fallbackTransition,re=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:K,fromState:h,toState:g,player:a,isFallbackTransition:re}),re||(Ha(e,ZV),a.onStart(()=>{jp(e,ZV)})),a.onDone(()=>{let he=this.players.indexOf(a);he>=0&&this.players.splice(he,1);const xe=this._engine.playersByElement.get(e);if(xe){let Pe=xe.indexOf(a);Pe>=0&&xe.splice(Pe,1)}}),this.players.push(a),$.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,fx,!0);r.forEach(i=>{if(i[Va])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),a=new Map;if(s){const u=[];if(s.forEach((h,g)=>{if(a.set(g,h.value),this._triggers.has(g)){const y=this.trigger(e,g,Pv,i);y&&u.push(y)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),r&&ud(u).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const a=s.name;if(i.has(a))return;i.add(a);const h=this._triggers.get(a).fallbackTransition,g=r.get(a)||ZD,y=new qD(Pv),O=new QD(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:h,fromState:g,toState:y,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let a=e;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Va];(!s||s===QV)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ha(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,a=this._elementListeners.get(s);a&&a.forEach(u=>{if(u.name==r.triggerName){const h=RD(s,r.triggerName,r.fromState.value,r.toState.value);h._data=e,kD(r.player,u.phase,h,u.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,a=i.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Qne{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Zne(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,u=this.driver.getParentElement(t);for(;u;){const h=i.get(u);if(h){const g=r.indexOf(h);r.splice(g+1,0,e),a=!0;break}u=this.driver.getParentElement(u)}a||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Cx(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Cx(t))return;const s=t[Va];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ha(e,KD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),jp(e,KD))}removeNode(e,t,r,i){if(Cx(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Va]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Cx(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,fx,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,BD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ud(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Va];if(t&&t.setForRemoval){if(e[Va]=QV,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(KD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ha(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ud(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Qte(n){return new Ze(3402,!1)}()}_flushAnimations(e,t){const r=new xx,i=[],s=new Map,a=[],u=new Map,h=new Map,g=new Map,y=new Set;this.disabledNodes.forEach(Gt=>{y.add(Gt);const ln=this.driver.query(Gt,".ng-animate-queued",!0);for(let cn=0;cn<ln.length;cn++)y.add(ln[cn])});const O=this.bodyNode,$=Array.from(this.statesByElement.keys()),K=t5($,this.collectedEnterElements),re=new Map;let he=0;K.forEach((Gt,ln)=>{const cn=FD+he++;re.set(ln,cn),Gt.forEach(bn=>Ha(bn,cn))});const xe=[],Pe=new Set,Je=new Set;for(let Gt=0;Gt<this.collectedLeaveElements.length;Gt++){const ln=this.collectedLeaveElements[Gt],cn=ln[Va];cn&&cn.setForRemoval&&(xe.push(ln),Pe.add(ln),cn.hasAnimation?this.driver.query(ln,".ng-star-inserted",!0).forEach(bn=>Pe.add(bn)):Je.add(ln))}const Ke=new Map,at=t5($,Array.from(Pe));at.forEach((Gt,ln)=>{const cn=dx+he++;Ke.set(ln,cn),Gt.forEach(bn=>Ha(bn,cn))}),e.push(()=>{K.forEach((Gt,ln)=>{const cn=re.get(ln);Gt.forEach(bn=>jp(bn,cn))}),at.forEach((Gt,ln)=>{const cn=Ke.get(ln);Gt.forEach(bn=>jp(bn,cn))}),xe.forEach(Gt=>{this.processLeaveNode(Gt)})});const wt=[],St=[];for(let Gt=this._namespaceList.length-1;Gt>=0;Gt--)this._namespaceList[Gt].drainQueuedTransitions(t).forEach(cn=>{const bn=cn.player,cr=cn.element;if(wt.push(bn),this.collectedEnterElements.length){const so=cr[Va];if(so&&so.setForMove){if(so.previousTriggersValues&&so.previousTriggersValues.has(cn.triggerName)){const zh=so.previousTriggersValues.get(cn.triggerName),za=this.statesByElement.get(cn.element);if(za&&za.has(cn.triggerName)){const Mx=za.get(cn.triggerName);Mx.value=zh,za.set(cn.triggerName,Mx)}}return void bn.destroy()}}const Ds=!O||!this.driver.containsElement(O,cr),ns=Ke.get(cr),ma=re.get(cr),ii=this._buildInstruction(cn,r,ma,ns,Ds);if(ii.errors&&ii.errors.length)return void St.push(ii);if(Ds)return bn.onStart(()=>Vh(cr,ii.fromStyles)),bn.onDestroy(()=>gc(cr,ii.toStyles)),void i.push(bn);if(cn.isFallbackTransition)return bn.onStart(()=>Vh(cr,ii.fromStyles)),bn.onDestroy(()=>gc(cr,ii.toStyles)),void i.push(bn);const c5=[];ii.timelines.forEach(so=>{so.stretchStartingKeyframe=!0,this.disabledNodes.has(so.element)||c5.push(so)}),ii.timelines=c5,r.append(cr,ii.timelines),a.push({instruction:ii,player:bn,element:cr}),ii.queriedElements.forEach(so=>fa(u,so,[]).push(bn)),ii.preStyleProps.forEach((so,zh)=>{if(so.size){let za=h.get(zh);za||h.set(zh,za=new Set),so.forEach((Mx,eM)=>za.add(eM))}}),ii.postStyleProps.forEach((so,zh)=>{let za=g.get(zh);za||g.set(zh,za=new Set),so.forEach((Mx,eM)=>za.add(eM))})});if(St.length){const Gt=[];St.forEach(ln=>{Gt.push(function Jte(n,e){return new Ze(3505,!1)}())}),wt.forEach(ln=>ln.destroy()),this.reportError(Gt)}const Jt=new Map,vr=new Map;a.forEach(Gt=>{const ln=Gt.element;r.has(ln)&&(vr.set(ln,ln),this._beforeAnimationBuild(Gt.player.namespaceId,Gt.instruction,Jt))}),i.forEach(Gt=>{const ln=Gt.element;this._getPreviousPlayers(ln,!1,Gt.namespaceId,Gt.triggerName,null).forEach(bn=>{fa(Jt,ln,[]).push(bn),bn.destroy()})});const Mn=xe.filter(Gt=>r5(Gt,h,g)),In=new Map;e5(In,this.driver,Je,g,Xc).forEach(Gt=>{r5(Gt,h,g)&&Mn.push(Gt)});const ui=new Map;K.forEach((Gt,ln)=>{e5(ui,this.driver,new Set(Gt),h,aC)}),Mn.forEach(Gt=>{const ln=In.get(Gt),cn=ui.get(Gt);In.set(Gt,new Map([...Array.from(ln?.entries()??[]),...Array.from(cn?.entries()??[])]))});const yi=[],Gs=[],ts={};a.forEach(Gt=>{const{element:ln,player:cn,instruction:bn}=Gt;if(r.has(ln)){if(y.has(ln))return cn.onDestroy(()=>gc(ln,bn.toStyles)),cn.disabled=!0,cn.overrideTotalTime(bn.totalTime),void i.push(cn);let cr=ts;if(vr.size>1){let ns=ln;const ma=[];for(;ns=ns.parentNode;){const ii=vr.get(ns);if(ii){cr=ii;break}ma.push(ns)}ma.forEach(ii=>vr.set(ii,cr))}const Ds=this._buildAnimation(cn.namespaceId,bn,Jt,s,ui,In);if(cn.setRealPlayer(Ds),cr===ts)yi.push(cn);else{const ns=this.playersByElement.get(cr);ns&&ns.length&&(cn.parentPlayer=ud(ns)),i.push(cn)}}else Vh(ln,bn.fromStyles),cn.onDestroy(()=>gc(ln,bn.toStyles)),Gs.push(cn),y.has(ln)&&i.push(cn)}),Gs.forEach(Gt=>{const ln=s.get(Gt.element);if(ln&&ln.length){const cn=ud(ln);Gt.setRealPlayer(cn)}}),i.forEach(Gt=>{Gt.parentPlayer?Gt.syncPlayerEvents(Gt.parentPlayer):Gt.destroy()});for(let Gt=0;Gt<xe.length;Gt++){const ln=xe[Gt],cn=ln[Va];if(jp(ln,dx),cn&&cn.hasAnimation)continue;let bn=[];if(u.size){let Ds=u.get(ln);Ds&&Ds.length&&bn.push(...Ds);let ns=this.driver.query(ln,BD,!0);for(let ma=0;ma<ns.length;ma++){let ii=u.get(ns[ma]);ii&&ii.length&&bn.push(...ii)}}const cr=bn.filter(Ds=>!Ds.destroyed);cr.length?nre(this,ln,cr):this.processLeaveNode(ln)}return xe.length=0,yi.forEach(Gt=>{this.players.push(Gt),Gt.onDone(()=>{Gt.destroy();const ln=this.players.indexOf(Gt);this.players.splice(ln,1)}),Gt.play()}),yi}elementContainsData(e,t){let r=!1;const i=t[Va];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let a=[];if(t){const u=this.playersByQueriedElement.get(e);u&&(a=u)}else{const u=this.playersByElement.get(e);if(u){const h=!s||s==Pv;u.forEach(g=>{g.queued||!h&&g.triggerName!=i||a.push(g)})}}return(r||i)&&(a=a.filter(u=>!(r&&r!=u.namespaceId||i&&i!=u.triggerName))),a}_beforeAnimationBuild(e,t,r){const s=t.element,a=t.isRemovalTransition?void 0:e,u=t.isRemovalTransition?void 0:t.triggerName;for(const h of t.timelines){const g=h.element,y=g!==s,O=fa(r,g,[]);this._getPreviousPlayers(g,y,a,u,t.toState).forEach(K=>{const re=K.getRealPlayer();re.beforeDestroy&&re.beforeDestroy(),K.destroy(),O.push(K)})}Vh(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,a){const u=t.triggerName,h=t.element,g=[],y=new Set,O=new Set,$=t.timelines.map(re=>{const he=re.element;y.add(he);const xe=he[Va];if(xe&&xe.removedBeforeQueried)return new zg(re.duration,re.delay);const Pe=he!==h,Je=function rre(n){const e=[];return n5(n,e),e}((r.get(he)||Kne).map(Jt=>Jt.getRealPlayer())).filter(Jt=>!!Jt.element&&Jt.element===he),Ke=s.get(he),at=a.get(he),wt=TV(0,this._normalizer,0,re.keyframes,Ke,at),St=this._buildPlayer(re,wt,Je);if(re.subTimeline&&i&&O.add(he),Pe){const Jt=new QD(e,u,he);Jt.setRealPlayer(St),g.push(Jt)}return St});g.forEach(re=>{fa(this.playersByQueriedElement,re.element,[]).push(re),re.onDone(()=>function Jne(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,re.element,re))}),y.forEach(re=>Ha(re,FV));const K=ud($);return K.onDestroy(()=>{y.forEach(re=>jp(re,FV)),gc(h,t.toStyles)}),O.forEach(re=>{fa(i,re,[]).push(K)}),K}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new zg(e.duration,e.delay)}}class QD{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new zg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>kD(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){fa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Cx(n){return n&&1===n.nodeType}function JV(n,e){const t=n.style.display;return n.style.display=e??"none",t}function e5(n,e,t,r,i){const s=[];t.forEach(h=>s.push(JV(h)));const a=[];r.forEach((h,g)=>{const y=new Map;h.forEach(O=>{const $=e.computeStyle(g,O,i);y.set(O,$),(!$||0==$.length)&&(g[Va]=qne,a.push(g))}),n.set(g,y)});let u=0;return t.forEach(h=>JV(h,s[u++])),a}function t5(n,e){const t=new Map;if(n.forEach(u=>t.set(u,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function a(u){if(!u)return r;let h=s.get(u);if(h)return h;const g=u.parentNode;return h=t.has(g)?g:i.has(g)?r:a(g),s.set(u,h),h}return e.forEach(u=>{const h=a(u);h!==r&&t.get(h).push(u)}),t}function Ha(n,e){n.classList?.add(e)}function jp(n,e){n.classList?.remove(e)}function nre(n,e,t){ud(t).onDone(()=>n.processLeaveNode(e))}function n5(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof rP?n5(r.players,e):e.push(r)}}function r5(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Sx{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Qne(e,t,r),this._timelineEngine=new Gne(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const a=e+"-"+i;let u=this._triggerCache[a];if(!u){const h=[],g=[],y=jD(this._driver,s,h,g);if(h.length)throw function jte(n,e){return new Ze(3404,!1)}();u=function Hne(n,e,t){return new zne(n,e,t)}(i,y,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(t,i,u)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,a]=AV(r);this._timelineEngine.command(s,t,a,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[a,u]=AV(r);return this._timelineEngine.listen(a,t,u,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ore=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&gc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gc(this._element,this._initialStyles),this._endStyles&&(gc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vh(this._element,this._endStyles),this._endStyles=null),gc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function JD(n){let e=null;return n.forEach((t,r)=>{(function are(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class i5{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:UV(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class lre{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return RV(e,t)}getParentElement(e){return ND(e)}query(e,t,r){return PV(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,a=[]){const h={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(h.easing=s);const g=new Map,y=a.filter(K=>K instanceof i5);(function hne(n,e){return 0===n||0===e})(r,i)&&y.forEach(K=>{K.currentSnapshot.forEach((re,he)=>g.set(he,re))});let O=function lne(n){return n.length?n[0]instanceof Map?n:n.map(e=>BV(e)):[]}(t).map(K=>dd(K));O=function fne(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,a)=>{r.has(a)||i.push(a),r.set(a,s)}),i.length)for(let s=1;s<e.length;s++){let a=e[s];i.forEach(u=>a.set(u,UV(n,u)))}}return e}(e,O,g);const $=function sre(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=JD(e[0]),e.length>1&&(r=JD(e[e.length-1]))):e instanceof Map&&(t=JD(e)),t||r?new ore(n,t,r):null}(e,O);return new i5(e,O,h,$)}}let cre=(()=>{class n extends JR{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:qo.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?eP(t):t;return s5(this._renderer,null,r,"register",[i]),new ure(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(xt(ih),xt(tr))},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})();class ure extends H${constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new dre(this._id,e,t||{},this._renderer)}}class dre{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return s5(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function s5(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const o5="@.disabled";let hre=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,a)=>{const u=a?.parentNode(s);u&&a.removeChild(u,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let y=this._rendererCache.get(s);return y||(y=new a5("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,y)),y}const a=r.id,u=r.id+"-"+this._currentId;this._currentId++,this.engine.register(u,t);const h=y=>{Array.isArray(y)?y.forEach(h):this.engine.registerTrigger(a,u,t,y.name,y)};return r.data.animation.forEach(h),new fre(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,u]=s;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(xt(ih),xt(Sx),xt(An))},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})();class a5{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==o5?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class fre extends a5{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==o5?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function pre(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function mre(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,r,u)})}return this.delegate.listen(e,t,r)}}const bre=[{provide:LD,useFactory:()=>new lre},{provide:Ta,useValue:"BrowserAnimations"},...[{provide:JR,useClass:cre},{provide:YD,useFactory:function vre(){return new Lne}},{provide:Sx,useClass:(()=>{class n extends Sx{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(xt(tr),xt(LD),xt(YD),xt(mg))},n.\u0275prov=tn({token:n,factory:n.\u0275fac}),n})()},{provide:ih,useFactory:function yre(n,e,t){return new hre(n,e,t)},deps:[Xb,Sx,An]}]];(function OU(n,e){return Q4({rootComponent:n,...kk(e)})})(_te,{providers:[function xre(){return[...bre]}(),{provide:dP,useValue:{appearance:"outline"}}]}).catch(n=>console.error(n))},7352:(j,ee,v)=>{"use strict";v.r(ee),v.d(ee,{afterMain:()=>te,afterRead:()=>Z,afterWrite:()=>z,applyStyles:()=>Ve,arrow:()=>Ur,auto:()=>C,basePlacements:()=>b,beforeMain:()=>X,beforeRead:()=>J,beforeWrite:()=>G,bottom:()=>A,clippingParents:()=>P,computeStyles:()=>rs,createPopper:()=>Wa,createPopperBase:()=>Sl,createPopperLite:()=>Ir,detectOverflow:()=>Mo,end:()=>D,eventListeners:()=>Ms,flip:()=>Gh,hide:()=>tu,left:()=>E,main:()=>ie,modifierPhases:()=>q,offset:()=>$a,placements:()=>B,popper:()=>I,popperGenerator:()=>As,popperOffsets:()=>Br,preventOverflow:()=>md,read:()=>U,reference:()=>L,right:()=>x,start:()=>M,top:()=>_,variationPlacements:()=>N,viewport:()=>R,write:()=>V});var _="top",A="bottom",x="right",E="left",C="auto",b=[_,A,x,E],M="start",D="end",P="clippingParents",R="viewport",I="popper",L="reference",N=b.reduce(function(ke,Se){return ke.concat([Se+"-"+M,Se+"-"+D])},[]),B=[].concat(b,[C]).reduce(function(ke,Se){return ke.concat([Se,Se+"-"+M,Se+"-"+D])},[]),J="beforeRead",U="read",Z="afterRead",X="beforeMain",ie="main",te="afterMain",G="beforeWrite",V="write",z="afterWrite",q=[J,U,Z,X,ie,te,G,V,z];function ae(ke){return ke?(ke.nodeName||"").toLowerCase():null}function ue(ke){if(null==ke)return window;if("[object Window]"!==ke.toString()){var Se=ke.ownerDocument;return Se&&Se.defaultView||window}return ke}function oe(ke){return ke instanceof ue(ke).Element||ke instanceof Element}function de(ke){return ke instanceof ue(ke).HTMLElement||ke instanceof HTMLElement}function we(ke){return!(typeof ShadowRoot>"u")&&(ke instanceof ue(ke).ShadowRoot||ke instanceof ShadowRoot)}const Ve={name:"applyStyles",enabled:!0,phase:"write",fn:function fe(ke){var Se=ke.state;Object.keys(Se.elements).forEach(function(Ye){var _t=Se.styles[Ye]||{},ct=Se.attributes[Ye]||{},ht=Se.elements[Ye];!de(ht)||!ae(ht)||(Object.assign(ht.style,_t),Object.keys(ct).forEach(function(rn){var Bt=ct[rn];!1===Bt?ht.removeAttribute(rn):ht.setAttribute(rn,!0===Bt?"":Bt)}))})},effect:function je(ke){var Se=ke.state,Ye={popper:{position:Se.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Se.elements.popper.style,Ye.popper),Se.styles=Ye,Se.elements.arrow&&Object.assign(Se.elements.arrow.style,Ye.arrow),function(){Object.keys(Se.elements).forEach(function(_t){var ct=Se.elements[_t],ht=Se.attributes[_t]||{},Bt=Object.keys(Se.styles.hasOwnProperty(_t)?Se.styles[_t]:Ye[_t]).reduce(function(jt,vn){return jt[vn]="",jt},{});!de(ct)||!ae(ct)||(Object.assign(ct.style,Bt),Object.keys(ht).forEach(function(jt){ct.removeAttribute(jt)}))})}},requires:["computeStyles"]};function _e(ke){return ke.split("-")[0]}var Ce=Math.max,ge=Math.min,qe=Math.round;function Xe(){var ke=navigator.userAgentData;return null!=ke&&ke.brands?ke.brands.map(function(Se){return Se.brand+"/"+Se.version}).join(" "):navigator.userAgent}function Te(){return!/^((?!chrome|android).)*safari/i.test(Xe())}function et(ke,Se,Ye){void 0===Se&&(Se=!1),void 0===Ye&&(Ye=!1);var _t=ke.getBoundingClientRect(),ct=1,ht=1;Se&&de(ke)&&(ct=ke.offsetWidth>0&&qe(_t.width)/ke.offsetWidth||1,ht=ke.offsetHeight>0&&qe(_t.height)/ke.offsetHeight||1);var Bt=(oe(ke)?ue(ke):window).visualViewport,jt=!Te()&&Ye,vn=(_t.left+(jt&&Bt?Bt.offsetLeft:0))/ct,Ze=(_t.top+(jt&&Bt?Bt.offsetTop:0))/ht,ur=_t.width/ct,Wt=_t.height/ht;return{width:ur,height:Wt,top:Ze,right:vn+ur,bottom:Ze+Wt,left:vn,x:vn,y:Ze}}function At(ke){var Se=et(ke),Ye=ke.offsetWidth,_t=ke.offsetHeight;return Math.abs(Se.width-Ye)<=1&&(Ye=Se.width),Math.abs(Se.height-_t)<=1&&(_t=Se.height),{x:ke.offsetLeft,y:ke.offsetTop,width:Ye,height:_t}}function Be(ke,Se){var Ye=Se.getRootNode&&Se.getRootNode();if(ke.contains(Se))return!0;if(Ye&&we(Ye)){var _t=Se;do{if(_t&&ke.isSameNode(_t))return!0;_t=_t.parentNode||_t.host}while(_t)}return!1}function Fe(ke){return ue(ke).getComputedStyle(ke)}function Ue(ke){return["table","td","th"].indexOf(ae(ke))>=0}function Ne(ke){return((oe(ke)?ke.ownerDocument:ke.document)||window.document).documentElement}function ye(ke){return"html"===ae(ke)?ke:ke.assignedSlot||ke.parentNode||(we(ke)?ke.host:null)||Ne(ke)}function Le(ke){return de(ke)&&"fixed"!==Fe(ke).position?ke.offsetParent:null}function pt(ke){for(var Se=ue(ke),Ye=Le(ke);Ye&&Ue(Ye)&&"static"===Fe(Ye).position;)Ye=Le(Ye);return Ye&&("html"===ae(Ye)||"body"===ae(Ye)&&"static"===Fe(Ye).position)?Se:Ye||function st(ke){var Se=/firefox/i.test(Xe());if(/Trident/i.test(Xe())&&de(ke)&&"fixed"===Fe(ke).position)return null;var ct=ye(ke);for(we(ct)&&(ct=ct.host);de(ct)&&["html","body"].indexOf(ae(ct))<0;){var ht=Fe(ct);if("none"!==ht.transform||"none"!==ht.perspective||"paint"===ht.contain||-1!==["transform","perspective"].indexOf(ht.willChange)||Se&&"filter"===ht.willChange||Se&&ht.filter&&"none"!==ht.filter)return ct;ct=ct.parentNode}return null}(ke)||Se}function ft(ke){return["top","bottom"].indexOf(ke)>=0?"x":"y"}function bt(ke,Se,Ye){return Ce(ke,ge(Se,Ye))}function Yt(ke){return Object.assign({},{top:0,right:0,bottom:0,left:0},ke)}function Nt(ke,Se){return Se.reduce(function(Ye,_t){return Ye[_t]=ke,Ye},{})}const Ur={name:"arrow",enabled:!0,phase:"main",fn:function Jn(ke){var Se,Ye=ke.state,_t=ke.name,ct=ke.options,ht=Ye.elements.arrow,rn=Ye.modifiersData.popperOffsets,Bt=_e(Ye.placement),jt=ft(Bt),Ze=[E,x].indexOf(Bt)>=0?"height":"width";if(ht&&rn){var ur=function(Se,Ye){return Yt("number"!=typeof(Se="function"==typeof Se?Se(Object.assign({},Ye.rects,{placement:Ye.placement})):Se)?Se:Nt(Se,b))}(ct.padding,Ye),Wt=At(ht),Xt="y"===jt?_:E,Gr="y"===jt?A:x,nr=Ye.rects.reference[Ze]+Ye.rects.reference[jt]-rn[jt]-Ye.rects.popper[Ze],rr=rn[jt]-Ye.rects.reference[jt],ir=pt(ht),sr=ir?"y"===jt?ir.clientHeight||0:ir.clientWidth||0:0,Yn=sr/2-Wt[Ze]/2+(nr/2-rr/2),Hr=bt(ur[Xt],Yn,sr-Wt[Ze]-ur[Gr]);Ye.modifiersData[_t]=((Se={})[jt]=Hr,Se.centerOffset=Hr-Yn,Se)}},effect:function xr(ke){var Se=ke.state,_t=ke.options.element,ct=void 0===_t?"[data-popper-arrow]":_t;null!=ct&&("string"==typeof ct&&!(ct=Se.elements.popper.querySelector(ct))||Be(Se.elements.popper,ct)&&(Se.elements.arrow=ct))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Or(ke){return ke.split("-")[1]}var Rr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ni(ke){var Se,Ye=ke.popper,_t=ke.popperRect,ct=ke.placement,ht=ke.variation,rn=ke.offsets,Bt=ke.position,jt=ke.gpuAcceleration,vn=ke.adaptive,Ze=ke.roundOffsets,ur=ke.isFixed,Wt=rn.x,Xt=void 0===Wt?0:Wt,Gr=rn.y,nr=void 0===Gr?0:Gr,rr="function"==typeof Ze?Ze({x:Xt,y:nr}):{x:Xt,y:nr};Xt=rr.x,nr=rr.y;var ir=rn.hasOwnProperty("x"),sr=rn.hasOwnProperty("y"),di=E,yr=_,Dr=window;if(vn){var Yn=pt(Ye),Hr="clientHeight",hi="clientWidth";Yn===ue(Ye)&&"static"!==Fe(Yn=Ne(Ye)).position&&"absolute"===Bt&&(Hr="scrollHeight",hi="scrollWidth"),(ct===_||(ct===E||ct===x)&&ht===D)&&(yr=A,nr-=(ur&&Yn===Dr&&Dr.visualViewport?Dr.visualViewport.height:Yn[Hr])-_t.height,nr*=jt?1:-1),ct!==E&&(ct!==_&&ct!==A||ht!==D)||(di=x,Xt-=(ur&&Yn===Dr&&Dr.visualViewport?Dr.visualViewport.width:Yn[hi])-_t.width,Xt*=jt?1:-1)}var dr,Pr=Object.assign({position:Bt},vn&&Rr),ko=!0===Ze?function Pi(ke){var Ye=ke.y,ct=window.devicePixelRatio||1;return{x:qe(ke.x*ct)/ct||0,y:qe(Ye*ct)/ct||0}}({x:Xt,y:nr}):{x:Xt,y:nr};return Xt=ko.x,nr=ko.y,Object.assign({},Pr,jt?((dr={})[yr]=sr?"0":"",dr[di]=ir?"0":"",dr.transform=(Dr.devicePixelRatio||1)<=1?"translate("+Xt+"px, "+nr+"px)":"translate3d("+Xt+"px, "+nr+"px, 0)",dr):((Se={})[yr]=sr?nr+"px":"",Se[di]=ir?Xt+"px":"",Se.transform="",Se))}const rs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Zt(ke){var Se=ke.state,Ye=ke.options,_t=Ye.gpuAcceleration,ct=void 0===_t||_t,ht=Ye.adaptive,rn=void 0===ht||ht,Bt=Ye.roundOffsets,jt=void 0===Bt||Bt,Ze={placement:_e(Se.placement),variation:Or(Se.placement),popper:Se.elements.popper,popperRect:Se.rects.popper,gpuAcceleration:ct,isFixed:"fixed"===Se.options.strategy};null!=Se.modifiersData.popperOffsets&&(Se.styles.popper=Object.assign({},Se.styles.popper,Ni(Object.assign({},Ze,{offsets:Se.modifiersData.popperOffsets,position:Se.options.strategy,adaptive:rn,roundOffsets:jt})))),null!=Se.modifiersData.arrow&&(Se.styles.arrow=Object.assign({},Se.styles.arrow,Ni(Object.assign({},Ze,{offsets:Se.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:jt})))),Se.attributes.popper=Object.assign({},Se.attributes.popper,{"data-popper-placement":Se.placement})},data:{}};var kn={passive:!0};const Ms={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function _l(ke){var Se=ke.state,Ye=ke.instance,_t=ke.options,ct=_t.scroll,ht=void 0===ct||ct,rn=_t.resize,Bt=void 0===rn||rn,jt=ue(Se.elements.popper),vn=[].concat(Se.scrollParents.reference,Se.scrollParents.popper);return ht&&vn.forEach(function(Ze){Ze.addEventListener("scroll",Ye.update,kn)}),Bt&&jt.addEventListener("resize",Ye.update,kn),function(){ht&&vn.forEach(function(Ze){Ze.removeEventListener("scroll",Ye.update,kn)}),Bt&&jt.removeEventListener("resize",Ye.update,kn)}},data:{}};var Go={left:"right",right:"left",bottom:"top",top:"bottom"};function ga(ke){return ke.replace(/left|right|bottom|top/g,function(Se){return Go[Se]})}var Ts={start:"end",end:"start"};function ms(ke){return ke.replace(/start|end/g,function(Se){return Ts[Se]})}function $o(ke){var Se=ue(ke);return{scrollLeft:Se.pageXOffset,scrollTop:Se.pageYOffset}}function ja(ke){return et(Ne(ke)).left+$o(ke).scrollLeft}function zi(ke){var Se=Fe(ke);return/auto|scroll|overlay|hidden/.test(Se.overflow+Se.overflowY+Se.overflowX)}function va(ke){return["html","body","#document"].indexOf(ae(ke))>=0?ke.ownerDocument.body:de(ke)&&zi(ke)?ke:va(ye(ke))}function Ua(ke,Se){var Ye;void 0===Se&&(Se=[]);var _t=va(ke),ct=_t===(null==(Ye=ke.ownerDocument)?void 0:Ye.body),ht=ue(_t),rn=ct?[ht].concat(ht.visualViewport||[],zi(_t)?_t:[]):_t,Bt=Se.concat(rn);return ct?Bt:Bt.concat(Ua(ye(rn)))}function ya(ke){return Object.assign({},ke,{left:ke.x,top:ke.y,right:ke.x+ke.width,bottom:ke.y+ke.height})}function wl(ke,Se,Ye){return Se===R?ya(function vc(ke,Se){var Ye=ue(ke),_t=Ne(ke),ct=Ye.visualViewport,ht=_t.clientWidth,rn=_t.clientHeight,Bt=0,jt=0;if(ct){ht=ct.width,rn=ct.height;var vn=Te();(vn||!vn&&"fixed"===Se)&&(Bt=ct.offsetLeft,jt=ct.offsetTop)}return{width:ht,height:rn,x:Bt+ja(ke),y:jt}}(ke,Ye)):oe(Se)?function hd(ke,Se){var Ye=et(ke,!1,"fixed"===Se);return Ye.top=Ye.top+ke.clientTop,Ye.left=Ye.left+ke.clientLeft,Ye.bottom=Ye.top+ke.clientHeight,Ye.right=Ye.left+ke.clientWidth,Ye.width=ke.clientWidth,Ye.height=ke.clientHeight,Ye.x=Ye.left,Ye.y=Ye.top,Ye}(Se,Ye):ya(function xl(ke){var Se,Ye=Ne(ke),_t=$o(ke),ct=null==(Se=ke.ownerDocument)?void 0:Se.body,ht=Ce(Ye.scrollWidth,Ye.clientWidth,ct?ct.scrollWidth:0,ct?ct.clientWidth:0),rn=Ce(Ye.scrollHeight,Ye.clientHeight,ct?ct.scrollHeight:0,ct?ct.clientHeight:0),Bt=-_t.scrollLeft+ja(ke),jt=-_t.scrollTop;return"rtl"===Fe(ct||Ye).direction&&(Bt+=Ce(Ye.clientWidth,ct?ct.clientWidth:0)-ht),{width:ht,height:rn,x:Bt,y:jt}}(Ne(ke)))}function Do(ke){var jt,Se=ke.reference,Ye=ke.element,_t=ke.placement,ct=_t?_e(_t):null,ht=_t?Or(_t):null,rn=Se.x+Se.width/2-Ye.width/2,Bt=Se.y+Se.height/2-Ye.height/2;switch(ct){case _:jt={x:rn,y:Se.y-Ye.height};break;case A:jt={x:rn,y:Se.y+Se.height};break;case x:jt={x:Se.x+Se.width,y:Bt};break;case E:jt={x:Se.x-Ye.width,y:Bt};break;default:jt={x:Se.x,y:Se.y}}var vn=ct?ft(ct):null;if(null!=vn){var Ze="y"===vn?"height":"width";switch(ht){case M:jt[vn]=jt[vn]-(Se[Ze]/2-Ye[Ze]/2);break;case D:jt[vn]=jt[vn]+(Se[Ze]/2-Ye[Ze]/2)}}return jt}function Mo(ke,Se){void 0===Se&&(Se={});var _t=Se.placement,ct=void 0===_t?ke.placement:_t,ht=Se.strategy,rn=void 0===ht?ke.strategy:ht,Bt=Se.boundary,jt=void 0===Bt?P:Bt,vn=Se.rootBoundary,Ze=void 0===vn?R:vn,ur=Se.elementContext,Wt=void 0===ur?I:ur,Xt=Se.altBoundary,Gr=void 0!==Xt&&Xt,nr=Se.padding,rr=void 0===nr?0:nr,ir=Yt("number"!=typeof rr?rr:Nt(rr,b)),di=ke.rects.popper,yr=ke.elements[Gr?Wt===I?L:I:Wt],Dr=function jh(ke,Se,Ye,_t){var ct="clippingParents"===Se?function El(ke){var Se=Ua(ye(ke)),_t=["absolute","fixed"].indexOf(Fe(ke).position)>=0&&de(ke)?pt(ke):ke;return oe(_t)?Se.filter(function(ct){return oe(ct)&&Be(ct,_t)&&"body"!==ae(ct)}):[]}(ke):[].concat(Se),ht=[].concat(ct,[Ye]),Bt=ht.reduce(function(jt,vn){var Ze=wl(ke,vn,_t);return jt.top=Ce(Ze.top,jt.top),jt.right=ge(Ze.right,jt.right),jt.bottom=ge(Ze.bottom,jt.bottom),jt.left=Ce(Ze.left,jt.left),jt},wl(ke,ht[0],_t));return Bt.width=Bt.right-Bt.left,Bt.height=Bt.bottom-Bt.top,Bt.x=Bt.left,Bt.y=Bt.top,Bt}(oe(yr)?yr:yr.contextElement||Ne(ke.elements.popper),jt,Ze,rn),Yn=et(ke.elements.reference),Hr=Do({reference:Yn,element:di,strategy:"absolute",placement:ct}),hi=ya(Object.assign({},di,Hr)),bi=Wt===I?hi:Yn,$r={top:Dr.top-bi.top+ir.top,bottom:bi.bottom-Dr.bottom+ir.bottom,left:Dr.left-bi.left+ir.left,right:bi.right-Dr.right+ir.right},Pr=ke.modifiersData.offset;if(Wt===I&&Pr){var ko=Pr[ct];Object.keys($r).forEach(function(dr){var oo=[x,A].indexOf(dr)>=0?1:-1,Ai=[_,A].indexOf(dr)>=0?"y":"x";$r[dr]+=ko[Ai]*oo})}return $r}const Gh={name:"flip",enabled:!0,phase:"main",fn:function Uh(ke){var Se=ke.state,Ye=ke.options,_t=ke.name;if(!Se.modifiersData[_t]._skip){for(var ct=Ye.mainAxis,ht=void 0===ct||ct,rn=Ye.altAxis,Bt=void 0===rn||rn,jt=Ye.fallbackPlacements,vn=Ye.padding,Ze=Ye.boundary,ur=Ye.rootBoundary,Wt=Ye.altBoundary,Xt=Ye.flipVariations,Gr=void 0===Xt||Xt,nr=Ye.allowedAutoPlacements,rr=Se.options.placement,ir=_e(rr),di=jt||(ir!==rr&&Gr?function Ga(ke){if(_e(ke)===C)return[];var Se=ga(ke);return[ms(ke),Se,ms(Se)]}(rr):[ga(rr)]),yr=[rr].concat(di).reduce(function(Al,ao){return Al.concat(_e(ao)===C?function is(ke,Se){void 0===Se&&(Se={});var ct=Se.boundary,ht=Se.rootBoundary,rn=Se.padding,Bt=Se.flipVariations,jt=Se.allowedAutoPlacements,vn=void 0===jt?B:jt,Ze=Or(Se.placement),ur=Ze?Bt?N:N.filter(function(Gr){return Or(Gr)===Ze}):b,Wt=ur.filter(function(Gr){return vn.indexOf(Gr)>=0});0===Wt.length&&(Wt=ur);var Xt=Wt.reduce(function(Gr,nr){return Gr[nr]=Mo(ke,{placement:nr,boundary:ct,rootBoundary:ht,padding:rn})[_e(nr)],Gr},{});return Object.keys(Xt).sort(function(Gr,nr){return Xt[Gr]-Xt[nr]})}(Se,{placement:ao,boundary:Ze,rootBoundary:ur,padding:vn,flipVariations:Gr,allowedAutoPlacements:nr}):ao)},[]),Dr=Se.rects.reference,Yn=Se.rects.popper,Hr=new Map,hi=!0,bi=yr[0],$r=0;$r<yr.length;$r++){var Pr=yr[$r],ko=_e(Pr),dr=Or(Pr)===M,oo=[_,A].indexOf(ko)>=0,Ai=oo?"width":"height",En=Mo(Se,{placement:Pr,boundary:Ze,rootBoundary:ur,altBoundary:Wt,padding:vn}),Kr=oo?dr?x:E:dr?A:_;Dr[Ai]>Yn[Ai]&&(Kr=ga(Kr));var yd=ga(Kr),Tl=[];if(ht&&Tl.push(En[ko]<=0),Bt&&Tl.push(En[Kr]<=0,En[yd]<=0),Tl.every(function(Al){return Al})){bi=Pr,hi=!1;break}Hr.set(Pr,Tl)}if(hi)for(var Yh=function(ao){var Oo=yr.find(function(iu){var Yo=Hr.get(iu);if(Yo)return Yo.slice(0,ao).every(function(Ya){return Ya})});if(Oo)return bi=Oo,"break"},jn=Gr?3:1;jn>0&&"break"!==Yh(jn);jn--);Se.placement!==bi&&(Se.modifiersData[_t]._skip=!0,Se.placement=bi,Se.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function fd(ke,Se,Ye){return void 0===Ye&&(Ye={x:0,y:0}),{top:ke.top-Se.height-Ye.y,right:ke.right-Se.width+Ye.x,bottom:ke.bottom-Se.height+Ye.y,left:ke.left-Se.width-Ye.x}}function pd(ke){return[_,x,A,E].some(function(Se){return ke[Se]>=0})}const tu={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Up(ke){var Se=ke.state,Ye=ke.name,_t=Se.rects.reference,ct=Se.rects.popper,ht=Se.modifiersData.preventOverflow,rn=Mo(Se,{elementContext:"reference"}),Bt=Mo(Se,{altBoundary:!0}),jt=fd(rn,_t),vn=fd(Bt,ct,ht),Ze=pd(jt),ur=pd(vn);Se.modifiersData[Ye]={referenceClippingOffsets:jt,popperEscapeOffsets:vn,isReferenceHidden:Ze,hasPopperEscaped:ur},Se.attributes.popper=Object.assign({},Se.attributes.popper,{"data-popper-reference-hidden":Ze,"data-popper-escaped":ur})}},$a={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function nu(ke){var Se=ke.state,_t=ke.name,ct=ke.options.offset,ht=void 0===ct?[0,0]:ct,rn=B.reduce(function(Ze,ur){return Ze[ur]=function To(ke,Se,Ye){var _t=_e(ke),ct=[E,_].indexOf(_t)>=0?-1:1,ht="function"==typeof Ye?Ye(Object.assign({},Se,{placement:ke})):Ye,rn=ht[0],Bt=ht[1];return rn=rn||0,Bt=(Bt||0)*ct,[E,x].indexOf(_t)>=0?{x:Bt,y:rn}:{x:rn,y:Bt}}(ur,Se.rects,ht),Ze},{}),Bt=rn[Se.placement],vn=Bt.y;null!=Se.modifiersData.popperOffsets&&(Se.modifiersData.popperOffsets.x+=Bt.x,Se.modifiersData.popperOffsets.y+=vn),Se.modifiersData[_t]=rn}},Br={name:"popperOffsets",enabled:!0,phase:"read",fn:function ru(ke){var Se=ke.state;Se.modifiersData[ke.name]=Do({reference:Se.rects.reference,element:Se.rects.popper,strategy:"absolute",placement:Se.placement})},data:{}},md={name:"preventOverflow",enabled:!0,phase:"main",fn:function wr(ke){var Se=ke.state,Ye=ke.options,_t=ke.name,ct=Ye.mainAxis,ht=void 0===ct||ct,rn=Ye.altAxis,Bt=void 0!==rn&&rn,Wt=Ye.tether,Xt=void 0===Wt||Wt,Gr=Ye.tetherOffset,nr=void 0===Gr?0:Gr,rr=Mo(Se,{boundary:Ye.boundary,rootBoundary:Ye.rootBoundary,padding:Ye.padding,altBoundary:Ye.altBoundary}),ir=_e(Se.placement),sr=Or(Se.placement),di=!sr,yr=ft(ir),Dr=function Gp(ke){return"x"===ke?"y":"x"}(yr),Yn=Se.modifiersData.popperOffsets,Hr=Se.rects.reference,hi=Se.rects.popper,bi="function"==typeof nr?nr(Object.assign({},Se.rects,{placement:Se.placement})):nr,$r="number"==typeof bi?{mainAxis:bi,altAxis:bi}:Object.assign({mainAxis:0,altAxis:0},bi),Pr=Se.modifiersData.offset?Se.modifiersData.offset[Se.placement]:null,ko={x:0,y:0};if(Yn){if(ht){var dr,oo="y"===yr?_:E,Ai="y"===yr?A:x,En="y"===yr?"height":"width",Kr=Yn[yr],yd=Kr+rr[oo],Tl=Kr-rr[Ai],tn=Xt?-hi[En]/2:0,Yh=sr===M?Hr[En]:hi[En],jn=sr===M?-hi[En]:-Hr[En],Wo=Se.elements.arrow,Al=Xt&&Wo?At(Wo):{width:0,height:0},ao=Se.modifiersData["arrow#persistent"]?Se.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Oo=ao[oo],iu=ao[Ai],Yo=bt(0,Hr[En],Al[En]),Ya=di?Hr[En]/2-tn-Yo-Oo-$r.mainAxis:Yh-Yo-Oo-$r.mainAxis,bd=di?-Hr[En]/2+tn+Yo+iu+$r.mainAxis:jn+Yo+iu+$r.mainAxis,su=Se.elements.arrow&&pt(Se.elements.arrow),xn=null!=(dr=Pr?.[yr])?dr:0,Yp=Kr+bd-xn,Vr=bt(Xt?ge(yd,Kr+Ya-xn-(su?"y"===yr?su.clientTop||0:su.clientLeft||0:0)):yd,Kr,Xt?Ce(Tl,Yp):Tl);Yn[yr]=Vr,ko[yr]=Vr-Kr}if(Bt){var lo,Xa=Yn[Dr],xd="y"===Dr?"height":"width",Ka=Xa+rr["x"===yr?_:E],Ro=Xa-rr["x"===yr?A:x],qa=-1!==[_,E].indexOf(ir),Ws=null!=(lo=Pr?.[Dr])?lo:0,Il=qa?Ka:Xa-Hr[xd]-hi[xd]-Ws+$r.altAxis,Xh=qa?Xa+Hr[xd]+hi[xd]-Ws-$r.altAxis:Ro,yc=Xt&&qa?function zt(ke,Se,Ye){var _t=bt(ke,Se,Ye);return _t>Ye?Ye:_t}(Il,Xa,Xh):bt(Xt?Il:Ka,Xa,Xt?Xh:Ro);Yn[Dr]=yc,ko[Dr]=yc-Xa}Se.modifiersData[_t]=ko}},requiresIfExists:["offset"]};function $p(ke,Se,Ye){void 0===Ye&&(Ye=!1);var _t=de(Se),ct=de(Se)&&function Cl(ke){var Se=ke.getBoundingClientRect(),Ye=qe(Se.width)/ke.offsetWidth||1,_t=qe(Se.height)/ke.offsetHeight||1;return 1!==Ye||1!==_t}(Se),ht=Ne(Se),rn=et(ke,ct,Ye),Bt={scrollLeft:0,scrollTop:0},jt={x:0,y:0};return(_t||!_t&&!Ye)&&(("body"!==ae(Se)||zi(ht))&&(Bt=function $h(ke){return ke!==ue(ke)&&de(ke)?function $s(ke){return{scrollLeft:ke.scrollLeft,scrollTop:ke.scrollTop}}(ke):$o(ke)}(Se)),de(Se)?((jt=et(Se,!0)).x+=Se.clientLeft,jt.y+=Se.clientTop):ht&&(jt.x=ja(ht))),{x:rn.left+Bt.scrollLeft-jt.x,y:rn.top+Bt.scrollTop-jt.y,width:rn.width,height:rn.height}}function gd(ke){var Se=new Map,Ye=new Set,_t=[];function ct(ht){Ye.add(ht.name),[].concat(ht.requires||[],ht.requiresIfExists||[]).forEach(function(Bt){if(!Ye.has(Bt)){var jt=Se.get(Bt);jt&&ct(jt)}}),_t.push(ht)}return ke.forEach(function(ht){Se.set(ht.name,ht)}),ke.forEach(function(ht){Ye.has(ht.name)||ct(ht)}),_t}function ba(ke){var Se;return function(){return Se||(Se=new Promise(function(Ye){Promise.resolve().then(function(){Se=void 0,Ye(ke())})})),Se}}var Io={placement:"bottom",modifiers:[],strategy:"absolute"};function Wh(){for(var ke=arguments.length,Se=new Array(ke),Ye=0;Ye<ke;Ye++)Se[Ye]=arguments[Ye];return!Se.some(function(_t){return!(_t&&"function"==typeof _t.getBoundingClientRect)})}function As(ke){void 0===ke&&(ke={});var Ye=ke.defaultModifiers,_t=void 0===Ye?[]:Ye,ct=ke.defaultOptions,ht=void 0===ct?Io:ct;return function(Bt,jt,vn){void 0===vn&&(vn=ht);var Ze={placement:"bottom",orderedModifiers:[],options:Object.assign({},Io,ht),modifiersData:{},elements:{reference:Bt,popper:jt},attributes:{},styles:{}},ur=[],Wt=!1,Xt={state:Ze,setOptions:function(ir){var sr="function"==typeof ir?ir(Ze.options):ir;nr(),Ze.options=Object.assign({},ht,Ze.options,sr),Ze.scrollParents={reference:oe(Bt)?Ua(Bt):Bt.contextElement?Ua(Bt.contextElement):[],popper:Ua(jt)};var di=function Ti(ke){var Se=gd(ke);return q.reduce(function(Ye,_t){return Ye.concat(Se.filter(function(ct){return ct.phase===_t}))},[])}(function vd(ke){var Se=ke.reduce(function(Ye,_t){var ct=Ye[_t.name];return Ye[_t.name]=ct?Object.assign({},ct,_t,{options:Object.assign({},ct.options,_t.options),data:Object.assign({},ct.data,_t.data)}):_t,Ye},{});return Object.keys(Se).map(function(Ye){return Se[Ye]})}([].concat(_t,Ze.options.modifiers)));return Ze.orderedModifiers=di.filter(function(Pr){return Pr.enabled}),function Gr(){Ze.orderedModifiers.forEach(function(rr){var sr=rr.options,yr=rr.effect;if("function"==typeof yr){var Dr=yr({state:Ze,name:rr.name,instance:Xt,options:void 0===sr?{}:sr});ur.push(Dr||function(){})}})}(),Xt.update()},forceUpdate:function(){if(!Wt){var ir=Ze.elements,sr=ir.reference,di=ir.popper;if(Wh(sr,di)){Ze.rects={reference:$p(sr,pt(di),"fixed"===Ze.options.strategy),popper:At(di)},Ze.reset=!1,Ze.placement=Ze.options.placement,Ze.orderedModifiers.forEach(function(Pr){return Ze.modifiersData[Pr.name]=Object.assign({},Pr.data)});for(var Dr=0;Dr<Ze.orderedModifiers.length;Dr++)if(!0!==Ze.reset){var Yn=Ze.orderedModifiers[Dr],Hr=Yn.fn,hi=Yn.options;"function"==typeof Hr&&(Ze=Hr({state:Ze,options:void 0===hi?{}:hi,name:Yn.name,instance:Xt})||Ze)}else Ze.reset=!1,Dr=-1}}},update:ba(function(){return new Promise(function(rr){Xt.forceUpdate(),rr(Ze)})}),destroy:function(){nr(),Wt=!0}};if(!Wh(Bt,jt))return Xt;function nr(){ur.forEach(function(rr){return rr()}),ur=[]}return Xt.setOptions(vn).then(function(rr){!Wt&&vn.onFirstUpdate&&vn.onFirstUpdate(rr)}),Xt}}var Sl=As(),Wa=As({defaultModifiers:[Ms,Br,rs,Ve,$a,Gh,md,Ur,tu]}),Ir=As({defaultModifiers:[Ms,Br,rs,Ve]})},5423:j=>{"use strict";j.exports=function ee(v){return null===v||"object"!=typeof v||null!=v.toJSON?JSON.stringify(v):Array.isArray(v)?"["+v.reduce((_,A,x)=>_+(0===x?"":",")+ee(void 0===A||"symbol"==typeof A?null:A),"")+"]":"{"+Object.keys(v).sort().reduce((_,A,x)=>void 0===v[A]||"symbol"==typeof v[A]?_:_+(0===_.length?"":",")+ee(A)+":"+ee(v[A]),"")+"}"}},2405:function(j,ee,v){var _;j.exports=(_=v(5982),function(A){var x={};function E(C){if(x[C])return x[C].exports;var b=x[C]={i:C,l:!1,exports:{}};return A[C].call(b.exports,b,b.exports,E),b.l=!0,b.exports}return E.m=A,E.c=x,E.i=function(C){return C},E.d=function(C,b,M){E.o(C,b)||Object.defineProperty(C,b,{configurable:!1,enumerable:!0,get:M})},E.n=function(C){var b=C&&C.__esModule?function(){return C.default}:function(){return C};return E.d(b,"a",b),b},E.o=function(C,b){return Object.prototype.hasOwnProperty.call(C,b)},E.p="",E(E.s=7)}([function(A,x){A.exports=_},function(A,x,E){"use strict";var C=E(0).FDLayoutConstants;function b(){}for(var M in C)b[M]=C[M];b.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,b.DEFAULT_RADIAL_SEPARATION=C.DEFAULT_EDGE_LENGTH,b.DEFAULT_COMPONENT_SEPERATION=60,b.TILE=!0,b.TILING_PADDING_VERTICAL=10,b.TILING_PADDING_HORIZONTAL=10,b.TREE_REDUCTION_ON_INCREMENTAL=!1,A.exports=b},function(A,x,E){"use strict";var C=E(0).FDLayoutEdge;function b(D,P,R){C.call(this,D,P,R)}for(var M in b.prototype=Object.create(C.prototype),C)b[M]=C[M];A.exports=b},function(A,x,E){"use strict";var C=E(0).LGraph;function b(D,P,R){C.call(this,D,P,R)}for(var M in b.prototype=Object.create(C.prototype),C)b[M]=C[M];A.exports=b},function(A,x,E){"use strict";var C=E(0).LGraphManager;function b(D){C.call(this,D)}for(var M in b.prototype=Object.create(C.prototype),C)b[M]=C[M];A.exports=b},function(A,x,E){"use strict";var C=E(0).FDLayoutNode,b=E(0).IMath;function M(P,R,I,L){C.call(this,P,R,I,L)}for(var D in M.prototype=Object.create(C.prototype),C)M[D]=C[D];M.prototype.move=function(){var P=this.graphManager.getLayout();this.displacementX=P.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=P.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>P.coolingFactor*P.maxNodeDisplacement&&(this.displacementX=P.coolingFactor*P.maxNodeDisplacement*b.sign(this.displacementX)),Math.abs(this.displacementY)>P.coolingFactor*P.maxNodeDisplacement&&(this.displacementY=P.coolingFactor*P.maxNodeDisplacement*b.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),P.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},M.prototype.propogateDisplacementToChildren=function(P,R){for(var L,I=this.getChild().getNodes(),N=0;N<I.length;N++)null==(L=I[N]).getChild()?(L.moveBy(P,R),L.displacementX+=P,L.displacementY+=R):L.propogateDisplacementToChildren(P,R)},M.prototype.setPred1=function(P){this.pred1=P},M.prototype.getPred1=function(){return pred1},M.prototype.getPred2=function(){return pred2},M.prototype.setNext=function(P){this.next=P},M.prototype.getNext=function(){return next},M.prototype.setProcessed=function(P){this.processed=P},M.prototype.isProcessed=function(){return processed},A.exports=M},function(A,x,E){"use strict";var C=E(0).FDLayout,b=E(4),M=E(3),D=E(5),P=E(2),R=E(1),I=E(0).FDLayoutConstants,L=E(0).LayoutConstants,N=E(0).Point,B=E(0).PointD,J=E(0).Layout,U=E(0).Integer,Z=E(0).IGeometry,X=E(0).LGraph,ie=E(0).Transform;function te(){C.call(this),this.toBeTiled={}}for(var G in te.prototype=Object.create(C.prototype),C)te[G]=C[G];te.prototype.newGraphManager=function(){var V=new b(this);return this.graphManager=V,V},te.prototype.newGraph=function(V){return new M(null,this.graphManager,V)},te.prototype.newNode=function(V){return new D(this.graphManager,V)},te.prototype.newEdge=function(V){return new P(null,null,V)},te.prototype.initParameters=function(){C.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=R.DEFAULT_EDGE_LENGTH<10?10:R.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=R.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=I.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=I.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=I.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=I.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=I.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=I.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/I.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=I.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},te.prototype.layout=function(){return L.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},te.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(R.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var z=new Set(this.getAllNodes()),q=this.nodesWithGravity.filter(function(oe){return z.has(oe)});this.graphManager.setAllNodesToApplyGravitation(q)}}else{var V=this.getFlatForest();V.length>0?this.positionNodesRadially(V):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),z=new Set(this.getAllNodes()),q=this.nodesWithGravity.filter(function(ae){return z.has(ae)}),this.graphManager.setAllNodesToApplyGravitation(q),this.positionNodesRandomly())}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},te.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%I.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var V=new Set(this.getAllNodes()),z=this.nodesWithGravity.filter(function(ue){return V.has(ue)});this.graphManager.setAllNodesToApplyGravitation(z),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var q=!this.isTreeGrowing&&!this.isGrowthFinished,ae=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(q,ae),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},te.prototype.getPositionsData=function(){for(var V=this.graphManager.getAllNodes(),z={},q=0;q<V.length;q++){var ae=V[q].rect,ue=V[q].id;z[ue]={id:ue,x:ae.getCenterX(),y:ae.getCenterY(),w:ae.width,h:ae.height}}return z},te.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var V=!1;if("during"===I.ANIMATE)this.emit("layoutstarted");else{for(;!V;)V=this.tick();this.graphManager.updateBounds()}},te.prototype.calculateNodesToApplyGravitationTo=function(){var z,ue,V=[],q=this.graphManager.getGraphs(),ae=q.length;for(ue=0;ue<ae;ue++)(z=q[ue]).updateConnected(),z.isConnected||(V=V.concat(z.getNodes()));return V},te.prototype.createBendpoints=function(){var V=[];V=V.concat(this.graphManager.getAllEdges());var q,z=new Set;for(q=0;q<V.length;q++){var ae=V[q];if(!z.has(ae)){var ue=ae.getSource(),oe=ae.getTarget();if(ue==oe)ae.getBendpoints().push(new B),ae.getBendpoints().push(new B),this.createDummyNodesForBendpoints(ae),z.add(ae);else{var de=[];if(de=(de=de.concat(ue.getEdgeListToNode(oe))).concat(oe.getEdgeListToNode(ue)),!z.has(de[0])){var we;if(de.length>1)for(we=0;we<de.length;we++){var fe=de[we];fe.getBendpoints().push(new B),this.createDummyNodesForBendpoints(fe)}de.forEach(function(je){z.add(je)})}}}if(z.size==V.length)break}},te.prototype.positionNodesRadially=function(V){for(var z=new N(0,0),q=Math.ceil(Math.sqrt(V.length)),ae=0,ue=0,oe=0,de=new B(0,0),we=0;we<V.length;we++){we%q==0&&(oe=0,ue=ae,0!=we&&(ue+=R.DEFAULT_COMPONENT_SEPERATION),ae=0);var fe=V[we],je=J.findCenterOfTree(fe);z.x=oe,z.y=ue,(de=te.radialLayout(fe,je,z)).y>ae&&(ae=Math.floor(de.y)),oe=Math.floor(de.x+R.DEFAULT_COMPONENT_SEPERATION)}this.transform(new B(L.WORLD_CENTER_X-de.x/2,L.WORLD_CENTER_Y-de.y/2))},te.radialLayout=function(V,z,q){var ae=Math.max(this.maxDiagonalInTree(V),R.DEFAULT_RADIAL_SEPARATION);te.branchRadialLayout(z,null,0,359,0,ae);var ue=X.calculateBounds(V),oe=new ie;oe.setDeviceOrgX(ue.getMinX()),oe.setDeviceOrgY(ue.getMinY()),oe.setWorldOrgX(q.x),oe.setWorldOrgY(q.y);for(var de=0;de<V.length;de++)V[de].transform(oe);var fe=new B(ue.getMaxX(),ue.getMaxY());return oe.inverseTransformPoint(fe)},te.branchRadialLayout=function(V,z,q,ae,ue,oe){var de=(ae-q+1)/2;de<0&&(de+=180);var fe=(de+q)%360*Z.TWO_PI/360,Ve=(Math.cos(fe),ue*Math.cos(fe)),_e=ue*Math.sin(fe);V.setCenter(Ve,_e);var Ce=[],ge=(Ce=Ce.concat(V.getEdges())).length;null!=z&&ge--;for(var Te,qe=0,Xe=Ce.length,et=V.getEdgesBetween(z);et.length>1;){var At=et[0];et.splice(0,1);var Be=Ce.indexOf(At);Be>=0&&Ce.splice(Be,1),Xe--,ge--}Te=null!=z?(Ce.indexOf(et[0])+1)%Xe:0;for(var Fe=Math.abs(ae-q)/ge,Ue=Te;qe!=ge;Ue=++Ue%Xe){var Ne=Ce[Ue].getOtherEnd(V);if(Ne!=z){var ye=(q+qe*Fe)%360;te.branchRadialLayout(Ne,V,ye,(ye+Fe)%360,ue+oe,oe),qe++}}},te.maxDiagonalInTree=function(V){for(var z=U.MIN_VALUE,q=0;q<V.length;q++){var ue=V[q].getDiagonal();ue>z&&(z=ue)}return z},te.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},te.prototype.groupZeroDegreeMembers=function(){var V=this,z={};this.memberGroups={},this.idToDummyNode={};for(var q=[],ae=this.graphManager.getAllNodes(),ue=0;ue<ae.length;ue++){var de=(oe=ae[ue]).getParent();0===this.getNodeDegreeWithChildren(oe)&&(null==de.id||!this.getToBeTiled(de))&&q.push(oe)}for(ue=0;ue<q.length;ue++){var oe,we=(oe=q[ue]).getParent().id;typeof z[we]>"u"&&(z[we]=[]),z[we]=z[we].concat(oe)}Object.keys(z).forEach(function(fe){if(z[fe].length>1){var je="DummyCompound_"+fe;V.memberGroups[je]=z[fe];var Ve=z[fe][0].getParent(),_e=new D(V.graphManager);_e.id=je,_e.paddingLeft=Ve.paddingLeft||0,_e.paddingRight=Ve.paddingRight||0,_e.paddingBottom=Ve.paddingBottom||0,_e.paddingTop=Ve.paddingTop||0,V.idToDummyNode[je]=_e;var Ce=V.getGraphManager().add(V.newGraph(),_e),ge=Ve.getChild();ge.add(_e);for(var qe=0;qe<z[fe].length;qe++){var Xe=z[fe][qe];ge.remove(Xe),Ce.add(Xe)}}})},te.prototype.clearCompounds=function(){var V={},z={};this.performDFSOnCompounds();for(var q=0;q<this.compoundOrder.length;q++)z[this.compoundOrder[q].id]=this.compoundOrder[q],V[this.compoundOrder[q].id]=[].concat(this.compoundOrder[q].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[q].getChild()),this.compoundOrder[q].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(V,z)},te.prototype.clearZeroDegreeMembers=function(){var V=this,z=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(q){var ae=V.idToDummyNode[q];z[q]=V.tileNodes(V.memberGroups[q],ae.paddingLeft+ae.paddingRight),ae.rect.width=z[q].width,ae.rect.height=z[q].height})},te.prototype.repopulateCompounds=function(){for(var V=this.compoundOrder.length-1;V>=0;V--){var z=this.compoundOrder[V];this.adjustLocations(this.tiledMemberPack[z.id],z.rect.x,z.rect.y,z.paddingLeft,z.paddingTop)}},te.prototype.repopulateZeroDegreeMembers=function(){var V=this,z=this.tiledZeroDegreePack;Object.keys(z).forEach(function(q){var ae=V.idToDummyNode[q];V.adjustLocations(z[q],ae.rect.x,ae.rect.y,ae.paddingLeft,ae.paddingTop)})},te.prototype.getToBeTiled=function(V){var z=V.id;if(null!=this.toBeTiled[z])return this.toBeTiled[z];var q=V.getChild();if(null==q)return this.toBeTiled[z]=!1,!1;for(var ae=q.getNodes(),ue=0;ue<ae.length;ue++){var oe=ae[ue];if(this.getNodeDegree(oe)>0)return this.toBeTiled[z]=!1,!1;if(null!=oe.getChild()){if(!this.getToBeTiled(oe))return this.toBeTiled[z]=!1,!1}else this.toBeTiled[oe.id]=!1}return this.toBeTiled[z]=!0,!0},te.prototype.getNodeDegree=function(V){for(var q=V.getEdges(),ae=0,ue=0;ue<q.length;ue++){var oe=q[ue];oe.getSource().id!==oe.getTarget().id&&(ae+=1)}return ae},te.prototype.getNodeDegreeWithChildren=function(V){var z=this.getNodeDegree(V);if(null==V.getChild())return z;for(var q=V.getChild().getNodes(),ae=0;ae<q.length;ae++)z+=this.getNodeDegreeWithChildren(q[ae]);return z},te.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},te.prototype.fillCompexOrderByDFS=function(V){for(var z=0;z<V.length;z++){var q=V[z];null!=q.getChild()&&this.fillCompexOrderByDFS(q.getChild().getNodes()),this.getToBeTiled(q)&&this.compoundOrder.push(q)}},te.prototype.adjustLocations=function(V,z,q,ae,ue){q+=ue;for(var oe=z+=ae,de=0;de<V.rows.length;de++){var we=V.rows[de];z=oe;for(var fe=0,je=0;je<we.length;je++){var Ve=we[je];Ve.rect.x=z,Ve.rect.y=q,z+=Ve.rect.width+V.horizontalPadding,Ve.rect.height>fe&&(fe=Ve.rect.height)}q+=fe+V.verticalPadding}},te.prototype.tileCompoundMembers=function(V,z){var q=this;this.tiledMemberPack=[],Object.keys(V).forEach(function(ae){var ue=z[ae];q.tiledMemberPack[ae]=q.tileNodes(V[ae],ue.paddingLeft+ue.paddingRight),ue.rect.width=q.tiledMemberPack[ae].width,ue.rect.height=q.tiledMemberPack[ae].height})},te.prototype.tileNodes=function(V,z){var ue={rows:[],rowWidth:[],rowHeight:[],width:0,height:z,verticalPadding:R.TILING_PADDING_VERTICAL,horizontalPadding:R.TILING_PADDING_HORIZONTAL};V.sort(function(we,fe){return we.rect.width*we.rect.height>fe.rect.width*fe.rect.height?-1:we.rect.width*we.rect.height<fe.rect.width*fe.rect.height?1:0});for(var oe=0;oe<V.length;oe++){var de=V[oe];0==ue.rows.length?this.insertNodeToRow(ue,de,0,z):this.canAddHorizontal(ue,de.rect.width,de.rect.height)?this.insertNodeToRow(ue,de,this.getShortestRowIndex(ue),z):this.insertNodeToRow(ue,de,ue.rows.length,z),this.shiftToLastRow(ue)}return ue},te.prototype.insertNodeToRow=function(V,z,q,ae){var ue=ae;q==V.rows.length&&(V.rows.push([]),V.rowWidth.push(ue),V.rowHeight.push(0));var de=V.rowWidth[q]+z.rect.width;V.rows[q].length>0&&(de+=V.horizontalPadding),V.rowWidth[q]=de,V.width<de&&(V.width=de);var we=z.rect.height;q>0&&(we+=V.verticalPadding);var fe=0;we>V.rowHeight[q]&&(fe=V.rowHeight[q],V.rowHeight[q]=we,fe=V.rowHeight[q]-fe),V.height+=fe,V.rows[q].push(z)},te.prototype.getShortestRowIndex=function(V){for(var z=-1,q=Number.MAX_VALUE,ae=0;ae<V.rows.length;ae++)V.rowWidth[ae]<q&&(z=ae,q=V.rowWidth[ae]);return z},te.prototype.getLongestRowIndex=function(V){for(var z=-1,q=Number.MIN_VALUE,ae=0;ae<V.rows.length;ae++)V.rowWidth[ae]>q&&(z=ae,q=V.rowWidth[ae]);return z},te.prototype.canAddHorizontal=function(V,z,q){var ae=this.getShortestRowIndex(V);if(ae<0)return!0;var ue=V.rowWidth[ae];if(ue+V.horizontalPadding+z<=V.width)return!0;var de,we,oe=0;return V.rowHeight[ae]<q&&ae>0&&(oe=q+V.verticalPadding-V.rowHeight[ae]),de=V.width-ue>=z+V.horizontalPadding?(V.height+oe)/(ue+z+V.horizontalPadding):(V.height+oe)/V.width,oe=q+V.verticalPadding,(we=V.width<z?(V.height+oe)/z:(V.height+oe)/V.width)<1&&(we=1/we),de<1&&(de=1/de),de<we},te.prototype.shiftToLastRow=function(V){var z=this.getLongestRowIndex(V),q=V.rowWidth.length-1,ae=V.rows[z],ue=ae[ae.length-1],oe=ue.width+V.horizontalPadding;if(V.width-V.rowWidth[q]>oe&&z!=q){ae.splice(-1,1),V.rows[q].push(ue),V.rowWidth[z]=V.rowWidth[z]-oe,V.rowWidth[q]=V.rowWidth[q]+oe,V.width=V.rowWidth[instance.getLongestRowIndex(V)];for(var de=Number.MIN_VALUE,we=0;we<ae.length;we++)ae[we].height>de&&(de=ae[we].height);z>0&&(de+=V.verticalPadding);var fe=V.rowHeight[z]+V.rowHeight[q];V.rowHeight[z]=de,V.rowHeight[q]<ue.height+V.verticalPadding&&(V.rowHeight[q]=ue.height+V.verticalPadding),V.height+=V.rowHeight[z]+V.rowHeight[q]-fe,this.shiftToLastRow(V)}},te.prototype.tilingPreLayout=function(){R.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},te.prototype.tilingPostLayout=function(){R.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},te.prototype.reduceTrees=function(){for(var q,V=[],z=!0;z;){var ae=this.graphManager.getAllNodes(),ue=[];z=!1;for(var oe=0;oe<ae.length;oe++)1==(q=ae[oe]).getEdges().length&&!q.getEdges()[0].isInterGraph&&null==q.getChild()&&(ue.push([q,q.getEdges()[0],q.getOwner()]),z=!0);if(1==z){for(var de=[],we=0;we<ue.length;we++)1==ue[we][0].getEdges().length&&(de.push(ue[we]),ue[we][0].getOwner().remove(ue[we][0]));V.push(de),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=V},te.prototype.growTree=function(V){for(var ae,q=V[V.length-1],ue=0;ue<q.length;ue++)this.findPlaceforPrunedNode(ae=q[ue]),ae[2].add(ae[0]),ae[2].add(ae[1],ae[1].source,ae[1].target);V.splice(V.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},te.prototype.findPlaceforPrunedNode=function(V){var z,q,ae=V[0],ue=(q=ae==V[1].source?V[1].target:V[1].source).startX,oe=q.finishX,de=q.startY,we=q.finishY,Ce=[0,0,0,0];if(de>0)for(var ge=ue;ge<=oe;ge++)Ce[0]+=this.grid[ge][de-1].length+this.grid[ge][de].length-1;if(oe<this.grid.length-1)for(ge=de;ge<=we;ge++)Ce[1]+=this.grid[oe+1][ge].length+this.grid[oe][ge].length-1;if(we<this.grid[0].length-1)for(ge=ue;ge<=oe;ge++)Ce[2]+=this.grid[ge][we+1].length+this.grid[ge][we].length-1;if(ue>0)for(ge=de;ge<=we;ge++)Ce[3]+=this.grid[ue-1][ge].length+this.grid[ue][ge].length-1;for(var Xe,Te,qe=U.MAX_VALUE,et=0;et<Ce.length;et++)Ce[et]<qe?(qe=Ce[et],Xe=1,Te=et):Ce[et]==qe&&Xe++;if(3==Xe&&0==qe)0==Ce[0]&&0==Ce[1]&&0==Ce[2]?z=1:0==Ce[0]&&0==Ce[1]&&0==Ce[3]?z=0:0==Ce[0]&&0==Ce[2]&&0==Ce[3]?z=3:0==Ce[1]&&0==Ce[2]&&0==Ce[3]&&(z=2);else if(2==Xe&&0==qe){var At=Math.floor(2*Math.random());z=0==Ce[0]&&0==Ce[1]?0==At?0:1:0==Ce[0]&&0==Ce[2]?0==At?0:2:0==Ce[0]&&0==Ce[3]?0==At?0:3:0==Ce[1]&&0==Ce[2]?0==At?1:2:0==Ce[1]&&0==Ce[3]?0==At?1:3:0==At?2:3}else z=4==Xe&&0==qe?At=Math.floor(4*Math.random()):Te;0==z?ae.setCenter(q.getCenterX(),q.getCenterY()-q.getHeight()/2-I.DEFAULT_EDGE_LENGTH-ae.getHeight()/2):1==z?ae.setCenter(q.getCenterX()+q.getWidth()/2+I.DEFAULT_EDGE_LENGTH+ae.getWidth()/2,q.getCenterY()):2==z?ae.setCenter(q.getCenterX(),q.getCenterY()+q.getHeight()/2+I.DEFAULT_EDGE_LENGTH+ae.getHeight()/2):ae.setCenter(q.getCenterX()-q.getWidth()/2-I.DEFAULT_EDGE_LENGTH-ae.getWidth()/2,q.getCenterY())},A.exports=te},function(A,x,E){"use strict";var C={};C.layoutBase=E(0),C.CoSEConstants=E(1),C.CoSEEdge=E(2),C.CoSEGraph=E(3),C.CoSEGraphManager=E(4),C.CoSELayout=E(6),C.CoSENode=E(5),A.exports=C}]))},5791:function(j,ee,v){var _;j.exports=(_=v(2405),function(A){var x={};function E(C){if(x[C])return x[C].exports;var b=x[C]={i:C,l:!1,exports:{}};return A[C].call(b.exports,b,b.exports,E),b.l=!0,b.exports}return E.m=A,E.c=x,E.i=function(C){return C},E.d=function(C,b,M){E.o(C,b)||Object.defineProperty(C,b,{configurable:!1,enumerable:!0,get:M})},E.n=function(C){var b=C&&C.__esModule?function(){return C.default}:function(){return C};return E.d(b,"a",b),b},E.o=function(C,b){return Object.prototype.hasOwnProperty.call(C,b)},E.p="",E(E.s=1)}([function(A,x){A.exports=_},function(A,x,E){"use strict";var C=E(0).layoutBase.LayoutConstants,b=E(0).layoutBase.FDLayoutConstants,M=E(0).CoSEConstants,D=E(0).CoSELayout,P=E(0).CoSENode,R=E(0).layoutBase.PointD,I=E(0).layoutBase.DimensionD,L={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function B(Z){this.options=function N(Z,X){var ie={};for(var te in Z)ie[te]=Z[te];for(var te in X)ie[te]=X[te];return ie}(L,Z),J(this.options)}var J=function(X){null!=X.nodeRepulsion&&(M.DEFAULT_REPULSION_STRENGTH=b.DEFAULT_REPULSION_STRENGTH=X.nodeRepulsion),null!=X.idealEdgeLength&&(M.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=X.idealEdgeLength),null!=X.edgeElasticity&&(M.DEFAULT_SPRING_STRENGTH=b.DEFAULT_SPRING_STRENGTH=X.edgeElasticity),null!=X.nestingFactor&&(M.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=b.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=X.nestingFactor),null!=X.gravity&&(M.DEFAULT_GRAVITY_STRENGTH=b.DEFAULT_GRAVITY_STRENGTH=X.gravity),null!=X.numIter&&(M.MAX_ITERATIONS=b.MAX_ITERATIONS=X.numIter),null!=X.gravityRange&&(M.DEFAULT_GRAVITY_RANGE_FACTOR=b.DEFAULT_GRAVITY_RANGE_FACTOR=X.gravityRange),null!=X.gravityCompound&&(M.DEFAULT_COMPOUND_GRAVITY_STRENGTH=b.DEFAULT_COMPOUND_GRAVITY_STRENGTH=X.gravityCompound),null!=X.gravityRangeCompound&&(M.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=b.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=X.gravityRangeCompound),null!=X.initialEnergyOnIncremental&&(M.DEFAULT_COOLING_FACTOR_INCREMENTAL=b.DEFAULT_COOLING_FACTOR_INCREMENTAL=X.initialEnergyOnIncremental),C.QUALITY="draft"==X.quality?0:"proof"==X.quality?2:1,M.NODE_DIMENSIONS_INCLUDE_LABELS=b.NODE_DIMENSIONS_INCLUDE_LABELS=C.NODE_DIMENSIONS_INCLUDE_LABELS=X.nodeDimensionsIncludeLabels,M.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=C.DEFAULT_INCREMENTAL=!X.randomize,M.ANIMATE=b.ANIMATE=C.ANIMATE=X.animate,M.TILE=X.tile,M.TILING_PADDING_VERTICAL="function"==typeof X.tilingPaddingVertical?X.tilingPaddingVertical.call():X.tilingPaddingVertical,M.TILING_PADDING_HORIZONTAL="function"==typeof X.tilingPaddingHorizontal?X.tilingPaddingHorizontal.call():X.tilingPaddingHorizontal};B.prototype.run=function(){var Z,X,ie=this.options,G=(this.idToLNode={},this.layout=new D),V=this;V.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var z=G.newGraphManager();this.gm=z;var q=this.options.eles.nodes(),ae=this.options.eles.edges();this.root=z.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(q),G);for(var ue=0;ue<ae.length;ue++){var oe=ae[ue],de=this.idToLNode[oe.data("source")],we=this.idToLNode[oe.data("target")];de!==we&&0==de.getEdgesBetween(we).length&&(z.add(G.newEdge(),de,we).id=oe.id())}var je=function(Ce,ge){"number"==typeof Ce&&(Ce=ge);var qe=Ce.data("id"),Xe=V.idToLNode[qe];return{x:Xe.getRect().getCenterX(),y:Xe.getRect().getCenterY()}},Ve=function _e(){for(var qe,Ce=function(){ie.fit&&ie.cy.fit(ie.eles,ie.padding),Z||(Z=!0,V.cy.one("layoutready",ie.ready),V.cy.trigger({type:"layoutready",layout:V}))},ge=V.options.refresh,Xe=0;Xe<ge&&!qe;Xe++)qe=V.stopped||V.layout.tick();if(qe)return G.checkLayoutSuccess()&&!G.isSubLayout&&G.doPostLayout(),G.tilingPostLayout&&G.tilingPostLayout(),G.isLayoutFinished=!0,V.options.eles.nodes().positions(je),Ce(),V.cy.one("layoutstop",V.options.stop),V.cy.trigger({type:"layoutstop",layout:V}),X&&cancelAnimationFrame(X),void(Z=!1);var Te=V.layout.getPositionsData();ie.eles.nodes().positions(function(et,At){if("number"==typeof et&&(et=At),!et.isParent()){for(var Be=et.id(),Fe=Te[Be],Ue=et;null==Fe&&(Fe=Te[Ue.data("parent")]||Te["DummyCompound_"+Ue.data("parent")],Te[Be]=Fe,null!=(Ue=Ue.parent()[0])););return null!=Fe?{x:Fe.x,y:Fe.y}:{x:et.position("x"),y:et.position("y")}}}),Ce(),X=requestAnimationFrame(_e)};return G.addListener("layoutstarted",function(){"during"===V.options.animate&&(X=requestAnimationFrame(Ve))}),G.runLayout(),"during"!==this.options.animate&&(V.options.eles.nodes().not(":parent").layoutPositions(V,V.options,je),Z=!1),this},B.prototype.getTopMostNodes=function(Z){for(var X={},ie=0;ie<Z.length;ie++)X[Z[ie].id()]=!0;return Z.filter(function(G,V){"number"==typeof G&&(G=V);for(var z=G.parent()[0];null!=z;){if(X[z.id()])return!1;z=z.parent()[0]}return!0})},B.prototype.processChildrenList=function(Z,X,ie){for(var te=X.length,G=0;G<te;G++){var q,we,V=X[G],z=V.children(),ae=V.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((q=null!=V.outerWidth()&&null!=V.outerHeight()?Z.add(new P(ie.graphManager,new R(V.position("x")-ae.w/2,V.position("y")-ae.h/2),new I(parseFloat(ae.w),parseFloat(ae.h)))):Z.add(new P(this.graphManager))).id=V.data("id"),q.paddingLeft=parseInt(V.css("padding")),q.paddingTop=parseInt(V.css("padding")),q.paddingRight=parseInt(V.css("padding")),q.paddingBottom=parseInt(V.css("padding")),this.options.nodeDimensionsIncludeLabels&&V.isParent()){var ue=V.boundingBox({includeLabels:!0,includeNodes:!1}).w,oe=V.boundingBox({includeLabels:!0,includeNodes:!1}).h,de=V.css("text-halign");q.labelWidth=ue,q.labelHeight=oe,q.labelPos=de}this.idToLNode[V.data("id")]=q,isNaN(q.rect.x)&&(q.rect.x=0),isNaN(q.rect.y)&&(q.rect.y=0),null!=z&&z.length>0&&(we=ie.getGraphManager().add(ie.newGraph(),q),this.processChildrenList(we,z,ie))}},B.prototype.stop=function(){return this.stopped=!0,this};var U=function(X){X("layout","cose-bilkent",B)};typeof cytoscape<"u"&&U(cytoscape),A.exports=U}]))},1212:function(j){j.exports=function(ee){var v={};function _(A){if(v[A])return v[A].exports;var x=v[A]={i:A,l:!1,exports:{}};return ee[A].call(x.exports,x,x.exports,_),x.l=!0,x.exports}return _.m=ee,_.c=v,_.i=function(A){return A},_.d=function(A,x,E){_.o(A,x)||Object.defineProperty(A,x,{configurable:!1,enumerable:!0,get:E})},_.n=function(A){var x=A&&A.__esModule?function(){return A.default}:function(){return A};return _.d(x,"a",x),x},_.o=function(A,x){return Object.prototype.hasOwnProperty.call(A,x)},_.p="",_(_.s=4)}([function(ee,v,_){"use strict";var A=_(2),x=_(1),E=_(3),C=E.removeEles,b=E.setStyles,M=E.createElement,D=E.getPixelRatio,P=E.getOffset;ee.exports=function(L){var N=x({},A,L),B=this,J=B.container(),U=void 0,Z={options:N,handlers:[],container:M({class:"cxtmenu"})},X=Z.container,ie=M(),te=M({tag:"canvas"}),G=[],V=te.getContext("2d"),z=100,q=2*(z+N.activePadding),ae=void 0,ue=void 0;function de(Ne,ye){Ce.drawBg=[Ne,ye]}function we(Ne,ye){V.globalCompositeOperation="source-over",V.clearRect(0,0,q,q),V.fillStyle=N.fillColor;for(var Le=2*Math.PI/G.length,st=Math.PI/2,pt=st+Le,ft=0;ft<G.length;ft++){var bt=G[ft];bt.fillColor&&(V.fillStyle=bt.fillColor),V.beginPath(),V.moveTo(Ne+N.activePadding,Ne+N.activePadding),V.arc(Ne+N.activePadding,Ne+N.activePadding,Ne,2*Math.PI-st,2*Math.PI-pt,!0),V.closePath(),V.fill(),st+=Le,pt+=Le,V.fillStyle=N.fillColor}V.globalCompositeOperation="destination-out",V.strokeStyle="white",V.lineWidth=N.separatorWidth,pt=(st=Math.PI/2)+Le;for(var zt=0;zt<G.length;zt++){var ut=Ne*Math.cos(st),Yt=Ne*Math.sin(st);V.beginPath(),V.moveTo(Ne+N.activePadding,Ne+N.activePadding),V.lineTo(Ne+N.activePadding+ut,Ne+N.activePadding-Yt),V.closePath(),V.stroke(),st+=Le,pt+=Le}V.fillStyle="white",V.globalCompositeOperation="destination-out",V.beginPath(),V.arc(Ne+N.activePadding,Ne+N.activePadding,ye+N.spotlightPadding,0,2*Math.PI,!0),V.closePath(),V.fill(),V.globalCompositeOperation="source-over"}function je(Ne,ye,Le,st,pt){var ft=2*Math.PI/G.length,bt=Math.PI/2,zt=bt+ft;bt+=ft*ae,zt+=ft*ae,V.fillStyle=N.activeFillColor,V.strokeStyle="black",V.lineWidth=1,V.beginPath(),V.moveTo(Le+N.activePadding,Le+N.activePadding),V.arc(Le+N.activePadding,Le+N.activePadding,Le+N.activePadding,2*Math.PI-bt,2*Math.PI-zt,!0),V.closePath(),V.fill(),V.fillStyle="white",V.globalCompositeOperation="destination-out";var ut=Le+N.activePadding+Ne/Le*(pt+N.spotlightPadding-N.indicatorSize/4),Yt=Le+N.activePadding+ye/Le*(pt+N.spotlightPadding-N.indicatorSize/4),Nt=Math.PI/4-st;V.translate(ut,Yt),V.rotate(Nt);var Ln=N.indicatorSize>pt+N.spotlightPadding?pt+N.spotlightPadding:N.indicatorSize;V.beginPath(),V.fillRect(-Ln/2,-Ln/2,Ln,Ln),V.closePath(),V.fill(),V.rotate(-Nt),V.translate(-ut,-Yt),V.beginPath(),V.arc(Le+N.activePadding,Le+N.activePadding,pt+N.spotlightPadding,0,2*Math.PI,!0),V.closePath(),V.fill(),V.globalCompositeOperation="source-over"}function Ve(){var Ne=D(),ye=q,Le=q;te.width=ye*Ne,te.height=Le*Ne,te.style.width=ye+"px",te.style.height=Le+"px",V.setTransform(1,0,0,1,0,0),V.scale(Ne,Ne)}J.insertBefore(X,J.firstChild),X.appendChild(ie),ie.appendChild(te),b(X,{position:"absolute",zIndex:N.zIndex,userSelect:"none",pointerEvents:"none"}),["mousedown","mousemove","mouseup","contextmenu"].forEach(function(Ne){X.addEventListener(Ne,function(ye){return ye.preventDefault(),!1})}),b(ie,{display:"none",width:q+"px",height:q+"px",position:"absolute",zIndex:1,marginLeft:-N.activePadding+"px",marginTop:-N.activePadding+"px",userSelect:"none"}),te.width=q,te.height=q;var _e=!0,Ce={},ge=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Ne){return setTimeout(Ne,16)};Ve(),function Ne(){Ce.drawBg&&we.apply(null,Ce.drawBg),Ce.drawCommands&&je.apply(null,Ce.drawCommands),Ce={},_e&&ge(Ne)}();var Xe=void 0,Te=void 0,et=void 0,At={on:function(ye,Le,st){var pt=st;return"core"===Le&&(pt=function(bt){if(bt.cyTarget===B||bt.target===B)return st.apply(this,[bt])}),Z.handlers.push({events:ye,selector:Le,fn:pt}),"core"===Le?B.on(ye,pt):B.on(ye,Le,pt),this}};function Ue(){_e=!1,function Fe(){for(var Ne=Z.handlers,ye=0;ye<Ne.length;ye++){var Le=Ne[ye];"core"===Le.selector?B.off(Le.events,Le.fn):B.off(Le.events,Le.selector,Le.fn)}window.removeEventListener("resize",Ve)}(),X.remove()}return function Be(){var Le,Ne=void 0,ye=!1,st=void 0,pt=void 0,ft=void 0,bt=void 0,zt=void 0,Jn=function(){Ne&&U.grabify(),st&&B.userZoomingEnabled(!0),pt&&B.userPanningEnabled(!0),ft&&B.boxSelectionEnabled(!0)};window.addEventListener("resize",Ve),At.on("resize",function(){Ve()}).on(N.openMenuEvents,N.selector,function(xr){U=this;var Ur=this,Or=this===B;if(ye&&(ie.style.display="none",ye=!1,Jn()),"function"==typeof N.commands){var Rr=N.commands(U);Rr.then?Rr.then(function(Ni){G=Ni,Pi()}):(G=Rr,Pi())}else G=N.commands,Pi();function Pi(){if(G&&0!==G.length){st=B.userZoomingEnabled(),B.userZoomingEnabled(!1),pt=B.userPanningEnabled(),B.userPanningEnabled(!1),ft=B.boxSelectionEnabled(),B.boxSelectionEnabled(!1),(Ne=U.grabbable&&U.grabbable())&&U.ungrabify();var Ni=void 0,Zt=void 0,kn=void 0;!Or&&Ur&&Ur.isNode instanceof Function&&Ur.isNode()&&!Ur.isParent()&&!N.atMouse?(Ni=Ur.renderedPosition(),Zt=Ur.renderedOuterWidth(),Ur.renderedOuterHeight(),kn=Zt/2,kn=!N.adaptativeNodeSpotlightRadius&&N.minSpotlightRadius?Math.max(kn,N.minSpotlightRadius):kn,kn=!N.adaptativeNodeSpotlightRadius&&N.maxSpotlightRadius?Math.min(kn,N.maxSpotlightRadius):kn):(Ni=xr.renderedPosition||xr.cyRenderedPosition,kn=(Zt=1)/2,kn=N.minSpotlightRadius?Math.max(kn,N.minSpotlightRadius):kn,kn=N.maxSpotlightRadius?Math.min(kn,N.maxSpotlightRadius):kn),ue=P(J),Xe=Ni.x,Te=Ni.y,z=Zt/2+(N.menuRadius instanceof Function?N.menuRadius(U):Number(N.menuRadius)),q=2*(z+N.activePadding),Ve(),b(ie,{width:q+"px",height:q+"px",display:"block",left:Ni.x-z+"px",top:Ni.y-z+"px"}),function oe(Ne,ye){C(".cxtmenu-item",ie);for(var Le=2*Math.PI/G.length,st=Math.PI/2,pt=st+Le,ft=0;ft<G.length;ft++){var bt=G[ft],zt=(st+pt)/2,ut=(Ne+ye)/2*Math.cos(zt),Yt=(Ne+ye)/2*Math.sin(zt),Nt=1*Math.abs((Ne-ye)*Math.cos(zt)),Ln=1*Math.abs((Ne-ye)*Math.sin(zt));Nt=Math.max(Nt,Ln);var Jn=M({class:"cxtmenu-item"});b(Jn,{color:N.itemColor,cursor:"default",display:"table","text-align":"center",position:"absolute","text-shadow":"-1px -1px 2px "+N.itemTextShadowColor+", 1px -1px 2px "+N.itemTextShadowColor+", -1px 1px 2px "+N.itemTextShadowColor+", 1px 1px 1px "+N.itemTextShadowColor,left:"50%",top:"50%","min-height":Nt+"px",width:Nt+"px",height:Nt+"px",marginLeft:ut-Nt/2+"px",marginTop:-Yt-Nt/2+"px"});var xr=M({class:"cxtmenu-content"});bt.content instanceof HTMLElement?xr.appendChild(bt.content):xr.innerHTML=bt.content,b(xr,{width:Nt+"px",height:Nt+"px","vertical-align":"middle",display:"table-cell"}),b(xr,bt.contentStyle||{}),(!0===bt.disabled||!1===bt.enabled)&&xr.setAttribute("class","cxtmenu-content cxtmenu-disabled"),ie.appendChild(Jn),Jn.appendChild(xr),st+=Le,pt+=Le}}(z,kn),de(z,kn),ae=void 0,ye=!0,bt=xr}}}).on("cxtdrag tapdrag",N.selector,Le=function(Ur){if(ye){Ur.preventDefault();var Or=Ur.originalEvent,Rr=Or.touches&&Or.touches.length>0,Pi=(Rr?Or.touches[0].pageX:Or.pageX)-window.pageXOffset,Ni=(Rr?Or.touches[0].pageY:Or.pageY)-window.pageYOffset;ae=void 0;var Zt=Pi-ue.left-Xe,rs=Ni-ue.top-Te;0===Zt&&(Zt=.01);var kn=Math.sqrt(Zt*Zt+rs*rs),Ms=Math.acos((rs*rs-kn*kn-Zt*Zt)/(-2*kn*Zt)),Go=void 0;if(U&&U.isNode instanceof Function&&U.isNode()&&!U.isParent()&&!N.atMouse?(Go=U.renderedOuterWidth(),et=Go/2,et=!N.adaptativeNodeSpotlightRadius&&N.minSpotlightRadius?Math.max(et,N.minSpotlightRadius):et,et=!N.adaptativeNodeSpotlightRadius&&N.maxSpotlightRadius?Math.min(et,N.maxSpotlightRadius):et):(et=(Go=1)/2,et=N.minSpotlightRadius?Math.max(et,N.minSpotlightRadius):et,et=N.maxSpotlightRadius?Math.min(et,N.maxSpotlightRadius):et),z=Go/2+(N.menuRadius instanceof Function?N.menuRadius(U):Number(N.menuRadius)),kn<et+N.spotlightPadding||"number"==typeof N.outsideMenuCancel&&kn>z+N.activePadding+N.outsideMenuCancel)return void de(z,et);de(z,et);var ga=Zt*z/kn,Ts=rs*z/kn;rs>0&&(Ms=Math.PI+Math.abs(Ms-Math.PI));for(var ms=2*Math.PI/G.length,$o=Math.PI/2,ja=$o+ms,vc=0;vc<G.length;vc++){var xl=G[vc],zi=$o<=Ms&&Ms<=ja||$o<=Ms+2*Math.PI&&Ms+2*Math.PI<=ja;if((!0===xl.disabled||!1===xl.enabled)&&(zi=!1),zi){ae=vc;break}$o+=ms,ja+=ms}!function fe(Ne,ye,Le,st,pt){Ce.drawCommands=[Ne,ye,Le,st,pt]}(ga,Ts,z,Ms,et)}}).on("tapdrag",Le).on("mousemove",function(){if(void 0!==ae){var xr=G[ae].hover;xr&&(zt!==ae&&xr.apply(U,[U,bt]),zt=ae)}}).on("cxttapend tapend",function(){if(ie.style.display="none",void 0!==ae){var xr=G[ae].select;xr&&(xr.apply(U,[U,bt]),ae=void 0)}zt=void 0,ye=!1,Jn()})}(),{destroy:function(){Ue()}}}},function(ee,v,_){"use strict";ee.exports=null!=Object.assign?Object.assign.bind(Object):function(A){for(var x=arguments.length,E=Array(x>1?x-1:0),C=1;C<x;C++)E[C-1]=arguments[C];return E.filter(function(b){return null!=b}).forEach(function(b){Object.keys(b).forEach(function(M){return A[M]=b[M]})}),A}},function(ee,v,_){"use strict";ee.exports={menuRadius:function(E){return 100},selector:"node",commands:[],fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(1, 105, 217, 0.75)",activePadding:20,indicatorSize:24,separatorWidth:3,spotlightPadding:4,adaptativeNodeSpotlightRadius:!1,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,atMouse:!1,outsideMenuCancel:!1}},function(ee,v,_){"use strict";var x=function(D,P){for(var R=Object.keys(P),I=0,L=R.length;I<L;I++)D.style[R[I]]=P[R[I]]};ee.exports={removeEles:function(D){for(var R=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(D),I=0;I<R.length;I++){var L=R[I];L.parentNode.removeChild(L)}},setStyles:x,createElement:function(D){D=D||{};var P=document.createElement(D.tag||"div");return P.className=D.class||"",D.style&&x(P,D.style),P},getPixelRatio:function(){return window.devicePixelRatio||1},getOffset:function(D){var P=D.getBoundingClientRect();return{left:P.left+document.body.scrollLeft+parseFloat(getComputedStyle(document.body)["padding-left"])+parseFloat(getComputedStyle(document.body)["border-left-width"]),top:P.top+document.body.scrollTop+parseFloat(getComputedStyle(document.body)["padding-top"])+parseFloat(getComputedStyle(document.body)["border-top-width"])}}}},function(ee,v,_){"use strict";var A=_(0),x=function(C){C&&C("core","cxtmenu",A)};typeof cytoscape<"u"&&x(cytoscape),ee.exports=x}])},1936:function(j,ee,v){var _;j.exports=(_=v(9695),function(A){var x={};function E(C){if(x[C])return x[C].exports;var b=x[C]={i:C,l:!1,exports:{}};return A[C].call(b.exports,b,b.exports,E),b.l=!0,b.exports}return E.m=A,E.c=x,E.d=function(C,b,M){E.o(C,b)||Object.defineProperty(C,b,{enumerable:!0,get:M})},E.r=function(C){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},E.t=function(C,b){if(1&b&&(C=E(C)),8&b||4&b&&"object"==typeof C&&C&&C.__esModule)return C;var M=Object.create(null);if(E.r(M),Object.defineProperty(M,"default",{enumerable:!0,value:C}),2&b&&"string"!=typeof C)for(var D in C)E.d(M,D,function(P){return C[P]}.bind(null,D));return M},E.n=function(C){var b=C&&C.__esModule?function(){return C.default}:function(){return C};return E.d(b,"a",b),b},E.o=function(C,b){return Object.prototype.hasOwnProperty.call(C,b)},E.p="",E(E.s=0)}([function(A,x,E){var C=E(1),b=function(D){D&&D("layout","dagre",C)};typeof cytoscape<"u"&&b(cytoscape),A.exports=b},function(A,x,E){function C(I){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(I)}var b=function(L){return"function"==typeof L},M=E(2),D=E(3),P=E(4);function R(I){this.options=D({},M,I)}R.prototype.run=function(){var I=this.options,N=I.cy,B=I.eles,J=function(qe,Xe){return b(Xe)?Xe.apply(qe,[qe]):Xe},U=I.boundingBox||{x1:0,y1:0,w:N.width(),h:N.height()};void 0===U.x2&&(U.x2=U.x1+U.w),void 0===U.w&&(U.w=U.x2-U.x1),void 0===U.y2&&(U.y2=U.y1+U.h),void 0===U.h&&(U.h=U.y2-U.y1);var Z=new P.graphlib.Graph({multigraph:!0,compound:!0}),X={},ie=function(qe,Xe){null!=Xe&&(X[qe]=Xe)};ie("nodesep",I.nodeSep),ie("edgesep",I.edgeSep),ie("ranksep",I.rankSep),ie("rankdir",I.rankDir),ie("align",I.align),ie("ranker",I.ranker),ie("acyclicer",I.acyclicer),Z.setGraph(X),Z.setDefaultEdgeLabel(function(){return{}}),Z.setDefaultNodeLabel(function(){return{}});var te=B.nodes();b(I.sort)&&(te=te.sort(I.sort));for(var G=0;G<te.length;G++){var V=te[G],z=V.layoutDimensions(I);Z.setNode(V.id(),{width:z.w,height:z.h,name:V.id()})}for(var q=0;q<te.length;q++){var ae=te[q];ae.isChild()&&Z.setParent(ae.id(),ae.parent().id())}var _e,ue=B.edges().stdFilter(function(ge){return!ge.source().isParent()&&!ge.target().isParent()});b(I.sort)&&(ue=ue.sort(I.sort));for(var oe=0;oe<ue.length;oe++){var de=ue[oe];Z.setEdge(de.source().id(),de.target().id(),{minlen:J(de,I.minLen),weight:J(de,I.edgeWeight),name:de.id()},de.id())}P.layout(Z);for(var we=Z.nodes(),fe=0;fe<we.length;fe++){var je=we[fe],Ve=Z.node(je);N.getElementById(je).scratch().dagre=Ve}I.boundingBox?(_e={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},te.forEach(function(ge){var qe=ge.scratch().dagre;_e.x1=Math.min(_e.x1,qe.x),_e.x2=Math.max(_e.x2,qe.x),_e.y1=Math.min(_e.y1,qe.y),_e.y2=Math.max(_e.y2,qe.y)}),_e.w=_e.x2-_e.x1,_e.h=_e.y2-_e.y1):_e=U;return te.layoutPositions(this,I,function(ge){var qe=(ge="object"===C(ge)?ge:this).scratch().dagre;return function(qe){return I.boundingBox?{x:U.x1+(0===_e.w?0:(qe.x-_e.x1)/_e.w)*U.w,y:U.y1+(0===_e.h?0:(qe.y-_e.y1)/_e.h)*U.h}:qe}({x:qe.x,y:qe.y})}),this},A.exports=R},function(A,x){A.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(b){return 1},edgeWeight:function(b){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(b,M){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(b,M){return M},ready:function(){},sort:void 0,stop:function(){}}},function(A,x){A.exports=null!=Object.assign?Object.assign.bind(Object):function(E){for(var C=arguments.length,b=new Array(C>1?C-1:0),M=1;M<C;M++)b[M-1]=arguments[M];return b.forEach(function(D){Object.keys(D).forEach(function(P){return E[P]=D[P]})}),E}},function(A,x){A.exports=_}]))},3811:function(j,ee,v){var _;j.exports=(_=v(7352),function(A){var x={};function E(C){if(x[C])return x[C].exports;var b=x[C]={i:C,l:!1,exports:{}};return A[C].call(b.exports,b,b.exports,E),b.l=!0,b.exports}return E.m=A,E.c=x,E.i=function(C){return C},E.d=function(C,b,M){E.o(C,b)||Object.defineProperty(C,b,{configurable:!1,enumerable:!0,get:M})},E.n=function(C){var b=C&&C.__esModule?function(){return C.default}:function(){return C};return E.d(b,"a",b),b},E.o=function(C,b){return Object.prototype.hasOwnProperty.call(C,b)},E.p="",E(E.s=7)}([function(A,x,E){"use strict";A.exports=null!=Object.assign?Object.assign.bind(Object):function(C){for(var b=arguments.length,M=Array(b>1?b-1:0),D=1;D<b;D++)M[D-1]=arguments[D];return M.forEach(function(P){null!=P&&Object.keys(P).forEach(function(R){return C[R]=P[R]})}),C}},function(A,x,E){"use strict";var b=E(5).getBoundingBox;A.exports={getRef:function M(D,P){return{getBoundingClientRect:function(){return b(D,P)}}}}},function(A,x,E){"use strict";var C=E(0),M=E(1).getRef,P=E(6).getContent,R={},L=E(8).createPopper;A.exports={getPopper:function N(B,J){var U=M(B,J),Z=P(B,J.content),X=C({},R,J.popper);return L(U,Z,X)}}},function(A,x,E){"use strict";var C=E(0),M=E(2).getPopper,P=E(1).getRef;function L(U,Z){var X=function(q){return q.isNode()?{w:q.renderedWidth(),h:q.renderedHeight()}:{w:3,h:3}},G=U.cy();return C({},{renderedDimensions:X,renderedPosition:function(q){return q.isNode()?function N(U,Z){var X=U.renderedPosition(),ie=Z(U);return{x:X.x-ie.w/2,y:X.y-ie.h/2}}(q,X):function B(U){var Z=U.midpoint(),X=U.cy().pan(),ie=U.cy().zoom();return{x:Z.x*ie+X.x,y:Z.y*ie+X.y}}(q)},popper:{},cy:G},Z)}function J(U){U.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}A.exports={popper:function R(U){return J(this),M(this[0],L(this[0],U))},popperRef:function I(U){return J(this),P(this[0],L(this[0],U))}}},function(A,x,E){"use strict";var C=E(0),M=E(2).getPopper,P=E(1).getRef;function L(N,B){return C({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:N},B)}A.exports={popper:function R(N){return M(this,L(this,N))},popperRef:function I(N){return P(this,L(this,N))}}},function(A,x,E){"use strict";A.exports={getBoundingBox:function C(b,M){var D=M.renderedPosition,R=M.renderedDimensions,I=M.cy.container().getBoundingClientRect(),L=R(b),N=D(b);return{top:N.y+I.top,left:N.x+I.left,right:N.x+L.w+I.left,bottom:N.y+L.h+I.top,width:L.w,height:L.h}}}},function(A,x,E){"use strict";A.exports={getContent:function C(b,M){var D;if("function"!=typeof M){if(M instanceof HTMLElement)return M;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(D=M(b)))throw new Error("No 'target' specified to create popper");return D}}},function(A,x,E){"use strict";var C=E(4),b=E(3),M=function(P){P&&(P("core","popper",C.popper),P("collection","popper",b.popper),P("core","popperRef",C.popperRef),P("collection","popperRef",b.popperRef))};typeof cytoscape<"u"&&M(cytoscape),A.exports=M},function(A,x){A.exports=_}]))},6977:j=>{window,j.exports=function(ee){var v={};function _(A){if(v[A])return v[A].exports;var x=v[A]={i:A,l:!1,exports:{}};return ee[A].call(x.exports,x,x.exports,_),x.l=!0,x.exports}return _.m=ee,_.c=v,_.d=function(A,x,E){_.o(A,x)||Object.defineProperty(A,x,{enumerable:!0,get:E})},_.r=function(A){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},_.t=function(A,x){if(1&x&&(A=_(A)),8&x||4&x&&"object"==typeof A&&A&&A.__esModule)return A;var E=Object.create(null);if(_.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:A}),2&x&&"string"!=typeof A)for(var C in A)_.d(E,C,function(b){return A[b]}.bind(null,C));return E},_.n=function(A){var x=A&&A.__esModule?function(){return A.default}:function(){return A};return _.d(x,"a",x),x},_.o=function(A,x){return Object.prototype.hasOwnProperty.call(A,x)},_.p="",_(_.s=0)}([function(ee,v,_){"use strict";var A=_(1),x=function(E){E&&E("core","svg",A.svg)};typeof cytoscape<"u"&&x(cytoscape),ee.exports=x},function(ee,v,_){"use strict";var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},x=_(2),E={},C_number=function(b){return null!=b&&(void 0===b?"undefined":A(b))===A(1)&&!isNaN(b)};E.bufferCanvasImage=function(b,M){var D=M.renderer().usePaths;M.renderer().usePaths=function(){return!1},M.elements().forEach(function(q){q._private.rscratch.pathCacheKey=null,q._private.rscratch.pathCache=null});var P=M.renderer(),R=M.mutableElements().boundingBox(),I=P.findContainerClientCoords(),L=b.full?Math.ceil(R.w):I[2],N=b.full?Math.ceil(R.h):I[3],B=C_number(b.maxWidth)||C_number(b.maxHeight),J=P.getPixelRatio(),U=1;if(void 0!==b.scale)L*=b.scale,N*=b.scale,U=b.scale;else if(B){var Z=1/0,X=1/0;C_number(b.maxWidth)&&(Z=U*b.maxWidth/L),C_number(b.maxHeight)&&(X=U*b.maxHeight/N),L*=U=Math.min(Z,X),N*=U}B||(L*=J,N*=J,U*=J);var ie=null,te=ie=new x(L,N);if(L>0&&N>0){ie.clearRect(0,0,L,N),b.bg&&(ie.globalCompositeOperation="destination-over",ie.fillStyle=b.bg,ie.fillRect(0,0,L,N)),ie.globalCompositeOperation="source-over";var G=P.getCachedZSortedEles();if(b.full)ie.translate(-R.x1*U,-R.y1*U),ie.scale(U,U),P.drawElements(ie,G),ie.scale(1/U,1/U),ie.translate(R.x1*U,R.y1*U);else{var V=M.pan(),z={x:V.x*U,y:V.y*U};U*=M.zoom(),ie.translate(z.x,z.y),ie.scale(U,U),P.drawElements(ie,G),ie.scale(1/U,1/U),ie.translate(-z.x,-z.y)}}return M.renderer().usePaths=D,te},E.svg=function(b){return E.bufferCanvasImage(b||{},this).getSerializedSvg()},ee.exports=E},function(ee,v,_){!function(){"use strict";var A,x,E,C,b;function M(I,L){var N,B=Object.keys(L);for(N=0;N<B.length;N++)I=I.replace(new RegExp("\\{"+B[N]+"\\}","gi"),L[B[N]]);return I}function D(I){var L,N,B;if(!I)throw new Error("cannot create a random attribute name for an undefined object");L="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",N="";do{for(N="",B=0;B<12;B++)N+=L[Math.floor(Math.random()*L.length)]}while(I[N]);return N}function P(I){var L={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return L[I]||L.alphabetic}b=function(I,L){var N,B,J,U={};for(I=I.split(","),L=L||10,N=0;N<I.length;N+=2)B="&"+I[N+1]+";",J=parseInt(I[N],L),U[B]="&#"+J+";";return U["\\xa0"]="&#160;",U}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),A={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(E=function(I,L){this.__root=I,this.__ctx=L}).prototype.addColorStop=function(I,L){var N,B=this.__ctx.__createElement("stop");B.setAttribute("offset",I),-1!==L.indexOf("rgba")?(N=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(L),B.setAttribute("stop-color",M("rgb({r},{g},{b})",{r:N[1],g:N[2],b:N[3]})),B.setAttribute("stop-opacity",N[4])):B.setAttribute("stop-color",L),this.__root.appendChild(B)},C=function(I,L){this.__root=I,this.__ctx=L},(x=function(I){var L,N={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((L=N).width=arguments[0],L.height=arguments[1]):L=I||N,!(this instanceof x))return new x(L);this.width=L.width||N.width,this.height=L.height||N.height,this.enableMirroring=void 0!==L.enableMirroring?L.enableMirroring:N.enableMirroring,this.canvas=this,this.__document=L.document||document,L.ctx?this.__ctx=L.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(I,L,N){void 0===L&&(L={});var B,J,U=this.__document.createElementNS("http://www.w3.org/2000/svg",I),Z=Object.keys(L);for(N&&(U.setAttribute("fill","none"),U.setAttribute("stroke","none")),B=0;B<Z.length;B++)U.setAttribute(J=Z[B],L[J]);return U},x.prototype.__setDefaultStyles=function(){var I,L,N=Object.keys(A);for(I=0;I<N.length;I++)this[L=N[I]]=A[L].canvas},x.prototype.__applyStyleState=function(I){if(I){var L,N,B=Object.keys(I);for(L=0;L<B.length;L++)this[N=B[L]]=I[N]}},x.prototype.__getStyleState=function(){var I,L,N={},B=Object.keys(A);for(I=0;I<B.length;I++)N[L=B[I]]=this[L];return N},x.prototype.__applyStyleToCurrentElement=function(I){var N,B,J,U,Z,L=this.__currentElement,X=Object.keys(A);for(N=0;N<X.length;N++)if(J=this[X[N]],(B=A[X[N]]).apply)if(J instanceof C){if(J.__ctx)for(;J.__ctx.__defs.childNodes.length;)U=J.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[U]=U,this.__defs.appendChild(J.__ctx.__defs.childNodes[0]);L.setAttribute(B.apply,M("url(#{id})",{id:J.__root.getAttribute("id")}))}else if(J instanceof E)L.setAttribute(B.apply,M("url(#{id})",{id:J.__root.getAttribute("id")}));else if(-1!==B.apply.indexOf(I)&&B.svg!==J)if("stroke"!==B.svgAttr&&"fill"!==B.svgAttr||-1===J.indexOf("rgba")){var ie=B.svgAttr;if("globalAlpha"===X[N]&&L.getAttribute(ie=I+"-"+B.svgAttr))continue;L.setAttribute(ie,J)}else{Z=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(J),L.setAttribute(B.svgAttr,M("rgb({r},{g},{b})",{r:Z[1],g:Z[2],b:Z[3]}));var te=Z[4],G=this.globalAlpha;null!=G&&(te*=G),L.setAttribute(B.svgAttr+"-opacity",te)}},x.prototype.__closestGroupOrSvg=function(I){return"g"===(I=I||this.__currentElement).nodeName||"svg"===I.nodeName?I:this.__closestGroupOrSvg(I.parentNode)},x.prototype.getSerializedSvg=function(I){var L,N,B,J,U,Z=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(Z)&&(Z=Z.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),I)for(L=Object.keys(b),N=0;N<L.length;N++)J=b[B=L[N]],(U=new RegExp(B,"gi")).test(Z)&&(Z=Z.replace(U,J));return Z},x.prototype.getSvg=function(){return this.__root},x.prototype.save=function(){var I=this.__createElement("g"),L=this.__closestGroupOrSvg();this.__groupStack.push(L),L.appendChild(I),this.__currentElement=I,this.__stack.push(this.__getStyleState())},x.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var I=this.__stack.pop();this.__applyStyleState(I)},x.prototype.__addTransform=function(I){var L=this.__closestGroupOrSvg();if(L.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:L,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var N=this.__createElement("g");L.appendChild(N),this.__currentElement=N}var B=this.__currentElement.getAttribute("transform");B?B+=" ":B="",this.__currentElement.setAttribute("transform",B+=I)},x.prototype.scale=function(I,L){void 0===L&&(L=I),this.__addTransform(M("scale({x},{y})",{x:I,y:L}))},x.prototype.rotate=function(I){var L=180*I/Math.PI;this.__addTransform(M("rotate({angle},{cx},{cy})",{angle:L,cx:0,cy:0}))},x.prototype.translate=function(I,L){this.__addTransform(M("translate({x},{y})",{x:I,y:L}))},x.prototype.transform=function(I,L,N,B,J,U){this.__addTransform(M("matrix({a},{b},{c},{d},{e},{f})",{a:I,b:L,c:N,d:B,e:J,f:U}))},x.prototype.beginPath=function(){var I;this.__currentDefaultPath="",this.__currentPosition={},I=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(I),this.__currentElement=I},x.prototype.__applyCurrentDefaultPath=function(){var I=this.__currentElement;"path"===I.nodeName?I.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",I.nodeName)},x.prototype.__addPathCommand=function(I){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=I},x.prototype.moveTo=function(I,L){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:I,y:L},this.__addPathCommand(M("M {x} {y}",{x:I,y:L}))},x.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},x.prototype.lineTo=function(I,L){this.__currentPosition={x:I,y:L},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(M("L {x} {y}",{x:I,y:L})):this.__addPathCommand(M("M {x} {y}",{x:I,y:L}))},x.prototype.bezierCurveTo=function(I,L,N,B,J,U){this.__currentPosition={x:J,y:U},this.__addPathCommand(M("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:I,cp1y:L,cp2x:N,cp2y:B,x:J,y:U}))},x.prototype.quadraticCurveTo=function(I,L,N,B){this.__currentPosition={x:N,y:B},this.__addPathCommand(M("Q {cpx} {cpy} {x} {y}",{cpx:I,cpy:L,x:N,y:B}))};var R=function(I){var L=Math.sqrt(I[0]*I[0]+I[1]*I[1]);return[I[0]/L,I[1]/L]};x.prototype.arcTo=function(I,L,N,B,J){var U=this.__currentPosition&&this.__currentPosition.x,Z=this.__currentPosition&&this.__currentPosition.y;if(void 0!==U&&void 0!==Z){if(J<0)throw new Error("IndexSizeError: The radius provided ("+J+") is negative.");if(U===I&&Z===L||I===N&&L===B||0===J)this.lineTo(I,L);else{var X=R([U-I,Z-L]),ie=R([N-I,B-L]);if(X[0]*ie[1]!=X[1]*ie[0]){var G=Math.acos(Math.abs(X[0]*ie[0]+X[1]*ie[1])),V=R([X[0]+ie[0],X[1]+ie[1]]),z=J/Math.sin(G/2),q=I+z*V[0],ae=L+z*V[1],ue=[-X[1],X[0]],oe=[ie[1],-ie[0]],de=function(je){var Ve=je[0];return je[1]>=0?Math.acos(Ve):-Math.acos(Ve)},we=de(ue),fe=de(oe);this.lineTo(q+ue[0]*J,ae+ue[1]*J),this.arc(q,ae,J,we,fe)}else this.lineTo(I,L)}}},x.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},x.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},x.prototype.rect=function(I,L,N,B){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(I,L),this.lineTo(I+N,L),this.lineTo(I+N,L+B),this.lineTo(I,L+B),this.lineTo(I,L),this.closePath()},x.prototype.fillRect=function(I,L,N,B){var J;J=this.__createElement("rect",{x:I,y:L,width:N,height:B},!0),this.__closestGroupOrSvg().appendChild(J),this.__currentElement=J,this.__applyStyleToCurrentElement("fill")},x.prototype.strokeRect=function(I,L,N,B){var J;J=this.__createElement("rect",{x:I,y:L,width:N,height:B},!0),this.__closestGroupOrSvg().appendChild(J),this.__currentElement=J,this.__applyStyleToCurrentElement("stroke")},x.prototype.__clearCanvas=function(){for(var I=this.__closestGroupOrSvg().getAttribute("transform"),L=this.__root.childNodes[1],N=L.childNodes,B=N.length-1;B>=0;B--)N[B]&&L.removeChild(N[B]);this.__currentElement=L,this.__groupStack=[],I&&this.__addTransform(I)},x.prototype.clearRect=function(I,L,N,B){if(0!==I||0!==L||N!==this.width||B!==this.height){var J,U=this.__closestGroupOrSvg();J=this.__createElement("rect",{x:I,y:L,width:N,height:B,fill:"#FFFFFF"},!0),U.appendChild(J)}else this.__clearCanvas()},x.prototype.createLinearGradient=function(I,L,N,B){var J=this.__createElement("linearGradient",{id:D(this.__ids),x1:I+"px",x2:N+"px",y1:L+"px",y2:B+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(J),new E(J,this)},x.prototype.createRadialGradient=function(I,L,N,B,J,U){var Z=this.__createElement("radialGradient",{id:D(this.__ids),cx:B+"px",cy:J+"px",r:U+"px",fx:I+"px",fy:L+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(Z),new E(Z,this)},x.prototype.__parseFont=function(){var I=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),L={style:I[1]||"normal",size:I[4]||"10px",family:I[6]||"sans-serif",weight:I[3]||"normal",decoration:I[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(L.decoration="underline"),this.__fontHref&&(L.href=this.__fontHref),L},x.prototype.__wrapTextLink=function(I,L){if(I.href){var N=this.__createElement("a");return N.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",I.href),N.appendChild(L),N}return L},x.prototype.__applyText=function(I,L,N,B){var J,U,Z=this.__parseFont(),X=this.__closestGroupOrSvg(),ie=this.__createElement("text",{"font-family":Z.family,"font-size":Z.size,"font-style":Z.style,"font-weight":Z.weight,"text-decoration":Z.decoration,x:L,y:N,"text-anchor":(J=this.textAlign,U={left:"start",right:"end",center:"middle",start:"start",end:"end"},U[J]||U.start),"dominant-baseline":P(this.textBaseline)},!0);ie.appendChild(this.__document.createTextNode(I)),this.__currentElement=ie,this.__applyStyleToCurrentElement(B),X.appendChild(this.__wrapTextLink(Z,ie))},x.prototype.fillText=function(I,L,N){this.__applyText(I,L,N,"fill")},x.prototype.strokeText=function(I,L,N){this.__applyText(I,L,N,"stroke")},x.prototype.measureText=function(I){return this.__ctx.font=this.font,this.__ctx.measureText(I)},x.prototype.arc=function(I,L,N,B,J,U){if(B!==J){(B%=2*Math.PI)==(J%=2*Math.PI)&&(J=(J+2*Math.PI-.001*(U?-1:1))%(2*Math.PI));var V,Z=I+N*Math.cos(J),X=L+N*Math.sin(J),ie=I+N*Math.cos(B),te=L+N*Math.sin(B),G=U?0:1,z=J-B;z<0&&(z+=2*Math.PI),V=U?z>Math.PI?0:1:z>Math.PI?1:0,this.lineTo(ie,te),this.__addPathCommand(M("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:N,ry:N,xAxisRotation:0,largeArcFlag:V,sweepFlag:G,endX:Z,endY:X})),this.__currentPosition={x:Z,y:X}}},x.prototype.clip=function(){var I=this.__closestGroupOrSvg(),L=this.__createElement("clipPath"),N=D(this.__ids),B=this.__createElement("g");this.__applyCurrentDefaultPath(),I.removeChild(this.__currentElement),L.setAttribute("id",N),L.appendChild(this.__currentElement),this.__defs.appendChild(L),I.setAttribute("clip-path",M("url(#{id})",{id:N})),I.appendChild(B),this.__currentElement=B},x.prototype.drawImage=function(){var I,L,N,B,J,U,Z,X,ie,te,G,V,z,q=Array.prototype.slice.call(arguments),ae=q[0],ue=0,oe=0;if(3===q.length)I=q[1],L=q[2],N=J=ae.width,B=U=ae.height;else if(5===q.length)I=q[1],L=q[2],N=q[3],B=q[4],J=ae.width,U=ae.height;else{if(9!==q.length)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);ue=q[1],oe=q[2],J=q[3],U=q[4],I=q[5],L=q[6],N=q[7],B=q[8]}Z=this.__closestGroupOrSvg();var de="translate("+I+", "+L+")";if(ae instanceof x){if((X=ae.getSvg().cloneNode(!0)).childNodes&&X.childNodes.length>1){for(ie=X.childNodes[0];ie.childNodes.length;)z=ie.childNodes[0].getAttribute("id"),this.__ids[z]=z,this.__defs.appendChild(ie.childNodes[0]);if(te=X.childNodes[1]){var fe=te.getAttribute("transform");te.setAttribute("transform",fe?fe+" "+de:de),Z.appendChild(te)}}}else"CANVAS"!==ae.nodeName&&"IMG"!==ae.nodeName||((G=this.__createElement("image")).setAttribute("width",N),G.setAttribute("height",B),G.setAttribute("opacity",this.globalAlpha),G.setAttribute("preserveAspectRatio","none"),(V=this.__document.createElement("canvas")).width=N,V.height=B,V.getContext("2d").drawImage(ae,ue,oe,J,U,0,0,N,B),ae=V,G.setAttribute("transform",de),G.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===ae.nodeName?ae.toDataURL():ae.getAttribute("src")),Z.appendChild(G))},x.prototype.createPattern=function(I,L){var N,B=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),J=D(this.__ids);return B.setAttribute("id",J),B.setAttribute("width",I.width),B.setAttribute("height",I.height),"CANVAS"===I.nodeName||"IMG"===I.nodeName?((N=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",I.width),N.setAttribute("height",I.height),N.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===I.nodeName?I.toDataURL():I.getAttribute("src")),B.appendChild(N),this.__defs.appendChild(B)):I instanceof x&&(B.appendChild(I.__root.childNodes[1]),this.__defs.appendChild(B)),new C(B,this)},x.prototype.setLineDash=function(I){this.lineDash=I&&I.length>0?I.join(","):null},x.prototype.drawFocusRing=function(){},x.prototype.createImageData=function(){},x.prototype.getImageData=function(){},x.prototype.putImageData=function(){},x.prototype.globalCompositeOperation=function(){},x.prototype.setTransform=function(){},"object"==typeof window&&(window.C2S=x),"object"==typeof ee.exports&&(ee.exports=x)}()}])},6864:(j,ee,v)=>{"use strict";var _=v(406),A=v(5203),x=v(8817),E=v(4793),C=v(4152);function b(c){return c&&"object"==typeof c&&"default"in c?c:{default:c}}var M=b(_),D=b(A),P=b(x),R=b(E),I=b(C);function L(c){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(c)}function N(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function B(c,o){for(var l=0;l<o.length;l++){var d=o[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function J(c,o,l){return o&&B(c.prototype,o),l&&B(c,l),Object.defineProperty(c,"prototype",{writable:!1}),c}function U(c,o,l){return o in c?Object.defineProperty(c,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[o]=l,c}function Z(c,o){return function X(c){if(Array.isArray(c))return c}(c)||function ie(c,o){var l=null==c?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(null!=l){var m,w,d=[],f=!0,p=!1;try{for(l=l.call(c);!(f=(m=l.next()).done)&&(d.push(m.value),!o||d.length!==o);f=!0);}catch(T){p=!0,w=T}finally{try{!f&&null!=l.return&&l.return()}finally{if(p)throw w}}return d}}(c,o)||function te(c,o){if(c){if("string"==typeof c)return G(c,o);var l=Object.prototype.toString.call(c).slice(8,-1);if("Object"===l&&c.constructor&&(l=c.constructor.name),"Map"===l||"Set"===l)return Array.from(c);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return G(c,o)}}(c,o)||function V(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(c,o){(null==o||o>c.length)&&(o=c.length);for(var l=0,d=new Array(o);l<o;l++)d[l]=c[l];return d}var z=typeof window>"u"?null:window,q=z?z.navigator:null,ae=L(""),ue=L({}),oe=L(function(){}),de=typeof HTMLElement>"u"?"undefined":L(HTMLElement),we=function(o){return o&&o.instanceString&&je(o.instanceString)?o.instanceString():null},fe=function(o){return null!=o&&L(o)==ae},je=function(o){return null!=o&&L(o)===oe},Ve=function(o){return!Te(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},_e=function(o){return null!=o&&L(o)===ue&&!Ve(o)&&o.constructor===Object},ge=function(o){return null!=o&&L(o)===L(1)&&!isNaN(o)},Xe=function(o){if("undefined"!==de)return null!=o&&o instanceof HTMLElement},Te=function(o){return et(o)||At(o)},et=function(o){return"collection"===we(o)&&o._private.single},At=function(o){return"collection"===we(o)&&!o._private.single},Be=function(o){return"core"===we(o)},Fe=function(o){return"stylesheet"===we(o)},Ne=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},st=function(o){return function(o){return null!=o&&L(o)===ue}(o)&&je(o.then)},pt=function(){return q&&q.userAgent.match(/msie|trident|edge/i)},ft=function(o,l){l||(l=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],m=0;m<arguments.length;m++)p.push(arguments[m]);return p.join("$")});var d=function f(){var w,m=arguments,T=l.apply(this,m),S=f.cache;return(w=S[T])||(w=S[T]=o.apply(this,m)),w};return d.cache={},d},bt=ft(function(c){return c.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),zt=ft(function(c){return c.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),ut=ft(function(c,o){return c+o[0].toUpperCase()+o.substring(1)},function(c,o){return c+"$"+o}),Yt=function(o){return Ne(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},Nt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Ln="rgb[a]?\\(("+Nt+"[%]?)\\s*,\\s*("+Nt+"[%]?)\\s*,\\s*("+Nt+"[%]?)(?:\\s*,\\s*("+Nt+"))?\\)",Jn="rgb[a]?\\((?:"+Nt+"[%]?)\\s*,\\s*(?:"+Nt+"[%]?)\\s*,\\s*(?:"+Nt+"[%]?)(?:\\s*,\\s*(?:"+Nt+"))?\\)",xr="hsl[a]?\\(("+Nt+")\\s*,\\s*("+Nt+"[%])\\s*,\\s*("+Nt+"[%])(?:\\s*,\\s*("+Nt+"))?\\)",Ur="hsl[a]?\\((?:"+Nt+")\\s*,\\s*(?:"+Nt+"[%])\\s*,\\s*(?:"+Nt+"[%])(?:\\s*,\\s*(?:"+Nt+"))?\\)",Pi=function(o,l){return o<l?-1:o>l?1:0},Zt=null!=Object.assign?Object.assign.bind(Object):function(c){for(var o=arguments,l=1;l<o.length;l++){var d=o[l];if(null!=d)for(var f=Object.keys(d),p=0;p<f.length;p++){var m=f[p];c[m]=d[m]}}return c},ga={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ts=function(o){for(var l=o.map,d=o.keys,f=d.length,p=0;p<f;p++){var m=d[p];if(_e(m))throw Error("Tried to set map with object key");p<d.length-1?(null==l[m]&&(l[m]={}),l=l[m]):l[m]=o.value}},ms=function(o){for(var l=o.map,d=o.keys,f=d.length,p=0;p<f;p++){var m=d[p];if(_e(m))throw Error("Tried to get map with object key");if(null==(l=l[m]))return l}return l},$o=z?z.performance:null,ja=$o&&$o.now?function(){return $o.now()}:function(){return Date.now()},vc=function(){if(z){if(z.requestAnimationFrame)return function(c){z.requestAnimationFrame(c)};if(z.mozRequestAnimationFrame)return function(c){z.mozRequestAnimationFrame(c)};if(z.webkitRequestAnimationFrame)return function(c){z.webkitRequestAnimationFrame(c)};if(z.msRequestAnimationFrame)return function(c){z.msRequestAnimationFrame(c)}}return function(c){c&&setTimeout(function(){c(ja())},1e3/60)}}(),xl=function(o){return vc(o)},zi=ja,va=9261,Ua=65599,ya=5381,hd=function(o){for(var f,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:va;!(f=o.next()).done;)d=d*Ua+f.value|0;return d},wl=function(o){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:va)*Ua+o|0},El=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ya;return(l<<5)+l+o|0},Do=function(o){return 2097152*o[0]+o[1]},Mo=function(o,l){return[wl(o[0],l[0]),El(o[1],l[1])]},Ga=function(o,l){var d={value:0,done:!1},f=0,p=o.length;return hd({next:function(){return f<p?d.value=o.charCodeAt(f++):d.done=!0,d}},l)},Uh=function(){return Gh(arguments)},Gh=function(o){for(var l,d=0;d<o.length;d++){var f=o[d];l=0===d?Ga(f):Ga(f,l)}return l},fd=!0,pd=null!=console.warn,Up=null!=console.trace,tu=Number.MAX_SAFE_INTEGER||9007199254740991,To=function(){return!0},nu=function(){return!1},$a=function(){return 0},ru=function(){},Br=function(o){throw new Error(o)},Gp=function(o){if(void 0===o)return fd;fd=!!o},wr=function(o){Gp()&&(pd?console.warn(o):(console.log(o),Up&&console.trace()))},$s=function(o){return null==o?o:Ve(o)?o.slice():_e(o)?function(o){return Zt({},o)}(o):o},Cl=function(o,l){for(l=o="";o++<36;l+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return l},$p={},gd=function(){return $p},Ti=function(o){var l=Object.keys(o);return function(d){for(var f={},p=0;p<l.length;p++){var m=l[p],w=d?.[m];f[m]=void 0===w?o[m]:w}return f}},ba=function(o,l,d){for(var f=o.length-1;f>=0&&(o[f]!==l||(o.splice(f,1),!d));f--);},vd=function(o){o.splice(0,o.length)},Ao=function(o,l,d){return d&&(l=ut(d,l)),o[l]},Io=function(o,l,d,f){d&&(l=ut(d,l)),o[l]=f},As=typeof Map<"u"?Map:function(){function c(){N(this,c),this._obj={}}return J(c,[{key:"set",value:function(l,d){return this._obj[l]=d,this}},{key:"delete",value:function(l){return this._obj[l]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(l){return void 0!==this._obj[l]}},{key:"get",value:function(l){return this._obj[l]}}]),c}(),Dl=function(){function c(o){if(N(this,c),this._obj=Object.create(null),this.size=0,null!=o){var l;l=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var d=0;d<l.length;d++)this.add(l[d])}}return J(c,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(l){var d=this._obj;1!==d[l]&&(d[l]=1,this.size++)}},{key:"delete",value:function(l){var d=this._obj;1===d[l]&&(d[l]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(l){return 1===this._obj[l]}},{key:"toArray",value:function(){var l=this;return Object.keys(this._obj).filter(function(d){return l.has(d)})}},{key:"forEach",value:function(l,d){return this.toArray().forEach(l,d)}}]),c}(),Wa="undefined"!==(typeof Set>"u"?"undefined":L(Set))?Set:Dl,Ml=function(o,l){var d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==l&&Be(o)){var f=l.group;if(null==f&&(f=l.data&&null!=l.data.source&&null!=l.data.target?"edges":"nodes"),"nodes"===f||"edges"===f){this.length=1,this[0]=this;var p=this._private={cy:o,single:!0,data:l.data||{},position:l.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:f,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!l.selected,selectable:void 0===l.selectable||!!l.selectable,locked:!!l.locked,grabbed:!1,grabbable:void 0===l.grabbable||!!l.grabbable,pannable:void 0===l.pannable?"edges"===f:!!l.pannable,active:!1,classes:new Wa,animation:{current:[],queue:[]},rscratch:{},scratch:l.scratch||{},edges:[],children:[],parent:l.parent&&l.parent.isNode()?l.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),l.renderedPosition){var m=l.renderedPosition,w=o.pan(),T=o.zoom();p.position={x:(m.x-w.x)/T,y:(m.y-w.y)/T}}var S=[];Ve(l.classes)?S=l.classes:fe(l.classes)&&(S=l.classes.split(/\s+/));for(var k=0,F=S.length;k<F;k++){var H=S[k];!H||""===H||p.classes.add(H)}this.createEmitter();var W=l.style||l.css;W&&(wr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(W)),(void 0===d||d)&&this.restore()}else Br("An element must be of type `nodes` or `edges`; you specified `"+f+"`")}else Br("An element must have a core reference and parameters set")},Ir=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(d,f,p){var m;_e(d)&&!Te(d)&&(d=(m=d).roots||m.root,f=m.visit,p=m.directed),p=2!==arguments.length||je(f)?p:f,f=je(f)?f:function(){};for(var Q,w=this._private.cy,T=d=fe(d)?this.filter(d):d,S=[],k=[],F={},H={},W={},Y=0,ne=this.byGroup(),se=ne.nodes,le=ne.edges,ce=0;ce<T.length;ce++){var pe=T[ce],Me=pe.id();pe.isNode()&&(S.unshift(pe),o.bfs&&(W[Me]=!0,k.push(pe)),H[Me]=0)}for(var Ae=function(){var He=o.bfs?S.shift():S.pop(),Ie=He.id();if(o.dfs){if(W[Ie])return"continue";W[Ie]=!0,k.push(He)}var dt,Qe=H[Ie],Ge=F[Ie],We=null!=Ge?Ge.source():null,nt=null!=Ge?Ge.target():null,ot=null==Ge?void 0:He.same(We)?nt[0]:We[0];if(!0===(dt=f(He,Ge,ot,Y++,Qe)))return Q=He,"break";if(!1===dt)return"break";for(var it=He.connectedEdges().filter(function(gt){return(!p||gt.source().same(He))&&le.has(gt)}),rt=0;rt<it.length;rt++){var Et=it[rt],Dt=Et.connectedNodes().filter(function(gt){return!gt.same(He)&&se.has(gt)}),yt=Dt.id();0!==Dt.length&&!W[yt]&&(S.push(Dt=Dt[0]),o.bfs&&(W[yt]=!0,k.push(Dt)),F[yt]=Et,H[yt]=H[Ie]+1)}};0!==S.length;){var me=Ae();if("continue"!==me&&"break"===me)break}for(var De=w.collection(),ve=0;ve<k.length;ve++){var Re=k[ve],Oe=F[Re.id()];null!=Oe&&De.push(Oe),De.push(Re)}return{path:w.collection(De),found:w.collection(Q)}}},ke={breadthFirstSearch:Ir({bfs:!0}),depthFirstSearch:Ir({dfs:!0})};ke.bfs=ke.breadthFirstSearch,ke.dfs=ke.depthFirstSearch;var Se=Ti({root:null,weight:function(o){return 1},directed:!1}),Ye={dijkstra:function(o){if(!_e(o)){var l=arguments;o={root:l[0],weight:l[1],directed:l[2]}}var Ge,We,d=Se(o),f=d.root,m=d.directed,w=this,T=d.weight,S=fe(f)?this.filter(f)[0]:f[0],k={},F={},H={},W=this.byGroup(),Y=W.nodes,Q=W.edges;Q.unmergeBy(function(Qe){return Qe.isLoop()});for(var ne=function(Ge){return k[Ge.id()]},le=new D.default(function(Qe,Ge){return ne(Qe)-ne(Ge)}),ce=0;ce<Y.length;ce++){var pe=Y[ce];k[pe.id()]=pe.same(S)?0:1/0,le.push(pe)}for(var Me=function(Ge,We){for(var dt,nt=(m?Ge.edgesTo(We):Ge.edgesWith(We)).intersect(Q),ot=1/0,it=0;it<nt.length;it++){var rt=nt[it],Et=T(rt);(Et<ot||!dt)&&(ot=Et,dt=rt)}return{edge:dt,dist:ot}};le.size()>0;){var Ae=le.pop(),me=ne(Ae),De=Ae.id();if(H[De]=me,me!==1/0)for(var ve=Ae.neighborhood().intersect(Y),Re=0;Re<ve.length;Re++){var Oe=ve[Re],Ee=Oe.id(),He=Me(Ae,Oe),Ie=me+He.dist;Ie<ne(Oe)&&(We=Ie,k[(Ge=Oe).id()]=We,le.updateItem(Ge),F[Ee]={node:Ae,edge:He.edge})}}return{distanceTo:function(Ge){var We=fe(Ge)?Y.filter(Ge)[0]:Ge[0];return H[We.id()]},pathTo:function(Ge){var We=fe(Ge)?Y.filter(Ge)[0]:Ge[0],nt=[],ot=We,dt=ot.id();if(We.length>0)for(nt.unshift(We);F[dt];){var it=F[dt];nt.unshift(it.edge),nt.unshift(it.node),dt=(ot=it.node).id()}return w.spawn(nt)}}}},_t={kruskal:function(o){o=o||function(ce){return 1};for(var l=this.byGroup(),d=l.nodes,f=l.edges,p=d.length,m=new Array(p),w=d,T=function(pe){for(var Me=0;Me<m.length;Me++)if(m[Me].has(pe))return Me},S=0;S<p;S++)m[S]=this.spawn(d[S]);for(var k=f.sort(function(ce,pe){return o(ce)-o(pe)}),F=0;F<k.length;F++){var H=k[F],W=H.source()[0],Y=H.target()[0],Q=T(W),ne=T(Y),se=m[Q],le=m[ne];Q!==ne&&(w.merge(H),se.merge(le),m.splice(ne,1))}return w}},ct=Ti({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),ht={aStar:function(o){var l=this.cy(),d=ct(o),f=d.root,p=d.goal,m=d.heuristic,w=d.directed,T=d.weight;f=l.collection(f)[0],p=l.collection(p)[0];var ce,pe,S=f.id(),k=p.id(),F={},H={},W={},Y=new D.default(function(dt,it){return H[dt.id()]-H[it.id()]}),Q=new Wa,ne={},se={},le=function(it,rt){Y.push(it),Q.add(rt)};le(f,S),F[S]=0,H[S]=m(f);for(var me=0;Y.size()>0;){if(pe=(ce=Y.pop()).id(),Q.delete(pe),me++,pe===k){for(var De=[],ve=p,Re=k,Oe=se[Re];De.unshift(ve),null!=Oe&&De.unshift(Oe),null!=(ve=ne[Re]);)Oe=se[Re=ve.id()];return{found:!0,distance:F[pe],path:this.spawn(De),steps:me}}W[pe]=!0;for(var Ee=ce._private.edges,He=0;He<Ee.length;He++){var Ie=Ee[He];if(this.hasElementWithId(Ie.id())&&(!w||Ie.data("source")===pe)){var Qe=Ie.source(),Ge=Ie.target(),We=Qe.id()!==pe?Qe:Ge,nt=We.id();if(this.hasElementWithId(nt)&&!W[nt]){var ot=F[pe]+T(Ie);if(!Q.has(nt)){F[nt]=ot,H[nt]=ot+m(We),le(We,nt),ne[nt]=ce,se[nt]=Ie;continue}ot<F[nt]&&(F[nt]=ot,H[nt]=ot+m(We),ne[nt]=ce,se[nt]=Ie)}}}}return{found:!1,distance:void 0,path:void 0,steps:me}}},rn=Ti({weight:function(o){return 1},directed:!1}),Bt={floydWarshall:function(o){for(var l=this.cy(),d=rn(o),p=d.directed,m=d.weight,w=this.byGroup(),T=w.nodes,S=w.edges,k=T.length,F=k*k,H=function(Et){return T.indexOf(Et)},W=function(Et){return T[Et]},Y=new Array(F),Q=0;Q<F;Q++){var ne=Q%k;Y[Q]=(Q-ne)/k===ne?0:1/0}for(var le=new Array(F),ce=new Array(F),pe=0;pe<S.length;pe++){var Me=S[pe],Ae=Me.source()[0],me=Me.target()[0];if(Ae!==me){var De=H(Ae),ve=H(me),Re=De*k+ve,Oe=m(Me);if(Y[Re]>Oe&&(Y[Re]=Oe,le[Re]=ve,ce[Re]=Me),!p){var Ee=ve*k+De;!p&&Y[Ee]>Oe&&(Y[Ee]=Oe,le[Ee]=De,ce[Ee]=Me)}}}for(var He=0;He<k;He++)for(var Ie=0;Ie<k;Ie++)for(var Qe=Ie*k+He,Ge=0;Ge<k;Ge++){var We=Ie*k+Ge,nt=He*k+Ge;Y[Qe]+Y[nt]<Y[We]&&(Y[We]=Y[Qe]+Y[nt],le[We]=le[Qe])}var dt=function(Et){return H(function(Et){return(fe(Et)?l.filter(Et):Et)[0]}(Et))};return{distance:function(Et,Dt){var yt=dt(Et),gt=dt(Dt);return Y[yt*k+gt]},path:function(Et,Dt){var yt=dt(Et),gt=dt(Dt),tt=W(yt);if(yt===gt)return tt.collection();if(null==le[yt*k+gt])return l.collection();var Ct=l.collection();for(Ct.merge(tt);yt!==gt;)Ct.merge(ce[yt*k+(yt=le[yt*k+gt])]),Ct.merge(W(yt));return Ct}}}},jt=Ti({weight:function(o){return 1},directed:!1,root:null}),vn={bellmanFord:function(o){var l=this,d=jt(o),p=d.directed,m=d.root,w=d.weight,T=this,S=this.cy(),k=this.byGroup(),F=k.edges,H=k.nodes,W=H.length,Y=new As,Q=!1,ne=[];m=S.collection(m)[0],F.unmergeBy(function(sn){return sn.isLoop()});for(var se=F.length,le=function(Ut){var hn=Y.get(Ut.id());return hn||(hn={},Y.set(Ut.id(),hn)),hn},ce=function(Ut){return(fe(Ut)?S.$(Ut):Ut)[0]},Ae=0;Ae<W;Ae++){var me=H[Ae],De=le(me);De.dist=me.same(m)?0:1/0,De.pred=null,De.edge=null}for(var ve=!1,Re=function(Ut,hn,Kn,On,yn,Rt){var be=On.dist+Rt;be<yn.dist&&!Kn.same(On.edge)&&(yn.dist=be,yn.pred=Ut,yn.edge=Kn,ve=!0)},Oe=1;Oe<W;Oe++){ve=!1;for(var Ee=0;Ee<se;Ee++){var He=F[Ee],Ie=He.source(),Qe=He.target(),Ge=w(He),We=le(Ie),nt=le(Qe);Re(Ie,0,He,We,nt,Ge),p||Re(Qe,0,He,nt,We,Ge)}if(!ve)break}if(ve)for(var ot=[],dt=0;dt<se;dt++){var it=F[dt],rt=it.source(),Et=it.target(),Dt=w(it),yt=le(rt).dist,gt=le(Et).dist;if(yt+Dt<gt||!p&&gt+Dt<yt){if(Q||(wr("Graph contains a negative weight cycle for Bellman-Ford"),Q=!0),!1===o.findNegativeWeightCycles)break;var tt=[];yt+Dt<gt&&tt.push(rt),!p&&gt+Dt<yt&&tt.push(Et);for(var Ct=tt.length,Tt=0;Tt<Ct;Tt++){var Pt=tt[Tt],Vt=[Pt];Vt.push(le(Pt).edge);for(var Cn=le(Pt).pred;-1===Vt.indexOf(Cn);)Vt.push(Cn),Vt.push(le(Cn).edge),Cn=le(Cn).pred;for(var Nn=(Vt=Vt.slice(Vt.indexOf(Cn)))[0].id(),Ht=0,Ft=2;Ft<Vt.length;Ft+=2)Vt[Ft].id()<Nn&&(Nn=Vt[Ft].id(),Ht=Ft);(Vt=Vt.slice(Ht).concat(Vt.slice(0,Ht))).push(Vt[0]);var gn=Vt.map(function(sn){return sn.id()}).join(",");-1===ot.indexOf(gn)&&(ne.push(T.spawn(Vt)),ot.push(gn))}}}return{distanceTo:function(Ut){return le(ce(Ut)).dist},pathTo:function(Ut){for(var hn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,On=[],yn=ce(Ut);;){if(null==yn)return l.spawn();var Rt=le(yn),be=Rt.edge,lt=Rt.pred;if(On.unshift(yn[0]),yn.same(hn)&&On.length>0)break;null!=be&&On.unshift(be),yn=lt}return T.spawn(On)},hasNegativeWeightCycle:Q,negativeWeightCycles:ne}}},Ze=Math.sqrt(2),ur=function(o,l,d){0===d.length&&Br("Karger-Stein must be run on a connected (sub)graph");for(var f=d[o],w=l[f[1]],T=l[f[2]],S=d,k=S.length-1;k>=0;k--){var F=S[k],H=F[1],W=F[2];(l[H]===w&&l[W]===T||l[H]===T&&l[W]===w)&&S.splice(k,1)}for(var Y=0;Y<S.length;Y++){var Q=S[Y];Q[1]===T?(S[Y]=Q.slice(),S[Y][1]=w):Q[2]===T&&(S[Y]=Q.slice(),S[Y][2]=w)}for(var ne=0;ne<l.length;ne++)l[ne]===T&&(l[ne]=w);return S},Wt=function(o,l,d,f){for(;d>f;){var p=Math.floor(Math.random()*l.length);l=ur(p,o,l),d--}return l},Xt={kargerStein:function(){var o=this,l=this.byGroup(),d=l.nodes,f=l.edges;f.unmergeBy(function(nt){return nt.isLoop()});var p=d.length,m=f.length,w=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),T=Math.floor(p/Ze);if(!(p<2)){for(var S=[],k=0;k<m;k++){var F=f[k];S.push([k,d.indexOf(F.source()),d.indexOf(F.target())])}for(var H=1/0,W=[],Y=new Array(p),Q=new Array(p),ne=new Array(p),se=function(ot,dt){for(var it=0;it<p;it++)dt[it]=ot[it]},le=0;le<=w;le++){for(var ce=0;ce<p;ce++)Q[ce]=ce;var pe=Wt(Q,S.slice(),p,T),Me=pe.slice();se(Q,ne);var Ae=Wt(Q,pe,T,2),me=Wt(ne,Me,T,2);Ae.length<=me.length&&Ae.length<H?(H=Ae.length,W=Ae,se(Q,Y)):me.length<=Ae.length&&me.length<H&&(H=me.length,W=me,se(ne,Y))}for(var De=this.spawn(W.map(function(nt){return f[nt[0]]})),ve=this.spawn(),Re=this.spawn(),Oe=Y[0],Ee=0;Ee<Y.length;Ee++){var Ie=d[Ee];Y[Ee]===Oe?ve.merge(Ie):Re.merge(Ie)}var Qe=function(ot){var dt=o.spawn();return ot.forEach(function(it){dt.merge(it),it.connectedEdges().forEach(function(rt){o.contains(rt)&&!De.contains(rt)&&dt.merge(rt)})}),dt},Ge=[Qe(ve),Qe(Re)];return{cut:De,components:Ge,partition1:ve,partition2:Re}}Br("At least 2 nodes are required for Karger-Stein algorithm")}},nr=function(o,l,d){return{x:o.x*l+d.x,y:o.y*l+d.y}},rr=function(o,l,d){return{x:(o.x-d.x)/l,y:(o.y-d.y)/l}},ir=function(o){return{x:o[0],y:o[1]}},Hr=function(o,l){return Math.atan2(l,o)-Math.PI/2},hi=Math.log2||function(c){return Math.log(c)/Math.log(2)},bi=function(o){return o>0?1:o<0?-1:0},$r=function(o,l){return Math.sqrt(Pr(o,l))},Pr=function(o,l){var d=l.x-o.x,f=l.y-o.y;return d*d+f*f},ko=function(o){for(var l=o.length,d=0,f=0;f<l;f++)d+=o[f];for(var p=0;p<l;p++)o[p]=o[p]/d;return o},dr=function(o,l,d,f){return(1-f)*(1-f)*o+2*(1-f)*f*l+f*f*d},oo=function(o,l,d,f){return{x:dr(o.x,l.x,d.x,f),y:dr(o.y,l.y,d.y,f)}},En=function(o,l,d){return Math.max(o,Math.min(d,l))},Kr=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},tn=function(o,l){o.x1=Math.min(o.x1,l.x1),o.x2=Math.max(o.x2,l.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,l.y1),o.y2=Math.max(o.y2,l.y2),o.h=o.y2-o.y1},Yh=function(o,l,d){o.x1=Math.min(o.x1,l),o.x2=Math.max(o.x2,l),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,d),o.y2=Math.max(o.y2,d),o.h=o.y2-o.y1},jn=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=l,o.x2+=l,o.y1-=l,o.y2+=l,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Wo=function(o){var d,f,p,m,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===l.length)d=f=p=m=l[0];else if(2===l.length)d=p=l[0],m=f=l[1];else if(4===l.length){var w=Z(l,4);d=w[0],f=w[1],p=w[2],m=w[3]}return o.x1-=m,o.x2+=f,o.y1-=d,o.y2+=p,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Al=function(o,l){o.x1=l.x1,o.y1=l.y1,o.x2=l.x2,o.y2=l.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},ao=function(o,l){return!(o.x1>l.x2||l.x1>o.x2||o.x2<l.x1||l.x2<o.x1||o.y2<l.y1||l.y2<o.y1||o.y1>l.y2||l.y1>o.y2)},Oo=function(o,l,d){return o.x1<=l&&l<=o.x2&&o.y1<=d&&d<=o.y2},iu=function(o,l){return Oo(o,l.x,l.y)},Yo=function(o,l){return Oo(o,l.x1,l.y1)&&Oo(o,l.x2,l.y2)},Ya=function(o,l,d,f,p,m,w){var F,T=wd(p,m),S=p/2,k=m/2,W=f-k-w;if((F=Ws(o,l,d,f,d-S+T-w,W,d+S-T+w,W,!1)).length>0)return F;var ne=d+S+w;if((F=Ws(o,l,d,f,ne,f-k+T-w,ne,f+k-T+w,!1)).length>0)return F;var Me=f+k+w;if((F=Ws(o,l,d,f,d-S+T-w,Me,d+S-T+w,Me,!1)).length>0)return F;var Ee,De=d-S-w;if((F=Ws(o,l,d,f,De,f-k+T-w,De,f+k-T+w,!1)).length>0)return F;var He=d-S+T,Ie=f-k+T;if((Ee=Ro(o,l,d,f,He,Ie,T+w)).length>0&&Ee[0]<=He&&Ee[1]<=Ie)return[Ee[0],Ee[1]];var Qe=d+S-T,Ge=f-k+T;if((Ee=Ro(o,l,d,f,Qe,Ge,T+w)).length>0&&Ee[0]>=Qe&&Ee[1]<=Ge)return[Ee[0],Ee[1]];var We=d+S-T,nt=f+k-T;if((Ee=Ro(o,l,d,f,We,nt,T+w)).length>0&&Ee[0]>=We&&Ee[1]>=nt)return[Ee[0],Ee[1]];var ot=d-S+T,dt=f+k-T;return(Ee=Ro(o,l,d,f,ot,dt,T+w)).length>0&&Ee[0]<=ot&&Ee[1]>=dt?[Ee[0],Ee[1]]:[]},bd=function(o,l,d,f,p,m,w){var T=w,S=Math.min(d,p),k=Math.max(d,p),F=Math.min(f,m),H=Math.max(f,m);return S-T<=o&&o<=k+T&&F-T<=l&&l<=H+T},su=function(o,l,d,f,p,m,w,T,S){var k_x1=Math.min(d,w,p)-S,k_x2=Math.max(d,w,p)+S,k_y1=Math.min(f,T,m)-S,k_y2=Math.max(f,T,m)+S;return!(o<k_x1||o>k_x2||l<k_y1||l>k_y2)},_d=function(o,l,d,f,p,m,w,T){var W=[];!function(o,l,d,f,p){var w,T,S,k,F,H,W,Y;0===o&&(o=1e-5),S=-27*(f/=o)+(l/=o)*(9*(d/=o)-l*l*2),w=(T=(3*d-l*l)/9)*T*T+(S/=54)*S,p[1]=0,W=l/3,w>0?(F=(F=S+Math.sqrt(w))<0?-Math.pow(-F,1/3):Math.pow(F,1/3),H=(H=S-Math.sqrt(w))<0?-Math.pow(-H,1/3):Math.pow(H,1/3),p[0]=-W+F+H,p[4]=p[2]=-(W+=(F+H)/2),W=Math.sqrt(3)*(-H+F)/2,p[3]=W,p[5]=-W):(p[5]=p[3]=0,0===w?(Y=S<0?-Math.pow(-S,1/3):Math.pow(S,1/3),p[0]=2*Y-W,p[4]=p[2]=-(Y+W)):(k=(T=-T)*T*T,k=Math.acos(S/Math.sqrt(k)),Y=2*Math.sqrt(T),p[0]=-W+Y*Math.cos(k/3),p[2]=-W+Y*Math.cos((k+2*Math.PI)/3),p[4]=-W+Y*Math.cos((k+4*Math.PI)/3)))}(1*d*d-4*d*p+2*d*w+4*p*p-4*p*w+w*w+f*f-4*f*m+2*f*T+4*m*m-4*m*T+T*T,9*d*p-3*d*d-3*d*w-6*p*p+3*p*w+9*f*m-3*f*f-3*f*T-6*m*m+3*m*T,3*d*d-6*d*p+d*w-d*o+2*p*p+2*p*o-w*o+3*f*f-6*f*m+f*T-f*l+2*m*m+2*m*l-T*l,1*d*p-d*d+d*o-p*o+f*m-f*f+f*l-m*l,W);for(var Q=[],ne=0;ne<6;ne+=2)Math.abs(W[ne+1])<1e-7&&W[ne]>=0&&W[ne]<=1&&Q.push(W[ne]);Q.push(1),Q.push(0);for(var le,ce,pe,se=-1,Me=0;Me<Q.length;Me++)le=Math.pow(1-Q[Me],2)*d+2*(1-Q[Me])*Q[Me]*p+Q[Me]*Q[Me]*w,ce=Math.pow(1-Q[Me],2)*f+2*(1-Q[Me])*Q[Me]*m+Q[Me]*Q[Me]*T,pe=Math.pow(le-o,2)+Math.pow(ce-l,2),se>=0?pe<se&&(se=pe):se=pe;return se},Yp=function(o,l,d,f,p,m){var w=[o-d,l-f],T=[p-d,m-f],S=T[0]*T[0]+T[1]*T[1],k=w[0]*w[0]+w[1]*w[1],F=w[0]*T[0]+w[1]*T[1],H=F*F/S;return F<0?k:H>S?(o-p)*(o-p)+(l-m)*(l-m):k-H},Vr=function(o,l,d){for(var f,p,m,w,S=0,k=0;k<d.length/2;k++)if(p=d[2*k+1],k+1<d.length/2?(m=d[2*(k+1)],w=d[2*(k+1)+1]):(m=d[2*(k+1-d.length/2)],w=d[2*(k+1-d.length/2)+1]),(f=d[2*k])!=o||m!=o){if(!(f>=o&&o>=m||f<=o&&o<=m))continue;(o-f)/(m-f)*(w-p)+p>l&&S++}return S%2!=0},lo=function(o,l,d,f,p,m,w,T,S){var F,Q,k=new Array(d.length);null!=T[0]?(F=Math.atan(T[1]/T[0]),T[0]<0?F+=Math.PI/2:F=-F-Math.PI/2):F=T;for(var H=Math.cos(-F),W=Math.sin(-F),Y=0;Y<k.length/2;Y++)k[2*Y]=m/2*(d[2*Y]*H-d[2*Y+1]*W),k[2*Y+1]=w/2*(d[2*Y+1]*H+d[2*Y]*W),k[2*Y]+=f,k[2*Y+1]+=p;if(S>0){var ne=Xa(k,-S);Q=Nr(ne)}else Q=k;return Vr(o,l,Q)},Nr=function(o){for(var w,T,S,k,l=new Array(o.length/2),F=0;F<o.length/4;F++){F<o.length/4-1?(w=o[4*(F+1)],T=o[4*(F+1)+1],S=o[4*(F+1)+2],k=o[4*(F+1)+3]):(w=o[0],T=o[1],S=o[2],k=o[3]);var H=Ws(o[4*F],o[4*F+1],o[4*F+2],o[4*F+3],w,T,S,k,!0);l[2*F]=H[0],l[2*F+1]=H[1]}return l},Xa=function(o,l){for(var f,p,m,w,d=new Array(2*o.length),T=0;T<o.length/2;T++){T<o.length/2-1?(m=o[2*(T+1)],w=o[2*(T+1)+1]):(m=o[0],w=o[1]);var S=w-(p=o[2*T+1]),k=-(m-(f=o[2*T])),F=Math.sqrt(S*S+k*k),H=S/F,W=k/F;d[4*T]=f+H*l,d[4*T+1]=p+W*l,d[4*T+2]=m+H*l,d[4*T+3]=w+W*l}return d},Ka=function(o,l,d,f,p,m,w){return o-=p,l-=m,(o/=d/2+w)*o+(l/=f/2+w)*l<=1},Ro=function(o,l,d,f,p,m,w){var T=[d-o,f-l],S=[o-p,l-m],k=T[0]*T[0]+T[1]*T[1],F=2*(S[0]*T[0]+S[1]*T[1]),W=F*F-4*k*(S[0]*S[0]+S[1]*S[1]-w*w);if(W<0)return[];var Y=(-F+Math.sqrt(W))/(2*k),Q=(-F-Math.sqrt(W))/(2*k),ne=Math.min(Y,Q),se=Math.max(Y,Q),le=[];if(ne>=0&&ne<=1&&le.push(ne),se>=0&&se<=1&&le.push(se),0===le.length)return[];var ce=le[0]*T[0]+o,pe=le[0]*T[1]+l;return le.length>1?le[0]==le[1]?[ce,pe]:[ce,pe,le[1]*T[0]+o,le[1]*T[1]+l]:[ce,pe]},qa=function(o,l,d){return l<=o&&o<=d||d<=o&&o<=l?o:o<=l&&l<=d||d<=l&&l<=o?l:d},Ws=function(o,l,d,f,p,m,w,T,S){var k=o-p,F=d-o,H=w-p,W=l-m,Y=f-l,Q=T-m,ne=H*W-Q*k,se=F*W-Y*k,le=Q*F-H*Y;if(0!==le){var ce=ne/le,pe=se/le;return-.001<=ce&&ce<=1.001&&-.001<=pe&&pe<=1.001||S?[o+ce*F,l+ce*Y]:[]}return 0===ne||0===se?qa(o,d,w)===w?[w,T]:qa(o,d,p)===p?[p,m]:qa(p,w,d)===d?[d,f]:[]:[]},Il=function(o,l,d,f,p,m,w,T){var k,W,S=[],F=new Array(d.length),H=!0;if(null==m&&(H=!1),H){for(var Y=0;Y<F.length/2;Y++)F[2*Y]=d[2*Y]*m+f,F[2*Y+1]=d[2*Y+1]*w+p;if(T>0){var Q=Xa(F,-T);W=Nr(Q)}else W=F}else W=d;for(var le,ce,pe=0;pe<W.length/2;pe++)pe<W.length/2-1?(le=W[2*(pe+1)],ce=W[2*(pe+1)+1]):(le=W[0],ce=W[1]),0!==(k=Ws(o,l,f,p,W[2*pe],W[2*pe+1],le,ce)).length&&S.push(k[0],k[1]);return S},yc=function(o,l,d){var f=[o[0]-l[0],o[1]-l[1]],p=Math.sqrt(f[0]*f[0]+f[1]*f[1]),m=(p-d)/p;return m<0&&(m=1e-5),[l[0]+m*f[0],l[1]+m*f[1]]},gs=function(o,l){var d=kl(o,l);return ou(d)},ou=function(o){for(var l,d,f=o.length/2,p=1/0,m=1/0,w=-1/0,T=-1/0,S=0;S<f;S++)l=o[2*S],d=o[2*S+1],p=Math.min(p,l),w=Math.max(w,l),m=Math.min(m,d),T=Math.max(T,d);for(var k=2/(w-p),F=2/(T-m),H=0;H<f;H++)l=o[2*H]=o[2*H]*k,d=o[2*H+1]=o[2*H+1]*F,p=Math.min(p,l),w=Math.max(w,l),m=Math.min(m,d),T=Math.max(T,d);if(m<-1)for(var W=0;W<f;W++)d=o[2*W+1]=o[2*W+1]+(-1-m);return o},kl=function(o,l){var d=1/o*2*Math.PI,f=o%2==0?Math.PI/2+d/2:Math.PI/2;f+=l;for(var m,p=new Array(2*o),w=0;w<o;w++)m=w*d+f,p[2*w]=Math.cos(m),p[2*w+1]=Math.sin(-m);return p},wd=function(o,l){return Math.min(o/4,l/4,8)},xt=function(o,l){return Math.min(o/10,l/10,8)},au=function(o,l){return{heightOffset:Math.min(15,.05*l),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},Kp=Ti({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),Ed={pageRank:function(o){for(var l=Kp(o),d=l.dampingFactor,f=l.precision,p=l.iterations,m=l.weight,w=this._private.cy,T=this.byGroup(),S=T.nodes,k=T.edges,F=S.length,W=k.length,Y=new Array(F*F),Q=new Array(F),ne=(1-d)/F,se=0;se<F;se++){for(var le=0;le<F;le++)Y[se*F+le]=0;Q[se]=0}for(var pe=0;pe<W;pe++){var Me=k[pe],Ae=Me.data("source"),me=Me.data("target");if(Ae!==me){var De=S.indexOfId(Ae),ve=S.indexOfId(me),Re=m(Me);Y[ve*F+De]+=Re,Q[De]+=Re}}for(var Ee=1/F+ne,He=0;He<F;He++)if(0===Q[He])for(var Ie=0;Ie<F;Ie++)Y[Ie*F+He]=Ee;else for(var Ge=0;Ge<F;Ge++){var We=Ge*F+He;Y[We]=Y[We]/Q[He]+ne}for(var dt,nt=new Array(F),ot=new Array(F),it=0;it<F;it++)nt[it]=1;for(var rt=0;rt<p;rt++){for(var Et=0;Et<F;Et++)ot[Et]=0;for(var Dt=0;Dt<F;Dt++)for(var yt=0;yt<F;yt++)ot[Dt]+=Y[Dt*F+yt]*nt[yt];ko(ot),dt=nt,nt=ot,ot=dt;for(var tt=0,Ct=0;Ct<F;Ct++){var Tt=dt[Ct]-nt[Ct];tt+=Tt*Tt}if(tt<f)break}return{rank:function(Cn){return Cn=w.collection(Cn)[0],nt[S.indexOf(Cn)]}}}},Fv=Ti({root:null,weight:function(o){return 1},directed:!1,alpha:0}),lu={degreeCentralityNormalized:function(o){o=Fv(o);var l=this.cy(),d=this.nodes(),f=d.length;if(o.directed){for(var k={},F={},H=0,W=0,Y=0;Y<f;Y++){var Q=d[Y],ne=Q.id();o.root=Q;var se=this.degreeCentrality(o);H<se.indegree&&(H=se.indegree),W<se.outdegree&&(W=se.outdegree),k[ne]=se.indegree,F[ne]=se.outdegree}return{indegree:function(ce){return 0==H?0:(fe(ce)&&(ce=l.filter(ce)),k[ce.id()]/H)},outdegree:function(ce){return 0===W?0:(fe(ce)&&(ce=l.filter(ce)),F[ce.id()]/W)}}}for(var p={},m=0,w=0;w<f;w++){var T=d[w];o.root=T;var S=this.degreeCentrality(o);m<S.degree&&(m=S.degree),p[T.id()]=S.degree}return{degree:function(ce){return 0===m?0:(fe(ce)&&(ce=l.filter(ce)),p[ce.id()]/m)}}},degreeCentrality:function(o){o=Fv(o);var l=this.cy(),d=this,p=o.root,m=o.weight,w=o.directed,T=o.alpha;if(p=l.collection(p)[0],w){for(var W=p.connectedEdges(),Y=W.filter(function(Ae){return Ae.target().same(p)&&d.has(Ae)}),Q=W.filter(function(Ae){return Ae.source().same(p)&&d.has(Ae)}),ne=Y.length,se=Q.length,le=0,ce=0,pe=0;pe<Y.length;pe++)le+=m(Y[pe]);for(var Me=0;Me<Q.length;Me++)ce+=m(Q[Me]);return{indegree:Math.pow(ne,1-T)*Math.pow(le,T),outdegree:Math.pow(se,1-T)*Math.pow(ce,T)}}for(var S=p.connectedEdges().intersection(d),k=S.length,F=0,H=0;H<S.length;H++)F+=m(S[H]);return{degree:Math.pow(k,1-T)*Math.pow(F,T)}}};lu.dc=lu.degreeCentrality,lu.dcn=lu.degreeCentralityNormalised=lu.degreeCentralityNormalized;var Bv=Ti({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),co={closenessCentralityNormalized:function(o){for(var l=Bv(o),d=l.harmonic,f=l.weight,p=l.directed,m=this.cy(),w={},T=0,S=this.nodes(),k=this.floydWarshall({weight:f,directed:p}),F=0;F<S.length;F++){for(var H=0,W=S[F],Y=0;Y<S.length;Y++)if(F!==Y){var Q=k.distance(W,S[Y]);H+=d?1/Q:Q}d||(H=1/H),T<H&&(T=H),w[W.id()]=H}return{closeness:function(se){return 0==T?0:(se=fe(se)?m.filter(se)[0].id():se.id(),w[se]/T)}}},closenessCentrality:function(o){var l=Bv(o),d=l.root,f=l.weight,p=l.directed,m=l.harmonic;d=this.filter(d)[0];for(var w=this.dijkstra({root:d,weight:f,directed:p}),T=0,S=this.nodes(),k=0;k<S.length;k++){var F=S[k];if(!F.same(d)){var H=w.distanceTo(F);T+=m?1/H:H}}return m?T:1/T}};co.cc=co.closenessCentrality,co.ccn=co.closenessCentralityNormalised=co.closenessCentralityNormalized;var Ko=Ti({weight:null,directed:!1}),Vv={betweennessCentrality:function(o){for(var l=Ko(o),d=l.directed,f=l.weight,p=null!=f,m=this.cy(),w=this.nodes(),T={},S={},k=0,F={set:function(ce,pe){S[ce]=pe,pe>k&&(k=pe)},get:function(ce){return S[ce]}},H=0;H<w.length;H++){var W=w[H],Y=W.id();T[Y]=d?W.outgoers().nodes():W.openNeighborhood().nodes(),F.set(Y,0)}for(var Q=function(ce){for(var pe=w[ce].id(),Me=[],Ae={},me={},De={},ve=new D.default(function(yt,gt){return De[yt]-De[gt]}),Re=0;Re<w.length;Re++){var Oe=w[Re].id();Ae[Oe]=[],me[Oe]=0,De[Oe]=1/0}for(me[pe]=1,De[pe]=0,ve.push(pe);!ve.empty();){var Ee=ve.pop();if(Me.push(Ee),p)for(var He=0;He<T[Ee].length;He++){var Ge,Ie=T[Ee][He],Qe=m.getElementById(Ee);Ge=Qe.edgesTo(Ie).length>0?Qe.edgesTo(Ie)[0]:Ie.edgesTo(Qe)[0];var We=f(Ge);Ie=Ie.id(),De[Ie]>De[Ee]+We&&(De[Ie]=De[Ee]+We,ve.nodes.indexOf(Ie)<0?ve.push(Ie):ve.updateItem(Ie),me[Ie]=0,Ae[Ie]=[]),De[Ie]==De[Ee]+We&&(me[Ie]=me[Ie]+me[Ee],Ae[Ie].push(Ee))}else for(var nt=0;nt<T[Ee].length;nt++){var ot=T[Ee][nt].id();De[ot]==1/0&&(ve.push(ot),De[ot]=De[Ee]+1),De[ot]==De[Ee]+1&&(me[ot]=me[ot]+me[Ee],Ae[ot].push(Ee))}}for(var dt={},it=0;it<w.length;it++)dt[w[it].id()]=0;for(;Me.length>0;){for(var rt=Me.pop(),Et=0;Et<Ae[rt].length;Et++){var Dt=Ae[rt][Et];dt[Dt]=dt[Dt]+me[Dt]/me[rt]*(1+dt[rt])}rt!=w[ce].id()&&F.set(rt,F.get(rt)+dt[rt])}},ne=0;ne<w.length;ne++)Q(ne);var se={betweenness:function(ce){var pe=m.collection(ce).id();return F.get(pe)},betweennessNormalized:function(ce){if(0==k)return 0;var pe=m.collection(ce).id();return F.get(pe)/k}};return se.betweennessNormalised=se.betweennessNormalized,se}};Vv.bc=Vv.betweennessCentrality;var tM=Ti({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(c){return 1}]}),Za=function(o,l){for(var d=0,f=0;f<l.length;f++)d+=l[f](o);return d},Cd=function(o,l){for(var d,f=0;f<l;f++){d=0;for(var p=0;p<l;p++)d+=o[p*l+f];for(var m=0;m<l;m++)o[m*l+f]=o[m*l+f]/d}},qp=function(o,l,d){for(var f=new Array(d*d),p=0;p<d;p++){for(var m=0;m<d;m++)f[p*d+m]=0;for(var w=0;w<d;w++)for(var T=0;T<d;T++)f[p*d+T]+=o[p*d+w]*l[w*d+T]}return f},Zp=function(o,l,d){for(var f=o.slice(0),p=1;p<d;p++)o=qp(o,f,l);return o},Hv=function(o,l,d){for(var f=new Array(l*l),p=0;p<l*l;p++)f[p]=Math.pow(o[p],d);return Cd(f,l),f},Qa=function(o,l,d,f){for(var p=0;p<d;p++)if(Math.round(o[p]*Math.pow(10,f))/Math.pow(10,f)!=Math.round(l[p]*Math.pow(10,f))/Math.pow(10,f))return!1;return!0},Ax=function(o,l){for(var d=0;d<o.length;d++)if(!l[d]||o[d].id()!==l[d].id())return!1;return!0},zv=function(o){for(var l=this.nodes(),d=this.edges(),f=this.cy(),p=function(o){return tM(o)}(o),m={},w=0;w<l.length;w++)m[l[w].id()]=w;for(var F,T=l.length,S=T*T,k=new Array(S),H=0;H<S;H++)k[H]=0;for(var W=0;W<d.length;W++){var Y=d[W],Q=m[Y.source().id()],ne=m[Y.target().id()],se=Za(Y,p.attributes);k[Q*T+ne]+=se,k[ne*T+Q]+=se}(function(o,l,d){for(var f=0;f<l;f++)o[f*l+f]=d})(k,T,p.multFactor),Cd(k,T);for(var le=!0,ce=0;le&&ce<p.maxIterations;)le=!1,F=Zp(k,T,p.expandFactor),k=Hv(F,T,p.inflateFactor),Qa(k,F,S,4)||(le=!0),ce++;var pe=function(o,l,d,f){for(var p=[],m=0;m<l;m++){for(var w=[],T=0;T<l;T++)Math.round(1e3*o[m*l+T])/1e3>0&&w.push(d[T]);0!==w.length&&p.push(f.collection(w))}return p}(k,T,l,f);return pe=function(o){for(var l=0;l<o.length;l++)for(var d=0;d<o.length;d++)l!=d&&Ax(o[l],o[d])&&o.splice(d,1);return o}(pe),pe},jv={markovClustering:zv,mcl:zv},Uv=function(o){return o},Tr=function(o,l){return Math.abs(l-o)},Gv=function(o,l,d){return o+Tr(l,d)},Qp=function(o,l,d){return o+Math.pow(d-l,2)},en=function(o){return Math.sqrt(o)},Ys=function(o,l,d){return Math.max(o,Tr(l,d))},hr=function(o,l,d,f,p){for(var m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Uv,w=f,k=0;k<o;k++)w=p(w,l(k),d(k));return m(w)},_i={euclidean:function(o,l,d){return o>=2?hr(o,l,d,0,Qp,en):hr(o,l,d,0,Gv)},squaredEuclidean:function(o,l,d){return hr(o,l,d,0,Qp)},manhattan:function(o,l,d){return hr(o,l,d,0,Gv)},max:function(o,l,d){return hr(o,l,d,-1/0,Ys)}};function ji(c,o,l,d,f,p){var m;return m=je(c)?c:_i[c]||_i.euclidean,0===o&&je(c)?m(f,p):m(o,l,d,f,p)}_i["squared-euclidean"]=_i.squaredEuclidean,_i.squaredeuclidean=_i.squaredEuclidean;var Dd=Ti({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Is=function(o){return Dd(o)},Po=function(o,l,d,f,p){var w="kMedoids"!==p?function(F){return d[F]}:function(F){return f[F](d)};return ji(o,f.length,w,function(H){return f[H](l)},d,l)},Kt=function(o,l,d){for(var f=d.length,p=new Array(f),m=new Array(f),w=new Array(l),T=null,S=0;S<f;S++)p[S]=o.min(d[S]).value,m[S]=o.max(d[S]).value;for(var k=0;k<l;k++){T=[];for(var F=0;F<f;F++)T[F]=Math.random()*(m[F]-p[F])+p[F];w[k]=T}return w},Fn=function(o,l,d,f,p){for(var m=1/0,w=0,T=0;T<l.length;T++){var S=Po(d,o,l[T],f,p);S<m&&(m=S,w=T)}return w},oi=function(o,l,d){for(var f=[],p=null,m=0;m<l.length;m++)d[(p=l[m]).id()]===o&&f.push(p);return f},Zo=function(o,l,d){return Math.abs(l-o)<=d},bc=function(o,l,d){for(var f=0;f<o.length;f++)for(var p=0;p<o[f].length;p++)if(Math.abs(o[f][p]-l[f][p])>d)return!1;return!0},vs=function(o,l,d){for(var f=0;f<d;f++)if(o===l[f])return!0;return!1},_c=function(o,l){var d=new Array(l);if(o.length<50)for(var f=0;f<l;f++){for(var p=o[Math.floor(Math.random()*o.length)];vs(p,d,f);)p=o[Math.floor(Math.random()*o.length)];d[f]=p}else for(var m=0;m<l;m++)d[m]=o[Math.floor(Math.random()*o.length)];return d},fi=function(o,l,d){for(var f=0,p=0;p<l.length;p++)f+=Po("manhattan",l[p],o,d,"kMedoids");return f},Un=function(o,l,d,f,p){for(var m,w,T=0;T<l.length;T++)for(var S=0;S<o.length;S++)f[T][S]=Math.pow(d[T][S],p.m);for(var k=0;k<o.length;k++)for(var F=0;F<p.attributes.length;F++){m=0,w=0;for(var H=0;H<l.length;H++)m+=f[H][k]*p.attributes[F](l[H]),w+=f[H][k];o[k][F]=m/w}},Jp=function(o,l,d,f,p){for(var m=0;m<o.length;m++)l[m]=o[m].slice();for(var w,T,S,k=2/(p.m-1),F=0;F<d.length;F++)for(var H=0;H<f.length;H++){w=0;for(var W=0;W<d.length;W++)T=Po(p.distance,f[H],d[F],p.attributes,"cmeans"),S=Po(p.distance,f[H],d[W],p.attributes,"cmeans"),w+=Math.pow(T/S,k);o[H][F]=1/w}},em=function(o){var p,m,w,T,S,l=this.cy(),d=this.nodes(),f=Is(o);T=new Array(d.length);for(var k=0;k<d.length;k++)T[k]=new Array(f.k);w=new Array(d.length);for(var F=0;F<d.length;F++)w[F]=new Array(f.k);for(var H=0;H<d.length;H++){for(var W=0,Y=0;Y<f.k;Y++)w[H][Y]=Math.random(),W+=w[H][Y];for(var Q=0;Q<f.k;Q++)w[H][Q]=w[H][Q]/W}m=new Array(f.k);for(var ne=0;ne<f.k;ne++)m[ne]=new Array(f.attributes.length);S=new Array(d.length);for(var se=0;se<d.length;se++)S[se]=new Array(f.k);for(var le=!0,ce=0;le&&ce<f.maxIterations;)le=!1,Un(m,d,w,S,f),Jp(w,T,m,d,f),bc(w,T,f.sensitivityThreshold)||(le=!0),ce++;return p=function(o,l,d,f){for(var p=new Array(d.k),m=0;m<p.length;m++)p[m]=[];for(var w,T,S=0;S<l.length;S++){w=-1/0,T=-1;for(var k=0;k<l[0].length;k++)l[S][k]>w&&(w=l[S][k],T=k);p[T].push(o[S])}for(var F=0;F<p.length;F++)p[F]=f.collection(p[F]);return p}(d,w,f,l),{clusters:p,degreeOfMembership:w}},cu={kMeans:function(o){var T,l=this.cy(),d=this.nodes(),f=null,p=Is(o),m=new Array(p.k),w={};T=p.testMode?"number"==typeof p.testCentroids?Kt(d,p.k,p.attributes):"object"===L(p.testCentroids)?p.testCentroids:Kt(d,p.k,p.attributes):Kt(d,p.k,p.attributes);for(var S=!0,k=0;S&&k<p.maxIterations;){for(var F=0;F<d.length;F++)w[(f=d[F]).id()]=Fn(f,T,p.distance,p.attributes,"kMeans");S=!1;for(var H=0;H<p.k;H++){var W=oi(H,d,w);if(0!==W.length){for(var Y=p.attributes.length,Q=T[H],ne=new Array(Y),se=new Array(Y),le=0;le<Y;le++){se[le]=0;for(var ce=0;ce<W.length;ce++)se[le]+=p.attributes[le](f=W[ce]);ne[le]=se[le]/W.length,Zo(ne[le],Q[le],p.sensitivityThreshold)||(S=!0)}T[H]=ne,m[H]=l.collection(W)}}k++}return m},kMedoids:function(o){var w,S,l=this.cy(),d=this.nodes(),f=null,p=Is(o),m=new Array(p.k),T={},k=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(w="object"===L(p.testCentroids)?p.testCentroids:_c(d,p.k)):w=_c(d,p.k);for(var F=!0,H=0;F&&H<p.maxIterations;){for(var W=0;W<d.length;W++)T[(f=d[W]).id()]=Fn(f,w,p.distance,p.attributes,"kMedoids");F=!1;for(var Y=0;Y<w.length;Y++){var Q=oi(Y,d,T);if(0!==Q.length){k[Y]=fi(w[Y],Q,p.attributes);for(var ne=0;ne<Q.length;ne++)(S=fi(Q[ne],Q,p.attributes))<k[Y]&&(k[Y]=S,w[Y]=Q[ne],F=!0);m[Y]=l.collection(Q)}}H++}return m},fuzzyCMeans:em,fcm:em},ys=Ti({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Td={single:"min",complete:"max"},Qo=function(o,l,d,f,p){for(var T,m=0,w=1/0,S=p.attributes,k=function(ve,Re){return ji(p.distance,S.length,function(Oe){return S[Oe](ve)},function(Oe){return S[Oe](Re)},ve,Re)},F=0;F<o.length;F++){var H=o[F].key,W=d[H][f[H]];W<w&&(m=H,w=W)}if("threshold"===p.mode&&w>=p.threshold||"dendrogram"===p.mode&&1===o.length)return!1;var ne,Y=l[m],Q=l[f[m]];ne="dendrogram"===p.mode?{left:Y,right:Q,key:Y.key}:{value:Y.value.concat(Q.value),key:Y.key},o[Y.index]=ne,o.splice(Q.index,1),l[Y.key]=ne;for(var se=0;se<o.length;se++){var le=o[se];Y.key===le.key?T=1/0:"min"===p.linkage?(T=d[Y.key][le.key],d[Y.key][le.key]>d[Q.key][le.key]&&(T=d[Q.key][le.key])):"max"===p.linkage?(T=d[Y.key][le.key],d[Y.key][le.key]<d[Q.key][le.key]&&(T=d[Q.key][le.key])):T="mean"===p.linkage?(d[Y.key][le.key]*Y.size+d[Q.key][le.key]*Q.size)/(Y.size+Q.size):"dendrogram"===p.mode?k(le.value,Y.value):k(le.value[0],Y.value[0]),d[Y.key][le.key]=d[le.key][Y.key]=T}for(var ce=0;ce<o.length;ce++){var pe=o[ce].key;if(f[pe]===Y.key||f[pe]===Q.key){for(var Me=pe,Ae=0;Ae<o.length;Ae++){var me=o[Ae].key;d[pe][me]<d[pe][Me]&&(Me=me)}f[pe]=Me}o[ce].index=ce}return Y.key=Q.key=Y.index=Q.index=null,!0},Ol=function c(o,l,d){o&&(o.value?l.push(o.value):(o.left&&c(o.left,l),o.right&&c(o.right,l)))},$v=function c(o,l){if(!o)return"";if(o.left&&o.right){var d=c(o.left,l),f=c(o.right,l),p=l.add({group:"nodes",data:{id:d+","+f}});return l.add({group:"edges",data:{source:d,target:p.id()}}),l.add({group:"edges",data:{source:f,target:p.id()}}),p.id()}return o.value?o.value.id():void 0},qr=function c(o,l,d){if(!o)return[];var f=[],p=[],m=[];return 0===l?(o.left&&Ol(o.left,f),o.right&&Ol(o.right,p),m=f.concat(p),[d.collection(m)]):1===l?o.value?[d.collection(o.value)]:(o.left&&Ol(o.left,f),o.right&&Ol(o.right,p),[d.collection(f),d.collection(p)]):o.value?[d.collection(o.value)]:(o.left&&(f=c(o.left,l-1,d)),o.right&&(p=c(o.right,l-1,d)),f.concat(p))},Ix=function(o){for(var l=this.cy(),d=this.nodes(),f=function(o){var l=ys(o),d=Td[l.linkage];return null!=d&&(l.linkage=d),l}(o),p=f.attributes,m=function(ce,pe){return ji(f.distance,p.length,function(Me){return p[Me](ce)},function(Me){return p[Me](pe)},ce,pe)},w=[],T=[],S=[],k=[],F=0;F<d.length;F++){var H={value:"dendrogram"===f.mode?d[F]:[d[F]],key:F,index:F};w[F]=H,k[F]=H,T[F]=[],S[F]=0}for(var W=0;W<w.length;W++)for(var Y=0;Y<=W;Y++){var Q;Q="dendrogram"===f.mode?W===Y?1/0:m(w[W].value,w[Y].value):W===Y?1/0:m(w[W].value[0],w[Y].value[0]),T[W][Y]=Q,T[Y][W]=Q,Q<T[W][S[W]]&&(S[W]=Y)}for(var ne=Qo(w,k,T,S,f);ne;)ne=Qo(w,k,T,S,f);var se;return"dendrogram"===f.mode?(se=qr(w[0],f.dendrogramDepth,l),f.addDendrogram&&$v(w[0],l)):(se=new Array(w.length),w.forEach(function(le,ce){le.key=le.index=null,se[ce]=l.collection(le.value)})),se},tm={hierarchicalClustering:Ix,hca:Ix},Wv=Ti({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Qh=function(o,l,d,f){var p=function(w,T){return f[T](w)};return-ji(o,f.length,function(m){return p(l,m)},function(m){return p(d,m)},l,d)},kx=function(o,l,d){for(var f=[],p=0;p<o;p++){for(var m=-1,w=-1/0,T=0;T<d.length;T++){var S=d[T];l[p*o+S]>w&&(m=S,w=l[p*o+S])}m>0&&f.push(m)}for(var k=0;k<d.length;k++)f[d[k]]=d[k];return f},No=function(o){for(var l=this.cy(),d=this.nodes(),f=function(o){var l=o.damping,d=o.preference;.5<=l&&l<1||Br("Damping must range on [0.5, 1).  Got: ".concat(l));var f=["median","mean","min","max"];return f.some(function(p){return p===d})||ge(d)||Br("Preference must be one of [".concat(f.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(d)),Wv(o)}(o),p={},m=0;m<d.length;m++)p[d[m].id()]=m;var w,T,S,k,F,H,ve;T=(w=d.length)*w,S=new Array(T);for(var W=0;W<T;W++)S[W]=-1/0;for(var Y=0;Y<w;Y++)for(var Q=0;Q<w;Q++)Y!==Q&&(S[Y*w+Q]=Qh(f.distance,d[Y],d[Q],f.attributes));k=function(o,l){var d;return d="median"===l?function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],m=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(d<o.length&&o.splice(d,o.length-d),l>0&&o.splice(0,l)):o=o.slice(l,d);for(var w=0,T=o.length-1;T>=0;T--)m?isFinite(o[T])||(o[T]=-1/0,w++):o.splice(T,1);p&&o.sort(function(H,W){return H-W});var k=o.length,F=Math.floor(k/2);return k%2!=0?o[F+1+w]:(o[F-1+w]+o[F+w])/2}(o):"mean"===l?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=0,p=0,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;m<d;m++){var w=o[m];isFinite(w)&&(f+=w,p++)}return f/p}(o):"min"===l?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var m=o[p];isFinite(m)&&(f=Math.min(m,f))}return f}(o):"max"===l?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var m=o[p];isFinite(m)&&(f=Math.max(m,f))}return f}(o):l,d}(S,f.preference);for(var ne=0;ne<w;ne++)S[ne*w+ne]=k;F=new Array(T);for(var se=0;se<T;se++)F[se]=0;H=new Array(T);for(var le=0;le<T;le++)H[le]=0;for(var ce=new Array(w),pe=new Array(w),Me=new Array(w),Ae=0;Ae<w;Ae++)ce[Ae]=0,pe[Ae]=0,Me[Ae]=0;for(var me=new Array(w*f.minIterations),De=0;De<me.length;De++)me[De]=0;for(ve=0;ve<f.maxIterations;ve++){for(var Re=0;Re<w;Re++){for(var Oe=-1/0,Ee=-1/0,He=-1,Ie=0,Qe=0;Qe<w;Qe++)ce[Qe]=F[Re*w+Qe],(Ie=H[Re*w+Qe]+S[Re*w+Qe])>=Oe?(Ee=Oe,Oe=Ie,He=Qe):Ie>Ee&&(Ee=Ie);for(var Ge=0;Ge<w;Ge++)F[Re*w+Ge]=(1-f.damping)*(S[Re*w+Ge]-Oe)+f.damping*ce[Ge];F[Re*w+He]=(1-f.damping)*(S[Re*w+He]-Ee)+f.damping*ce[He]}for(var We=0;We<w;We++){for(var nt=0,ot=0;ot<w;ot++)ce[ot]=H[ot*w+We],pe[ot]=Math.max(0,F[ot*w+We]),nt+=pe[ot];nt-=pe[We],pe[We]=F[We*w+We],nt+=pe[We];for(var dt=0;dt<w;dt++)H[dt*w+We]=(1-f.damping)*Math.min(0,nt-pe[dt])+f.damping*ce[dt];H[We*w+We]=(1-f.damping)*(nt-pe[We])+f.damping*ce[We]}for(var it=0,rt=0;rt<w;rt++){var Et=H[rt*w+rt]+F[rt*w+rt]>0?1:0;me[ve%f.minIterations*w+rt]=Et,it+=Et}if(it>0&&(ve>=f.minIterations-1||ve==f.maxIterations-1)){for(var Dt=0,yt=0;yt<w;yt++){Me[yt]=0;for(var gt=0;gt<f.minIterations;gt++)Me[yt]+=me[gt*w+yt];(0===Me[yt]||Me[yt]===f.minIterations)&&Dt++}if(Dt===w)break}}for(var tt=function(o,l,d){for(var f=[],p=0;p<o;p++)l[p*o+p]+d[p*o+p]>0&&f.push(p);return f}(w,F,H),Ct=function(o,l,d){for(var f=kx(o,l,d),p=0;p<d.length;p++){for(var m=[],w=0;w<f.length;w++)f[w]===d[p]&&m.push(w);for(var T=-1,S=-1/0,k=0;k<m.length;k++){for(var F=0,H=0;H<m.length;H++)F+=l[m[H]*o+m[k]];F>S&&(T=k,S=F)}d[p]=m[T]}return kx(o,l,d)}(w,S,tt),Tt={},Pt=0;Pt<tt.length;Pt++)Tt[tt[Pt]]=[];for(var Vt=0;Vt<d.length;Vt++){var Nn=Ct[p[d[Vt].id()]];null!=Nn&&Tt[Nn].push(d[Vt])}for(var Ht=new Array(tt.length),Ft=0;Ft<tt.length;Ft++)Ht[Ft]=l.collection(Tt[tt[Ft]]);return Ht},nm={affinityPropagation:No,ap:No},Ad=Ti({root:void 0,directed:!1}),Jh={hierholzer:function(o){if(!_e(o)){var l=arguments;o={root:l[0],directed:l[1]}}var T,S,k,d=Ad(o),f=d.root,p=d.directed,m=this,w=!1;f&&(k=fe(f)?this.filter(f)[0].id():f[0].id());var F={},H={};m.forEach(p?function(le){var ce=le.id();if(le.isNode()){var pe=le.indegree(!0),Me=le.outdegree(!0),Ae=pe-Me,me=Me-pe;1==Ae?T?w=!0:T=ce:1==me?S?w=!0:S=ce:(me>1||Ae>1)&&(w=!0),F[ce]=[],le.outgoers().forEach(function(De){De.isEdge()&&F[ce].push(De.id())})}else H[ce]=[void 0,le.target().id()]}:function(le){var ce=le.id();le.isNode()?(le.degree(!0)%2&&(T?S?w=!0:S=ce:T=ce),F[ce]=[],le.connectedEdges().forEach(function(Me){return F[ce].push(Me.id())})):H[ce]=[le.source().id(),le.target().id()]});var W={found:!1,trail:void 0};if(w)return W;if(S&&T)if(p){if(k&&S!=k)return W;k=S}else{if(k&&S!=k&&T!=k)return W;k||(k=S)}else k||(k=m[0].id());var Y=function(ce){for(var Ae,me,De,pe=ce,Me=[ce];F[pe].length;)Ae=F[pe].shift(),me=H[Ae][0],pe!=(De=H[Ae][1])?(F[De]=F[De].filter(function(ve){return ve!=Ae}),pe=De):!p&&pe!=me&&(F[me]=F[me].filter(function(ve){return ve!=Ae}),pe=me),Me.unshift(Ae),Me.unshift(pe);return Me},Q=[],ne=[];for(ne=Y(k);1!=ne.length;)0==F[ne[0]].length?(Q.unshift(m.getElementById(ne.shift())),Q.unshift(m.getElementById(ne.shift()))):ne=Y(ne.shift()).concat(ne);for(var se in Q.unshift(m.getElementById(ne.shift())),F)if(F[se].length)return W;return W.found=!0,W.trail=this.spawn(Q,!0),W}},Xs=function(){var o=this,l={},d=0,f=0,p=[],m=[],w={},S=function F(H,W,Y){H===Y&&(f+=1),l[W]={id:d,low:d++,cutVertex:!1};var ne,se,le,ce,Q=o.getElementById(W).connectedEdges().intersection(o);0===Q.size()?p.push(o.spawn(o.getElementById(W))):Q.forEach(function(pe){ne=pe.source().id(),se=pe.target().id(),(le=ne===W?se:ne)!==Y&&(ce=pe.id(),w[ce]||(w[ce]=!0,m.push({x:W,y:le,edge:pe})),le in l?l[W].low=Math.min(l[W].low,l[le].id):(F(H,le,W),l[W].low=Math.min(l[W].low,l[le].low),l[W].id<=l[le].low&&(l[W].cutVertex=!0,function(H,W){for(var Y=m.length-1,Q=[],ne=o.spawn();m[Y].x!=H||m[Y].y!=W;)Q.push(m.pop().edge),Y--;Q.push(m.pop().edge),Q.forEach(function(se){var le=se.connectedNodes().intersection(o);ne.merge(se),le.forEach(function(ce){var pe=ce.id(),Me=ce.connectedEdges().intersection(o);ne.merge(ce),ne.merge(l[pe].cutVertex?Me.filter(function(Ae){return Ae.isLoop()}):Me)})}),p.push(ne)}(W,le))))})};o.forEach(function(F){if(F.isNode()){var H=F.id();H in l||(f=0,S(H,H),l[H].cutVertex=f>1)}});var k=Object.keys(l).filter(function(F){return l[F].cutVertex}).map(function(F){return o.getElementById(F)});return{cut:o.spawn(k),components:p}},rm=function(){var o=this,l={},d=0,f=[],p=[],m=o.spawn(o),w=function T(S){if(p.push(S),l[S]={index:d,low:d++,explored:!1},o.getElementById(S).connectedEdges().intersection(o).forEach(function(Q){var ne=Q.target().id();ne!==S&&(ne in l||T(ne),l[ne].explored||(l[S].low=Math.min(l[S].low,l[ne].low)))}),l[S].index===l[S].low){for(var F=o.spawn();;){var H=p.pop();if(F.merge(o.getElementById(H)),l[H].low=l[S].index,l[H].explored=!0,H===S)break}var W=F.edgesWith(F),Y=F.merge(W);f.push(Y),m=m.difference(Y)}};return o.forEach(function(T){if(T.isNode()){var S=T.id();S in l||w(S)}}),{cut:m,components:f}},Yv={};[ke,Ye,_t,ht,Bt,vn,Xt,Ed,lu,co,Vv,jv,cu,tm,nm,Jh,{hopcroftTarjanBiconnected:Xs,htbc:Xs,htb:Xs,hopcroftTarjanBiconnectedComponents:Xs},{tarjanStronglyConnected:rm,tsc:rm,tscc:rm,tarjanStronglyConnectedComponents:rm}].forEach(function(c){Zt(Yv,c)});var Rl=function c(o){if(!(this instanceof c))return new c(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};Rl.prototype={fulfill:function(o){return Fx(this,1,"fulfillValue",o)},reject:function(o){return Fx(this,2,"rejectReason",o)},then:function(o,l){var d=this,f=new Rl;return d.onFulfilled.push(Hx(o,f,"fulfill")),d.onRejected.push(Hx(l,f,"reject")),Bx(d),f.proxy}};var Fx=function(o,l,d,f){return 0===o.state&&(o.state=l,o[d]=f,Bx(o)),o},Bx=function(o){1===o.state?Vx(o,"onFulfilled",o.fulfillValue):2===o.state&&Vx(o,"onRejected",o.rejectReason)},Vx=function(o,l,d){if(0!==o[l].length){var f=o[l];o[l]=[];var p=function(){for(var w=0;w<f.length;w++)f[w](d)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},Hx=function(o,l,d){return function(f){if("function"!=typeof o)l[d].call(l,f);else{var p;try{p=o(f)}catch(m){return void l.reject(m)}nM(l,p)}}},nM=function c(o,l){if(o!==l&&o.proxy!==l){var d;if("object"===L(l)&&null!==l||"function"==typeof l)try{d=l.then}catch(p){return void o.reject(p)}if("function"!=typeof d)o.fulfill(l);else{var f=!1;try{d.call(l,function(p){f||(f=!0,p===l?o.reject(new TypeError("circular thenable chain")):c(o,p))},function(p){f||(f=!0,o.reject(p))})}catch(p){f||o.reject(p)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};Rl.all=function(c){return new Rl(function(o,l){for(var d=new Array(c.length),f=0,p=function(T,S){d[T]=S,++f===c.length&&o(d)},m=0;m<c.length;m++)!function(w){var T=c[w];null!=T&&null!=T.then?T.then(function(F){p(w,F)},function(F){l(F)}):p(w,T)}(m)})},Rl.resolve=function(c){return new Rl(function(o,l){o(c)})},Rl.reject=function(c){return new Rl(function(o,l){l(c)})};var Id=typeof Promise<"u"?Promise:Rl,Xv=function(o,l,d){var f=Be(o),p=!f,m=this._private=Zt({duration:1e3},l,d);if(m.target=o,m.style=m.style||m.css,m.started=!1,m.playing=!1,m.hooked=!1,m.applying=!1,m.progress=0,m.completes=[],m.frames=[],m.complete&&je(m.complete)&&m.completes.push(m.complete),p){var w=o.position();m.startPosition=m.startPosition||{x:w.x,y:w.y},m.startStyle=m.startStyle||o.cy().style().getAnimationStartStyle(o,m.style)}if(f){var T=o.pan();m.startPan={x:T.x,y:T.y},m.startZoom=o.zoom()}this.length=1,this[0]=this},hu=Xv.prototype;Zt(hu,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var d=o.target._private.animation;(o.queue?d.queue:d.current).push(this),Te(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var l=this._private;return void 0===o?l.progress*l.duration:this.progress(o/l.duration)},progress:function(o){var l=this._private,d=l.playing;return void 0===o?l.progress:(d&&this.pause(),l.progress=o,l.started=!1,d&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,l=o.playing;l&&this.pause(),o.progress=1-o.progress,o.started=!1;var d=function(S,k){var F=o[S];null!=F&&(o[S]=o[k],o[k]=F)};if(d("zoom","startZoom"),d("pan","startPan"),d("position","startPosition"),o.style)for(var f=0;f<o.style.length;f++){var p=o.style[f],m=p.name,w=o.startStyle[m];o.startStyle[m]=p,o.style[f]=w}return l&&this.play(),this},promise:function(o){var d,l=this._private;return d="frame"===o?l.frames:l.completes,new Id(function(f,p){d.push(function(){f()})})}}),hu.complete=hu.completed,hu.run=hu.play,hu.running=hu.playing;var qv={data:function(o){return o=Zt({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(f){},beforeSet:function(f,p){},onSet:function(f){},canSet:function(f){return!0}},o),function(f,p){var m=o,w=this,T=void 0!==w.length,S=T?w:[w],k=T?w[0]:w;if(fe(f)){var W,H=-1!==f.indexOf(".")&&I.default(f);if(m.allowGetting&&void 0===p)return k&&(m.beforeGet(k),W=H&&void 0===k._private[m.field][f]?P.default(k._private[m.field],H):k._private[m.field][f]),W;if(m.allowSetting&&void 0!==p&&!m.immutableKeys[f]){var Q=U({},f,p);m.beforeSet(w,Q);for(var ne=0,se=S.length;ne<se;ne++){var le=S[ne];m.canSet(le)&&(H&&void 0===k._private[m.field][f]?R.default(le._private[m.field],H,p):le._private[m.field][f]=p)}m.updateStyle&&w.updateStyle(),m.onSet(w),m.settingTriggersEvent&&w[m.triggerFnName](m.settingEvent)}}else if(m.allowSetting&&_e(f)){var pe,Me,ce=f,Ae=Object.keys(ce);m.beforeSet(w,ce);for(var me=0;me<Ae.length;me++)if(Me=ce[pe=Ae[me]],!m.immutableKeys[pe])for(var ve=0;ve<S.length;ve++){var Re=S[ve];m.canSet(Re)&&(Re._private[m.field][pe]=Me)}m.updateStyle&&w.updateStyle(),m.onSet(w),m.settingTriggersEvent&&w[m.triggerFnName](m.settingEvent)}else if(m.allowBinding&&je(f))w.on(m.bindingEvent,f);else if(m.allowGetting&&void 0===f){var Ee;return k&&(m.beforeGet(k),Ee=k._private[m.field]),Ee}return w}},removeData:function(o){return o=Zt({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(f){var p=o,m=this,T=void 0!==m.length?m:[m];if(fe(f)){for(var S=f.split(/\s+/),k=S.length,F=0;F<k;F++){var H=S[F];if(!Ne(H)&&!p.immutableKeys[H])for(var Y=0,Q=T.length;Y<Q;Y++)T[Y]._private[p.field][H]=void 0}p.triggerEvent&&m[p.triggerFnName](p.event)}else if(void 0===f){for(var ne=0,se=T.length;ne<se;ne++)for(var le=T[ne]._private[p.field],ce=Object.keys(le),pe=0;pe<ce.length;pe++){var Me=ce[pe];!p.immutableKeys[Me]&&(le[Me]=void 0)}p.triggerEvent&&m[p.triggerFnName](p.event)}return m}}},rM={eventAliasesOn:function(o){var l=o;l.addListener=l.listen=l.bind=l.on,l.unlisten=l.unbind=l.off=l.removeListener,l.trigger=l.emit,l.pon=l.promiseOn=function(d,f){var p=this,m=Array.prototype.slice.call(arguments,0);return new Id(function(w,T){var k=m.concat([function(W){p.off.apply(p,F),w(W)}]),F=k.concat([]);p.on.apply(p,k)})}}},Lr={};[{animated:function(){return function(){var l=this,f=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return!1;var m=f[0];return m?m._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var l=this,f=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return this;for(var m=0;m<f.length;m++)f[m]._private.animation.queue=[];return this}},delay:function(){return function(l,d){return(this._private.cy||this).styleEnabled()?this.animate({delay:l,duration:l,complete:d}):this}},delayAnimation:function(){return function(l,d){return(this._private.cy||this).styleEnabled()?this.animation({delay:l,duration:l,complete:d}):this}},animation:function(){return function(l,d){var f=this,p=void 0!==f.length,m=p?f:[f],w=this._private.cy||this,T=!p,S=!T;if(!w.styleEnabled())return this;var k=w.style();if(l=Zt({},l,d),0===Object.keys(l).length)return new Xv(m[0],l);switch(void 0===l.duration&&(l.duration=400),l.duration){case"slow":l.duration=600;break;case"fast":l.duration=200}if(S&&(l.style=k.getPropsList(l.style||l.css),l.css=void 0),S&&null!=l.renderedPosition){var H=l.renderedPosition,W=w.pan(),Y=w.zoom();l.position=rr(H,Y,W)}if(T&&null!=l.panBy){var Q=l.panBy,ne=w.pan();l.pan={x:ne.x+Q.x,y:ne.y+Q.y}}var se=l.center||l.centre;if(T&&null!=se){var le=w.getCenterPan(se.eles,l.zoom);null!=le&&(l.pan=le)}if(T&&null!=l.fit){var ce=l.fit,pe=w.getFitViewport(ce.eles||ce.boundingBox,ce.padding);null!=pe&&(l.pan=pe.pan,l.zoom=pe.zoom)}if(T&&_e(l.zoom)){var Me=w.getZoomedViewport(l.zoom);null!=Me?(Me.zoomed&&(l.zoom=Me.zoom),Me.panned&&(l.pan=Me.pan)):l.zoom=null}return new Xv(m[0],l)}},animate:function(){return function(l,d){var f=this,m=void 0!==f.length?f:[f];if(!(this._private.cy||this).styleEnabled())return this;d&&(l=Zt({},l,d));for(var T=0;T<m.length;T++){var S=m[T],k=S.animated()&&(void 0===l.queue||l.queue);S.animation(l,k?{queue:!0}:void 0).play()}return this}},stop:function(){return function(l,d){var f=this,m=void 0!==f.length?f:[f],w=this._private.cy||this;if(!w.styleEnabled())return this;for(var T=0;T<m.length;T++){for(var k=m[T]._private,F=k.animation.current,H=0;H<F.length;H++)d&&(F[H]._private.duration=0);l&&(k.animation.queue=[]),d||(k.animation.current=[])}return w.notify("draw"),this}}},qv,rM].forEach(function(c){Zt(Lr,c)});var iM={animate:Lr.animate(),animation:Lr.animation(),animated:Lr.animated(),clearQueue:Lr.clearQueue(),delay:Lr.delay(),delayAnimation:Lr.delayAnimation(),stop:Lr.stop()},_a={classes:function(o){var l=this;if(void 0===o){var d=[];return l[0]._private.classes.forEach(function(Y){return d.push(Y)}),d}Ve(o)||(o=(o||"").match(/\S+/g)||[]);for(var f=[],p=new Wa(o),m=0;m<l.length;m++){for(var w=l[m],T=w._private,S=T.classes,k=!1,F=0;F<o.length;F++)if(!S.has(o[F])){k=!0;break}k||(k=S.size!==o.length),k&&(T.classes=p,f.push(w))}return f.length>0&&this.spawn(f).updateStyle().emit("class"),l},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var l=this[0];return null!=l&&l._private.classes.has(o)},toggleClass:function(o,l){Ve(o)||(o=o.match(/\S+/g)||[]);for(var d=this,f=void 0===l,p=[],m=0,w=d.length;m<w;m++)for(var T=d[m],S=T._private.classes,k=!1,F=0;F<o.length;F++){var H=o[F],W=S.has(H),Y=!1;l||f&&!W?(S.add(H),Y=!0):(!l||f&&W)&&(S.delete(H),Y=!0),!k&&Y&&(p.push(T),k=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),d},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,l){var d=this;if(null==l)l=250;else if(0===l)return d;return d.addClass(o),setTimeout(function(){d.removeClass(o)},l),d}};_a.className=_a.classNames=_a.classes;var br={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Nt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};br.variable="(?:[\\w-.]|(?:\\\\"+br.metaChar+"))+",br.className="(?:[\\w-]|(?:\\\\"+br.metaChar+"))+",br.value=br.string+"|"+br.number,br.id=br.variable,function(){var c,o,l;for(c=br.comparatorOp.split("|"),l=0;l<c.length;l++)br.comparatorOp+="|@"+(o=c[l]);for(c=br.comparatorOp.split("|"),l=0;l<c.length;l++)!((o=c[l]).indexOf("!")>=0)&&"="!==o&&(br.comparatorOp+="|\\!"+o)}();var im=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(c,o){return function(o,l){return-1*Pi(o,l)}(c.selector,o.selector)}),zx=function(){for(var o,c={},l=0;l<im.length;l++)c[(o=im[l]).selector]=o.matches;return c}(),Qv="("+im.map(function(c){return c.selector}).join("|")+")",fu=function(o){return o.replace(new RegExp("\\\\("+br.metaChar+")","g"),function(l,d){return d})},xa=function(o,l,d){o[o.length-1]=d},sm=[{name:"group",query:!0,regex:"("+br.group+")",populate:function(o,l,d){var p=Z(d,1)[0];l.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:Qv,populate:function(o,l,d){var f=Z(d,1);l.checks.push({type:7,value:f[0]})}},{name:"id",query:!0,regex:"\\#("+br.id+")",populate:function(o,l,d){var f=Z(d,1);l.checks.push({type:8,value:fu(f[0])})}},{name:"className",query:!0,regex:"\\.("+br.className+")",populate:function(o,l,d){var f=Z(d,1);l.checks.push({type:9,value:fu(f[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+br.variable+")\\s*\\]",populate:function(o,l,d){var f=Z(d,1);l.checks.push({type:4,field:fu(f[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+br.variable+")\\s*("+br.comparatorOp+")\\s*("+br.value+")\\s*\\]",populate:function(o,l,d){var f=Z(d,3),p=f[0],m=f[1],w=f[2];w=null!=new RegExp("^"+br.string+"$").exec(w)?w.substring(1,w.length-1):parseFloat(w),l.checks.push({type:3,field:fu(p),operator:m,value:w})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+br.boolOp+")\\s*("+br.variable+")\\s*\\]",populate:function(o,l,d){var f=Z(d,2),p=f[0];l.checks.push({type:5,field:fu(f[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+br.meta+")\\s*("+br.comparatorOp+")\\s*("+br.number+")\\s*\\]\\]",populate:function(o,l,d){var f=Z(d,3),m=f[1],w=f[2];l.checks.push({type:6,field:fu(f[0]),operator:m,value:parseFloat(w)})}},{name:"nextQuery",separator:!0,regex:br.separator,populate:function(o,l){var d=o.currentSubject,f=o.edgeCount,p=o.compoundCount,m=o[o.length-1];return null!=d&&(m.subject=d,o.currentSubject=null),m.edgeCount=f,m.compoundCount=p,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:br.directedEdge,populate:function(o,l){if(null==o.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:11,source:l,target:p}),xa(o,0,d),o.edgeCount++,p}var m={checks:[]},T={checks:[]};return m.checks.push({type:12,source:l,target:T}),xa(o,0,m),o.edgeCount++,T}},{name:"undirectedEdge",separator:!0,regex:br.undirectedEdge,populate:function(o,l){if(null==o.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:10,nodes:[l,p]}),xa(o,0,d),o.edgeCount++,p}var m={checks:[]},T={checks:[]};return m.checks.push({type:14,node:l,neighbor:T}),xa(o,0,m),T}},{name:"child",separator:!0,regex:br.child,populate:function(o,l){if(null==o.currentSubject){var d={checks:[]},f={checks:[]};return d.checks.push({type:15,parent:o[o.length-1],child:f}),xa(o,0,d),o.compoundCount++,f}if(o.currentSubject===l){var m={checks:[]},T={checks:[]},S={checks:[]},k={checks:[]},F={checks:[]};return m.checks.push({type:19,left:o[o.length-1],right:T,subject:S}),S.checks=l.checks,l.checks=[{type:20}],F.checks.push({type:20}),T.checks.push({type:17,parent:F,child:k}),xa(o,0,m),o.currentSubject=S,o.compoundCount++,k}var H={checks:[]},W={checks:[]},Y=[{type:17,parent:H,child:W}];return H.checks=l.checks,l.checks=Y,o.compoundCount++,W}},{name:"descendant",separator:!0,regex:br.descendant,populate:function(o,l){if(null==o.currentSubject){var d={checks:[]},f={checks:[]};return d.checks.push({type:16,ancestor:o[o.length-1],descendant:f}),xa(o,0,d),o.compoundCount++,f}if(o.currentSubject===l){var m={checks:[]},T={checks:[]},S={checks:[]},k={checks:[]},F={checks:[]};return m.checks.push({type:19,left:o[o.length-1],right:T,subject:S}),S.checks=l.checks,l.checks=[{type:20}],F.checks.push({type:20}),T.checks.push({type:18,ancestor:F,descendant:k}),xa(o,0,m),o.currentSubject=S,o.compoundCount++,k}var H={checks:[]},W={checks:[]},Y=[{type:18,ancestor:H,descendant:W}];return H.checks=l.checks,l.checks=Y,o.compoundCount++,W}},{name:"subject",modifier:!0,regex:br.subject,populate:function(o,l){if(null!=o.currentSubject&&o.currentSubject!==l)return wr("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=l;var f=o[o.length-1].checks[0],p=null==f?null:f.type;11===p?f.type=13:10===p&&(f.type=14,f.node=f.nodes[1],f.neighbor=f.nodes[0],f.nodes=null)}}];sm.forEach(function(c){return c.regexObj=new RegExp("^"+c.regex)});var Lo=function(o){for(var l,d,f,p=0;p<sm.length;p++){var m=sm[p],w=m.name,T=o.match(m.regexObj);if(null!=T){d=T,l=m,f=w,o=o.substring(T[0].length);break}}return{expr:l,match:d,name:f,remaining:o}},jx={parse:function(o){var l=this,d=l.inputText=o,f=l[0]={checks:[]};for(l.length=1,d=function(o){var l=o.match(/^\s+/);return l&&(o=o.substring(l[0].length)),o}(d);;){var p=Lo(d);if(null==p.expr)return wr("The selector `"+o+"`is invalid"),!1;var m=p.match.slice(1),w=p.expr.populate(l,f,m);if(!1===w)return!1;if(null!=w&&(f=w),(d=p.remaining).match(/^\s*$/))break}var T=l[l.length-1];null!=l.currentSubject&&(T.subject=l.currentSubject),T.edgeCount=l.edgeCount,T.compoundCount=l.compoundCount;for(var S=0;S<l.length;S++){var k=l[S];if(k.compoundCount>0&&k.edgeCount>0)return wr("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(k.edgeCount>1)return wr("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===k.edgeCount&&wr("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(k){return k??""},l=function(k){return fe(k)?'"'+k+'"':o(k)},d=function(k){return" "+k+" "},p=function(k,F){return k.checks.reduce(function(H,W,Y){return H+(F===k&&0===Y?"$":"")+function(k,F){var W=k.value;switch(k.type){case 0:var Y=o(W);return Y.substring(0,Y.length-1);case 3:return"["+k.field+d(o(k.operator))+l(W)+"]";case 5:var le=k.field;return"["+o(k.operator)+le+"]";case 4:return"["+k.field+"]";case 6:return"[["+k.field+d(o(k.operator))+l(W)+"]]";case 7:return W;case 8:return"#"+W;case 9:return"."+W;case 17:case 15:return p(k.parent,F)+d(">")+p(k.child,F);case 18:case 16:return p(k.ancestor,F)+" "+p(k.descendant,F);case 19:var Ae=p(k.left,F),me=p(k.subject,F),De=p(k.right,F);return Ae+(Ae.length>0?" ":"")+me+De;case 20:return""}}(W,F)},"")},m="",w=0;w<this.length;w++){var T=this[w];m+=p(T,T.subject),this.length>1&&w<this.length-1&&(m+=", ")}return this.toStringCache=m,m}},kd=function(o,l,d){var f,T,S,p=fe(o),m=ge(o),w=fe(d),k=!1,F=!1,H=!1;switch(l.indexOf("!")>=0&&(l=l.replace("!",""),F=!0),l.indexOf("@")>=0&&(l=l.replace("@",""),k=!0),(p||w||k)&&(T=p||m?""+o:"",S=""+d),k&&(o=T=T.toLowerCase(),d=S=S.toLowerCase()),l){case"*=":f=T.indexOf(S)>=0;break;case"$=":f=T.indexOf(S,T.length-S.length)>=0;break;case"^=":f=0===T.indexOf(S);break;case"=":f=o===d;break;case">":H=!0,f=o>d;break;case">=":H=!0,f=o>=d;break;case"<":H=!0,f=o<d;break;case"<=":H=!0,f=o<=d;break;default:f=!1}return F&&(null!=o||!H)&&(f=!f),f},ef=function(o,l){return o.data(l)},fr=[],Zr=function(o,l){return o.checks.every(function(d){return fr[d.type](d,l)})};fr[0]=function(c,o){var l=c.value;return"*"===l||l===o.group()},fr[7]=function(c,o){return function(o,l){return zx[o](l)}(c.value,o)},fr[8]=function(c,o){var l=c.value;return o.id()===l},fr[9]=function(c,o){return o.hasClass(c.value)},fr[6]=function(c,o){var d=c.operator,f=c.value;return kd(function(o,l){return o[l]()}(o,c.field),d,f)},fr[3]=function(c,o){var d=c.operator,f=c.value;return kd(ef(o,c.field),d,f)},fr[5]=function(c,o){var d=c.operator;return function(o,l){switch(l){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(ef(o,c.field),d)},fr[4]=function(c,o){return function(o){return void 0!==o}(ef(o,c.field))},fr[10]=function(c,o){var l=c.nodes[0],d=c.nodes[1],f=o.source(),p=o.target();return Zr(l,f)&&Zr(d,p)||Zr(d,f)&&Zr(l,p)},fr[14]=function(c,o){return Zr(c.node,o)&&o.neighborhood().some(function(l){return l.isNode()&&Zr(c.neighbor,l)})},fr[11]=function(c,o){return Zr(c.source,o.source())&&Zr(c.target,o.target())},fr[12]=function(c,o){return Zr(c.source,o)&&o.outgoers().some(function(l){return l.isNode()&&Zr(c.target,l)})},fr[13]=function(c,o){return Zr(c.target,o)&&o.incomers().some(function(l){return l.isNode()&&Zr(c.source,l)})},fr[15]=function(c,o){return Zr(c.child,o)&&Zr(c.parent,o.parent())},fr[17]=function(c,o){return Zr(c.parent,o)&&o.children().some(function(l){return Zr(c.child,l)})},fr[16]=function(c,o){return Zr(c.descendant,o)&&o.ancestors().some(function(l){return Zr(c.ancestor,l)})},fr[18]=function(c,o){return Zr(c.ancestor,o)&&o.descendants().some(function(l){return Zr(c.descendant,l)})},fr[19]=function(c,o){return Zr(c.subject,o)&&Zr(c.left,o)&&Zr(c.right,o)},fr[20]=function(){return!0},fr[1]=function(c,o){return c.value.has(o)},fr[2]=function(c,o){return(0,c.value)(o)};var Pl={matches:function(o){for(var d=0;d<this.length;d++)if(Zr(this[d],o))return!0;return!1},filter:function(o){var l=this;if(1===l.length&&1===l[0].checks.length&&8===l[0].checks[0].type)return o.getElementById(l[0].checks[0].value).collection();var d=function(p){for(var m=0;m<l.length;m++)if(Zr(l[m],p))return!0;return!1};return null==l.text()&&(d=function(){return!0}),o.filter(d)}},Ja=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||fe(o)&&o.match(/^\s*$/)||(Te(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):je(o)?this.addQuery({checks:[{type:2,value:o}]}):fe(o)?this.parse(o)||(this.invalid=!0):Br("A selector must be created from a string; found "))},wa=Ja.prototype;[jx,Pl].forEach(function(c){return Zt(wa,c)}),wa.text=function(){return this.inputText},wa.size=function(){return this.length},wa.eq=function(c){return this[c]},wa.sameText=function(c){return!this.invalid&&!c.invalid&&this.text()===c.text()},wa.addQuery=function(c){this[this.length++]=c},wa.selector=wa.toString;var _n={allAre:function(o){var l=new Ja(o);return this.every(function(d){return l.matches(d)})},is:function(o){var l=new Ja(o);return this.some(function(d){return l.matches(d)})},some:function(o,l){for(var d=0;d<this.length;d++)if(l?o.apply(l,[this[d],d,this]):o(this[d],d,this))return!0;return!1},every:function(o,l){for(var d=0;d<this.length;d++)if(!(l?o.apply(l,[this[d],d,this]):o(this[d],d,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var l=this.length;return l===o.length&&(1===l?this[0]===o[0]:this.every(function(f){return o.hasElementWithId(f.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(l){return o.hasElementWithId(l.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var l=this.neighborhood();return o.every(function(d){return l.hasElementWithId(d.id())})},contains:function(o){o=this.cy().collection(o);var l=this;return o.every(function(d){return l.hasElementWithId(d.id())})}};_n.allAreNeighbours=_n.allAreNeighbors,_n.has=_n.contains,_n.equal=_n.equals=_n.same;var Rd,iy,fo=function(o,l){return function(f,p,m,w){var k,T=f,S=this;if(null==T?k="":Te(T)&&1===T.length&&(k=T.id()),1===S.length&&k){var F=S[0]._private,H=F.traversalCache=F.traversalCache||{},W=H[l]=H[l]||[],Y=Ga(k);return W[Y]||(W[Y]=o.call(S,f,p,m,w))}return o.call(S,f,p,m,w)}},Od={parent:function(o){var l=[];if(1===this.length){var d=this[0]._private.parent;if(d)return d}for(var f=0;f<this.length;f++){var m=this[f]._private.parent;m&&l.push(m)}return this.spawn(l,!0).filter(o)},parents:function(o){for(var l=[],d=this.parent();d.nonempty();){for(var f=0;f<d.length;f++)l.push(d[f]);d=d.parent()}return this.spawn(l,!0).filter(o)},commonAncestors:function(o){for(var l,d=0;d<this.length;d++){var p=this[d].parents();l=(l=l||p).intersect(p)}return l.filter(o)},orphans:function(o){return this.stdFilter(function(l){return l.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(l){return l.isChild()}).filter(o)},children:fo(function(c){for(var o=[],l=0;l<this.length;l++)for(var f=this[l]._private.children,p=0;p<f.length;p++)o.push(f[p]);return this.spawn(o,!0).filter(c)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var l=[];return function d(f){for(var p=0;p<f.length;p++){var m=f[p];l.push(m),m.children().nonempty()&&d(m.children())}}(this.children()),this.spawn(l,!0).filter(o)}};function om(c,o,l,d){for(var f=[],p=new Wa,w=c.cy().hasCompoundNodes(),T=0;T<c.length;T++){var S=c[T];l?f.push(S):w&&d(f,p,S)}for(;f.length>0;){var k=f.shift();o(k),p.add(k.id()),w&&d(f,p,k)}return c}function ty(c,o,l){if(l.isParent())for(var d=l._private.children,f=0;f<d.length;f++){var p=d[f];o.has(p.id())||c.push(p)}}function ny(c,o,l){if(l.isChild()){var d=l._private.parent;o.has(d.id())||c.push(d)}}function ry(c,o,l){ny(c,o,l),ty(c,o,l)}Od.forEachDown=function(c){return om(this,c,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ty)},Od.forEachUp=function(c){return om(this,c,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ny)},Od.forEachUpAndDown=function(c){return om(this,c,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ry)},Od.ancestors=Od.parents,Rd=iy={data:Lr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Lr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Lr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Lr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Lr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Lr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},Rd.attr=Rd.data,Rd.removeAttr=Rd.removeData;var It=iy,Zn={};function os(c){return function(o){var l=this;if(void 0===o&&(o=!0),0===l.length);else if(l.isNode()&&!l.removed()){for(var d=0,f=l[0],p=f._private.edges,m=0;m<p.length;m++){var w=p[m];!o&&w.isLoop()||(d+=c(f,w))}return d}}}function Ii(c,o){return function(l){for(var d,f=this.nodes(),p=0;p<f.length;p++){var w=f[p][c](l);void 0!==w&&(void 0===d||o(w,d))&&(d=w)}return d}}Zt(Zn,{degree:os(function(c,o){return o.source().same(o.target())?2:1}),indegree:os(function(c,o){return o.target().same(c)?1:0}),outdegree:os(function(c,o){return o.source().same(c)?1:0})}),Zt(Zn,{minDegree:Ii("degree",function(c,o){return c<o}),maxDegree:Ii("degree",function(c,o){return c>o}),minIndegree:Ii("indegree",function(c,o){return c<o}),maxIndegree:Ii("indegree",function(c,o){return c>o}),minOutdegree:Ii("outdegree",function(c,o){return c<o}),maxOutdegree:Ii("outdegree",function(c,o){return c>o})}),Zt(Zn,{totalDegree:function(o){for(var l=0,d=this.nodes(),f=0;f<d.length;f++)l+=d[f].degree(o);return l}});var zr,am,mu=function(o,l,d){for(var f=0;f<o.length;f++){var p=o[f];if(!p.locked()){var m=p._private.position,w={x:null!=l.x?l.x-m.x:0,y:null!=l.y?l.y-m.y:0};p.isParent()&&!(0===w.x&&0===w.y)&&p.children().shift(w,d),p.dirtyBoundingBoxCache()}}},Jo={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,l){mu(o,l,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};zr=am={position:Lr.data(Jo),silentPosition:Lr.data(Zt({},Jo,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,l){mu(o,l,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,l){if(_e(o))l?this.silentPosition(o):this.position(o);else if(je(o)){var d=o,f=this.cy();f.startBatch();for(var p=0;p<this.length;p++){var w,m=this[p];(w=d(m,p))&&(l?m.silentPosition(w):m.position(w))}f.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,l,d){var f;if(_e(o)?(f={x:ge(o.x)?o.x:0,y:ge(o.y)?o.y:0},d=l):fe(o)&&ge(l)&&((f={x:0,y:0})[o]=l),null!=f){var p=this.cy();p.startBatch();for(var m=0;m<this.length;m++){var w=this[m];if(!(p.hasCompoundNodes()&&w.isChild()&&w.ancestors().anySame(this))){var T=w.position(),S={x:T.x+f.x,y:T.y+f.y};d?w.silentPosition(S):w.position(S)}}p.endBatch()}return this},silentShift:function(o,l){return _e(o)?this.shift(o,!0):fe(o)&&ge(l)&&this.shift(o,l,!0),this},renderedPosition:function(o,l){var d=this[0],f=this.cy(),p=f.zoom(),m=f.pan(),w=_e(o)?o:void 0,T=void 0!==w||void 0!==l&&fe(o);if(d&&d.isNode()){if(!T){var F=d.position();return w=nr(F,p,m),void 0===o?w:w[o]}for(var S=0;S<this.length;S++){var k=this[S];void 0!==l?k.position(o,(l-m[o])/p):void 0!==w&&k.position(rr(w,p,m))}}else if(!T)return;return this},relativePosition:function(o,l){var d=this[0],f=this.cy(),p=_e(o)?o:void 0,m=void 0!==p||void 0!==l&&fe(o),w=f.hasCompoundNodes();if(d&&d.isNode()){if(!m){var Y=d.position(),Q=w?d.parent():null,ne=Q&&Q.length>0;ne&&(Q=Q[0]);var le=ne?Q.position():{x:0,y:0};return p={x:Y.x-le.x,y:Y.y-le.y},void 0===o?p:p[o]}for(var T=0;T<this.length;T++){var S=this[T],k=w?S.parent():null,F=k&&k.length>0;F&&(k=k[0]);var W=F?k.position():{x:0,y:0};void 0!==l?S.position(o,l+W[o]):void 0!==p&&S.position({x:p.x+W.x,y:p.y+W.y})}}else if(!m)return;return this}},zr.modelPosition=zr.point=zr.position,zr.modelPositions=zr.points=zr.positions,zr.renderedPoint=zr.renderedPosition,zr.relativePoint=zr.relativePosition;var Nl,Ll,lm=am;Nl=Ll={},Ll.renderedBoundingBox=function(c){var o=this.boundingBox(c),l=this.cy(),d=l.zoom(),f=l.pan(),p=o.x1*d+f.x,m=o.x2*d+f.x,w=o.y1*d+f.y,T=o.y2*d+f.y;return{x1:p,x2:m,y1:w,y2:T,w:m-p,h:T-w}},Ll.dirtyCompoundBoundsCache=function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(l){if(l.isParent()){var d=l._private;d.compoundBoundsClean=!1,d.bbCache=null,c||l.emitAndNotify("bounds")}}),this):this},Ll.updateCompoundBounds=function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!c&&o.batching())return this;function l(m){if(m.isParent()){var w=m._private,T=m.children(),S="include"===m.pstyle("compound-sizing-wrt-labels").value,k={width:{val:m.pstyle("min-width").pfValue,left:m.pstyle("min-width-bias-left"),right:m.pstyle("min-width-bias-right")},height:{val:m.pstyle("min-height").pfValue,top:m.pstyle("min-height-bias-top"),bottom:m.pstyle("min-height-bias-bottom")}},F=T.boundingBox({includeLabels:S,includeOverlays:!1,useCache:!1}),H=w.position;(0===F.w||0===F.h)&&((F={w:m.pstyle("width").pfValue,h:m.pstyle("height").pfValue}).x1=H.x-F.w/2,F.x2=H.x+F.w/2,F.y1=H.y-F.h/2,F.y2=H.y+F.h/2);var Q=k.width.left.value;"px"===k.width.left.units&&k.width.val>0&&(Q=100*Q/k.width.val);var ne=k.width.right.value;"px"===k.width.right.units&&k.width.val>0&&(ne=100*ne/k.width.val);var se=k.height.top.value;"px"===k.height.top.units&&k.height.val>0&&(se=100*se/k.height.val);var le=k.height.bottom.value;"px"===k.height.bottom.units&&k.height.val>0&&(le=100*le/k.height.val);var ce=W(k.width.val-F.w,Q,ne),pe=ce.biasDiff,Me=ce.biasComplementDiff,Ae=W(k.height.val-F.h,se,le),me=Ae.biasDiff,De=Ae.biasComplementDiff;w.autoPadding=function Y(ve,Re,Oe,Ee){if("%"!==Oe.units)return"px"===Oe.units?Oe.pfValue:0;switch(Ee){case"width":return ve>0?Oe.pfValue*ve:0;case"height":return Re>0?Oe.pfValue*Re:0;case"average":return ve>0&&Re>0?Oe.pfValue*(ve+Re)/2:0;case"min":return ve>0&&Re>0?ve>Re?Oe.pfValue*Re:Oe.pfValue*ve:0;case"max":return ve>0&&Re>0?ve>Re?Oe.pfValue*ve:Oe.pfValue*Re:0;default:return 0}}(F.w,F.h,m.pstyle("padding"),m.pstyle("padding-relative-to").value),w.autoWidth=Math.max(F.w,k.width.val),H.x=(-pe+F.x1+F.x2+Me)/2,w.autoHeight=Math.max(F.h,k.height.val),H.y=(-me+F.y1+F.y2+De)/2}function W(ve,Re,Oe){var Ee=0,He=0,Ie=Re+Oe;return ve>0&&Ie>0&&(Ee=Re/Ie*ve,He=Oe/Ie*ve),{biasDiff:Ee,biasComplementDiff:He}}}for(var d=0;d<this.length;d++){var f=this[d],p=f._private;(!p.compoundBoundsClean||c)&&(l(f),o.batching()||(p.compoundBoundsClean=!0))}return this};var ea=function(o){return o===1/0||o===-1/0?0:o},Fo=function(o,l,d,f,p){f-l==0||p-d==0||null==l||null==d||null==f||null==p||(o.x1=l<o.x1?l:o.x1,o.x2=f>o.x2?f:o.x2,o.y1=d<o.y1?d:o.y1,o.y2=p>o.y2?p:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},xi=function(o,l){return null==l?o:Fo(o,l.x1,l.y1,l.x2,l.y2)},po=function(o,l,d){return Ao(o,l,d)},Pd=function(o,l,d){if(!l.cy().headless()){var T,S,f=l._private,p=f.rstyle,m=p.arrowWidth/2;if("none"!==l.pstyle(d+"-arrow-shape").value){"source"===d?(T=p.srcX,S=p.srcY):"target"===d?(T=p.tgtX,S=p.tgtY):(T=p.midX,S=p.midY);var k=f.arrowBounds=f.arrowBounds||{},F=k[d]=k[d]||{};F.x1=T-m,F.y1=S-m,F.x2=T+m,F.y2=S+m,F.w=F.x2-F.x1,F.h=F.y2-F.y1,jn(F,1),Fo(o,F.x1,F.y1,F.x2,F.y2)}}},Fl=function(o,l,d){if(!l.cy().headless()){var f,p=l._private,m=p.rstyle;if(l.pstyle((f=d?d+"-":"")+"label").strValue){var Oe,Ee,He,Ie,T=l.pstyle("text-halign"),S=l.pstyle("text-valign"),k=po(m,"labelWidth",d),F=po(m,"labelHeight",d),H=po(m,"labelX",d),W=po(m,"labelY",d),Y=l.pstyle(f+"text-margin-x").pfValue,Q=l.pstyle(f+"text-margin-y").pfValue,ne=l.isEdge(),se=l.pstyle(f+"text-rotation"),le=l.pstyle("text-outline-width").pfValue,pe=l.pstyle("text-border-width").pfValue/2,Me=l.pstyle("text-background-padding").pfValue,me=F,De=k,ve=De/2,Re=me/2;if(ne)Oe=H-ve,Ee=H+ve,He=W-Re,Ie=W+Re;else{switch(T.value){case"left":Oe=H-De,Ee=H;break;case"center":Oe=H-ve,Ee=H+ve;break;case"right":Oe=H,Ee=H+De}switch(S.value){case"top":He=W-me,Ie=W;break;case"center":He=W-Re,Ie=W+Re;break;case"bottom":He=W,Ie=W+me}}Oe+=Y-Math.max(le,pe)-Me-2,Ee+=Y+Math.max(le,pe)+Me+2,He+=Q-Math.max(le,pe)-Me-2,Ie+=Q+Math.max(le,pe)+Me+2;var Qe=d||"main",Ge=p.labelBounds,We=Ge[Qe]=Ge[Qe]||{};We.x1=Oe,We.y1=He,We.x2=Ee,We.y2=Ie,We.w=Ee-Oe,We.h=Ie-He;var nt=ne&&"autorotate"===se.strValue;if(nt||null!=se.pfValue&&0!==se.pfValue){var dt=nt?po(p.rstyle,"labelAngle",d):se.pfValue,it=Math.cos(dt),rt=Math.sin(dt),Et=(Oe+Ee)/2,Dt=(He+Ie)/2;if(!ne){switch(T.value){case"left":Et=Ee;break;case"right":Et=Oe}switch(S.value){case"top":Dt=Ie;break;case"bottom":Dt=He}}var yt=function(Nn,Ht){return{x:(Nn-=Et)*it-(Ht-=Dt)*rt+Et,y:Nn*rt+Ht*it+Dt}},gt=yt(Oe,He),tt=yt(Oe,Ie),Ct=yt(Ee,He),Tt=yt(Ee,Ie);Oe=Math.min(gt.x,tt.x,Ct.x,Tt.x),Ee=Math.max(gt.x,tt.x,Ct.x,Tt.x),He=Math.min(gt.y,tt.y,Ct.y,Tt.y),Ie=Math.max(gt.y,tt.y,Ct.y,Tt.y)}var Pt=Qe+"Rot",Vt=Ge[Pt]=Ge[Pt]||{};Vt.x1=Oe,Vt.y1=He,Vt.x2=Ee,Vt.y2=Ie,Vt.w=Ee-Oe,Vt.h=Ie-He,Fo(o,Oe,He,Ee,Ie),Fo(p.labelBounds.all,Oe,He,Ee,Ie)}return o}},sy=function(o){var l=0,d=function(m){return(m?1:0)<<l++},f=0;return f+=d(o.incudeNodes),f+=d(o.includeEdges),f+=d(o.includeLabels),f+=d(o.includeMainLabels),f+=d(o.includeSourceLabels),(f+=d(o.includeTargetLabels))+d(o.includeOverlays)},cm=function(o){if(o.isEdge()){var l=o.source().position(),d=o.target().position(),f=function(m){return Math.round(m)};return function(o,l){var d={value:0,done:!1},f=0,p=o.length;return hd({next:function(){return f<p?d.value=o[f++]:d.done=!0,d}},void 0)}([f(l.x),f(l.y),f(d.x),f(d.y)])}return 0},oy=function(o,l){var f,d=o._private,p=o.isEdge(),w=(null==l?nf:sy(l))===nf,T=cm(o),S=d.bbCachePosKey===T,k=l.useCache&&S,F=function(Q){return null==Q._private.bbCache||Q._private.styleDirty};if(!k||F(o)||p&&F(o.source())||F(o.target())?(S||o.recalculateRenderedStyle(k),f=function(o,l){var k,F,H,W,Y,Q,d=o._private.cy,f=d.styleEnabled(),p=d.headless(),m=Kr(),w=o._private,T=o.isNode(),S=o.isEdge(),ne=w.rstyle,se=T&&f?o.pstyle("bounds-expansion").pfValue:[0],le=function(gn){return"none"!==gn.pstyle("display").value},ce=!f||le(o)&&(!S||le(o.source())&&le(o.target()));if(ce){var Me=0;f&&l.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(Me=o.pstyle("overlay-padding").value);var me=0;f&&l.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(me=o.pstyle("underlay-padding").value);var De=Math.max(Me,me),Re=0;if(f&&(Re=o.pstyle("width").pfValue/2),T&&l.includeNodes){var Oe=o.position();Y=Oe.x,Q=Oe.y;var He=o.outerWidth()/2,Qe=o.outerHeight()/2;Fo(m,k=Y-He,H=Q-Qe,F=Y+He,W=Q+Qe)}else if(S&&l.includeEdges)if(f&&!p){var Ge=o.pstyle("curve-style").strValue;if(k=Math.min(ne.srcX,ne.midX,ne.tgtX),F=Math.max(ne.srcX,ne.midX,ne.tgtX),H=Math.min(ne.srcY,ne.midY,ne.tgtY),W=Math.max(ne.srcY,ne.midY,ne.tgtY),Fo(m,k-=Re,H-=Re,F+=Re,W+=Re),"haystack"===Ge){var We=ne.haystackPts;if(We&&2===We.length){if((k=We[0].x)>(F=We[1].x)){var nt=k;k=F,F=nt}if((H=We[0].y)>(W=We[1].y)){var ot=H;H=W,W=ot}Fo(m,k-Re,H-Re,F+Re,W+Re)}}else if("bezier"===Ge||"unbundled-bezier"===Ge||"segments"===Ge||"taxi"===Ge){var dt;switch(Ge){case"bezier":case"unbundled-bezier":dt=ne.bezierPts;break;case"segments":case"taxi":dt=ne.linePts}if(null!=dt)for(var it=0;it<dt.length;it++){var rt=dt[it];Fo(m,k=rt.x-Re,H=rt.y-Re,F=rt.x+Re,W=rt.y+Re)}}}else{var Dt=o.source().position(),gt=o.target().position();if((k=Dt.x)>(F=gt.x)){var tt=k;k=F,F=tt}if((H=Dt.y)>(W=gt.y)){var Ct=H;H=W,W=Ct}Fo(m,k-=Re,H-=Re,F+=Re,W+=Re)}if(f&&l.includeEdges&&S&&(Pd(m,o,"mid-source"),Pd(m,o,"mid-target"),Pd(m,o,"source"),Pd(m,o,"target")),f&&"yes"===o.pstyle("ghost").value){var Pt=o.pstyle("ghost-offset-x").pfValue,Vt=o.pstyle("ghost-offset-y").pfValue;Fo(m,m.x1+Pt,m.y1+Vt,m.x2+Pt,m.y2+Vt)}var Cn=w.bodyBounds=w.bodyBounds||{};Al(Cn,m),Wo(Cn,se),jn(Cn,1),f&&Fo(m,(k=m.x1)-De,(H=m.y1)-De,(F=m.x2)+De,(W=m.y2)+De);var Nn=w.overlayBounds=w.overlayBounds||{};Al(Nn,m),Wo(Nn,se),jn(Nn,1);var Ht=w.labelBounds=w.labelBounds||{};null!=Ht.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}(Ht.all):Ht.all=Kr(),f&&l.includeLabels&&(l.includeMainLabels&&Fl(m,o,null),S&&(l.includeSourceLabels&&Fl(m,o,"source"),l.includeTargetLabels&&Fl(m,o,"target")))}return m.x1=ea(m.x1),m.y1=ea(m.y1),m.x2=ea(m.x2),m.y2=ea(m.y2),m.w=ea(m.x2-m.x1),m.h=ea(m.y2-m.y1),m.w>0&&m.h>0&&ce&&(Wo(m,se),jn(m,1)),m}(o,Nd),d.bbCache=f,d.bbCachePosKey=T):f=d.bbCache,!w){var W=o.isNode();f=Kr(),(l.includeNodes&&W||l.includeEdges&&!W)&&xi(f,l.includeOverlays?d.overlayBounds:d.bodyBounds),l.includeLabels&&(l.includeMainLabels&&(!p||l.includeSourceLabels&&l.includeTargetLabels)?xi(f,d.labelBounds.all):(l.includeMainLabels&&xi(f,d.labelBounds.mainRot),l.includeSourceLabels&&xi(f,d.labelBounds.sourceRot),l.includeTargetLabels&&xi(f,d.labelBounds.targetRot))),f.w=f.x2-f.x1,f.h=f.y2-f.y1}return f},Nd={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},nf=sy(Nd),rf=Ti(Nd);Ll.boundingBox=function(c){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==c&&void 0!==c.useCache&&!0!==c.useCache){o=Kr();var l=rf(c=c||Nd),d=this;if(d.cy().styleEnabled())for(var m=0;m<d.length;m++){var w=d[m],T=w._private,S=cm(w);w.recalculateRenderedStyle(l.useCache&&T.bbCachePosKey===S&&!T.styleDirty)}this.updateCompoundBounds(!c.useCache);for(var H=0;H<d.length;H++)xi(o,oy(d[H],l))}else c=void 0===c?Nd:rf(c),o=oy(this[0],c);return o.x1=ea(o.x1),o.y1=ea(o.y1),o.x2=ea(o.x2),o.y2=ea(o.y2),o.w=ea(o.x2-o.x1),o.h=ea(o.y2-o.y1),o},Ll.dirtyBoundingBoxCache=function(){for(var c=0;c<this.length;c++){var o=this[c]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Ll.boundingBoxAt=function(c){var o=this.nodes(),l=this.cy(),d=l.hasCompoundNodes(),f=l.collection();if(d&&(f=o.filter(function(S){return S.isParent()}),o=o.not(f)),_e(c)){var p=c;c=function(){return p}}l.startBatch(),o.forEach(function(k,F){return k._private.bbAtOldPos=c(k,F)}).silentPositions(c),d&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0));var T=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(k){return k._private.bbAtOldPos}),d&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0)),l.endBatch(),T},Nl.boundingbox=Nl.bb=Nl.boundingBox,Nl.renderedBoundingbox=Nl.renderedBoundingBox;var xc,Ld,ay=Ll;xc=Ld={};var um=function(o){o.uppercaseName=Yt(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=Yt(o.outerName),xc[o.name]=function(){var d=this[0],f=d._private;if(d){if(f.cy._private.styleEnabled){if(d.isParent())return d.updateCompoundBounds(),f[o.autoName]||0;var w=d.pstyle(o.name);return"label"===w.strValue?(d.recalculateRenderedStyle(),f.rstyle[o.labelName]||0):w.pfValue}return 1}},xc["outer"+o.uppercaseName]=function(){var d=this[0];if(d)return d._private.cy._private.styleEnabled?d[o.name]()+d.pstyle("border-width").pfValue+2*d.padding():1},xc["rendered"+o.uppercaseName]=function(){var d=this[0];if(d)return d[o.name]()*this.cy().zoom()},xc["rendered"+o.uppercaseOuterName]=function(){var d=this[0];if(d)return d[o.outerName]()*this.cy().zoom()}};um({name:"width"}),um({name:"height"}),Ld.padding=function(){var c=this[0],o=c._private;return c.isParent()?(c.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:c.pstyle("padding").pfValue):c.pstyle("padding").pfValue},Ld.paddedHeight=function(){var c=this[0];return c.height()+2*c.padding()},Ld.paddedWidth=function(){var c=this[0];return c.width()+2*c.padding()};var dm=Ld,Bl={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},sf=Object.keys(Bl).reduce(function(c,o){var l=Bl[o],d=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return c[o]=function(){return function(o,l){if(o.isEdge())return l(o)}(this,l.get)},c[d]=l.mult?function(){return function(o,l){if(o.isEdge()){var d=o.cy(),f=d.pan(),p=d.zoom();return l(o).map(function(m){return nr(m,p,f)})}}(this,l.get)}:function(){return function(o,l){if(o.isEdge()){var d=o.cy();return nr(l(o),d.zoom(),d.pan())}}(this,l.get)},c},{}),Yx=Zt({},lm,ay,dm,sf),af=function(o,l){this.recycle(o,l)};function Fd(){return!1}function lf(){return!0}af.prototype={instanceString:function(){return"event"},recycle:function(o,l){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Fd,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?lf:Fd):null!=o&&o.type?l=o:this.type=o,null!=l&&(this.originalEvent=l.originalEvent,this.type=null!=l.type?l.type:this.type,this.cy=l.cy,this.target=l.target,this.position=l.position,this.renderedPosition=l.renderedPosition,this.namespace=l.namespace,this.layout=l.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var d=this.position,f=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:d.x*f+p.x,y:d.y*f+p.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=lf;var o=this.originalEvent;o&&o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=lf;var o=this.originalEvent;o&&o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=lf,this.stopPropagation()},isDefaultPrevented:Fd,isPropagationStopped:Fd,isImmediatePropagationStopped:Fd};var hy=/^([^.]+)(\.(?:[^.]+))?$/,Bd={qualifierCompare:function(o,l){return o===l},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Vd=Object.keys(Bd),fm={};function Hd(){for(var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fm,o=arguments.length>1?arguments[1]:void 0,l=0;l<Vd.length;l++){var d=Vd[l];this[d]=c[d]||Bd[d]}this.context=o||this.context,this.listeners=[],this.emitting=0}var Vl=Hd.prototype,wc=function(o,l,d,f,p,m,w){je(f)&&(p=f,f=null),w&&(m=null==m?w:Zt({},m,w));for(var T=Ve(d)?d:d.split(/\s+/),S=0;S<T.length;S++){var k=T[S];if(!Ne(k)){var F=k.match(hy);if(F&&!1===l(o,k,F[1],F[2]?F[2]:null,f,p,m))break}}},gu=function(o,l){return o.addEventFields(o.context,l),new af(l.type,l)};Vl.on=Vl.addListener=function(c,o,l,d,f){return wc(this,function(p,m,w,T,S,k,F){je(k)&&p.listeners.push({event:m,callback:k,type:w,namespace:T,qualifier:S,conf:F})},c,o,l,d,f),this},Vl.one=function(c,o,l,d){return this.on(c,o,l,d,{one:!0})},Vl.removeListener=Vl.off=function(c,o,l,d){var f=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var p=this.listeners,m=function(S){var k=p[S];wc(f,function(F,H,W,Y,Q,ne){if((k.type===W||"*"===c)&&(!Y&&".*"!==k.namespace||k.namespace===Y)&&(!Q||F.qualifierCompare(k.qualifier,Q))&&(!ne||k.callback===ne))return p.splice(S,1),!1},c,o,l,d)},w=p.length-1;w>=0;w--)m(w);return this},Vl.removeAllListeners=function(){return this.removeListener("*")},Vl.emit=Vl.trigger=function(c,o,l){var d=this.listeners,f=d.length;return this.emitting++,Ve(o)||(o=[o]),function(o,l,d){if(function(o){return"event"===we(o)}(d))l(o,d);else if(_e(d))l(o,gu(o,d));else for(var f=Ve(d)?d:d.split(/\s+/),p=0;p<f.length;p++){var m=f[p];if(!Ne(m)){var w=m.match(hy);w&&l(o,gu(o,{type:w[1],namespace:w[2]?w[2]:null,target:o.context}))}}}(this,function(p,m){null!=l&&(f=(d=[{event:m.event,type:m.type,namespace:m.namespace,callback:l}]).length);for(var w=function(k){var F=d[k];if(F.type===m.type&&(!F.namespace||F.namespace===m.namespace||".*"===F.namespace)&&p.eventMatches(p.context,F,m)){var H=[m];null!=o&&function(o,l){for(var d=0;d<l.length;d++)o.push(l[d])}(H,o),p.beforeEmit(p.context,F,m),F.conf&&F.conf.one&&(p.listeners=p.listeners.filter(function(Q){return Q!==F}));var W=p.callbackContext(p.context,F,m),Y=F.callback.apply(W,H);p.afterEmit(p.context,F,m),!1===Y&&(m.stopPropagation(),m.preventDefault())}},T=0;T<f;T++)w(T);p.bubble(p.context)&&!m.isPropagationStopped()&&p.parent(p.context).emit(m,o)},c),this.emitting--,this};var sM={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,d){var f=l.qualifier;return null==f||o!==d.target&&et(d.target)&&f.matches(d.target)},addEventFields:function(o,l){l.cy=o.cy(),l.target=o},callbackContext:function(o,l,d){return null!=l.qualifier?d.target:o},beforeEmit:function(o,l){l.conf&&l.conf.once&&l.conf.onceCollection.removeListener(l.event,l.qualifier,l.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},vu=function(o){return fe(o)?new Ja(o):o},Kx={createEmitter:function(){for(var o=0;o<this.length;o++){var l=this[o],d=l._private;d.emitter||(d.emitter=new Hd(sM,l))}return this},emitter:function(){return this._private.emitter},on:function(o,l,d){for(var f=vu(l),p=0;p<this.length;p++)this[p].emitter().on(o,f,d);return this},removeListener:function(o,l,d){for(var f=vu(l),p=0;p<this.length;p++)this[p].emitter().removeListener(o,f,d);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,l,d){for(var f=vu(l),p=0;p<this.length;p++)this[p].emitter().one(o,f,d);return this},once:function(o,l,d){for(var f=vu(l),p=0;p<this.length;p++)this[p].emitter().on(o,f,d,{once:!0,onceCollection:this})},emit:function(o,l){for(var d=0;d<this.length;d++)this[d].emitter().emit(o,l);return this},emitAndNotify:function(o,l){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,l),this}};Lr.eventAliasesOn(Kx);var fy={nodes:function(o){return this.filter(function(l){return l.isNode()}).filter(o)},edges:function(o){return this.filter(function(l){return l.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),l=this.spawn(),d=0;d<this.length;d++){var f=this[d];f.isNode()?o.push(f):l.push(f)}return{nodes:o,edges:l}},filter:function(o,l){if(void 0===o)return this;if(fe(o)||Te(o))return new Ja(o).filter(this);if(je(o)){for(var d=this.spawn(),f=this,p=0;p<f.length;p++){var m=f[p];(l?o.apply(l,[m,p,f]):o(m,p,f))&&d.push(m)}return d}return this.spawn()},not:function(o){if(o){fe(o)&&(o=this.filter(o));for(var l=this.spawn(),d=0;d<this.length;d++){var f=this[d];o.has(f)||l.push(f)}return l}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(fe(o))return this.filter(o);for(var d=this.spawn(),m=this.length<o.length,w=m?this:o,T=m?o:this,S=0;S<w.length;S++){var k=w[S];T.has(k)&&d.push(k)}return d},xor:function(o){var l=this._private.cy;fe(o)&&(o=l.$(o));var d=this.spawn(),p=o,m=function(T,S){for(var k=0;k<T.length;k++){var F=T[k];S.hasElementWithId(F._private.data.id)||d.push(F)}};return m(this,p),m(p,this),d},diff:function(o){var l=this._private.cy;fe(o)&&(o=l.$(o));var d=this.spawn(),f=this.spawn(),p=this.spawn(),w=o,T=function(k,F,H){for(var W=0;W<k.length;W++){var Y=k[W];F.hasElementWithId(Y._private.data.id)?p.merge(Y):H.push(Y)}};return T(this,w,d),T(w,this,f),{left:d,right:f,both:p}},add:function(o){var l=this._private.cy;if(!o)return this;if(fe(o)){var d=o;o=l.mutableElements().filter(d)}for(var f=this.spawnSelf(),p=0;p<o.length;p++){var m=o[p];!this.has(m)&&f.push(m)}return f},merge:function(o){var l=this._private,d=l.cy;if(!o)return this;if(o&&fe(o)){var f=o;o=d.mutableElements().filter(f)}for(var p=l.map,m=0;m<o.length;m++){var w=o[m],T=w._private.data.id;if(!p.has(T)){var k=this.length++;this[k]=w,p.set(T,{ele:w,index:k})}}return this},unmergeAt:function(o){var d=this[o].id(),p=this._private.map;if(this[o]=void 0,p.delete(d),this.length>1&&o!==this.length-1){var w=this.length-1,T=this[w],S=T._private.data.id;this[w]=void 0,this[o]=T,p.set(S,{ele:T,index:o})}return this.length--,this},unmergeOne:function(o){var p=this._private.map.get((o=o[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(o){var l=this._private.cy;if(!o)return this;if(o&&fe(o)){var d=o;o=l.mutableElements().filter(d)}for(var f=0;f<o.length;f++)this.unmergeOne(o[f]);return this},unmergeBy:function(o){for(var l=this.length-1;l>=0;l--)o(this[l])&&this.unmergeAt(l);return this},map:function(o,l){for(var d=[],f=this,p=0;p<f.length;p++){var m=f[p],w=l?o.apply(l,[m,p,f]):o(m,p,f);d.push(w)}return d},reduce:function(o,l){for(var d=l,f=this,p=0;p<f.length;p++)d=o(d,f[p],p,f);return d},max:function(o,l){for(var f,d=-1/0,p=this,m=0;m<p.length;m++){var w=p[m],T=l?o.apply(l,[w,m,p]):o(w,m,p);T>d&&(d=T,f=w)}return{value:d,ele:f}},min:function(o,l){for(var f,d=1/0,p=this,m=0;m<p.length;m++){var w=p[m],T=l?o.apply(l,[w,m,p]):o(w,m,p);T<d&&(d=T,f=w)}return{value:d,ele:f}}},Er=fy;Er.u=Er["|"]=Er["+"]=Er.union=Er.or=Er.add,Er["\\"]=Er["!"]=Er["-"]=Er.difference=Er.relativeComplement=Er.subtract=Er.not,Er.n=Er["&"]=Er["."]=Er.and=Er.intersection=Er.intersect,Er["^"]=Er["(+)"]=Er["(-)"]=Er.symmetricDifference=Er.symdiff=Er.xor,Er.fnFilter=Er.filterFn=Er.stdFilter=Er.filter,Er.complement=Er.abscomp=Er.absoluteComplement;var o,qx=function(o,l){var f=o.cy().hasCompoundNodes();function p(k){var F=k.pstyle("z-compound-depth");return"auto"===F.value?f?k.zDepth():0:"bottom"===F.value?-1:"top"===F.value?tu:0}var m=p(o)-p(l);if(0!==m)return m;function w(k){return"auto"===k.pstyle("z-index-compare").value&&k.isNode()?1:0}var T=w(o)-w(l);if(0!==T)return T;var S=o.pstyle("z-index").value-l.pstyle("z-index").value;return 0!==S?S:o.poolIndex()-l.poolIndex()},yu={forEach:function(o,l){if(je(o))for(var d=this.length,f=0;f<d;f++){var p=this[f];if(!1===(l?o.apply(l,[p,f,this]):o(p,f,this)))break}return this},toArray:function(){for(var o=[],l=0;l<this.length;l++)o.push(this[l]);return o},slice:function(o,l){var d=[],f=this.length;null==l&&(l=f),null==o&&(o=0),o<0&&(o=f+o),l<0&&(l=f+l);for(var p=o;p>=0&&p<l&&p<f;p++)d.push(this[p]);return this.spawn(d)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!je(o))return this;var l=this.toArray().sort(o);return this.spawn(l)},sortByZIndex:function(){return this.sort(qx)},zDepth:function(){var o=this[0];if(o){var l=o._private;if("nodes"===l.group){var f=l.data.parent?o.parents().size():0;return o.isParent()?f:tu-1}var m=l.target,w=l.source.zDepth(),T=m.zDepth();return Math.max(w,T,0)}}};yu.each=yu.forEach,o="undefined",(typeof Symbol>"u"?"undefined":L(Symbol))!=o&&L(Symbol.iterator)!=o&&(yu[Symbol.iterator]=function(){var d=this,f={value:void 0,done:!1},p=0,m=this.length;return U({next:function(){return p<m?f.value=d[p++]:(f.value=void 0,f.done=!0),f}},Symbol.iterator,function(){return this})});var my=Ti({nodeDimensionsIncludeLabels:!1}),Hl={layoutDimensions:function(o){var l;if(o=my(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var d=this.boundingBox();l={w:d.w,h:d.h}}else l={w:this.outerWidth(),h:this.outerHeight()};else l={w:0,h:0};return(0===l.w||0===l.h)&&(l.w=l.h=1),l},layoutPositions:function(o,l,d){var f=this.nodes().filter(function(Me){return!Me.isParent()}),p=this.cy(),m=l.eles,w=function(Ae){return Ae.id()},T=ft(d,w);o.emit({type:"layoutstart",layout:o}),o.animations=[];var k=l.spacingFactor&&1!==l.spacingFactor,H=function(){if(!k)return null;for(var Ae=Kr(),me=0;me<f.length;me++){var ve=T(f[me],me);Yh(Ae,ve.x,ve.y)}return Ae}(),W=ft(function(Me,Ae){var me=T(Me,Ae);return k&&(me=function(Ae,me,De){var ve_x=me.x1+me.w/2,ve_y=me.y1+me.h/2;return{x:ve_x+(De.x-ve_x)*Ae,y:ve_y+(De.y-ve_y)*Ae}}(Math.abs(l.spacingFactor),H,me)),null!=l.transform&&(me=l.transform(Me,me)),me},w);if(l.animate){for(var Y=0;Y<f.length;Y++){var Q=f[Y],ne=W(Q,Y);if(null==l.animateFilter||l.animateFilter(Q,Y)){var le=Q.animation({position:ne,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(le)}else Q.position(ne)}if(l.fit){var ce=p.animation({fit:{boundingBox:m.boundingBoxAt(W),padding:l.padding},duration:l.animationDuration,easing:l.animationEasing});o.animations.push(ce)}else if(void 0!==l.zoom&&void 0!==l.pan){var pe=p.animation({zoom:l.zoom,pan:l.pan,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(pe)}o.animations.forEach(function(Me){return Me.play()}),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),Id.all(o.animations.map(function(Me){return Me.promise()})).then(function(){o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o})})}else f.positions(W),l.fit&&p.fit(l.eles,l.padding),null!=l.zoom&&p.zoom(l.zoom),l.pan&&p.pan(l.pan),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout(Zt({},o,{eles:this}))}};function pm(c,o,l){var p,d=l._private,f=d.styleCache=d.styleCache||[];return null!=(p=f[c])||(p=f[c]=o(l)),p}function zd(c,o){return c=Ga(c),function(d){return pm(c,o,d)}}function Ec(c,o){c=Ga(c);var l=function(f){return o.call(f)};return function(){var f=this[0];if(f)return pm(c,l,f)}}Hl.createLayout=Hl.makeLayout=Hl.layout;var as={recalculateRenderedStyle:function(o){var l=this.cy(),d=l.renderer(),f=l.styleEnabled();return d&&f&&d.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var d,o=this.cy(),l=function(p){return p._private.styleCache=null};return o.hasCompoundNodes()?((d=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(d.connectedEdges()),d.forEach(l)):this.forEach(function(f){l(f),f.connectedEdges().forEach(l)}),this},updateStyle:function(o){var l=this._private.cy;if(!l.styleEnabled())return this;if(l.batching())return l._private.batchStyleEles.merge(this),this;var p=this;o=!(!o&&void 0!==o),l.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var m=p;return o?m.emitAndNotify("style"):m.emit("style"),p.forEach(function(w){return w._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var l=0;l<this.length;l++){var d=this[l];d._private.styleDirty&&(d._private.styleDirty=!1,o.style().apply(d))}},parsedStyle:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=this[0],f=d.cy();if(f.styleEnabled()&&d)return this.cleanStyle(),d._private.style[o]??(l?f.style().getDefaultProperty(o):null)},numericStyle:function(o){var l=this[0];if(l.cy().styleEnabled()&&l){var d=l.pstyle(o);return void 0!==d.pfValue?d.pfValue:d.value}},numericStyleUnits:function(o){var l=this[0];if(l.cy().styleEnabled()&&l)return l.pstyle(o).units},renderedStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var d=this[0];return d?l.style().getRenderedStyle(d,o):void 0},style:function(o,l){var d=this.cy();if(!d.styleEnabled())return this;var p=d.style();if(_e(o))p.applyBypass(this,o,!1),this.emitAndNotify("style");else if(fe(o)){if(void 0===l){var w=this[0];return w?p.getStylePropertyValue(w,o):void 0}p.applyBypass(this,o,l,!1),this.emitAndNotify("style")}else if(void 0===o){var T=this[0];return T?p.getRawStyle(T):void 0}return this},removeStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var f=l.style(),p=this;if(void 0===o)for(var m=0;m<p.length;m++)f.removeAllBypasses(p[m],!1);else{o=o.split(/\s+/);for(var T=0;T<p.length;T++)f.removeBypasses(p[T],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var l=o.hasCompoundNodes(),d=this[0];if(d){var f=d._private,p=d.pstyle("opacity").value;if(!l)return p;var m=f.data.parent?d.parents():null;if(m)for(var w=0;w<m.length;w++)p*=m[w].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var l=this[0],d=l.cy().hasCompoundNodes();return l?d?0===l.effectiveOpacity():0===l.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function bu(c,o){var d=c._private.data.parent?c.parents():null;if(d)for(var f=0;f<d.length;f++)if(!o(d[f]))return!1;return!0}function jd(c){var o=c.ok,l=c.edgeOkViaNode||c.ok,d=c.parentOk||c.ok;return function(){var f=this.cy();if(!f.styleEnabled())return!0;var p=this[0],m=f.hasCompoundNodes();if(p){var w=p._private;if(!o(p))return!1;if(p.isNode())return!m||bu(p,d);var T=w.source,S=w.target;return l(T)&&(!m||bu(T,l))&&(T===S||l(S)&&(!m||bu(S,l)))}}}var tl=zd("eleTakesUpSpace",function(c){return"element"===c.pstyle("display").value&&0!==c.width()&&(!c.isNode()||0!==c.height())});as.takesUpSpace=Ec("takesUpSpace",jd({ok:tl}));var aM=zd("eleInteractive",function(c){return"yes"===c.pstyle("events").value&&"visible"===c.pstyle("visibility").value&&tl(c)}),gy=zd("parentInteractive",function(c){return"visible"===c.pstyle("visibility").value&&tl(c)});as.interactive=Ec("interactive",jd({ok:aM,parentOk:gy,edgeOkViaNode:tl})),as.noninteractive=function(){var c=this[0];if(c)return!c.interactive()};var vy=zd("eleVisible",function(c){return"visible"===c.pstyle("visibility").value&&0!==c.pstyle("opacity").pfValue&&tl(c)});as.visible=Ec("visible",jd({ok:vy,edgeOkViaNode:tl})),as.hidden=function(){var c=this[0];if(c)return!c.visible()},as.isBundledBezier=Ec("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),as.bypass=as.css=as.style,as.renderedCss=as.renderedStyle,as.removeBypass=as.removeCss=as.removeStyle,as.pstyle=as.parsedStyle;var ls={};function yy(c){return function(){var o=arguments,l=[];if(2===o.length)this.on(c.event,o[0],o[1]);else if(1===o.length&&je(o[0]))this.on(c.event,o[0]);else if(0===o.length||1===o.length&&Ve(o[0])){for(var m=1===o.length?o[0]:null,w=0;w<this.length;w++){var T=this[w],S=!c.ableField||T._private[c.ableField],k=T._private[c.field]!=c.value;if(c.overrideAble){var F=c.overrideAble(T);if(void 0!==F&&(S=F,!F))return this}S&&(T._private[c.field]=c.value,k&&l.push(T))}var H=this.spawn(l);H.updateStyle(),H.emit(c.event),m&&H.emit(m)}return this}}function nl(c){ls[c.field]=function(){var o=this[0];if(o){if(c.overrideField){var l=c.overrideField(o);if(void 0!==l)return l}return o._private[c.field]}},ls[c.on]=yy({event:c.on,field:c.field,ableField:c.ableField,overrideAble:c.overrideAble,value:!0}),ls[c.off]=yy({event:c.off,field:c.field,ableField:c.ableField,overrideAble:c.overrideAble,value:!1})}nl({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),nl({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),nl({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),nl({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),ls.deselect=ls.unselect,ls.grabbed=function(){var c=this[0];if(c)return c._private.grabbed},nl({field:"active",on:"activate",off:"unactivate"}),nl({field:"pannable",on:"panify",off:"unpanify"}),ls.inactive=function(){var c=this[0];if(c)return!c._private.active};var Ui={},mm=function(o){return function(d){for(var p=[],m=0;m<this.length;m++){var w=this[m];if(w.isNode()){for(var T=!1,S=w.connectedEdges(),k=0;k<S.length;k++){var F=S[k],H=F.source(),W=F.target();if(o.noIncomingEdges&&W===w&&H!==w||o.noOutgoingEdges&&H===w&&W!==w){T=!0;break}}T||p.push(w)}}return this.spawn(p,!0).filter(d)}},uf=function(o){return function(l){for(var f=[],p=0;p<this.length;p++){var m=this[p];if(m.isNode())for(var w=m.connectedEdges(),T=0;T<w.length;T++){var S=w[T],k=S.source(),F=S.target();o.outgoing&&k===m?(f.push(S),f.push(F)):o.incoming&&F===m&&(f.push(S),f.push(k))}}return this.spawn(f,!0).filter(l)}},df=function(o){return function(l){for(var d=this,f=[],p={};;){var m=o.outgoing?d.outgoers():d.incomers();if(0===m.length)break;for(var w=!1,T=0;T<m.length;T++){var S=m[T],k=S.id();p[k]||(p[k]=!0,f.push(S),w=!0)}if(!w)break;d=m}return this.spawn(f,!0).filter(l)}};function by(c){return function(l){for(var d=[],f=0;f<this.length;f++){var m=this[f]._private[c.attr];m&&d.push(m)}return this.spawn(d,!0).filter(l)}}function gm(c){return function(l){var d=[],f=this._private.cy,p=c||{};fe(l)&&(l=f.$(l));for(var m=0;m<l.length;m++)for(var w=l[m]._private.edges,T=0;T<w.length;T++){var S=w[T],k=S._private.data,F=this.hasElementWithId(k.source)&&l.hasElementWithId(k.target),H=l.hasElementWithId(k.source)&&this.hasElementWithId(k.target);(F||H)&&((p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!F||p.thisIsTgt&&!H)||d.push(S))}return this.spawn(d,!0)}}function vm(c){return c=Zt({},{codirected:!1},c),function(d){for(var f=[],p=this.edges(),m=c,w=0;w<p.length;w++)for(var S=p[w]._private,k=S.source,F=k._private.data.id,H=S.data.target,W=k._private.edges,Y=0;Y<W.length;Y++){var Q=W[Y],ne=Q._private.data,se=ne.target,le=ne.source,ce=se===H&&le===F;(m.codirected&&ce||!m.codirected&&(ce||F===se&&H===le))&&f.push(Q)}return this.spawn(f,!0).filter(d)}}Ui.clearTraversalCache=function(){for(var c=0;c<this.length;c++)this[c]._private.traversalCache=null},Zt(Ui,{roots:mm({noIncomingEdges:!0}),leaves:mm({noOutgoingEdges:!0}),outgoers:fo(uf({outgoing:!0}),"outgoers"),successors:df({outgoing:!0}),incomers:fo(uf({incoming:!0}),"incomers"),predecessors:df({incoming:!0})}),Zt(Ui,{neighborhood:fo(function(c){for(var o=[],l=this.nodes(),d=0;d<l.length;d++)for(var f=l[d],p=f.connectedEdges(),m=0;m<p.length;m++){var w=p[m],T=w.source(),S=w.target(),k=f===T?S:T;k.length>0&&o.push(k[0]),o.push(w[0])}return this.spawn(o,!0).filter(c)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),Ui.neighbourhood=Ui.neighborhood,Ui.closedNeighbourhood=Ui.closedNeighborhood,Ui.openNeighbourhood=Ui.openNeighborhood,Zt(Ui,{source:fo(function(o){var d,l=this[0];return l&&(d=l._private.source||l.cy().collection()),d&&o?d.filter(o):d},"source"),target:fo(function(o){var d,l=this[0];return l&&(d=l._private.target||l.cy().collection()),d&&o?d.filter(o):d},"target"),sources:by({attr:"source"}),targets:by({attr:"target"})}),Zt(Ui,{edgesWith:fo(gm(),"edgesWith"),edgesTo:fo(gm({thisIsSrc:!0}),"edgesTo")}),Zt(Ui,{connectedEdges:fo(function(c){for(var o=[],d=0;d<this.length;d++){var f=this[d];if(f.isNode())for(var p=f._private.edges,m=0;m<p.length;m++)o.push(p[m])}return this.spawn(o,!0).filter(c)},"connectedEdges"),connectedNodes:fo(function(c){for(var o=[],d=0;d<this.length;d++){var f=this[d];f.isEdge()&&(o.push(f.source()[0]),o.push(f.target()[0]))}return this.spawn(o,!0).filter(c)},"connectedNodes"),parallelEdges:fo(vm(),"parallelEdges"),codirectedEdges:fo(vm({codirected:!0}),"codirectedEdges")}),Zt(Ui,{components:function(o){var l=this,d=l.cy(),f=d.collection(),p=null==o?l.nodes():o.nodes(),m=[];null!=o&&p.empty()&&(p=o.sources());var w=function(k,F){f.merge(k),p.unmerge(k),F.merge(k)};if(p.empty())return l.spawn();var T=function(){var k=d.collection();m.push(k);var F=p[0];w(F,k),l.bfs({directed:!1,roots:F,visit:function(W){return w(W,k)}}),k.forEach(function(H){H.connectedEdges().forEach(function(W){l.has(W)&&k.has(W.source())&&k.has(W.target())&&k.merge(W)})})};do{T()}while(p.length>0);return m},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),Ui.componentsOf=Ui.components;var Gi=function(o,l){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var p=new As,m=!1;if(l){if(l.length>0&&_e(l[0])&&!et(l[0])){m=!0;for(var w=[],T=new Wa,S=0,k=l.length;S<k;S++){var F=l[S];null==F.data&&(F.data={});var H=F.data;if(null==H.id)H.id=Cl();else if(o.hasElementWithId(H.id)||T.has(H.id))continue;var W=new Ml(o,F,!1);w.push(W),T.add(H.id)}l=w}}else l=[];this.length=0;for(var Y=0,Q=l.length;Y<Q;Y++){var ne=l[Y][0];if(null!=ne){var se=ne._private.data.id;(!d||!p.has(se))&&(d&&p.set(se,{index:this.length,ele:ne}),this[this.length]=ne,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(le){this.lazyMap=le},rebuildMap:function(){for(var ce=this.lazyMap=new As,pe=this.eles,Me=0;Me<pe.length;Me++){var Ae=pe[Me];ce.set(Ae.id(),{index:Me,ele:Ae})}}},d&&(this._private.map=p),m&&!f&&this.restore()}else Br("A collection must have a reference to the core")},jr=Ml.prototype=Gi.prototype=Object.create(Array.prototype);jr.instanceString=function(){return"collection"},jr.spawn=function(c,o){return new Gi(this.cy(),c,o)},jr.spawnSelf=function(){return this.spawn(this)},jr.cy=function(){return this._private.cy},jr.renderer=function(){return this._private.cy.renderer()},jr.element=function(){return this[0]},jr.collection=function(){return At(this)?this:new Gi(this._private.cy,[this])},jr.unique=function(){return new Gi(this._private.cy,this,!0)},jr.hasElementWithId=function(c){return this._private.map.has(c=""+c)},jr.getElementById=function(c){var o=this._private.cy,l=this._private.map.get(c=""+c);return l?l.ele:new Gi(o)},jr.$id=jr.getElementById,jr.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},jr.indexOf=function(c){return this._private.map.get(c[0]._private.data.id).index},jr.indexOfId=function(c){return this._private.map.get(c=""+c).index},jr.json=function(c){var o=this.element(),l=this.cy();if(null==o&&c)return this;if(null!=o){var d=o._private;if(_e(c)){if(l.startBatch(),c.data){o.data(c.data);var f=d.data;if(o.isEdge()){var p=!1,m={},w=c.data.source,T=c.data.target;null!=w&&w!=f.source&&(m.source=""+w,p=!0),null!=T&&T!=f.target&&(m.target=""+T,p=!0),p&&(o=o.move(m))}else{var k=c.data.parent;"parent"in c.data&&(null!=k||null!=f.parent)&&k!=f.parent&&(void 0===k&&(k=null),null!=k&&(k=""+k),o=o.move({parent:k}))}}c.position&&o.position(c.position);var F=function(Q,ne,se){var le=c[Q];null!=le&&le!==d[Q]&&(le?o[ne]():o[se]())};return F("removed","remove","restore"),F("selected","select","unselect"),F("selectable","selectify","unselectify"),F("locked","lock","unlock"),F("grabbable","grabify","ungrabify"),F("pannable","panify","unpanify"),null!=c.classes&&o.classes(c.classes),l.endBatch(),this}if(void 0===c){var H={data:$s(d.data),position:$s(d.position),group:d.group,removed:d.removed,selected:d.selected,selectable:d.selectable,locked:d.locked,grabbable:d.grabbable,pannable:d.pannable,classes:""},W=0;return d.classes.forEach(function(Y){return H.classes+=0==W++?Y:" "+Y}),H}}},jr.jsons=function(){for(var c=[],o=0;o<this.length;o++){var d=this[o].json();c.push(d)}return c},jr.clone=function(){for(var c=this.cy(),o=[],l=0;l<this.length;l++){var f=this[l].json(),p=new Ml(c,f,!1);o.push(p)}return new Gi(c,o)},jr.copy=jr.clone,jr.restore=function(){for(var w,c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,d=l.cy(),f=d._private,p=[],m=[],T=0,S=l.length;T<S;T++){var k=l[T];o&&!k.removed()||(k.isNode()?p.push(k):m.push(k))}w=p.concat(m);var F,H=function(){w.splice(F,1),F--};for(F=0;F<w.length;F++){var W=w[F],Y=W._private,Q=Y.data;if(W.clearTraversalCache(),o||Y.removed)if(void 0===Q.id)Q.id=Cl();else if(ge(Q.id))Q.id=""+Q.id;else{if(Ne(Q.id)||!fe(Q.id)){Br("Can not create element with invalid string ID `"+Q.id+"`"),H();continue}if(d.hasElementWithId(Q.id)){Br("Can not create second element with ID `"+Q.id+"`"),H();continue}}var ne=Q.id;if(W.isNode()){var se=Y.position;null==se.x&&(se.x=0),null==se.y&&(se.y=0)}if(W.isEdge()){for(var le=W,ce=["source","target"],pe=ce.length,Me=!1,Ae=0;Ae<pe;Ae++){var me=ce[Ae],De=Q[me];ge(De)&&(De=Q[me]=""+Q[me]),null==De||""===De?(Br("Can not create edge `"+ne+"` with unspecified "+me),Me=!0):d.hasElementWithId(De)||(Br("Can not create edge `"+ne+"` with nonexistant "+me+" `"+De+"`"),Me=!0)}if(Me){H();continue}var ve=d.getElementById(Q.source),Re=d.getElementById(Q.target);ve.same(Re)?ve._private.edges.push(le):(ve._private.edges.push(le),Re._private.edges.push(le)),le._private.source=ve,le._private.target=Re}Y.map=new As,Y.map.set(ne,{ele:W,index:0}),Y.removed=!1,o&&d.addToPool(W)}for(var Oe=0;Oe<p.length;Oe++){var Ee=p[Oe],He=Ee._private.data;ge(He.parent)&&(He.parent=""+He.parent);var Ie=He.parent;if(null!=Ie||Ee._private.parent){var Ge=Ee._private.parent?d.collection().merge(Ee._private.parent):d.getElementById(Ie);if(Ge.empty())He.parent=void 0;else if(Ge[0].removed())wr("Node added with missing parent, reference to parent removed"),He.parent=void 0,Ee._private.parent=null;else{for(var We=!1,nt=Ge;!nt.empty();){if(Ee.same(nt)){We=!0,He.parent=void 0;break}nt=nt.parent()}We||(Ge[0]._private.children.push(Ee),Ee._private.parent=Ge[0],f.hasCompoundNodes=!0)}}}if(w.length>0){for(var ot=w.length===l.length?l:new Gi(d,w),dt=0;dt<ot.length;dt++){var it=ot[dt];it.isNode()||(it.parallelEdges().clearTraversalCache(),it.source().clearTraversalCache(),it.target().clearTraversalCache())}(f.hasCompoundNodes?d.collection().merge(ot).merge(ot.connectedNodes()).merge(ot.parent()):ot).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(c),c?ot.emitAndNotify("add"):o&&ot.emit("add")}return l},jr.removed=function(){var c=this[0];return c&&c._private.removed},jr.inside=function(){var c=this[0];return c&&!c._private.removed},jr.remove=function(){var c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,d=[],f={},p=l._private.cy;function T(Ie){var Qe=f[Ie.id()];o&&Ie.removed()||Qe||(f[Ie.id()]=!0,Ie.isNode()?(d.push(Ie),function m(Ie){for(var Qe=Ie._private.edges,Ge=0;Ge<Qe.length;Ge++)T(Qe[Ge])}(Ie),function w(Ie){for(var Qe=Ie._private.children,Ge=0;Ge<Qe.length;Ge++)T(Qe[Ge])}(Ie)):d.unshift(Ie))}for(var S=0,k=l.length;S<k;S++)T(l[S]);function H(Ie,Qe){ba(Ie._private.edges,Qe),Ie.clearTraversalCache()}var Y=[];function Q(Ie,Qe){Qe=Qe[0];var Ge=(Ie=Ie[0])._private.children,We=Ie.id();ba(Ge,Qe),Qe._private.parent=null,Y.ids[We]||(Y.ids[We]=!0,Y.push(Ie))}Y.ids={},l.dirtyCompoundBoundsCache(),o&&p.removeFromPool(d);for(var ne=0;ne<d.length;ne++){var se=d[ne];if(se.isEdge()){var le=se.source()[0],ce=se.target()[0];H(le,se),H(ce,se);for(var pe=se.parallelEdges(),Me=0;Me<pe.length;Me++){var Ae=pe[Me];Ae.clearTraversalCache(),Ae.isBundledBezier()&&Ae.dirtyBoundingBoxCache()}}else{var me=se.parent();0!==me.length&&Q(me,se)}o&&(se._private.removed=!0)}var De=p._private.elements;p._private.hasCompoundNodes=!1;for(var ve=0;ve<De.length;ve++)if(De[ve].isParent()){p._private.hasCompoundNodes=!0;break}var Oe=new Gi(this.cy(),d);Oe.size()>0&&(c?Oe.emitAndNotify("remove"):o&&Oe.emit("remove"));for(var Ee=0;Ee<Y.length;Ee++){var He=Y[Ee];(!o||!He.removed())&&He.updateStyle()}return Oe},jr.move=function(c){var o=this._private.cy,l=this,d=!1,f=!1,p=function(Y){return null==Y?Y:""+Y};if(void 0!==c.source||void 0!==c.target){var m=p(c.source),w=p(c.target),T=null!=m&&o.hasElementWithId(m),S=null!=w&&o.hasElementWithId(w);(T||S)&&(o.batch(function(){l.remove(d,f),l.emitAndNotify("moveout");for(var W=0;W<l.length;W++){var Y=l[W],Q=Y._private.data;Y.isEdge()&&(T&&(Q.source=m),S&&(Q.target=w))}l.restore(d,f)}),l.emitAndNotify("move"))}else if(void 0!==c.parent){var k=p(c.parent);if(null===k||o.hasElementWithId(k)){var H=null===k?void 0:k;o.batch(function(){var W=l.remove(d,f);W.emitAndNotify("moveout");for(var Y=0;Y<l.length;Y++){var Q=l[Y],ne=Q._private.data;Q.isNode()&&(ne.parent=H)}W.restore(d,f)}),l.emitAndNotify("move")}}return this},[Yv,iM,_a,_n,Od,It,Zn,Yx,Kx,fy,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},yu,Hl,as,ls,Ui].forEach(function(c){Zt(jr,c)});var Qx={add:function(o){var l,d=this;if(Te(o)){var f=o;if(f._private.cy===d)l=f.restore();else{for(var p=[],m=0;m<f.length;m++)p.push(f[m].json());l=new Gi(d,p)}}else if(Ve(o))l=new Gi(d,o);else if(_e(o)&&(Ve(o.nodes)||Ve(o.edges))){for(var S=o,k=[],F=["nodes","edges"],H=0,W=F.length;H<W;H++){var Y=F[H],Q=S[Y];if(Ve(Q))for(var ne=0,se=Q.length;ne<se;ne++){var le=Zt({group:Y},Q[ne]);k.push(le)}}l=new Gi(d,k)}else l=new Ml(d,o).collection();return l},remove:function(o){return Te(o)||fe(o)&&(o=this.$(o)),o.remove()}};function hf(c,o,l,d){var f=4,p=.001,m=1e-7,w=10,T=11,S=1/(T-1),k=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var F=0;F<4;++F)if("number"!=typeof arguments[F]||isNaN(arguments[F])||!isFinite(arguments[F]))return!1;c=Math.min(c,1),l=Math.min(l,1),c=Math.max(c,0),l=Math.max(l,0);var H=k?new Float32Array(T):new Array(T);function W(Re,Oe){return 1-3*Oe+3*Re}function Y(Re,Oe){return 3*Oe-6*Re}function Q(Re){return 3*Re}function ne(Re,Oe,Ee){return((W(Oe,Ee)*Re+Y(Oe,Ee))*Re+Q(Oe))*Re}function se(Re,Oe,Ee){return 3*W(Oe,Ee)*Re*Re+2*Y(Oe,Ee)*Re+Q(Oe)}var Ae=!1;var De=function(Oe){return Ae||function me(){Ae=!0,(c!==o||l!==d)&&function ce(){for(var Re=0;Re<T;++Re)H[Re]=ne(Re*S,c,l)}()}(),c===o&&l===d?Oe:0===Oe?0:1===Oe?1:ne(function Me(Re){for(var Oe=0,Ee=1,He=T-1;Ee!==He&&H[Ee]<=Re;++Ee)Oe+=S;--Ee;var Qe=Oe+(Re-H[Ee])/(H[Ee+1]-H[Ee])*S,Ge=se(Qe,c,l);return Ge>=p?function le(Re,Oe){for(var Ee=0;Ee<f;++Ee){var He=se(Oe,c,l);if(0===He)return Oe;Oe-=(ne(Oe,c,l)-Re)/He}return Oe}(Re,Qe):0===Ge?Qe:function pe(Re,Oe,Ee){var He,Ie,Qe=0;do{(He=ne(Ie=Oe+(Ee-Oe)/2,c,l)-Re)>0?Ee=Ie:Oe=Ie}while(Math.abs(He)>m&&++Qe<w);return Ie}(Re,Oe,Oe+S)}(Oe),o,d)};De.getControlPoints=function(){return[{x:c,y:o},{x:l,y:d}]};var ve="generateBezier("+[c,o,l,d]+")";return De.toString=function(){return ve},De}var Cc=function(){function c(d){return-d.tension*d.x-d.friction*d.v}function o(d,f,p){var m={x:d.x+p.dx*f,v:d.v+p.dv*f,tension:d.tension,friction:d.friction};return{dx:m.v,dv:c(m)}}function l(d,f){var p={dx:d.v,dv:c(d)},m=o(d,.5*f,p),w=o(d,.5*f,m),T=o(d,f,w),k=1/6*(p.dv+2*(m.dv+w.dv)+T.dv);return d.x=d.x+1/6*(p.dx+2*(m.dx+w.dx)+T.dx)*f,d.v=d.v+k*f,d}return function d(f,p,m){var H,W,Y,w={x:-1,v:0,tension:null,friction:null},T=[0],S=0,k=1e-4;for(f=parseFloat(f)||500,p=parseFloat(p)||20,m=m||null,w.tension=f,w.friction=p,W=(H=null!==m)?(S=d(f,p))/m*.016:.016;Y=l(Y||w,W),T.push(1+Y.x),S+=16,Math.abs(Y.x)>k&&Math.abs(Y.v)>k;);return H?function(Q){return T[Q*(T.length-1)|0]}:S}}(),Wr=function(o,l,d,f){var p=hf(o,l,d,f);return function(m,w,T){return m+(w-m)*p(T)}},Ud={linear:function(o,l,d){return o+(l-o)*d},ease:Wr(.25,.1,.25,1),"ease-in":Wr(.42,0,1,1),"ease-out":Wr(0,0,.58,1),"ease-in-out":Wr(.42,0,.58,1),"ease-in-sine":Wr(.47,0,.745,.715),"ease-out-sine":Wr(.39,.575,.565,1),"ease-in-out-sine":Wr(.445,.05,.55,.95),"ease-in-quad":Wr(.55,.085,.68,.53),"ease-out-quad":Wr(.25,.46,.45,.94),"ease-in-out-quad":Wr(.455,.03,.515,.955),"ease-in-cubic":Wr(.55,.055,.675,.19),"ease-out-cubic":Wr(.215,.61,.355,1),"ease-in-out-cubic":Wr(.645,.045,.355,1),"ease-in-quart":Wr(.895,.03,.685,.22),"ease-out-quart":Wr(.165,.84,.44,1),"ease-in-out-quart":Wr(.77,0,.175,1),"ease-in-quint":Wr(.755,.05,.855,.06),"ease-out-quint":Wr(.23,1,.32,1),"ease-in-out-quint":Wr(.86,0,.07,1),"ease-in-expo":Wr(.95,.05,.795,.035),"ease-out-expo":Wr(.19,1,.22,1),"ease-in-out-expo":Wr(1,0,0,1),"ease-in-circ":Wr(.6,.04,.98,.335),"ease-out-circ":Wr(.075,.82,.165,1),"ease-in-out-circ":Wr(.785,.135,.15,.86),spring:function(o,l,d){if(0===d)return Ud.linear;var f=Cc(o,l,d);return function(p,m,w){return p+(m-p)*f(w)}},"cubic-bezier":Wr};function ym(c,o,l,d,f){if(1===d||o===l)return l;var p=f(o,l,d);return null==c||((c.roundValue||c.color)&&(p=Math.round(p)),void 0!==c.min&&(p=Math.max(p,c.min)),void 0!==c.max&&(p=Math.min(p,c.max))),p}function Sc(c,o){return null!=c.pfValue||null!=c.value?null==c.pfValue||null!=o&&"%"===o.type.units?c.value:c.pfValue:c}function _u(c,o,l,d,f){var p=null!=f?f.type:null;l<0?l=0:l>1&&(l=1);var m=Sc(c,f),w=Sc(o,f);if(ge(m)&&ge(w))return ym(p,m,w,l,d);if(Ve(m)&&Ve(w)){for(var T=[],S=0;S<w.length;S++){var k=m[S],F=w[S];if(null!=k&&null!=F){var H=ym(p,k,F,l,d);T.push(H)}else T.push(F)}return T}}function $i(c,o,l,d){var f=!d,p=c._private,m=o._private,w=m.easing,T=m.startTime,k=(d?c:c.cy()).style();if(!m.easingImpl)if(null==w)m.easingImpl=Ud.linear;else{var F,W,Y;F=fe(w)?k.parse("transition-timing-function",w).value:w,fe(F)?(W=F,Y=[]):(W=F[1],Y=F.slice(2).map(function(ot){return+ot})),Y.length>0?("spring"===W&&Y.push(m.duration),m.easingImpl=Ud[W].apply(null,Y)):m.easingImpl=Ud[W]}var ne,Q=m.easingImpl;if(ne=0===m.duration?1:(l-T)/m.duration,m.applying&&(ne=m.progress),ne<0?ne=0:ne>1&&(ne=1),null==m.delay){var se=m.startPosition,le=m.position;if(le&&f&&!c.locked()){var ce={};Dc(se.x,le.x)&&(ce.x=_u(se.x,le.x,ne,Q)),Dc(se.y,le.y)&&(ce.y=_u(se.y,le.y,ne,Q)),c.position(ce)}var pe=m.startPan,Me=m.pan,Ae=p.pan,me=null!=Me&&d;me&&(Dc(pe.x,Me.x)&&(Ae.x=_u(pe.x,Me.x,ne,Q)),Dc(pe.y,Me.y)&&(Ae.y=_u(pe.y,Me.y,ne,Q)),c.emit("pan"));var De=m.startZoom,ve=m.zoom,Re=null!=ve&&d;Re&&(Dc(De,ve)&&(p.zoom=En(p.minZoom,_u(De,ve,ne,Q),p.maxZoom)),c.emit("zoom")),(me||Re)&&c.emit("viewport");var Oe=m.style;if(Oe&&Oe.length>0&&f){for(var Ee=0;Ee<Oe.length;Ee++){var He=Oe[Ee],Ie=He.name,Ge=m.startStyle[Ie],nt=_u(Ge,He,ne,Q,k.properties[Ge.name]);k.overrideBypass(c,Ie,nt)}c.emit("style")}}return m.progress=ne,ne}function Dc(c,o){return!!(null!=c&&null!=o&&(ge(c)&&ge(o)||c&&o))}function Jx(c,o,l,d){var f=o._private;f.started=!0,f.startTime=l-f.progress*f.duration}function bm(c,o){var l=o._private.aniEles,d=[];function f(k,F){var H=k._private,W=H.animation.current,Y=H.animation.queue,Q=!1;if(0===W.length){var ne=Y.shift();ne&&W.push(ne)}for(var se=function(Ae){for(var me=Ae.length-1;me>=0;me--)(0,Ae[me])();Ae.splice(0,Ae.length)},le=W.length-1;le>=0;le--){var ce=W[le],pe=ce._private;pe.stopped?(W.splice(le,1),pe.hooked=!1,pe.playing=!1,pe.started=!1,se(pe.frames)):!pe.playing&&!pe.applying||(pe.playing&&pe.applying&&(pe.applying=!1),pe.started||Jx(0,ce,c),$i(k,ce,c,F),pe.applying&&(pe.applying=!1),se(pe.frames),null!=pe.step&&pe.step(c),ce.completed()&&(W.splice(le,1),pe.hooked=!1,pe.playing=!1,pe.started=!1,se(pe.completes)),Q=!0)}return!F&&0===W.length&&0===Y.length&&d.push(k),Q}for(var p=!1,m=0;m<l.length;m++){var T=f(l[m]);p=p||T}var S=f(o,!0);(p||S)&&(l.length>0?o.notify("draw",l):o.notify("draw")),l.unmerge(d),o.emit("step")}var xu={animate:Lr.animate(),animation:Lr.animation(),animated:Lr.animated(),clearQueue:Lr.clearQueue(),delay:Lr.delay(),delayAnimation:Lr.delayAnimation(),stop:Lr.stop(),addToAnimationPool:function(o){this.styleEnabled()&&this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var d=o.renderer();d&&d.beforeRender?d.beforeRender(function(p,m){bm(m,o)},d.beforeRenderPriorities.animations):function l(){o._private.animationsRunning&&xl(function(p){bm(p,o),l()})}()}}},wu={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,d){var f=l.qualifier;return null==f||o!==d.target&&et(d.target)&&f.matches(d.target)},addEventFields:function(o,l){l.cy=o,l.target=o},callbackContext:function(o,l,d){return null!=l.qualifier?d.target:o}},rl=function(o){return fe(o)?new Ja(o):o},Mc={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new Hd(wu,this)),this},emitter:function(){return this._private.emitter},on:function(o,l,d){return this.emitter().on(o,rl(l),d),this},removeListener:function(o,l,d){return this.emitter().removeListener(o,rl(l),d),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,l,d){return this.emitter().one(o,rl(l),d),this},once:function(o,l,d){return this.emitter().one(o,rl(l),d),this},emit:function(o,l){return this.emitter().emit(o,l),this},emitAndNotify:function(o,l){return this.emit(o),this.notify(o,l),this}};Lr.eventAliasesOn(Mc);var ff={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var l=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",l.jpg(o)}};ff.jpeg=ff.jpg;var Eu={layout:function(o){var l=this;if(null!=o)if(null!=o.name){var p,d=o.name,f=l.extension("layout",d);if(null!=f)return p=fe(o.eles)?l.$(o.eles):null!=o.eles?o.eles:l.$(),new f(Zt({},o,{cy:l,eles:p}));Br("No such layout `"+d+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Br("A `name` must be specified to make a layout");else Br("Layout options must be specified to make a layout")}};Eu.createLayout=Eu.makeLayout=Eu.layout;var Cu={notify:function(o,l){var d=this._private;if(this.batching()){d.batchNotifications=d.batchNotifications||{};var f=d.batchNotifications[o]=d.batchNotifications[o]||this.collection();null!=l&&f.merge(l)}else if(d.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(o,l)}},notifications:function(o){var l=this._private;return void 0===o?l.notificationsEnabled:(l.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var l=this.renderer();Object.keys(o.batchNotifications).forEach(function(d){var f=o.batchNotifications[d];f.empty()?l.notify(d):l.notify(d,f)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var l=this;return this.batch(function(){for(var d=Object.keys(o),f=0;f<d.length;f++){var p=d[f],m=o[p];l.getElementById(p).data(m)}})}},lM=Ti({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),_m={renderTo:function(o,l,d,f){return this._private.renderer.renderTo(o,l,d,f),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var l=this,d=l.extension("renderer",o.name);if(null!=d){void 0!==o.wheelSensitivity&&wr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var f=lM(o);f.cy=l,l._private.renderer=new d(f),this.notify("init")}else Br("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var l=o.container();if(l)for(l._cyreg=null;l.childNodes.length>0;)l.removeChild(l.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(d){var f=d._private;f.rscratch={},f.rstyle={},f.animation.current=[],f.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};_m.invalidateDimensions=_m.resize;var Lt={collection:function(o,l){return fe(o)?this.$(o):Te(o)?o.collection():Ve(o)?(l||(l={}),new Gi(this,o,l.unique,l.removed)):new Gi(this)},nodes:function(o){var l=this.$(function(d){return d.isNode()});return o?l.filter(o):l},edges:function(o){var l=this.$(function(d){return d.isEdge()});return o?l.filter(o):l},$:function(o){var l=this._private.elements;return o?l.filter(o):l.spawnSelf()},mutableElements:function(){return this._private.elements}};Lt.elements=Lt.filter=Lt.$;var Rs={apply:function(c){for(var o=this,f=o._private.cy.collection(),p=0;p<c.length;p++){var m=c[p],w=o.getContextMeta(m);if(!w.empty){var T=o.getContextStyle(w),S=o.applyContextStyle(w,T,m);m._private.appliedInitStyle?o.updateTransitions(m,S.diffProps):m._private.appliedInitStyle=!0,o.updateStyleHints(m)&&f.push(m)}}return f},getPropertiesDiff:function(c,o){var l=this,d=l._private.propDiffs=l._private.propDiffs||{},f=c+"-"+o,p=d[f];if(p)return p;for(var m=[],w={},T=0;T<l.length;T++){var S=l[T],F="t"===o[T],H="t"===c[T]!==F,W=S.mappedProperties.length>0;if(H||F&&W){var Y=void 0;H&&W||H?Y=S.properties:W&&(Y=S.mappedProperties);for(var Q=0;Q<Y.length;Q++){for(var ne=Y[Q],se=ne.name,le=!1,ce=T+1;ce<l.length&&("t"!==o[ce]||!(le=null!=l[ce].properties[ne.name]));ce++);!w[se]&&!le&&(w[se]=!0,m.push(se))}}}return d[f]=m,m},getContextMeta:function(c){for(var d,o=this,l="",f=c._private.styleCxtKey||"",p=0;p<o.length;p++){var m=o[p];l+=m.selector&&m.selector.matches(c)?"t":"f"}return d=o.getPropertiesDiff(f,l),c._private.styleCxtKey=l,{key:l,diffPropNames:d,empty:0===d.length}},getContextStyle:function(c){var o=c.key,d=this._private.contextStyles=this._private.contextStyles||{};if(d[o])return d[o];for(var f={_private:{key:o}},p=0;p<this.length;p++){var m=this[p];if("t"===o[p])for(var T=0;T<m.properties.length;T++){var S=m.properties[T];f[S.name]=S}}return d[o]=f,f},applyContextStyle:function(c,o,l){for(var f=c.diffPropNames,p={},m=this.types,w=0;w<f.length;w++){var T=f[w],S=o[T],k=l.pstyle(T);if(!S){if(!k)continue;S=k.bypass?{name:T,deleteBypassed:!0}:{name:T,delete:!0}}if(k!==S){if(S.mapped===m.fn&&null!=k&&null!=k.mapping&&k.mapping.value===S.value){var F=k.mapping;if((F.fnValue=S.value(l))===F.prevFnValue)continue}var W=p[T]={prev:k};this.applyParsedProperty(l,S),W.next=l.pstyle(T),W.next&&W.next.bypass&&(W.next=W.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(c){var d,o=c._private,l=this,f=l.propertyGroupKeys,p=function(Pt,Vt,Cn){return l.getPropertiesHash(Pt,Vt,Cn)},m=o.styleKey;if(c.removed())return!1;var Pt,w="nodes"===o.group,T=c._private.style;d=Object.keys(T);for(var S=0;S<f.length;S++)o.styleKeys[f[S]]=[va,ya];for(var F=function(Pt,Vt){return o.styleKeys[Vt][0]=wl(Pt,o.styleKeys[Vt][0])},H=function(Pt,Vt){return o.styleKeys[Vt][1]=El(Pt,o.styleKeys[Vt][1])},W=function(Pt,Vt){F(Pt,Vt),H(Pt,Vt)},Y=function(Pt,Vt){for(var Cn=0;Cn<Pt.length;Cn++){var Nn=Pt.charCodeAt(Cn);F(Nn,Vt),H(Nn,Vt)}},se=0;se<d.length;se++){var le=d[se],ce=T[le];if(null!=ce){var pe=this.properties[le],Me=pe.type,Ae=pe.groupKey,me=void 0;null!=pe.hashOverride?me=pe.hashOverride(c,ce):null!=ce.pfValue&&(me=ce.pfValue);var De=null==pe.enums?ce.value:null,ve=null!=me,Ee=ce.units;!Me.number||!ve&&null==De||Me.multiple?Y(ce.strValue,Ae):(W(-128<(Pt=ve?me:De)&&Pt<128&&Math.floor(Pt)!==Pt?2e9-(1024*Pt|0):Pt,Ae),!ve&&null!=Ee&&Y(Ee,Ae))}}for(var Ie=[va,ya],Qe=0;Qe<f.length;Qe++){var We=o.styleKeys[f[Qe]];Ie[0]=wl(We[0],Ie[0]),Ie[1]=El(We[1],Ie[1])}o.styleKey=function(o,l){return 2097152*o+l}(Ie[0],Ie[1]);var nt=o.styleKeys;o.labelDimsKey=Do(nt.labelDimensions);var ot=p(c,["label"],nt.labelDimensions);if(o.labelKey=Do(ot),o.labelStyleKey=Do(Mo(nt.commonLabel,ot)),!w){var dt=p(c,["source-label"],nt.labelDimensions);o.sourceLabelKey=Do(dt),o.sourceLabelStyleKey=Do(Mo(nt.commonLabel,dt));var it=p(c,["target-label"],nt.labelDimensions);o.targetLabelKey=Do(it),o.targetLabelStyleKey=Do(Mo(nt.commonLabel,it))}if(w){var rt=o.styleKeys,tt=rt.pie,Ct=[rt.nodeBody,rt.nodeBorder,rt.backgroundImage,rt.compound,tt].filter(function(Tt){return null!=Tt}).reduce(Mo,[va,ya]);o.nodeKey=Do(Ct),o.hasPie=null!=tt&&tt[0]!==va&&tt[1]!==ya}return m!==o.styleKey},clearStyleHints:function(c){var o=c._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(c,o){var p,l=this,d=o,f=c._private.style,m=l.types,w=l.properties[d.name].type,T=d.bypass,S=f[d.name],k=S&&S.bypass,F=c._private,H="mapping",W=function(Et){return null==Et?null:null!=Et.pfValue?Et.pfValue:Et.value},Y=function(){var Et=W(S),Dt=W(d);l.checkTriggers(c,d.name,Et,Dt)};if(d&&"pie"===d.name.substr(0,3)&&wr("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===o.name&&c.isEdge()&&("bezier"!==o.value&&c.isLoop()||"haystack"===o.value&&(c.source().isParent()||c.target().isParent()))&&(d=o=this.parse(o.name,"bezier",T)),d.delete)return f[d.name]=void 0,Y(),!0;if(d.deleteBypassed)return S?!!S.bypass&&(S.bypassed=void 0,Y(),!0):(Y(),!0);if(d.deleteBypass)return S?!!S.bypass&&(f[d.name]=S.bypassed,Y(),!0):(Y(),!0);var Q=function(){wr("Do not assign mappings to elements without corresponding data (i.e. ele `"+c.id()+"` has no mapping for property `"+d.name+"` with data field `"+d.field+"`); try a `["+d.field+"]` selector to limit scope to elements with `"+d.field+"` defined")};switch(d.mapped){case m.mapData:for(var ne=d.field.split("."),se=F.data,le=0;le<ne.length&&se;le++)se=se[ne[le]];if(null==se)return Q(),!1;var pe;if(!ge(se))return wr("Do not use continuous mappers without specifying numeric data (i.e. `"+d.field+": "+se+"` for `"+c.id()+"` is non-numeric)"),!1;var Me=d.fieldMax-d.fieldMin;if((pe=0===Me?0:(se-d.fieldMin)/Me)<0?pe=0:pe>1&&(pe=1),w.color){var Ae=d.valueMin[0],De=d.valueMin[1],ve=d.valueMax[1],Re=d.valueMin[2],Oe=d.valueMax[2],Ee=null==d.valueMin[3]?1:d.valueMin[3],He=null==d.valueMax[3]?1:d.valueMax[3],Ie=[Math.round(Ae+(d.valueMax[0]-Ae)*pe),Math.round(De+(ve-De)*pe),Math.round(Re+(Oe-Re)*pe),Math.round(Ee+(He-Ee)*pe)];p={bypass:d.bypass,name:d.name,value:Ie,strValue:"rgb("+Ie[0]+", "+Ie[1]+", "+Ie[2]+")"}}else{if(!w.number)return!1;p=this.parse(d.name,d.valueMin+(d.valueMax-d.valueMin)*pe,d.bypass,H)}if(!p)return Q(),!1;p.mapping=d,d=p;break;case m.data:for(var Ge=d.field.split("."),We=F.data,nt=0;nt<Ge.length&&We;nt++)We=We[Ge[nt]];if(null!=We&&(p=this.parse(d.name,We,d.bypass,H)),!p)return Q(),!1;p.mapping=d,d=p;break;case m.fn:var it=null!=d.fnValue?d.fnValue:(0,d.value)(c);if(d.prevFnValue=it,null==it)return wr("Custom function mappers may not return null (i.e. `"+d.name+"` for ele `"+c.id()+"` is null)"),!1;if(!(p=this.parse(d.name,it,d.bypass,H)))return wr("Custom function mappers may not return invalid values for the property type (i.e. `"+d.name+"` for ele `"+c.id()+"` is invalid)"),!1;p.mapping=$s(d),d=p;break;case void 0:break;default:return!1}return T?(d.bypassed=k?S.bypassed:S,f[d.name]=d):k?S.bypassed=d:f[d.name]=d,Y(),!0},cleanElements:function(c,o){for(var l=0;l<c.length;l++){var d=c[l];if(this.clearStyleHints(d),d.dirtyCompoundBoundsCache(),d.dirtyBoundingBoxCache(),o)for(var f=d._private.style,p=Object.keys(f),m=0;m<p.length;m++){var w=p[m],T=f[w];null!=T&&(T.bypass?T.bypassed=null:f[w]=null)}else d._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(c,o){var l=this,d=c._private,f=c.pstyle("transition-property").value,p=c.pstyle("transition-duration").pfValue,m=c.pstyle("transition-delay").pfValue;if(f.length>0&&p>0){for(var w={},T=!1,S=0;S<f.length;S++){var k=f[S],F=c.pstyle(k),H=o[k];if(H){var Y=H.prev,Q=null!=H.next?H.next:F,ne=!1,se=void 0;Y&&(ge(Y.pfValue)&&ge(Q.pfValue)?se=Y.pfValue+1e-6*(ne=Q.pfValue-Y.pfValue):ge(Y.value)&&ge(Q.value)?se=Y.value+1e-6*(ne=Q.value-Y.value):Ve(Y.value)&&Ve(Q.value)&&(ne=Y.value[0]!==Q.value[0]||Y.value[1]!==Q.value[1]||Y.value[2]!==Q.value[2],se=Y.strValue),ne&&(w[k]=Q.strValue,this.applyBypass(c,k,se),T=!0))}}if(!T)return;d.transitioning=!0,new Id(function(ce){m>0?c.delayAnimation(m).play().promise().then(ce):ce()}).then(function(){return c.animation({style:w,duration:p,easing:c.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){l.removeBypasses(c,f),c.emitAndNotify("style"),d.transitioning=!1})}else d.transitioning&&(this.removeBypasses(c,f),c.emitAndNotify("style"),d.transitioning=!1)},checkTrigger:function(c,o,l,d,f,p){var m=this.properties[o],w=f(m);null!=w&&w(l,d)&&p(m)},checkZOrderTrigger:function(c,o,l,d){var f=this;this.checkTrigger(c,o,l,d,function(p){return p.triggersZOrder},function(){f._private.cy.notify("zorder",c)})},checkBoundsTrigger:function(c,o,l,d){this.checkTrigger(c,o,l,d,function(f){return f.triggersBounds},function(f){c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),f.triggersBoundsOfParallelBeziers&&("curve-style"===o&&("bezier"===l||"bezier"===d)||"display"===o&&("none"===l||"none"===d))&&c.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(c,o,l,d){c.dirtyStyleCache(),this.checkZOrderTrigger(c,o,l,d),this.checkBoundsTrigger(c,o,l,d)}},mf={applyBypass:function(c,o,l,d){var p=[];if("*"===o||"**"===o){if(void 0!==l)for(var w=0;w<this.properties.length;w++){var k=this.parse(this.properties[w].name,l,!0);k&&p.push(k)}}else if(fe(o)){var F=this.parse(o,l,!0);F&&p.push(F)}else{if(!_e(o))return!1;var H=o;d=l;for(var W=Object.keys(H),Y=0;Y<W.length;Y++){var Q=W[Y],ne=H[Q];if(void 0===ne&&(ne=H[zt(Q)]),void 0!==ne){var se=this.parse(Q,ne,!0);se&&p.push(se)}}}if(0===p.length)return!1;for(var le=!1,ce=0;ce<c.length;ce++){for(var pe=c[ce],Me={},Ae=void 0,me=0;me<p.length;me++){var De=p[me];if(d){var ve=pe.pstyle(De.name);Ae=Me[De.name]={prev:ve}}le=this.applyParsedProperty(pe,$s(De))||le,d&&(Ae.next=pe.pstyle(De.name))}le&&this.updateStyleHints(pe),d&&this.updateTransitions(pe,Me,!0)}return le},overrideBypass:function(c,o,l){o=bt(o);for(var d=0;d<c.length;d++){var f=c[d],p=f._private.style[o],m=this.properties[o].type,w=m.color,T=m.mutiple,S=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=l,null!=p.pfValue&&(p.pfValue=l),p.strValue=w?"rgb("+l.join(",")+")":T?l.join(" "):""+l,this.updateStyleHints(f)):this.applyBypass(f,o,l),this.checkTriggers(f,o,S,l)}},removeAllBypasses:function(c,o){return this.removeBypasses(c,this.propertyNames,o)},removeBypasses:function(c,o,l){for(var f=0;f<c.length;f++){for(var p=c[f],m={},w=0;w<o.length;w++){var T=o[w],S=this.properties[T],k=p.pstyle(S.name);if(k&&k.bypass){var H=this.parse(T,"",!0),W=m[S.name]={prev:k};this.applyParsedProperty(p,H),W.next=p.pstyle(S.name)}}this.updateStyleHints(p),l&&this.updateTransitions(p,m,!0)}}},_y={getEmSizeInPixels:function(){var c=this.containerCss("font-size");return null!=c?parseFloat(c):1},containerCss:function(c){var l=this._private.cy.container();if(z&&l&&z.getComputedStyle)return z.getComputedStyle(l).getPropertyValue(c)}},il={getRenderedStyle:function(c,o){return o?this.getStylePropertyValue(c,o,!0):this.getRawStyle(c,!0)},getRawStyle:function(c,o){var l=this;if(c=c[0]){for(var d={},f=0;f<l.properties.length;f++){var p=l.properties[f],m=l.getStylePropertyValue(c,p.name,o);null!=m&&(d[p.name]=m,d[zt(p.name)]=m)}return d}},getIndexedStyle:function(c,o,l,d){return c.pstyle(o)[l][d]??c.cy().style().getDefaultProperty(o)[l][0]},getStylePropertyValue:function(c,o,l){if(c=c[0]){var f=this.properties[o];f.alias&&(f=f.pointsTo);var p=f.type,m=c.pstyle(f.name);if(m){var w=m.value,T=m.units,S=m.strValue;if(l&&p.number&&null!=w&&ge(w)){var k=c.cy().zoom(),F=function(ne){return ne*k},H=function(ne,se){return F(ne)+se},W=Ve(w);return(W?T.every(function(Q){return null!=Q}):null!=T)?W?w.map(function(Q,ne){return H(Q,T[ne])}).join(" "):H(w,T):W?w.map(function(Q){return fe(Q)?Q:""+F(Q)}).join(" "):""+F(w)}if(null!=S)return S}return null}},getAnimationStartStyle:function(c,o){for(var l={},d=0;d<o.length;d++){var p=o[d].name,m=c.pstyle(p);void 0!==m&&(m=_e(m)?this.parse(p,m.strValue):this.parse(p,m)),m&&(l[p]=m)}return l},getPropsList:function(c){var l=[],d=c,f=this.properties;if(d)for(var p=Object.keys(d),m=0;m<p.length;m++){var w=p[m],T=d[w],S=f[w]||f[bt(w)],k=this.parse(S.name,T);k&&l.push(k)}return l},getNonDefaultPropertiesHash:function(c,o,l){var p,m,w,T,S,d=l.slice();for(T=0;T<o.length;T++)if(null!=(p=c.pstyle(o[T],!1)))if(null!=p.pfValue)d[0]=wl(w,d[0]),d[1]=El(w,d[1]);else for(m=p.strValue,S=0;S<m.length;S++)w=m.charCodeAt(S),d[0]=wl(w,d[0]),d[1]=El(w,d[1]);return d}};il.getPropertiesHash=il.getNonDefaultPropertiesHash;var xm={appendFromJson:function(c){for(var o=this,l=0;l<c.length;l++){var d=c[l],f=d.selector,p=d.style||d.css,m=Object.keys(p);o.selector(f);for(var w=0;w<m.length;w++){var T=m[w];o.css(T,p[T])}}return o},fromJson:function(c){var o=this;return o.resetToDefault(),o.appendFromJson(c),o},json:function(){for(var c=[],o=this.defaultLength;o<this.length;o++){for(var l=this[o],d=l.selector,f=l.properties,p={},m=0;m<f.length;m++){var w=f[m];p[w.name]=w.strValue}c.push({selector:d?d.toString():"core",style:p})}return c}},Tc={appendFromString:function(c){var f,p,m,l=this,d=""+c;function w(){d=d.length>f.length?d.substr(f.length):""}function T(){p=p.length>m.length?p.substr(m.length):""}for(d=d.replace(/[/][*](\s|.)+?[*][/]/g,"");!d.match(/^\s*$/);){var k=d.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!k){wr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+d);break}f=k[0];var F=k[1];if("core"!==F&&new Ja(F).invalid)wr("Skipping parsing of block: Invalid selector found in string stylesheet: "+F),w();else{var W=k[2],Y=!1;p=W;for(var Q=[];!p.match(/^\s*$/);){var se=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!se){wr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+W),Y=!0;break}m=se[0];var le=se[1],ce=se[2];this.properties[le]?l.parse(le,ce)?(Q.push({name:le,val:ce}),T()):(wr("Skipping property: Invalid property definition in: "+m),T()):(wr("Skipping property: Invalid property name in: "+m),T())}if(Y){w();break}l.selector(F);for(var Ae=0;Ae<Q.length;Ae++){var me=Q[Ae];l.css(me.name,me.val)}w()}}return l},fromString:function(c){var o=this;return o.resetToDefault(),o.appendFromString(c),o}},bs={};(function(){var c=Nt,o=Jn,l=Ur,p=function(Ct){return"^"+Ct+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},m=function(Ct){var Tt=c+"|\\w+|"+o+"|"+l+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Ct+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+c+")\\s*\\,\\s*("+c+")\\s*,\\s*("+Tt+")\\s*\\,\\s*("+Tt+")\\)$"},w=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];bs.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:m("mapData")},mapLayoutData:{mapping:!0,regex:m("mapLayoutData")},mapScratch:{mapping:!0,regex:m("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:w,singleRegexMatchValue:!0},urls:{regexes:w,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Ct,Tt){switch(Ct.length){case 2:return"deg"!==Tt[0]&&"rad"!==Tt[0]&&"deg"!==Tt[1]&&"rad"!==Tt[1];case 1:return fe(Ct[0])||"deg"===Tt[0]||"rad"===Tt[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+c+")\\s*,\\s*("+c+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+c+")\\s*,\\s*("+c+")\\s*,\\s*("+c+")\\s*,\\s*("+c+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Ct){var Tt=Ct.length;return 1===Tt||2===Tt||4===Tt}}};var T={zeroNonZero:function(Ct,Tt){return(null==Ct||null==Tt)&&Ct!==Tt||0==Ct&&0!=Tt||0!=Ct&&0==Tt},any:function(Ct,Tt){return Ct!=Tt},emptyNonEmpty:function(Ct,Tt){var Pt=Ne(Ct),Vt=Ne(Tt);return Pt&&!Vt||!Pt&&Vt}},S=bs.types,k=[{name:"label",type:S.text,triggersBounds:T.any,triggersZOrder:T.emptyNonEmpty},{name:"text-rotation",type:S.textRotation,triggersBounds:T.any},{name:"text-margin-x",type:S.bidirectionalSize,triggersBounds:T.any},{name:"text-margin-y",type:S.bidirectionalSize,triggersBounds:T.any}],F=[{name:"source-label",type:S.text,triggersBounds:T.any},{name:"source-text-rotation",type:S.textRotation,triggersBounds:T.any},{name:"source-text-margin-x",type:S.bidirectionalSize,triggersBounds:T.any},{name:"source-text-margin-y",type:S.bidirectionalSize,triggersBounds:T.any},{name:"source-text-offset",type:S.size,triggersBounds:T.any}],H=[{name:"target-label",type:S.text,triggersBounds:T.any},{name:"target-text-rotation",type:S.textRotation,triggersBounds:T.any},{name:"target-text-margin-x",type:S.bidirectionalSize,triggersBounds:T.any},{name:"target-text-margin-y",type:S.bidirectionalSize,triggersBounds:T.any},{name:"target-text-offset",type:S.size,triggersBounds:T.any}],W=[{name:"font-family",type:S.fontFamily,triggersBounds:T.any},{name:"font-style",type:S.fontStyle,triggersBounds:T.any},{name:"font-weight",type:S.fontWeight,triggersBounds:T.any},{name:"font-size",type:S.size,triggersBounds:T.any},{name:"text-transform",type:S.textTransform,triggersBounds:T.any},{name:"text-wrap",type:S.textWrap,triggersBounds:T.any},{name:"text-overflow-wrap",type:S.textOverflowWrap,triggersBounds:T.any},{name:"text-max-width",type:S.size,triggersBounds:T.any},{name:"text-outline-width",type:S.size,triggersBounds:T.any},{name:"line-height",type:S.positiveNumber,triggersBounds:T.any}],Y=[{name:"text-valign",type:S.valign,triggersBounds:T.any},{name:"text-halign",type:S.halign,triggersBounds:T.any},{name:"color",type:S.color},{name:"text-outline-color",type:S.color},{name:"text-outline-opacity",type:S.zeroOneNumber},{name:"text-background-color",type:S.color},{name:"text-background-opacity",type:S.zeroOneNumber},{name:"text-background-padding",type:S.size,triggersBounds:T.any},{name:"text-border-opacity",type:S.zeroOneNumber},{name:"text-border-color",type:S.color},{name:"text-border-width",type:S.size,triggersBounds:T.any},{name:"text-border-style",type:S.borderStyle,triggersBounds:T.any},{name:"text-background-shape",type:S.textBackgroundShape,triggersBounds:T.any},{name:"text-justification",type:S.justification}],Q=[{name:"events",type:S.bool},{name:"text-events",type:S.bool}],ne=[{name:"display",type:S.display,triggersZOrder:T.any,triggersBounds:T.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:S.visibility,triggersZOrder:T.any},{name:"opacity",type:S.zeroOneNumber,triggersZOrder:T.zeroNonZero},{name:"text-opacity",type:S.zeroOneNumber},{name:"min-zoomed-font-size",type:S.size},{name:"z-compound-depth",type:S.zCompoundDepth,triggersZOrder:T.any},{name:"z-index-compare",type:S.zIndexCompare,triggersZOrder:T.any},{name:"z-index",type:S.nonNegativeInt,triggersZOrder:T.any}],se=[{name:"overlay-padding",type:S.size,triggersBounds:T.any},{name:"overlay-color",type:S.color},{name:"overlay-opacity",type:S.zeroOneNumber,triggersBounds:T.zeroNonZero},{name:"overlay-shape",type:S.overlayShape,triggersBounds:T.any}],le=[{name:"underlay-padding",type:S.size,triggersBounds:T.any},{name:"underlay-color",type:S.color},{name:"underlay-opacity",type:S.zeroOneNumber,triggersBounds:T.zeroNonZero},{name:"underlay-shape",type:S.overlayShape,triggersBounds:T.any}],ce=[{name:"transition-property",type:S.propList},{name:"transition-duration",type:S.time},{name:"transition-delay",type:S.time},{name:"transition-timing-function",type:S.easing}],pe=function(Ct,Tt){return"label"===Tt.value?-Ct.poolIndex():Tt.pfValue},Me=[{name:"height",type:S.nodeSize,triggersBounds:T.any,hashOverride:pe},{name:"width",type:S.nodeSize,triggersBounds:T.any,hashOverride:pe},{name:"shape",type:S.nodeShape,triggersBounds:T.any},{name:"shape-polygon-points",type:S.polygonPointList,triggersBounds:T.any},{name:"background-color",type:S.color},{name:"background-fill",type:S.fill},{name:"background-opacity",type:S.zeroOneNumber},{name:"background-blacken",type:S.nOneOneNumber},{name:"background-gradient-stop-colors",type:S.colors},{name:"background-gradient-stop-positions",type:S.percentages},{name:"background-gradient-direction",type:S.gradientDirection},{name:"padding",type:S.sizeMaybePercent,triggersBounds:T.any},{name:"padding-relative-to",type:S.paddingRelativeTo,triggersBounds:T.any},{name:"bounds-expansion",type:S.boundsExpansion,triggersBounds:T.any}],Ae=[{name:"border-color",type:S.color},{name:"border-opacity",type:S.zeroOneNumber},{name:"border-width",type:S.size,triggersBounds:T.any},{name:"border-style",type:S.borderStyle}],me=[{name:"background-image",type:S.urls},{name:"background-image-crossorigin",type:S.bgCrossOrigin},{name:"background-image-opacity",type:S.zeroOneNumbers},{name:"background-image-containment",type:S.bgContainment},{name:"background-image-smoothing",type:S.bools},{name:"background-position-x",type:S.bgPos},{name:"background-position-y",type:S.bgPos},{name:"background-width-relative-to",type:S.bgRelativeTo},{name:"background-height-relative-to",type:S.bgRelativeTo},{name:"background-repeat",type:S.bgRepeat},{name:"background-fit",type:S.bgFit},{name:"background-clip",type:S.bgClip},{name:"background-width",type:S.bgWH},{name:"background-height",type:S.bgWH},{name:"background-offset-x",type:S.bgPos},{name:"background-offset-y",type:S.bgPos}],De=[{name:"position",type:S.position,triggersBounds:T.any},{name:"compound-sizing-wrt-labels",type:S.compoundIncludeLabels,triggersBounds:T.any},{name:"min-width",type:S.size,triggersBounds:T.any},{name:"min-width-bias-left",type:S.sizeMaybePercent,triggersBounds:T.any},{name:"min-width-bias-right",type:S.sizeMaybePercent,triggersBounds:T.any},{name:"min-height",type:S.size,triggersBounds:T.any},{name:"min-height-bias-top",type:S.sizeMaybePercent,triggersBounds:T.any},{name:"min-height-bias-bottom",type:S.sizeMaybePercent,triggersBounds:T.any}],ve=[{name:"line-style",type:S.lineStyle},{name:"line-color",type:S.color},{name:"line-fill",type:S.fill},{name:"line-cap",type:S.lineCap},{name:"line-opacity",type:S.zeroOneNumber},{name:"line-dash-pattern",type:S.numbers},{name:"line-dash-offset",type:S.number},{name:"line-gradient-stop-colors",type:S.colors},{name:"line-gradient-stop-positions",type:S.percentages},{name:"curve-style",type:S.curveStyle,triggersBounds:T.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:S.zeroOneNumber,triggersBounds:T.any},{name:"source-endpoint",type:S.edgeEndpoint,triggersBounds:T.any},{name:"target-endpoint",type:S.edgeEndpoint,triggersBounds:T.any},{name:"control-point-step-size",type:S.size,triggersBounds:T.any},{name:"control-point-distances",type:S.bidirectionalSizes,triggersBounds:T.any},{name:"control-point-weights",type:S.numbers,triggersBounds:T.any},{name:"segment-distances",type:S.bidirectionalSizes,triggersBounds:T.any},{name:"segment-weights",type:S.numbers,triggersBounds:T.any},{name:"taxi-turn",type:S.bidirectionalSizeMaybePercent,triggersBounds:T.any},{name:"taxi-turn-min-distance",type:S.size,triggersBounds:T.any},{name:"taxi-direction",type:S.axisDirection,triggersBounds:T.any},{name:"edge-distances",type:S.edgeDistances,triggersBounds:T.any},{name:"arrow-scale",type:S.positiveNumber,triggersBounds:T.any},{name:"loop-direction",type:S.angle,triggersBounds:T.any},{name:"loop-sweep",type:S.angle,triggersBounds:T.any},{name:"source-distance-from-node",type:S.size,triggersBounds:T.any},{name:"target-distance-from-node",type:S.size,triggersBounds:T.any}],Re=[{name:"ghost",type:S.bool,triggersBounds:T.any},{name:"ghost-offset-x",type:S.bidirectionalSize,triggersBounds:T.any},{name:"ghost-offset-y",type:S.bidirectionalSize,triggersBounds:T.any},{name:"ghost-opacity",type:S.zeroOneNumber}],Oe=[{name:"selection-box-color",type:S.color},{name:"selection-box-opacity",type:S.zeroOneNumber},{name:"selection-box-border-color",type:S.color},{name:"selection-box-border-width",type:S.size},{name:"active-bg-color",type:S.color},{name:"active-bg-opacity",type:S.zeroOneNumber},{name:"active-bg-size",type:S.size},{name:"outside-texture-bg-color",type:S.color},{name:"outside-texture-bg-opacity",type:S.zeroOneNumber}],Ee=[];bs.pieBackgroundN=16,Ee.push({name:"pie-size",type:S.sizeMaybePercent});for(var He=1;He<=bs.pieBackgroundN;He++)Ee.push({name:"pie-"+He+"-background-color",type:S.color}),Ee.push({name:"pie-"+He+"-background-size",type:S.percent}),Ee.push({name:"pie-"+He+"-background-opacity",type:S.zeroOneNumber});var Ie=[],Qe=bs.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:S.arrowShape,triggersBounds:T.any},{name:"arrow-color",type:S.color},{name:"arrow-fill",type:S.arrowFill}].forEach(function(tt){Qe.forEach(function(Ct){Ie.push({name:Ct+"-"+tt.name,type:tt.type,triggersBounds:tt.triggersBounds})})},{});var Ge=bs.properties=[].concat(Q,ce,ne,se,le,Re,Y,W,k,F,H,Me,Ae,me,Ee,De,ve,Ie,Oe),We=bs.propertyGroups={behavior:Q,transition:ce,visibility:ne,overlay:se,underlay:le,ghost:Re,commonLabel:Y,labelDimensions:W,mainLabel:k,sourceLabel:F,targetLabel:H,nodeBody:Me,nodeBorder:Ae,backgroundImage:me,pie:Ee,compound:De,edgeLine:ve,edgeArrow:Ie,core:Oe},nt=bs.propertyGroupNames={};(bs.propertyGroupKeys=Object.keys(We)).forEach(function(tt){nt[tt]=We[tt].map(function(Ct){return Ct.name}),We[tt].forEach(function(Ct){return Ct.groupKey=tt})});var dt=bs.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];bs.propertyNames=Ge.map(function(tt){return tt.name});for(var it=0;it<Ge.length;it++){var rt=Ge[it];Ge[rt.name]=rt}for(var Et=0;Et<dt.length;Et++){var Dt=dt[Et],gt={name:Dt.name,alias:!0,pointsTo:Ge[Dt.pointsTo]};Ge.push(gt),Ge[Dt.name]=gt}})(),bs.getDefaultProperty=function(c){return this.getDefaultProperties()[c]},bs.getDefaultProperties=function(){var c=this._private;if(null!=c.defaultProperties)return c.defaultProperties;for(var o=Zt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(T,S){for(var k=1;k<=bs.pieBackgroundN;k++)T[S.name.replace("{{i}}",k)]=S.value;return T},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(T,S){return bs.arrowPrefixes.forEach(function(k){T[k+"-"+S.name]=S.value}),T},{})),l={},d=0;d<this.properties.length;d++){var f=this.properties[d];if(!f.pointsTo){var p=f.name,w=this.parse(p,o[p]);l[p]=w}}return c.defaultProperties=l,c.defaultProperties},bs.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var wm={parse:function(c,o,l,d){var f=this;if(je(o))return f.parseImplWarn(c,o,l,d);var k,T=Uh(c,""+o,l?"t":"f","mapping"===d||!0===d||!1===d||null==d?"dontcare":d),S=f.propCache=f.propCache||[];return(k=S[T])||(k=S[T]=f.parseImplWarn(c,o,l,d)),(l||"mapping"===d)&&(k=$s(k))&&(k.value=$s(k.value)),k},parseImplWarn:function(c,o,l,d){var f=this.parseImpl(c,o,l,d);return!f&&null!=o&&wr("The style property `".concat(c,": ").concat(o,"` is invalid")),f&&("width"===f.name||"height"===f.name)&&"label"===o&&wr("The style value of `label` is deprecated for `"+f.name+"`"),f}};wm.parseImpl=function(c,o,l,d){var f=this;c=bt(c);var p=f.properties[c],m=o,w=f.types;if(!p||void 0===o)return null;p.alias&&(c=(p=p.pointsTo).name);var T=fe(o);T&&(o=o.trim());var k,F,S=p.type;if(!S)return null;if(l&&(""===o||null===o))return{name:c,value:o,bypass:!0,deleteBypass:!0};if(je(o))return{name:c,value:o,strValue:"fn",mapped:w.fn,bypass:l};if(!(!T||d||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(k=new RegExp(w.data.regex).exec(o)))return!l&&{name:c,value:k,strValue:""+o,mapped:w.data,field:k[1],bypass:l};if(o.length>=10&&"m"===o[0]&&(F=new RegExp(w.mapData.regex).exec(o))){if(l||S.multiple)return!1;var W=w.mapData;if(!S.color&&!S.number)return!1;var Y=this.parse(c,F[4]);if(!Y||Y.mapped)return!1;var Q=this.parse(c,F[5]);if(!Q||Q.mapped)return!1;if(Y.pfValue===Q.pfValue||Y.strValue===Q.strValue)return wr("`"+c+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+c+": "+Y.strValue+"`"),this.parse(c,Y.strValue);if(S.color){var ne=Y.value,se=Q.value;if(!(ne[0]!==se[0]||ne[1]!==se[1]||ne[2]!==se[2]||ne[3]!==se[3]&&(null!=ne[3]&&1!==ne[3]||null!=se[3]&&1!==se[3])))return!1}return{name:c,value:F,strValue:""+o,mapped:W,field:F[1],fieldMin:parseFloat(F[2]),fieldMax:parseFloat(F[3]),valueMin:Y.value,valueMax:Q.value,bypass:l}}}if(S.multiple&&"multiple"!==d){var ce;if(ce=T?o.split(/\s+/):Ve(o)?o:[o],S.evenMultiple&&ce.length%2!=0)return null;for(var pe=[],Me=[],Ae=[],me="",De=!1,ve=0;ve<ce.length;ve++){var Re=f.parse(c,ce[ve],l,"multiple");De=De||fe(Re.value),pe.push(Re.value),Ae.push(null!=Re.pfValue?Re.pfValue:Re.value),Me.push(Re.units),me+=(ve>0?" ":"")+Re.strValue}return S.validate&&!S.validate(pe,Me)?null:S.singleEnum&&De?1===pe.length&&fe(pe[0])?{name:c,value:pe[0],strValue:pe[0],bypass:l}:null:{name:c,value:pe,pfValue:Ae,strValue:me,bypass:l,units:Me}}var Oe=function(){for(var Tt=0;Tt<S.enums.length;Tt++)if(S.enums[Tt]===o)return{name:c,value:o,strValue:""+o,bypass:l};return null};if(S.number){var Ee,He="px";if(S.units&&(Ee=S.units),S.implicitUnits&&(He=S.implicitUnits),!S.unitless)if(T){var Ie="px|em"+(S.allowPercent?"|\\%":"");Ee&&(Ie=Ee);var Qe=o.match("^("+Nt+")("+Ie+")?$");Qe&&(o=Qe[1],Ee=Qe[2]||He)}else(!Ee||S.implicitUnits)&&(Ee=He);if(o=parseFloat(o),isNaN(o)&&void 0===S.enums)return null;if(isNaN(o)&&void 0!==S.enums)return o=m,Oe();if(S.integer&&!function(o){return ge(o)&&Math.floor(o)===o}(o)||void 0!==S.min&&(o<S.min||S.strictMin&&o===S.min)||void 0!==S.max&&(o>S.max||S.strictMax&&o===S.max))return null;var Ge={name:c,value:o,strValue:""+o+(Ee||""),units:Ee,bypass:l};return Ge.pfValue=S.unitless||"px"!==Ee&&"em"!==Ee?o:"px"!==Ee&&Ee?this.getEmSizeInPixels()*o:o,("ms"===Ee||"s"===Ee)&&(Ge.pfValue="ms"===Ee?o:1e3*o),("deg"===Ee||"rad"===Ee)&&(Ge.pfValue="rad"===Ee?o:function(o){return Math.PI*o/180}(o)),"%"===Ee&&(Ge.pfValue=o/100),Ge}if(S.propList){var We=[],nt=""+o;if("none"!==nt){for(var ot=nt.split(/\s*,\s*|\s+/),dt=0;dt<ot.length;dt++){var it=ot[dt].trim();f.properties[it]?We.push(it):wr("`"+it+"` is not a valid property name")}if(0===We.length)return null}return{name:c,value:We,strValue:0===We.length?"none":We.join(" "),bypass:l}}if(S.color){var rt=function(o){return(Ve(o)?o:null)||function(o){return ga[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var d,f,p,m=16;return 4===o.length?(d=parseInt(o[1]+o[1],m),f=parseInt(o[2]+o[2],m),p=parseInt(o[3]+o[3],m)):(d=parseInt(o[1]+o[2],m),f=parseInt(o[3]+o[4],m),p=parseInt(o[5]+o[6],m)),[d,f,p]}}(o)||function(o){var l,d=new RegExp("^"+Ln+"$").exec(o);if(d){l=[];for(var f=[],p=1;p<=3;p++){var m=d[p];if("%"===m[m.length-1]&&(f[p]=!0),m=parseFloat(m),f[p]&&(m=m/100*255),m<0||m>255)return;l.push(Math.floor(m))}if((f[1]||f[2]||f[3])&&!(f[1]&&f[2]&&f[3]))return;var S=d[4];if(void 0!==S){if((S=parseFloat(S))<0||S>1)return;l.push(S)}}return l}(o)||function(o){var l,d,f,p,m,w,T,S;function k(Y,Q,ne){return ne<0&&(ne+=1),ne>1&&(ne-=1),ne<1/6?Y+6*(Q-Y)*ne:ne<.5?Q:ne<2/3?Y+(Q-Y)*(2/3-ne)*6:Y}var F=new RegExp("^"+xr+"$").exec(o);if(F){if((d=parseInt(F[1]))<0?d=(360- -1*d%360)%360:d>360&&(d%=360),d/=360,(f=parseFloat(F[2]))<0||f>100||(f/=100,(p=parseFloat(F[3]))<0||p>100)||(p/=100,void 0!==(m=F[4])&&((m=parseFloat(m))<0||m>1)))return;if(0===f)w=T=S=Math.round(255*p);else{var H=p<.5?p*(1+f):p+f-p*f,W=2*p-H;w=Math.round(255*k(W,H,d+1/3)),T=Math.round(255*k(W,H,d)),S=Math.round(255*k(W,H,d-1/3))}l=[w,T,S,m]}return l}(o)}(o);return rt?{name:c,value:rt,pfValue:rt,strValue:"rgb("+rt[0]+","+rt[1]+","+rt[2]+")",bypass:l}:null}if(S.regex||S.regexes){if(S.enums){var Et=Oe();if(Et)return Et}for(var Dt=S.regexes?S.regexes:[S.regex],yt=0;yt<Dt.length;yt++){var tt=new RegExp(Dt[yt]).exec(o);if(tt)return{name:c,value:S.singleRegexMatchValue?tt[1]:tt,strValue:""+o,bypass:l}}return null}return S.string?{name:c,value:""+o,strValue:""+o,bypass:l}:S.enums?Oe():null};var pr=function c(o){if(!(this instanceof c))return new c(o);Be(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):Br("A style must have a core reference")},Wi=pr.prototype;Wi.instanceString=function(){return"style"},Wi.clear=function(){for(var c=this._private,l=c.cy.elements(),d=0;d<this.length;d++)this[d]=void 0;return this.length=0,c.contextStyles={},c.propDiffs={},this.cleanElements(l,!0),l.forEach(function(f){var p=f[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},Wi.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Wi.core=function(c){return this._private.coreStyle[c]||this.getDefaultProperty(c)},Wi.selector=function(c){var o="core"===c?null:new Ja(c),l=this.length++;return this[l]={selector:o,properties:[],mappedProperties:[],index:l},this},Wi.css=function(){var o=arguments;if(1===o.length)for(var l=o[0],d=0;d<this.properties.length;d++){var f=this.properties[d],p=l[f.name];void 0===p&&(p=l[zt(f.name)]),void 0!==p&&this.cssRule(f.name,p)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},Wi.style=Wi.css,Wi.cssRule=function(c,o){var l=this.parse(c,o);if(l){var d=this.length-1;this[d].properties.push(l),this[d].properties[l.name]=l,l.name.match(/pie-(\d+)-background-size/)&&l.value&&(this._private.hasPie=!0),l.mapped&&this[d].mappedProperties.push(l),!this[d].selector&&(this._private.coreStyle[l.name]=l)}return this},Wi.append=function(c){return Fe(c)?c.appendToStyle(this):Ve(c)?this.appendFromJson(c):fe(c)&&this.appendFromString(c),this},pr.fromJson=function(c,o){var l=new pr(c);return l.fromJson(o),l},pr.fromString=function(c,o){return new pr(c).fromString(o)},[Rs,mf,_y,il,xm,Tc,bs,wm].forEach(function(c){Zt(Wi,c)}),pr.types=Wi.types,pr.properties=Wi.properties,pr.propertyGroups=Wi.propertyGroups,pr.propertyGroupNames=Wi.propertyGroupNames,pr.propertyGroupKeys=Wi.propertyGroupKeys;var Gd={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var l=this._private;return l.style=Fe(o)?o.generateStyle(this):Ve(o)?pr.fromJson(this,o):fe(o)?pr.fromString(this,o):pr(this),l.style},updateStyle:function(){this.mutableElements().updateStyle()}},Yi={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var l=this._private;return null==l.selectionType&&(l.selectionType="single"),void 0===o?l.selectionType:(("additive"===o||"single"===o)&&(l.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var d,f,p,m,w,o=arguments,l=this._private.pan;switch(o.length){case 0:return l;case 1:if(fe(o[0]))return l[d=o[0]];if(_e(o[0])){if(!this._private.panningEnabled)return this;w=(p=o[0]).y,ge(m=p.x)&&(l.x=m),ge(w)&&(l.y=w),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;f=o[1],("x"===(d=o[0])||"y"===d)&&ge(f)&&(l[d]=f),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,l){var p,m,w,T,S,d=arguments,f=this._private.pan;if(!this._private.panningEnabled)return this;switch(d.length){case 1:_e(o)&&(S=(w=d[0]).y,ge(T=w.x)&&(f.x+=T),ge(S)&&(f.y+=S),this.emit("pan viewport"));break;case 2:m=l,("x"===(p=o)||"y"===p)&&ge(m)&&(f[p]+=m),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,l){var d=this.getFitViewport(o,l);if(d){var f=this._private;f.zoom=d.zoom,f.pan=d.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,l){var d;if((ge(o)&&void 0===l&&(l=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(fe(o)?o=this.$(o):!function(o){return _e(o)&&ge(o.x1)&&ge(o.x2)&&ge(o.y1)&&ge(o.y2)}(o)?Te(o)||(o=this.mutableElements()):((d={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=d.x2-d.x1,d.h=d.y2-d.y1),!Te(o)||!o.empty())){d=d||o.boundingBox();var T,m=this.width(),w=this.height();if(l=ge(l)?l:0,!isNaN(m)&&!isNaN(w)&&m>0&&w>0&&!isNaN(d.w)&&!isNaN(d.h)&&d.w>0&&d.h>0)return{zoom:T=(T=(T=Math.min((m-2*l)/d.w,(w-2*l)/d.h))>this._private.maxZoom?this._private.maxZoom:T)<this._private.minZoom?this._private.minZoom:T,pan:{x:(m-T*(d.x1+d.x2))/2,y:(w-T*(d.y1+d.y2))/2}}}},zoomRange:function(o,l){var d=this._private;if(null==l){var f=o;o=f.min,l=f.max}return ge(o)&&ge(l)&&o<=l?(d.minZoom=o,d.maxZoom=l):ge(o)&&void 0===l&&o<=d.maxZoom?d.minZoom=o:ge(l)&&void 0===o&&l>=d.minZoom&&(d.maxZoom=l),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var p,m,l=this._private,d=l.pan,f=l.zoom,w=!1;return l.zoomingEnabled||(w=!0),ge(o)?m=o:_e(o)&&(m=o.level,null!=o.position?p=nr(o.position,f,d):null!=o.renderedPosition&&(p=o.renderedPosition),null!=p&&!l.panningEnabled&&(w=!0)),m=(m=m>l.maxZoom?l.maxZoom:m)<l.minZoom?l.minZoom:m,!w&&ge(m)&&m!==f&&(null==p||ge(p.x)&&ge(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:m,pan:{x:-m/f*(p.x-d.x)+p.x,y:-m/f*(p.y-d.y)+p.y}}:{zoomed:!0,panned:!1,zoom:m,pan:d}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var l=this.getZoomedViewport(o),d=this._private;return null!=l&&l.zoomed?(d.zoom=l.zoom,l.panned&&(d.pan.x=l.pan.x,d.pan.y=l.pan.y),this.emit("zoom"+(l.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var l=this._private,d=!0,f=!0,p=[],m=!1,w=!1;if(!o)return this;if(ge(o.zoom)||(d=!1),_e(o.pan)||(f=!1),!d&&!f)return this;if(d){var T=o.zoom;T<l.minZoom||T>l.maxZoom||!l.zoomingEnabled?m=!0:(l.zoom=T,p.push("zoom"))}if(f&&(!m||!o.cancelOnFailedZoom)&&l.panningEnabled){var S=o.pan;ge(S.x)&&(l.pan.x=S.x,w=!1),ge(S.y)&&(l.pan.y=S.y,w=!1),w||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(o){var l=this.getCenterPan(o);return l&&(this._private.pan=l,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,l){if(this._private.panningEnabled){if(fe(o)){var d=o;o=this.mutableElements().filter(d)}else Te(o)||(o=this.mutableElements());if(0!==o.length){var f=o.boundingBox(),p=this.width(),m=this.height();return{x:(p-(l=void 0===l?this._private.zoom:l)*(f.x1+f.x2))/2,y:(m-l*(f.y1+f.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var d,f,o=this._private,l=o.container;return o.sizeCache=o.sizeCache||(l?(d=z.getComputedStyle(l),{width:l.clientWidth-(f=function(m){return parseFloat(d.getPropertyValue(m))})("padding-left")-f("padding-right"),height:l.clientHeight-f("padding-top")-f("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,l=this._private.zoom,d=this.renderedExtent(),f={x1:(d.x1-o.x)/l,x2:(d.x2-o.x)/l,y1:(d.y1-o.y)/l,y2:(d.y2-o.y)/l};return f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},renderedExtent:function(){var o=this.width(),l=this.height();return{x1:0,y1:0,x2:o,y2:l,w:o,h:l}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};Yi.centre=Yi.center,Yi.autolockNodes=Yi.autolock,Yi.autoungrabifyNodes=Yi.autoungrabify;var ta={data:Lr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Lr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Lr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Lr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ta.attr=ta.data,ta.removeAttr=ta.removeData;var Su=function(o){var l=this,d=(o=Zt({},o)).container;d&&!Xe(d)&&Xe(d[0])&&(d=d[0]);var f=d?d._cyreg:null;(f=f||{})&&f.cy&&(f.cy.destroy(),f={});var p=f.readies=f.readies||[];d&&(d._cyreg=f),f.cy=l;var m=void 0!==z&&void 0!==d&&!o.headless,w=o;w.layout=Zt({name:m?"grid":"null"},w.layout),w.renderer=Zt({name:m?"canvas":"null"},w.renderer);var T=function(Y,Q,ne){return void 0!==Q?Q:void 0!==ne?ne:Y},S=this._private={container:d,ready:!1,options:w,elements:new Gi(this),listeners:[],aniEles:new Gi(this),data:w.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:T(!0,w.zoomingEnabled),userZoomingEnabled:T(!0,w.userZoomingEnabled),panningEnabled:T(!0,w.panningEnabled),userPanningEnabled:T(!0,w.userPanningEnabled),boxSelectionEnabled:T(!0,w.boxSelectionEnabled),autolock:T(!1,w.autolock,w.autolockNodes),autoungrabify:T(!1,w.autoungrabify,w.autoungrabifyNodes),autounselectify:T(!1,w.autounselectify),styleEnabled:void 0===w.styleEnabled?m:w.styleEnabled,zoom:ge(w.zoom)?w.zoom:1,pan:{x:_e(w.pan)&&ge(w.pan.x)?w.pan.x:0,y:_e(w.pan)&&ge(w.pan.y)?w.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:T(250,w.multiClickDebounceTime)};this.createEmitter(),this.selectionType(w.selectionType),this.zoomRange({min:w.minZoom,max:w.maxZoom}),S.styleEnabled&&l.setStyle([]);var F=Zt({},w,w.renderer);l.initRenderer(F),function(Y,Q){if(Y.some(st))return Id.all(Y).then(Q);Q(Y)}([w.style,w.elements],function(W){var Y=W[0],Q=W[1];S.styleEnabled&&l.style().append(Y),function(Y,Q,ne){l.notifications(!1);var se=l.mutableElements();se.length>0&&se.remove(),null!=Y&&(_e(Y)||Ve(Y))&&l.add(Y),l.one("layoutready",function(ce){l.notifications(!0),l.emit(ce),l.one("load",Q),l.emitAndNotify("load")}).one("layoutstop",function(){l.one("done",ne),l.emit("done")});var le=Zt({},l._private.options.layout);le.eles=l.elements(),l.layout(le).run()}(Q,function(){l.startAnimationLoop(),S.ready=!0,je(w.ready)&&l.on("ready",w.ready);for(var ne=0;ne<p.length;ne++)l.on("ready",p[ne]);f&&(f.readies=[]),l.emit("ready")},w.done)})},Ac=Su.prototype;Zt(Ac,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},mount:function(o){if(null!=o){var l=this,d=l._private,f=d.options;return!Xe(o)&&Xe(o[0])&&(o=o[0]),l.stopAnimationLoop(),l.destroyRenderer(),d.container=o,d.styleEnabled=!0,l.invalidateSize(),l.initRenderer(Zt({},f,f.renderer,{name:"null"===f.renderer.name?"canvas":f.renderer.name})),l.startAnimationLoop(),l.style(f.style),l.emit("mount"),l}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return $s(this._private.options)},json:function(o){var l=this,d=l._private,f=l.mutableElements();if(_e(o)){if(l.startBatch(),o.elements){var m={},w=function(pe,Me){for(var Ae=[],me=[],De=0;De<pe.length;De++){var ve=pe[De];if(ve.data.id){var Re=""+ve.data.id,Oe=l.getElementById(Re);m[Re]=!0,0!==Oe.length?me.push({ele:Oe,json:ve}):(Me&&(ve.group=Me),Ae.push(ve))}else wr("cy.json() cannot handle elements without an ID attribute")}l.add(Ae);for(var Ee=0;Ee<me.length;Ee++){var He=me[Ee];He.ele.json(He.json)}};if(Ve(o.elements))w(o.elements);else for(var T=["nodes","edges"],S=0;S<T.length;S++){var k=T[S],F=o.elements[k];Ve(F)&&w(F,k)}var H=l.collection();f.filter(function(ce){return!m[ce.id()]}).forEach(function(ce){ce.isParent()?H.merge(ce):ce.remove()}),H.forEach(function(ce){return ce.children().move({parent:null})}),H.forEach(function(ce){return(pe=ce,l.getElementById(pe.id())).remove();var pe})}o.style&&l.style(o.style),null!=o.zoom&&o.zoom!==d.zoom&&l.zoom(o.zoom),o.pan&&(o.pan.x!==d.pan.x||o.pan.y!==d.pan.y)&&l.pan(o.pan),o.data&&l.data(o.data);for(var W=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],Y=0;Y<W.length;Y++){var Q=W[Y];null!=o[Q]&&l[Q](o[Q])}return l.endBatch(),this}var se={};o?se.elements=this.elements().map(function(ce){return ce.json()}):(se.elements={},f.forEach(function(ce){var pe=ce.group();se.elements[pe]||(se.elements[pe]=[]),se.elements[pe].push(ce.json())})),this._private.styleEnabled&&(se.style=l.style().json()),se.data=$s(l.data());var le=d.options;return se.zoomingEnabled=d.zoomingEnabled,se.userZoomingEnabled=d.userZoomingEnabled,se.zoom=d.zoom,se.minZoom=d.minZoom,se.maxZoom=d.maxZoom,se.panningEnabled=d.panningEnabled,se.userPanningEnabled=d.userPanningEnabled,se.pan=$s(d.pan),se.boxSelectionEnabled=d.boxSelectionEnabled,se.renderer=$s(le.renderer),se.hideEdgesOnViewport=le.hideEdgesOnViewport,se.textureOnViewport=le.textureOnViewport,se.wheelSensitivity=le.wheelSensitivity,se.motionBlur=le.motionBlur,se.multiClickDebounceTime=le.multiClickDebounceTime,se}}),Ac.$id=Ac.getElementById,[Qx,xu,Mc,ff,Eu,Cu,_m,Lt,Gd,Yi,ta].forEach(function(c){Zt(Ac,c)});var $d={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}},Du=function(o){return o.scratch("breadthfirst")},tw=function(o,l){return o.scratch("breadthfirst",l)};function xy(c){this.options=Zt({},$d,c)}xy.prototype.run=function(){var S,c=this.options,o=c,l=c.cy,d=o.eles,f=d.nodes().filter(function(Ht){return!Ht.isParent()}),p=d,m=o.directed,w=o.maximal||o.maximalAdjustments>0,T=Kr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(Te(o.roots))S=o.roots;else if(Ve(o.roots)){for(var k=[],F=0;F<o.roots.length;F++){var W=l.getElementById(o.roots[F]);k.push(W)}S=l.collection(k)}else if(fe(o.roots))S=l.$(o.roots);else if(m)S=f.roots();else{var Y=d.components();S=l.collection();for(var Q=function(Ft){var gn=Y[Ft],sn=gn.maxDegree(!1),Ut=gn.filter(function(hn){return hn.degree(!1)===sn});S=S.add(Ut)},ne=0;ne<Y.length;ne++)Q(ne)}var se=[],le={},ce=function(Ft,gn){null==se[gn]&&(se[gn]=[]);var sn=se[gn].length;se[gn].push(Ft),tw(Ft,{index:sn,depth:gn})};p.bfs({roots:S,directed:o.directed,visit:function(Ft,gn,sn,Ut,hn){var Kn=Ft[0],On=Kn.id();ce(Kn,hn),le[On]=!0}});for(var Me=[],Ae=0;Ae<f.length;Ae++){var me=f[Ae];le[me.id()]||Me.push(me)}var De=function(Ft){for(var gn=se[Ft],sn=0;sn<gn.length;sn++){var Ut=gn[sn];null!=Ut?tw(Ut,{depth:Ft,index:sn}):(gn.splice(sn,1),sn--)}},ve=function(){for(var Ft=0;Ft<se.length;Ft++)De(Ft)},Re=function(Ft,gn){for(var sn=Du(Ft),Ut=Ft.incomers().filter(function(be){return be.isNode()&&d.has(be)}),hn=-1,Kn=Ft.id(),On=0;On<Ut.length;On++){var Rt=Du(Ut[On]);hn=Math.max(hn,Rt.depth)}return sn.depth<=hn&&(gn[Kn]?null:(function(Ft,gn){var sn=Du(Ft);se[sn.depth][sn.index]=null,ce(Ft,gn)}(Ft,hn+1),gn[Kn]=!0,!0))};if(m&&w){var Oe=[],Ee={},He=function(Ft){return Oe.push(Ft)};for(f.forEach(function(Ht){return Oe.push(Ht)});Oe.length>0;){var Qe=Oe.shift(),Ge=Re(Qe,Ee);if(Ge)Qe.outgoers().filter(function(Ht){return Ht.isNode()&&d.has(Ht)}).forEach(He);else if(null===Ge){wr("Detected double maximal shift for node `"+Qe.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}ve();var We=0;if(o.avoidOverlap)for(var nt=0;nt<f.length;nt++){var dt=f[nt].layoutDimensions(o);We=Math.max(We,dt.w,dt.h)}var Et={},Dt=function(Ft){if(Et[Ft.id()])return Et[Ft.id()];for(var gn=Du(Ft).depth,sn=Ft.neighborhood(),Ut=0,hn=0,Kn=0;Kn<sn.length;Kn++){var On=sn[Kn];if(!On.isEdge()&&!On.isParent()&&f.has(On)){var yn=Du(On);if(null!=yn){var Rt=yn.index,be=yn.depth;null!=Rt&&null!=be&&be<gn&&(Ut+=Rt/se[be].length,hn++)}}}return Ut/=hn=Math.max(1,hn),0===hn&&(Ut=0),Et[Ft.id()]=Ut,Ut},yt=function(Ft,gn){var hn=Dt(Ft)-Dt(gn);return 0===hn?Pi(Ft.id(),gn.id()):hn};void 0!==o.depthSort&&(yt=o.depthSort);for(var gt=0;gt<se.length;gt++)se[gt].sort(yt),De(gt);for(var tt=[],Ct=0;Ct<Me.length;Ct++)tt.push(Me[Ct]);se.unshift(tt),ve();for(var Tt=0,Pt=0;Pt<se.length;Pt++)Tt=Math.max(se[Pt].length,Tt);var Vt_x=T.x1+T.w/2,Vt_y=T.x1+T.h/2,Cn=se.reduce(function(Ht,Ft){return Math.max(Ht,Ft.length)},0);return d.nodes().layoutPositions(this,o,function(Ft){var gn=Du(Ft),sn=gn.depth,Ut=gn.index,hn=se[sn].length,Kn=Math.max(T.w/((o.grid?Cn:hn)+1),We),On=Math.max(T.h/(se.length+1),We),yn=Math.min(T.w/2/se.length,T.h/2/se.length);if(yn=Math.max(yn,We),o.circle){var be=yn*sn+yn-(se.length>0&&se[0].length<=3?yn/2:0),lt=2*Math.PI/se[sn].length*Ut;return 0===sn&&1===se[0].length&&(be=1),{x:Vt_x+be*Math.cos(lt),y:Vt_y+be*Math.sin(lt)}}return{x:Vt_x+(Ut+1-(hn+1)/2)*Kn,y:(sn+1)*On}}),this};var uM={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Ks(c){this.options=Zt({},uM,c)}Ks.prototype.run=function(){var c=this.options,o=c,l=c.cy,d=o.eles,f=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,p=d.nodes().not(":parent");o.sort&&(p=p.sort(o.sort));for(var k,m=Kr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),w={x:m.x1+m.w/2,y:m.y1+m.h/2},S=(void 0===o.sweep?2*Math.PI-2*Math.PI/p.length:o.sweep)/Math.max(1,p.length-1),F=0,H=0;H<p.length;H++){var Y=p[H].layoutDimensions(o);F=Math.max(F,Y.w,Y.h)}if(k=ge(o.radius)?o.radius:p.length<=1?0:Math.min(m.h,m.w)/2-F,p.length>1&&o.avoidOverlap){F*=1.75;var se=Math.cos(S)-Math.cos(0),le=Math.sin(S)-Math.sin(0),ce=Math.sqrt(F*F/(se*se+le*le));k=Math.max(ce,k)}return d.nodes().layoutPositions(this,o,function(Ae,me){var De=o.startAngle+me*S*(f?1:-1),ve=k*Math.cos(De),Re=k*Math.sin(De);return{x:w.x+ve,y:w.y+Re}}),this};var Em={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Ic(c){this.options=Zt({},Em,c)}Ic.prototype.run=function(){for(var c=this.options,o=c,l=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,d=c.cy,f=o.eles,p=f.nodes().not(":parent"),m=Kr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),w={x:m.x1+m.w/2,y:m.y1+m.h/2},T=[],S=0,k=0;k<p.length;k++){var H,F=p[k];H=o.concentric(F),T.push({value:H,node:F}),F._private.scratch.concentric=H}p.updateStyle();for(var W=0;W<p.length;W++){var Q=p[W].layoutDimensions(o);S=Math.max(S,Q.w,Q.h)}T.sort(function(Ht,Ft){return Ft.value-Ht.value});for(var ne=o.levelWidth(p),se=[[]],le=se[0],ce=0;ce<T.length;ce++){var pe=T[ce];le.length>0&&Math.abs(le[0].value-pe.value)>=ne&&se.push(le=[]),le.push(pe)}var Ae=S+o.minNodeSpacing;if(!o.avoidOverlap){var me=se.length>0&&se[0].length>1,De=Math.min(m.w,m.h)/2-Ae;Ae=Math.min(Ae,De/(se.length+me?1:0))}for(var Re=0,Oe=0;Oe<se.length;Oe++){var Ee=se[Oe],He=void 0===o.sweep?2*Math.PI-2*Math.PI/Ee.length:o.sweep,Ie=Ee.dTheta=He/Math.max(1,Ee.length-1);if(Ee.length>1&&o.avoidOverlap){var Qe=Math.cos(Ie)-Math.cos(0),Ge=Math.sin(Ie)-Math.sin(0),We=Math.sqrt(Ae*Ae/(Qe*Qe+Ge*Ge));Re=Math.max(We,Re)}Ee.r=Re,Re+=Ae}if(o.equidistant){for(var nt=0,ot=0,dt=0;dt<se.length;dt++)nt=Math.max(nt,se[dt].r-ot);ot=0;for(var Et=0;Et<se.length;Et++){var Dt=se[Et];0===Et&&(ot=Dt.r),Dt.r=ot,ot+=nt}}for(var yt={},gt=0;gt<se.length;gt++)for(var tt=se[gt],Ct=tt.dTheta,Tt=tt.r,Pt=0;Pt<tt.length;Pt++){var Vt=tt[Pt],Cn=o.startAngle+(l?1:-1)*Ct*Pt,Nn={x:w.x+Tt*Math.cos(Cn),y:w.y+Tt*Math.sin(Cn)};yt[Vt.node.id()]=Nn}return f.nodes().layoutPositions(this,o,function(Ht){var Ft=Ht.id();return yt[Ft]}),this};var wy,Ey={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,l){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function gf(c){this.options=Zt({},Ey,c),this.options.layout=this}gf.prototype.run=function(){var c=this.options,o=c.cy,l=this;l.stopped=!1,(!0===c.animate||!1===c.animate)&&l.emit({type:"layoutstart",layout:l}),wy=!0===c.debug;var d=nw(o,l,c);wy&&(void 0)(d),c.randomize&&ow(d);var f=zi(),p=function(){yf(d,o,c),!0===c.fit&&o.fit(c.padding)},m=function(H){return!(l.stopped||H>=c.numIter||(bf(d,c),d.temperature=d.temperature*c.coolingFactor,d.temperature<c.minTemp))},w=function(){if(!0===c.animate||!1===c.animate)p(),l.one("layoutstop",c.stop),l.emit({type:"layoutstop",layout:l});else{var H=c.eles.nodes(),W=vf(d,c,H);H.layoutPositions(l,c,W)}},T=0,S=!0;if(!0===c.animate)!function F(){for(var H=0;S&&H<c.refresh;)S=m(T),T++,H++;S?(zi()-f>=c.animationThreshold&&p(),xl(F)):(Tu(d,c),w())}();else{for(;S;)S=m(T),T++;Tu(d,c),w()}return this},gf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},gf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var nw=function(o,l,d){for(var f=d.eles.edges(),p=d.eles.nodes(),m={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:f.size(),temperature:d.initialTemp,clientWidth:o.width(),clientHeight:o.width(),boundingBox:Kr(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()})},w=d.eles.components(),T={},S=0;S<w.length;S++)for(var k=w[S],F=0;F<k.length;F++)T[k[F].id()]=S;for(S=0;S<m.nodeSize;S++){var Y=(W=p[S]).layoutDimensions(d);(Q={}).isLocked=W.locked(),Q.id=W.data("id"),Q.parentId=W.data("parent"),Q.cmptId=T[W.id()],Q.children=[],Q.positionX=W.position("x"),Q.positionY=W.position("y"),Q.offsetX=0,Q.offsetY=0,Q.height=Y.w,Q.width=Y.h,Q.maxX=Q.positionX+Q.width/2,Q.minX=Q.positionX-Q.width/2,Q.maxY=Q.positionY+Q.height/2,Q.minY=Q.positionY-Q.height/2,Q.padLeft=parseFloat(W.style("padding")),Q.padRight=parseFloat(W.style("padding")),Q.padTop=parseFloat(W.style("padding")),Q.padBottom=parseFloat(W.style("padding")),Q.nodeRepulsion=je(d.nodeRepulsion)?d.nodeRepulsion(W):d.nodeRepulsion,m.layoutNodes.push(Q),m.idToIndex[Q.id]=S}var ne=[],se=0,le=-1,ce=[];for(S=0;S<m.nodeSize;S++){var W,pe=(W=m.layoutNodes[S]).parentId;null!=pe?m.layoutNodes[m.idToIndex[pe]].children.push(W.id):(ne[++le]=W.id,ce.push(W.id))}for(m.graphSet.push(ce);se<=le;){var Me=ne[se++],me=m.layoutNodes[m.idToIndex[Me]].children;if(me.length>0)for(m.graphSet.push(me),S=0;S<me.length;S++)ne[++le]=me[S]}for(S=0;S<m.graphSet.length;S++){var De=m.graphSet[S];for(F=0;F<De.length;F++)m.indexToGraph[m.idToIndex[De[F]]]=S}for(S=0;S<m.edgeSize;S++){var Re=f[S],Oe={};Oe.id=Re.data("id"),Oe.sourceId=Re.data("source"),Oe.targetId=Re.data("target");var Ee=je(d.idealEdgeLength)?d.idealEdgeLength(Re):d.idealEdgeLength,He=je(d.edgeElasticity)?d.edgeElasticity(Re):d.edgeElasticity,Ie=m.idToIndex[Oe.sourceId],Qe=m.idToIndex[Oe.targetId];if(m.indexToGraph[Ie]!=m.indexToGraph[Qe]){for(var nt=rw(Oe.sourceId,Oe.targetId,m),ot=m.graphSet[nt],dt=0,Q=m.layoutNodes[Ie];-1===ot.indexOf(Q.id);)Q=m.layoutNodes[m.idToIndex[Q.parentId]],dt++;for(Q=m.layoutNodes[Qe];-1===ot.indexOf(Q.id);)Q=m.layoutNodes[m.idToIndex[Q.parentId]],dt++;Ee*=dt*d.nestingFactor}Oe.idealLength=Ee,Oe.elasticity=He,m.layoutEdges.push(Oe)}return m},rw=function(o,l,d){var f=iw(o,l,0,d);return 2>f.count?0:f.graph},iw=function c(o,l,d,f){var p=f.graphSet[d];if(-1<p.indexOf(o)&&-1<p.indexOf(l))return{count:2,graph:d};for(var m=0,w=0;w<p.length;w++){var k=f.layoutNodes[f.idToIndex[p[w]]].children;if(0!==k.length){var H=c(o,l,f.indexToGraph[f.idToIndex[k[0]]],f);if(0!==H.count){if(1!==H.count)return H;if(2==++m)break}}}return{count:m,graph:d}},ow=function(o,l){for(var d=o.clientWidth,f=o.clientHeight,p=0;p<o.nodeSize;p++){var m=o.layoutNodes[p];0===m.children.length&&!m.isLocked&&(m.positionX=Math.random()*d,m.positionY=Math.random()*f)}},vf=function(o,l,d){var f=o.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return l.boundingBox&&(d.forEach(function(m){var w=o.layoutNodes[o.idToIndex[m.data("id")]];p.x1=Math.min(p.x1,w.positionX),p.x2=Math.max(p.x2,w.positionX),p.y1=Math.min(p.y1,w.positionY),p.y2=Math.max(p.y2,w.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(m,w){var T=o.layoutNodes[o.idToIndex[m.data("id")]];return l.boundingBox?{x:f.x1+(T.positionX-p.x1)/p.w*f.w,y:f.y1+(T.positionY-p.y1)/p.h*f.h}:{x:T.positionX,y:T.positionY}}},yf=function(o,l,d){var f=d.layout,p=d.eles.nodes(),m=vf(o,d,p);p.positions(m),!0!==o.ready&&(o.ready=!0,f.one("layoutready",d.ready),f.emit({type:"layoutready",layout:this}))},bf=function(o,l,d){zl(o,l),Xd(o),_f(o,l),Cy(o),lw(o)},zl=function(o,l){for(var d=0;d<o.graphSet.length;d++)for(var f=o.graphSet[d],p=f.length,m=0;m<p;m++)for(var w=o.layoutNodes[o.idToIndex[f[m]]],T=m+1;T<p;T++)Wd(w,o.layoutNodes[o.idToIndex[f[T]]],o,l)},Cm=function(o){return-o+2*o*Math.random()},Wd=function(o,l,d,f){if(o.cmptId===l.cmptId||d.isCompound){var w=l.positionX-o.positionX,T=l.positionY-o.positionY;0===w&&0===T&&(w=Cm(1),T=Cm(1));var k=aw(o,l,w,T);if(k>0)var W=(F=f.nodeOverlap*k)*w/(H=Math.sqrt(w*w+T*T)),Y=F*T/H;else{var F,Q=Yd(o,w,T),ne=Yd(l,-1*w,-1*T),se=ne.x-Q.x,le=ne.y-Q.y,ce=se*se+le*le,H=Math.sqrt(ce);W=(F=(o.nodeRepulsion+l.nodeRepulsion)/ce)*se/H,Y=F*le/H}o.isLocked||(o.offsetX-=W,o.offsetY-=Y),l.isLocked||(l.offsetX+=W,l.offsetY+=Y)}},aw=function(o,l,d,f){if(d>0)var p=o.maxX-l.minX;else p=l.maxX-o.minX;if(f>0)var m=o.maxY-l.minY;else m=l.maxY-o.minY;return p>=0&&m>=0?Math.sqrt(p*p+m*m):0},Yd=function(o,l,d){var f=o.positionX,p=o.positionY,m=o.height||1,w=o.width||1,T=d/l,S=m/w,k={};return 0===l&&0<d||0===l&&0>d?(k.x=f,k.y=p+m/2,k):0<l&&-1*S<=T&&T<=S?(k.x=f+w/2,k.y=p+w*d/2/l,k):0>l&&-1*S<=T&&T<=S?(k.x=f-w/2,k.y=p-w*d/2/l,k):0<d&&(T<=-1*S||T>=S)?(k.x=f+m*l/2/d,k.y=p+m/2,k):(0>d&&(T<=-1*S||T>=S)&&(k.x=f-m*l/2/d,k.y=p-m/2),k)},Xd=function(o,l){for(var d=0;d<o.edgeSize;d++){var f=o.layoutEdges[d],m=o.layoutNodes[o.idToIndex[f.sourceId]],T=o.layoutNodes[o.idToIndex[f.targetId]],S=T.positionX-m.positionX,k=T.positionY-m.positionY;if(0!==S||0!==k){var F=Yd(m,S,k),H=Yd(T,-1*S,-1*k),W=H.x-F.x,Y=H.y-F.y,Q=Math.sqrt(W*W+Y*Y),ne=Math.pow(f.idealLength-Q,2)/f.elasticity;if(0!==Q)var se=ne*W/Q,le=ne*Y/Q;else se=0,le=0;m.isLocked||(m.offsetX+=se,m.offsetY+=le),T.isLocked||(T.offsetX-=se,T.offsetY-=le)}}},_f=function(o,l){if(0!==l.gravity)for(var f=0;f<o.graphSet.length;f++){var p=o.graphSet[f],m=p.length;if(0===f)var w=o.clientHeight/2,T=o.clientWidth/2;else{var k=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[p[0]]].parentId]];w=k.positionX,T=k.positionY}for(var F=0;F<m;F++){var H=o.layoutNodes[o.idToIndex[p[F]]];if(!H.isLocked){var W=w-H.positionX,Y=T-H.positionY,Q=Math.sqrt(W*W+Y*Y);if(Q>1){var se=l.gravity*Y/Q;H.offsetX+=l.gravity*W/Q,H.offsetY+=se}}}}},Cy=function(o,l){var d=[],f=0,p=-1;for(d.push.apply(d,o.graphSet[0]),p+=o.graphSet[0].length;f<=p;){var m=d[f++],T=o.layoutNodes[o.idToIndex[m]],S=T.children;if(0<S.length&&!T.isLocked){for(var k=T.offsetX,F=T.offsetY,H=0;H<S.length;H++){var W=o.layoutNodes[o.idToIndex[S[H]]];W.offsetX+=k,W.offsetY+=F,d[++p]=S[H]}T.offsetX=0,T.offsetY=0}}},lw=function(o,l){for(var d=0;d<o.nodeSize;d++)0<(f=o.layoutNodes[d]).children.length&&(f.maxX=void 0,f.minX=void 0,f.maxY=void 0,f.minY=void 0);for(d=0;d<o.nodeSize;d++)if(!(0<(f=o.layoutNodes[d]).children.length||f.isLocked)){var p=cw(f.offsetX,f.offsetY,o.temperature);f.positionX+=p.x,f.positionY+=p.y,f.offsetX=0,f.offsetY=0,f.minX=f.positionX-f.width,f.maxX=f.positionX+f.width,f.minY=f.positionY-f.height,f.maxY=f.positionY+f.height,Mu(f,o)}for(d=0;d<o.nodeSize;d++){var f;0<(f=o.layoutNodes[d]).children.length&&!f.isLocked&&(f.positionX=(f.maxX+f.minX)/2,f.positionY=(f.maxY+f.minY)/2,f.width=f.maxX-f.minX,f.height=f.maxY-f.minY)}},cw=function(o,l,d){var f=Math.sqrt(o*o+l*l);if(f>d)var p={x:d*o/f,y:d*l/f};else p={x:o,y:l};return p},Mu=function c(o,l){var d=o.parentId;if(null!=d){var f=l.layoutNodes[l.idToIndex[d]],p=!1;if((null==f.maxX||o.maxX+f.padRight>f.maxX)&&(f.maxX=o.maxX+f.padRight,p=!0),(null==f.minX||o.minX-f.padLeft<f.minX)&&(f.minX=o.minX-f.padLeft,p=!0),(null==f.maxY||o.maxY+f.padBottom>f.maxY)&&(f.maxY=o.maxY+f.padBottom,p=!0),(null==f.minY||o.minY-f.padTop<f.minY)&&(f.minY=o.minY-f.padTop,p=!0),p)return c(f,l)}},Tu=function(o,l){for(var d=o.layoutNodes,f=[],p=0;p<d.length;p++){var m=d[p],w=m.cmptId;(f[w]=f[w]||[]).push(m)}var S=0;for(p=0;p<f.length;p++)if(k=f[p]){k.x1=1/0,k.x2=-1/0,k.y1=1/0,k.y2=-1/0;for(var F=0;F<k.length;F++){var H=k[F];k.x1=Math.min(k.x1,H.positionX-H.width/2),k.x2=Math.max(k.x2,H.positionX+H.width/2),k.y1=Math.min(k.y1,H.positionY-H.height/2),k.y2=Math.max(k.y2,H.positionY+H.height/2)}k.w=k.x2-k.x1,k.h=k.y2-k.y1,S+=k.w*k.h}f.sort(function(le,ce){return ce.w*ce.h-le.w*le.h});var W=0,Y=0,Q=0,ne=0,se=Math.sqrt(S)*o.clientWidth/o.clientHeight;for(p=0;p<f.length;p++){var k;if(k=f[p]){for(F=0;F<k.length;F++)(H=k[F]).isLocked||(H.positionX+=W-k.x1,H.positionY+=Y-k.y1);W+=k.w+l.componentSpacing,Q+=k.w+l.componentSpacing,ne=Math.max(ne,k.h),Q>se&&(Y+=ne+l.componentSpacing,W=0,Q=0,ne=0)}}},uw={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function dw(c){this.options=Zt({},uw,c)}dw.prototype.run=function(){var c=this.options,o=c,l=c.cy,d=o.eles,f=d.nodes().not(":parent");o.sort&&(f=f.sort(o.sort));var p=Kr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(0===p.h||0===p.w)d.nodes().layoutPositions(this,o,function(Et){return{x:p.x1,y:p.y1}});else{var m=f.size(),w=Math.sqrt(m*p.h/p.w),T=Math.round(w),S=Math.round(p.w/p.h*w),k=function(Dt){if(null==Dt)return Math.min(T,S);Math.min(T,S)==T?T=Dt:S=Dt},F=function(Dt){if(null==Dt)return Math.max(T,S);Math.max(T,S)==T?T=Dt:S=Dt},H=o.rows,W=null!=o.cols?o.cols:o.columns;if(null!=H&&null!=W)T=H,S=W;else if(null!=H&&null==W)T=H,S=Math.ceil(m/T);else if(null==H&&null!=W)S=W,T=Math.ceil(m/S);else if(S*T>m){var Y=k(),Q=F();(Y-1)*Q>=m?k(Y-1):(Q-1)*Y>=m&&F(Q-1)}else for(;S*T<m;){var ne=k(),se=F();(se+1)*ne>=m?F(se+1):k(ne+1)}var le=p.w/S,ce=p.h/T;if(o.condense&&(le=0,ce=0),o.avoidOverlap)for(var pe=0;pe<f.length;pe++){var Me=f[pe],Ae=Me._private.position;(null==Ae.x||null==Ae.y)&&(Ae.x=0,Ae.y=0);var me=Me.layoutDimensions(o),De=o.avoidOverlapPadding,Re=me.h+De;le=Math.max(le,me.w+De),ce=Math.max(ce,Re)}for(var Oe={},Ee=function(Dt,yt){return!!Oe["c-"+Dt+"-"+yt]},He=function(Dt,yt){Oe["c-"+Dt+"-"+yt]=!0},Ie=0,Qe=0,Ge=function(){++Qe>=S&&(Qe=0,Ie++)},We={},nt=0;nt<f.length;nt++){var ot=f[nt],dt=o.position(ot);if(dt&&(void 0!==dt.row||void 0!==dt.col)){var it={row:dt.row,col:dt.col};if(void 0===it.col)for(it.col=0;Ee(it.row,it.col);)it.col++;else if(void 0===it.row)for(it.row=0;Ee(it.row,it.col);)it.row++;We[ot.id()]=it,He(it.row,it.col)}}f.layoutPositions(this,o,function(Dt,yt){var gt,tt;if(Dt.locked()||Dt.isParent())return!1;var Ct=We[Dt.id()];if(Ct)gt=Ct.col*le+le/2+p.x1,tt=Ct.row*ce+ce/2+p.y1;else{for(;Ee(Ie,Qe);)Ge();gt=Qe*le+le/2+p.x1,tt=Ie*ce+ce/2+p.y1,He(Ie,Qe),Ge()}return{x:gt,y:tt}})}return this};var Sy={ready:function(){},stop:function(){}};function Sm(c){this.options=Zt({},Sy,c)}Sm.prototype.run=function(){var c=this.options,o=c.eles,l=this;return l.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),l.one("layoutready",c.ready),l.emit("layoutready"),l.one("layoutstop",c.stop),l.emit("layoutstop"),this},Sm.prototype.stop=function(){return this};var dM={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Dy(c){this.options=Zt({},dM,c)}Dy.prototype.run=function(){var c=this.options,l=c.eles.nodes(),d=je(c.positions);return l.layoutPositions(this,c,function(p,m){var w=function f(p){return null==c.positions?function(o){return{x:o.x,y:o.y}}(p.position()):d?c.positions(p):c.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=w&&w}),this};var hw={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function My(c){this.options=Zt({},hw,c)}My.prototype.run=function(){var c=this.options,o=c.cy,l=c.eles,d=Kr(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return l.nodes().layoutPositions(this,c,function(m,w){return{x:d.x1+Math.round(Math.random()*d.w),y:d.y1+Math.round(Math.random()*d.h)}}),this};var xf=[{name:"breadthfirst",impl:xy},{name:"circle",impl:Ks},{name:"concentric",impl:Ic},{name:"cose",impl:gf},{name:"grid",impl:dw},{name:"null",impl:Sm},{name:"preset",impl:Dy},{name:"random",impl:My}];function Dm(c){this.options=c,this.notifications=0}var Ty=function(){},Mm=function(){throw new Error("A headless instance can not render images")};Dm.prototype={recalculateRenderedStyle:Ty,notify:function(){this.notifications++},init:Ty,isHeadless:function(){return!0},png:Mm,jpg:Mm};var Ay={arrowShapeWidth:.3,registerArrowShapes:function(){var c=this.arrowShapes={},o=this,l=function(S,k,F,H,W,Y,Q){return W.x-F/2-Q<=S&&S<=W.x+F/2+Q&&W.y-F/2-Q<=k&&k<=W.y+F/2+Q},d=function(S,k,F,H,W){var Y=S*Math.cos(H)-k*Math.sin(H),Q=S*Math.sin(H)+k*Math.cos(H);return{x:Y*F+W.x,y:Q*F+W.y}},f=function(S,k,F,H){for(var W=[],Y=0;Y<S.length;Y+=2)W.push(d(S[Y],S[Y+1],k,F,H));return W},p=function(S){for(var k=[],F=0;F<S.length;F++){var H=S[F];k.push(H.x,H.y)}return k},m=function(S){return S.pstyle("width").pfValue*S.pstyle("arrow-scale").pfValue*2},w=function(S,k){fe(k)&&(k=c[k]),c[S]=Zt({name:S,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(H,W,Y,Q,ne,se){var le=p(f(this.points,Y+2*se,Q,ne));return Vr(H,W,le)},roughCollide:l,draw:function(H,W,Y,Q){var ne=f(this.points,W,Y,Q);o.arrowShapeImpl("polygon")(H,ne)},spacing:function(H){return 0},gap:m},k)};w("none",{collide:nu,roughCollide:nu,draw:ru,spacing:$a,gap:$a}),w("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),w("arrow","triangle"),w("triangle-backcurve",{points:c.triangle.points,controlPoint:[0,-.15],roughCollide:l,draw:function(S,k,F,H,W){var Y=f(this.points,k,F,H),Q=this.controlPoint,ne=d(Q[0],Q[1],k,F,H);o.arrowShapeImpl(this.name)(S,Y,ne)},gap:function(S){return.8*m(S)}}),w("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(S,k,F,H,W,Y,Q){var ne=p(f(this.points,F+2*Q,H,W)),se=p(f(this.pointsTee,F+2*Q,H,W));return Vr(S,k,ne)||Vr(S,k,se)},draw:function(S,k,F,H,W){var Y=f(this.points,k,F,H),Q=f(this.pointsTee,k,F,H);o.arrowShapeImpl(this.name)(S,Y,Q)}}),w("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(S,k,F,H,W,Y,Q){var ne=W,se=Math.pow(ne.x-S,2)+Math.pow(ne.y-k,2)<=Math.pow((F+2*Q)*this.radius,2),le=p(f(this.points,F+2*Q,H,W));return Vr(S,k,le)||se},draw:function(S,k,F,H,W){var Y=f(this.pointsTr,k,F,H);o.arrowShapeImpl(this.name)(S,Y,H.x,H.y,this.radius*k)},spacing:function(S){return o.getArrowWidth(S.pstyle("width").pfValue,S.pstyle("arrow-scale").value)*this.radius}}),w("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(S,k){var F=this.baseCrossLinePts.slice(),H=k/S;return F[3]=F[3]-H,F[5]=F[5]-H,F},collide:function(S,k,F,H,W,Y,Q){var ne=p(f(this.points,F+2*Q,H,W)),se=p(f(this.crossLinePts(F,Y),F+2*Q,H,W));return Vr(S,k,ne)||Vr(S,k,se)},draw:function(S,k,F,H,W){var Y=f(this.points,k,F,H),Q=f(this.crossLinePts(k,W),k,F,H);o.arrowShapeImpl(this.name)(S,Y,Q)}}),w("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(S){return.525*m(S)}}),w("circle",{radius:.15,collide:function(S,k,F,H,W,Y,Q){var ne=W;return Math.pow(ne.x-S,2)+Math.pow(ne.y-k,2)<=Math.pow((F+2*Q)*this.radius,2)},draw:function(S,k,F,H,W){o.arrowShapeImpl(this.name)(S,H.x,H.y,this.radius*k)},spacing:function(S){return o.getArrowWidth(S.pstyle("width").pfValue,S.pstyle("arrow-scale").value)*this.radius}}),w("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(S){return 1},gap:function(S){return 1}}),w("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),w("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(S){return S.pstyle("width").pfValue*S.pstyle("arrow-scale").value}}),w("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(S){return.95*S.pstyle("width").pfValue*S.pstyle("arrow-scale").value}})}},jl={projectIntoViewport:function(c,o){var l=this.cy,d=this.findContainerClientCoords(),f=d[0],p=d[1],m=d[4],w=l.pan(),T=l.zoom();return[((c-f)/m-w.x)/T,((o-p)/m-w.y)/T]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var c=this.container,o=c.getBoundingClientRect(),l=z.getComputedStyle(c),d=function(se){return parseFloat(l.getPropertyValue(se))},f_left=d("padding-left"),f_right=d("padding-right"),f_top=d("padding-top"),f_bottom=d("padding-bottom"),p_left=d("border-left-width"),p_right=d("border-right-width"),p_top=d("border-top-width"),m=(d("border-bottom-width"),c.clientWidth);return this.containerBB=[o.left+f_left+p_left,o.top+f_top+p_top,m-(f_left+f_right),c.clientHeight-(f_top+f_bottom),o.width/(m+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(c,o,l,d){return this.findNearestElements(c,o,l,d)[0]},findNearestElements:function(c,o,l,d){var Y,Q,f=this,p=this,m=p.getCachedZSortedEles(),w=[],T=p.cy.zoom(),S=p.cy.hasCompoundNodes(),k=(d?24:8)/T,F=(d?8:2)/T,H=(d?8:2)/T,W=1/0;function ne(me,De){if(me.isNode()){if(Q)return;Q=me,w.push(me)}if(me.isEdge()&&(null==De||De<W))if(Y){if(Y.pstyle("z-compound-depth").value===me.pstyle("z-compound-depth").value&&Y.pstyle("z-compound-depth").value===me.pstyle("z-compound-depth").value)for(var ve=0;ve<w.length;ve++)if(w[ve].isEdge()){w[ve]=me,Y=me,W=De??W;break}}else w.push(me),Y=me,W=De??W}function se(me){var De=me.outerWidth()+2*F,ve=me.outerHeight()+2*F,Re=De/2,Oe=ve/2,Ee=me.position();if(Ee.x-Re<=c&&c<=Ee.x+Re&&Ee.y-Oe<=o&&o<=Ee.y+Oe&&p.nodeShapes[f.getNodeShape(me)].checkPoint(c,o,0,De,ve,Ee.x,Ee.y))return ne(me,0),!0}function le(me){var Qe,De=me._private,ve=De.rscratch,Re=me.pstyle("width").pfValue,Oe=me.pstyle("arrow-scale").value,Ee=Re/2+k,He=Ee*Ee,Ie=2*Ee,nt=De.source,ot=De.target;if("segments"===ve.edgeType||"straight"===ve.edgeType||"haystack"===ve.edgeType){for(var Ge=ve.allpts,We=0;We+3<Ge.length;We+=2)if(bd(c,o,Ge[We],Ge[We+1],Ge[We+2],Ge[We+3],Ie)&&He>(Qe=Yp(c,o,Ge[We],Ge[We+1],Ge[We+2],Ge[We+3])))return ne(me,Qe),!0}else if("bezier"===ve.edgeType||"multibezier"===ve.edgeType||"self"===ve.edgeType||"compound"===ve.edgeType)for(Ge=ve.allpts,We=0;We+5<ve.allpts.length;We+=4)if(su(c,o,Ge[We],Ge[We+1],Ge[We+2],Ge[We+3],Ge[We+4],Ge[We+5],Ie)&&He>(Qe=_d(c,o,Ge[We],Ge[We+1],Ge[We+2],Ge[We+3],Ge[We+4],Ge[We+5])))return ne(me,Qe),!0;nt=nt||De.source,ot=ot||De.target;var dt=f.getArrowWidth(Re,Oe),it=[{name:"source",x:ve.arrowStartX,y:ve.arrowStartY,angle:ve.srcArrowAngle},{name:"target",x:ve.arrowEndX,y:ve.arrowEndY,angle:ve.tgtArrowAngle},{name:"mid-source",x:ve.midX,y:ve.midY,angle:ve.midsrcArrowAngle},{name:"mid-target",x:ve.midX,y:ve.midY,angle:ve.midtgtArrowAngle}];for(We=0;We<it.length;We++){var rt=it[We],Et=p.arrowShapes[me.pstyle(rt.name+"-arrow-shape").value],Dt=me.pstyle("width").pfValue;if(Et.roughCollide(c,o,dt,rt.angle,{x:rt.x,y:rt.y},Dt,k)&&Et.collide(c,o,dt,rt.angle,{x:rt.x,y:rt.y},Dt,k))return ne(me),!0}S&&w.length>0&&(se(nt),se(ot))}function ce(me,De,ve){return Ao(me,De,ve)}function pe(me,De){var Oe,ve=me._private,Re=H;Oe=De?De+"-":"",me.boundingBox();var Ee=ve.labelBounds[De||"main"],He=me.pstyle(Oe+"label").value;if("yes"===me.pstyle("text-events").strValue&&He){var Qe=ce(ve.rscratch,"labelX",De),Ge=ce(ve.rscratch,"labelY",De),We=ce(ve.rscratch,"labelAngle",De),nt=me.pstyle(Oe+"text-margin-x").pfValue,ot=me.pstyle(Oe+"text-margin-y").pfValue,dt=Ee.x1-Re-nt,it=Ee.x2+Re-nt,rt=Ee.y1-Re-ot,Et=Ee.y2+Re-ot;if(We){var Dt=Math.cos(We),yt=Math.sin(We),gt=function(Nn,Ht){return{x:(Nn-=Qe)*Dt-(Ht-=Ge)*yt+Qe,y:Nn*yt+Ht*Dt+Ge}},tt=gt(dt,rt),Ct=gt(dt,Et),Tt=gt(it,rt),Pt=gt(it,Et);if(Vr(c,o,[tt.x+nt,tt.y+ot,Tt.x+nt,Tt.y+ot,Pt.x+nt,Pt.y+ot,Ct.x+nt,Ct.y+ot]))return ne(me),!0}else if(Oo(Ee,c,o))return ne(me),!0}}l&&(m=m.interactive);for(var Me=m.length-1;Me>=0;Me--){var Ae=m[Me];Ae.isNode()?se(Ae)||pe(Ae):le(Ae)||pe(Ae)||pe(Ae,"source")||pe(Ae,"target")}return w},getAllInBox:function(c,o,l,d){for(var f=this.getCachedZSortedEles().interactive,p=[],m=Math.min(c,l),w=Math.max(c,l),T=Math.min(o,d),S=Math.max(o,d),k=Kr({x1:c=m,y1:o=T,x2:l=w,y2:d=S}),F=0;F<f.length;F++){var H=f[F];if(H.isNode()){var W=H,Y=W.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});ao(k,Y)&&!Yo(Y,k)&&p.push(W)}else{var Q=H,ne=Q._private,se=ne.rscratch;if(null!=se.startX&&null!=se.startY&&!Oo(k,se.startX,se.startY)||null!=se.endX&&null!=se.endY&&!Oo(k,se.endX,se.endY))continue;if("bezier"===se.edgeType||"multibezier"===se.edgeType||"self"===se.edgeType||"compound"===se.edgeType||"segments"===se.edgeType||"haystack"===se.edgeType){for(var le=ne.rstyle.bezierPts||ne.rstyle.linePts||ne.rstyle.haystackPts,ce=!0,pe=0;pe<le.length;pe++)if(!iu(k,le[pe])){ce=!1;break}ce&&p.push(Q)}else("haystack"===se.edgeType||"straight"===se.edgeType)&&p.push(Q)}}return p}},Tm={calculateArrowAngles:function(c){var T,S,k,F,H,W,o=c._private.rscratch,l="haystack"===o.edgeType,d="bezier"===o.edgeType,f="multibezier"===o.edgeType,p="segments"===o.edgeType,m="compound"===o.edgeType,w="self"===o.edgeType;l?(k=o.haystackPts[0],F=o.haystackPts[1],H=o.haystackPts[2],W=o.haystackPts[3]):(k=o.arrowStartX,F=o.arrowStartY,H=o.arrowEndX,W=o.arrowEndY),se=o.midX,le=o.midY,p?(T=k-o.segpts[0],S=F-o.segpts[1]):f||m||w||d?(T=k-dr((Y=o.allpts)[0],Y[2],Y[4],.1),S=F-dr(Y[1],Y[3],Y[5],.1)):(T=k-se,S=F-le),o.srcArrowAngle=Hr(T,S);var se=o.midX,le=o.midY;if(l&&(se=(k+H)/2,le=(F+W)/2),T=H-k,S=W-F,p)if((Y=o.allpts).length/2%2==0)T=Y[ce=Y.length/2]-Y[pe=ce-2],S=Y[ce+1]-Y[pe+1];else{var ce,pe,Me=2+(ce=Y.length/2-1);T=Y[ce]-Y[pe=ce-2],S=Y[ce+1]-Y[pe+1]}else if(f||m||w){var me,De,ve,Re,Ee,Oe,He,Y=o.allpts;o.ctrlpts.length/2%2==0?(me=dr(Y[Oe=Y.length/2-1],Y[Ee=Oe+2],Y[He=Ee+2],0),De=dr(Y[Oe+1],Y[Ee+1],Y[He+1],0),ve=dr(Y[Oe],Y[Ee],Y[He],1e-4),Re=dr(Y[Oe+1],Y[Ee+1],Y[He+1],1e-4)):(me=dr(Y[Oe=(Ee=Y.length/2-1)-2],Y[Ee],Y[He=Ee+2],.4999),De=dr(Y[Oe+1],Y[Ee+1],Y[He+1],.4999),ve=dr(Y[Oe],Y[Ee],Y[He],.5),Re=dr(Y[Oe+1],Y[Ee+1],Y[He+1],.5)),T=ve-me,S=Re-De}if(o.midtgtArrowAngle=Hr(T,S),o.midDispX=T,o.midDispY=S,T*=-1,S*=-1,p&&(Y=o.allpts).length/2%2!=0&&(T=-(Y[Me=2+(ce=Y.length/2-1)]-Y[ce]),S=-(Y[Me+1]-Y[ce+1])),o.midsrcArrowAngle=Hr(T,S),p)T=H-o.segpts[o.segpts.length-2],S=W-o.segpts[o.segpts.length-1];else if(f||m||w||d){var Ie=(Y=o.allpts).length;T=H-dr(Y[Ie-6],Y[Ie-4],Y[Ie-2],.9),S=W-dr(Y[Ie-5],Y[Ie-3],Y[Ie-1],.9)}else T=H-se,S=W-le;o.tgtArrowAngle=Hr(T,S)}};Tm.getArrowWidth=Tm.getArrowHeight=function(c,o){var l=this.arrowWidthCache=this.arrowWidthCache||{},d=l[c+", "+o];return d||(d=Math.max(Math.pow(13.37*c,.9),29)*o,l[c+", "+o]=d,d)};var Ps={};function Iy(c){var o=[];if(null!=c){for(var l=0;l<c.length;l+=2)o.push({x:c[l],y:c[l+1]});return o}}Ps.findHaystackPoints=function(c){for(var o=0;o<c.length;o++){var l=c[o],d=l._private,f=d.rscratch;if(!f.haystack){var p=2*Math.random()*Math.PI;f.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,f.target={x:Math.cos(p),y:Math.sin(p)}}var m=d.source,w=d.target,T=m.position(),S=w.position(),k=m.width(),F=w.width(),H=m.height(),W=w.height(),Q=l.pstyle("haystack-radius").value/2;f.haystackPts=f.allpts=[f.source.x*k*Q+T.x,f.source.y*H*Q+T.y,f.target.x*F*Q+S.x,f.target.y*W*Q+S.y],f.midX=(f.allpts[0]+f.allpts[2])/2,f.midY=(f.allpts[1]+f.allpts[3])/2,f.edgeType="haystack",f.haystack=!0,this.storeEdgeProjections(l),this.calculateArrowAngles(l),this.recalculateEdgeLabelProjections(l),this.calculateLabelAngles(l)}},Ps.findSegmentsPoints=function(c,o){var l=c._private.rscratch,d=o.posPts,f=o.intersectionPts,p=o.vectorNormInverse,m=c.pstyle("edge-distances").value,w=c.pstyle("segment-weights"),T=c.pstyle("segment-distances"),S=Math.min(w.pfValue.length,T.pfValue.length);l.edgeType="segments",l.segpts=[];for(var k=0;k<S;k++){var F=w.pfValue[k],H=T.pfValue[k],W=1-F,Q="node-position"===m?d:f,ne={x:Q.x1*W+Q.x2*F,y:Q.y1*W+Q.y2*F};l.segpts.push(ne.x+p.x*H,ne.y+p.y*H)}},Ps.findLoopPoints=function(c,o,l,d){var f=c._private.rscratch,p=o.dirCounts,m=o.srcPos,w=c.pstyle("control-point-distances"),T=w?w.pfValue[0]:void 0,S=c.pstyle("loop-direction").pfValue,k=c.pstyle("loop-sweep").pfValue,F=c.pstyle("control-point-step-size").pfValue;f.edgeType="self";var H=l,W=F;d&&(H=0,W=T);var Y=S-Math.PI/2,Q=Y-k/2,ne=Y+k/2,se=String(S+"_"+k);H=void 0===p[se]?p[se]=0:++p[se],f.ctrlpts=[m.x+1.4*Math.cos(Q)*W*(H/3+1),m.y+1.4*Math.sin(Q)*W*(H/3+1),m.x+1.4*Math.cos(ne)*W*(H/3+1),m.y+1.4*Math.sin(ne)*W*(H/3+1)]},Ps.findCompoundLoopPoints=function(c,o,l,d){var f=c._private.rscratch;f.edgeType="compound";var p=o.srcPos,m=o.tgtPos,w=o.srcW,T=o.srcH,S=o.tgtW,k=o.tgtH,F=c.pstyle("control-point-step-size").pfValue,H=c.pstyle("control-point-distances"),Y=l,Q=F;d&&(Y=0,Q=H?H.pfValue[0]:void 0);var se={x:p.x-w/2,y:p.y-T/2},le={x:m.x-S/2,y:m.y-k/2},ce={x:Math.min(se.x,le.x),y:Math.min(se.y,le.y)},Me=Math.max(.5,Math.log(.01*w)),Ae=Math.max(.5,Math.log(.01*S));f.ctrlpts=[ce.x,ce.y-(1+Math.pow(50,1.12)/100)*Q*(Y/3+1)*Me,ce.x-(1+Math.pow(50,1.12)/100)*Q*(Y/3+1)*Ae,ce.y]},Ps.findStraightEdgePoints=function(c){c._private.rscratch.edgeType="straight"},Ps.findBezierPoints=function(c,o,l,d,f){var p=c._private.rscratch,m=o.vectorNormInverse,w=o.posPts,T=o.intersectionPts,S=c.pstyle("edge-distances").value,k=c.pstyle("control-point-step-size").pfValue,F=c.pstyle("control-point-distances"),H=c.pstyle("control-point-weights"),W=F&&H?Math.min(F.value.length,H.value.length):1,Y=F?F.pfValue[0]:void 0,Q=H.value[0],ne=d;p.edgeType=ne?"multibezier":"bezier",p.ctrlpts=[];for(var se=0;se<W;se++){var ce,le=(.5-o.eles.length/2+l)*k*(f?-1:1),pe=bi(le);ne&&(Y=F?F.pfValue[se]:k,Q=H.value[se]);var Me=void 0!==(ce=d?Y:void 0!==Y?pe*Y:void 0)?ce:le,Ae=1-Q,De="node-position"===S?w:T,ve={x:De.x1*Ae+De.x2*Q,y:De.y1*Ae+De.y2*Q};p.ctrlpts.push(ve.x+m.x*Me,ve.y+m.y*Me)}},Ps.findTaxiPoints=function(c,o){var l=c._private.rscratch;l.edgeType="segments";var d="vertical",f="horizontal",p="leftward",m="rightward",w="downward",T="upward",k=o.posPts,F=o.srcW,H=o.srcH,W=o.tgtW,Y=o.tgtH,ne="node-position"!==c.pstyle("edge-distances").value,se=c.pstyle("taxi-direction").value,le=se,ce=c.pstyle("taxi-turn"),pe="%"===ce.units,Me=ce.pfValue,Ae=Me<0,me=c.pstyle("taxi-turn-min-distance").pfValue,ve=ne?(H+Y)/2:0,Re=k.x2-k.x1,Oe=k.y2-k.y1,Ee=function(an,Qn){return an>0?Math.max(an-Qn,0):Math.min(an+Qn,0)},He=Ee(Re,ne?(F+W)/2:0),Ie=Ee(Oe,ve),Qe=!1;"auto"===le?se=Math.abs(He)>Math.abs(Ie)?f:d:le===T||le===w?(se=d,Qe=!0):(le===p||le===m)&&(se=f,Qe=!0);var it,Ge=se===d,We=Ge?Ie:He,nt=Ge?Oe:Re,ot=bi(nt),dt=!1;(!Qe||!pe&&!Ae)&&(le===w&&nt<0||le===T&&nt>0||le===p&&nt>0||le===m&&nt<0)&&(We=(ot*=-1)*Math.abs(We),dt=!0);var Dt=function(an){return Math.abs(an)<me||Math.abs(an)>=Math.abs(We)},yt=Dt(it=pe?(Me<0?1+Me:Me)*We:(Me<0?We:0)+Me*ot),gt=Dt(Math.abs(We)-Math.abs(it));if(!yt&&!gt||dt)if(Ge){var be=k.y1+it+(ne?H/2*ot:0);l.segpts=[k.x1,be,k.x2,be]}else{var mt=k.x1+it+(ne?F/2*ot:0);l.segpts=[mt,k.y1,mt,k.y2]}else if(Ge){var Ct=Math.abs(nt)<=H/2,Tt=Math.abs(Re)<=W/2;if(Ct){var Pt=(k.x1+k.x2)/2;l.segpts=[Pt,k.y1,Pt,k.y2]}else if(Tt){var Nn=(k.y1+k.y2)/2;l.segpts=[k.x1,Nn,k.x2,Nn]}else l.segpts=[k.x1,k.y2]}else{var gn=Math.abs(nt)<=F/2,sn=Math.abs(Oe)<=Y/2;if(gn){var Ut=(k.y1+k.y2)/2;l.segpts=[k.x1,Ut,k.x2,Ut]}else if(sn){var On=(k.x1+k.x2)/2;l.segpts=[On,k.y1,On,k.y2]}else l.segpts=[k.x2,k.y1]}},Ps.tryToCorrectInvalidPoints=function(c,o){var l=c._private.rscratch;if("bezier"===l.edgeType){var d=o.srcPos,f=o.tgtPos,p=o.srcW,m=o.srcH,w=o.tgtW,T=o.tgtH,S=o.srcShape,k=o.tgtShape,F=!ge(l.startX)||!ge(l.startY),H=!ge(l.arrowStartX)||!ge(l.arrowStartY),W=!ge(l.endX)||!ge(l.endY),Y=!ge(l.arrowEndX)||!ge(l.arrowEndY),se=this.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,le=$r({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.startX,y:l.startY}),ce=le<se,pe=$r({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.endX,y:l.endY}),Me=pe<se,Ae=!1;if(F||H||ce){Ae=!0;var me={x:l.ctrlpts[0]-d.x,y:l.ctrlpts[1]-d.y},De=Math.sqrt(me.x*me.x+me.y*me.y),ve={x:me.x/De,y:me.y/De},Re=Math.max(p,m),Oe={x:l.ctrlpts[0]+2*ve.x*Re,y:l.ctrlpts[1]+2*ve.y*Re},Ee=S.intersectLine(d.x,d.y,p,m,Oe.x,Oe.y,0);ce?(l.ctrlpts[0]=l.ctrlpts[0]+ve.x*(se-le),l.ctrlpts[1]=l.ctrlpts[1]+ve.y*(se-le)):(l.ctrlpts[0]=Ee[0]+ve.x*se,l.ctrlpts[1]=Ee[1]+ve.y*se)}if(W||Y||Me){Ae=!0;var He={x:l.ctrlpts[0]-f.x,y:l.ctrlpts[1]-f.y},Ie=Math.sqrt(He.x*He.x+He.y*He.y),Qe={x:He.x/Ie,y:He.y/Ie},Ge=Math.max(p,m),We={x:l.ctrlpts[0]+2*Qe.x*Ge,y:l.ctrlpts[1]+2*Qe.y*Ge},nt=k.intersectLine(f.x,f.y,w,T,We.x,We.y,0);Me?(l.ctrlpts[0]=l.ctrlpts[0]+Qe.x*(se-pe),l.ctrlpts[1]=l.ctrlpts[1]+Qe.y*(se-pe)):(l.ctrlpts[0]=nt[0]+Qe.x*se,l.ctrlpts[1]=nt[1]+Qe.y*se)}Ae&&this.findEndpoints(c)}},Ps.storeAllpts=function(c){var o=c._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var l=0;l+1<o.ctrlpts.length;l+=2)o.allpts.push(o.ctrlpts[l],o.ctrlpts[l+1]),l+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[l]+o.ctrlpts[l+2])/2,(o.ctrlpts[l+1]+o.ctrlpts[l+3])/2);var d;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[d=o.allpts.length/2-1],o.midY=o.allpts[d+1]):(o.midX=dr(o.allpts[d=o.allpts.length/2-3],o.allpts[d+2],o.allpts[d+4],.5),o.midY=dr(o.allpts[d+1],o.allpts[d+3],o.allpts[d+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var p=o.segpts.length/2,m=p-2;o.midX=(o.segpts[m]+o.segpts[p])/2,o.midY=(o.segpts[m+1]+o.segpts[p+1])/2}else{var w=o.segpts.length/2-1;o.midX=o.segpts[w],o.midY=o.segpts[w+1]}},Ps.checkForInvalidEdgeWarning=function(c){var o=c[0]._private.rscratch;o.nodesOverlap||ge(o.startX)&&ge(o.startY)&&ge(o.endX)&&ge(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,wr("Edge `"+c.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Ps.findEdgeControlPoints=function(c){var o=this;if(c&&0!==c.length){for(var l=this,f=l.cy.hasCompoundNodes(),p={map:new As,get:function(me){var De=this.map.get(me[0]);return null!=De?De.get(me[1]):null},set:function(me,De){var ve=this.map.get(me[0]);null==ve&&(ve=new As,this.map.set(me[0],ve)),ve.set(me[1],De)}},m=[],w=[],T=0;T<c.length;T++){var S=c[T],k=S._private,F=S.pstyle("curve-style").value;if(!S.removed()&&S.takesUpSpace()){if("haystack"===F){w.push(S);continue}var H="unbundled-bezier"===F||"segments"===F||"straight"===F||"straight-triangle"===F||"taxi"===F,W="unbundled-bezier"===F||"bezier"===F,Q=k.target,le=[k.source.poolIndex(),Q.poolIndex()].sort(),ce=p.get(le);null==ce&&(p.set(le,ce={eles:[]}),m.push(le)),ce.eles.push(S),H&&(ce.hasUnbundled=!0),W&&(ce.hasBezier=!0)}}for(var pe=function(me){var ve=p.get(m[me]),Re=void 0;if(!ve.hasUnbundled){var Oe=ve.eles[0].parallelEdges().filter(function(Rt){return Rt.isBundledBezier()});vd(ve.eles),Oe.forEach(function(Rt){return ve.eles.push(Rt)}),ve.eles.sort(function(Rt,be){return Rt.poolIndex()-be.poolIndex()})}var Ee=ve.eles[0],He=Ee.source(),Ie=Ee.target();if(He.poolIndex()>Ie.poolIndex()){var Qe=He;He=Ie,Ie=Qe}var Ge=ve.srcPos=He.position(),We=ve.tgtPos=Ie.position(),nt=ve.srcW=He.outerWidth(),ot=ve.srcH=He.outerHeight(),dt=ve.tgtW=Ie.outerWidth(),it=ve.tgtH=Ie.outerHeight(),rt=ve.srcShape=l.nodeShapes[o.getNodeShape(He)],Et=ve.tgtShape=l.nodeShapes[o.getNodeShape(Ie)];ve.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Dt=0;Dt<ve.eles.length;Dt++){var yt=ve.eles[Dt],gt=yt[0]._private.rscratch,tt=yt.pstyle("curve-style").value,Ct="unbundled-bezier"===tt||"segments"===tt||"taxi"===tt,Tt=!He.same(yt.source());if(!ve.calculatedIntersection&&He!==Ie&&(ve.hasBezier||ve.hasUnbundled)){ve.calculatedIntersection=!0;var Pt=rt.intersectLine(Ge.x,Ge.y,nt,ot,We.x,We.y,0),Vt=ve.srcIntn=Pt,Cn=Et.intersectLine(We.x,We.y,dt,it,Ge.x,Ge.y,0),Nn=ve.tgtIntn=Cn,Ht=ve.intersectionPts={x1:Pt[0],x2:Cn[0],y1:Pt[1],y2:Cn[1]},Ft=ve.posPts={x1:Ge.x,x2:We.x,y1:Ge.y,y2:We.y},gn=Cn[1]-Pt[1],sn=Cn[0]-Pt[0],Ut=Math.sqrt(sn*sn+gn*gn),hn=ve.vector={x:sn,y:gn},Kn=ve.vectorNorm={x:hn.x/Ut,y:hn.y/Ut},On={x:-Kn.y,y:Kn.x};ve.nodesOverlap=!ge(Ut)||Et.checkPoint(Pt[0],Pt[1],0,dt,it,We.x,We.y)||rt.checkPoint(Cn[0],Cn[1],0,nt,ot,Ge.x,Ge.y),ve.vectorNormInverse=On,Re={nodesOverlap:ve.nodesOverlap,dirCounts:ve.dirCounts,calculatedIntersection:!0,hasBezier:ve.hasBezier,hasUnbundled:ve.hasUnbundled,eles:ve.eles,srcPos:We,tgtPos:Ge,srcW:dt,srcH:it,tgtW:nt,tgtH:ot,srcIntn:Nn,tgtIntn:Vt,srcShape:Et,tgtShape:rt,posPts:{x1:Ft.x2,y1:Ft.y2,x2:Ft.x1,y2:Ft.y1},intersectionPts:{x1:Ht.x2,y1:Ht.y2,x2:Ht.x1,y2:Ht.y1},vector:{x:-hn.x,y:-hn.y},vectorNorm:{x:-Kn.x,y:-Kn.y},vectorNormInverse:{x:-On.x,y:-On.y}}}var yn=Tt?Re:ve;gt.nodesOverlap=yn.nodesOverlap,gt.srcIntn=yn.srcIntn,gt.tgtIntn=yn.tgtIntn,f&&(He.isParent()||He.isChild()||Ie.isParent()||Ie.isChild())&&(He.parents().anySame(Ie)||Ie.parents().anySame(He)||He.same(Ie)&&He.isParent())?o.findCompoundLoopPoints(yt,yn,Dt,Ct):He===Ie?o.findLoopPoints(yt,yn,Dt,Ct):"segments"===tt?o.findSegmentsPoints(yt,yn):"taxi"===tt?o.findTaxiPoints(yt,yn):"straight"===tt||!Ct&&ve.eles.length%2==1&&Dt===Math.floor(ve.eles.length/2)?o.findStraightEdgePoints(yt):o.findBezierPoints(yt,yn,Dt,Ct,Tt),o.findEndpoints(yt),o.tryToCorrectInvalidPoints(yt,yn),o.checkForInvalidEdgeWarning(yt),o.storeAllpts(yt),o.storeEdgeProjections(yt),o.calculateArrowAngles(yt),o.recalculateEdgeLabelProjections(yt),o.calculateLabelAngles(yt)}},Me=0;Me<m.length;Me++)pe(Me);this.findHaystackPoints(w)}},Ps.getSegmentPoints=function(c){var o=c[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(c),Iy(o.segpts)},Ps.getControlPoints=function(c){var o=c[0]._private.rscratch,l=o.edgeType;if("bezier"===l||"multibezier"===l||"self"===l||"compound"===l)return this.recalculateRenderedStyle(c),Iy(o.ctrlpts)},Ps.getEdgeMidpoint=function(c){var o=c[0]._private.rscratch;return this.recalculateRenderedStyle(c),{x:o.midX,y:o.midY}};var kc={manualEndptToPx:function(c,o){var d=c.position(),f=c.outerWidth(),p=c.outerHeight();if(2===o.value.length){var m=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(m[0]=m[0]*f),"%"===o.units[1]&&(m[1]=m[1]*p),m[0]+=d.x,m[1]+=d.y,m}var w=o.pfValue[0];w=-Math.PI/2+w;var T=2*Math.max(f,p),S=[d.x+Math.cos(w)*T,d.y+Math.sin(w)*T];return this.nodeShapes[this.getNodeShape(c)].intersectLine(d.x,d.y,f,p,S[0],S[1],0)},findEndpoints:function(c){var l,Re,Oe,Ee,He,o=this,d=c.source()[0],f=c.target()[0],p=d.position(),m=f.position(),w=c.pstyle("target-arrow-shape").value,T=c.pstyle("source-arrow-shape").value,S=c.pstyle("target-distance-from-node").pfValue,k=c.pstyle("source-distance-from-node").pfValue,F=c.pstyle("curve-style").value,H=c._private.rscratch,W=H.edgeType,Q="self"===W||"compound"===W,ne="bezier"===W||"multibezier"===W||Q,se="bezier"!==W,le="straight"===W||"segments"===W,ce="segments"===W,pe=ne||se||le,Me=Q||"taxi"===F,Ae=c.pstyle("source-endpoint"),me=Me?"outside-to-node":Ae.value,De=c.pstyle("target-endpoint"),ve=Me?"outside-to-node":De.value;if(H.srcManEndpt=Ae,H.tgtManEndpt=De,ne){var Ie=[H.ctrlpts[0],H.ctrlpts[1]];Re=se?[H.ctrlpts[H.ctrlpts.length-2],H.ctrlpts[H.ctrlpts.length-1]]:Ie,Oe=Ie}else if(le){var Ge=ce?H.segpts.slice(0,2):[m.x,m.y];Re=ce?H.segpts.slice(H.segpts.length-2):[p.x,p.y],Oe=Ge}if("inside-to-node"===ve)l=[m.x,m.y];else if(De.units)l=this.manualEndptToPx(f,De);else if("outside-to-line"===ve)l=H.tgtIntn;else if("outside-to-node"===ve||"outside-to-node-or-label"===ve?Ee=Re:("outside-to-line"===ve||"outside-to-line-or-label"===ve)&&(Ee=[p.x,p.y]),l=o.nodeShapes[this.getNodeShape(f)].intersectLine(m.x,m.y,f.outerWidth(),f.outerHeight(),Ee[0],Ee[1],0),"outside-to-node-or-label"===ve||"outside-to-line-or-label"===ve){var nt=f._private.rscratch,it=nt.labelX,rt=nt.labelY,Et=nt.labelWidth/2,Dt=nt.labelHeight/2,yt=f.pstyle("text-valign").value;"top"===yt?rt-=Dt:"bottom"===yt&&(rt+=Dt);var gt=f.pstyle("text-halign").value;"left"===gt?it-=Et:"right"===gt&&(it+=Et);var tt=Il(Ee[0],Ee[1],[it-Et,rt-Dt,it+Et,rt-Dt,it+Et,rt+Dt,it-Et,rt+Dt],m.x,m.y);if(tt.length>0){var Ct=p,Tt=Pr(Ct,ir(l)),Pt=Pr(Ct,ir(tt)),Vt=Tt;Pt<Tt&&(l=tt,Vt=Pt),tt.length>2&&Pr(Ct,{x:tt[2],y:tt[3]})<Vt&&(l=[tt[2],tt[3]])}}var Nn=yc(l,Re,o.arrowShapes[w].spacing(c)+S),Ht=yc(l,Re,o.arrowShapes[w].gap(c)+S);if(H.endX=Ht[0],H.endY=Ht[1],H.arrowEndX=Nn[0],H.arrowEndY=Nn[1],"inside-to-node"===me)l=[p.x,p.y];else if(Ae.units)l=this.manualEndptToPx(d,Ae);else if("outside-to-line"===me)l=H.srcIntn;else if("outside-to-node"===me||"outside-to-node-or-label"===me?He=Oe:("outside-to-line"===me||"outside-to-line-or-label"===me)&&(He=[m.x,m.y]),l=o.nodeShapes[this.getNodeShape(d)].intersectLine(p.x,p.y,d.outerWidth(),d.outerHeight(),He[0],He[1],0),"outside-to-node-or-label"===me||"outside-to-line-or-label"===me){var Ft=d._private.rscratch,Ut=Ft.labelX,hn=Ft.labelY,Kn=Ft.labelWidth/2,On=Ft.labelHeight/2,yn=d.pstyle("text-valign").value;"top"===yn?hn-=On:"bottom"===yn&&(hn+=On);var Rt=d.pstyle("text-halign").value;"left"===Rt?Ut-=Kn:"right"===Rt&&(Ut+=Kn);var be=Il(He[0],He[1],[Ut-Kn,hn-On,Ut+Kn,hn-On,Ut+Kn,hn+On,Ut-Kn,hn+On],p.x,p.y);if(be.length>0){var lt=m,Ot=Pr(lt,ir(l)),mt=Pr(lt,ir(be)),vt=Ot;mt<Ot&&(l=[be[0],be[1]],vt=mt),be.length>2&&Pr(lt,{x:be[2],y:be[3]})<vt&&(l=[be[2],be[3]])}}var kt=yc(l,Oe,o.arrowShapes[T].spacing(c)+k),an=yc(l,Oe,o.arrowShapes[T].gap(c)+k);H.startX=an[0],H.startY=an[1],H.arrowStartX=kt[0],H.arrowStartY=kt[1],pe&&(H.badLine=!(ge(H.startX)&&ge(H.startY)&&ge(H.endX)&&ge(H.endY)))},getSourceEndpoint:function(c){var o=c[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(c),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(c){var o=c[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(c),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},ky={};function hM(c,o,l){for(var d=function(S,k,F,H){return dr(S,k,F,H)},p=o._private.rstyle.bezierPts,m=0;m<c.bezierProjPcts.length;m++){var w=c.bezierProjPcts[m];p.push({x:d(l[0],l[2],l[4],w),y:d(l[1],l[3],l[5],w)})}}ky.storeEdgeProjections=function(c){var o=c._private,l=o.rscratch,d=l.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===d||"bezier"===d||"self"===d||"compound"===d){o.rstyle.bezierPts=[];for(var f=0;f+5<l.allpts.length;f+=4)hM(this,c,l.allpts.slice(f,f+6))}else if("segments"===d){var p=o.rstyle.linePts=[];for(f=0;f+1<l.allpts.length;f+=2)p.push({x:l.allpts[f],y:l.allpts[f+1]})}else if("haystack"===d){var m=l.haystackPts;o.rstyle.haystackPts=[{x:m[0],y:m[1]},{x:m[2],y:m[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.arrowShapeWidth},ky.recalculateEdgeProjections=function(c){this.findEdgeControlPoints(c)};var Bo={recalculateNodeLabelProjection:function(c){var o=c.pstyle("label").strValue;if(!Ne(o)){var l,d,f=c._private,p=c.width(),m=c.height(),w=c.padding(),T=c.position(),S=c.pstyle("text-halign").strValue,k=c.pstyle("text-valign").strValue,F=f.rscratch,H=f.rstyle;switch(S){case"left":l=T.x-p/2-w;break;case"right":l=T.x+p/2+w;break;default:l=T.x}switch(k){case"top":d=T.y-m/2-w;break;case"bottom":d=T.y+m/2+w;break;default:d=T.y}F.labelX=l,F.labelY=d,H.labelX=l,H.labelY=d,this.calculateLabelAngles(c),this.applyLabelDimensions(c)}}},fw=function(o,l){var d=Math.atan(l/o);return 0===o&&d<0&&(d*=-1),d},pw=function(o,l){return fw(l.x-o.x,l.y-o.y)};Bo.recalculateEdgeLabelProjections=function(c){var o,l=c._private,d=l.rscratch,f=this,p={mid:c.pstyle("label").strValue,source:c.pstyle("source-label").strValue,target:c.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var m=function(F,H,W){Io(l.rscratch,F,H,W),Io(l.rstyle,F,H,W)};m("labelX",null,(o={x:d.midX,y:d.midY}).x),m("labelY",null,o.y);var w=fw(d.midDispX,d.midDispY);m("labelAutoAngle",null,w);var T=function k(){if(k.cache)return k.cache;for(var F=[],H=0;H+5<d.allpts.length;H+=4)F.push({p0:{x:d.allpts[H],y:d.allpts[H+1]},p1:{x:d.allpts[H+2],y:d.allpts[H+3]},p2:{x:d.allpts[H+4],y:d.allpts[H+5]},startDist:0,length:0,segments:[]});var ne=l.rstyle.bezierPts,se=f.bezierProjPcts.length;function le(me,De,ve,Re,Oe){var Ee=$r(De,ve),He=me.segments[me.segments.length-1];me.segments.push({p0:De,p1:ve,t0:Re,t1:Oe,startDist:He?He.startDist+He.length:0,length:Ee}),me.length+=Ee}for(var ce=0;ce<F.length;ce++){var pe=F[ce],Me=F[ce-1];Me&&(pe.startDist=Me.startDist+Me.length),le(pe,pe.p0,ne[ce*se],0,f.bezierProjPcts[0]);for(var Ae=0;Ae<se-1;Ae++)le(pe,ne[ce*se+Ae],ne[ce*se+Ae+1],f.bezierProjPcts[Ae],f.bezierProjPcts[Ae+1]);le(pe,ne[ce*se+se-1],pe.p2,f.bezierProjPcts[se-1],1)}return k.cache=F},S=function(F){var H,W="source"===F;if(p[F]){var Y=c.pstyle(F+"-text-offset").pfValue;switch(d.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var ne,Q=T(),se=0,le=0,ce=0;ce<Q.length;ce++){for(var pe=Q[W?ce:Q.length-1-ce],Me=0;Me<pe.segments.length;Me++){var Ae=pe.segments[W?Me:pe.segments.length-1-Me];if(se=le,(le+=Ae.length)>=Y||ce===Q.length-1&&Me===pe.segments.length-1){ne={cp:pe,segment:Ae};break}}if(ne)break}var De=ne.cp,ve=ne.segment,Re=(Y-se)/ve.length,Oe=ve.t1-ve.t0,Ee=W?ve.t0+Oe*Re:ve.t1-Oe*Re;Ee=En(0,Ee,1),o=oo(De.p0,De.p1,De.p2,Ee),H=function(o,l,d,f){var p=En(0,f-.001,1),m=En(0,f+.001,1),w=oo(o,l,d,p),T=oo(o,l,d,m);return pw(w,T)}(De.p0,De.p1,De.p2,Ee);break;case"straight":case"segments":case"haystack":for(var Ie,Qe,Ge,We,He=0,nt=d.allpts.length,ot=0;ot+3<nt&&(W?(Ge={x:d.allpts[ot],y:d.allpts[ot+1]},We={x:d.allpts[ot+2],y:d.allpts[ot+3]}):(Ge={x:d.allpts[nt-2-ot],y:d.allpts[nt-1-ot]},We={x:d.allpts[nt-4-ot],y:d.allpts[nt-3-ot]}),Qe=He,!((He+=Ie=$r(Ge,We))>=Y));ot+=2);var it=(Y-Qe)/Ie;it=En(0,it,1),o=function(o,l,d,f){var p_x=l.x-o.x,p_y=l.y-o.y,m=$r(o,l);return d=d??0,{x:o.x+p_x/m*(f=f??d*m),y:o.y+p_y/m*f}}(Ge,We,it),H=pw(Ge,We)}m("labelX",F,o.x),m("labelY",F,o.y),m("labelAutoAngle",F,H)}};S("source"),S("target"),this.applyLabelDimensions(c)}},Bo.applyLabelDimensions=function(c){this.applyPrefixedLabelDimensions(c),c.isEdge()&&(this.applyPrefixedLabelDimensions(c,"source"),this.applyPrefixedLabelDimensions(c,"target"))},Bo.applyPrefixedLabelDimensions=function(c,o){var l=c._private,d=this.getLabelText(c,o),f=this.calculateLabelDimensions(c,d),p=c.pstyle("line-height").pfValue,m=c.pstyle("text-wrap").strValue,w=Ao(l.rscratch,"labelWrapCachedLines",o)||[],T="wrap"!==m?1:Math.max(w.length,1),S=f.height/T,k=S*p,F=f.width,H=f.height+(T-1)*(p-1)*S;Io(l.rstyle,"labelWidth",o,F),Io(l.rscratch,"labelWidth",o,F),Io(l.rstyle,"labelHeight",o,H),Io(l.rscratch,"labelHeight",o,H),Io(l.rscratch,"labelLineHeight",o,k)},Bo.getLabelText=function(c,o){var l=c._private,f=c.pstyle((o?o+"-":"")+"label").strValue,p=c.pstyle("text-transform").value,m=function(dt,it){return it?(Io(l.rscratch,dt,o,it),it):Ao(l.rscratch,dt,o)};if(!f)return"";"none"==p||("uppercase"==p?f=f.toUpperCase():"lowercase"==p&&(f=f.toLowerCase()));var w=c.pstyle("text-wrap").value;if("wrap"===w){var T=m("labelKey");if(null!=T&&m("labelWrapKey")===T)return m("labelWrapCachedText");for(var k=f.split("\n"),F=c.pstyle("text-max-width").pfValue,W="anywhere"===c.pstyle("text-overflow-wrap").value,Y=[],Q=/[\s\u200b]+/,ne=W?"":" ",se=0;se<k.length;se++){var le=k[se],pe=this.calculateLabelDimensions(c,le).width;if(W){var Me=le.split("").join("\u200b");le=Me}if(pe>F){for(var Ae=le.split(Q),me="",De=0;De<Ae.length;De++){var ve=Ae[De];this.calculateLabelDimensions(c,0===me.length?ve:me+ne+ve).width<=F?me+=ve+ne:(me&&Y.push(me),me=ve+ne)}me.match(/^[\s\u200b]+$/)||Y.push(me)}else Y.push(le)}m("labelWrapCachedLines",Y),f=m("labelWrapCachedText",Y.join("\n")),m("labelWrapKey",T)}else if("ellipsis"===w){var He=c.pstyle("text-max-width").pfValue,Ie="",Ge=!1;if(this.calculateLabelDimensions(c,f).width<He)return f;for(var We=0;We<f.length&&!(this.calculateLabelDimensions(c,Ie+f[We]+"\u2026").width>He);We++)Ie+=f[We],We===f.length-1&&(Ge=!0);return Ge||(Ie+="\u2026"),Ie}return f},Bo.getLabelJustification=function(c){var o=c.pstyle("text-justification").strValue,l=c.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!c.isNode())return"center";switch(l){case"left":return"right";case"right":return"left";default:return"center"}},Bo.calculateLabelDimensions=function(c,o){var d=Ga(o,c._private.labelDimsKey),f=this.labelDimCache||(this.labelDimCache=[]),p=f[d];if(null!=p)return p;var w=c.pstyle("font-style").strValue,T=c.pstyle("font-size").pfValue,S=c.pstyle("font-family").strValue,k=c.pstyle("font-weight").strValue,F=this.labelCalcCanvas,H=this.labelCalcCanvasContext;if(!F){F=this.labelCalcCanvas=document.createElement("canvas"),H=this.labelCalcCanvasContext=F.getContext("2d");var W=F.style;W.position="absolute",W.left="-9999px",W.top="-9999px",W.zIndex="-1",W.visibility="hidden",W.pointerEvents="none"}H.font="".concat(w," ").concat(k," ").concat(T,"px ").concat(S);for(var Y=0,Q=0,ne=o.split("\n"),se=0;se<ne.length;se++){var ce=H.measureText(ne[se]),pe=Math.ceil(ce.width),Me=T;Y=Math.max(pe,Y),Q+=Me}return f[d]={width:Y+=0,height:Q+=0}},Bo.calculateLabelAngle=function(c,o){var d=c._private.rscratch,f=c.isEdge(),m=c.pstyle((o?o+"-":"")+"text-rotation"),w=m.strValue;return"none"===w?0:f&&"autorotate"===w?d.labelAutoAngle:"autorotate"===w?0:m.pfValue},Bo.calculateLabelAngles=function(c){var o=this,l=c.isEdge(),f=c._private.rscratch;f.labelAngle=o.calculateLabelAngle(c),l&&(f.sourceLabelAngle=o.calculateLabelAngle(c,"source"),f.targetLabelAngle=o.calculateLabelAngle(c,"target"))};var mw={},Oy=!1;mw.getNodeShape=function(c){var l=c.pstyle("shape").value;if("cutrectangle"===l&&(c.width()<28||c.height()<28))return Oy||(wr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Oy=!0),"rectangle";if(c.isParent())return"rectangle"===l||"roundrectangle"===l||"round-rectangle"===l||"cutrectangle"===l||"cut-rectangle"===l||"barrel"===l?l:"rectangle";if("polygon"===l){var d=c.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(d).name}return l};var Au={updateCachedGrabbedEles:function(){var c=this.cachedZSortedEles;if(c){c.drag=[],c.nondrag=[];for(var o=[],l=0;l<c.length;l++){var f=(d=c[l])._private.rscratch;d.grabbed()&&!d.isParent()?o.push(d):f.inDragLayer?c.drag.push(d):c.nondrag.push(d)}for(l=0;l<o.length;l++){var d;c.drag.push(d=o[l])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(c){if(c||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(qx),o.interactive=o.filter(function(l){return l.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},Am={};[jl,Tm,Ps,kc,ky,Bo,mw,{registerCalculationListeners:function(){var c=this.cy,o=c.collection(),l=this,d=function(m){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(m),w)for(var T=0;T<m.length;T++){var F=m[T]._private.rstyle;F.clean=!1,F.cleanConnected=!1}};l.binder(c).on("bounds.* dirty.*",function(m){d(m.target)}).on("style.* background.*",function(m){d(m.target,!1)});var f=function(m){if(m){var w=l.onUpdateEleCalcsFns;o.cleanStyle();for(var T=0;T<o.length;T++){var S=o[T],k=S._private.rstyle;S.isNode()&&!k.cleanConnected&&(d(S.connectedEdges()),k.cleanConnected=!0)}if(w)for(var F=0;F<w.length;F++)(0,w[F])(m,o);l.recalculateRenderedStyle(o),o=c.collection()}};l.flushRenderedStyleQueue=function(){f(!0)},l.beforeRender(f,l.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(c){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(c)},recalculateRenderedStyle:function(c,o){var l=function(pe){return pe._private.rstyle.cleanConnected},d=[],f=[];if(!this.destroyed){void 0===o&&(o=!0);for(var p=0;p<c.length;p++){var m=c[p],w=m._private,T=w.rstyle;m.isEdge()&&(!l(m.source())||!l(m.target()))&&(T.clean=!1),!(o&&T.clean||m.removed())&&"none"!==m.pstyle("display").value&&("nodes"===w.group?f.push(m):d.push(m),T.clean=!0)}for(var S=0;S<f.length;S++){var k=f[S],H=k._private.rstyle,W=k.position();this.recalculateNodeLabelProjection(k),H.nodeX=W.x,H.nodeY=W.y,H.nodeW=k.pstyle("width").pfValue,H.nodeH=k.pstyle("height").pfValue}this.recalculateEdgeProjections(d);for(var Y=0;Y<d.length;Y++){var ne=d[Y]._private,se=ne.rstyle,le=ne.rscratch;se.srcX=le.arrowStartX,se.srcY=le.arrowStartY,se.tgtX=le.arrowEndX,se.tgtY=le.arrowEndY,se.midX=le.midX,se.midY=le.midY,se.labelAngle=le.labelAngle,se.sourceLabelAngle=le.sourceLabelAngle,se.targetLabelAngle=le.targetLabelAngle}}}},Au].forEach(function(c){Zt(Am,c)});var Im={getCachedImage:function(c,o,l){var f=this.imageCache=this.imageCache||{},p=f[c];if(p)return p.image.complete||p.image.addEventListener("load",l),p.image;var m=(p=f[c]=f[c]||{}).image=new Image;m.addEventListener("load",l),m.addEventListener("error",function(){m.error=!0});var w="data:";return c.substring(0,w.length).toLowerCase()===w||(m.crossOrigin=o),m.src=c,m}},Oc={registerBinding:function(c,o,l,d){var f=Array.prototype.slice.apply(arguments,[1]),p=this.binder(c);return p.on.apply(p,f)},binder:function(c){var o=this,l=c===window||c===document||c===document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(c);if(null==o.supportsPassiveEvents){var d=!1;try{var f=Object.defineProperty({},"passive",{get:function(){return d=!0,!0}});window.addEventListener("test",null,f)}catch{}o.supportsPassiveEvents=d}var p=function(w,T,S){var k=Array.prototype.slice.call(arguments);return l&&o.supportsPassiveEvents&&(k[2]={capture:S??!1,passive:!1,once:!1}),o.bindings.push({target:c,args:k}),(c.addEventListener||c.on).apply(c,k),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(c){return c&&c.isNode()&&!c.locked()&&c.grabbable()},nodeIsGrabbable:function(c){return this.nodeIsDraggable(c)&&c.interactive()}};Oc.load=function(){var c=this,o=function(be){return be.selected()},l=function(be,lt,Ot,mt){null==be&&(be=c.cy);for(var vt=0;vt<lt.length;vt++)be.emit({originalEvent:Ot,type:lt[vt],position:mt})},d=function(be){return be.shiftKey||be.metaKey||be.ctrlKey},f=function(be,lt){var Ot=!0;if(c.cy.hasCompoundNodes()&&be&&be.pannable()){for(var mt=0;lt&&mt<lt.length;mt++)if((be=lt[mt]).isNode()&&be.isParent()&&!be.pannable()){Ot=!1;break}}else Ot=!0;return Ot},w=function(be){be[0]._private.rscratch.inDragLayer=!0},S=function(be){be[0]._private.rscratch.isGrabTarget=!0},F=function(be,lt){var Ot=lt.addToList;!Ot.has(be)&&be.grabbable()&&!be.locked()&&(Ot.merge(be),function(be){be[0]._private.grabbed=!0}(be))},W=function(be,lt){lt=lt||{};var Ot=be.cy().hasCompoundNodes();lt.inDragLayer&&(be.forEach(w),be.neighborhood().stdFilter(function(mt){return!Ot||mt.isEdge()}).forEach(w)),lt.addToList&&be.forEach(function(mt){F(mt,lt)}),function(be,lt){if(be.cy().hasCompoundNodes()&&(null!=lt.inDragLayer||null!=lt.addToList)){var Ot=be.descendants();lt.inDragLayer&&(Ot.forEach(w),Ot.connectedEdges().forEach(w)),lt.addToList&&F(Ot,lt)}}(be,lt),ne(be,{inDragLayer:lt.inDragLayer}),c.updateCachedGrabbedEles()},Y=W,Q=function(be){be&&(c.getCachedZSortedEles().forEach(function(lt){(function(be){be[0]._private.grabbed=!1})(lt),function(be){be[0]._private.rscratch.inDragLayer=!1}(lt),function(be){be[0]._private.rscratch.isGrabTarget=!1}(lt)}),c.updateCachedGrabbedEles())},ne=function(be,lt){if((null!=lt.inDragLayer||null!=lt.addToList)&&be.cy().hasCompoundNodes()){var Ot=be.ancestors().orphans();if(!Ot.same(be)){var mt=Ot.descendants().spawnSelf().merge(Ot).unmerge(be).unmerge(be.descendants()),vt=mt.connectedEdges();lt.inDragLayer&&(vt.forEach(w),mt.forEach(w)),lt.addToList&&mt.forEach(function(Rn){F(Rn,lt)})}}},se=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},le=typeof MutationObserver<"u",ce=typeof ResizeObserver<"u";le?(c.removeObserver=new MutationObserver(function(Rt){for(var be=0;be<Rt.length;be++){var Ot=Rt[be].removedNodes;if(Ot)for(var mt=0;mt<Ot.length;mt++)if(Ot[mt]===c.container){c.destroy();break}}}),c.container.parentNode&&c.removeObserver.observe(c.container.parentNode,{childList:!0})):c.registerBinding(c.container,"DOMNodeRemoved",function(Rt){c.destroy()});var pe=M.default(function(){c.cy.resize()},100);le&&(c.styleObserver=new MutationObserver(pe),c.styleObserver.observe(c.container,{attributes:!0})),c.registerBinding(window,"resize",pe),ce&&(c.resizeObserver=new ResizeObserver(pe),c.resizeObserver.observe(c.container));var Ae=function(){c.invalidateContainerClientCoordsCache()};(function(be,lt){for(;null!=be;)c.registerBinding(Rt=be,"transitionend",Ae),c.registerBinding(Rt,"animationend",Ae),c.registerBinding(Rt,"scroll",Ae),be=be.parentNode;var Rt})(c.container),c.registerBinding(c.container,"contextmenu",function(Rt){Rt.preventDefault()});var ve,Re,Oe,De=function(be){for(var lt=c.findContainerClientCoords(),Ot=lt[0],mt=lt[1],vt=lt[2],Rn=lt[3],kt=be.touches?be.touches:[be],an=!1,Qn=0;Qn<kt.length;Qn++){var Sr=kt[Qn];if(Ot<=Sr.clientX&&Sr.clientX<=Ot+vt&&mt<=Sr.clientY&&Sr.clientY<=mt+Rn){an=!0;break}}if(!an)return!1;for(var $n=c.container,Dn=be.target.parentNode,Tn=!1;Dn;){if(Dn===$n){Tn=!0;break}Dn=Dn.parentNode}return!!Tn};c.registerBinding(c.container,"mousedown",function(be){if(De(be)){be.preventDefault(),se(),c.hoverData.capture=!0,c.hoverData.which=be.which;var lt=c.cy,Ot=[be.clientX,be.clientY],mt=c.projectIntoViewport(Ot[0],Ot[1]),vt=c.selection,Rn=c.findNearestElements(mt[0],mt[1],!0,!1),kt=Rn[0],an=c.dragData.possibleDragElements;if(c.hoverData.mdownPos=mt,c.hoverData.mdownGPos=Ot,3==be.which){c.hoverData.cxtStarted=!0;var Sr={originalEvent:be,type:"cxttapstart",position:{x:mt[0],y:mt[1]}};kt?(kt.activate(),kt.emit(Sr),c.hoverData.down=kt):lt.emit(Sr),c.hoverData.downTime=(new Date).getTime(),c.hoverData.cxtDragged=!1}else if(1==be.which){if(kt&&kt.activate(),null!=kt&&c.nodeIsGrabbable(kt)){var $n=function(li){return{originalEvent:be,type:li,position:{x:mt[0],y:mt[1]}}};if(S(kt),kt.selected()){an=c.dragData.possibleDragElements=lt.collection();var Dn=lt.$(function(Tn){return Tn.isNode()&&Tn.selected()&&c.nodeIsGrabbable(Tn)});W(Dn,{addToList:an}),kt.emit($n("grabon")),Dn.forEach(function(li){li.emit($n("grab"))})}else an=c.dragData.possibleDragElements=lt.collection(),Y(kt,{addToList:an}),kt.emit($n("grabon")).emit($n("grab"));c.redrawHint("eles",!0),c.redrawHint("drag",!0)}c.hoverData.down=kt,c.hoverData.downs=Rn,c.hoverData.downTime=(new Date).getTime(),l(kt,["mousedown","tapstart","vmousedown"],be,{x:mt[0],y:mt[1]}),null==kt?(vt[4]=1,c.data.bgActivePosistion={x:mt[0],y:mt[1]},c.redrawHint("select",!0),c.redraw()):kt.pannable()&&(vt[4]=1),c.hoverData.tapholdCancelled=!1,clearTimeout(c.hoverData.tapholdTimeout),c.hoverData.tapholdTimeout=setTimeout(function(){if(!c.hoverData.tapholdCancelled){var li=c.hoverData.down;li?li.emit({originalEvent:be,type:"taphold",position:{x:mt[0],y:mt[1]}}):lt.emit({originalEvent:be,type:"taphold",position:{x:mt[0],y:mt[1]}})}},c.tapholdDuration)}vt[0]=vt[2]=mt[0],vt[1]=vt[3]=mt[1]}},!1),c.registerBinding(window,"mousemove",function(be){var Ls;if(c.hoverData.capture||De(be)){var Ot=!1,mt=c.cy,vt=mt.zoom(),Rn=[be.clientX,be.clientY],kt=c.projectIntoViewport(Rn[0],Rn[1]),an=c.hoverData.mdownPos,Qn=c.hoverData.mdownGPos,Sr=c.selection,$n=null;!c.hoverData.draggingEles&&!c.hoverData.dragging&&!c.hoverData.selecting&&($n=c.findNearestElement(kt[0],kt[1],!0,!1));var Fi,_r=c.hoverData.last,Dn=c.hoverData.down,Tn=[kt[0]-Sr[2],kt[1]-Sr[3]],li=c.dragData.possibleDragElements;if(Qn){var na=Rn[0]-Qn[0],Xi=Rn[1]-Qn[1];c.hoverData.isOverThresholdDrag=Fi=na*na+Xi*Xi>=c.desktopTapThreshold2}var al=d(be);Fi&&(c.hoverData.tapholdCancelled=!0),Ot=!0,l($n,["mousemove","vmousemove","tapdrag"],be,{x:kt[0],y:kt[1]});var Wl=function(){c.data.bgActivePosistion=void 0,c.hoverData.selecting||mt.emit({originalEvent:be,type:"boxstart",position:{x:kt[0],y:kt[1]}}),Sr[4]=1,c.hoverData.selecting=!0,c.redrawHint("select",!0),c.redraw()};if(3===c.hoverData.which){if(Fi){var Fc={originalEvent:be,type:"cxtdrag",position:{x:kt[0],y:kt[1]}};Dn?Dn.emit(Fc):mt.emit(Fc),c.hoverData.cxtDragged=!0,(!c.hoverData.cxtOver||$n!==c.hoverData.cxtOver)&&(c.hoverData.cxtOver&&c.hoverData.cxtOver.emit({originalEvent:be,type:"cxtdragout",position:{x:kt[0],y:kt[1]}}),c.hoverData.cxtOver=$n,$n&&$n.emit({originalEvent:be,type:"cxtdragover",position:{x:kt[0],y:kt[1]}}))}}else if(c.hoverData.dragging){if(Ot=!0,mt.panningEnabled()&&mt.userPanningEnabled()){var Bc;if(c.hoverData.justStartedPan){var Rf=c.hoverData.mdownPos;Bc={x:(kt[0]-Rf[0])*vt,y:(kt[1]-Rf[1])*vt},c.hoverData.justStartedPan=!1}else Bc={x:Tn[0]*vt,y:Tn[1]*vt};mt.panBy(Bc),mt.emit("dragpan"),c.hoverData.dragged=!0}kt=c.projectIntoViewport(be.clientX,be.clientY)}else if(1!=Sr[4]||null!=Dn&&!Dn.pannable()){if(Dn&&Dn.pannable()&&Dn.active()&&Dn.unactivate(),(!Dn||!Dn.grabbed())&&$n!=_r&&(_r&&l(_r,["mouseout","tapdragout"],be,{x:kt[0],y:kt[1]}),$n&&l($n,["mouseover","tapdragover"],be,{x:kt[0],y:kt[1]}),c.hoverData.last=$n),Dn)if(Fi){if(mt.boxSelectionEnabled()&&al)Dn&&Dn.grabbed()&&(Q(li),Dn.emit("freeon"),li.emit("free"),c.dragData.didDrag&&(Dn.emit("dragfreeon"),li.emit("dragfree"))),Wl();else if(Dn&&Dn.grabbed()&&c.nodeIsDraggable(Dn)){var mo=!c.dragData.didDrag;mo&&c.redrawHint("eles",!0),c.dragData.didDrag=!0,c.hoverData.draggingEles||W(li,{inDragLayer:!0});var Es={x:0,y:0};if(ge(Tn[0])&&ge(Tn[1])&&(Es.x+=Tn[0],Es.y+=Tn[1],mo)){var Ki=c.hoverData.dragDelta;Ki&&ge(Ki[0])&&ge(Ki[1])&&(Es.x+=Ki[0],Es.y+=Ki[1])}c.hoverData.draggingEles=!0,li.silentShift(Es).emit("position drag"),c.redrawHint("drag",!0),c.redraw()}}else 0===(Ls=c.hoverData.dragDelta=c.hoverData.dragDelta||[]).length?(Ls.push(Tn[0]),Ls.push(Tn[1])):(Ls[0]+=Tn[0],Ls[1]+=Tn[1]);Ot=!0}else Fi&&(c.hoverData.dragging||!mt.boxSelectionEnabled()||!al&&mt.panningEnabled()&&mt.userPanningEnabled()?!c.hoverData.selecting&&mt.panningEnabled()&&mt.userPanningEnabled()&&f(Dn,c.hoverData.downs)&&(c.hoverData.dragging=!0,c.hoverData.justStartedPan=!0,Sr[4]=0,c.data.bgActivePosistion=ir(an),c.redrawHint("select",!0),c.redraw()):Wl(),Dn&&Dn.pannable()&&Dn.active()&&Dn.unactivate());if(Sr[2]=kt[0],Sr[3]=kt[1],Ot)return be.stopPropagation&&be.stopPropagation(),be.preventDefault&&be.preventDefault(),!1}},!1),c.registerBinding(window,"mouseup",function(be){if(c.hoverData.capture){c.hoverData.capture=!1;var Ot=c.cy,mt=c.projectIntoViewport(be.clientX,be.clientY),vt=c.selection,Rn=c.findNearestElement(mt[0],mt[1],!0,!1),kt=c.dragData.possibleDragElements,an=c.hoverData.down,Qn=d(be);if(c.data.bgActivePosistion&&(c.redrawHint("select",!0),c.redraw()),c.hoverData.tapholdCancelled=!0,c.data.bgActivePosistion=void 0,an&&an.unactivate(),3===c.hoverData.which){var Sr={originalEvent:be,type:"cxttapend",position:{x:mt[0],y:mt[1]}};if(an?an.emit(Sr):Ot.emit(Sr),!c.hoverData.cxtDragged){var $n={originalEvent:be,type:"cxttap",position:{x:mt[0],y:mt[1]}};an?an.emit($n):Ot.emit($n)}c.hoverData.cxtDragged=!1,c.hoverData.which=null}else if(1===c.hoverData.which){if(l(Rn,["mouseup","tapend","vmouseup"],be,{x:mt[0],y:mt[1]}),!c.dragData.didDrag&&!c.hoverData.dragged&&!c.hoverData.selecting&&!c.hoverData.isOverThresholdDrag&&(l(an,["click","tap","vclick"],be,{x:mt[0],y:mt[1]}),Re=!1,be.timeStamp-Oe<=Ot.multiClickDebounceTime()?(ve&&clearTimeout(ve),Re=!0,Oe=null,l(an,["dblclick","dbltap","vdblclick"],be,{x:mt[0],y:mt[1]})):(ve=setTimeout(function(){Re||l(an,["oneclick","onetap","voneclick"],be,{x:mt[0],y:mt[1]})},Ot.multiClickDebounceTime()),Oe=be.timeStamp)),null==an&&!c.dragData.didDrag&&!c.hoverData.selecting&&!c.hoverData.dragged&&!d(be)&&(Ot.$(o).unselect(["tapunselect"]),kt.length>0&&c.redrawHint("eles",!0),c.dragData.possibleDragElements=kt=Ot.collection()),Rn==an&&!c.dragData.didDrag&&!c.hoverData.selecting&&null!=Rn&&Rn._private.selectable&&(c.hoverData.dragging||("additive"===Ot.selectionType()||Qn?Rn.selected()?Rn.unselect(["tapunselect"]):Rn.select(["tapselect"]):Qn||(Ot.$(o).unmerge(Rn).unselect(["tapunselect"]),Rn.select(["tapselect"]))),c.redrawHint("eles",!0)),c.hoverData.selecting){var _r=Ot.collection(c.getAllInBox(vt[0],vt[1],vt[2],vt[3]));c.redrawHint("select",!0),_r.length>0&&c.redrawHint("eles",!0),Ot.emit({type:"boxend",originalEvent:be,position:{x:mt[0],y:mt[1]}}),"additive"===Ot.selectionType()||Qn||Ot.$(o).unmerge(_r).unselect(),_r.emit("box").stdFilter(function(Fi){return Fi.selectable()&&!Fi.selected()}).select().emit("boxselect"),c.redraw()}if(c.hoverData.dragging&&(c.hoverData.dragging=!1,c.redrawHint("select",!0),c.redrawHint("eles",!0),c.redraw()),!vt[4]){c.redrawHint("drag",!0),c.redrawHint("eles",!0);var Tn=an&&an.grabbed();Q(kt),Tn&&(an.emit("freeon"),kt.emit("free"),c.dragData.didDrag&&(an.emit("dragfreeon"),kt.emit("dragfree")))}}vt[4]=0,c.hoverData.down=null,c.hoverData.cxtStarted=!1,c.hoverData.draggingEles=!1,c.hoverData.selecting=!1,c.hoverData.isOverThresholdDrag=!1,c.dragData.didDrag=!1,c.hoverData.dragged=!1,c.hoverData.dragDelta=[],c.hoverData.mdownPos=null,c.hoverData.mdownGPos=null}},!1);var Ee=function(be){if(!c.scrollingPage){var lt=c.cy,Ot=lt.zoom(),mt=lt.pan(),vt=c.projectIntoViewport(be.clientX,be.clientY),Rn=[vt[0]*Ot+mt.x,vt[1]*Ot+mt.y];if(c.hoverData.draggingEles||c.hoverData.dragging||c.hoverData.cxtStarted||0!==c.selection[4])return void be.preventDefault();if(lt.panningEnabled()&&lt.userPanningEnabled()&&lt.zoomingEnabled()&&lt.userZoomingEnabled()){var kt;be.preventDefault(),c.data.wheelZooming=!0,clearTimeout(c.data.wheelTimeout),c.data.wheelTimeout=setTimeout(function(){c.data.wheelZooming=!1,c.redrawHint("eles",!0),c.redraw()},150),kt=null!=be.deltaY?be.deltaY/-250:null!=be.wheelDeltaY?be.wheelDeltaY/1e3:be.wheelDelta/1e3,kt*=c.wheelSensitivity,1===be.deltaMode&&(kt*=33);var Qn=lt.zoom()*Math.pow(10,kt);"gesturechange"===be.type&&(Qn=c.gestureStartZoom*be.scale),lt.zoom({level:Qn,renderedPosition:{x:Rn[0],y:Rn[1]}}),lt.emit("gesturechange"===be.type?"pinchzoom":"scrollzoom")}}};c.registerBinding(c.container,"wheel",Ee,!0),c.registerBinding(window,"scroll",function(be){c.scrollingPage=!0,clearTimeout(c.scrollingPageTimeout),c.scrollingPageTimeout=setTimeout(function(){c.scrollingPage=!1},250)},!0),c.registerBinding(c.container,"gesturestart",function(be){c.gestureStartZoom=c.cy.zoom(),c.hasTouchStarted||be.preventDefault()},!0),c.registerBinding(c.container,"gesturechange",function(Rt){c.hasTouchStarted||Ee(Rt)},!0),c.registerBinding(c.container,"mouseout",function(be){var lt=c.projectIntoViewport(be.clientX,be.clientY);c.cy.emit({originalEvent:be,type:"mouseout",position:{x:lt[0],y:lt[1]}})},!1),c.registerBinding(c.container,"mouseover",function(be){var lt=c.projectIntoViewport(be.clientX,be.clientY);c.cy.emit({originalEvent:be,type:"mouseover",position:{x:lt[0],y:lt[1]}})},!1);var He,Ie,Qe,Ge,We,nt,ot,dt,it,rt,Et,Dt,yt,Ct,Tt,Pt,Vt,Cn,Nn,Ht,gt=function(be,lt,Ot,mt){return Math.sqrt((Ot-be)*(Ot-be)+(mt-lt)*(mt-lt))},tt=function(be,lt,Ot,mt){return(Ot-be)*(Ot-be)+(mt-lt)*(mt-lt)};if(c.registerBinding(c.container,"touchstart",Ct=function(be){if(c.hasTouchStarted=!0,De(be)){se(),c.touchData.capture=!0,c.data.bgActivePosistion=void 0;var lt=c.cy,Ot=c.touchData.now,mt=c.touchData.earlier;if(be.touches[0]){var vt=c.projectIntoViewport(be.touches[0].clientX,be.touches[0].clientY);Ot[0]=vt[0],Ot[1]=vt[1]}if(be.touches[1]&&(vt=c.projectIntoViewport(be.touches[1].clientX,be.touches[1].clientY),Ot[2]=vt[0],Ot[3]=vt[1]),be.touches[2]&&(vt=c.projectIntoViewport(be.touches[2].clientX,be.touches[2].clientY),Ot[4]=vt[0],Ot[5]=vt[1]),be.touches[1]){c.touchData.singleTouchMoved=!0,Q(c.dragData.touchDragEles);var Rn=c.findContainerClientCoords();Et=Rn[2],Dt=Rn[3],Ie=be.touches[0].clientY-(rt=Rn[1]),Qe=be.touches[1].clientX-(it=Rn[0]),Ge=be.touches[1].clientY-rt,yt=0<=(He=be.touches[0].clientX-it)&&He<=Et&&0<=Qe&&Qe<=Et&&0<=Ie&&Ie<=Dt&&0<=Ge&&Ge<=Dt;var kt=lt.pan(),an=lt.zoom();if(We=gt(He,Ie,Qe,Ge),nt=tt(He,Ie,Qe,Ge),dt=[((ot=[(He+Qe)/2,(Ie+Ge)/2])[0]-kt.x)/an,(ot[1]-kt.y)/an],nt<4e4&&!be.touches[2]){var $n=c.findNearestElement(Ot[0],Ot[1],!0,!0),_r=c.findNearestElement(Ot[2],Ot[3],!0,!0);return $n&&$n.isNode()?($n.activate().emit({originalEvent:be,type:"cxttapstart",position:{x:Ot[0],y:Ot[1]}}),c.touchData.start=$n):_r&&_r.isNode()?(_r.activate().emit({originalEvent:be,type:"cxttapstart",position:{x:Ot[0],y:Ot[1]}}),c.touchData.start=_r):lt.emit({originalEvent:be,type:"cxttapstart",position:{x:Ot[0],y:Ot[1]}}),c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxt=!0,c.touchData.cxtDragged=!1,c.data.bgActivePosistion=void 0,void c.redraw()}}if(be.touches[2])lt.boxSelectionEnabled()&&be.preventDefault();else if(!be.touches[1]&&be.touches[0]){var Dn=c.findNearestElements(Ot[0],Ot[1],!0,!0),Tn=Dn[0];if(null!=Tn&&(Tn.activate(),c.touchData.start=Tn,c.touchData.starts=Dn,c.nodeIsGrabbable(Tn))){var li=c.dragData.touchDragEles=lt.collection(),Fi=null;c.redrawHint("eles",!0),c.redrawHint("drag",!0),Tn.selected()?(Fi=lt.$(function(Ns){return Ns.selected()&&c.nodeIsGrabbable(Ns)}),W(Fi,{addToList:li})):Y(Tn,{addToList:li}),S(Tn);var na=function(al){return{originalEvent:be,type:al,position:{x:Ot[0],y:Ot[1]}}};Tn.emit(na("grabon")),Fi?Fi.forEach(function(Ns){Ns.emit(na("grab"))}):Tn.emit(na("grab"))}l(Tn,["touchstart","tapstart","vmousedown"],be,{x:Ot[0],y:Ot[1]}),null==Tn&&(c.data.bgActivePosistion={x:vt[0],y:vt[1]},c.redrawHint("select",!0),c.redraw()),c.touchData.singleTouchMoved=!1,c.touchData.singleTouchStartTime=+new Date,clearTimeout(c.touchData.tapholdTimeout),c.touchData.tapholdTimeout=setTimeout(function(){!1===c.touchData.singleTouchMoved&&!c.pinching&&!c.touchData.selecting&&l(c.touchData.start,["taphold"],be,{x:Ot[0],y:Ot[1]})},c.tapholdDuration)}if(be.touches.length>=1){for(var ra=c.touchData.startPosition=[],Xi=0;Xi<Ot.length;Xi++)ra[Xi]=mt[Xi]=Ot[Xi];var us=be.touches[0];c.touchData.startGPosition=[us.clientX,us.clientY]}}},!1),c.registerBinding(window,"touchmove",Tt=function(be){var lt=c.touchData.capture;if(lt||De(be)){var Ot=c.selection,mt=c.cy,vt=c.touchData.now,Rn=c.touchData.earlier,kt=mt.zoom();if(be.touches[0]){var an=c.projectIntoViewport(be.touches[0].clientX,be.touches[0].clientY);vt[0]=an[0],vt[1]=an[1]}be.touches[1]&&(an=c.projectIntoViewport(be.touches[1].clientX,be.touches[1].clientY),vt[2]=an[0],vt[3]=an[1]),be.touches[2]&&(an=c.projectIntoViewport(be.touches[2].clientX,be.touches[2].clientY),vt[4]=an[0],vt[5]=an[1]);var Sr,Qn=c.touchData.startGPosition;if(lt&&be.touches[0]&&Qn){for(var $n=[],_r=0;_r<vt.length;_r++)$n[_r]=vt[_r]-Rn[_r];var Dn=be.touches[0].clientX-Qn[0],li=be.touches[0].clientY-Qn[1];Sr=Dn*Dn+li*li>=c.touchTapThreshold2}if(lt&&c.touchData.cxt){be.preventDefault();var al=tt(ra=be.touches[0].clientX-it,Xi=be.touches[0].clientY-rt,us=be.touches[1].clientX-it,Ns=be.touches[1].clientY-rt);if(al/nt>=2.25||al>=22500){c.touchData.cxt=!1,c.data.bgActivePosistion=void 0,c.redrawHint("select",!0);var Yl={originalEvent:be,type:"cxttapend",position:{x:vt[0],y:vt[1]}};c.touchData.start?(c.touchData.start.unactivate().emit(Yl),c.touchData.start=null):mt.emit(Yl)}}if(lt&&c.touchData.cxt){Yl={originalEvent:be,type:"cxtdrag",position:{x:vt[0],y:vt[1]}},c.data.bgActivePosistion=void 0,c.redrawHint("select",!0),c.touchData.start?c.touchData.start.emit(Yl):mt.emit(Yl),c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxtDragged=!0;var mo=c.findNearestElement(vt[0],vt[1],!0,!0);(!c.touchData.cxtOver||mo!==c.touchData.cxtOver)&&(c.touchData.cxtOver&&c.touchData.cxtOver.emit({originalEvent:be,type:"cxtdragout",position:{x:vt[0],y:vt[1]}}),c.touchData.cxtOver=mo,mo&&mo.emit({originalEvent:be,type:"cxtdragover",position:{x:vt[0],y:vt[1]}}))}else if(lt&&be.touches[2]&&mt.boxSelectionEnabled())be.preventDefault(),c.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,c.touchData.selecting||mt.emit({originalEvent:be,type:"boxstart",position:{x:vt[0],y:vt[1]}}),c.touchData.selecting=!0,c.touchData.didSelect=!0,Ot[4]=1,Ot&&0!==Ot.length&&void 0!==Ot[0]?(Ot[2]=(vt[0]+vt[2]+vt[4])/3,Ot[3]=(vt[1]+vt[3]+vt[5])/3):(Ot[0]=(vt[0]+vt[2]+vt[4])/3,Ot[1]=(vt[1]+vt[3]+vt[5])/3,Ot[2]=(vt[0]+vt[2]+vt[4])/3+1,Ot[3]=(vt[1]+vt[3]+vt[5])/3+1),c.redrawHint("select",!0),c.redraw();else if(lt&&be.touches[1]&&!c.touchData.didSelect&&mt.zoomingEnabled()&&mt.panningEnabled()&&mt.userZoomingEnabled()&&mt.userPanningEnabled()){if(be.preventDefault(),c.data.bgActivePosistion=void 0,c.redrawHint("select",!0),Es=c.dragData.touchDragEles){c.redrawHint("drag",!0);for(var Ki=0;Ki<Es.length;Ki++){var Pf=Es[Ki]._private;Pf.grabbed=!1,Pf.rscratch.inDragLayer=!1}}var ra,Xi,us,Ns,Ls=c.touchData.start,Bn=gt(ra=be.touches[0].clientX-it,Xi=be.touches[0].clientY-rt,us=be.touches[1].clientX-it,Ns=be.touches[1].clientY-rt),Iw=Bn/We;if(yt){var Pu=(ra-He+(us-Qe))/2,Rw=(Xi-Ie+(Ns-Ge))/2,Vc=mt.zoom(),sh=Vc*Iw,Nf=mt.pan(),Lf=dt[0]*Vc+Nf.x,Sa=dt[1]*Vc+Nf.y,Pw={x:-sh/Vc*(Lf-Nf.x-Pu)+Lf,y:-sh/Vc*(Sa-Nf.y-Rw)+Sa};Ls&&Ls.active()&&(Q(Es=c.dragData.touchDragEles),c.redrawHint("drag",!0),c.redrawHint("eles",!0),Ls.unactivate().emit("freeon"),Es.emit("free"),c.dragData.didDrag&&(Ls.emit("dragfreeon"),Es.emit("dragfree"))),mt.viewport({zoom:sh,pan:Pw,cancelOnFailedZoom:!0}),mt.emit("pinchzoom"),We=Bn,He=ra,Ie=Xi,Qe=us,Ge=Ns,c.pinching=!0}be.touches[0]&&(an=c.projectIntoViewport(be.touches[0].clientX,be.touches[0].clientY),vt[0]=an[0],vt[1]=an[1]),be.touches[1]&&(an=c.projectIntoViewport(be.touches[1].clientX,be.touches[1].clientY),vt[2]=an[0],vt[3]=an[1]),be.touches[2]&&(an=c.projectIntoViewport(be.touches[2].clientX,be.touches[2].clientY),vt[4]=an[0],vt[5]=an[1])}else if(be.touches[0]&&!c.touchData.didSelect){var ia=c.touchData.start,qm=c.touchData.last;if(!c.hoverData.draggingEles&&!c.swipePanning&&(mo=c.findNearestElement(vt[0],vt[1],!0,!0)),lt&&null!=ia&&be.preventDefault(),lt&&null!=ia&&c.nodeIsDraggable(ia))if(Sr){var Es=c.dragData.touchDragEles,sb=!c.dragData.didDrag;sb&&W(Es,{inDragLayer:!0}),c.dragData.didDrag=!0;var Nu={x:0,y:0};ge($n[0])&&ge($n[1])&&(Nu.x+=$n[0],Nu.y+=$n[1],sb)&&(c.redrawHint("eles",!0),(go=c.touchData.dragDelta)&&ge(go[0])&&ge(go[1])&&(Nu.x+=go[0],Nu.y+=go[1])),c.hoverData.draggingEles=!0,Es.silentShift(Nu).emit("position drag"),c.redrawHint("drag",!0),c.touchData.startPosition[0]==Rn[0]&&c.touchData.startPosition[1]==Rn[1]&&c.redrawHint("eles",!0),c.redraw()}else{var go;0===(go=c.touchData.dragDelta=c.touchData.dragDelta||[]).length?(go.push($n[0]),go.push($n[1])):(go[0]+=$n[0],go[1]+=$n[1])}if(l(ia||mo,["touchmove","tapdrag","vmousemove"],be,{x:vt[0],y:vt[1]}),(!ia||!ia.grabbed())&&mo!=qm&&(qm&&qm.emit({originalEvent:be,type:"tapdragout",position:{x:vt[0],y:vt[1]}}),mo&&mo.emit({originalEvent:be,type:"tapdragover",position:{x:vt[0],y:vt[1]}})),c.touchData.last=mo,lt)for(Ki=0;Ki<vt.length;Ki++)vt[Ki]&&c.touchData.startPosition[Ki]&&Sr&&(c.touchData.singleTouchMoved=!0);lt&&(null==ia||ia.pannable())&&mt.panningEnabled()&&mt.userPanningEnabled()&&(f(ia,c.touchData.starts)&&(be.preventDefault(),c.data.bgActivePosistion||(c.data.bgActivePosistion=ir(c.touchData.startPosition)),c.swipePanning?(mt.panBy({x:$n[0]*kt,y:$n[1]*kt}),mt.emit("dragpan")):Sr&&(c.swipePanning=!0,mt.panBy({x:Dn*kt,y:li*kt}),mt.emit("dragpan"),ia&&(ia.unactivate(),c.redrawHint("select",!0),c.touchData.start=null))),an=c.projectIntoViewport(be.touches[0].clientX,be.touches[0].clientY),vt[0]=an[0],vt[1]=an[1])}for(_r=0;_r<vt.length;_r++)Rn[_r]=vt[_r];lt&&be.touches.length>0&&!c.hoverData.draggingEles&&!c.swipePanning&&null!=c.data.bgActivePosistion&&(c.data.bgActivePosistion=void 0,c.redrawHint("select",!0),c.redraw())}},!1),c.registerBinding(window,"touchcancel",Pt=function(be){var lt=c.touchData.start;c.touchData.capture=!1,lt&&lt.unactivate()}),c.registerBinding(window,"touchend",Vt=function(be){var lt=c.touchData.start;if(c.touchData.capture){0===be.touches.length&&(c.touchData.capture=!1),be.preventDefault();var mt=c.selection;c.swipePanning=!1,c.hoverData.draggingEles=!1;var Sr,vt=c.cy,Rn=vt.zoom(),kt=c.touchData.now,an=c.touchData.earlier;if(be.touches[0]){var Qn=c.projectIntoViewport(be.touches[0].clientX,be.touches[0].clientY);kt[0]=Qn[0],kt[1]=Qn[1]}if(be.touches[1]&&(Qn=c.projectIntoViewport(be.touches[1].clientX,be.touches[1].clientY),kt[2]=Qn[0],kt[3]=Qn[1]),be.touches[2]&&(Qn=c.projectIntoViewport(be.touches[2].clientX,be.touches[2].clientY),kt[4]=Qn[0],kt[5]=Qn[1]),lt&&lt.unactivate(),c.touchData.cxt){if(Sr={originalEvent:be,type:"cxttapend",position:{x:kt[0],y:kt[1]}},lt?lt.emit(Sr):vt.emit(Sr),!c.touchData.cxtDragged){var $n={originalEvent:be,type:"cxttap",position:{x:kt[0],y:kt[1]}};lt?lt.emit($n):vt.emit($n)}return c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxt=!1,c.touchData.start=null,void c.redraw()}if(!be.touches[2]&&vt.boxSelectionEnabled()&&c.touchData.selecting){c.touchData.selecting=!1;var _r=vt.collection(c.getAllInBox(mt[0],mt[1],mt[2],mt[3]));mt[0]=void 0,mt[1]=void 0,mt[2]=void 0,mt[3]=void 0,mt[4]=0,c.redrawHint("select",!0),vt.emit({type:"boxend",originalEvent:be,position:{x:kt[0],y:kt[1]}}),_r.emit("box").stdFilter(function(Fc){return Fc.selectable()&&!Fc.selected()}).select().emit("boxselect"),_r.nonempty()&&c.redrawHint("eles",!0),c.redraw()}if(lt?.unactivate(),be.touches[2])c.data.bgActivePosistion=void 0,c.redrawHint("select",!0);else if(!be.touches[1]&&!be.touches[0]&&!be.touches[0]){c.data.bgActivePosistion=void 0,c.redrawHint("select",!0);var Tn=c.dragData.touchDragEles;if(null!=lt){var li=lt._private.grabbed;Q(Tn),c.redrawHint("drag",!0),c.redrawHint("eles",!0),li&&(lt.emit("freeon"),Tn.emit("free"),c.dragData.didDrag&&(lt.emit("dragfreeon"),Tn.emit("dragfree"))),l(lt,["touchend","tapend","vmouseup","tapdragout"],be,{x:kt[0],y:kt[1]}),lt.unactivate(),c.touchData.start=null}else{var Fi=c.findNearestElement(kt[0],kt[1],!0,!0);l(Fi,["touchend","tapend","vmouseup","tapdragout"],be,{x:kt[0],y:kt[1]})}var na=c.touchData.startPosition[0]-kt[0],Xi=c.touchData.startPosition[1]-kt[1],al=(na*na+Xi*Xi)*Rn*Rn;c.touchData.singleTouchMoved||(lt||vt.$(":selected").unselect(["tapunselect"]),l(lt,["tap","vclick"],be,{x:kt[0],y:kt[1]}),Cn=!1,be.timeStamp-Ht<=vt.multiClickDebounceTime()?(Nn&&clearTimeout(Nn),Cn=!0,Ht=null,l(lt,["dbltap","vdblclick"],be,{x:kt[0],y:kt[1]})):(Nn=setTimeout(function(){Cn||l(lt,["onetap","voneclick"],be,{x:kt[0],y:kt[1]})},vt.multiClickDebounceTime()),Ht=be.timeStamp)),null!=lt&&!c.dragData.didDrag&&lt._private.selectable&&al<c.touchTapThreshold2&&!c.pinching&&("single"===vt.selectionType()?(vt.$(o).unmerge(lt).unselect(["tapunselect"]),lt.select(["tapselect"])):lt.selected()?lt.unselect(["tapunselect"]):lt.select(["tapselect"]),c.redrawHint("eles",!0)),c.touchData.singleTouchMoved=!0}for(var $l=0;$l<kt.length;$l++)an[$l]=kt[$l];c.dragData.didDrag=!1,0===be.touches.length&&(c.touchData.dragDelta=[],c.touchData.startPosition=null,c.touchData.startGPosition=null,c.touchData.didSelect=!1),be.touches.length<2&&(1===be.touches.length&&(c.touchData.startGPosition=[be.touches[0].clientX,be.touches[0].clientY]),c.pinching=!1,c.redrawHint("eles",!0),c.redraw())}},!1),typeof TouchEvent>"u"){var Ft=[],gn=function(be){return{clientX:be.clientX,clientY:be.clientY,force:1,identifier:be.pointerId,pageX:be.pageX,pageY:be.pageY,radiusX:be.width/2,radiusY:be.height/2,screenX:be.screenX,screenY:be.screenY,target:be.target}},hn=function(be){for(var lt=0;lt<Ft.length;lt++)if(Ft[lt].event.pointerId===be.pointerId)return void Ft.splice(lt,1)},On=function(be){be.touches=Ft.map(function(lt){return lt.touch})},yn=function(be){return"mouse"===be.pointerType||4===be.pointerType};c.registerBinding(c.container,"pointerdown",function(Rt){yn(Rt)||(Rt.preventDefault(),Ft.push(function(be){return{event:be,touch:gn(be)}}(Rt)),On(Rt),Ct(Rt))}),c.registerBinding(c.container,"pointerup",function(Rt){yn(Rt)||(hn(Rt),On(Rt),Vt(Rt))}),c.registerBinding(c.container,"pointercancel",function(Rt){yn(Rt)||(hn(Rt),On(Rt),Pt())}),c.registerBinding(c.container,"pointermove",function(Rt){var be,lt;yn(Rt)||(Rt.preventDefault(),be=Rt,(lt=Ft.filter(function(Ot){return Ot.event.pointerId===be.pointerId})[0]).event=be,lt.touch=gn(be),On(Rt),Tt(Rt))})}};var pi={generatePolygon:function(c,o){return this.nodeShapes[c]={renderer:this,name:c,points:o,draw:function(d,f,p,m,w){this.renderer.nodeShapeImpl("polygon",d,f,p,m,w,this.points)},intersectLine:function(d,f,p,m,w,T,S){return Il(w,T,this.points,d,f,p/2,m/2,S)},checkPoint:function(d,f,p,m,w,T,S){return lo(d,f,this.points,T,S,m,w,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,l,d,f,p){this.renderer.nodeShapeImpl(this.name,o,l,d,f,p)},intersectLine:function(o,l,d,f,p,m,w){return function(o,l,d,f,p,m){var w=d-o,T=f-l;w/=p,T/=m;var S=Math.sqrt(w*w+T*T),k=S-1;if(k<0)return[];var F=k/S;return[(d-o)*F+o,(f-l)*F+l]}(p,m,o,l,d/2+w,f/2+w)},checkPoint:function(o,l,d,f,p,m,w){return Ka(o,l,f,p,m,w,d)}}},generateRoundPolygon:function(c,o){for(var l=new Array(2*o.length),d=0;d<o.length/2;d++){var p,f=2*d;p=d<o.length/2-1?2*(d+1):0,l[4*d]=o[f],l[4*d+1]=o[f+1];var m=o[p]-o[f],w=o[p+1]-o[f+1],T=Math.sqrt(m*m+w*w);l[4*d+2]=m/T,l[4*d+3]=w/T}return this.nodeShapes[c]={renderer:this,name:c,points:l,draw:function(k,F,H,W,Y){this.renderer.nodeShapeImpl("round-polygon",k,F,H,W,Y,this.points)},intersectLine:function(k,F,H,W,Y,Q,ne){return function(o,l,d,f,p,m,w,T){for(var k,S=[],F=new Array(d.length),H=m/2,W=w/2,Y=xt(m,w),Q=0;Q<d.length/4;Q++){var se,ne;ne=0===Q?d.length-2:4*Q-2,se=4*Q+2;var le=f+H*d[4*Q],ce=p+W*d[4*Q+1],Me=Y/Math.tan(Math.acos(-d[ne]*d[se]-d[ne+1]*d[se+1])/2),Ae=le-Me*d[ne],me=ce-Me*d[ne+1],De=le+Me*d[se],ve=ce+Me*d[se+1];0===Q?(F[d.length-2]=Ae,F[d.length-1]=me):(F[4*Q-2]=Ae,F[4*Q-1]=me),F[4*Q]=De,F[4*Q+1]=ve;var Re=d[ne+1],Oe=-d[ne];Re*d[se]+Oe*d[se+1]<0&&(Re*=-1,Oe*=-1),0!==(k=Ro(o,l,f,p,Ae+Re*Y,me+Oe*Y,Y)).length&&S.push(k[0],k[1])}for(var Qe=0;Qe<F.length/4;Qe++)0!==(k=Ws(o,l,f,p,F[4*Qe],F[4*Qe+1],F[4*Qe+2],F[4*Qe+3],!1)).length&&S.push(k[0],k[1]);if(S.length>2){for(var Ge=[S[0],S[1]],We=Math.pow(Ge[0]-o,2)+Math.pow(Ge[1]-l,2),nt=1;nt<S.length/2;nt++){var ot=Math.pow(S[2*nt]-o,2)+Math.pow(S[2*nt+1]-l,2);ot<=We&&(Ge[0]=S[2*nt],Ge[1]=S[2*nt+1],We=ot)}return Ge}return S}(Y,Q,this.points,k,F,H,W)},checkPoint:function(k,F,H,W,Y,Q,ne){return function(o,l,d,f,p,m,w){for(var T=new Array(d.length),S=m/2,k=w/2,F=xt(m,w),H=F*F,W=0;W<d.length/4;W++){var Q,Y;Y=0===W?d.length-2:4*W-2,Q=4*W+2;var ne=f+S*d[4*W],se=p+k*d[4*W+1],ce=F/Math.tan(Math.acos(-d[Y]*d[Q]-d[Y+1]*d[Q+1])/2),pe=ne-ce*d[Y],Me=se-ce*d[Y+1],Ae=ne+ce*d[Q],me=se+ce*d[Q+1];T[4*W]=pe,T[4*W+1]=Me,T[4*W+2]=Ae,T[4*W+3]=me;var De=d[Y+1],ve=-d[Y];De*d[Q]+ve*d[Q+1]<0&&(De*=-1,ve*=-1);var Ee=Me+ve*F;if(Math.pow(pe+De*F-o,2)+Math.pow(Ee-l,2)<=H)return!0}return Vr(o,l,T)}(k,F,this.points,Q,ne,W,Y)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:gs(4,0),draw:function(o,l,d,f,p){this.renderer.nodeShapeImpl(this.name,o,l,d,f,p)},intersectLine:function(o,l,d,f,p,m,w){return Ya(p,m,o,l,d,f,w)},checkPoint:function(o,l,d,f,p,m,w){var T=wd(f,p),S=2*T;return!!(lo(o,l,this.points,m,w,f,p-S,[0,-1],d)||lo(o,l,this.points,m,w,f-S,p,[0,-1],d)||Ka(o,l,S,S,m-f/2+T,w-p/2+T,d)||Ka(o,l,S,S,m+f/2-T,w-p/2+T,d)||Ka(o,l,S,S,m+f/2-T,w+p/2-T,d)||Ka(o,l,S,S,m-f/2+T,w+p/2-T,d))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:gs(4,0),draw:function(o,l,d,f,p){this.renderer.nodeShapeImpl(this.name,o,l,d,f,p)},generateCutTrianglePts:function(o,l,d,f){var p=this.cornerLength,m=l/2,w=o/2,T=d-w,S=d+w,k=f-m,F=f+m;return{topLeft:[T,k+p,T+p,k,T+p,k+p],topRight:[S-p,k,S,k+p,S-p,k+p],bottomRight:[S,F-p,S-p,F,S-p,F-p],bottomLeft:[T+p,F,T,F-p,T+p,F-p]}},intersectLine:function(o,l,d,f,p,m,w){var T=this.generateCutTrianglePts(d+2*w,f+2*w,o,l),S=[].concat.apply([],[T.topLeft.splice(0,4),T.topRight.splice(0,4),T.bottomRight.splice(0,4),T.bottomLeft.splice(0,4)]);return Il(p,m,S,o,l)},checkPoint:function(o,l,d,f,p,m,w){if(lo(o,l,this.points,m,w,f,p-2*this.cornerLength,[0,-1],d)||lo(o,l,this.points,m,w,f-2*this.cornerLength,p,[0,-1],d))return!0;var T=this.generateCutTrianglePts(f,p,m,w);return Vr(o,l,T.topLeft)||Vr(o,l,T.topRight)||Vr(o,l,T.bottomRight)||Vr(o,l,T.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:gs(4,0),draw:function(o,l,d,f,p){this.renderer.nodeShapeImpl(this.name,o,l,d,f,p)},intersectLine:function(o,l,d,f,p,m,w){var F=this.generateBarrelBezierPts(d+2*w,f+2*w,o,l),H=function(Q){var ne=oo({x:Q[0],y:Q[1]},{x:Q[2],y:Q[3]},{x:Q[4],y:Q[5]},.15),se=oo({x:Q[0],y:Q[1]},{x:Q[2],y:Q[3]},{x:Q[4],y:Q[5]},.5),le=oo({x:Q[0],y:Q[1]},{x:Q[2],y:Q[3]},{x:Q[4],y:Q[5]},.85);return[Q[0],Q[1],ne.x,ne.y,se.x,se.y,le.x,le.y,Q[4],Q[5]]},W=[].concat(H(F.topLeft),H(F.topRight),H(F.bottomRight),H(F.bottomLeft));return Il(p,m,W,o,l)},generateBarrelBezierPts:function(o,l,d,f){var p=l/2,m=o/2,w=d-m,T=d+m,S=f-p,k=f+p,F=au(o,l),H=F.heightOffset,W=F.widthOffset,Y=F.ctrlPtOffsetPct*o,Q={topLeft:[w,S+H,w+Y,S,w+W,S],topRight:[T-W,S,T-Y,S,T,S+H],bottomRight:[T,k-H,T-Y,k,T-W,k],bottomLeft:[w+W,k,w+Y,k,w,k-H]};return Q.topLeft.isTop=!0,Q.topRight.isTop=!0,Q.bottomLeft.isBottom=!0,Q.bottomRight.isBottom=!0,Q},checkPoint:function(o,l,d,f,p,m,w){var T=au(f,p),k=T.widthOffset;if(lo(o,l,this.points,m,w,f,p-2*T.heightOffset,[0,-1],d)||lo(o,l,this.points,m,w,f-2*k,p,[0,-1],d))return!0;for(var F=this.generateBarrelBezierPts(f,p,m,w),H=function(me,De,ve){var Re=ve[4],Oe=ve[2],Ee=ve[0],He=ve[5],Ie=ve[1],Qe=Math.min(Re,Ee),Ge=Math.max(Re,Ee),We=Math.min(He,Ie),nt=Math.max(He,Ie);if(Qe<=me&&me<=Ge&&We<=De&&De<=nt){var ot=function(o,l,d){return[o-2*l+d,2*(l-o),o]}(Re,Oe,Ee),dt=function(o,l,d,f){var p=l*l-4*o*(d-=f);if(p<0)return[];var m=Math.sqrt(p),w=2*o;return[(-l+m)/w,(-l-m)/w]}(ot[0],ot[1],ot[2],me),it=dt.filter(function(rt){return 0<=rt&&rt<=1});if(it.length>0)return it[0]}return null},W=Object.keys(F),Y=0;Y<W.length;Y++){var ne=F[W[Y]],se=H(o,l,ne);if(null!=se){var Me=dr(ne[5],ne[3],ne[1],se);if(ne.isTop&&Me<=l||ne.isBottom&&l<=Me)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:gs(4,0),draw:function(o,l,d,f,p){this.renderer.nodeShapeImpl(this.name,o,l,d,f,p)},intersectLine:function(o,l,d,f,p,m,w){var S=l-(f/2+w),H=Ws(p,m,o,l,o-(d/2+w),S,o+(d/2+w),S,!1);return H.length>0?H:Ya(p,m,o,l,d,f,w)},checkPoint:function(o,l,d,f,p,m,w){var T=wd(f,p),S=2*T;if(lo(o,l,this.points,m,w,f,p-S,[0,-1],d)||lo(o,l,this.points,m,w,f-S,p,[0,-1],d))return!0;var k=f/2+2*d,F=p/2+2*d;return!!(Vr(o,l,[m-k,w-F,m-k,w,m+k,w,m+k,w-F])||Ka(o,l,S,S,m+f/2-T,w+p/2-T,d)||Ka(o,l,S,S,m-f/2+T,w+p/2-T,d))}}},registerNodeShapes:function(){var c=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",gs(3,0)),this.generateRoundPolygon("round-triangle",gs(3,0)),this.generatePolygon("rectangle",gs(4,0)),c.square=c.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var l=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",l),this.generateRoundPolygon("round-diamond",l),this.generatePolygon("pentagon",gs(5,0)),this.generateRoundPolygon("round-pentagon",gs(5,0)),this.generatePolygon("hexagon",gs(6,0)),this.generateRoundPolygon("round-hexagon",gs(6,0)),this.generatePolygon("heptagon",gs(7,0)),this.generateRoundPolygon("round-heptagon",gs(7,0)),this.generatePolygon("octagon",gs(8,0)),this.generateRoundPolygon("round-octagon",gs(8,0));var d=new Array(20),f=kl(5,0),p=kl(5,Math.PI/5),m=.5*(3-Math.sqrt(5));m*=1.57;for(var w=0;w<p.length/2;w++)p[2*w]*=m,p[2*w+1]*=m;for(w=0;w<5;w++)d[4*w]=f[2*w],d[4*w+1]=f[2*w+1],d[4*w+2]=p[2*w],d[4*w+3]=p[2*w+1];d=ou(d),this.generatePolygon("star",d),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var T=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",T),this.generateRoundPolygon("round-tag",T),c.makePolygon=function(S){var H,F="polygon-"+S.join("$");return(H=this[F])?H:o.generatePolygon(F,S)}}},qd={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(c){c=c||gd();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=c},beforeRender:function(c,o){if(!this.destroyed){null==o&&Br("Priority is not optional for beforeRender");var l=this.beforeRenderCallbacks;l.push({fn:c,priority:o}),l.sort(function(d,f){return f.priority-d.priority})}}},Ry=function(o,l,d){for(var f=o.beforeRenderCallbacks,p=0;p<f.length;p++)f[p].fn(l,d)};qd.startRenderLoop=function(){var c=this,o=c.cy;c.renderLoopStarted||(c.renderLoopStarted=!0,xl(function d(f){if(!c.destroyed){if(!o.batching())if(c.requestedFrame&&!c.skipFrame){Ry(c,!0,f);var p=zi();c.render(c.renderOptions);var m=c.lastDrawTime=zi();void 0===c.averageRedrawTime&&(c.averageRedrawTime=m-p),void 0===c.redrawCount&&(c.redrawCount=0),c.redrawCount++,void 0===c.redrawTotalTime&&(c.redrawTotalTime=0);var w=m-p;c.redrawTotalTime+=w,c.lastRedrawTime=w,c.averageRedrawTime=c.averageRedrawTime/2+w/2,c.requestedFrame=!1}else Ry(c,!1,f);c.skipFrame=!1,xl(d)}}))};var km=function(o){this.init(o)},Ul=km.prototype;Ul.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Ul.init=function(c){var o=this;o.options=c,o.cy=c.cy;var l=o.container=c.cy.container();if(z){var d=z.document,f=d.head,p="__________cytoscape_stylesheet",m="__________cytoscape_container",w=null!=d.getElementById(p);if(l.className.indexOf(m)<0&&(l.className=(l.className||"")+" "+m),!w){var T=d.createElement("style");T.id=p,T.innerHTML="."+m+" { position: relative; }",f.insertBefore(T,f.children[0])}"static"===z.getComputedStyle(l).getPropertyValue("position")&&wr("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=c.showFps,o.debug=c.debug,o.hideEdgesOnViewport=c.hideEdgesOnViewport,o.textureOnViewport=c.textureOnViewport,o.wheelSensitivity=c.wheelSensitivity,o.motionBlurEnabled=c.motionBlur,o.forcedPixelRatio=ge(c.pixelRatio)?c.pixelRatio:null,o.motionBlur=c.motionBlur,o.motionBlurOpacity=c.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=c.desktopTapThreshold,o.desktopTapThreshold2=c.desktopTapThreshold*c.desktopTapThreshold,o.touchTapThreshold=c.touchTapThreshold,o.touchTapThreshold2=c.touchTapThreshold*c.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},Ul.notify=function(c,o){var l=this,d=l.cy;if(!this.destroyed){if("init"===c)return void l.load();if("destroy"===c)return void l.destroy();("add"===c||"remove"===c||"move"===c&&d.hasCompoundNodes()||"load"===c||"zorder"===c||"mount"===c)&&l.invalidateCachedZSortedEles(),"viewport"===c&&l.redrawHint("select",!0),("load"===c||"resize"===c||"mount"===c)&&(l.invalidateContainerClientCoordsCache(),l.matchCanvasSize(l.container)),l.redrawHint("eles",!0),l.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Ul.destroy=function(){var c=this;c.destroyed=!0,c.cy.stopAnimationLoop();for(var o=0;o<c.bindings.length;o++){var l=c.bindings[o],f=l.target;(f.off||f.removeEventListener).apply(f,l.args)}if(c.bindings=[],c.beforeRenderCallbacks=[],c.onUpdateEleCalcsFns=[],c.removeObserver&&c.removeObserver.disconnect(),c.styleObserver&&c.styleObserver.disconnect(),c.resizeObserver&&c.resizeObserver.disconnect(),c.labelCalcDiv)try{document.body.removeChild(c.labelCalcDiv)}catch{}},Ul.isHeadless=function(){return!1},[Ay,Am,Im,Oc,pi,qd].forEach(function(c){Zt(Ul,c)});var Om=1e3/60,Py_setupDequeueing=function(o){return function(){var d=this,f=this.renderer;if(!d.dequeueingSetup){d.dequeueingSetup=!0;var p=M.default(function(){f.redrawHint("eles",!0),f.redrawHint("drag",!0),f.redraw()},o.deqRedrawThreshold);f.beforeRender(function(S,k){var F=zi(),H=f.averageRedrawTime,W=f.lastRedrawTime,Y=[],Q=f.cy.extent(),ne=f.getPixelRatio();for(S||f.flushRenderedStyleQueue();;){var se=zi(),le=se-F,ce=se-k;if(W<Om){if(ce>=o.deqFastCost*(Om-(S?H:0)))break}else if(S){if(le>=o.deqCost*W||le>=o.deqAvgCost*H)break}else if(ce>=o.deqNoDrawCost*Om)break;var Me=o.deq(d,ne,Q);if(!(Me.length>0))break;for(var Ae=0;Ae<Me.length;Ae++)Y.push(Me[Ae])}Y.length>0&&(o.onDeqd(d,Y),!S&&o.shouldRedraw(d,Y,ne,Q)&&p())},(o.priority||ru)(d))}}},yw=function(){function c(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nu;N(this,c),this.idsByKey=new As,this.keyForId=new As,this.cachesByLvl=new As,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=l}return J(c,[{key:"getIdsFor",value:function(l){null==l&&Br("Can not get id list for null key");var d=this.idsByKey,f=this.idsByKey.get(l);return f||(f=new Wa,d.set(l,f)),f}},{key:"addIdForKey",value:function(l,d){null!=l&&this.getIdsFor(l).add(d)}},{key:"deleteIdForKey",value:function(l,d){null!=l&&this.getIdsFor(l).delete(d)}},{key:"getNumberOfIdsForKey",value:function(l){return null==l?0:this.getIdsFor(l).size}},{key:"updateKeyMappingFor",value:function(l){var d=l.id(),f=this.keyForId.get(d),p=this.getKey(l);this.deleteIdForKey(f,d),this.addIdForKey(p,d),this.keyForId.set(d,p)}},{key:"deleteKeyMappingFor",value:function(l){var d=l.id(),f=this.keyForId.get(d);this.deleteIdForKey(f,d),this.keyForId.delete(d)}},{key:"keyHasChangedFor",value:function(l){var d=l.id();return this.keyForId.get(d)!==this.getKey(l)}},{key:"isInvalid",value:function(l){return this.keyHasChangedFor(l)||this.doesEleInvalidateKey(l)}},{key:"getCachesAt",value:function(l){var d=this.cachesByLvl,f=this.lvls,p=d.get(l);return p||(p=new As,d.set(l,p),f.push(l)),p}},{key:"getCache",value:function(l,d){return this.getCachesAt(d).get(l)}},{key:"get",value:function(l,d){var f=this.getKey(l),p=this.getCache(f,d);return null!=p&&this.updateKeyMappingFor(l),p}},{key:"getForCachedKey",value:function(l,d){var f=this.keyForId.get(l.id());return this.getCache(f,d)}},{key:"hasCache",value:function(l,d){return this.getCachesAt(d).has(l)}},{key:"has",value:function(l,d){var f=this.getKey(l);return this.hasCache(f,d)}},{key:"setCache",value:function(l,d,f){f.key=l,this.getCachesAt(d).set(l,f)}},{key:"set",value:function(l,d,f){var p=this.getKey(l);this.setCache(p,d,f),this.updateKeyMappingFor(l)}},{key:"deleteCache",value:function(l,d){this.getCachesAt(d).delete(l)}},{key:"delete",value:function(l,d){var f=this.getKey(l);this.deleteCache(f,d)}},{key:"invalidateKey",value:function(l){var d=this;this.lvls.forEach(function(f){return d.deleteCache(l,f)})}},{key:"invalidate",value:function(l){var d=l.id(),f=this.keyForId.get(d);this.deleteKeyMappingFor(l);var p=this.doesEleInvalidateKey(l);return p&&this.invalidateKey(f),p||0===this.getNumberOfIdsForKey(f)}}]),c}(),Iu={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Lm=Ti({getKey:null,doesEleInvalidateKey:nu,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:To,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Rc=function(o,l){var d=this;d.renderer=o,d.onDequeues=[];var f=Lm(l);Zt(d,f),d.lookup=new yw(f.getKey,f.doesEleInvalidateKey),d.setupDequeueing()},Li=Rc.prototype;Li.reasons=Iu,Li.getTextureQueue=function(c){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[c]=o.eleImgCaches[c]||[]},Li.getRetiredTextureQueue=function(c){var l=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return l[c]=l[c]||[]},Li.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new D.default(function(l,d){return d.reqs-l.reqs})},Li.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Li.getElement=function(c,o,l,d,f){var p=this,m=this.renderer,w=m.cy.zoom(),T=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!c.visible()||c.removed()||!p.allowEdgeTxrCaching&&c.isEdge()||!p.allowParentTxrCaching&&c.isParent())return null;if(null==d&&(d=Math.ceil(hi(w*l))),d<-4)d=-4;else if(w>=7.99||d>3)return null;var S=Math.pow(2,d),k=o.h*S,F=o.w*S,H=m.eleTextBiggerThanMin(c,S);if(!this.isVisible(c,H))return null;var Y,W=T.get(c,d);if(W&&W.invalidated&&(W.invalidated=!1,W.texture.invalidatedWidth-=W.width),W)return W;if(Y=k<=25?25:k<=50?50:50*Math.ceil(k/50),k>1024||F>1024)return null;var Q=p.getTextureQueue(Y),ne=Q[Q.length-2],se=function(){return p.recycleTexture(Y,F)||p.addTexture(Y,F)};ne||(ne=Q[Q.length-1]),ne||(ne=se()),ne.width-ne.usedWidth<F&&(ne=se());for(var Ae,le=function(Ge){return Ge&&Ge.scaledLabelShown===H},ce=f&&f===Iu.dequeue,pe=f&&f===Iu.highQuality,Me=f&&f===Iu.downscale,me=d+1;me<=3;me++){var De=T.get(c,me);if(De){Ae=De;break}}var ve=Ae&&Ae.level===d+1?Ae:null,Re=function(){ne.context.drawImage(ve.texture.canvas,ve.x,0,ve.width,ve.height,ne.usedWidth,0,F,k)};if(ne.context.setTransform(1,0,0,1,0,0),ne.context.clearRect(ne.usedWidth,0,F,Y),le(ve))Re();else if(le(Ae)){if(!pe)return p.queueElement(c,Ae.level-1),Ae;for(var Oe=Ae.level;Oe>d;Oe--)ve=p.getElement(c,o,l,Oe,Iu.downscale);Re()}else{var Ee;if(!ce&&!pe&&!Me)for(var He=d-1;He>=-4;He--){var Ie=T.get(c,He);if(Ie){Ee=Ie;break}}if(le(Ee))return p.queueElement(c,d),Ee;ne.context.translate(ne.usedWidth,0),ne.context.scale(S,S),this.drawElement(ne.context,c,o,H,!1),ne.context.scale(1/S,1/S),ne.context.translate(-ne.usedWidth,0)}return W={x:ne.usedWidth,texture:ne,level:d,scale:S,width:F,height:k,scaledLabelShown:H},ne.usedWidth+=Math.ceil(F+8),ne.eleCaches.push(W),T.set(c,d,W),p.checkTextureFullness(ne),W},Li.invalidateElements=function(c){for(var o=0;o<c.length;o++)this.invalidateElement(c[o])},Li.invalidateElement=function(c){var o=this,l=o.lookup,d=[];if(l.isInvalid(c)){for(var p=-4;p<=3;p++){var m=l.getForCachedKey(c,p);m&&d.push(m)}if(l.invalidate(c))for(var T=0;T<d.length;T++){var S=d[T],k=S.texture;k.invalidatedWidth+=S.width,S.invalidated=!0,o.checkTextureUtility(k)}o.removeFromQueue(c)}},Li.checkTextureUtility=function(c){c.invalidatedWidth>=.2*c.width&&this.retireTexture(c)},Li.checkTextureFullness=function(c){var l=this.getTextureQueue(c.height);c.usedWidth/c.width>.8&&c.fullnessChecks>=10?ba(l,c):c.fullnessChecks++},Li.retireTexture=function(c){var l=c.height,d=this.getTextureQueue(l),f=this.lookup;ba(d,c),c.retired=!0;for(var p=c.eleCaches,m=0;m<p.length;m++){var w=p[m];f.deleteCache(w.key,w.level)}vd(p),this.getRetiredTextureQueue(l).push(c)},Li.addTexture=function(c,o){var f={};return this.getTextureQueue(c).push(f),f.eleCaches=[],f.height=c,f.width=Math.max(1024,o),f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,f.canvas=this.renderer.makeOffscreenCanvas(f.width,f.height),f.context=f.canvas.getContext("2d"),f},Li.recycleTexture=function(c,o){for(var d=this.getTextureQueue(c),f=this.getRetiredTextureQueue(c),p=0;p<f.length;p++){var m=f[p];if(m.width>=o)return m.retired=!1,m.usedWidth=0,m.invalidatedWidth=0,m.fullnessChecks=0,vd(m.eleCaches),m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(0,0,m.width,m.height),ba(f,m),d.push(m),m}},Li.queueElement=function(c,o){var d=this.getElementQueue(),f=this.getElementKeyToQueue(),p=this.getKey(c),m=f[p];if(m)m.level=Math.max(m.level,o),m.eles.merge(c),m.reqs++,d.updateItem(m);else{var w={eles:c.spawn().merge(c),level:o,reqs:1,key:p};d.push(w),f[p]=w}},Li.dequeue=function(c){for(var o=this,l=o.getElementQueue(),d=o.getElementKeyToQueue(),f=[],p=o.lookup,m=0;m<1&&l.size()>0;m++){var w=l.pop(),T=w.key,S=w.eles[0],k=p.hasCache(S,w.level);if(d[T]=null,!k){f.push(w);var F=o.getBoundingBox(S);o.getElement(S,F,c,w.level,Iu.dequeue)}}return f},Li.removeFromQueue=function(c){var l=this.getElementQueue(),d=this.getElementKeyToQueue(),f=this.getKey(c),p=d[f];null!=p&&(1===p.eles.length?(p.reqs=tu,l.updateItem(p),l.pop(),d[f]=null):p.eles.unmerge(c))},Li.onDequeue=function(c){this.onDequeues.push(c)},Li.offDequeue=function(c){ba(this.onDequeues,c)},Li.setupDequeueing=Py_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l,d){return o.dequeue(l,d)},onDeqd:function(o,l){for(var d=0;d<o.onDequeues.length;d++)(0,o.onDequeues[d])(l)},shouldRedraw:function(o,l,d,f){for(var p=0;p<l.length;p++)for(var m=l[p].eles,w=0;w<m.length;w++){var T=m[w].boundingBox();if(ao(T,f))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var Gy=function(o){var l=this,d=l.renderer=o,f=d.cy;l.layersByLevel={},l.firstGet=!0,l.lastInvalidationTime=zi()-500,l.skipping=!1,l.eleTxrDeqs=f.collection(),l.scheduleElementRefinement=M.default(function(){l.refineElementTextures(l.eleTxrDeqs),l.eleTxrDeqs.unmerge(l.eleTxrDeqs)},50),d.beforeRender(function(m,w){l.skipping=w-l.lastInvalidationTime<=250},d.beforeRenderPriorities.lyrTxrSkip),l.layersQueue=new D.default(function(w,T){return T.reqs-w.reqs}),l.setupDequeueing()},cs=Gy.prototype,$y=0,Wy=Math.pow(2,53)-1;cs.makeLayer=function(c,o){var l=Math.pow(2,o),d=Math.ceil(c.w*l),f=Math.ceil(c.h*l),p=this.renderer.makeOffscreenCanvas(d,f),m={id:$y=++$y%Wy,bb:c,level:o,width:d,height:f,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},w=m.context,T=-m.bb.x1,S=-m.bb.y1;return w.scale(l,l),w.translate(T,S),m},cs.getLayers=function(c,o,l){var d=this,m=d.renderer.cy.zoom(),w=d.firstGet;if(d.firstGet=!1,null==l)if((l=Math.ceil(hi(m*o)))<-4)l=-4;else if(m>=3.99||l>2)return null;d.validateLayersElesOrdering(l,c);var F,W,T=d.layersByLevel,S=Math.pow(2,l),k=T[l]=T[l]||[];if(d.levelIsComplete(l,c))return k;!function(){var Re=function(Qe){if(d.validateLayersElesOrdering(Qe,c),d.levelIsComplete(Qe,c))return W=T[Qe],!0},Oe=function(Qe){if(!W)for(var Ge=l+Qe;-4<=Ge&&Ge<=2&&!Re(Ge);Ge+=Qe);};Oe(1),Oe(-1);for(var Ee=k.length-1;Ee>=0;Ee--){var He=k[Ee];He.invalid&&ba(k,He)}}();var ne=function(Re){var Oe=(Re=Re||{}).after;if(function(){if(!F){F=Kr();for(var Re=0;Re<c.length;Re++)tn(F,c[Re].boundingBox())}}(),F.w*S*(F.h*S)>16e6)return null;var He=d.makeLayer(F,l);if(null!=Oe){var Ie=k.indexOf(Oe)+1;k.splice(Ie,0,He)}else(void 0===Re.insert||Re.insert)&&k.unshift(He);return He};if(d.skipping&&!w)return null;for(var se=null,le=c.length/1,ce=!w,pe=0;pe<c.length;pe++){var Me=c[pe],Ae=Me._private.rscratch,me=Ae.imgLayerCaches=Ae.imgLayerCaches||{},De=me[l];if(De)se=De;else{if((!se||se.eles.length>=le||!Yo(se.bb,Me.boundingBox()))&&!(se=ne({insert:!0,after:se})))return null;W||ce?d.queueLayer(se,Me):d.drawEleInLayer(se,Me,l,o),se.eles.push(Me),me[l]=se}}return W||(ce?null:k)},cs.getEleLevelForLayerLevel=function(c,o){return c},cs.drawEleInLayer=function(c,o,l,d){var p=this.renderer,m=c.context,w=o.boundingBox();0===w.w||0===w.h||!o.visible()||(l=this.getEleLevelForLayerLevel(l,d),p.setImgSmoothing(m,!1),p.drawCachedElement(m,o,null,null,l,!0),p.setImgSmoothing(m,!0))},cs.levelIsComplete=function(c,o){var d=this.layersByLevel[c];if(!d||0===d.length)return!1;for(var f=0,p=0;p<d.length;p++){var m=d[p];if(m.reqs>0||m.invalid)return!1;f+=m.eles.length}return f===o.length},cs.validateLayersElesOrdering=function(c,o){var l=this.layersByLevel[c];if(l)for(var d=0;d<l.length;d++){for(var f=l[d],p=-1,m=0;m<o.length;m++)if(f.eles[0]===o[m]){p=m;break}if(p<0)this.invalidateLayer(f);else{var w=p;for(m=0;m<f.eles.length;m++)if(f.eles[m]!==o[w+m]){this.invalidateLayer(f);break}}}},cs.updateElementsInLayers=function(c,o){for(var d=et(c[0]),f=0;f<c.length;f++)for(var p=d?null:c[f],m=d?c[f]:c[f].ele,w=m._private.rscratch,T=w.imgLayerCaches=w.imgLayerCaches||{},S=-4;S<=2;S++){var k=T[S];k&&(p&&this.getEleLevelForLayerLevel(k.level)!==p.level||o(k,m,p))}},cs.haveLayers=function(){for(var o=!1,l=-4;l<=2;l++){var d=this.layersByLevel[l];if(d&&d.length>0){o=!0;break}}return o},cs.invalidateElements=function(c){var o=this;0!==c.length&&(o.lastInvalidationTime=zi(),0!==c.length&&o.haveLayers()&&o.updateElementsInLayers(c,function(d,f,p){o.invalidateLayer(d)}))},cs.invalidateLayer=function(c){if(this.lastInvalidationTime=zi(),!c.invalid){var o=c.level,l=c.eles;ba(this.layersByLevel[o],c),c.elesQueue=[],c.invalid=!0,c.replacement&&(c.replacement.invalid=!0);for(var f=0;f<l.length;f++){var p=l[f]._private.rscratch.imgLayerCaches;p&&(p[o]=null)}}},cs.refineElementTextures=function(c){var o=this;o.updateElementsInLayers(c,function(d,f,p){var m=d.replacement;if(m||((m=d.replacement=o.makeLayer(d.bb,d.level)).replaces=d,m.eles=d.eles),!m.reqs)for(var w=0;w<m.eles.length;w++)o.queueLayer(m,m.eles[w])})},cs.enqueueElementRefinement=function(c){this.eleTxrDeqs.merge(c),this.scheduleElementRefinement()},cs.queueLayer=function(c,o){var d=this.layersQueue,f=c.elesQueue,p=f.hasId=f.hasId||{};if(!c.replacement){if(o){if(p[o.id()])return;f.push(o),p[o.id()]=!0}c.reqs?(c.reqs++,d.updateItem(c)):(c.reqs=1,d.push(c))}},cs.dequeue=function(c){for(var o=this,l=o.layersQueue,d=[],f=0;f<1&&0!==l.size();){var p=l.peek();if(p.replacement)l.pop();else if(p.replaces&&p!==p.replaces.replacement)l.pop();else if(p.invalid)l.pop();else{var m=p.elesQueue.shift();m&&(o.drawEleInLayer(p,m,p.level,c),f++),0===d.length&&d.push(!0),0===p.elesQueue.length&&(l.pop(),p.reqs=0,p.replaces&&o.applyLayerReplacement(p),o.requestRedraw())}}return d},cs.applyLayerReplacement=function(c){var l=this.layersByLevel[c.level],d=c.replaces,f=l.indexOf(d);if(!(f<0||d.invalid)){l[f]=c;for(var p=0;p<c.eles.length;p++){var m=c.eles[p]._private,w=m.imgLayerCaches=m.imgLayerCaches||{};w&&(w[c.level]=c)}this.requestRedraw()}},cs.requestRedraw=M.default(function(){var c=this.renderer;c.redrawHint("eles",!0),c.redrawHint("drag",!0),c.redraw()},100),cs.setupDequeueing=Py_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l){return o.dequeue(l)},onDeqd:ru,shouldRedraw:To,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var zm,Sf={};function jm(c,o){for(var l=0;l<o.length;l++){var d=o[l];c.lineTo(d.x,d.y)}}function Dw(c,o,l){for(var d,f=0;f<o.length;f++){var p=o[f];0===f&&(d=p),c.lineTo(p.x,p.y)}c.quadraticCurveTo(l.x,l.y,d.x,d.y)}function Yy(c,o,l){c.beginPath&&c.beginPath();for(var d=o,f=0;f<d.length;f++)c.lineTo((p=d[f]).x,p.y);var m=l,w=l[0];for(c.moveTo(w.x,w.y),f=1;f<m.length;f++){var p;c.lineTo((p=m[f]).x,p.y)}c.closePath&&c.closePath()}function Xy(c,o,l,d,f){c.beginPath&&c.beginPath(),c.arc(l,d,f,0,2*Math.PI,!1);var p=o,m=p[0];c.moveTo(m.x,m.y);for(var w=0;w<p.length;w++){var T=p[w];c.lineTo(T.x,T.y)}c.closePath&&c.closePath()}function Ky(c,o,l,d){c.arc(o,l,d,0,2*Math.PI,!1)}Sf.arrowShapeImpl=function(c){return(zm||(zm={polygon:jm,"triangle-backcurve":Dw,"triangle-tee":Yy,"circle-triangle":Xy,"triangle-cross":Yy,circle:Ky}))[c]};var ws={drawElement:function(c,o,l,d,f,p){o.isNode()?this.drawNode(c,o,l,d,f,p):this.drawEdge(c,o,l,d,f,p)},drawElementOverlay:function(c,o){o.isNode()?this.drawNodeOverlay(c,o):this.drawEdgeOverlay(c,o)},drawElementUnderlay:function(c,o){o.isNode()?this.drawNodeUnderlay(c,o):this.drawEdgeUnderlay(c,o)},drawCachedElementPortion:function(c,o,l,d,f,p,m,w){var T=this,S=l.getBoundingBox(o);if(0!==S.w&&0!==S.h){var k=l.getElement(o,S,d,f,p);if(null!=k){var F=w(T,o);if(0===F)return;var se,le,ce,pe,Me,De,H=m(T,o),W=S.x1,Y=S.y1,Q=S.w,ne=S.h;if(0!==H){var Ae=l.getRotationPoint(o);c.translate(ce=Ae.x,pe=Ae.y),c.rotate(H),(Me=T.getImgSmoothing(c))||T.setImgSmoothing(c,!0);var me=l.getRotationOffset(o);se=me.x,le=me.y}else se=W,le=Y;1!==F&&(c.globalAlpha=(De=c.globalAlpha)*F),c.drawImage(k.texture.canvas,k.x,0,k.width,k.height,se,le,Q,ne),1!==F&&(c.globalAlpha=De),0!==H&&(c.rotate(-H),c.translate(-ce,-pe),Me||T.setImgSmoothing(c,!1))}else l.drawElement(c,o)}}},qy=function(){return 0},Zy=function(o,l){return o.getTextAngle(l,null)},Mw=function(o,l){return o.getTextAngle(l,"source")},pM=function(o,l){return o.getTextAngle(l,"target")},Df=function(o,l){return l.effectiveOpacity()},Um=function(o,l){return l.pstyle("text-opacity").pfValue*l.effectiveOpacity()};ws.drawCachedElement=function(c,o,l,d,f,p){var m=this,w=m.data,T=w.eleTxrCache,S=w.lblTxrCache,k=w.slbTxrCache,F=w.tlbTxrCache,H=o.boundingBox(),W=!0===p?T.reasons.highQuality:null;if(0!==H.w&&0!==H.h&&o.visible()&&(!d||ao(H,d))){var Y=o.isEdge(),Q=o.element()._private.rscratch.badLine;m.drawElementUnderlay(c,o),m.drawCachedElementPortion(c,o,T,l,f,W,qy,Df),(!Y||!Q)&&m.drawCachedElementPortion(c,o,S,l,f,W,Zy,Um),Y&&!Q&&(m.drawCachedElementPortion(c,o,k,l,f,W,Mw,Um),m.drawCachedElementPortion(c,o,F,l,f,W,pM,Um)),m.drawElementOverlay(c,o)}},ws.drawElements=function(c,o){for(var d=0;d<o.length;d++)this.drawElement(c,o[d])},ws.drawCachedElements=function(c,o,l,d){for(var p=0;p<o.length;p++)this.drawCachedElement(c,o[p],l,d)},ws.drawCachedNodes=function(c,o,l,d){for(var p=0;p<o.length;p++){var m=o[p];m.isNode()&&this.drawCachedElement(c,m,l,d)}},ws.drawLayeredElements=function(c,o,l,d){var p=this.data.lyrTxrCache.getLayers(o,l);if(p)for(var m=0;m<p.length;m++){var w=p[m],T=w.bb;0===T.w||0===T.h||c.drawImage(w.canvas,T.x1,T.y1,T.w,T.h)}else this.drawCachedElements(c,o,l,d)};var Ea={drawEdge:function(c,o,l){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],m=this,w=o._private.rscratch;if((!p||o.visible())&&!w.badLine&&null!=w.allpts&&!isNaN(w.allpts[0])){var T;l&&c.translate(-(T=l).x1,-T.y1);var S=p?o.pstyle("opacity").value:1,k=p?o.pstyle("line-opacity").value:1,F=o.pstyle("curve-style").value,H=o.pstyle("line-style").value,W=o.pstyle("width").pfValue,Y=o.pstyle("line-cap").value,Q=S*k,ne=S*k,se=function(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;"straight-triangle"===F?(m.eleStrokeStyle(c,o,Ee),m.drawEdgeTrianglePath(o,c,w.allpts)):(c.lineWidth=W,c.lineCap=Y,m.eleStrokeStyle(c,o,Ee),m.drawEdgePath(o,c,w.allpts,H),c.lineCap="butt")},pe=function(){m.drawArrowheads(c,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne)};if(c.lineJoin="round","yes"===o.pstyle("ghost").value){var me=o.pstyle("ghost-offset-x").pfValue,De=o.pstyle("ghost-offset-y").pfValue,ve=o.pstyle("ghost-opacity").value,Re=Q*ve;c.translate(me,De),se(Re),pe(Re),c.translate(-me,-De)}f&&m.drawEdgeUnderlay(c,o),se(),pe(),f&&m.drawEdgeOverlay(c,o),m.drawElementText(c,o,null,d),l&&c.translate(T.x1,T.y1)}}},Gm=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,d){if(d.visible()){var f=d.pstyle("".concat(o,"-opacity")).value;if(0!==f){var p=this,m=p.usePaths(),w=d._private.rscratch,S=2*d.pstyle("".concat(o,"-padding")).pfValue,k=d.pstyle("".concat(o,"-color")).value;l.lineWidth=S,l.lineCap="self"!==w.edgeType||m?"round":"butt",p.colorStrokeStyle(l,k[0],k[1],k[2],f),p.drawEdgePath(d,l,w.allpts,"solid")}}}};Ea.drawEdgeOverlay=Gm("overlay"),Ea.drawEdgeUnderlay=Gm("underlay"),Ea.drawEdgePath=function(c,o,l,d){var m,f=c._private.rscratch,p=o,w=!1,T=this.usePaths(),S=c.pstyle("line-dash-pattern").pfValue,k=c.pstyle("line-dash-offset").pfValue;if(T){var F=l.join("$");f.pathCacheKey&&f.pathCacheKey===F?(m=o=f.pathCache,w=!0):(m=o=new Path2D,f.pathCacheKey=F,f.pathCache=m)}if(p.setLineDash)switch(d){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(S),p.lineDashOffset=k;break;case"solid":p.setLineDash([])}if(!w&&!f.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(l[0],l[1]),f.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var W=2;W+3<l.length;W+=4)o.quadraticCurveTo(l[W],l[W+1],l[W+2],l[W+3]);break;case"straight":case"segments":case"haystack":for(var Y=2;Y+1<l.length;Y+=2)o.lineTo(l[Y],l[Y+1])}o=p,T?o.stroke(m):o.stroke(),o.setLineDash&&o.setLineDash([])},Ea.drawEdgeTrianglePath=function(c,o,l){o.fillStyle=o.strokeStyle;for(var d=c.pstyle("width").pfValue,f=0;f+1<l.length;f+=2){var p=[l[f+2]-l[f],l[f+3]-l[f+1]],m=Math.sqrt(p[0]*p[0]+p[1]*p[1]),w=[p[1]/m,-p[0]/m],T=[w[0]*d/2,w[1]*d/2];o.beginPath(),o.moveTo(l[f]-T[0],l[f+1]-T[1]),o.lineTo(l[f]+T[0],l[f+1]+T[1]),o.lineTo(l[f+2],l[f+3]),o.closePath(),o.fill()}},Ea.drawArrowheads=function(c,o,l){var d=o._private.rscratch,f="haystack"===d.edgeType;f||this.drawArrowhead(c,o,"source",d.arrowStartX,d.arrowStartY,d.srcArrowAngle,l),this.drawArrowhead(c,o,"mid-target",d.midX,d.midY,d.midtgtArrowAngle,l),this.drawArrowhead(c,o,"mid-source",d.midX,d.midY,d.midsrcArrowAngle,l),f||this.drawArrowhead(c,o,"target",d.arrowEndX,d.arrowEndY,d.tgtArrowAngle,l)},Ea.drawArrowhead=function(c,o,l,d,f,p,m){if(!(isNaN(d)||null==d||isNaN(f)||null==f||isNaN(p)||null==p)){var w=this,T=o.pstyle(l+"-arrow-shape").value;if("none"!==T){var S="hollow"===o.pstyle(l+"-arrow-fill").value?"both":"filled",k=o.pstyle(l+"-arrow-fill").value,F=o.pstyle("width").pfValue,H=o.pstyle("opacity").value;void 0===m&&(m=H);var W=c.globalCompositeOperation;(1!==m||"hollow"===k)&&(c.globalCompositeOperation="destination-out",w.colorFillStyle(c,255,255,255,1),w.colorStrokeStyle(c,255,255,255,1),w.drawArrowShape(o,c,S,F,T,d,f,p),c.globalCompositeOperation=W);var Y=o.pstyle(l+"-arrow-color").value;w.colorFillStyle(c,Y[0],Y[1],Y[2],m),w.colorStrokeStyle(c,Y[0],Y[1],Y[2],m),w.drawArrowShape(o,c,k,F,T,d,f,p)}}},Ea.drawArrowShape=function(c,o,l,d,f,p,m,w){var F,T=this,S=this.usePaths()&&"triangle-cross"!==f,k=!1,H=o,W={x:p,y:m},Y=c.pstyle("arrow-scale").value,Q=this.getArrowWidth(d,Y),ne=T.arrowShapes[f];if(S){var se=T.arrowPathCache=T.arrowPathCache||[],le=Ga(f),ce=se[le];null!=ce?(F=o=ce,k=!0):(F=o=new Path2D,se[le]=F)}k||(o.beginPath&&o.beginPath(),S?ne.draw(o,1,0,{x:0,y:0},1):ne.draw(o,Q,w,W,d),o.closePath&&o.closePath()),o=H,S&&(o.translate(p,m),o.rotate(w),o.scale(Q,Q)),("filled"===l||"both"===l)&&(S?o.fill(F):o.fill()),("hollow"===l||"both"===l)&&(o.lineWidth=(ne.matchEdgeWidth?d:1)/(S?Q:1),o.lineJoin="miter",S?o.stroke(F):o.stroke()),S&&(o.scale(1/Q,1/Q),o.rotate(-w),o.translate(-p,-m))};var Mf={safeDrawImage:function(c,o,l,d,f,p,m,w,T,S){if(!(f<=0||p<=0||T<=0||S<=0))try{c.drawImage(o,l,d,f,p,m,w,T,S)}catch(k){wr(k)}},drawInscribedImage:function(c,o,l,d,f){var p=this,m=l.position(),w=m.x,T=m.y,S=l.cy().style(),k=S.getIndexedStyle.bind(S),F=k(l,"background-fit","value",d),H=k(l,"background-repeat","value",d),W=l.width(),Y=l.height(),Q=2*l.padding(),ne=W+("inner"===k(l,"background-width-relative-to","value",d)?0:Q),se=Y+("inner"===k(l,"background-height-relative-to","value",d)?0:Q),le=l._private.rscratch,pe="node"===k(l,"background-clip","value",d),Me=k(l,"background-image-opacity","value",d)*f,Ae=k(l,"background-image-smoothing","value",d),me=o.width||o.cachedW,De=o.height||o.cachedH;(null==me||null==De)&&(document.body.appendChild(o),me=o.cachedW=o.width||o.offsetWidth,De=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var ve=me,Re=De;if("auto"!==k(l,"background-width","value",d)&&(ve="%"===k(l,"background-width","units",d)?k(l,"background-width","pfValue",d)*ne:k(l,"background-width","pfValue",d)),"auto"!==k(l,"background-height","value",d)&&(Re="%"===k(l,"background-height","units",d)?k(l,"background-height","pfValue",d)*se:k(l,"background-height","pfValue",d)),0!==ve&&0!==Re){if("contain"===F)ve*=Oe=Math.min(ne/ve,se/Re),Re*=Oe;else if("cover"===F){var Oe;ve*=Oe=Math.max(ne/ve,se/Re),Re*=Oe}var Ee=w-ne/2,He=k(l,"background-position-x","units",d),Ie=k(l,"background-position-x","pfValue",d);Ee+="%"===He?(ne-ve)*Ie:Ie;var Qe=k(l,"background-offset-x","units",d),Ge=k(l,"background-offset-x","pfValue",d);Ee+="%"===Qe?(ne-ve)*Ge:Ge;var We=T-se/2,nt=k(l,"background-position-y","units",d),ot=k(l,"background-position-y","pfValue",d);We+="%"===nt?(se-Re)*ot:ot;var dt=k(l,"background-offset-y","units",d),it=k(l,"background-offset-y","pfValue",d);We+="%"===dt?(se-Re)*it:it,le.pathCache&&(Ee-=w,We-=T,w=0,T=0);var rt=c.globalAlpha;c.globalAlpha=Me;var Et=p.getImgSmoothing(c),Dt=!1;if("no"===Ae&&Et?(p.setImgSmoothing(c,!1),Dt=!0):"yes"===Ae&&!Et&&(p.setImgSmoothing(c,!0),Dt=!0),"no-repeat"===H)pe&&(c.save(),le.pathCache?c.clip(le.pathCache):(p.nodeShapes[p.getNodeShape(l)].draw(c,w,T,ne,se),c.clip())),p.safeDrawImage(c,o,0,0,me,De,Ee,We,ve,Re),pe&&c.restore();else{var yt=c.createPattern(o,H);c.fillStyle=yt,p.nodeShapes[p.getNodeShape(l)].draw(c,w,T,ne,se),c.translate(Ee,We),c.fill(),c.translate(-Ee,-We)}c.globalAlpha=rt,Dt&&p.setImgSmoothing(c,Et)}}},sl={eleTextBiggerThanMin:function(c,o){if(!o){var l=c.cy().zoom(),d=this.getPixelRatio(),f=Math.ceil(hi(l*d));o=Math.pow(2,f)}return!(c.pstyle("font-size").pfValue*o<c.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(c,o,l,d,f){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],m=this;if(null==d){if(p&&!m.eleTextBiggerThanMin(o))return}else if(!1===d)return;if(o.isNode()){var w=o.pstyle("label");if(!w||!w.value)return;var T=m.getLabelJustification(o);c.textAlign=T,c.textBaseline="bottom"}else{var S=o.element()._private.rscratch.badLine,k=o.pstyle("label"),F=o.pstyle("source-label"),H=o.pstyle("target-label");if(S||(!k||!k.value)&&(!F||!F.value)&&(!H||!H.value))return;c.textAlign="center",c.textBaseline="bottom"}var Y,W=!l;l&&c.translate(-(Y=l).x1,-Y.y1),null==f?(m.drawText(c,o,null,W,p),o.isEdge()&&(m.drawText(c,o,"source",W,p),m.drawText(c,o,"target",W,p))):m.drawText(c,o,f,W,p),l&&c.translate(Y.x1,Y.y1)},getFontCache:function(c){var o;this.fontCaches=this.fontCaches||[];for(var l=0;l<this.fontCaches.length;l++)if((o=this.fontCaches[l]).context===c)return o;return this.fontCaches.push(o={context:c}),o},setupTextStyle:function(c,o){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=o.pstyle("font-style").strValue,f=o.pstyle("font-size").pfValue+"px",p=o.pstyle("font-family").strValue,m=o.pstyle("font-weight").strValue,w=l?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,T=o.pstyle("text-outline-opacity").value*w,S=o.pstyle("color").value,k=o.pstyle("text-outline-color").value;c.font=d+" "+m+" "+f+" "+p,c.lineJoin="round",this.colorFillStyle(c,S[0],S[1],S[2],w),this.colorStrokeStyle(c,k[0],k[1],k[2],T)},getTextAngle:function(c,o){var f=c._private.rscratch,m=c.pstyle((o?o+"-":"")+"text-rotation"),w=Ao(f,"labelAngle",o);return"autorotate"===m.strValue?c.isEdge()?w:0:"none"===m.strValue?0:m.pfValue},drawText:function(c,o,l){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],m=o._private.rscratch,w=f?o.effectiveOpacity():1;if(!f||0!==w&&0!==o.pstyle("text-opacity").value){"main"===l&&(l=null);var k,F,T=Ao(m,"labelX",l),S=Ao(m,"labelY",l),H=this.getLabelText(o,l);if(null!=H&&""!==H&&!isNaN(T)&&!isNaN(S)){this.setupTextStyle(c,o,f);var Me,W=l?l+"-":"",Y=Ao(m,"labelWidth",l),Q=Ao(m,"labelHeight",l),ne=o.pstyle(W+"text-margin-x").pfValue,se=o.pstyle(W+"text-margin-y").pfValue,le=o.isEdge(),ce=o.pstyle("text-halign").value,pe=o.pstyle("text-valign").value;switch(le&&(ce="center",pe="center"),T+=ne,S+=se,0!==(Me=d?this.getTextAngle(o,l):0)&&(c.translate(k=T,F=S),c.rotate(Me),T=0,S=0),pe){case"top":break;case"center":S+=Q/2;break;case"bottom":S+=Q}var Ae=o.pstyle("text-background-opacity").value,me=o.pstyle("text-border-opacity").value,De=o.pstyle("text-border-width").pfValue,ve=o.pstyle("text-background-padding").pfValue;if(Ae>0||De>0&&me>0){var Re=T-ve;switch(ce){case"left":Re-=Y;break;case"center":Re-=Y/2}var Oe=S-Q-ve,Ee=Y+2*ve,He=Q+2*ve;if(Ae>0){var Ie=c.fillStyle,Qe=o.pstyle("text-background-color").value;c.fillStyle="rgba("+Qe[0]+","+Qe[1]+","+Qe[2]+","+Ae*w+")",0===o.pstyle("text-background-shape").strValue.indexOf("round")?function Qy(c,o,l,d,f){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;c.beginPath(),c.moveTo(o+p,l),c.lineTo(o+d-p,l),c.quadraticCurveTo(o+d,l,o+d,l+p),c.lineTo(o+d,l+f-p),c.quadraticCurveTo(o+d,l+f,o+d-p,l+f),c.lineTo(o+p,l+f),c.quadraticCurveTo(o,l+f,o,l+f-p),c.lineTo(o,l+p),c.quadraticCurveTo(o,l,o+p,l),c.closePath(),c.fill()}(c,Re,Oe,Ee,He,2):c.fillRect(Re,Oe,Ee,He),c.fillStyle=Ie}if(De>0&&me>0){var We=c.strokeStyle,nt=c.lineWidth,ot=o.pstyle("text-border-color").value,dt=o.pstyle("text-border-style").value;if(c.strokeStyle="rgba("+ot[0]+","+ot[1]+","+ot[2]+","+me*w+")",c.lineWidth=De,c.setLineDash)switch(dt){case"dotted":c.setLineDash([1,1]);break;case"dashed":c.setLineDash([4,2]);break;case"double":c.lineWidth=De/4,c.setLineDash([]);break;case"solid":c.setLineDash([])}if(c.strokeRect(Re,Oe,Ee,He),"double"===dt){var it=De/2;c.strokeRect(Re+it,Oe+it,Ee-2*it,He-2*it)}c.setLineDash&&c.setLineDash([]),c.lineWidth=nt,c.strokeStyle=We}}var rt=2*o.pstyle("text-outline-width").pfValue;if(rt>0&&(c.lineWidth=rt),"wrap"===o.pstyle("text-wrap").value){var Et=Ao(m,"labelWrapCachedLines",l),Dt=Ao(m,"labelLineHeight",l),yt=Y/2,gt=this.getLabelJustification(o);switch("auto"===gt||("left"===ce?"left"===gt?T+=-Y:"center"===gt&&(T+=-yt):"center"===ce?"left"===gt?T+=-yt:"right"===gt&&(T+=yt):"right"===ce&&("center"===gt?T+=yt:"right"===gt&&(T+=Y))),pe){case"top":case"center":case"bottom":S-=(Et.length-1)*Dt}for(var tt=0;tt<Et.length;tt++)rt>0&&c.strokeText(Et[tt],T,S),c.fillText(Et[tt],T,S),S+=Dt}else rt>0&&c.strokeText(H,T,S),c.fillText(H,T,S);0!==Me&&(c.rotate(-Me),c.translate(-k,-F))}}}},ol={drawNode:function(c,o,l){var w,T,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],m=this,S=o._private,k=S.rscratch,F=o.position();if(ge(F.x)&&ge(F.y)&&(!p||o.visible())){var Y,se,H=p?o.effectiveOpacity():1,W=m.usePaths(),Q=!1,ne=o.padding();w=o.width()+2*ne,T=o.height()+2*ne,l&&c.translate(-(se=l).x1,-se.y1);for(var ce=o.pstyle("background-image").value,pe=new Array(ce.length),Me=new Array(ce.length),Ae=0,me=0;me<ce.length;me++){var De=ce[me];if(pe[me]=null!=De&&"none"!==De){var Re=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",me);Ae++,Me[me]=m.getCachedImage(De,Re,function(){S.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var Oe=o.pstyle("background-blacken").value,Ee=o.pstyle("border-width").pfValue,He=o.pstyle("background-opacity").value*H,Ie=o.pstyle("border-color").value,Qe=o.pstyle("border-style").value,Ge=o.pstyle("border-opacity").value*H;c.lineJoin="miter";var We=function(){m.eleFillStyle(c,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:He)},nt=function(){m.colorStrokeStyle(c,Ie[0],Ie[1],Ie[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge)},ot=o.pstyle("shape").strValue,dt=o.pstyle("shape-polygon-points").pfValue;if(W){c.translate(F.x,F.y);var it=m.nodePathCache=m.nodePathCache||[],rt=Uh("polygon"===ot?ot+","+dt.join(","):ot,""+T,""+w),Et=it[rt];null!=Et?(Q=!0,k.pathCache=Y=Et):(Y=new Path2D,it[rt]=k.pathCache=Y)}var Dt=function(){if(!Q){var Ut=F;W&&(Ut={x:0,y:0}),m.nodeShapes[m.getNodeShape(o)].draw(Y||c,Ut.x,Ut.y,w,T)}W?c.fill(Y):c.fill()},yt=function(){for(var Ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,hn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Kn=S.backgrounding,On=0,yn=0;yn<Me.length;yn++){var Rt=o.cy().style().getIndexedStyle(o,"background-image-containment","value",yn);hn&&"over"===Rt||!hn&&"inside"===Rt?On++:pe[yn]&&Me[yn].complete&&!Me[yn].error&&(On++,m.drawInscribedImage(c,Me[yn],o,yn,Ut))}S.backgrounding=On!==Ae,Kn!==S.backgrounding&&o.updateStyle(!1)},gt=function(){var Ut=arguments.length>0&&void 0!==arguments[0]&&arguments[0],hn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;m.hasPie(o)&&(m.drawPie(c,o,hn),Ut&&(W||m.nodeShapes[m.getNodeShape(o)].draw(c,F.x,F.y,w,T)))},tt=function(){var Kn=Oe>0?0:255;0!==Oe&&(m.colorFillStyle(c,Kn,Kn,Kn,(Oe>0?Oe:-Oe)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:H)),W?c.fill(Y):c.fill())},Ct=function(){if(Ee>0){if(c.lineWidth=Ee,c.lineCap="butt",c.setLineDash)switch(Qe){case"dotted":c.setLineDash([1,1]);break;case"dashed":c.setLineDash([4,2]);break;case"solid":case"double":c.setLineDash([])}if(W?c.stroke(Y):c.stroke(),"double"===Qe){c.lineWidth=Ee/3;var Ut=c.globalCompositeOperation;c.globalCompositeOperation="destination-out",W?c.stroke(Y):c.stroke(),c.globalCompositeOperation=Ut}c.setLineDash&&c.setLineDash([])}};if("yes"===o.pstyle("ghost").value){var Nn=o.pstyle("ghost-offset-x").pfValue,Ht=o.pstyle("ghost-offset-y").pfValue,Ft=o.pstyle("ghost-opacity").value,gn=Ft*H;c.translate(Nn,Ht),We(Ft*He),Dt(),yt(gn,!0),nt(Ft*Ge),Ct(),gt(0!==Oe||0!==Ee),yt(gn,!1),tt(gn),c.translate(-Nn,-Ht)}W&&c.translate(-F.x,-F.y),f&&m.drawNodeUnderlay(c,o,F,w,T),W&&c.translate(F.x,F.y),We(),Dt(),yt(H,!0),nt(),Ct(),gt(0!==Oe||0!==Ee),yt(H,!1),tt(),W&&c.translate(-F.x,-F.y),m.drawElementText(c,o,null,d),f&&m.drawNodeOverlay(c,o,F,w,T),l&&c.translate(se.x1,se.y1)}}},eh=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,d,f,p,m){if(d.visible()){var T=d.pstyle("".concat(o,"-padding")).pfValue,S=d.pstyle("".concat(o,"-opacity")).value,k=d.pstyle("".concat(o,"-color")).value,F=d.pstyle("".concat(o,"-shape")).value;if(S>0){if(f=f||d.position(),null==p||null==m){var H=d.padding();p=d.width()+2*H,m=d.height()+2*H}this.colorFillStyle(l,k[0],k[1],k[2],S),this.nodeShapes[F].draw(l,f.x,f.y,p+2*T,m+2*T),l.fill()}}}};ol.drawNodeOverlay=eh("overlay"),ol.drawNodeUnderlay=eh("underlay"),ol.hasPie=function(c){return(c=c[0])._private.hasPie},ol.drawPie=function(c,o,l,d){o=o[0],d=d||o.position();var f=o.cy().style(),p=o.pstyle("pie-size"),m=d.x,w=d.y,T=o.width(),S=o.height(),k=Math.min(T,S)/2,F=0;this.usePaths()&&(m=0,w=0),"%"===p.units?k*=p.pfValue:void 0!==p.pfValue&&(k=p.pfValue/2);for(var W=1;W<=f.pieBackgroundN;W++){var Y=o.pstyle("pie-"+W+"-background-size").value,Q=o.pstyle("pie-"+W+"-background-color").value,ne=o.pstyle("pie-"+W+"-background-opacity").value*l,se=Y/100;se+F>1&&(se=1-F);var le=1.5*Math.PI+2*Math.PI*F,pe=le+2*Math.PI*se;0===Y||F>=1||F+se>1||(c.beginPath(),c.moveTo(m,w),c.arc(m,w,k,le,pe),c.closePath(),this.colorFillStyle(c,Q[0],Q[1],Q[2],ne),c.fill(),F+=se)}};for(var qs={getPixelRatio:function(){var c=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(c.backingStorePixelRatio||c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1)},paintCache:function(c){for(var d,o=this.paintCaches=this.paintCaches||[],l=!0,f=0;f<o.length;f++)if((d=o[f]).context===c){l=!1;break}return l&&o.push(d={context:c}),d},createGradientStyleFor:function(c,o,l,d,f){var p,m=this.usePaths(),w=l.pstyle(o+"-gradient-stop-colors").value,T=l.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===d)if(l.isEdge()){var S=l.sourceEndpoint(),k=l.targetEndpoint(),F=l.midpoint(),H=$r(S,F),W=$r(k,F);p=c.createRadialGradient(F.x,F.y,0,F.x,F.y,Math.max(H,W))}else{var Y=m?{x:0,y:0}:l.position(),Q=l.paddedWidth(),ne=l.paddedHeight();p=c.createRadialGradient(Y.x,Y.y,0,Y.x,Y.y,Math.max(Q,ne))}else if(l.isEdge()){var se=l.sourceEndpoint(),le=l.targetEndpoint();p=c.createLinearGradient(se.x,se.y,le.x,le.y)}else{var ce=m?{x:0,y:0}:l.position(),Ae=l.paddedWidth()/2,me=l.paddedHeight()/2;switch(l.pstyle("background-gradient-direction").value){case"to-bottom":p=c.createLinearGradient(ce.x,ce.y-me,ce.x,ce.y+me);break;case"to-top":p=c.createLinearGradient(ce.x,ce.y+me,ce.x,ce.y-me);break;case"to-left":p=c.createLinearGradient(ce.x+Ae,ce.y,ce.x-Ae,ce.y);break;case"to-right":p=c.createLinearGradient(ce.x-Ae,ce.y,ce.x+Ae,ce.y);break;case"to-bottom-right":case"to-right-bottom":p=c.createLinearGradient(ce.x-Ae,ce.y-me,ce.x+Ae,ce.y+me);break;case"to-top-right":case"to-right-top":p=c.createLinearGradient(ce.x-Ae,ce.y+me,ce.x+Ae,ce.y-me);break;case"to-bottom-left":case"to-left-bottom":p=c.createLinearGradient(ce.x+Ae,ce.y-me,ce.x-Ae,ce.y+me);break;case"to-top-left":case"to-left-top":p=c.createLinearGradient(ce.x+Ae,ce.y+me,ce.x-Ae,ce.y-me)}}if(!p)return null;for(var ve=T.length===w.length,Re=w.length,Oe=0;Oe<Re;Oe++)p.addColorStop(ve?T[Oe]:Oe/(Re-1),"rgba("+w[Oe][0]+","+w[Oe][1]+","+w[Oe][2]+","+f+")");return p},gradientFillStyle:function(c,o,l,d){var f=this.createGradientStyleFor(c,"background",o,l,d);if(!f)return null;c.fillStyle=f},colorFillStyle:function(c,o,l,d,f){c.fillStyle="rgba("+o+","+l+","+d+","+f+")"},eleFillStyle:function(c,o,l){var d=o.pstyle("background-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientFillStyle(c,o,d,l);else{var f=o.pstyle("background-color").value;this.colorFillStyle(c,f[0],f[1],f[2],l)}},gradientStrokeStyle:function(c,o,l,d){var f=this.createGradientStyleFor(c,"line",o,l,d);if(!f)return null;c.strokeStyle=f},colorStrokeStyle:function(c,o,l,d,f){c.strokeStyle="rgba("+o+","+l+","+d+","+f+")"},eleStrokeStyle:function(c,o,l){var d=o.pstyle("line-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientStrokeStyle(c,o,d,l);else{var f=o.pstyle("line-color").value;this.colorStrokeStyle(c,f[0],f[1],f[2],l)}},matchCanvasSize:function(c){var o=this,l=o.data,d=o.findContainerClientCoords(),f=d[2],p=d[3],m=o.getPixelRatio();(c===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||c===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(m=o.motionBlurPxRatio);var k,T=f*m,S=p*m;if(T!==o.canvasWidth||S!==o.canvasHeight){o.fontCaches=null;var F=l.canvasContainer;F.style.width=f+"px",F.style.height=p+"px";for(var H=0;H<o.CANVAS_LAYERS;H++)(k=l.canvases[H]).width=T,k.height=S,k.style.width=f+"px",k.style.height=p+"px";for(H=0;H<o.BUFFER_COUNT;H++)(k=l.bufferCanvases[H]).width=T,k.height=S,k.style.width=f+"px",k.style.height=p+"px";o.textureMult=1,m<=1&&(k=l.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,k.width=T*o.textureMult,k.height=S*o.textureMult),o.canvasWidth=T,o.canvasHeight=S}},renderTo:function(c,o,l,d){this.render({forcedContext:c,forcedZoom:o,forcedPan:l,drawAllLayers:!0,forcedPxRatio:d})},render:function(c){var o=(c=c||gd()).forcedContext,l=c.drawAllLayers,d=c.drawOnlyNodeLayer,f=c.forcedZoom,p=c.forcedPan,m=this,w=void 0===c.forcedPxRatio?this.getPixelRatio():c.forcedPxRatio,T=m.cy,S=m.data,k=S.canvasNeedsRedraw,F=m.textureOnViewport&&!o&&(m.pinching||m.hoverData.dragging||m.swipePanning||m.data.wheelZooming),H=void 0!==c.motionBlur?c.motionBlur:m.motionBlur,W=m.motionBlurPxRatio,Y=T.hasCompoundNodes(),Q=m.hoverData.draggingEles,se=H=H&&!o&&m.motionBlurEnabled&&!(m.hoverData.selecting||m.touchData.selecting);o||(m.prevPxRatio!==w&&(m.invalidateContainerClientCoordsCache(),m.matchCanvasSize(m.container),m.redrawHint("eles",!0),m.redrawHint("drag",!0)),m.prevPxRatio=w),!o&&m.motionBlurTimeout&&clearTimeout(m.motionBlurTimeout),H&&(null==m.mbFrames&&(m.mbFrames=0),m.mbFrames++,m.mbFrames<3&&(se=!1),m.mbFrames>m.minMbLowQualFrames&&(m.motionBlurPxRatio=m.mbPxRBlurry)),m.clearingMotionBlur&&(m.motionBlurPxRatio=1),m.textureDrawLastFrame&&!F&&(k[m.NODE]=!0,k[m.SELECT_BOX]=!0);var le=T.style(),ce=T.zoom(),pe=void 0!==f?f:ce,Me=T.pan(),Ae={x:Me.x,y:Me.y},me={zoom:ce,pan:{x:Me.x,y:Me.y}},De=m.prevViewport;!(void 0===De||me.zoom!==De.zoom||me.pan.x!==De.pan.x||me.pan.y!==De.pan.y)&&!(Q&&!Y)&&(m.motionBlurPxRatio=1),p&&(Ae=p),pe*=w,Ae.x*=w,Ae.y*=w;var Re=m.getCachedZSortedEles();function Oe(Ht,Ft,gn,sn,Ut){var hn=Ht.globalCompositeOperation;Ht.globalCompositeOperation="destination-out",m.colorFillStyle(Ht,255,255,255,m.motionBlurTransparency),Ht.fillRect(Ft,gn,sn,Ut),Ht.globalCompositeOperation=hn}function Ee(Ht,Ft){var gn,sn,Ut,hn;m.clearingMotionBlur||Ht!==S.bufferContexts[m.MOTIONBLUR_BUFFER_NODE]&&Ht!==S.bufferContexts[m.MOTIONBLUR_BUFFER_DRAG]?(gn=Ae,sn=pe,Ut=m.canvasWidth,hn=m.canvasHeight):(gn={x:Me.x*W,y:Me.y*W},sn=ce*W,Ut=m.canvasWidth*W,hn=m.canvasHeight*W),Ht.setTransform(1,0,0,1,0,0),"motionBlur"===Ft?Oe(Ht,0,0,Ut,hn):!o&&(void 0===Ft||Ft)&&Ht.clearRect(0,0,Ut,hn),l||(Ht.translate(gn.x,gn.y),Ht.scale(sn,sn)),p&&Ht.translate(p.x,p.y),f&&Ht.scale(f,f)}if(F||(m.textureDrawLastFrame=!1),F){if(m.textureDrawLastFrame=!0,!m.textureCache){m.textureCache={},m.textureCache.bb=T.mutableElements().boundingBox(),m.textureCache.texture=m.data.bufferCanvases[m.TEXTURE_BUFFER];var He=m.data.bufferContexts[m.TEXTURE_BUFFER];He.setTransform(1,0,0,1,0,0),He.clearRect(0,0,m.canvasWidth*m.textureMult,m.canvasHeight*m.textureMult),m.render({forcedContext:He,drawOnlyNodeLayer:!0,forcedPxRatio:w*m.textureMult}),(me=m.textureCache.viewport={zoom:T.zoom(),pan:T.pan(),width:m.canvasWidth,height:m.canvasHeight}).mpan={x:(0-me.pan.x)/me.zoom,y:(0-me.pan.y)/me.zoom}}k[m.DRAG]=!1,k[m.NODE]=!1;var Qe=m.textureCache.texture;me=m.textureCache.viewport,(Ie=S.contexts[m.NODE]).setTransform(1,0,0,1,0,0),H?Oe(Ie,0,0,me.width,me.height):Ie.clearRect(0,0,me.width,me.height);var Ge=le.core("outside-texture-bg-color").value,We=le.core("outside-texture-bg-opacity").value;m.colorFillStyle(Ie,Ge[0],Ge[1],Ge[2],We),Ie.fillRect(0,0,me.width,me.height),ce=T.zoom(),Ee(Ie,!1),Ie.clearRect(me.mpan.x,me.mpan.y,me.width/me.zoom/w,me.height/me.zoom/w),Ie.drawImage(Qe,me.mpan.x,me.mpan.y,me.width/me.zoom/w,me.height/me.zoom/w)}else m.textureOnViewport&&!o&&(m.textureCache=null);var nt=T.extent(),ot=m.pinching||m.hoverData.dragging||m.swipePanning||m.data.wheelZooming||m.hoverData.draggingEles||m.cy.animated(),dt=m.hideEdgesOnViewport&&ot,it=[];if(it[m.NODE]=!k[m.NODE]&&H&&!m.clearedForMotionBlur[m.NODE]||m.clearingMotionBlur,it[m.NODE]&&(m.clearedForMotionBlur[m.NODE]=!0),it[m.DRAG]=!k[m.DRAG]&&H&&!m.clearedForMotionBlur[m.DRAG]||m.clearingMotionBlur,it[m.DRAG]&&(m.clearedForMotionBlur[m.DRAG]=!0),k[m.NODE]||l||d||it[m.NODE]){var rt=H&&!it[m.NODE]&&1!==W;Ee(Ie=o||(rt?m.data.bufferContexts[m.MOTIONBLUR_BUFFER_NODE]:S.contexts[m.NODE]),H&&!rt?"motionBlur":void 0),dt?m.drawCachedNodes(Ie,Re.nondrag,w,nt):m.drawLayeredElements(Ie,Re.nondrag,w,nt),m.debug&&m.drawDebugPoints(Ie,Re.nondrag),!l&&!H&&(k[m.NODE]=!1)}if(!d&&(k[m.DRAG]||l||it[m.DRAG])&&(rt=H&&!it[m.DRAG]&&1!==W,Ee(Ie=o||(rt?m.data.bufferContexts[m.MOTIONBLUR_BUFFER_DRAG]:S.contexts[m.DRAG]),H&&!rt?"motionBlur":void 0),dt?m.drawCachedNodes(Ie,Re.drag,w,nt):m.drawCachedElements(Ie,Re.drag,w,nt),m.debug&&m.drawDebugPoints(Ie,Re.drag),!l&&!H&&(k[m.DRAG]=!1)),m.showFps||!d&&k[m.SELECT_BOX]&&!l){var Ie;if(Ee(Ie=o||S.contexts[m.SELECT_BOX]),1==m.selection[4]&&(m.hoverData.selecting||m.touchData.selecting)){ce=m.cy.zoom();var Dt=le.core("selection-box-border-width").value/ce;Ie.lineWidth=Dt,Ie.fillStyle="rgba("+le.core("selection-box-color").value[0]+","+le.core("selection-box-color").value[1]+","+le.core("selection-box-color").value[2]+","+le.core("selection-box-opacity").value+")",Ie.fillRect(m.selection[0],m.selection[1],m.selection[2]-m.selection[0],m.selection[3]-m.selection[1]),Dt>0&&(Ie.strokeStyle="rgba("+le.core("selection-box-border-color").value[0]+","+le.core("selection-box-border-color").value[1]+","+le.core("selection-box-border-color").value[2]+","+le.core("selection-box-opacity").value+")",Ie.strokeRect(m.selection[0],m.selection[1],m.selection[2]-m.selection[0],m.selection[3]-m.selection[1]))}if(S.bgActivePosistion&&!m.hoverData.selecting){ce=m.cy.zoom();var yt=S.bgActivePosistion;Ie.fillStyle="rgba("+le.core("active-bg-color").value[0]+","+le.core("active-bg-color").value[1]+","+le.core("active-bg-color").value[2]+","+le.core("active-bg-opacity").value+")",Ie.beginPath(),Ie.arc(yt.x,yt.y,le.core("active-bg-size").pfValue/ce,0,2*Math.PI),Ie.fill()}var gt=m.lastRedrawTime;if(m.showFps&&gt){gt=Math.round(gt);var tt=Math.round(1e3/gt);Ie.setTransform(1,0,0,1,0,0),Ie.fillStyle="rgba(255, 0, 0, 0.75)",Ie.strokeStyle="rgba(255, 0, 0, 0.75)",Ie.lineWidth=1,Ie.fillText("1 frame = "+gt+" ms = "+tt+" fps",0,20),Ie.strokeRect(0,30,250,20),Ie.fillRect(0,30,250*Math.min(tt/60,1),20)}l||(k[m.SELECT_BOX]=!1)}if(H&&1!==W){var Vt=S.contexts[m.DRAG],Cn=m.data.bufferCanvases[m.MOTIONBLUR_BUFFER_DRAG],Nn=function(Ft,gn,sn){Ft.setTransform(1,0,0,1,0,0),sn||!se?Ft.clearRect(0,0,m.canvasWidth,m.canvasHeight):Oe(Ft,0,0,m.canvasWidth,m.canvasHeight),Ft.drawImage(gn,0,0,m.canvasWidth*W,m.canvasHeight*W,0,0,m.canvasWidth,m.canvasHeight)};(k[m.NODE]||it[m.NODE])&&(Nn(S.contexts[m.NODE],m.data.bufferCanvases[m.MOTIONBLUR_BUFFER_NODE],it[m.NODE]),k[m.NODE]=!1),(k[m.DRAG]||it[m.DRAG])&&(Nn(Vt,Cn,it[m.DRAG]),k[m.DRAG]=!1)}m.prevViewport=me,m.clearingMotionBlur&&(m.clearingMotionBlur=!1,m.motionBlurCleared=!0,m.motionBlur=!0),H&&(m.motionBlurTimeout=setTimeout(function(){m.motionBlurTimeout=null,m.clearedForMotionBlur[m.NODE]=!1,m.clearedForMotionBlur[m.DRAG]=!1,m.motionBlur=!1,m.clearingMotionBlur=!F,m.mbFrames=0,k[m.NODE]=!0,k[m.DRAG]=!0,m.redraw()},100)),o||T.emit("render")}},Ca={drawPolygonPath:function(c,o,l,d,f,p){var m=d/2,w=f/2;c.beginPath&&c.beginPath(),c.moveTo(o+m*p[0],l+w*p[1]);for(var T=1;T<p.length/2;T++)c.lineTo(o+m*p[2*T],l+w*p[2*T+1]);c.closePath()},drawRoundPolygonPath:function(c,o,l,d,f,p){var m=d/2,w=f/2,T=xt(d,f);c.beginPath&&c.beginPath();for(var S=0;S<p.length/4;S++){var F,k;k=0===S?p.length-2:4*S-2,F=4*S+2;var H=o+m*p[4*S],W=l+w*p[4*S+1],Q=T/Math.tan(Math.acos(-p[k]*p[F]-p[k+1]*p[F+1])/2),ne=H-Q*p[k],se=W-Q*p[k+1],le=H+Q*p[F],ce=W+Q*p[F+1];0===S?c.moveTo(ne,se):c.lineTo(ne,se),c.arcTo(H,W,le,ce,T)}c.closePath()},drawRoundRectanglePath:function(c,o,l,d,f){var p=d/2,m=f/2,w=wd(d,f);c.beginPath&&c.beginPath(),c.moveTo(o,l-m),c.arcTo(o+p,l-m,o+p,l,w),c.arcTo(o+p,l+m,o,l+m,w),c.arcTo(o-p,l+m,o-p,l,w),c.arcTo(o-p,l-m,o,l-m,w),c.lineTo(o,l-m),c.closePath()},drawBottomRoundRectanglePath:function(c,o,l,d,f){var p=d/2,m=f/2,w=wd(d,f);c.beginPath&&c.beginPath(),c.moveTo(o,l-m),c.lineTo(o+p,l-m),c.lineTo(o+p,l),c.arcTo(o+p,l+m,o,l+m,w),c.arcTo(o-p,l+m,o-p,l,w),c.lineTo(o-p,l-m),c.lineTo(o,l-m),c.closePath()},drawCutRectanglePath:function(c,o,l,d,f){var p=d/2,m=f/2;c.beginPath&&c.beginPath(),c.moveTo(o-p+8,l-m),c.lineTo(o+p-8,l-m),c.lineTo(o+p,l-m+8),c.lineTo(o+p,l+m-8),c.lineTo(o+p-8,l+m),c.lineTo(o-p+8,l+m),c.lineTo(o-p,l+m-8),c.lineTo(o-p,l-m+8),c.closePath()},drawBarrelPath:function(c,o,l,d,f){var p=d/2,m=f/2,w=o-p,T=o+p,S=l-m,k=l+m,F=au(d,f),H=F.widthOffset,W=F.heightOffset,Y=F.ctrlPtOffsetPct*H;c.beginPath&&c.beginPath(),c.moveTo(w,S+W),c.lineTo(w,k-W),c.quadraticCurveTo(w+Y,k,w+H,k),c.lineTo(T-H,k),c.quadraticCurveTo(T-Y,k,T,k-W),c.lineTo(T,S+W),c.quadraticCurveTo(T-Y,S,T-H,S),c.lineTo(w+H,S),c.quadraticCurveTo(w+Y,S,w,S+W),c.closePath()}},Tf=Math.sin(0),Ou=Math.cos(0),Wm={},Af={},Jy=Math.PI/40,Ru=0*Math.PI;Ru<2*Math.PI;Ru+=Jy)Wm[Ru]=Math.sin(Ru),Af[Ru]=Math.cos(Ru);Ca.drawEllipsePath=function(c,o,l,d,f){if(c.beginPath&&c.beginPath(),c.ellipse)c.ellipse(o,l,d/2,f/2,0,0,2*Math.PI);else for(var p,m,w=d/2,T=f/2,S=0*Math.PI;S<2*Math.PI;S+=Jy)p=o-w*Wm[S]*Tf+w*Af[S]*Ou,m=l+T*Af[S]*Tf+T*Wm[S]*Ou,0===S?c.moveTo(p,m):c.lineTo(p,m);c.closePath()};var th={};function Ym(c){var o=c.indexOf(",");return c.substr(o+1)}function nh(c,o,l){var d=function(){return o.toDataURL(l,c.quality)};switch(c.output){case"blob-promise":return new Id(function(f,p){try{o.toBlob(function(m){null!=m?f(m):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},l,c.quality)}catch(m){p(m)}});case"blob":return function eb(c,o){for(var l=atob(c),d=new ArrayBuffer(l.length),f=new Uint8Array(d),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);return new Blob([d],{type:o})}(Ym(d()),l);case"base64":return Ym(d());default:return d()}}th.createBuffer=function(c,o){var l=document.createElement("canvas");return l.width=c,l.height=o,[l,l.getContext("2d")]},th.bufferCanvasImage=function(c){var o=this.cy,d=o.mutableElements().boundingBox(),f=this.findContainerClientCoords(),p=c.full?Math.ceil(d.w):f[2],m=c.full?Math.ceil(d.h):f[3],w=ge(c.maxWidth)||ge(c.maxHeight),T=this.getPixelRatio(),S=1;if(void 0!==c.scale)p*=c.scale,m*=c.scale,S=c.scale;else if(w){var k=1/0,F=1/0;ge(c.maxWidth)&&(k=S*c.maxWidth/p),ge(c.maxHeight)&&(F=S*c.maxHeight/m),p*=S=Math.min(k,F),m*=S}w||(p*=T,m*=T,S*=T);var H=document.createElement("canvas");H.width=p,H.height=m,H.style.width=p+"px",H.style.height=m+"px";var W=H.getContext("2d");if(p>0&&m>0){W.clearRect(0,0,p,m),W.globalCompositeOperation="source-over";var Y=this.getCachedZSortedEles();if(c.full)W.translate(-d.x1*S,-d.y1*S),W.scale(S,S),this.drawElements(W,Y),W.scale(1/S,1/S),W.translate(d.x1*S,d.y1*S);else{var Q=o.pan(),ne={x:Q.x*S,y:Q.y*S};S*=o.zoom(),W.translate(ne.x,ne.y),W.scale(S,S),this.drawElements(W,Y),W.scale(1/S,1/S),W.translate(-ne.x,-ne.y)}c.bg&&(W.globalCompositeOperation="destination-over",W.fillStyle=c.bg,W.rect(0,0,p,m),W.fill())}return H},th.png=function(c){return nh(c,this.bufferCanvasImage(c),"image/png")},th.jpg=function(c){return nh(c,this.bufferCanvasImage(c),"image/jpeg")};var Pc=tb,Cr=tb.prototype;function tb(c){var o=this;o.data={canvases:new Array(Cr.CANVAS_LAYERS),contexts:new Array(Cr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Cr.CANVAS_LAYERS),bufferCanvases:new Array(Cr.BUFFER_COUNT),bufferContexts:new Array(Cr.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",d="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var f=o.data.canvasContainer.style;o.data.canvasContainer.style[l]=d,f.position="relative",f.zIndex="0",f.overflow="hidden";var p=c.cy.container();p.appendChild(o.data.canvasContainer),p.style[l]=d;var m={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};pt()&&(m["-ms-touch-action"]="none",m["touch-action"]="none");for(var w=0;w<Cr.CANVAS_LAYERS;w++){var T=o.data.canvases[w]=document.createElement("canvas");o.data.contexts[w]=T.getContext("2d"),Object.keys(m).forEach(function(gt){T.style[gt]=m[gt]}),T.style.position="absolute",T.setAttribute("data-id","layer"+w),T.style.zIndex=String(Cr.CANVAS_LAYERS-w),o.data.canvasContainer.appendChild(T),o.data.canvasNeedsRedraw[w]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[Cr.NODE].setAttribute("data-id","layer"+Cr.NODE+"-node"),o.data.canvases[Cr.SELECT_BOX].setAttribute("data-id","layer"+Cr.SELECT_BOX+"-selectbox"),o.data.canvases[Cr.DRAG].setAttribute("data-id","layer"+Cr.DRAG+"-drag"),w=0;w<Cr.BUFFER_COUNT;w++)o.data.bufferCanvases[w]=document.createElement("canvas"),o.data.bufferContexts[w]=o.data.bufferCanvases[w].getContext("2d"),o.data.bufferCanvases[w].style.position="absolute",o.data.bufferCanvases[w].setAttribute("data-id","buffer"+w),o.data.bufferCanvases[w].style.zIndex=String(-w-1),o.data.bufferCanvases[w].style.visibility="hidden";o.pathsEnabled=!0;var S=Kr(),F=function(tt){return{x:-tt.w/2,y:-tt.h/2}},Me=function(tt){return tt.boundingBox(),tt[0]._private.bodyBounds},Ae=function(tt){return tt.boundingBox(),tt[0]._private.labelBounds.main||S},me=function(tt){return tt.boundingBox(),tt[0]._private.labelBounds.source||S},De=function(tt){return tt.boundingBox(),tt[0]._private.labelBounds.target||S},ve=function(tt,Ct){return Ct},Oe=function(tt,Ct,Tt){var Pt=tt?tt+"-":"";return{x:Ct.x+Tt.pstyle(Pt+"text-margin-x").pfValue,y:Ct.y+Tt.pstyle(Pt+"text-margin-y").pfValue}},Ee=function(tt,Ct,Tt){var Pt=tt[0]._private.rscratch;return{x:Pt[Ct],y:Pt[Tt]}},dt=o.data.eleTxrCache=new Rc(o,{getKey:function(tt){return tt[0]._private.nodeKey},doesEleInvalidateKey:function(tt){var Ct=tt[0]._private;return!(Ct.oldBackgroundTimestamp===Ct.backgroundTimestamp)},drawElement:function(tt,Ct,Tt,Pt,Vt){return o.drawElement(tt,Ct,Tt,!1,!1,Vt)},getBoundingBox:Me,getRotationPoint:function(tt){return function(tt){return{x:(tt.x1+tt.x2)/2,y:(tt.y1+tt.y2)/2}}(Me(tt))},getRotationOffset:function(tt){return F(Me(tt))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),it=o.data.lblTxrCache=new Rc(o,{getKey:function(tt){return tt[0]._private.labelStyleKey},drawElement:function(tt,Ct,Tt,Pt,Vt){return o.drawElementText(tt,Ct,Tt,Pt,"main",Vt)},getBoundingBox:Ae,getRotationPoint:function(tt){return Oe("",Ee(tt,"labelX","labelY"),tt)},getRotationOffset:function(tt){var Ct=Ae(tt),Tt=F(Ae(tt));if(tt.isNode()){switch(tt.pstyle("text-halign").value){case"left":Tt.x=-Ct.w;break;case"right":Tt.x=0}switch(tt.pstyle("text-valign").value){case"top":Tt.y=-Ct.h;break;case"bottom":Tt.y=0}}return Tt},isVisible:ve}),rt=o.data.slbTxrCache=new Rc(o,{getKey:function(tt){return tt[0]._private.sourceLabelStyleKey},drawElement:function(tt,Ct,Tt,Pt,Vt){return o.drawElementText(tt,Ct,Tt,Pt,"source",Vt)},getBoundingBox:me,getRotationPoint:function(tt){return Oe("source",Ee(tt,"sourceLabelX","sourceLabelY"),tt)},getRotationOffset:function(tt){return F(me(tt))},isVisible:ve}),Et=o.data.tlbTxrCache=new Rc(o,{getKey:function(tt){return tt[0]._private.targetLabelStyleKey},drawElement:function(tt,Ct,Tt,Pt,Vt){return o.drawElementText(tt,Ct,Tt,Pt,"target",Vt)},getBoundingBox:De,getRotationPoint:function(tt){return Oe("target",Ee(tt,"targetLabelX","targetLabelY"),tt)},getRotationOffset:function(tt){return F(De(tt))},isVisible:ve}),Dt=o.data.lyrTxrCache=new Gy(o);o.onUpdateEleCalcs(function(tt,Ct){dt.invalidateElements(Ct),it.invalidateElements(Ct),rt.invalidateElements(Ct),Et.invalidateElements(Ct),Dt.invalidateElements(Ct);for(var Tt=0;Tt<Ct.length;Tt++){var Pt=Ct[Tt]._private;Pt.oldBackgroundTimestamp=Pt.backgroundTimestamp}});var yt=function(tt){for(var Ct=0;Ct<tt.length;Ct++)Dt.enqueueElementRefinement(tt[Ct].ele)};dt.onDequeue(yt),it.onDequeue(yt),rt.onDequeue(yt),Et.onDequeue(yt)}Cr.CANVAS_LAYERS=3,Cr.SELECT_BOX=0,Cr.DRAG=1,Cr.NODE=2,Cr.BUFFER_COUNT=3,Cr.TEXTURE_BUFFER=0,Cr.MOTIONBLUR_BUFFER_NODE=1,Cr.MOTIONBLUR_BUFFER_DRAG=2,Cr.redrawHint=function(c,o){var l=this;switch(c){case"eles":l.data.canvasNeedsRedraw[Cr.NODE]=o;break;case"drag":l.data.canvasNeedsRedraw[Cr.DRAG]=o;break;case"select":l.data.canvasNeedsRedraw[Cr.SELECT_BOX]=o}};var mM=typeof Path2D<"u";Cr.path2dEnabled=function(c){if(void 0===c)return this.pathsEnabled;this.pathsEnabled=!!c},Cr.usePaths=function(){return mM&&this.pathsEnabled},Cr.setImgSmoothing=function(c,o){null!=c.imageSmoothingEnabled?c.imageSmoothingEnabled=o:(c.webkitImageSmoothingEnabled=o,c.mozImageSmoothingEnabled=o,c.msImageSmoothingEnabled=o)},Cr.getImgSmoothing=function(c){return null!=c.imageSmoothingEnabled?c.imageSmoothingEnabled:c.webkitImageSmoothingEnabled||c.mozImageSmoothingEnabled||c.msImageSmoothingEnabled},Cr.makeOffscreenCanvas=function(c,o){var l;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":L(OffscreenCanvas))?l=new OffscreenCanvas(c,o):((l=document.createElement("canvas")).width=c,l.height=o),l},[Sf,ws,Ea,Mf,sl,ol,qs,Ca,th,{nodeShapeImpl:function(c,o,l,d,f,p,m){switch(c){case"ellipse":return this.drawEllipsePath(o,l,d,f,p);case"polygon":return this.drawPolygonPath(o,l,d,f,p,m);case"round-polygon":return this.drawRoundPolygonPath(o,l,d,f,p,m);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,l,d,f,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,l,d,f,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,l,d,f,p);case"barrel":return this.drawBarrelPath(o,l,d,f,p)}}}].forEach(function(c){Zt(Cr,c)});var Xm=[{type:"layout",extensions:xf},{type:"renderer",extensions:[{name:"null",impl:Dm},{name:"base",impl:km},{name:"canvas",impl:Pc}]}],nb={},Km={};function rh(c,o,l){var d=l,f=function(De){wr("Can not register `"+o+"` for `"+c+"` since `"+De+"` already exists in the prototype and can not be overridden")};if("core"===c){if(Su.prototype[o])return f(o);Su.prototype[o]=l}else if("collection"===c){if(Gi.prototype[o])return f(o);Gi.prototype[o]=l}else if("layout"===c){for(var p=function(De){this.options=De,l.call(this,De),_e(this._private)||(this._private={}),this._private.cy=De.cy,this._private.listeners=[],this.createEmitter()},m=p.prototype=Object.create(l.prototype),w=[],T=0;T<w.length;T++){var S=w[T];m[S]=m[S]||function(){return this}}m.start&&!m.run?m.run=function(){return this.start(),this}:!m.start&&m.run&&(m.start=function(){return this.run(),this});var k=l.prototype.stop;m.stop=function(){var me=this.options;if(me&&me.animate){var De=this.animations;if(De)for(var ve=0;ve<De.length;ve++)De[ve].stop()}return k?k.call(this):this.emit("layoutstop"),this},m.destroy||(m.destroy=function(){return this}),m.cy=function(){return this._private.cy};var F=function(De){return De._private.cy},H={addEventFields:function(De,ve){ve.layout=De,ve.cy=F(De),ve.target=De},bubble:function(){return!0},parent:function(De){return F(De)}};Zt(m,{createEmitter:function(){return this._private.emitter=new Hd(H,this),this},emitter:function(){return this._private.emitter},on:function(De,ve){return this.emitter().on(De,ve),this},one:function(De,ve){return this.emitter().one(De,ve),this},once:function(De,ve){return this.emitter().one(De,ve),this},removeListener:function(De,ve){return this.emitter().removeListener(De,ve),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(De,ve){return this.emitter().emit(De,ve),this}}),Lr.eventAliasesOn(m),d=p}else if("renderer"===c&&"null"!==o&&"base"!==o){var W=kf("renderer","base"),Y=W.prototype,Q=l,ne=l.prototype,se=function(){W.apply(this,arguments),Q.apply(this,arguments)},le=se.prototype;for(var ce in Y){var pe=Y[ce];if(null!=ne[ce])return f(ce);le[ce]=pe}for(var Ae in ne)le[Ae]=ne[Ae];Y.clientFunctions.forEach(function(me){le[me]=le[me]||function(){Br("Renderer does not implement `renderer."+me+"()` on its prototype")}}),d=se}else if("__proto__"===c||"constructor"===c||"prototype"===c)return Br(c+" is an illegal type to be registered, possibly lead to prototype pollutions");return Ts({map:nb,keys:[c,o],value:d})}function kf(c,o){return ms({map:nb,keys:[c,o]})}function rb(c,o,l,d,f){return Ts({map:Km,keys:[c,o,l,d],value:f})}function ib(c,o,l,d){return ms({map:Km,keys:[c,o,l,d]})}var Of=function(){return 2===arguments.length?kf.apply(null,arguments):3===arguments.length?rh.apply(null,arguments):4===arguments.length?ib.apply(null,arguments):5===arguments.length?rb.apply(null,arguments):void Br("Invalid extension access syntax")};Su.prototype.extension=Of,Xm.forEach(function(c){c.extensions.forEach(function(o){rh(c.type,o.name,o.impl)})});var Gl=function c(){if(!(this instanceof c))return new c;this.length=0},Nc=Gl.prototype;Nc.instanceString=function(){return"stylesheet"},Nc.selector=function(c){return this[this.length++]={selector:c,properties:[]},this},Nc.css=function(c,o){var l=this.length-1;if(fe(c))this[l].properties.push({name:c,value:o});else if(_e(c))for(var d=c,f=Object.keys(d),p=0;p<f.length;p++){var m=f[p],w=d[m];if(null!=w){var T=pr.properties[m]||pr.properties[zt(m)];null!=T&&this[l].properties.push({name:T.name,value:w})}}return this},Nc.style=Nc.css,Nc.generateStyle=function(c){var o=new pr(c);return this.appendToStyle(o)},Nc.appendToStyle=function(c){for(var o=0;o<this.length;o++){var l=this[o],f=l.properties;c.selector(l.selector);for(var p=0;p<f.length;p++){var m=f[p];c.css(m.name,m.value)}}return c};var Lc=function(o){return void 0===o&&(o={}),_e(o)?new Su(o):fe(o)?Of.apply(Of,arguments):void 0};Lc.use=function(c){var o=Array.prototype.slice.call(arguments,1);return o.unshift(Lc),c.apply(null,o),this},Lc.warnings=function(c){return Gp(c)},Lc.version="3.23.0",Lc.stylesheet=Lc.Stylesheet=Gl,j.exports=Lc},9695:(j,ee,v)=>{j.exports={graphlib:v(6456),layout:v(4850),debug:v(1914),util:{time:v(1510).time,notime:v(1510).notime},version:v(8126)}},2234:(j,ee,v)=>{"use strict";var _=v(5760),A=v(7365);j.exports={run:function x(b){var M="greedy"===b.graph().acyclicer?A(b,function D(P){return function(R){return P.edge(R).weight}}(b)):function E(b){var M=[],D={},P={};return _.forEach(b.nodes(),function R(I){_.has(P,I)||(P[I]=!0,D[I]=!0,_.forEach(b.outEdges(I),function(L){_.has(D,L.w)?M.push(L):R(L.w)}),delete D[I])}),M}(b);_.forEach(M,function(P){var R=b.edge(P);b.removeEdge(P),R.forwardName=P.name,R.reversed=!0,b.setEdge(P.w,P.v,R,_.uniqueId("rev"))})},undo:function C(b){_.forEach(b.edges(),function(M){var D=b.edge(M);if(D.reversed){b.removeEdge(M);var P=D.forwardName;delete D.reversed,delete D.forwardName,b.setEdge(M.w,M.v,D,P)}})}}},9999:(j,ee,v)=>{var _=v(5760),A=v(1510);function E(C,b,M,D,P,R){var L=P[b][R-1],N=A.addDummyNode(C,"border",{width:0,height:0,rank:R,borderType:b},M);P[b][R]=N,C.setParent(N,D),L&&C.setEdge(L,N,{weight:1})}j.exports=function x(C){_.forEach(C.children(),function b(M){var D=C.children(M),P=C.node(M);if(D.length&&_.forEach(D,b),_.has(P,"minRank")){P.borderLeft=[],P.borderRight=[];for(var R=P.minRank,I=P.maxRank+1;R<I;++R)E(C,"borderLeft","_bl",M,P,R),E(C,"borderRight","_br",M,P,R)}})}},3870:(j,ee,v)=>{"use strict";var _=v(5760);function E(R){_.forEach(R.nodes(),function(I){C(R.node(I))}),_.forEach(R.edges(),function(I){C(R.edge(I))})}function C(R){var I=R.width;R.width=R.height,R.height=I}function M(R){R.y=-R.y}function P(R){var I=R.x;R.x=R.y,R.y=I}j.exports={adjust:function A(R){var I=R.graph().rankdir.toLowerCase();("lr"===I||"rl"===I)&&E(R)},undo:function x(R){var I=R.graph().rankdir.toLowerCase();("bt"===I||"rl"===I)&&function b(R){_.forEach(R.nodes(),function(I){M(R.node(I))}),_.forEach(R.edges(),function(I){var L=R.edge(I);_.forEach(L.points,M),_.has(L,"y")&&M(L)})}(R),("lr"===I||"rl"===I)&&(function D(R){_.forEach(R.nodes(),function(I){P(R.node(I))}),_.forEach(R.edges(),function(I){var L=R.edge(I);_.forEach(L.points,P),_.has(L,"x")&&P(L)})}(R),E(R))}}},3226:j=>{function ee(){var A={};A._next=A._prev=A,this._sentinel=A}function v(A){A._prev._next=A._next,A._next._prev=A._prev,delete A._next,delete A._prev}function _(A,x){if("_next"!==A&&"_prev"!==A)return x}j.exports=ee,ee.prototype.dequeue=function(){var A=this._sentinel,x=A._prev;if(x!==A)return v(x),x},ee.prototype.enqueue=function(A){var x=this._sentinel;A._prev&&A._next&&v(A),A._next=x._next,x._next._prev=A,x._next=A,A._prev=x},ee.prototype.toString=function(){for(var A=[],x=this._sentinel,E=x._prev;E!==x;)A.push(JSON.stringify(E,_)),E=E._prev;return"["+A.join(", ")+"]"}},1914:(j,ee,v)=>{var _=v(5760),A=v(1510),x=v(6456).Graph;j.exports={debugOrdering:function E(C){var b=A.buildLayerMatrix(C),M=new x({compound:!0,multigraph:!0}).setGraph({});return _.forEach(C.nodes(),function(D){M.setNode(D,{label:D}),M.setParent(D,"layer"+C.node(D).rank)}),_.forEach(C.edges(),function(D){M.setEdge(D.v,D.w,{},D.name)}),_.forEach(b,function(D,P){M.setNode("layer"+P,{rank:"same"}),_.reduce(D,function(I,L){return M.setEdge(I,L,{style:"invis"}),L})}),M}}},6456:(j,ee,v)=>{var _;try{_=v(5510)}catch{}_||(_=window.graphlib),j.exports=_},7365:(j,ee,v)=>{var _=v(5760),A=v(6456).Graph,x=v(3226);j.exports=function C(R,I){if(R.nodeCount()<=1)return[];var L=function D(R,I){var L=new A,N=0,B=0;_.forEach(R.nodes(),function(Z){L.setNode(Z,{v:Z,in:0,out:0})}),_.forEach(R.edges(),function(Z){var X=L.edge(Z.v,Z.w)||0,ie=I(Z);L.setEdge(Z.v,Z.w,X+ie),B=Math.max(B,L.node(Z.v).out+=ie),N=Math.max(N,L.node(Z.w).in+=ie)});var J=_.range(B+N+3).map(function(){return new x}),U=N+1;return _.forEach(L.nodes(),function(Z){P(J,U,L.node(Z))}),{graph:L,buckets:J,zeroIdx:U}}(R,I||E),N=function b(R,I,L){for(var U,N=[],B=I[I.length-1],J=I[0];R.nodeCount();){for(;U=J.dequeue();)M(R,I,L,U);for(;U=B.dequeue();)M(R,I,L,U);if(R.nodeCount())for(var Z=I.length-2;Z>0;--Z)if(U=I[Z].dequeue()){N=N.concat(M(R,I,L,U,!0));break}}return N}(L.graph,L.buckets,L.zeroIdx);return _.flatten(_.map(N,function(B){return R.outEdges(B.v,B.w)}),!0)};var E=_.constant(1);function M(R,I,L,N,B){var J=B?[]:void 0;return _.forEach(R.inEdges(N.v),function(U){var Z=R.edge(U),X=R.node(U.v);B&&J.push({v:U.v,w:U.w}),X.out-=Z,P(I,L,X)}),_.forEach(R.outEdges(N.v),function(U){var Z=R.edge(U),ie=R.node(U.w);ie.in-=Z,P(I,L,ie)}),R.removeNode(N.v),J}function P(R,I,L){L.out?L.in?R[L.out-L.in+I].enqueue(L):R[R.length-1].enqueue(L):R[0].enqueue(L)}},4850:(j,ee,v)=>{"use strict";var _=v(5760),A=v(2234),x=v(1496),E=v(4124),C=v(1510).normalizeRanks,b=v(162),M=v(1510).removeEmptyRanks,D=v(1230),P=v(9999),R=v(3870),I=v(2974),L=v(8226),N=v(1510),B=v(6456).Graph;j.exports=function J(Be,Fe){var Ue=Fe&&Fe.debugTiming?N.time:N.notime;Ue("layout",function(){var Ne=Ue("  buildLayoutGraph",function(){return function ue(Be){var Fe=new B({multigraph:!0,compound:!0}),Ue=At(Be.graph());return Fe.setGraph(_.merge({},ie,et(Ue,X),_.pick(Ue,te))),_.forEach(Be.nodes(),function(Ne){var ye=At(Be.node(Ne));Fe.setNode(Ne,_.defaults(et(ye,G),V)),Fe.setParent(Ne,Be.parent(Ne))}),_.forEach(Be.edges(),function(Ne){var ye=At(Be.edge(Ne));Fe.setEdge(Ne,_.merge({},q,et(ye,z),_.pick(ye,ae)))}),Fe}(Be)});Ue("  runLayout",function(){!function U(Be,Fe){Fe("    makeSpaceForEdgeLabels",function(){!function oe(Be){var Fe=Be.graph();Fe.ranksep/=2,_.forEach(Be.edges(),function(Ue){var Ne=Be.edge(Ue);Ne.minlen*=2,"c"!==Ne.labelpos.toLowerCase()&&("TB"===Fe.rankdir||"BT"===Fe.rankdir?Ne.width+=Ne.labeloffset:Ne.height+=Ne.labeloffset)})}(Be)}),Fe("    removeSelfEdges",function(){!function qe(Be){_.forEach(Be.edges(),function(Fe){if(Fe.v===Fe.w){var Ue=Be.node(Fe.v);Ue.selfEdges||(Ue.selfEdges=[]),Ue.selfEdges.push({e:Fe,label:Be.edge(Fe)}),Be.removeEdge(Fe)}})}(Be)}),Fe("    acyclic",function(){A.run(Be)}),Fe("    nestingGraph.run",function(){D.run(Be)}),Fe("    rank",function(){E(N.asNonCompoundGraph(Be))}),Fe("    injectEdgeLabelProxies",function(){!function de(Be){_.forEach(Be.edges(),function(Fe){var Ue=Be.edge(Fe);if(Ue.width&&Ue.height){var Ne=Be.node(Fe.v),ye=Be.node(Fe.w);N.addDummyNode(Be,"edge-proxy",{rank:(ye.rank-Ne.rank)/2+Ne.rank,e:Fe},"_ep")}})}(Be)}),Fe("    removeEmptyRanks",function(){M(Be)}),Fe("    nestingGraph.cleanup",function(){D.cleanup(Be)}),Fe("    normalizeRanks",function(){C(Be)}),Fe("    assignRankMinMax",function(){!function we(Be){var Fe=0;_.forEach(Be.nodes(),function(Ue){var Ne=Be.node(Ue);Ne.borderTop&&(Ne.minRank=Be.node(Ne.borderTop).rank,Ne.maxRank=Be.node(Ne.borderBottom).rank,Fe=_.max(Fe,Ne.maxRank))}),Be.graph().maxRank=Fe}(Be)}),Fe("    removeEdgeLabelProxies",function(){!function fe(Be){_.forEach(Be.nodes(),function(Fe){var Ue=Be.node(Fe);"edge-proxy"===Ue.dummy&&(Be.edge(Ue.e).labelRank=Ue.rank,Be.removeNode(Fe))})}(Be)}),Fe("    normalize.run",function(){x.run(Be)}),Fe("    parentDummyChains",function(){b(Be)}),Fe("    addBorderSegments",function(){P(Be)}),Fe("    order",function(){I(Be)}),Fe("    insertSelfEdges",function(){!function Xe(Be){var Fe=N.buildLayerMatrix(Be);_.forEach(Fe,function(Ue){var Ne=0;_.forEach(Ue,function(ye,Le){var st=Be.node(ye);st.order=Le+Ne,_.forEach(st.selfEdges,function(pt){N.addDummyNode(Be,"selfedge",{width:pt.label.width,height:pt.label.height,rank:st.rank,order:Le+ ++Ne,e:pt.e,label:pt.label},"_se")}),delete st.selfEdges})})}(Be)}),Fe("    adjustCoordinateSystem",function(){R.adjust(Be)}),Fe("    position",function(){L(Be)}),Fe("    positionSelfEdges",function(){!function Te(Be){_.forEach(Be.nodes(),function(Fe){var Ue=Be.node(Fe);if("selfedge"===Ue.dummy){var Ne=Be.node(Ue.e.v),ye=Ne.x+Ne.width/2,Le=Ne.y,st=Ue.x-ye,pt=Ne.height/2;Be.setEdge(Ue.e,Ue.label),Be.removeNode(Fe),Ue.label.points=[{x:ye+2*st/3,y:Le-pt},{x:ye+5*st/6,y:Le-pt},{x:ye+st,y:Le},{x:ye+5*st/6,y:Le+pt},{x:ye+2*st/3,y:Le+pt}],Ue.label.x=Ue.x,Ue.label.y=Ue.y}})}(Be)}),Fe("    removeBorderNodes",function(){!function ge(Be){_.forEach(Be.nodes(),function(Fe){if(Be.children(Fe).length){var Ue=Be.node(Fe),Ne=Be.node(Ue.borderTop),ye=Be.node(Ue.borderBottom),Le=Be.node(_.last(Ue.borderLeft)),st=Be.node(_.last(Ue.borderRight));Ue.width=Math.abs(st.x-Le.x),Ue.height=Math.abs(ye.y-Ne.y),Ue.x=Le.x+Ue.width/2,Ue.y=Ne.y+Ue.height/2}}),_.forEach(Be.nodes(),function(Fe){"border"===Be.node(Fe).dummy&&Be.removeNode(Fe)})}(Be)}),Fe("    normalize.undo",function(){x.undo(Be)}),Fe("    fixupEdgeLabelCoords",function(){!function _e(Be){_.forEach(Be.edges(),function(Fe){var Ue=Be.edge(Fe);if(_.has(Ue,"x"))switch(("l"===Ue.labelpos||"r"===Ue.labelpos)&&(Ue.width-=Ue.labeloffset),Ue.labelpos){case"l":Ue.x-=Ue.width/2+Ue.labeloffset;break;case"r":Ue.x+=Ue.width/2+Ue.labeloffset}})}(Be)}),Fe("    undoCoordinateSystem",function(){R.undo(Be)}),Fe("    translateGraph",function(){!function je(Be){var Fe=Number.POSITIVE_INFINITY,Ue=0,Ne=Number.POSITIVE_INFINITY,ye=0,Le=Be.graph(),st=Le.marginx||0,pt=Le.marginy||0;function ft(bt){var zt=bt.x,ut=bt.y,Yt=bt.width,Nt=bt.height;Fe=Math.min(Fe,zt-Yt/2),Ue=Math.max(Ue,zt+Yt/2),Ne=Math.min(Ne,ut-Nt/2),ye=Math.max(ye,ut+Nt/2)}_.forEach(Be.nodes(),function(bt){ft(Be.node(bt))}),_.forEach(Be.edges(),function(bt){var zt=Be.edge(bt);_.has(zt,"x")&&ft(zt)}),Fe-=st,Ne-=pt,_.forEach(Be.nodes(),function(bt){var zt=Be.node(bt);zt.x-=Fe,zt.y-=Ne}),_.forEach(Be.edges(),function(bt){var zt=Be.edge(bt);_.forEach(zt.points,function(ut){ut.x-=Fe,ut.y-=Ne}),_.has(zt,"x")&&(zt.x-=Fe),_.has(zt,"y")&&(zt.y-=Ne)}),Le.width=Ue-Fe+st,Le.height=ye-Ne+pt}(Be)}),Fe("    assignNodeIntersects",function(){!function Ve(Be){_.forEach(Be.edges(),function(Fe){var Le,st,Ue=Be.edge(Fe),Ne=Be.node(Fe.v),ye=Be.node(Fe.w);Ue.points?(Le=Ue.points[0],st=Ue.points[Ue.points.length-1]):(Ue.points=[],Le=ye,st=Ne),Ue.points.unshift(N.intersectRect(Ne,Le)),Ue.points.push(N.intersectRect(ye,st))})}(Be)}),Fe("    reversePoints",function(){!function Ce(Be){_.forEach(Be.edges(),function(Fe){var Ue=Be.edge(Fe);Ue.reversed&&Ue.points.reverse()})}(Be)}),Fe("    acyclic.undo",function(){A.undo(Be)})}(Ne,Ue)}),Ue("  updateInputGraph",function(){!function Z(Be,Fe){_.forEach(Be.nodes(),function(Ue){var Ne=Be.node(Ue),ye=Fe.node(Ue);Ne&&(Ne.x=ye.x,Ne.y=ye.y,Fe.children(Ue).length&&(Ne.width=ye.width,Ne.height=ye.height))}),_.forEach(Be.edges(),function(Ue){var Ne=Be.edge(Ue),ye=Fe.edge(Ue);Ne.points=ye.points,_.has(ye,"x")&&(Ne.x=ye.x,Ne.y=ye.y)}),Be.graph().width=Fe.graph().width,Be.graph().height=Fe.graph().height}(Be,Ne)})})};var X=["nodesep","edgesep","ranksep","marginx","marginy"],ie={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},te=["acyclicer","ranker","rankdir","align"],G=["width","height"],V={width:0,height:0},z=["minlen","weight","width","height","labeloffset"],q={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ae=["labelpos"];function et(Be,Fe){return _.mapValues(_.pick(Be,Fe),Number)}function At(Be){var Fe={};return _.forEach(Be,function(Ue,Ne){Fe[Ne.toLowerCase()]=Ue}),Fe}},5760:(j,ee,v)=>{var _;try{_={cloneDeep:v(733),constant:v(6684),defaults:v(8800),each:v(5474),filter:v(5281),find:v(2516),flatten:v(2274),forEach:v(9851),forIn:v(1176),has:v(4842),isUndefined:v(4235),last:v(5809),map:v(9984),mapValues:v(203),max:v(8176),merge:v(567),min:v(9439),minBy:v(9525),now:v(1710),pick:v(6372),range:v(361),reduce:v(1337),sortBy:v(2906),uniqueId:v(1541),values:v(377),zipObject:v(1617)}}catch{}_||(_=window._),j.exports=_},1230:(j,ee,v)=>{var _=v(5760),A=v(1510);function E(D,P,R,I,L,N,B){var J=D.children(B);if(J.length){var U=A.addBorderNode(D,"_bt"),Z=A.addBorderNode(D,"_bb"),X=D.node(B);D.setParent(U,B),X.borderTop=U,D.setParent(Z,B),X.borderBottom=Z,_.forEach(J,function(ie){E(D,P,R,I,L,N,ie);var te=D.node(ie),G=te.borderTop?te.borderTop:ie,V=te.borderBottom?te.borderBottom:ie,z=te.borderTop?I:2*I,q=G!==V?1:L-N[B]+1;D.setEdge(U,G,{weight:z,minlen:q,nestingEdge:!0}),D.setEdge(V,Z,{weight:z,minlen:q,nestingEdge:!0})}),D.parent(B)||D.setEdge(P,U,{weight:0,minlen:L+N[B]})}else B!==P&&D.setEdge(P,B,{weight:0,minlen:R})}j.exports={run:function x(D){var P=A.addDummyNode(D,"root",{},"_root"),R=function C(D){var P={};function R(I,L){var N=D.children(I);N&&N.length&&_.forEach(N,function(B){R(B,L+1)}),P[I]=L}return _.forEach(D.children(),function(I){R(I,1)}),P}(D),I=_.max(_.values(R))-1,L=2*I+1;D.graph().nestingRoot=P,_.forEach(D.edges(),function(B){D.edge(B).minlen*=L});var N=function b(D){return _.reduce(D.edges(),function(P,R){return P+D.edge(R).weight},0)}(D)+1;_.forEach(D.children(),function(B){E(D,P,L,N,I,R,B)}),D.graph().nodeRankFactor=L},cleanup:function M(D){var P=D.graph();D.removeNode(P.nestingRoot),delete P.nestingRoot,_.forEach(D.edges(),function(R){D.edge(R).nestingEdge&&D.removeEdge(R)})}}},1496:(j,ee,v)=>{"use strict";var _=v(5760),A=v(1510);j.exports={run:function x(b){b.graph().dummyChains=[],_.forEach(b.edges(),function(M){!function E(b,M){var D=M.v,P=b.node(D).rank,R=M.w,I=b.node(R).rank,L=M.name,N=b.edge(M),B=N.labelRank;if(I!==P+1){var J,U,Z;for(b.removeEdge(M),Z=0,++P;P<I;++Z,++P)N.points=[],J=A.addDummyNode(b,"edge",U={width:0,height:0,edgeLabel:N,edgeObj:M,rank:P},"_d"),P===B&&(U.width=N.width,U.height=N.height,U.dummy="edge-label",U.labelpos=N.labelpos),b.setEdge(D,J,{weight:N.weight},L),0===Z&&b.graph().dummyChains.push(J),D=J;b.setEdge(D,R,{weight:N.weight},L)}}(b,M)})},undo:function C(b){_.forEach(b.graph().dummyChains,function(M){var R,D=b.node(M),P=D.edgeLabel;for(b.setEdge(D.edgeObj,P);D.dummy;)R=b.successors(M)[0],b.removeNode(M),P.points.push({x:D.x,y:D.y}),"edge-label"===D.dummy&&(P.x=D.x,P.y=D.y,P.width=D.width,P.height=D.height),D=b.node(M=R)})}}},3034:(j,ee,v)=>{var _=v(5760);j.exports=function A(x,E,C){var M,b={};_.forEach(C,function(D){for(var R,I,P=x.parent(D);P;){if((R=x.parent(P))?(I=b[R],b[R]=P):(I=M,M=P),I&&I!==P)return void E.setEdge(I,P);P=R}})}},1323:(j,ee,v)=>{var _=v(5760);j.exports=function A(x,E){return _.map(E,function(C){var b=x.inEdges(C);if(b.length){var M=_.reduce(b,function(D,P){var R=x.edge(P),I=x.node(P.v);return{sum:D.sum+R.weight*I.order,weight:D.weight+R.weight}},{sum:0,weight:0});return{v:C,barycenter:M.sum/M.weight,weight:M.weight}}return{v:C}})}},1686:(j,ee,v)=>{var _=v(5760),A=v(6456).Graph;j.exports=function x(C,b,M){var D=function E(C){for(var b;C.hasNode(b=_.uniqueId("_root")););return b}(C),P=new A({compound:!0}).setGraph({root:D}).setDefaultNodeLabel(function(R){return C.node(R)});return _.forEach(C.nodes(),function(R){var I=C.node(R),L=C.parent(R);(I.rank===b||I.minRank<=b&&b<=I.maxRank)&&(P.setNode(R),P.setParent(R,L||D),_.forEach(C[M](R),function(N){var B=N.v===R?N.w:N.v,J=P.edge(B,R),U=_.isUndefined(J)?0:J.weight;P.setEdge(B,R,{weight:C.edge(N).weight+U})}),_.has(I,"minRank")&&P.setNode(R,{borderLeft:I.borderLeft[b],borderRight:I.borderRight[b]}))}),P}},8796:(j,ee,v)=>{"use strict";var _=v(5760);function x(E,C,b){for(var M=_.zipObject(b,_.map(b,function(N,B){return B})),D=_.flatten(_.map(C,function(N){return _.sortBy(_.map(E.outEdges(N),function(B){return{pos:M[B.w],weight:E.edge(B).weight}}),"pos")}),!0),P=1;P<b.length;)P<<=1;var R=2*P-1;P-=1;var I=_.map(new Array(R),function(){return 0}),L=0;return _.forEach(D.forEach(function(N){var B=N.pos+P;I[B]+=N.weight;for(var J=0;B>0;)B%2&&(J+=I[B+1]),I[B=B-1>>1]+=N.weight;L+=N.weight*J})),L}j.exports=function A(E,C){for(var b=0,M=1;M<C.length;++M)b+=x(E,C[M-1],C[M]);return b}},2974:(j,ee,v)=>{"use strict";var _=v(5760),A=v(9402),x=v(8796),E=v(1057),C=v(1686),b=v(3034),M=v(6456).Graph,D=v(1510);function R(N,B,J){return _.map(B,function(U){return C(N,U,J)})}function I(N,B){var J=new M;_.forEach(N,function(U){var Z=U.graph().root,X=E(U,Z,J,B);_.forEach(X.vs,function(ie,te){U.node(ie).order=te}),b(U,J,X.vs)})}function L(N,B){_.forEach(B,function(J){_.forEach(J,function(U,Z){N.node(U).order=Z})})}j.exports=function P(N){var B=D.maxRank(N),J=R(N,_.range(1,B+1),"inEdges"),U=R(N,_.range(B-1,-1,-1),"outEdges"),Z=A(N);L(N,Z);for(var ie,X=Number.POSITIVE_INFINITY,te=0,G=0;G<4;++te,++G){I(te%2?J:U,te%4>=2),Z=D.buildLayerMatrix(N);var V=x(N,Z);V<X&&(G=0,ie=_.cloneDeep(Z),X=V)}L(N,ie)}},9402:(j,ee,v)=>{"use strict";var _=v(5760);j.exports=function A(x){var E={},C=_.filter(x.nodes(),function(R){return!x.children(R).length}),b=_.max(_.map(C,function(R){return x.node(R).rank})),M=_.map(_.range(b+1),function(){return[]}),P=_.sortBy(C,function(R){return x.node(R).rank});return _.forEach(P,function D(R){if(!_.has(E,R)){E[R]=!0;var I=x.node(R);M[I.rank].push(R),_.forEach(x.successors(R),D)}}),M}},3826:(j,ee,v)=>{"use strict";var _=v(5760);j.exports=function A(C,b){var M={};return _.forEach(C,function(P,R){var I=M[P.v]={indegree:0,in:[],out:[],vs:[P.v],i:R};_.isUndefined(P.barycenter)||(I.barycenter=P.barycenter,I.weight=P.weight)}),_.forEach(b.edges(),function(P){var R=M[P.v],I=M[P.w];!_.isUndefined(R)&&!_.isUndefined(I)&&(I.indegree++,R.out.push(M[P.w]))}),function x(C){var b=[];function M(R){return function(I){I.merged||(_.isUndefined(I.barycenter)||_.isUndefined(R.barycenter)||I.barycenter>=R.barycenter)&&function E(C,b){var M=0,D=0;C.weight&&(M+=C.barycenter*C.weight,D+=C.weight),b.weight&&(M+=b.barycenter*b.weight,D+=b.weight),C.vs=b.vs.concat(C.vs),C.barycenter=M/D,C.weight=D,C.i=Math.min(b.i,C.i),b.merged=!0}(R,I)}}function D(R){return function(I){I.in.push(R),0==--I.indegree&&C.push(I)}}for(;C.length;){var P=C.pop();b.push(P),_.forEach(P.in.reverse(),M(P)),_.forEach(P.out,D(P))}return _.map(_.filter(b,function(R){return!R.merged}),function(R){return _.pick(R,["vs","i","barycenter","weight"])})}(_.filter(M,function(P){return!P.indegree}))}},1057:(j,ee,v)=>{var _=v(5760),A=v(1323),x=v(3826),E=v(3803);j.exports=function C(D,P,R,I){var L=D.children(P),N=D.node(P),B=N?N.borderLeft:void 0,J=N?N.borderRight:void 0,U={};B&&(L=_.filter(L,function(V){return V!==B&&V!==J}));var Z=A(D,L);_.forEach(Z,function(V){if(D.children(V.v).length){var z=C(D,V.v,R,I);U[V.v]=z,_.has(z,"barycenter")&&function M(D,P){_.isUndefined(D.barycenter)?(D.barycenter=P.barycenter,D.weight=P.weight):(D.barycenter=(D.barycenter*D.weight+P.barycenter*P.weight)/(D.weight+P.weight),D.weight+=P.weight)}(V,z)}});var X=x(Z,R);!function b(D,P){_.forEach(D,function(R){R.vs=_.flatten(R.vs.map(function(I){return P[I]?P[I].vs:I}),!0)})}(X,U);var ie=E(X,I);if(B&&(ie.vs=_.flatten([B,ie.vs,J],!0),D.predecessors(B).length)){var te=D.node(D.predecessors(B)[0]),G=D.node(D.predecessors(J)[0]);_.has(ie,"barycenter")||(ie.barycenter=0,ie.weight=0),ie.barycenter=(ie.barycenter*ie.weight+te.order+G.order)/(ie.weight+2),ie.weight+=2}return ie}},3803:(j,ee,v)=>{var _=v(5760),A=v(1510);function E(b,M,D){for(var P;M.length&&(P=_.last(M)).i<=D;)M.pop(),b.push(P.vs),D++;return D}j.exports=function x(b,M){var D=A.partition(b,function(U){return _.has(U,"barycenter")}),P=D.lhs,R=_.sortBy(D.rhs,function(U){return-U.i}),I=[],L=0,N=0,B=0;P.sort(function C(b){return function(M,D){return M.barycenter<D.barycenter?-1:M.barycenter>D.barycenter?1:b?D.i-M.i:M.i-D.i}}(!!M)),B=E(I,R,B),_.forEach(P,function(U){B+=U.vs.length,I.push(U.vs),L+=U.barycenter*U.weight,N+=U.weight,B=E(I,R,B)});var J={vs:_.flatten(I,!0)};return N&&(J.barycenter=L/N,J.weight=N),J}},162:(j,ee,v)=>{var _=v(5760);j.exports=function A(C){var b=function E(C){var b={},M=0;return _.forEach(C.children(),function D(P){var R=M;_.forEach(C.children(P),D),b[P]={low:R,lim:M++}}),b}(C);_.forEach(C.graph().dummyChains,function(M){for(var D=C.node(M),P=D.edgeObj,R=function x(C,b,M,D){var N,B,P=[],R=[],I=Math.min(b[M].low,b[D].low),L=Math.max(b[M].lim,b[D].lim);N=M;do{N=C.parent(N),P.push(N)}while(N&&(b[N].low>I||L>b[N].lim));for(B=N,N=D;(N=C.parent(N))!==B;)R.push(N);return{path:P.concat(R.reverse()),lca:B}}(C,b,P.v,P.w),I=R.path,L=R.lca,N=0,B=I[N],J=!0;M!==P.w;){if(D=C.node(M),J){for(;(B=I[N])!==L&&C.node(B).maxRank<D.rank;)N++;B===L&&(J=!1)}if(!J){for(;N<I.length-1&&C.node(B=I[N+1]).minRank<=D.rank;)N++;B=I[N]}C.setParent(M,B),M=C.successors(M)[0]}})}},4058:(j,ee,v)=>{"use strict";var _=v(5760),A=v(6456).Graph,x=v(1510);function E(X,ie){var te={};return _.reduce(ie,function G(V,z){var q=0,ae=0,ue=V.length,oe=_.last(z);return _.forEach(z,function(de,we){var fe=function b(X,ie){if(X.node(ie).dummy)return _.find(X.predecessors(ie),function(te){return X.node(te).dummy})}(X,de),je=fe?X.node(fe).order:ue;(fe||de===oe)&&(_.forEach(z.slice(ae,we+1),function(Ve){_.forEach(X.predecessors(Ve),function(_e){var Ce=X.node(_e),ge=Ce.order;(ge<q||je<ge)&&(!Ce.dummy||!X.node(Ve).dummy)&&M(te,_e,Ve)})}),ae=we+1,q=je)}),z}),te}function C(X,ie){var te={};function G(z,q,ae,ue,oe){var de;_.forEach(_.range(q,ae),function(we){X.node(de=z[we]).dummy&&_.forEach(X.predecessors(de),function(fe){var je=X.node(fe);je.dummy&&(je.order<ue||je.order>oe)&&M(te,fe,de)})})}return _.reduce(ie,function V(z,q){var ue,ae=-1,oe=0;return _.forEach(q,function(de,we){if("border"===X.node(de).dummy){var fe=X.predecessors(de);fe.length&&(ue=X.node(fe[0]).order,G(q,oe,we,ae,ue),oe=we,ae=ue)}G(q,oe,q.length,ue,z.length)}),q}),te}function M(X,ie,te){if(ie>te){var G=ie;ie=te,te=G}var V=X[ie];V||(X[ie]=V={}),V[te]=!0}function D(X,ie,te){if(ie>te){var G=ie;ie=te,te=G}return _.has(X[ie],te)}function P(X,ie,te,G){var V={},z={},q={};return _.forEach(ie,function(ae){_.forEach(ae,function(ue,oe){V[ue]=ue,z[ue]=ue,q[ue]=oe})}),_.forEach(ie,function(ae){var ue=-1;_.forEach(ae,function(oe){var de=G(oe);if(de.length)for(var we=((de=_.sortBy(de,function(_e){return q[_e]})).length-1)/2,fe=Math.floor(we),je=Math.ceil(we);fe<=je;++fe){var Ve=de[fe];z[oe]===oe&&ue<q[Ve]&&!D(te,oe,Ve)&&(z[Ve]=oe,z[oe]=V[oe]=V[Ve],ue=q[Ve])}})}),{root:V,align:z}}function R(X,ie,te,G,V){var z={},q=function I(X,ie,te,G){var V=new A,z=X.graph(),q=function U(X,ie,te){return function(G,V,z){var oe,q=G.node(V),ae=G.node(z),ue=0;if(ue+=q.width/2,_.has(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":oe=-q.width/2;break;case"r":oe=q.width/2}if(oe&&(ue+=te?oe:-oe),oe=0,ue+=(q.dummy?ie:X)/2,ue+=(ae.dummy?ie:X)/2,ue+=ae.width/2,_.has(ae,"labelpos"))switch(ae.labelpos.toLowerCase()){case"l":oe=ae.width/2;break;case"r":oe=-ae.width/2}return oe&&(ue+=te?oe:-oe),oe=0,ue}}(z.nodesep,z.edgesep,G);return _.forEach(ie,function(ae){var ue;_.forEach(ae,function(oe){var de=te[oe];if(V.setNode(de),ue){var we=te[ue],fe=V.edge(we,de);V.setEdge(we,de,Math.max(q(X,oe,ue),fe||0))}ue=oe})}),V}(X,ie,te,V),ae=V?"borderLeft":"borderRight";function ue(we,fe){for(var je=q.nodes(),Ve=je.pop(),_e={};Ve;)_e[Ve]?we(Ve):(_e[Ve]=!0,je.push(Ve),je=je.concat(fe(Ve))),Ve=je.pop()}return ue(function oe(we){z[we]=q.inEdges(we).reduce(function(fe,je){return Math.max(fe,z[je.v]+q.edge(je))},0)},q.predecessors.bind(q)),ue(function de(we){var fe=q.outEdges(we).reduce(function(Ve,_e){return Math.min(Ve,z[_e.w]-q.edge(_e))},Number.POSITIVE_INFINITY),je=X.node(we);fe!==Number.POSITIVE_INFINITY&&je.borderType!==ae&&(z[we]=Math.max(z[we],fe))},q.successors.bind(q)),_.forEach(G,function(we){z[we]=z[te[we]]}),z}function L(X,ie){return _.minBy(_.values(ie),function(te){var G=Number.NEGATIVE_INFINITY,V=Number.POSITIVE_INFINITY;return _.forIn(te,function(z,q){var ae=function Z(X,ie){return X.node(ie).width}(X,q)/2;G=Math.max(z+ae,G),V=Math.min(z-ae,V)}),G-V})}function N(X,ie){var te=_.values(ie),G=_.min(te),V=_.max(te);_.forEach(["u","d"],function(z){_.forEach(["l","r"],function(q){var oe,ae=z+q,ue=X[ae];if(ue!==ie){var de=_.values(ue);(oe="l"===q?G-_.min(de):V-_.max(de))&&(X[ae]=_.mapValues(ue,function(we){return we+oe}))}})})}function B(X,ie){return _.mapValues(X.ul,function(te,G){if(ie)return X[ie.toLowerCase()][G];var V=_.sortBy(_.map(X,G));return(V[1]+V[2])/2})}j.exports={positionX:function J(X){var V,ie=x.buildLayerMatrix(X),te=_.merge(E(X,ie),C(X,ie)),G={};_.forEach(["u","d"],function(q){V="u"===q?ie:_.values(ie).reverse(),_.forEach(["l","r"],function(ae){"r"===ae&&(V=_.map(V,function(we){return _.values(we).reverse()}));var ue=("u"===q?X.predecessors:X.successors).bind(X),oe=P(0,V,te,ue),de=R(X,V,oe.root,oe.align,"r"===ae);"r"===ae&&(de=_.mapValues(de,function(we){return-we})),G[q+ae]=de})});var z=L(X,G);return N(G,z),B(G,X.graph().align)},findType1Conflicts:E,findType2Conflicts:C,addConflict:M,hasConflict:D,verticalAlignment:P,horizontalCompaction:R,alignCoordinates:N,findSmallestWidthAlignment:L,balance:B}},8226:(j,ee,v)=>{"use strict";var _=v(5760),A=v(1510),x=v(4058).positionX;j.exports=function E(b){(function C(b){var M=A.buildLayerMatrix(b),D=b.graph().ranksep,P=0;_.forEach(M,function(R){var I=_.max(_.map(R,function(L){return b.node(L).height}));_.forEach(R,function(L){b.node(L).y=P+I/2}),P+=I+D})})(b=A.asNonCompoundGraph(b)),_.forEach(x(b),function(M,D){b.node(D).x=M})}},6632:(j,ee,v)=>{"use strict";var _=v(5760),A=v(6456).Graph,x=v(1916).slack;function C(D,P){return _.forEach(D.nodes(),function R(I){_.forEach(P.nodeEdges(I),function(L){var N=L.v,B=I===N?L.w:N;!D.hasNode(B)&&!x(P,L)&&(D.setNode(B,{}),D.setEdge(I,B,{}),R(B))})}),D.nodeCount()}function b(D,P){return _.minBy(P.edges(),function(R){if(D.hasNode(R.v)!==D.hasNode(R.w))return x(P,R)})}function M(D,P,R){_.forEach(D.nodes(),function(I){P.node(I).rank+=R})}j.exports=function E(D){var L,N,P=new A({directed:!1}),R=D.nodes()[0],I=D.nodeCount();for(P.setNode(R,{});C(P,D)<I;)L=b(P,D),N=P.hasNode(L.v)?x(D,L):-x(D,L),M(P,D,N);return P}},4124:(j,ee,v)=>{"use strict";var A=v(1916).longestPath,x=v(6632),E=v(3804);j.exports=function C(P){switch(P.graph().ranker){case"network-simplex":default:!function D(P){E(P)}(P);break;case"tight-tree":!function M(P){A(P),x(P)}(P);break;case"longest-path":b(P)}};var b=A},3804:(j,ee,v)=>{"use strict";var _=v(5760),A=v(6632),x=v(1916).slack,E=v(1916).longestPath,C=v(6456).alg.preorder,b=v(6456).alg.postorder,M=v(1510).simplify;function D(te){te=M(te),E(te);var V,G=A(te);for(L(G),P(G,te);V=B(G);)U(G,te,V,J(G,te,V))}function P(te,G){var V=b(te,te.nodes());V=V.slice(0,V.length-1),_.forEach(V,function(z){!function R(te,G,V){var z=te.node(V);te.edge(V,z.parent).cutvalue=I(te,G,V)}(te,G,z)})}function I(te,G,V){var q=te.node(V).parent,ae=!0,ue=G.edge(V,q),oe=0;return ue||(ae=!1,ue=G.edge(q,V)),oe=ue.weight,_.forEach(G.nodeEdges(V),function(de){var we=de.v===V,fe=we?de.w:de.v;if(fe!==q){var je=we===ae,Ve=G.edge(de).weight;if(oe+=je?Ve:-Ve,function X(te,G,V){return te.hasEdge(G,V)}(te,V,fe)){var _e=te.edge(V,fe).cutvalue;oe+=je?-_e:_e}}}),oe}function L(te,G){arguments.length<2&&(G=te.nodes()[0]),N(te,{},1,G)}function N(te,G,V,z,q){var ae=V,ue=te.node(z);return G[z]=!0,_.forEach(te.neighbors(z),function(oe){_.has(G,oe)||(V=N(te,G,V,oe,z))}),ue.low=ae,ue.lim=V++,q?ue.parent=q:delete ue.parent,V}function B(te){return _.find(te.edges(),function(G){return te.edge(G).cutvalue<0})}function J(te,G,V){var z=V.v,q=V.w;G.hasEdge(z,q)||(z=V.w,q=V.v);var ae=te.node(z),ue=te.node(q),oe=ae,de=!1;ae.lim>ue.lim&&(oe=ue,de=!0);var we=_.filter(G.edges(),function(fe){return de===ie(0,te.node(fe.v),oe)&&de!==ie(0,te.node(fe.w),oe)});return _.minBy(we,function(fe){return x(G,fe)})}function U(te,G,V,z){te.removeEdge(V.v,V.w),te.setEdge(z.v,z.w,{}),L(te),P(te,G),function Z(te,G){var V=_.find(te.nodes(),function(q){return!G.node(q).parent}),z=C(te,V);z=z.slice(1),_.forEach(z,function(q){var ae=te.node(q).parent,ue=G.edge(q,ae),oe=!1;ue||(ue=G.edge(ae,q),oe=!0),G.node(q).rank=G.node(ae).rank+(oe?ue.minlen:-ue.minlen)})}(te,G)}function ie(te,G,V){return V.low<=G.lim&&G.lim<=V.lim}j.exports=D,D.initLowLimValues=L,D.initCutValues=P,D.calcCutValue=I,D.leaveEdge=B,D.enterEdge=J,D.exchangeEdges=U},1916:(j,ee,v)=>{"use strict";var _=v(5760);j.exports={longestPath:function A(E){var C={};_.forEach(E.sources(),function b(M){var D=E.node(M);if(_.has(C,M))return D.rank;C[M]=!0;var P=_.min(_.map(E.outEdges(M),function(R){return b(R.w)-E.edge(R).minlen}));return(P===Number.POSITIVE_INFINITY||null==P)&&(P=0),D.rank=P})},slack:function x(E,C){return E.node(C.w).rank-E.node(C.v).rank-E.edge(C).minlen}}},1510:(j,ee,v)=>{"use strict";var _=v(5760),A=v(6456).Graph;function x(Z,X,ie,te){var G;do{G=_.uniqueId(te)}while(Z.hasNode(G));return ie.dummy=X,Z.setNode(G,ie),G}function N(Z){return _.max(_.map(Z.nodes(),function(X){var ie=Z.node(X).rank;if(!_.isUndefined(ie))return ie}))}j.exports={addDummyNode:x,simplify:function E(Z){var X=(new A).setGraph(Z.graph());return _.forEach(Z.nodes(),function(ie){X.setNode(ie,Z.node(ie))}),_.forEach(Z.edges(),function(ie){var te=X.edge(ie.v,ie.w)||{weight:0,minlen:1},G=Z.edge(ie);X.setEdge(ie.v,ie.w,{weight:te.weight+G.weight,minlen:Math.max(te.minlen,G.minlen)})}),X},asNonCompoundGraph:function C(Z){var X=new A({multigraph:Z.isMultigraph()}).setGraph(Z.graph());return _.forEach(Z.nodes(),function(ie){Z.children(ie).length||X.setNode(ie,Z.node(ie))}),_.forEach(Z.edges(),function(ie){X.setEdge(ie,Z.edge(ie))}),X},successorWeights:function b(Z){var X=_.map(Z.nodes(),function(ie){var te={};return _.forEach(Z.outEdges(ie),function(G){te[G.w]=(te[G.w]||0)+Z.edge(G).weight}),te});return _.zipObject(Z.nodes(),X)},predecessorWeights:function M(Z){var X=_.map(Z.nodes(),function(ie){var te={};return _.forEach(Z.inEdges(ie),function(G){te[G.v]=(te[G.v]||0)+Z.edge(G).weight}),te});return _.zipObject(Z.nodes(),X)},intersectRect:function D(Z,X){var ae,ue,ie=Z.x,te=Z.y,G=X.x-ie,V=X.y-te,z=Z.width/2,q=Z.height/2;if(!G&&!V)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(V)*z>Math.abs(G)*q?(V<0&&(q=-q),ae=q*G/V,ue=q):(G<0&&(z=-z),ae=z,ue=z*V/G),{x:ie+ae,y:te+ue}},buildLayerMatrix:function P(Z){var X=_.map(_.range(N(Z)+1),function(){return[]});return _.forEach(Z.nodes(),function(ie){var te=Z.node(ie),G=te.rank;_.isUndefined(G)||(X[G][te.order]=ie)}),X},normalizeRanks:function R(Z){var X=_.min(_.map(Z.nodes(),function(ie){return Z.node(ie).rank}));_.forEach(Z.nodes(),function(ie){var te=Z.node(ie);_.has(te,"rank")&&(te.rank-=X)})},removeEmptyRanks:function I(Z){var X=_.min(_.map(Z.nodes(),function(V){return Z.node(V).rank})),ie=[];_.forEach(Z.nodes(),function(V){var z=Z.node(V).rank-X;ie[z]||(ie[z]=[]),ie[z].push(V)});var te=0,G=Z.graph().nodeRankFactor;_.forEach(ie,function(V,z){_.isUndefined(V)&&z%G!=0?--te:te&&_.forEach(V,function(q){Z.node(q).rank+=te})})},addBorderNode:function L(Z,X,ie,te){var G={width:0,height:0};return arguments.length>=4&&(G.rank=ie,G.order=te),x(Z,"border",G,X)},maxRank:N,partition:function B(Z,X){var ie={lhs:[],rhs:[]};return _.forEach(Z,function(te){X(te)?ie.lhs.push(te):ie.rhs.push(te)}),ie},time:function J(Z,X){var ie=_.now();try{return X()}finally{console.log(Z+" time: "+(_.now()-ie)+"ms")}},notime:function U(Z,X){return X()}}},8126:j=>{j.exports="0.8.5"},5510:(j,ee,v)=>{var _=v(1838);j.exports={Graph:_.Graph,json:v(1088),alg:v(3430),version:_.version}},6730:(j,ee,v)=>{var _=v(9138);j.exports=function A(x){var b,E={},C=[];function M(D){_.has(E,D)||(E[D]=!0,b.push(D),_.each(x.successors(D),M),_.each(x.predecessors(D),M))}return _.each(x.nodes(),function(D){b=[],M(D),b.length&&C.push(b)}),C}},2163:(j,ee,v)=>{var _=v(9138);function x(E,C,b,M,D,P){_.has(M,C)||(M[C]=!0,b||P.push(C),_.each(D(C),function(R){x(E,R,b,M,D,P)}),b&&P.push(C))}j.exports=function A(E,C,b){_.isArray(C)||(C=[C]);var M=(E.isDirected()?E.successors:E.neighbors).bind(E),D=[],P={};return _.each(C,function(R){if(!E.hasNode(R))throw new Error("Graph does not have node: "+R);x(E,R,"post"===b,P,M,D)}),D}},5668:(j,ee,v)=>{var _=v(1718),A=v(9138);j.exports=function x(E,C,b){return A.transform(E.nodes(),function(M,D){M[D]=_(E,D,C,b)},{})}},1718:(j,ee,v)=>{var _=v(9138),A=v(1919);j.exports=function E(b,M,D,P){return function C(b,M,D,P){var L,N,R={},I=new A,B=function(J){var U=J.v!==L?J.v:J.w,Z=R[U],X=D(J),ie=N.distance+X;if(X<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+J+" Weight: "+X);ie<Z.distance&&(Z.distance=ie,Z.predecessor=L,I.decrease(U,ie))};for(b.nodes().forEach(function(J){var U=J===M?0:Number.POSITIVE_INFINITY;R[J]={distance:U},I.add(J,U)});I.size()>0&&(L=I.removeMin(),(N=R[L]).distance!==Number.POSITIVE_INFINITY);)P(L).forEach(B);return R}(b,String(M),D||x,P||function(R){return b.outEdges(R)})};var x=_.constant(1)},9611:(j,ee,v)=>{var _=v(9138),A=v(3585);j.exports=function x(E){return _.filter(A(E),function(C){return C.length>1||1===C.length&&E.hasEdge(C[0],C[0])})}},2881:(j,ee,v)=>{var _=v(9138);j.exports=function x(C,b,M){return function E(C,b,M){var D={},P=C.nodes();return P.forEach(function(R){D[R]={},D[R][R]={distance:0},P.forEach(function(I){R!==I&&(D[R][I]={distance:Number.POSITIVE_INFINITY})}),M(R).forEach(function(I){var L=I.v===R?I.w:I.v,N=b(I);D[R][L]={distance:N,predecessor:R}})}),P.forEach(function(R){var I=D[R];P.forEach(function(L){var N=D[L];P.forEach(function(B){var U=I[B],Z=N[B],X=N[R].distance+U.distance;X<Z.distance&&(Z.distance=X,Z.predecessor=U.predecessor)})})}),D}(C,b||A,M||function(D){return C.outEdges(D)})};var A=_.constant(1)},3430:(j,ee,v)=>{j.exports={components:v(6730),dijkstra:v(1718),dijkstraAll:v(5668),findCycles:v(9611),floydWarshall:v(2881),isAcyclic:v(6693),postorder:v(6694),preorder:v(5330),prim:v(6823),tarjan:v(3585),topsort:v(2180)}},6693:(j,ee,v)=>{var _=v(2180);j.exports=function A(x){try{_(x)}catch(E){if(E instanceof _.CycleException)return!1;throw E}return!0}},6694:(j,ee,v)=>{var _=v(2163);j.exports=function A(x,E){return _(x,E,"post")}},5330:(j,ee,v)=>{var _=v(2163);j.exports=function A(x,E){return _(x,E,"pre")}},6823:(j,ee,v)=>{var _=v(9138),A=v(6568),x=v(1919);j.exports=function E(C,b){var R,M=new A,D={},P=new x;function I(N){var B=N.v===R?N.w:N.v,J=P.priority(B);if(void 0!==J){var U=b(N);U<J&&(D[B]=R,P.decrease(B,U))}}if(0===C.nodeCount())return M;_.each(C.nodes(),function(N){P.add(N,Number.POSITIVE_INFINITY),M.setNode(N)}),P.decrease(C.nodes()[0],0);for(var L=!1;P.size()>0;){if(R=P.removeMin(),_.has(D,R))M.setEdge(R,D[R]);else{if(L)throw new Error("Input graph is not connected: "+C);L=!0}C.nodeEdges(R).forEach(I)}return M}},3585:(j,ee,v)=>{var _=v(9138);j.exports=function A(x){var E=0,C=[],b={},M=[];function D(P){var R=b[P]={onStack:!0,lowlink:E,index:E++};if(C.push(P),x.successors(P).forEach(function(N){_.has(b,N)?b[N].onStack&&(R.lowlink=Math.min(R.lowlink,b[N].index)):(D(N),R.lowlink=Math.min(R.lowlink,b[N].lowlink))}),R.lowlink===R.index){var L,I=[];do{L=C.pop(),b[L].onStack=!1,I.push(L)}while(P!==L);M.push(I)}}return x.nodes().forEach(function(P){_.has(b,P)||D(P)}),M}},2180:(j,ee,v)=>{var _=v(9138);function A(E){var C={},b={},M=[];if(_.each(E.sinks(),function D(P){if(_.has(b,P))throw new x;_.has(C,P)||(b[P]=!0,C[P]=!0,_.each(E.predecessors(P),D),delete b[P],M.push(P))}),_.size(C)!==E.nodeCount())throw new x;return M}function x(){}j.exports=A,A.CycleException=x,x.prototype=new Error},1919:(j,ee,v)=>{var _=v(9138);function A(){this._arr=[],this._keyIndices={}}j.exports=A,A.prototype.size=function(){return this._arr.length},A.prototype.keys=function(){return this._arr.map(function(x){return x.key})},A.prototype.has=function(x){return _.has(this._keyIndices,x)},A.prototype.priority=function(x){var E=this._keyIndices[x];if(void 0!==E)return this._arr[E].priority},A.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},A.prototype.add=function(x,E){var C=this._keyIndices;if(x=String(x),!_.has(C,x)){var b=this._arr,M=b.length;return C[x]=M,b.push({key:x,priority:E}),this._decrease(M),!0}return!1},A.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var x=this._arr.pop();return delete this._keyIndices[x.key],this._heapify(0),x.key},A.prototype.decrease=function(x,E){var C=this._keyIndices[x];if(E>this._arr[C].priority)throw new Error("New priority is greater than current priority. Key: "+x+" Old: "+this._arr[C].priority+" New: "+E);this._arr[C].priority=E,this._decrease(C)},A.prototype._heapify=function(x){var E=this._arr,C=2*x,b=C+1,M=x;C<E.length&&(M=E[C].priority<E[M].priority?C:M,b<E.length&&(M=E[b].priority<E[M].priority?b:M),M!==x&&(this._swap(x,M),this._heapify(M)))},A.prototype._decrease=function(x){for(var b,E=this._arr,C=E[x].priority;0!==x&&!(E[b=x>>1].priority<C);)this._swap(x,b),x=b},A.prototype._swap=function(x,E){var C=this._arr,b=this._keyIndices,M=C[x],D=C[E];C[x]=D,C[E]=M,b[D.key]=x,b[M.key]=E}},6568:(j,ee,v)=>{"use strict";var _=v(9138);j.exports=C;var A="\0",x="\0",E="\x01";function C(I){this._isDirected=!_.has(I,"directed")||I.directed,this._isMultigraph=!!_.has(I,"multigraph")&&I.multigraph,this._isCompound=!!_.has(I,"compound")&&I.compound,this._label=void 0,this._defaultNodeLabelFn=_.constant(void 0),this._defaultEdgeLabelFn=_.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[x]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function b(I,L){I[L]?I[L]++:I[L]=1}function M(I,L){--I[L]||delete I[L]}function D(I,L,N,B){var J=""+L,U=""+N;if(!I&&J>U){var Z=J;J=U,U=Z}return J+E+U+E+(_.isUndefined(B)?A:B)}function R(I,L){return D(I,L.v,L.w,L.name)}C.prototype._nodeCount=0,C.prototype._edgeCount=0,C.prototype.isDirected=function(){return this._isDirected},C.prototype.isMultigraph=function(){return this._isMultigraph},C.prototype.isCompound=function(){return this._isCompound},C.prototype.setGraph=function(I){return this._label=I,this},C.prototype.graph=function(){return this._label},C.prototype.setDefaultNodeLabel=function(I){return _.isFunction(I)||(I=_.constant(I)),this._defaultNodeLabelFn=I,this},C.prototype.nodeCount=function(){return this._nodeCount},C.prototype.nodes=function(){return _.keys(this._nodes)},C.prototype.sources=function(){var I=this;return _.filter(this.nodes(),function(L){return _.isEmpty(I._in[L])})},C.prototype.sinks=function(){var I=this;return _.filter(this.nodes(),function(L){return _.isEmpty(I._out[L])})},C.prototype.setNodes=function(I,L){var N=arguments,B=this;return _.each(I,function(J){N.length>1?B.setNode(J,L):B.setNode(J)}),this},C.prototype.setNode=function(I,L){return _.has(this._nodes,I)?(arguments.length>1&&(this._nodes[I]=L),this):(this._nodes[I]=arguments.length>1?L:this._defaultNodeLabelFn(I),this._isCompound&&(this._parent[I]=x,this._children[I]={},this._children[x][I]=!0),this._in[I]={},this._preds[I]={},this._out[I]={},this._sucs[I]={},++this._nodeCount,this)},C.prototype.node=function(I){return this._nodes[I]},C.prototype.hasNode=function(I){return _.has(this._nodes,I)},C.prototype.removeNode=function(I){var L=this;if(_.has(this._nodes,I)){var N=function(B){L.removeEdge(L._edgeObjs[B])};delete this._nodes[I],this._isCompound&&(this._removeFromParentsChildList(I),delete this._parent[I],_.each(this.children(I),function(B){L.setParent(B)}),delete this._children[I]),_.each(_.keys(this._in[I]),N),delete this._in[I],delete this._preds[I],_.each(_.keys(this._out[I]),N),delete this._out[I],delete this._sucs[I],--this._nodeCount}return this},C.prototype.setParent=function(I,L){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_.isUndefined(L))L=x;else{for(var N=L+="";!_.isUndefined(N);N=this.parent(N))if(N===I)throw new Error("Setting "+L+" as parent of "+I+" would create a cycle");this.setNode(L)}return this.setNode(I),this._removeFromParentsChildList(I),this._parent[I]=L,this._children[L][I]=!0,this},C.prototype._removeFromParentsChildList=function(I){delete this._children[this._parent[I]][I]},C.prototype.parent=function(I){if(this._isCompound){var L=this._parent[I];if(L!==x)return L}},C.prototype.children=function(I){if(_.isUndefined(I)&&(I=x),this._isCompound){var L=this._children[I];if(L)return _.keys(L)}else{if(I===x)return this.nodes();if(this.hasNode(I))return[]}},C.prototype.predecessors=function(I){var L=this._preds[I];if(L)return _.keys(L)},C.prototype.successors=function(I){var L=this._sucs[I];if(L)return _.keys(L)},C.prototype.neighbors=function(I){var L=this.predecessors(I);if(L)return _.union(L,this.successors(I))},C.prototype.isLeaf=function(I){return 0===(this.isDirected()?this.successors(I):this.neighbors(I)).length},C.prototype.filterNodes=function(I){var L=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});L.setGraph(this.graph());var N=this;_.each(this._nodes,function(U,Z){I(Z)&&L.setNode(Z,U)}),_.each(this._edgeObjs,function(U){L.hasNode(U.v)&&L.hasNode(U.w)&&L.setEdge(U,N.edge(U))});var B={};function J(U){var Z=N.parent(U);return void 0===Z||L.hasNode(Z)?(B[U]=Z,Z):Z in B?B[Z]:J(Z)}return this._isCompound&&_.each(L.nodes(),function(U){L.setParent(U,J(U))}),L},C.prototype.setDefaultEdgeLabel=function(I){return _.isFunction(I)||(I=_.constant(I)),this._defaultEdgeLabelFn=I,this},C.prototype.edgeCount=function(){return this._edgeCount},C.prototype.edges=function(){return _.values(this._edgeObjs)},C.prototype.setPath=function(I,L){var N=this,B=arguments;return _.reduce(I,function(J,U){return B.length>1?N.setEdge(J,U,L):N.setEdge(J,U),U}),this},C.prototype.setEdge=function(){var I,L,N,B,J=!1,U=arguments[0];"object"==typeof U&&null!==U&&"v"in U?(I=U.v,L=U.w,N=U.name,2===arguments.length&&(B=arguments[1],J=!0)):(I=U,L=arguments[1],N=arguments[3],arguments.length>2&&(B=arguments[2],J=!0)),I=""+I,L=""+L,_.isUndefined(N)||(N=""+N);var Z=D(this._isDirected,I,L,N);if(_.has(this._edgeLabels,Z))return J&&(this._edgeLabels[Z]=B),this;if(!_.isUndefined(N)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(I),this.setNode(L),this._edgeLabels[Z]=J?B:this._defaultEdgeLabelFn(I,L,N);var X=function P(I,L,N,B){var J=""+L,U=""+N;if(!I&&J>U){var Z=J;J=U,U=Z}var X={v:J,w:U};return B&&(X.name=B),X}(this._isDirected,I,L,N);return I=X.v,L=X.w,Object.freeze(X),this._edgeObjs[Z]=X,b(this._preds[L],I),b(this._sucs[I],L),this._in[L][Z]=X,this._out[I][Z]=X,this._edgeCount++,this},C.prototype.edge=function(I,L,N){var B=1===arguments.length?R(this._isDirected,arguments[0]):D(this._isDirected,I,L,N);return this._edgeLabels[B]},C.prototype.hasEdge=function(I,L,N){var B=1===arguments.length?R(this._isDirected,arguments[0]):D(this._isDirected,I,L,N);return _.has(this._edgeLabels,B)},C.prototype.removeEdge=function(I,L,N){var B=1===arguments.length?R(this._isDirected,arguments[0]):D(this._isDirected,I,L,N),J=this._edgeObjs[B];return J&&(I=J.v,L=J.w,delete this._edgeLabels[B],delete this._edgeObjs[B],M(this._preds[L],I),M(this._sucs[I],L),delete this._in[L][B],delete this._out[I][B],this._edgeCount--),this},C.prototype.inEdges=function(I,L){var N=this._in[I];if(N){var B=_.values(N);return L?_.filter(B,function(J){return J.v===L}):B}},C.prototype.outEdges=function(I,L){var N=this._out[I];if(N){var B=_.values(N);return L?_.filter(B,function(J){return J.w===L}):B}},C.prototype.nodeEdges=function(I,L){var N=this.inEdges(I,L);if(N)return N.concat(this.outEdges(I,L))}},1838:(j,ee,v)=>{j.exports={Graph:v(6568),version:v(5089)}},1088:(j,ee,v)=>{var _=v(9138),A=v(6568);function E(M){return _.map(M.nodes(),function(D){var P=M.node(D),R=M.parent(D),I={v:D};return _.isUndefined(P)||(I.value=P),_.isUndefined(R)||(I.parent=R),I})}function C(M){return _.map(M.edges(),function(D){var P=M.edge(D),R={v:D.v,w:D.w};return _.isUndefined(D.name)||(R.name=D.name),_.isUndefined(P)||(R.value=P),R})}j.exports={write:function x(M){var D={options:{directed:M.isDirected(),multigraph:M.isMultigraph(),compound:M.isCompound()},nodes:E(M),edges:C(M)};return _.isUndefined(M.graph())||(D.value=_.clone(M.graph())),D},read:function b(M){var D=new A(M.options).setGraph(M.value);return _.each(M.nodes,function(P){D.setNode(P.v,P.value),P.parent&&D.setParent(P.v,P.parent)}),_.each(M.edges,function(P){D.setEdge({v:P.v,w:P.w,name:P.name},P.value)}),D}}},9138:(j,ee,v)=>{var _;try{_={clone:v(1094),constant:v(6684),each:v(5474),filter:v(5281),has:v(4842),isArray:v(1503),isEmpty:v(1973),isFunction:v(5946),isUndefined:v(4235),keys:v(118),map:v(9984),reduce:v(1337),size:v(5637),transform:v(9416),union:v(8921),values:v(377)}}catch{}_||(_=window._),j.exports=_},5089:j=>{j.exports="2.1.8"},5203:(j,ee,v)=>{j.exports=v(8732)},8732:function(j,ee){var v,_,A;(function(){var x,E,C,b,M,D,P,R,I,L,N,B,J,U,Z;C=Math.floor,L=Math.min,E=function(X,ie){return X<ie?-1:X>ie?1:0},I=function(X,ie,te,G,V){var z;if(null==te&&(te=0),null==V&&(V=E),te<0)throw new Error("lo must be non-negative");for(null==G&&(G=X.length);te<G;)V(ie,X[z=C((te+G)/2)])<0?G=z:te=z+1;return[].splice.apply(X,[te,te-te].concat(ie)),ie},D=function(X,ie,te){return null==te&&(te=E),X.push(ie),U(X,0,X.length-1,te)},M=function(X,ie){var te,G;return null==ie&&(ie=E),te=X.pop(),X.length?(G=X[0],X[0]=te,Z(X,0,ie)):G=te,G},R=function(X,ie,te){var G;return null==te&&(te=E),G=X[0],X[0]=ie,Z(X,0,te),G},P=function(X,ie,te){var G;return null==te&&(te=E),X.length&&te(X[0],ie)<0&&(ie=(G=[X[0],ie])[0],X[0]=G[1],Z(X,0,te)),ie},b=function(X,ie){var G,z,ae,ue,oe;for(null==ie&&(ie=E),ue=[],G=0,z=(ae=function(){oe=[];for(var de=0,we=C(X.length/2);0<=we?de<we:de>we;0<=we?de++:de--)oe.push(de);return oe}.apply(this).reverse()).length;G<z;G++)ue.push(Z(X,ae[G],ie));return ue},J=function(X,ie,te){var G;if(null==te&&(te=E),-1!==(G=X.indexOf(ie)))return U(X,0,G,te),Z(X,G,te)},N=function(X,ie,te){var V,z,q,ae;if(null==te&&(te=E),!(V=X.slice(0,ie)).length)return V;for(b(V,te),z=0,q=(ae=X.slice(ie)).length;z<q;z++)P(V,ae[z],te);return V.sort(te).reverse()},B=function(X,ie,te){var G,z,q,ae,ue,oe,de,we,fe;if(null==te&&(te=E),10*ie<=X.length){if(!(q=X.slice(0,ie).sort(te)).length)return q;for(z=q[q.length-1],ae=0,oe=(de=X.slice(ie)).length;ae<oe;ae++)te(G=de[ae],z)<0&&(I(q,G,0,null,te),q.pop(),z=q[q.length-1]);return q}for(b(X,te),fe=[],ue=0,we=L(ie,X.length);0<=we?ue<we:ue>we;0<=we?++ue:--ue)fe.push(M(X,te));return fe},U=function(X,ie,te,G){var V,z,q;for(null==G&&(G=E),V=X[te];te>ie&&G(V,z=X[q=te-1>>1])<0;)X[te]=z,te=q;return X[te]=V},Z=function(X,ie,te){var G,V,z,q,ae;for(null==te&&(te=E),V=X.length,ae=ie,z=X[ie],G=2*ie+1;G<V;)(q=G+1)<V&&!(te(X[G],X[q])<0)&&(G=q),X[ie]=X[G],G=2*(ie=G)+1;return X[ie]=z,U(X,ae,ie,te)},x=function(){function X(ie){this.cmp=ie??E,this.nodes=[]}return X.push=D,X.pop=M,X.replace=R,X.pushpop=P,X.heapify=b,X.updateItem=J,X.nlargest=N,X.nsmallest=B,X.prototype.push=function(ie){return D(this.nodes,ie,this.cmp)},X.prototype.pop=function(){return M(this.nodes,this.cmp)},X.prototype.peek=function(){return this.nodes[0]},X.prototype.contains=function(ie){return-1!==this.nodes.indexOf(ie)},X.prototype.replace=function(ie){return R(this.nodes,ie,this.cmp)},X.prototype.pushpop=function(ie){return P(this.nodes,ie,this.cmp)},X.prototype.heapify=function(){return b(this.nodes,this.cmp)},X.prototype.updateItem=function(ie){return J(this.nodes,ie,this.cmp)},X.prototype.clear=function(){return this.nodes=[]},X.prototype.empty=function(){return 0===this.nodes.length},X.prototype.size=function(){return this.nodes.length},X.prototype.clone=function(){var ie;return(ie=new X).nodes=this.nodes.slice(0),ie},X.prototype.toArray=function(){return this.nodes.slice(0)},X.prototype.insert=X.prototype.push,X.prototype.top=X.prototype.peek,X.prototype.front=X.prototype.peek,X.prototype.has=X.prototype.contains,X.prototype.copy=X.prototype.clone,X}(),_=[],void 0===(A="function"==typeof(v=function(){return x})?v.apply(ee,_):v)||(j.exports=A)}).call(this)},4918:(j,ee,v)=>{"use strict";var _=v(9344).default;const{isArray:A,isObject:x,isString:E}=v(2353),{asArray:C}=v(4249),{prependBase:b}=v(4920),M=v(3327),D=v(9522);function R(L){throw new M("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:L})}function I({context:L,base:N}){if(!L)return;const B=L["@context"];if(E(B))L["@context"]=b(N,B);else if(A(B))for(let J=0;J<B.length;++J){const U=B[J];E(U)?B[J]=b(N,U):x(U)&&I({context:{"@context":U},base:N})}else if(x(B))for(const J in B)I({context:B[J],base:N})}j.exports=class{constructor({sharedCache:N}){this.perOpCache=new Map,this.sharedCache=N}resolve({activeCtx:N,context:B,documentLoader:J,base:U,cycles:Z=new Set}){var X=this;return _(function*(){B&&x(B)&&B["@context"]&&(B=B["@context"]),B=C(B);const ie=[];for(const te of B){if(E(te)){let z=X._get(te);z||(z=yield X._resolveRemoteContext({activeCtx:N,url:te,documentLoader:J,base:U,cycles:Z})),A(z)?ie.push(...z):ie.push(z);continue}if(null===te){ie.push(new D({document:null}));continue}x(te)||R(B);const G=JSON.stringify(te);let V=X._get(G);V||(V=new D({document:te}),X._cacheResolvedContext({key:G,resolved:V,tag:"static"})),ie.push(V)}return ie})()}_get(N){let B=this.perOpCache.get(N);if(!B){const J=this.sharedCache.get(N);J&&(B=J.get("static"),B&&this.perOpCache.set(N,B))}return B}_cacheResolvedContext({key:N,resolved:B,tag:J}){if(this.perOpCache.set(N,B),void 0!==J){let U=this.sharedCache.get(N);U||(U=new Map,this.sharedCache.set(N,U)),U.set(J,B)}return B}_resolveRemoteContext({activeCtx:N,url:B,documentLoader:J,base:U,cycles:Z}){var X=this;return _(function*(){B=b(U,B);const{context:ie,remoteDoc:te}=yield X._fetchContext({activeCtx:N,url:B,documentLoader:J,cycles:Z});I({context:ie,base:U=te.documentUrl||B});const G=yield X.resolve({activeCtx:N,context:ie,documentLoader:J,base:U,cycles:Z});return X._cacheResolvedContext({key:B,resolved:G,tag:te.tag}),G})()}_fetchContext({activeCtx:N,url:B,documentLoader:J,cycles:U}){return _(function*(){if(U.size>10)throw new M("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===N.processingMode?"loading remote context failed":"context overflow",max:10});if(U.has(B))throw new M("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===N.processingMode?"recursive context inclusion":"context overflow",url:B});let Z,X;U.add(B);try{X=yield J(B),Z=X.document||null,E(Z)&&(Z=JSON.parse(Z))}catch(ie){throw new M("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:B,cause:ie})}if(!x(Z))throw new M("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:B});return Z="@context"in Z?{"@context":Z["@context"]}:{"@context":{}},X.contextUrl&&(A(Z["@context"])||(Z["@context"]=[Z["@context"]]),Z["@context"].push(X.contextUrl)),{context:Z,remoteDoc:X}})()}}},3327:j=>{"use strict";j.exports=class extends Error{constructor(v="An unspecified JSON-LD error occurred.",_="jsonld.Error",A={}){super(v),this.name=_,this.message=v,this.details=A}}},779:j=>{"use strict";j.exports=ee=>{class v{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(v,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(v.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:v}),v.compact=function(_,A){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):ee.compact(_,A)},v.expand=function(_){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):ee.expand(_)},v.flatten=function(_){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):ee.flatten(_)},v}},3865:(j,ee,v)=>{"use strict";j.exports=v(4308).NQuads},2210:(j,ee,v)=>{"use strict";var _=v(9344).default;j.exports=class{constructor(){this._requests={}}wrapLoader(x){const E=this;return E._loader=x,function(){return E.add.apply(E,arguments)}}add(x){var E=this;return _(function*(){let C=E._requests[x];if(C)return Promise.resolve(C);C=E._requests[x]=E._loader(x);try{return yield C}finally{delete E._requests[x]}})()}}},9522:(j,ee,v)=>{"use strict";const _=v(5943);j.exports=class{constructor({document:E}){this.document=E,this.cache=new _({max:10})}getProcessed(E){return this.cache.get(E)}setProcessed(E,C){this.cache.set(E,C)}}},9857:(j,ee,v)=>{"use strict";var _=v(9344).default;const A=v(3327),{isArray:x,isObject:E,isString:C,isUndefined:b}=v(2353),{isList:M,isValue:D,isGraph:P,isSimpleGraph:R,isSubjectReference:I}=v(9094),{expandIri:L,getContextValue:N,isKeyword:B,process:J,processingMode:U}=v(2134),{removeBase:Z,prependBase:X}=v(4920),{REGEX_KEYWORD:ie,addValue:te,asArray:G,compareShortestLeast:V}=v(4249),z={};function ae(ue,oe,de){if("@nest"!==L(ue,oe,{vocab:!0},de))throw new A("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}j.exports=z,z.compact=function(){var ue=_(function*({activeCtx:oe,activeProperty:de=null,element:we,options:fe={}}){if(x(we)){let Ve=[];for(let _e=0;_e<we.length;++_e){const Ce=yield z.compact({activeCtx:oe,activeProperty:de,element:we[_e],options:fe});null!==Ce&&Ve.push(Ce)}return fe.compactArrays&&1===Ve.length&&0===(N(oe,de,"@container")||[]).length&&(Ve=Ve[0]),Ve}const je=N(oe,de,"@context");if(b(je)||(oe=yield J({activeCtx:oe,localCtx:je,propagate:!0,overrideProtected:!0,options:fe})),E(we)){if(fe.link&&"@id"in we&&fe.link.hasOwnProperty(we["@id"])){const et=fe.link[we["@id"]];for(let At=0;At<et.length;++At)if(et[At].expanded===we)return et[At].compacted}if(D(we)||I(we)){const et=z.compactValue({activeCtx:oe,activeProperty:de,value:we,options:fe});return fe.link&&I(we)&&(fe.link.hasOwnProperty(we["@id"])||(fe.link[we["@id"]]=[]),fe.link[we["@id"]].push({expanded:we,compacted:et})),et}if(M(we)&&(N(oe,de,"@container")||[]).includes("@list"))return z.compact({activeCtx:oe,activeProperty:de,element:we["@list"],options:fe});const Ve="@reverse"===de,_e={},Ce=oe;!D(we)&&!I(we)&&(oe=oe.revertToPreviousContext());const ge=N(Ce,de,"@context");b(ge)||(oe=yield J({activeCtx:oe,localCtx:ge,propagate:!0,overrideProtected:!0,options:fe})),fe.link&&"@id"in we&&(fe.link.hasOwnProperty(we["@id"])||(fe.link[we["@id"]]=[]),fe.link[we["@id"]].push({expanded:we,compacted:_e}));let qe=we["@type"]||[];qe.length>1&&(qe=Array.from(qe).sort());const Xe=oe;for(const et of qe){const At=z.compactIri({activeCtx:Xe,iri:et,relativeTo:{vocab:!0}}),Be=N(Ce,At,"@context");b(Be)||(oe=yield J({activeCtx:oe,localCtx:Be,options:fe,propagate:!1}))}const Te=Object.keys(we).sort();for(const et of Te){const At=we[et];if("@id"!==et)if("@type"!==et)if("@reverse"!==et)if("@preserve"!==et)if("@index"!==et)if("@graph"!==et&&"@list"!==et&&"@included"!==et&&B(et)){const Be=z.compactIri({activeCtx:oe,iri:et,relativeTo:{vocab:!0}});te(_e,Be,At)}else{if(!x(At))throw new A("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===At.length){const Be=z.compactIri({activeCtx:oe,iri:et,value:At,relativeTo:{vocab:!0},reverse:Ve}),Fe=oe.mappings.has(Be)?oe.mappings.get(Be)["@nest"]:null;let Ue=_e;Fe&&(ae(oe,Fe,fe),E(_e[Fe])||(_e[Fe]={}),Ue=_e[Fe]),te(Ue,Be,At,{propertyIsArray:!0})}for(const Be of At){const Fe=z.compactIri({activeCtx:oe,iri:et,value:Be,relativeTo:{vocab:!0},reverse:Ve}),Ue=oe.mappings.has(Fe)?oe.mappings.get(Fe)["@nest"]:null;let Ne=_e;Ue&&(ae(oe,Ue,fe),E(_e[Ue])||(_e[Ue]={}),Ne=_e[Ue]);const ye=N(oe,Fe,"@container")||[],Le=P(Be),st=M(Be);let pt;st?pt=Be["@list"]:Le&&(pt=Be["@graph"]);let ft=yield z.compact({activeCtx:oe,activeProperty:Fe,element:st||Le?pt:Be,options:fe});if(st){if(x(ft)||(ft=[ft]),ye.includes("@list")){te(Ne,Fe,ft,{valueIsArray:!0,allowDuplicate:!0});continue}ft={[z.compactIri({activeCtx:oe,iri:"@list",relativeTo:{vocab:!0}})]:ft},"@index"in Be&&(ft[z.compactIri({activeCtx:oe,iri:"@index",relativeTo:{vocab:!0}})]=Be["@index"])}if(Le)if(ye.includes("@graph")&&(ye.includes("@id")||ye.includes("@index")&&R(Be))){let bt;Ne.hasOwnProperty(Fe)?bt=Ne[Fe]:Ne[Fe]=bt={};const zt=(ye.includes("@id")?Be["@id"]:Be["@index"])||z.compactIri({activeCtx:oe,iri:"@none",relativeTo:{vocab:!0}});te(bt,zt,ft,{propertyIsArray:!fe.compactArrays||ye.includes("@set")})}else ye.includes("@graph")&&R(Be)?(x(ft)&&ft.length>1&&(ft={"@included":ft}),te(Ne,Fe,ft,{propertyIsArray:!fe.compactArrays||ye.includes("@set")})):(x(ft)&&1===ft.length&&fe.compactArrays&&(ft=ft[0]),ft={[z.compactIri({activeCtx:oe,iri:"@graph",relativeTo:{vocab:!0}})]:ft},"@id"in Be&&(ft[z.compactIri({activeCtx:oe,iri:"@id",relativeTo:{vocab:!0}})]=Be["@id"]),"@index"in Be&&(ft[z.compactIri({activeCtx:oe,iri:"@index",relativeTo:{vocab:!0}})]=Be["@index"]),te(Ne,Fe,ft,{propertyIsArray:!fe.compactArrays||ye.includes("@set")}));else if(ye.includes("@language")||ye.includes("@index")||ye.includes("@id")||ye.includes("@type")){let bt,zt;if(Ne.hasOwnProperty(Fe)?bt=Ne[Fe]:Ne[Fe]=bt={},ye.includes("@language"))D(ft)&&(ft=ft["@value"]),zt=Be["@language"];else if(ye.includes("@index")){const ut=N(oe,Fe,"@index")||"@index",Yt=z.compactIri({activeCtx:oe,iri:ut,relativeTo:{vocab:!0}});if("@index"===ut)zt=Be["@index"],delete ft[Yt];else{let Nt;if([zt,...Nt]=G(ft[ut]||[]),C(zt))switch(Nt.length){case 0:delete ft[ut];break;case 1:ft[ut]=Nt[0];break;default:ft[ut]=Nt}else zt=null}}else if(ye.includes("@id")){const ut=z.compactIri({activeCtx:oe,iri:"@id",relativeTo:{vocab:!0}});zt=ft[ut],delete ft[ut]}else if(ye.includes("@type")){const ut=z.compactIri({activeCtx:oe,iri:"@type",relativeTo:{vocab:!0}});let Yt;switch([zt,...Yt]=G(ft[ut]||[]),Yt.length){case 0:delete ft[ut];break;case 1:ft[ut]=Yt[0];break;default:ft[ut]=Yt}1===Object.keys(ft).length&&"@id"in Be&&(ft=yield z.compact({activeCtx:oe,activeProperty:Fe,element:{"@id":Be["@id"]},options:fe}))}zt||(zt=z.compactIri({activeCtx:oe,iri:"@none",relativeTo:{vocab:!0}})),te(bt,zt,ft,{propertyIsArray:ye.includes("@set")})}else{const bt=!fe.compactArrays||ye.includes("@set")||ye.includes("@list")||x(ft)&&0===ft.length||"@list"===et||"@graph"===et;te(Ne,Fe,ft,{propertyIsArray:bt})}}}else{if((N(oe,de,"@container")||[]).includes("@index"))continue;const Fe=z.compactIri({activeCtx:oe,iri:et,relativeTo:{vocab:!0}});te(_e,Fe,At)}else{const Be=yield z.compact({activeCtx:oe,activeProperty:de,element:At,options:fe});x(Be)&&0===Be.length||te(_e,et,Be)}else{const Be=yield z.compact({activeCtx:oe,activeProperty:"@reverse",element:At,options:fe});for(const Fe in Be)if(oe.mappings.has(Fe)&&oe.mappings.get(Fe).reverse){const Ue=Be[Fe],ye=(N(oe,Fe,"@container")||[]).includes("@set")||!fe.compactArrays;te(_e,Fe,Ue,{propertyIsArray:ye}),delete Be[Fe]}if(Object.keys(Be).length>0){const Fe=z.compactIri({activeCtx:oe,iri:et,relativeTo:{vocab:!0}});te(_e,Fe,Be)}}else{let Be=G(At).map(Le=>z.compactIri({activeCtx:Ce,iri:Le,relativeTo:{vocab:!0}}));1===Be.length&&(Be=Be[0]);const Fe=z.compactIri({activeCtx:oe,iri:"@type",relativeTo:{vocab:!0}}),ye=(N(oe,Fe,"@container")||[]).includes("@set")&&U(oe,1.1)||x(Be)&&0===At.length;te(_e,Fe,Be,{propertyIsArray:ye})}else{let Be=G(At).map(Ue=>z.compactIri({activeCtx:oe,iri:Ue,relativeTo:{vocab:!1},base:fe.base}));1===Be.length&&(Be=Be[0]),_e[z.compactIri({activeCtx:oe,iri:"@id",relativeTo:{vocab:!0}})]=Be}}return _e}return we});return function(oe){return ue.apply(this,arguments)}}(),z.compactIri=({activeCtx:ue,iri:oe,value:de=null,relativeTo:we={vocab:!1},reverse:fe=!1,base:je=null})=>{if(null===oe)return oe;ue.isPropertyTermScoped&&ue.previousContext&&(ue=ue.previousContext);const Ve=ue.getInverse();if(B(oe)&&oe in Ve&&"@none"in Ve[oe]&&"@type"in Ve[oe]["@none"]&&"@none"in Ve[oe]["@none"]["@type"])return Ve[oe]["@none"]["@type"]["@none"];if(we.vocab&&oe in Ve){const Xe=ue["@language"]||"@none",Te=[];E(de)&&"@index"in de&&!("@graph"in de)&&Te.push("@index","@index@set"),E(de)&&"@preserve"in de&&(de=de["@preserve"][0]),P(de)?("@index"in de&&Te.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in de&&Te.push("@graph@id","@graph@id@set"),Te.push("@graph","@graph@set","@set"),"@index"in de||Te.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in de||Te.push("@graph@id","@graph@id@set")):E(de)&&!D(de)&&Te.push("@id","@id@set","@type","@set@type");let et="@language",At="@null";if(fe)et="@type",At="@reverse",Te.push("@set");else if(M(de)){"@index"in de||Te.push("@list");const Fe=de["@list"];if(0===Fe.length)et="@any",At="@none";else{let Ue=0===Fe.length?Xe:null,Ne=null;for(let ye=0;ye<Fe.length;++ye){const Le=Fe[ye];let st="@none",pt="@none";if(D(Le)?"@direction"in Le?st=`${(Le["@language"]||"").toLowerCase()}_${Le["@direction"]}`:"@language"in Le?st=Le["@language"].toLowerCase():"@type"in Le?pt=Le["@type"]:st="@null":pt="@id",null===Ue?Ue=st:st!==Ue&&D(Le)&&(Ue="@none"),null===Ne?Ne=pt:pt!==Ne&&(Ne="@none"),"@none"===Ue&&"@none"===Ne)break}Ue=Ue||"@none",Ne=Ne||"@none","@none"!==Ne?(et="@type",At=Ne):At=Ue}}else{if(D(de))if("@language"in de&&!("@index"in de)){Te.push("@language","@language@set"),At=de["@language"];const Fe=de["@direction"];Fe&&(At=`${At}_${Fe}`)}else"@direction"in de&&!("@index"in de)?At=`_${de["@direction"]}`:"@type"in de&&(et="@type",At=de["@type"]);else et="@type",At="@id";Te.push("@set")}Te.push("@none"),E(de)&&!("@index"in de)&&Te.push("@index","@index@set"),D(de)&&1===Object.keys(de).length&&Te.push("@language","@language@set");const Be=function q(ue,oe,de,we,fe,je){null===je&&(je="@null");const Ve=[];if(("@id"===je||"@reverse"===je)&&E(de)&&"@id"in de){"@reverse"===je&&Ve.push("@reverse");const Ce=z.compactIri({activeCtx:ue,iri:de["@id"],relativeTo:{vocab:!0}});ue.mappings.has(Ce)&&ue.mappings.get(Ce)&&ue.mappings.get(Ce)["@id"]===de["@id"]?Ve.push.apply(Ve,["@vocab","@id"]):Ve.push.apply(Ve,["@id","@vocab"])}else{Ve.push(je);const Ce=Ve.find(ge=>ge.includes("_"));Ce&&Ve.push(Ce.replace(/^[^_]+_/,"_"))}Ve.push("@none");const _e=ue.inverse[oe];for(const Ce of we){if(!(Ce in _e))continue;const ge=_e[Ce][fe];for(const qe of Ve)if(qe in ge)return ge[qe]}return null}(ue,oe,de,Te,et,At);if(null!==Be)return Be}if(we.vocab&&"@vocab"in ue){const Xe=ue["@vocab"];if(0===oe.indexOf(Xe)&&oe!==Xe){const Te=oe.substr(Xe.length);if(!ue.mappings.has(Te))return Te}}let _e=null;const Ce=[];let ge=ue.fastCurieMap;const qe=oe.length-1;for(let Xe=0;Xe<qe&&oe[Xe]in ge;++Xe)ge=ge[oe[Xe]],""in ge&&Ce.push(ge[""][0]);for(let Xe=Ce.length-1;Xe>=0;--Xe){const Te=Ce[Xe],et=Te.terms;for(const At of et){const Be=At+":"+oe.substr(Te.iri.length);ue.mappings.get(At)._prefix&&(!ue.mappings.has(Be)||null===de&&ue.mappings.get(Be)["@id"]===oe)&&(null===_e||V(Be,_e)<0)&&(_e=Be)}}if(null!==_e)return _e;for(const[Xe,Te]of ue.mappings)if(Te&&Te._prefix&&oe.startsWith(Xe+":"))throw new A(`Absolute IRI "${oe}" confused with prefix "${Xe}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:ue});if(!we.vocab){if("@base"in ue){if(ue["@base"]){const Xe=Z(X(je,ue["@base"]),oe);return ie.test(Xe)?`./${Xe}`:Xe}return oe}return Z(je,oe)}return oe},z.compactValue=({activeCtx:ue,activeProperty:oe,value:de,options:we})=>{if(D(de)){const _e=N(ue,oe,"@type"),Ce=N(ue,oe,"@language"),ge=N(ue,oe,"@direction"),qe=N(ue,oe,"@container")||[],Xe="@index"in de&&!qe.includes("@index");if(!Xe&&"@none"!==_e&&(de["@type"]===_e||"@language"in de&&de["@language"]===Ce&&"@direction"in de&&de["@direction"]===ge||"@language"in de&&de["@language"]===Ce||"@direction"in de&&de["@direction"]===ge))return de["@value"];const Te=Object.keys(de).length,et=1===Te||2===Te&&"@index"in de&&!Xe,At="@language"in ue,Be=C(de["@value"]),Fe=ue.mappings.has(oe)&&null===ue.mappings.get(oe)["@language"];if(et&&"@none"!==_e&&(!At||!Be||Fe))return de["@value"];const Ue={};return Xe&&(Ue[z.compactIri({activeCtx:ue,iri:"@index",relativeTo:{vocab:!0}})]=de["@index"]),"@type"in de?Ue[z.compactIri({activeCtx:ue,iri:"@type",relativeTo:{vocab:!0}})]=z.compactIri({activeCtx:ue,iri:de["@type"],relativeTo:{vocab:!0}}):"@language"in de&&(Ue[z.compactIri({activeCtx:ue,iri:"@language",relativeTo:{vocab:!0}})]=de["@language"]),"@direction"in de&&(Ue[z.compactIri({activeCtx:ue,iri:"@direction",relativeTo:{vocab:!0}})]=de["@direction"]),Ue[z.compactIri({activeCtx:ue,iri:"@value",relativeTo:{vocab:!0}})]=de["@value"],Ue}const fe=L(ue,oe,{vocab:!0},we),je=N(ue,oe,"@type"),Ve=z.compactIri({activeCtx:ue,iri:de["@id"],relativeTo:{vocab:"@vocab"===je},base:we.base});return"@id"===je||"@vocab"===je||"@graph"===fe?Ve:{[z.compactIri({activeCtx:ue,iri:"@id",relativeTo:{vocab:!0}})]:Ve}}},313:j=>{"use strict";const ee="http://www.w3.org/1999/02/22-rdf-syntax-ns#",v="http://www.w3.org/2001/XMLSchema#";j.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:ee,RDF_LIST:ee+"List",RDF_FIRST:ee+"first",RDF_REST:ee+"rest",RDF_NIL:ee+"nil",RDF_TYPE:ee+"type",RDF_PLAIN_LITERAL:ee+"PlainLiteral",RDF_XML_LITERAL:ee+"XMLLiteral",RDF_JSON_LITERAL:ee+"JSON",RDF_OBJECT:ee+"object",RDF_LANGSTRING:ee+"langString",XSD:v,XSD_BOOLEAN:v+"boolean",XSD_DOUBLE:v+"double",XSD_INTEGER:v+"integer",XSD_STRING:v+"string"}},2134:(j,ee,v)=>{"use strict";var _=v(9344).default;const A=v(4249),x=v(3327),{isArray:E,isObject:C,isString:b,isUndefined:M}=v(2353),{isAbsolute:D,isRelative:P,prependBase:R}=v(4920),{handleEvent:I}=v(5775),{REGEX_BCP47:L,REGEX_KEYWORD:N,asArray:B,compareShortestLeast:J}=v(4249),U=new Map,X={};function ie(G,V,z,q,ae,ue){if(null===V||!b(V)||X.isKeyword(V))return V;if(V.match(N))return null;if(q&&q.hasOwnProperty(V)&&!0!==ae.get(V)&&X.createTermDefinition({activeCtx:G,localCtx:q,term:V,defined:ae,options:ue}),(z=z||{}).vocab){const de=G.mappings.get(V);if(null===de)return null;if(C(de)&&"@id"in de)return de["@id"]}const oe=V.indexOf(":");if(oe>0){const de=V.substr(0,oe),we=V.substr(oe+1);if("_"===de||0===we.indexOf("//"))return V;q&&q.hasOwnProperty(de)&&X.createTermDefinition({activeCtx:G,localCtx:q,term:de,defined:ae,options:ue});const fe=G.mappings.get(de);if(fe&&fe._prefix)return fe["@id"]+we;if(D(V))return V}if(z.vocab&&"@vocab"in G)V=G["@vocab"]+V;else if(z.base){let de,we;"@base"in G?G["@base"]?(we=R(ue.base,G["@base"]),de=R(we,V)):(we=G["@base"],de=V):(we=ue.base,de=R(ue.base,V)),V=de}return V}function te(G,V){if(!G||"object"!=typeof G||!V||"object"!=typeof V)return G===V;const z=Array.isArray(G);if(z!==Array.isArray(V))return!1;if(z){if(G.length!==V.length)return!1;for(let ue=0;ue<G.length;++ue)if(!te(G[ue],V[ue]))return!1;return!0}const q=Object.keys(G),ae=Object.keys(V);if(q.length!==ae.length)return!1;for(const ue in G){let oe=G[ue],de=V[ue];if("@container"===ue&&Array.isArray(oe)&&Array.isArray(de)&&(oe=oe.slice().sort(),de=de.slice().sort()),!te(oe,de))return!1}return!0}j.exports=X,X.process=function(){var G=_(function*({activeCtx:V,localCtx:z,options:q,propagate:ae=!0,overrideProtected:ue=!1,cycles:oe=new Set}){if(C(z)&&"@context"in z&&E(z["@context"])&&(z=z["@context"]),0===B(z).length)return V;const we=[],fe=[({event:Ce,next:ge})=>{we.push(Ce),ge()}];q.eventHandler&&fe.push(q.eventHandler);const je=q;q={...q,eventHandler:fe};const Ve=yield q.contextResolver.resolve({activeCtx:V,context:z,documentLoader:q.documentLoader,base:q.base});C(Ve[0].document)&&"boolean"==typeof Ve[0].document["@propagate"]&&(ae=Ve[0].document["@propagate"]);let _e=V;!ae&&!_e.previousContext&&(_e=_e.clone(),_e.previousContext=V);for(const Ce of Ve){let{document:ge}=Ce;if(V=_e,null===ge){if(!ue&&0!==Object.keys(V.protected).length)throw new x("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});_e=V=X.getInitialContext(q).clone();continue}const qe=Ce.getProcessed(V);if(qe){if(je.eventHandler)for(const Te of qe.events)I({event:Te,options:je});_e=V=qe.context;continue}if(C(ge)&&"@context"in ge&&(ge=ge["@context"]),!C(ge))throw new x("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:ge});_e=_e.clone();const Xe=new Map;if("@version"in ge){if(1.1!==ge["@version"])throw new x("Unsupported JSON-LD version: "+ge["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:ge});if(V.processingMode&&"json-ld-1.0"===V.processingMode)throw new x("@version: "+ge["@version"]+" not compatible with "+V.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:ge});_e.processingMode="json-ld-1.1",_e["@version"]=ge["@version"],Xe.set("@version",!0)}if(_e.processingMode=_e.processingMode||V.processingMode,"@base"in ge){let Te=ge["@base"];if(null!==Te&&!D(Te)){if(!P(Te))throw new x('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:ge});Te=R(_e["@base"],Te)}_e["@base"]=Te,Xe.set("@base",!0)}if("@vocab"in ge){const Te=ge["@vocab"];if(null===Te)delete _e["@vocab"];else{if(!b(Te))throw new x('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:ge});if(!D(Te)&&X.processingMode(_e,1))throw new x('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:ge});{const et=ie(_e,Te,{vocab:!0,base:!0},void 0,void 0,q);D(et)||q.eventHandler&&I({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:et}},options:q}),_e["@vocab"]=et}}Xe.set("@vocab",!0)}if("@language"in ge){const Te=ge["@language"];if(null===Te)delete _e["@language"];else{if(!b(Te))throw new x('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:ge});Te.match(L)||q.eventHandler&&I({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Te}},options:q}),_e["@language"]=Te.toLowerCase()}Xe.set("@language",!0)}if("@direction"in ge){const Te=ge["@direction"];if("json-ld-1.0"===V.processingMode)throw new x("Invalid JSON-LD syntax; @direction not compatible with "+V.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:ge});if(null===Te)delete _e["@direction"];else{if("ltr"!==Te&&"rtl"!==Te)throw new x('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:ge});_e["@direction"]=Te}Xe.set("@direction",!0)}if("@propagate"in ge){const Te=ge["@propagate"];if("json-ld-1.0"===V.processingMode)throw new x("Invalid JSON-LD syntax; @propagate not compatible with "+V.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:ge});if("boolean"!=typeof Te)throw new x("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:z});Xe.set("@propagate",!0)}if("@import"in ge){const Te=ge["@import"];if("json-ld-1.0"===V.processingMode)throw new x("Invalid JSON-LD syntax; @import not compatible with "+V.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:ge});if(!b(Te))throw new x("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:z});const et=yield q.contextResolver.resolve({activeCtx:V,context:Te,documentLoader:q.documentLoader,base:q.base});if(1!==et.length)throw new x("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:z});const At=et[0].getProcessed(V);if(At)ge=At;else{const Be=et[0].document;if("@import"in Be)throw new x("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:z});for(const Fe in Be)ge.hasOwnProperty(Fe)||(ge[Fe]=Be[Fe]);et[0].setProcessed(V,ge)}Xe.set("@import",!0)}Xe.set("@protected",ge["@protected"]||!1);for(const Te in ge)if(X.createTermDefinition({activeCtx:_e,localCtx:ge,term:Te,defined:Xe,options:q,overrideProtected:ue}),C(ge[Te])&&"@context"in ge[Te]){const et=ge[Te]["@context"];let At=!0;if(b(et)){const Be=R(q.base,et);oe.has(Be)?At=!1:oe.add(Be)}if(At)try{yield X.process({activeCtx:_e.clone(),localCtx:ge[Te]["@context"],overrideProtected:!0,options:q,cycles:oe})}catch{throw new x("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:ge[Te]["@context"],term:Te})}}Ce.setProcessed(V,{context:_e,events:we})}return _e});return function(V){return G.apply(this,arguments)}}(),X.createTermDefinition=({activeCtx:G,localCtx:V,term:z,defined:q,options:ae,overrideProtected:ue=!1})=>{if(q.has(z)){if(q.get(z))return;throw new x("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:V,term:z})}let oe;if(q.set(z,!1),V.hasOwnProperty(z)&&(oe=V[z]),"@type"===z&&C(oe)&&"@set"===(oe["@container"]||"@set")&&X.processingMode(G,1.1)){const Ce=["@container","@id","@protected"],ge=Object.keys(oe);if(0===ge.length||ge.some(qe=>!Ce.includes(qe)))throw new x("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:V,term:z})}else{if(X.isKeyword(z))throw new x("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:V,term:z});if(z.match(N))return void(ae.eventHandler&&I({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:z}},options:ae}));if(""===z)throw new x("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:V})}const de=G.mappings.get(z);G.mappings.has(z)&&G.mappings.delete(z);let we=!1;if((b(oe)||null===oe)&&(we=!0,oe={"@id":oe}),!C(oe))throw new x("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:V});const fe={};G.mappings.set(z,fe),fe.reverse=!1;const je=["@container","@id","@language","@reverse","@type"];X.processingMode(G,1.1)&&je.push("@context","@direction","@index","@nest","@prefix","@protected");for(const Ce in oe)if(!je.includes(Ce))throw new x("Invalid JSON-LD syntax; a term definition must not contain "+Ce,"jsonld.SyntaxError",{code:"invalid term definition",context:V});const Ve=z.indexOf(":");if(fe._termHasColon=Ve>0,"@reverse"in oe){if("@id"in oe)throw new x("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:V});if("@nest"in oe)throw new x("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:V});const Ce=oe["@reverse"];if(!b(Ce))throw new x("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:V});if(Ce.match(N))return ae.eventHandler&&I({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:Ce}},options:ae}),void(de?G.mappings.set(z,de):G.mappings.delete(z));const ge=ie(G,Ce,{vocab:!0,base:!1},V,q,ae);if(!D(ge))throw new x("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:V});fe["@id"]=ge,fe.reverse=!0}else if("@id"in oe){let Ce=oe["@id"];if(Ce&&!b(Ce))throw new x("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:V});if(null===Ce)fe["@id"]=null;else{if(!X.isKeyword(Ce)&&Ce.match(N))return ae.eventHandler&&I({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:Ce}},options:ae}),void(de?G.mappings.set(z,de):G.mappings.delete(z));if(Ce!==z){if(Ce=ie(G,Ce,{vocab:!0,base:!1},V,q,ae),!D(Ce)&&!X.isKeyword(Ce))throw new x("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:V});if(z.match(/(?::[^:])|\//)&&ie(G,z,{vocab:!0,base:!1},V,new Map(q).set(z,!0),ae)!==Ce)throw new x("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:V});fe["@id"]=Ce,fe._prefix=we&&!fe._termHasColon&&Ce.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in fe))if(fe._termHasColon){const Ce=z.substr(0,Ve);if(V.hasOwnProperty(Ce)&&X.createTermDefinition({activeCtx:G,localCtx:V,term:Ce,defined:q,options:ae}),G.mappings.has(Ce)){const ge=z.substr(Ve+1);fe["@id"]=G.mappings.get(Ce)["@id"]+ge}else fe["@id"]=z}else if("@type"===z)fe["@id"]=z;else{if(!("@vocab"in G))throw new x("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:V,term:z});fe["@id"]=G["@vocab"]+z}if((!0===oe["@protected"]||!0===q.get("@protected")&&!1!==oe["@protected"])&&(G.protected[z]=!0,fe.protected=!0),q.set(z,!0),"@type"in oe){let Ce=oe["@type"];if(!b(Ce))throw new x("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:V});if("@json"===Ce||"@none"===Ce){if(X.processingMode(G,1))throw new x(`Invalid JSON-LD syntax; an @context @type value must not be "${Ce}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:V})}else if("@id"!==Ce&&"@vocab"!==Ce){if(Ce=ie(G,Ce,{vocab:!0,base:!1},V,q,ae),!D(Ce))throw new x("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:V});if(0===Ce.indexOf("_:"))throw new x("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:V})}fe["@type"]=Ce}if("@container"in oe){const Ce=b(oe["@container"])?[oe["@container"]]:oe["@container"]||[],ge=["@list","@set","@index","@language"];let qe=!0;const Xe=Ce.includes("@set");if(X.processingMode(G,1.1)){if(ge.push("@graph","@id","@type"),Ce.includes("@list")){if(1!==Ce.length)throw new x("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:V})}else if(Ce.includes("@graph")){if(Ce.some(Te=>"@graph"!==Te&&"@id"!==Te&&"@index"!==Te&&"@set"!==Te))throw new x("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:V})}else qe&=Ce.length<=(Xe?2:1);if(Ce.includes("@type")&&(fe["@type"]=fe["@type"]||"@id",!["@id","@vocab"].includes(fe["@type"])))throw new x("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:V})}else qe&=!E(oe["@container"]),qe&=Ce.length<=1;if(qe&=Ce.every(Te=>ge.includes(Te)),qe&=!(Xe&&Ce.includes("@list")),!qe)throw new x("Invalid JSON-LD syntax; @context @container value must be one of the following: "+ge.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:V});if(fe.reverse&&!Ce.every(Te=>["@index","@set"].includes(Te)))throw new x("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:V});fe["@container"]=Ce}if("@index"in oe){if(!("@container"in oe)||!fe["@container"].includes("@index"))throw new x(`Invalid JSON-LD syntax; @index without @index in @container: "${oe["@index"]}" on term "${z}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:V});if(!b(oe["@index"])||0===oe["@index"].indexOf("@"))throw new x(`Invalid JSON-LD syntax; @index must expand to an IRI: "${oe["@index"]}" on term "${z}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:V});fe["@index"]=oe["@index"]}if("@context"in oe&&(fe["@context"]=oe["@context"]),"@language"in oe&&!("@type"in oe)){let Ce=oe["@language"];if(null!==Ce&&!b(Ce))throw new x("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:V});null!==Ce&&(Ce=Ce.toLowerCase()),fe["@language"]=Ce}if("@prefix"in oe){if(z.match(/:|\//))throw new x("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:V});if(X.isKeyword(fe["@id"]))throw new x("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:V});if("boolean"!=typeof oe["@prefix"])throw new x("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:V});fe._prefix=!0===oe["@prefix"]}if("@direction"in oe){const Ce=oe["@direction"];if(null!==Ce&&"ltr"!==Ce&&"rtl"!==Ce)throw new x('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:V});fe["@direction"]=Ce}if("@nest"in oe){const Ce=oe["@nest"];if(!b(Ce)||"@nest"!==Ce&&0===Ce.indexOf("@"))throw new x("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:V});fe["@nest"]=Ce}const _e=fe["@id"];if("@context"===_e||"@preserve"===_e)throw new x("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:V});if(de&&de.protected&&!ue&&(G.protected[z]=!0,fe.protected=!0,!te(de,fe)))throw new x("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:V,term:z})},X.expandIri=(G,V,z,q)=>ie(G,V,z,void 0,void 0,q),X.getInitialContext=G=>{const V=JSON.stringify({processingMode:G.processingMode}),z=U.get(V);if(z)return z;const q={processingMode:G.processingMode,mappings:new Map,inverse:null,getInverse:function ae(){const fe=this;if(fe.inverse)return fe.inverse;const je=fe.inverse={},Ve=fe.fastCurieMap={},_e={},Ce=(fe["@language"]||"@none").toLowerCase(),ge=fe["@direction"],qe=fe.mappings,Xe=[...qe.keys()].sort(J);for(const Te of Xe){const et=qe.get(Te);if(null===et)continue;let At=et["@container"]||"@none";if(At=[].concat(At).sort().join(""),null===et["@id"])continue;const Be=B(et["@id"]);for(const Fe of Be){let Ue=je[Fe];const Ne=X.isKeyword(Fe);if(Ue)!Ne&&!et._termHasColon&&_e[Fe].push(Te);else if(je[Fe]=Ue={},!Ne&&!et._termHasColon){_e[Fe]=[Te];const ye={iri:Fe,terms:_e[Fe]};Fe[0]in Ve?Ve[Fe[0]].push(ye):Ve[Fe[0]]=[ye]}if(Ue[At]||(Ue[At]={"@language":{},"@type":{},"@any":{}}),Ue=Ue[At],oe(Te,Ue["@any"],"@none"),et.reverse)oe(Te,Ue["@type"],"@reverse");else if("@none"===et["@type"])oe(Te,Ue["@any"],"@none"),oe(Te,Ue["@language"],"@none"),oe(Te,Ue["@type"],"@none");else if("@type"in et)oe(Te,Ue["@type"],et["@type"]);else if("@language"in et&&"@direction"in et){const ye=et["@language"],Le=et["@direction"];oe(Te,Ue["@language"],ye&&Le?`${ye}_${Le}`.toLowerCase():ye?ye.toLowerCase():Le?`_${Le}`:"@null")}else"@language"in et?oe(Te,Ue["@language"],(et["@language"]||"@null").toLowerCase()):"@direction"in et?oe(Te,Ue["@language"],et["@direction"]?`_${et["@direction"]}`:"@none"):ge?(oe(Te,Ue["@language"],`_${ge}`),oe(Te,Ue["@language"],"@none"),oe(Te,Ue["@type"],"@none")):(oe(Te,Ue["@language"],Ce),oe(Te,Ue["@language"],"@none"),oe(Te,Ue["@type"],"@none"))}}for(const Te in Ve)ue(Ve,Te,1);return je},clone:function de(){const fe={};return fe.mappings=A.clone(this.mappings),fe.clone=this.clone,fe.inverse=null,fe.getInverse=this.getInverse,fe.protected=A.clone(this.protected),this.previousContext&&(fe.previousContext=this.previousContext.clone()),fe.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(fe["@base"]=this["@base"]),"@language"in this&&(fe["@language"]=this["@language"]),"@vocab"in this&&(fe["@vocab"]=this["@vocab"]),fe},revertToPreviousContext:function we(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===U.size&&U.clear(),U.set(V,q),q;function ue(fe,je,Ve){const _e=fe[je],Ce=fe[je]={};let ge,qe;for(const Xe of _e)ge=Xe.iri,qe=Ve>=ge.length?"":ge[Ve],qe in Ce?Ce[qe].push(Xe):Ce[qe]=[Xe];for(const Xe in Ce)""!==Xe&&ue(Ce,Xe,Ve+1)}function oe(fe,je,Ve){je.hasOwnProperty(Ve)||(je[Ve]=fe)}},X.getContextValue=(G,V,z)=>{if(null===V)return"@context"===z?void 0:null;if(G.mappings.has(V)){const q=G.mappings.get(V);if(M(z))return q;if(q.hasOwnProperty(z))return q[z]}return"@language"===z&&z in G||"@direction"===z&&z in G?G[z]:"@context"!==z?null:void 0},X.processingMode=(G,V)=>V.toString()>="1.1"?!G.processingMode||G.processingMode>="json-ld-"+V.toString():"json-ld-1.0"===G.processingMode,X.isKeyword=G=>{if(!b(G)||"@"!==G[0])return!1;switch(G){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},8719:(j,ee,v)=>{"use strict";var _=v(9344).default;const{parseLinkHeader:A,buildHeaders:x}=v(4249),{LINK_HEADER_CONTEXT:E}=v(313),C=v(3327),b=v(2210),{prependBase:M}=v(4920),D=/(^|(\r\n))link:/i;j.exports=({secure:R,headers:I={},xhr:L}={headers:{}})=>{return I=x(I),(new b).wrapLoader(B);function B(U){return J.apply(this,arguments)}function J(){return J=_(function*(U){if(0!==U.indexOf("http:")&&0!==U.indexOf("https:"))throw new C('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:U});if(R&&0!==U.indexOf("https"))throw new C('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:U});let Z;try{Z=yield function P(R,I,L){const N=new(R=R||XMLHttpRequest);return new Promise((B,J)=>{N.onload=()=>B(N),N.onerror=U=>J(U),N.open("GET",I,!0);for(const U in L)N.setRequestHeader(U,L[U]);N.send()})}(L,U,I)}catch(V){throw new C("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:U,cause:V})}if(Z.status>=400)throw new C("URL could not be dereferenced: "+Z.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:U,httpStatusCode:Z.status});let X={contextUrl:null,documentUrl:U,document:Z.response},ie=null;const te=Z.getResponseHeader("Content-Type");let G;if(D.test(Z.getAllResponseHeaders())&&(G=Z.getResponseHeader("Link")),G&&"application/ld+json"!==te){const V=A(G),z=V[E];if(Array.isArray(z))throw new C("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:U});z&&(X.contextUrl=z.target),ie=V.alternate,ie&&"application/ld+json"==ie.type&&!(te||"").match(/^application\/(\w*\+)?json$/)&&(X=yield B(M(U,ie.target)))}return X}),J.apply(this,arguments)}}},5775:(j,ee,v)=>{"use strict";const _=v(3327),{isArray:A}=v(2353),{asArray:x}=v(4249),E={};function C({event:M,handlers:D}){let P=!0;for(let R=0;P&&R<D.length;++R){P=!1;const I=D[R];if(A(I))P=C({event:M,handlers:I});else if("function"==typeof I)I({event:M,next:()=>{P=!0}});else{if("object"!=typeof I)throw new _("Invalid event handler.","jsonld.InvalidEventHandler",{event:M});M.code in I?I[M.code]({event:M,next:()=>{P=!0}}):P=!0}}return P}j.exports=E,E.defaultEventHandler=null,E.setupEventHandler=({options:M={}})=>{const D=[].concat(M.safe?E.safeEventHandler:[],M.eventHandler?x(M.eventHandler):[],E.defaultEventHandler?E.defaultEventHandler:[]);return 0===D.length?null:D},E.handleEvent=({event:M,options:D})=>{C({event:M,handlers:D.eventHandler})};const b=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference"]);E.safeEventHandler=function({event:D,next:P}){if("warning"===D.level&&b.has(D.code))throw new _("Safe mode validation error.","jsonld.ValidationError",{event:D});P()},E.logEventHandler=function({event:D,next:P}){console.log(`EVENT: ${D.message}`,{event:D}),P()},E.logWarningEventHandler=function({event:D,next:P}){"warning"===D.level&&console.warn(`WARNING: ${D.message}`,{event:D}),P()},E.unhandledEventHandler=function({event:D}){throw new _("No handler for event.","jsonld.UnhandledEvent",{event:D})},E.setDefaultEventHandler=function({eventHandler:M}={}){E.defaultEventHandler=M?x(M):null}},554:(j,ee,v)=>{"use strict";var _=v(9344).default;const A=v(3327),{isArray:x,isObject:E,isEmptyObject:C,isString:b,isUndefined:M}=v(2353),{isList:D,isValue:P,isGraph:R,isSubject:I}=v(9094),{expandIri:L,getContextValue:N,isKeyword:B,process:J,processingMode:U}=v(2134),{isAbsolute:Z}=v(4920),{REGEX_BCP47:X,REGEX_KEYWORD:ie,addValue:te,asArray:G,getValues:V,validateTypeValue:z}=v(4249),{handleEvent:q}=v(5775),ae={};function ue(Ve){return oe.apply(this,arguments)}function oe(){return(oe=_(function*({activeCtx:Ve,activeProperty:_e,expandedActiveProperty:Ce,element:ge,expandedParent:qe,options:Xe={},insideList:Te,typeKey:et,typeScopedContext:At}){const Be=Object.keys(ge).sort(),Fe=[];let Ue;const Ne=ge[et]&&"@json"===L(Ve,x(ge[et])?ge[et][0]:ge[et],{vocab:!0},{...Xe,typeExpansion:!0});for(const ye of Be){let st,Le=ge[ye];if("@context"===ye)continue;const pt=L(Ve,ye,{vocab:!0},Xe);if(null===pt||!Z(pt)&&!B(pt)){Xe.eventHandler&&q({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:ye,expandedProperty:pt}},options:Xe});continue}if(B(pt)){if("@reverse"===Ce)throw new A("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:Le});if(pt in qe&&"@included"!==pt&&"@type"!==pt)throw new A("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:pt})}if("@id"===pt){if(!b(Le)){if(!Xe.isFrame)throw new A('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:Le});if(E(Le)){if(!C(Le))throw new A('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Le})}else{if(!x(Le))throw new A('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Le});if(!Le.every(ut=>b(ut)))throw new A('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Le})}}te(qe,"@id",G(Le).map(ut=>{if(b(ut)){const Yt=L(Ve,ut,{base:!0},Xe);return Xe.eventHandler&&(null===Yt?q(null===ut?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:ut}},options:Xe}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:ut}},options:Xe}):Z(Yt)||q({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:ut,expandedId:Yt}},options:Xe})),Yt}return ut}),{propertyIsArray:Xe.isFrame});continue}if("@type"===pt){E(Le)&&(Le=Object.fromEntries(Object.entries(Le).map(([ut,Yt])=>[L(At,ut,{vocab:!0}),G(Yt).map(Nt=>L(At,Nt,{base:!0,vocab:!0},{...Xe,typeExpansion:!0}))]))),z(Le,Xe.isFrame),te(qe,"@type",G(Le).map(ut=>{if(b(ut)){const Yt=L(At,ut,{base:!0,vocab:!0},{...Xe,typeExpansion:!0});return"@json"!==Yt&&!Z(Yt)&&Xe.eventHandler&&q({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:ut}},options:Xe}),Yt}return ut}),{propertyIsArray:Xe.isFrame});continue}if("@included"===pt&&U(Ve,1.1)){const ut=G(yield ae.expand({activeCtx:Ve,activeProperty:_e,element:Le,options:Xe}));if(!ut.every(Yt=>I(Yt)))throw new A("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:Le});te(qe,"@included",ut,{propertyIsArray:!0});continue}if("@graph"===pt&&!E(Le)&&!x(Le))throw new A('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:Le});if("@value"===pt){Ue=Le,Ne&&U(Ve,1.1)?qe["@value"]=Le:te(qe,"@value",Le,{propertyIsArray:Xe.isFrame});continue}if("@language"===pt){if(null===Le)continue;if(!b(Le)&&!Xe.isFrame)throw new A('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:Le});Le=G(Le).map(ut=>b(ut)?ut.toLowerCase():ut);for(const ut of Le)b(ut)&&!ut.match(X)&&Xe.eventHandler&&q({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:ut}},options:Xe});te(qe,"@language",Le,{propertyIsArray:Xe.isFrame});continue}if("@direction"===pt){if(!b(Le)&&!Xe.isFrame)throw new A('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:Le});Le=G(Le);for(const ut of Le)if(b(ut)&&"ltr"!==ut&&"rtl"!==ut)throw new A('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:Le});te(qe,"@direction",Le,{propertyIsArray:Xe.isFrame});continue}if("@index"===pt){if(!b(Le))throw new A('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:Le});te(qe,"@index",Le);continue}if("@reverse"===pt){if(!E(Le))throw new A('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:Le});if(st=yield ae.expand({activeCtx:Ve,activeProperty:"@reverse",element:Le,options:Xe}),"@reverse"in st)for(const Yt in st["@reverse"])te(qe,Yt,st["@reverse"][Yt],{propertyIsArray:!0});let ut=qe["@reverse"]||null;for(const Yt in st){if("@reverse"===Yt)continue;null===ut&&(ut=qe["@reverse"]={}),te(ut,Yt,[],{propertyIsArray:!0});const Nt=st[Yt];for(let Ln=0;Ln<Nt.length;++Ln){const Jn=Nt[Ln];if(P(Jn)||D(Jn))throw new A('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:st});te(ut,Yt,Jn,{propertyIsArray:!0})}}continue}if("@nest"===pt){Fe.push(ye);continue}let ft=Ve;const bt=N(Ve,ye,"@context");M(bt)||(ft=yield J({activeCtx:Ve,localCtx:bt,propagate:!0,overrideProtected:!0,options:Xe}));const zt=N(ft,ye,"@container")||[];if(zt.includes("@language")&&E(Le))st=we(ft,Le,N(ft,ye,"@direction"),Xe);else if(zt.includes("@index")&&E(Le)){const ut=zt.includes("@graph"),Yt=N(ft,ye,"@index")||"@index",Nt="@index"!==Yt&&L(Ve,Yt,{vocab:!0},Xe);st=yield fe({activeCtx:ft,options:Xe,activeProperty:ye,value:Le,asGraph:ut,indexKey:Yt,propertyIndex:Nt})}else if(zt.includes("@id")&&E(Le)){const ut=zt.includes("@graph");st=yield fe({activeCtx:ft,options:Xe,activeProperty:ye,value:Le,asGraph:ut,indexKey:"@id"})}else if(zt.includes("@type")&&E(Le))st=yield fe({activeCtx:ft.revertToPreviousContext(),options:Xe,activeProperty:ye,value:Le,asGraph:!1,indexKey:"@type"});else{const ut="@list"===pt;if(ut||"@set"===pt){let Yt=_e;ut&&"@graph"===Ce&&(Yt=null),st=yield ae.expand({activeCtx:ft,activeProperty:Yt,element:Le,options:Xe,insideList:ut})}else st="@json"===N(Ve,ye,"@type")?{"@type":"@json","@value":Le}:yield ae.expand({activeCtx:ft,activeProperty:ye,element:Le,options:Xe,insideList:!1})}if(null!==st||"@value"===pt){if("@list"!==pt&&!D(st)&&zt.includes("@list")&&(st={"@list":G(st)}),zt.includes("@graph")&&!zt.some(ut=>"@id"===ut||"@index"===ut)&&(st=G(st).map(ut=>({"@graph":G(ut)}))),ft.mappings.has(ye)&&ft.mappings.get(ye).reverse){const ut=qe["@reverse"]=qe["@reverse"]||{};st=G(st);for(let Yt=0;Yt<st.length;++Yt){const Nt=st[Yt];if(P(Nt)||D(Nt))throw new A('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:st});te(ut,pt,Nt,{propertyIsArray:!0})}continue}te(qe,pt,st,{propertyIsArray:!0})}}if("@value"in qe&&("@json"!==qe["@type"]||!U(Ve,1.1))&&(E(Ue)||x(Ue))&&!Xe.isFrame)throw new A('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:Ue});for(const ye of Fe){const Le=x(ge[ye])?ge[ye]:[ge[ye]];for(const st of Le){if(!E(st)||Object.keys(st).some(pt=>"@value"===L(Ve,pt,{vocab:!0},Xe)))throw new A("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:st});yield ue({activeCtx:Ve,activeProperty:_e,expandedActiveProperty:Ce,element:st,expandedParent:qe,options:Xe,insideList:Te,typeScopedContext:At,typeKey:et})}}})).apply(this,arguments)}function de({activeCtx:Ve,activeProperty:_e,value:Ce,options:ge}){if(null==Ce)return null;const qe=L(Ve,_e,{vocab:!0},ge);if("@id"===qe)return L(Ve,Ce,{base:!0},ge);if("@type"===qe)return L(Ve,Ce,{vocab:!0,base:!0},{...ge,typeExpansion:!0});const Xe=N(Ve,_e,"@type");if(("@id"===Xe||"@graph"===qe)&&b(Ce)){const et=L(Ve,Ce,{base:!0},ge);return null===et&&Ce.match(ie)&&ge.eventHandler&&q({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:_e}},options:ge}),{"@id":et}}if("@vocab"===Xe&&b(Ce))return{"@id":L(Ve,Ce,{vocab:!0,base:!0},ge)};if(B(qe))return Ce;const Te={};if(Xe&&!["@id","@vocab","@none"].includes(Xe))Te["@type"]=Xe;else if(b(Ce)){const et=N(Ve,_e,"@language");null!==et&&(Te["@language"]=et);const At=N(Ve,_e,"@direction");null!==At&&(Te["@direction"]=At)}return["boolean","number","string"].includes(typeof Ce)||(Ce=Ce.toString()),Te["@value"]=Ce,Te}function we(Ve,_e,Ce,ge){const qe=[],Xe=Object.keys(_e).sort();for(const Te of Xe){const et=L(Ve,Te,{vocab:!0},ge);let At=_e[Te];x(At)||(At=[At]);for(const Be of At){if(null===Be)continue;if(!b(Be))throw new A("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:_e});const Fe={"@value":Be};"@none"!==et&&(Te.match(X)||ge.eventHandler&&q({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Te}},options:ge}),Fe["@language"]=Te.toLowerCase()),Ce&&(Fe["@direction"]=Ce),qe.push(Fe)}}return qe}function fe(Ve){return je.apply(this,arguments)}function je(){return(je=_(function*({activeCtx:Ve,options:_e,activeProperty:Ce,value:ge,asGraph:qe,indexKey:Xe,propertyIndex:Te}){const et=[],At=Object.keys(ge).sort(),Be="@type"===Xe;for(let Fe of At){if(Be){const ye=N(Ve,Fe,"@context");M(ye)||(Ve=yield J({activeCtx:Ve,localCtx:ye,propagate:!1,options:_e}))}let Ne,Ue=ge[Fe];x(Ue)||(Ue=[Ue]),Ue=yield ae.expand({activeCtx:Ve,activeProperty:Ce,element:Ue,options:_e,insideList:!1,insideIndex:!0}),Ne=Te?"@none"===Fe?"@none":de({activeCtx:Ve,activeProperty:Xe,value:Fe,options:_e}):L(Ve,Fe,{vocab:!0},_e),"@id"===Xe?Fe=L(Ve,Fe,{base:!0},_e):Be&&(Fe=Ne);for(let ye of Ue){if(qe&&!R(ye)&&(ye={"@graph":[ye]}),"@type"===Xe)"@none"===Ne||(ye["@type"]=ye["@type"]?[Fe].concat(ye["@type"]):[Fe]);else{if(P(ye)&&!["@language","@type","@index"].includes(Xe))throw new A(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${Xe}".`,"jsonld.SyntaxError",{code:"invalid value object",value:ye});Te?"@none"!==Ne&&te(ye,Te,Ne,{propertyIsArray:!0,prependValue:!0}):"@none"!==Ne&&!(Xe in ye)&&(ye[Xe]=Fe)}et.push(ye)}}return et})).apply(this,arguments)}j.exports=ae,ae.expand=function(){var Ve=_(function*({activeCtx:_e,activeProperty:Ce=null,element:ge,options:qe={},insideList:Xe=!1,insideIndex:Te=!1,typeScopedContext:et=null}){if(null==ge)return null;if("@default"===Ce&&(qe=Object.assign({},qe,{isFrame:!1})),!x(ge)&&!E(ge))return Xe||null!==Ce&&"@graph"!==L(_e,Ce,{vocab:!0},qe)?de({activeCtx:_e,activeProperty:Ce,value:ge,options:qe}):(qe.eventHandler&&q({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:ge}},options:qe}),null);if(x(ge)){let st=[];const pt=N(_e,Ce,"@container")||[];Xe=Xe||pt.includes("@list");for(let ft=0;ft<ge.length;++ft){let bt=yield ae.expand({activeCtx:_e,activeProperty:Ce,element:ge[ft],options:qe,insideIndex:Te,typeScopedContext:et});Xe&&x(bt)&&(bt={"@list":bt}),null!==bt&&(x(bt)?st=st.concat(bt):st.push(bt))}return st}const At=L(_e,Ce,{vocab:!0},qe),Be=N(_e,Ce,"@context");et=et||(_e.previousContext?_e:null);let Fe=Object.keys(ge).sort(),Ue=!Te;if(Ue&&et&&Fe.length<=2&&!Fe.includes("@context"))for(const st of Fe){const pt=L(et,st,{vocab:!0},qe);if("@value"===pt){Ue=!1,_e=et;break}if("@id"===pt&&1===Fe.length){Ue=!1;break}}Ue&&(_e=_e.revertToPreviousContext()),M(Be)||(_e=yield J({activeCtx:_e,localCtx:Be,propagate:!0,overrideProtected:!0,options:qe})),"@context"in ge&&(_e=yield J({activeCtx:_e,localCtx:ge["@context"],options:qe})),et=_e;let Ne=null;for(const st of Fe)if("@type"===L(_e,st,{vocab:!0},qe)){Ne=Ne||st;const ft=ge[st],bt=Array.isArray(ft)?ft.length>1?ft.slice().sort():ft:[ft];for(const zt of bt){const ut=N(et,zt,"@context");M(ut)||(_e=yield J({activeCtx:_e,localCtx:ut,options:qe,propagate:!1}))}}let ye={};yield ue({activeCtx:_e,activeProperty:Ce,expandedActiveProperty:At,element:ge,expandedParent:ye,options:qe,insideList:Xe,typeKey:Ne,typeScopedContext:et}),Fe=Object.keys(ye);let Le=Fe.length;if("@value"in ye){if("@type"in ye&&("@language"in ye||"@direction"in ye))throw new A('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ye});let st=Le-1;if("@type"in ye&&(st-=1),"@index"in ye&&(st-=1),"@language"in ye&&(st-=1),"@direction"in ye&&(st-=1),0!==st)throw new A('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ye});const pt=null===ye["@value"]?[]:G(ye["@value"]),ft=V(ye,"@type");if(!U(_e,1.1)||!ft.includes("@json")||1!==ft.length)if(0===pt.length)qe.eventHandler&&q({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:ye}},options:qe}),ye=null;else{if(!pt.every(bt=>b(bt)||C(bt))&&"@language"in ye)throw new A("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:ye});if(!ft.every(bt=>Z(bt)&&!(b(bt)&&0===bt.indexOf("_:"))||C(bt)))throw new A('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:ye})}}else if("@type"in ye&&!x(ye["@type"]))ye["@type"]=[ye["@type"]];else if("@set"in ye||"@list"in ye){if(Le>1&&(2!==Le||!("@index"in ye)))throw new A('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:ye});"@set"in ye&&(ye=ye["@set"],Fe=Object.keys(ye),Le=Fe.length)}else 1===Le&&"@language"in ye&&(qe.eventHandler&&q({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:ye}},options:qe}),ye=null);if(E(ye)&&!qe.keepFreeFloatingNodes&&!Xe&&(null===Ce||"@graph"===At)&&(0===Le||"@value"in ye||"@list"in ye||1===Le&&"@id"in ye)){if(qe.eventHandler){let st,pt;0===Le?(st="empty object",pt="Dropping empty object."):"@value"in ye?(st="object with only @value",pt="Dropping object with only @value."):"@list"in ye?(st="object with only @list",pt="Dropping object with only @list."):1===Le&&"@id"in ye&&(st="object with only @id",pt="Dropping object with only @id."),q({event:{type:["JsonLdEvent"],code:st,level:"warning",message:pt,details:{value:ye}},options:qe})}ye=null}return ye});return function(_e){return Ve.apply(this,arguments)}}()},7613:(j,ee,v)=>{"use strict";const{isSubjectReference:_}=v(9094),{createMergedNodeMap:A}=v(5057),x={};j.exports=x,x.flatten=E=>{const C=A(E),b=[],M=Object.keys(C).sort();for(let D=0;D<M.length;++D){const P=C[M[D]];_(P)||b.push(P)}return b}},1938:(j,ee,v)=>{"use strict";const{isKeyword:_}=v(2134),A=v(9094),x=v(2353),E=v(4249),C=v(4920),b=v(3327),{createNodeMap:M,mergeNodeMapGraphs:D}=v(5057),P={};function R(G){const V={};for(const z in G)void 0!==G[z]&&(V["@"+z]=[G[z]]);return[V]}function I(G,V,z){for(let q=z.length-1;q>=0;--q){const ae=z[q];if(ae.graph===V&&ae.subject["@id"]===G["@id"])return!0}return!1}function L(G,V,z){const q="@"+z;let ae=q in G?G[q][0]:V[z];if("embed"===z)if(!0===ae)ae="@once";else if(!1===ae)ae="@never";else if("@always"!==ae&&"@never"!==ae&&"@link"!==ae&&"@first"!==ae&&"@last"!==ae&&"@once"!==ae)throw new b("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:G});return ae}function N(G){if(!x.isArray(G)||1!==G.length||!x.isObject(G[0]))throw new b("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:G});if("@id"in G[0])for(const V of E.asArray(G[0]["@id"]))if(!x.isObject(V)&&!C.isAbsolute(V)||x.isString(V)&&0===V.indexOf("_:"))throw new b("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:G});if("@type"in G[0])for(const V of E.asArray(G[0]["@type"]))if(!x.isObject(V)&&!C.isAbsolute(V)||x.isString(V)&&0===V.indexOf("_:"))throw new b("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:G})}function J(G,V,z,q){let ae=!0,ue=!1;for(const oe in z){let de=!1;const we=E.getValues(V,oe),fe=0===E.getValues(z,oe).length;if("@id"===oe){if(x.isEmptyObject(z["@id"][0]||{})?de=!0:z["@id"].length>=0&&(de=z["@id"].includes(we[0])),!q.requireAll)return de}else if("@type"===oe){if(ae=!1,fe){if(we.length>0)return!1;de=!0}else if(1===z["@type"].length&&x.isEmptyObject(z["@type"][0]))de=we.length>0;else for(const je of z["@type"])de=!(!x.isObject(je)||!("@default"in je))||de||we.some(Ve=>Ve===je);if(!q.requireAll)return de}else{if(_(oe))continue;{const je=E.getValues(z,oe)[0];let Ve=!1;if(je&&(N([je]),Ve="@default"in je),ae=!1,0===we.length&&Ve)continue;if(we.length>0&&fe)return!1;if(void 0===je){if(we.length>0)return!1;de=!0}else if(A.isList(je)){const _e=je["@list"][0];if(A.isList(we[0])){const Ce=we[0]["@list"];A.isValue(_e)?de=Ce.some(ge=>te(_e,ge)):(A.isSubject(_e)||A.isSubjectReference(_e))&&(de=Ce.some(ge=>ie(G,_e,ge,q)))}}else de=A.isValue(je)?we.some(_e=>te(je,_e)):A.isSubjectReference(je)?we.some(_e=>ie(G,je,_e,q)):!!x.isObject(je)&&we.length>0}}if(!de&&q.requireAll)return!1;ue=ue||de}return ae||ue}function U(G,V){const z=G.uniqueEmbeds[G.graph],q=z[V],ae=q.parent,ue=q.property,oe={"@id":V};if(x.isArray(ae)){for(let we=0;we<ae.length;++we)if(E.compareValues(ae[we],oe)){ae[we]=oe;break}}else{const we=x.isArray(ae[ue]);E.removeValue(ae,ue,oe,{propertyIsArray:we}),E.addValue(ae,ue,oe,{propertyIsArray:we})}const de=we=>{const fe=Object.keys(z);for(const je of fe)je in z&&x.isObject(z[je].parent)&&z[je].parent["@id"]===we&&(delete z[je],de(je))};de(V)}function Z(G,V){if(x.isArray(G))return G.map(z=>Z(z,V));if(x.isObject(G)){if("@preserve"in G)return G["@preserve"][0];if(A.isValue(G))return G;if(A.isList(G))return G["@list"]=Z(G["@list"],V),G;if("@id"in G){const z=G["@id"];if(V.link.hasOwnProperty(z)){const q=V.link[z].indexOf(G);if(-1!==q)return V.link[z][q];V.link[z].push(G)}else V.link[z]=[G]}for(const z in G)"@id"===z&&V.bnodesToClear.includes(G[z])?delete G["@id"]:G[z]=Z(G[z],V)}return G}function X(G,V,z){x.isObject(G)?E.addValue(G,V,z,{propertyIsArray:!0}):G.push(z)}function ie(G,V,z,q){if(!("@id"in z))return!1;const ae=G.subjects[z["@id"]];return ae&&J(G,ae,V,q)}function te(G,V){const z=V["@value"],q=V["@type"],ae=V["@language"],ue=G["@value"]?x.isArray(G["@value"])?G["@value"]:[G["@value"]]:[],oe=G["@type"]?x.isArray(G["@type"])?G["@type"]:[G["@type"]]:[],de=G["@language"]?x.isArray(G["@language"])?G["@language"]:[G["@language"]]:[];return 0===ue.length&&0===oe.length&&0===de.length||!(!ue.includes(z)&&!x.isEmptyObject(ue[0])||!(!q&&0===oe.length||oe.includes(q)||q&&x.isEmptyObject(oe[0]))||!(!ae&&0===de.length||de.includes(ae)||ae&&x.isEmptyObject(de[0])))}j.exports=P,P.frameMergedOrDefault=(G,V,z)=>{const q={options:z,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},ae=new E.IdentifierIssuer("_:b");M(G,q.graphMap,"@default",ae),z.merged&&(q.graphMap["@merged"]=D(q.graphMap),q.graph="@merged"),q.subjects=q.graphMap[q.graph];const ue=[];return P.frame(q,Object.keys(q.subjects).sort(),V,ue),z.pruneBlankNodeIdentifiers&&(z.bnodesToClear=Object.keys(q.bnodeMap).filter(oe=>1===q.bnodeMap[oe].length)),z.link={},Z(ue,z)},P.frame=(G,V,z,q,ae=null)=>{N(z);const ue=G.options,oe={embed:L(z=z[0],ue,"embed"),explicit:L(z,ue,"explicit"),requireAll:L(z,ue,"requireAll")};G.link.hasOwnProperty(G.graph)||(G.link[G.graph]={});const de=G.link[G.graph],we=function B(G,V,z,q){const ae={};for(const ue of V){const oe=G.graphMap[G.graph][ue];J(G,oe,z,q)&&(ae[ue]=oe)}return ae}(G,V,z,oe),fe=Object.keys(we).sort();for(const je of fe){const Ve=we[je];if(null===ae?G.uniqueEmbeds={[G.graph]:{}}:G.uniqueEmbeds[G.graph]=G.uniqueEmbeds[G.graph]||{},"@link"===oe.embed&&je in de){X(q,ae,de[je]);continue}const _e={"@id":je};if(0===je.indexOf("_:")&&E.addValue(G.bnodeMap,je,_e,{propertyIsArray:!0}),de[je]=_e,("@first"===oe.embed||"@last"===oe.embed)&&G.is11)throw new b("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:z});if(G.embedded||!G.uniqueEmbeds[G.graph].hasOwnProperty(je)){if(G.embedded&&("@never"===oe.embed||I(Ve,G.graph,G.subjectStack))){X(q,ae,_e);continue}if(G.embedded&&("@first"==oe.embed||"@once"==oe.embed)&&G.uniqueEmbeds[G.graph].hasOwnProperty(je)){X(q,ae,_e);continue}if("@last"===oe.embed&&je in G.uniqueEmbeds[G.graph]&&U(G,je),G.uniqueEmbeds[G.graph][je]={parent:q,property:ae},G.subjectStack.push({subject:Ve,graph:G.graph}),je in G.graphMap){let Ce=!1,ge=null;"@graph"in z?(ge=z["@graph"][0],Ce=!("@merged"===je||"@default"===je),x.isObject(ge)||(ge={})):(Ce="@merged"!==G.graph,ge={}),Ce&&P.frame({...G,graph:je,embedded:!1},Object.keys(G.graphMap[je]).sort(),[ge],_e,"@graph")}"@included"in z&&P.frame({...G,embedded:!1},V,z["@included"],_e,"@included");for(const Ce of Object.keys(Ve).sort())if(_(Ce)){if(_e[Ce]=E.clone(Ve[Ce]),"@type"===Ce)for(const ge of Ve["@type"])0===ge.indexOf("_:")&&E.addValue(G.bnodeMap,ge,_e,{propertyIsArray:!0})}else if(!oe.explicit||Ce in z)for(const ge of Ve[Ce]){const qe=Ce in z?z[Ce]:R(oe);if(A.isList(ge)){const Xe=z[Ce]&&z[Ce][0]&&z[Ce][0]["@list"]?z[Ce][0]["@list"]:R(oe),Te={"@list":[]};X(_e,Ce,Te);const et=ge["@list"];for(const At of et)A.isSubjectReference(At)?P.frame({...G,embedded:!0},[At["@id"]],Xe,Te,"@list"):X(Te,"@list",E.clone(At))}else A.isSubjectReference(ge)?P.frame({...G,embedded:!0},[ge["@id"]],qe,_e,Ce):te(qe[0],ge)&&X(_e,Ce,E.clone(ge))}for(const Ce of Object.keys(z).sort()){if("@type"===Ce){if(!x.isObject(z[Ce][0])||!("@default"in z[Ce][0]))continue}else if(_(Ce))continue;const ge=z[Ce][0]||{};if(!L(ge,ue,"omitDefault")&&!(Ce in _e)){let Xe="@null";"@default"in ge&&(Xe=E.clone(ge["@default"])),x.isArray(Xe)||(Xe=[Xe]),_e[Ce]=[{"@preserve":Xe}]}}for(const Ce of Object.keys(z["@reverse"]||{}).sort()){const ge=z["@reverse"][Ce];for(const qe of Object.keys(G.subjects))E.getValues(G.subjects[qe],Ce).some(Te=>Te["@id"]===je)&&(_e["@reverse"]=_e["@reverse"]||{},E.addValue(_e["@reverse"],Ce,[],{propertyIsArray:!0}),P.frame({...G,embedded:!0},[qe],ge,_e["@reverse"][Ce],ae))}X(q,ae,_e),G.subjectStack.pop()}}},P.cleanupNull=(G,V)=>{if(x.isArray(G))return G.map(q=>P.cleanupNull(q,V)).filter(q=>q);if("@null"===G)return null;if(x.isObject(G)){if("@id"in G){const z=G["@id"];if(V.link.hasOwnProperty(z)){const q=V.link[z].indexOf(G);if(-1!==q)return V.link[z][q];V.link[z].push(G)}else V.link[z]=[G]}for(const z in G)G[z]=P.cleanupNull(G[z],V)}return G}},2216:(j,ee,v)=>{"use strict";var _=v(9344).default;const A=v(3327),x=v(9094),E=v(2353),{REGEX_BCP47:C,addValue:b}=v(4249),{handleEvent:M}=v(5775),{RDF_LIST:D,RDF_FIRST:P,RDF_REST:R,RDF_NIL:I,RDF_TYPE:L,RDF_JSON_LITERAL:N,XSD_BOOLEAN:B,XSD_DOUBLE:J,XSD_INTEGER:U,XSD_STRING:Z}=v(313),X={};function ie(te,G,V,z){if(te.termType.endsWith("Node"))return{"@id":te.value};const q={"@value":te.value};if(te.language)te.language.match(C)||z.eventHandler&&M({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:te.language}},options:z}),q["@language"]=te.language;else{let ae=te.datatype.value;if(ae||(ae=Z),ae===N){ae="@json";try{q["@value"]=JSON.parse(q["@value"])}catch(ue){throw new A("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:q["@value"],cause:ue})}}if(G){if(ae===B)"true"===q["@value"]?q["@value"]=!0:"false"===q["@value"]&&(q["@value"]=!1);else if(E.isNumeric(q["@value"]))if(ae===U){const ue=parseInt(q["@value"],10);ue.toFixed(0)===q["@value"]&&(q["@value"]=ue)}else ae===J&&(q["@value"]=parseFloat(q["@value"]));[B,U,J,Z].includes(ae)||(q["@type"]=ae)}else if("i18n-datatype"===V&&ae.startsWith("https://www.w3.org/ns/i18n#")){const[,ue,oe]=ae.split(/[#_]/);ue.length>0&&(q["@language"]=ue,ue.match(C)||z.eventHandler&&M({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:ue}},options:z})),q["@direction"]=oe}else ae!==Z&&(q["@type"]=ae)}return q}j.exports=X,X.fromRDF=function(){var te=_(function*(G,V){const z={},q={"@default":z},ae={},{useRdfType:ue=!1,useNativeTypes:oe=!1,rdfDirection:de=null}=V;for(const je of G){const Ve="DefaultGraph"===je.graph.termType?"@default":je.graph.value;Ve in q||(q[Ve]={}),"@default"!==Ve&&!(Ve in z)&&(z[Ve]={"@id":Ve});const _e=q[Ve],Ce=je.subject.value,ge=je.predicate.value,qe=je.object;Ce in _e||(_e[Ce]={"@id":Ce});const Xe=_e[Ce],Te=qe.termType.endsWith("Node");if(Te&&!(qe.value in _e)&&(_e[qe.value]={"@id":qe.value}),ge===L&&!ue&&Te){b(Xe,"@type",qe.value,{propertyIsArray:!0});continue}const et=ie(qe,oe,de,V);if(b(Xe,ge,et,{propertyIsArray:!0}),Te)if(qe.value===I){const At=_e[qe.value];"usages"in At||(At.usages=[]),At.usages.push({node:Xe,property:ge,value:et})}else ae[qe.value]=!(qe.value in ae)&&{node:Xe,property:ge,value:et}}for(const je in q){const Ve=q[je];if(!(I in Ve))continue;const _e=Ve[I];if(_e.usages){for(let Ce of _e.usages){let ge=Ce.node,qe=Ce.property,Xe=Ce.value;const Te=[],et=[];let At=Object.keys(ge).length;for(;qe===R&&E.isObject(ae[ge["@id"]])&&E.isArray(ge[P])&&1===ge[P].length&&E.isArray(ge[R])&&1===ge[R].length&&(3===At||4===At&&E.isArray(ge["@type"])&&1===ge["@type"].length&&ge["@type"][0]===D)&&(Te.push(ge[P][0]),et.push(ge["@id"]),Ce=ae[ge["@id"]],ge=Ce.node,qe=Ce.property,Xe=Ce.value,At=Object.keys(ge).length,x.isBlankNode(ge)););delete Xe["@id"],Xe["@list"]=Te.reverse();for(const Be of et)delete Ve[Be]}delete _e.usages}}const we=[],fe=Object.keys(z).sort();for(const je of fe){const Ve=z[je];if(je in q){const _e=Ve["@graph"]=[],Ce=q[je],ge=Object.keys(Ce).sort();for(const qe of ge){const Xe=Ce[qe];x.isSubjectReference(Xe)||_e.push(Xe)}}x.isSubjectReference(Ve)||we.push(Ve)}return we});return function(G,V){return te.apply(this,arguments)}}()},9094:(j,ee,v)=>{"use strict";const _=v(2353),A={};j.exports=A,A.isSubject=x=>!(!_.isObject(x)||"@value"in x||"@set"in x||"@list"in x)&&(Object.keys(x).length>1||!("@id"in x)),A.isSubjectReference=x=>_.isObject(x)&&1===Object.keys(x).length&&"@id"in x,A.isValue=x=>_.isObject(x)&&"@value"in x,A.isList=x=>_.isObject(x)&&"@list"in x,A.isGraph=x=>_.isObject(x)&&"@graph"in x&&1===Object.keys(x).filter(E=>"@id"!==E&&"@index"!==E).length,A.isSimpleGraph=x=>A.isGraph(x)&&!("@id"in x),A.isBlankNode=x=>{if(_.isObject(x)){if("@id"in x){const E=x["@id"];return!_.isString(E)||0===E.indexOf("_:")}return 0===Object.keys(x).length||!("@value"in x||"@set"in x||"@list"in x)}return!1}},5049:(j,ee,v)=>{var _=v(9344).default;const A=v(4308),x=v(2363),E=v(4249),C=v(4918),b=E.IdentifierIssuer,M=v(3327),D=v(5943),P=v(3865),{expand:R}=v(554),{flatten:I}=v(7613),{fromRDF:L}=v(2216),{toRDF:N}=v(5671),{frameMergedOrDefault:B,cleanupNull:J}=v(1938),{isArray:U,isObject:Z,isString:X}=v(2353),{isSubjectReference:ie}=v(9094),{expandIri:te,getInitialContext:G,process:V,processingMode:z}=v(2134),{compact:q,compactIri:ae}=v(9857),{createNodeMap:ue,createMergedNodeMap:oe,mergeNodeMaps:de}=v(5057),{logEventHandler:we,logWarningEventHandler:fe,safeEventHandler:je,setDefaultEventHandler:Ve,setupEventHandler:_e,strictEventHandler:Ce,unhandledEventHandler:ge}=v(5775),qe=function(Te){const et={},Be=new D({max:100});function Fe(Ue,{documentLoader:Ne=Te.documentLoader,...ye}){if(Ue&&"compactionMap"in Ue)throw new M('"compactionMap" not supported.',"jsonld.OptionsError");if(Ue&&"expansionMap"in Ue)throw new M('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:Ne},ye,Ue,{eventHandler:_e({options:Ue})})}return Te.compact=function(){var Ue=_(function*(Ne,ye,Le){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===ye)throw new M("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===Ne)return null;let st;(Le=Fe(Le,{base:X(Ne)?Ne:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new b("_:b"),contextResolver:new C({sharedCache:Be})})).link&&(Le.skipExpansion=!0),Le.compactToRelative||delete Le.base,st=Le.skipExpansion?Ne:yield Te.expand(Ne,Le);const pt=yield Te.processContext(G(Le),ye,Le);let ft=yield q({activeCtx:pt,element:st,options:Le});Le.compactArrays&&!Le.graph&&U(ft)?1===ft.length?ft=ft[0]:0===ft.length&&(ft={}):Le.graph&&Z(ft)&&(ft=[ft]),Z(ye)&&"@context"in ye&&(ye=ye["@context"]),ye=E.clone(ye),U(ye)||(ye=[ye]);const bt=ye;ye=[];for(let ut=0;ut<bt.length;++ut)(!Z(bt[ut])||Object.keys(bt[ut]).length>0)&&ye.push(bt[ut]);const zt=ye.length>0;if(1===ye.length&&(ye=ye[0]),U(ft)){const ut=ae({activeCtx:pt,iri:"@graph",relativeTo:{vocab:!0}}),Yt=ft;ft={},zt&&(ft["@context"]=ye),ft[ut]=Yt}else if(Z(ft)&&zt){const ut=ft;ft={"@context":ye};for(const Yt in ut)ft[Yt]=ut[Yt]}return ft});return function(Ne,ye,Le){return Ue.apply(this,arguments)}}(),Te.expand=function(){var Ue=_(function*(Ne,ye){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const Le={},st=[];if("expandContext"in(ye=Fe(ye,{keepFreeFloatingNodes:!1,contextResolver:new C({sharedCache:Be})}))){const zt=E.clone(ye.expandContext);Le.expandContext=Z(zt)&&"@context"in zt?zt:{"@context":zt},st.push(Le.expandContext)}let pt;if(X(Ne)){const zt=yield Te.get(Ne,ye);pt=zt.documentUrl,Le.input=zt.document,zt.contextUrl&&(Le.remoteContext={"@context":zt.contextUrl},st.push(Le.remoteContext))}else Le.input=E.clone(Ne);"base"in ye||(ye.base=pt||"");let ft=G(ye);for(const zt of st)ft=yield V({activeCtx:ft,localCtx:zt,options:ye});let bt=yield R({activeCtx:ft,element:Le.input,options:ye});return Z(bt)&&"@graph"in bt&&1===Object.keys(bt).length?bt=bt["@graph"]:null===bt&&(bt=[]),U(bt)||(bt=[bt]),bt});return function(Ne,ye){return Ue.apply(this,arguments)}}(),Te.flatten=function(){var Ue=_(function*(Ne,ye,Le){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");ye="function"==typeof ye?null:ye||null,Le=Fe(Le,{base:X(Ne)?Ne:"",contextResolver:new C({sharedCache:Be})});const st=yield Te.expand(Ne,Le),pt=I(st);return null===ye?pt:(Le.graph=!0,Le.skipExpansion=!0,yield Te.compact(pt,ye,Le))});return function(Ne,ye,Le){return Ue.apply(this,arguments)}}(),Te.frame=function(){var Ue=_(function*(Ne,ye,Le){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(Le=Fe(Le,{base:X(Ne)?Ne:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new C({sharedCache:Be})}),X(ye)){const Ln=yield Te.get(ye,Le);if(ye=Ln.document,Ln.contextUrl){let Jn=ye["@context"];Jn?U(Jn)?Jn.push(Ln.contextUrl):Jn=[Jn,Ln.contextUrl]:Jn=Ln.contextUrl,ye["@context"]=Jn}}const st=ye&&ye["@context"]||{},pt=yield Te.processContext(G(Le),st,Le);Le.hasOwnProperty("omitGraph")||(Le.omitGraph=z(pt,1.1)),Le.hasOwnProperty("pruneBlankNodeIdentifiers")||(Le.pruneBlankNodeIdentifiers=z(pt,1.1));const ft=yield Te.expand(Ne,Le),bt={...Le};bt.isFrame=!0,bt.keepFreeFloatingNodes=!0;const zt=yield Te.expand(ye,bt),ut=Object.keys(ye).map(Ln=>te(pt,Ln,{vocab:!0}));bt.merged=!ut.includes("@graph"),bt.is11=z(pt,1.1);const Yt=B(ft,zt,bt);bt.graph=!Le.omitGraph,bt.skipExpansion=!0,bt.link={},bt.framing=!0;let Nt=yield Te.compact(Yt,st,bt);return bt.link={},Nt=J(Nt,bt),Nt});return function(Ne,ye,Le){return Ue.apply(this,arguments)}}(),Te.link=function(){var Ue=_(function*(Ne,ye,Le){const st={};return ye&&(st["@context"]=ye),st["@embed"]="@link",Te.frame(Ne,st,Le)});return function(Ne,ye,Le){return Ue.apply(this,arguments)}}(),Te.normalize=Te.canonize=function(){var Ue=_(function*(Ne,ye){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(ye=Fe(ye,{base:X(Ne)?Ne:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new C({sharedCache:Be})}))){if("application/n-quads"!==ye.inputFormat&&"application/nquads"!==ye.inputFormat)throw new M("Unknown canonicalization input format.","jsonld.CanonizeError");const pt=P.parse(Ne);return A.canonize(pt,ye)}const Le={...ye};delete Le.format,Le.produceGeneralizedRdf=!1;const st=yield Te.toRDF(Ne,Le);return A.canonize(st,ye)});return function(Ne,ye){return Ue.apply(this,arguments)}}(),Te.fromRDF=function(){var Ue=_(function*(Ne,ye){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");ye=Fe(ye,{format:X(Ne)?"application/n-quads":void 0});const{format:Le}=ye;let{rdfParser:st}=ye;if(Le){if(st=st||et[Le],!st)throw new M("Unknown input format.","jsonld.UnknownFormat",{format:Le})}else st=()=>Ne;const pt=yield st(Ne);return L(pt,ye)});return function(Ne,ye){return Ue.apply(this,arguments)}}(),Te.toRDF=function(){var Ue=_(function*(Ne,ye){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let Le;Le=(ye=Fe(ye,{base:X(Ne)?Ne:"",skipExpansion:!1,contextResolver:new C({sharedCache:Be})})).skipExpansion?Ne:yield Te.expand(Ne,ye);const st=N(Le,ye);if(ye.format){if("application/n-quads"===ye.format||"application/nquads"===ye.format)return P.serialize(st);throw new M("Unknown output format.","jsonld.UnknownFormat",{format:ye.format})}return st});return function(Ne,ye){return Ue.apply(this,arguments)}}(),Te.createNodeMap=function(){var Ue=_(function*(Ne,ye){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");ye=Fe(ye,{base:X(Ne)?Ne:"",contextResolver:new C({sharedCache:Be})});const Le=yield Te.expand(Ne,ye);return oe(Le,ye)});return function(Ne,ye){return Ue.apply(this,arguments)}}(),Te.merge=function(){var Ue=_(function*(Ne,ye,Le){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!U(Ne))throw new TypeError('Could not merge, "docs" must be an array.');ye="function"==typeof ye?null:ye||null,Le=Fe(Le,{contextResolver:new C({sharedCache:Be})});const st=yield Promise.all(Ne.map(Ln=>{const Jn={...Le};return Te.expand(Ln,Jn)}));let pt=!0;"mergeNodes"in Le&&(pt=Le.mergeNodes);const ft=Le.issuer||new b("_:b"),bt={"@default":{}};for(let Ln=0;Ln<st.length;++Ln){const Jn=E.relabelBlankNodes(st[Ln],{issuer:new b("_:b"+Ln+"-")}),xr=pt||0===Ln?bt:{"@default":{}};if(ue(Jn,xr,"@default",ft),xr!==bt)for(const Ur in xr){const Or=xr[Ur];if(!(Ur in bt)){bt[Ur]=Or;continue}const Rr=bt[Ur];for(const Pi in Or)Pi in Rr||(Rr[Pi]=Or[Pi])}}const zt=de(bt),ut=[],Yt=Object.keys(zt).sort();for(let Ln=0;Ln<Yt.length;++Ln){const Jn=zt[Yt[Ln]];ie(Jn)||ut.push(Jn)}return null===ye?ut:(Le.graph=!0,Le.skipExpansion=!0,yield Te.compact(ut,ye,Le))});return function(Ne,ye,Le){return Ue.apply(this,arguments)}}(),Object.defineProperty(Te,"documentLoader",{get:()=>Te._documentLoader,set:Ue=>Te._documentLoader=Ue}),Te.documentLoader=function(){var Ue=_(function*(Ne){throw new M("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:Ne})});return function(Ne){return Ue.apply(this,arguments)}}(),Te.get=function(){var Ue=_(function*(Ne,ye){let Le;Le="function"==typeof ye.documentLoader?ye.documentLoader:Te.documentLoader;const st=yield Le(Ne);try{if(!st.document)throw new M("No remote document found at the given URL.","jsonld.NullRemoteDocument");X(st.document)&&(st.document=JSON.parse(st.document))}catch(pt){throw new M("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:pt,remoteDoc:st})}return st});return function(Ne,ye){return Ue.apply(this,arguments)}}(),Te.processContext=function(){var Ue=_(function*(Ne,ye,Le){return Le=Fe(Le,{base:"",contextResolver:new C({sharedCache:Be})}),null===ye?G(Le):(ye=E.clone(ye),Z(ye)&&"@context"in ye||(ye={"@context":ye}),V({activeCtx:Ne,localCtx:ye,options:Le}))});return function(Ne,ye,Le){return Ue.apply(this,arguments)}}(),Te.getContextValue=v(2134).getContextValue,Te.documentLoaders={},Te.useDocumentLoader=function(Ue){if(!(Ue in Te.documentLoaders))throw new M('Unknown document loader type: "'+Ue+'"',"jsonld.UnknownDocumentLoader",{type:Ue});Te.documentLoader=Te.documentLoaders[Ue].apply(Te,Array.prototype.slice.call(arguments,1))},Te.registerRDFParser=function(Ue,Ne){et[Ue]=Ne},Te.unregisterRDFParser=function(Ue){delete et[Ue]},Te.registerRDFParser("application/n-quads",P.parse),Te.registerRDFParser("application/nquads",P.parse),Te.url=v(4920),Te.logEventHandler=we,Te.logWarningEventHandler=fe,Te.safeEventHandler=je,Te.setDefaultEventHandler=Ve,Te.strictEventHandler=Ce,Te.unhandledEventHandler=ge,Te.util=E,Object.assign(Te,E),Te.promises=Te,Te.RequestQueue=v(2210),Te.JsonLdProcessor=v(779)(Te),x.setupGlobals(Te),x.setupDocumentLoaders(Te),Te},Xe=function(){return qe(function(){return Xe()})};qe(Xe),j.exports=Xe},5057:(j,ee,v)=>{"use strict";const{isKeyword:_}=v(2134),A=v(9094),x=v(2353),E=v(4249),C=v(3327),b={};j.exports=b,b.createMergedNodeMap=(M,D)=>{const P=(D=D||{}).issuer||new E.IdentifierIssuer("_:b"),R={"@default":{}};return b.createNodeMap(M,R,"@default",P),b.mergeNodeMaps(R)},b.createNodeMap=(M,D,P,R,I,L)=>{if(x.isArray(M)){for(const U of M)b.createNodeMap(U,D,P,R,void 0,L);return}if(!x.isObject(M))return void(L&&L.push(M));if(A.isValue(M)){if("@type"in M){let U=M["@type"];0===U.indexOf("_:")&&(M["@type"]=U=R.getId(U))}return void(L&&L.push(M))}if(L&&A.isList(M)){const U=[];return b.createNodeMap(M["@list"],D,P,R,I,U),void L.push({"@list":U})}if("@type"in M){const U=M["@type"];for(const Z of U)0===Z.indexOf("_:")&&R.getId(Z)}x.isUndefined(I)&&(I=A.isBlankNode(M)?R.getId(M["@id"]):M["@id"]),L&&L.push({"@id":I});const N=D[P],B=N[I]=N[I]||{};B["@id"]=I;const J=Object.keys(M).sort();for(let U of J){if("@id"===U)continue;if("@reverse"===U){const X={"@id":I},ie=M["@reverse"];for(const te in ie){const G=ie[te];for(const V of G){let z=V["@id"];A.isBlankNode(V)&&(z=R.getId(z)),b.createNodeMap(V,D,P,R,z),E.addValue(N[z],te,X,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===U){I in D||(D[I]={}),b.createNodeMap(M[U],D,I,R);continue}if("@included"===U){b.createNodeMap(M[U],D,P,R);continue}if("@type"!==U&&_(U)){if("@index"===U&&U in B&&(M[U]!==B[U]||M[U]["@id"]!==B[U]["@id"]))throw new C("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:B});B[U]=M[U];continue}const Z=M[U];if(0===U.indexOf("_:")&&(U=R.getId(U)),0!==Z.length)for(let X of Z)if("@type"===U&&(X=0===X.indexOf("_:")?R.getId(X):X),A.isSubject(X)||A.isSubjectReference(X)){if("@id"in X&&!X["@id"])continue;const ie=A.isBlankNode(X)?R.getId(X["@id"]):X["@id"];E.addValue(B,U,{"@id":ie},{propertyIsArray:!0,allowDuplicate:!1}),b.createNodeMap(X,D,P,R,ie)}else if(A.isValue(X))E.addValue(B,U,X,{propertyIsArray:!0,allowDuplicate:!1});else if(A.isList(X)){const ie=[];b.createNodeMap(X["@list"],D,P,R,I,ie),X={"@list":ie},E.addValue(B,U,X,{propertyIsArray:!0,allowDuplicate:!1})}else b.createNodeMap(X,D,P,R,I),E.addValue(B,U,X,{propertyIsArray:!0,allowDuplicate:!1});else E.addValue(B,U,[],{propertyIsArray:!0})}},b.mergeNodeMapGraphs=M=>{const D={};for(const P of Object.keys(M).sort())for(const R of Object.keys(M[P]).sort()){const I=M[P][R];R in D||(D[R]={"@id":R});const L=D[R];for(const N of Object.keys(I).sort())if(_(N)&&"@type"!==N)L[N]=E.clone(I[N]);else for(const B of I[N])E.addValue(L,N,E.clone(B),{propertyIsArray:!0,allowDuplicate:!1})}return D},b.mergeNodeMaps=M=>{const D=M["@default"],P=Object.keys(M).sort();for(const R of P){if("@default"===R)continue;const I=M[R];let L=D[R];L?"@graph"in L||(L["@graph"]=[]):D[R]=L={"@id":R,"@graph":[]};const N=L["@graph"];for(const B of Object.keys(I).sort()){const J=I[B];A.isSubjectReference(J)||N.push(J)}}return D}},2363:(j,ee,v)=>{"use strict";const _=v(8719),A={};j.exports=A,A.setupDocumentLoaders=function(x){typeof XMLHttpRequest<"u"&&(x.documentLoaders.xhr=_,x.useDocumentLoader("xhr"))},A.setupGlobals=function(x){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:x.JsonLdProcessor})}},5671:(j,ee,v)=>{"use strict";const{createNodeMap:_}=v(5057),{isKeyword:A}=v(2134),x=v(9094),E=v(5423),C=v(2353),b=v(4249),{handleEvent:M}=v(5775),{RDF_FIRST:D,RDF_REST:P,RDF_NIL:R,RDF_TYPE:I,RDF_JSON_LITERAL:L,RDF_LANGSTRING:N,XSD_BOOLEAN:B,XSD_DOUBLE:J,XSD_INTEGER:U,XSD_STRING:Z}=v(313),{isAbsolute:X}=v(4920),ie={};function te(z,q,ae,ue,oe){const de=Object.keys(q).sort();for(const we of de){const fe=q[we],je=Object.keys(fe).sort();for(let Ve of je){const _e=fe[Ve];if("@type"===Ve)Ve=I;else if(A(Ve))continue;for(const Ce of _e){const ge={termType:we.startsWith("_:")?"BlankNode":"NamedNode",value:we};if(!X(we)){oe.eventHandler&&M({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:we}},options:oe});continue}const qe={termType:Ve.startsWith("_:")?"BlankNode":"NamedNode",value:Ve};if(!X(Ve)){oe.eventHandler&&M({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:Ve}},options:oe});continue}if("BlankNode"===qe.termType&&!oe.produceGeneralizedRdf){oe.eventHandler&&M({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:ue.getOldIds().find(Te=>ue.getId(Te)===Ve)}},options:oe});continue}const Xe=V(Ce,ue,z,ae,oe.rdfDirection,oe);Xe&&z.push({subject:ge,predicate:qe,object:Xe,graph:ae})}}}}function V(z,q,ae,ue,oe,de){const we={};if(x.isValue(z)){we.termType="Literal",we.value=void 0,we.datatype={termType:"NamedNode"};let fe=z["@value"];const je=z["@type"]||null;"@json"===je?(we.value=E(fe),we.datatype.value=L):C.isBoolean(fe)?(we.value=fe.toString(),we.datatype.value=je||B):C.isDouble(fe)||je===J?(C.isDouble(fe)||(fe=parseFloat(fe)),we.value=fe.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),we.datatype.value=je||J):C.isNumber(fe)?(we.value=fe.toFixed(0),we.datatype.value=je||U):"i18n-datatype"===oe&&"@direction"in z?(we.datatype.value="https://www.w3.org/ns/i18n#"+(z["@language"]||"")+`_${z["@direction"]}`,we.value=fe):"@language"in z?(we.value=fe,we.datatype.value=je||N,we.language=z["@language"]):(we.value=fe,we.datatype.value=je||Z)}else if(x.isList(z)){const fe=function G(z,q,ae,ue,oe,de){const we={termType:"NamedNode",value:D},fe={termType:"NamedNode",value:P},je={termType:"NamedNode",value:R},Ve=z.pop(),_e=Ve?{termType:"BlankNode",value:q.getId()}:je;let Ce=_e;for(const ge of z){const qe=V(ge,q,ae,ue,oe,de),Xe={termType:"BlankNode",value:q.getId()};ae.push({subject:Ce,predicate:we,object:qe,graph:ue}),ae.push({subject:Ce,predicate:fe,object:Xe,graph:ue}),Ce=Xe}if(Ve){const ge=V(Ve,q,ae,ue,oe,de);ae.push({subject:Ce,predicate:we,object:ge,graph:ue}),ae.push({subject:Ce,predicate:fe,object:je,graph:ue})}return _e}(z["@list"],q,ae,ue,oe,de);we.termType=fe.termType,we.value=fe.value}else{const fe=C.isObject(z)?z["@id"]:z;we.termType=fe.startsWith("_:")?"BlankNode":"NamedNode",we.value=fe}return"NamedNode"!==we.termType||X(we.value)?we:(de.eventHandler&&M({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:we.value}},options:de}),null)}j.exports=ie,ie.toRDF=(z,q)=>{const ae=new b.IdentifierIssuer("_:b"),ue={"@default":{}};_(z,ue,"@default",ae);const oe=[],de=Object.keys(ue).sort();for(const we of de){let fe;if("@default"===we)fe={termType:"DefaultGraph",value:""};else{if(!X(we)){q.eventHandler&&M({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:we}},options:q});continue}fe=we.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},fe.value=we}te(oe,ue[we],fe,ae,q)}return oe}},2353:j=>{"use strict";const ee={};j.exports=ee,ee.isArray=Array.isArray,ee.isBoolean=v=>"boolean"==typeof v||"[object Boolean]"===Object.prototype.toString.call(v),ee.isDouble=v=>ee.isNumber(v)&&(-1!==String(v).indexOf(".")||Math.abs(v)>=1e21),ee.isEmptyObject=v=>ee.isObject(v)&&0===Object.keys(v).length,ee.isNumber=v=>"number"==typeof v||"[object Number]"===Object.prototype.toString.call(v),ee.isNumeric=v=>!isNaN(parseFloat(v))&&isFinite(v),ee.isObject=v=>"[object Object]"===Object.prototype.toString.call(v),ee.isString=v=>"string"==typeof v||"[object String]"===Object.prototype.toString.call(v),ee.isUndefined=v=>typeof v>"u"},4920:(j,ee,v)=>{"use strict";const _=v(2353),A={};j.exports=A,A.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},A.parse=(E,C)=>{const b={},M=A.parsers[C||"full"],D=M.regex.exec(E);let P=M.keys.length;for(;P--;)b[M.keys[P]]=void 0===D[P]?null:D[P];return("https"===b.scheme&&"443"===b.port||"http"===b.scheme&&"80"===b.port)&&(b.href=b.href.replace(":"+b.port,""),b.authority=b.authority.replace(":"+b.port,""),b.port=null),b.normalizedPath=A.removeDotSegments(b.path),b},A.prependBase=(E,C)=>{if(null===E||A.isAbsolute(C))return C;(!E||_.isString(E))&&(E=A.parse(E||""));const b=A.parse(C),M={protocol:E.protocol||""};if(null!==b.authority)M.authority=b.authority,M.path=b.path,M.query=b.query;else if(M.authority=E.authority,""===b.path)M.path=E.path,M.query=null!==b.query?b.query:E.query;else{if(0===b.path.indexOf("/"))M.path=b.path;else{let P=E.path;P=P.substr(0,P.lastIndexOf("/")+1),(P.length>0||E.authority)&&"/"!==P.substr(-1)&&(P+="/"),P+=b.path,M.path=P}M.query=b.query}""!==b.path&&(M.path=A.removeDotSegments(M.path));let D=M.protocol;return null!==M.authority&&(D+="//"+M.authority),D+=M.path,null!==M.query&&(D+="?"+M.query),null!==b.fragment&&(D+="#"+b.fragment),""===D&&(D="./"),D},A.removeBase=(E,C)=>{if(null===E)return C;(!E||_.isString(E))&&(E=A.parse(E||""));let b="";if(""!==E.href?b+=(E.protocol||"")+"//"+(E.authority||""):C.indexOf("//")&&(b+="//"),0!==C.indexOf(b))return C;const M=A.parse(C.substr(b.length)),D=E.normalizedPath.split("/"),P=M.normalizedPath.split("/"),R=M.fragment||M.query?0:1;for(;D.length>0&&P.length>R&&D[0]===P[0];)D.shift(),P.shift();let I="";if(D.length>0){D.pop();for(let L=0;L<D.length;++L)I+="../"}return I+=P.join("/"),null!==M.query&&(I+="?"+M.query),null!==M.fragment&&(I+="#"+M.fragment),""===I&&(I="./"),I},A.removeDotSegments=E=>{if(0===E.length)return"";const C=E.split("/"),b=[];for(;C.length>0;){const M=C.shift(),D=0===C.length;"."!==M?".."!==M?b.push(M):(b.pop(),D&&b.push("")):D&&b.push("")}return"/"===E[0]&&b.length>0&&""!==b[0]&&b.unshift(""),1===b.length&&""===b[0]?"/":b.join("/")};const x=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;A.isAbsolute=E=>_.isString(E)&&x.test(E),A.isRelative=E=>_.isString(E)},4249:(j,ee,v)=>{"use strict";const _=v(9094),A=v(2353),x=v(4308).IdentifierIssuer,E=v(3327),b=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,M=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,D=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,R_headers_accept="application/ld+json, application/json",I={};function L(N,B){if(A.isArray(B))for(let J=0;J<B.length;++J)B[J]=L(N,B[J]);else if(_.isList(B))B["@list"]=L(N,B["@list"]);else if(A.isObject(B)){_.isBlankNode(B)&&(B["@id"]=N.getId(B["@id"]));const J=Object.keys(B).sort();for(let U=0;U<J.length;++U){const Z=J[U];"@id"!==Z&&(B[Z]=L(N,B[Z]))}}return B}j.exports=I,I.IdentifierIssuer=x,I.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,I.REGEX_KEYWORD=/^@[a-zA-Z]+$/,I.clone=function(N){if(N&&"object"==typeof N){let B;if(A.isArray(N)){B=[];for(let J=0;J<N.length;++J)B[J]=I.clone(N[J])}else if(N instanceof Map){B=new Map;for(const[J,U]of N)B.set(J,I.clone(U))}else if(N instanceof Set){B=new Set;for(const J of N)B.add(I.clone(J))}else if(A.isObject(N)){B={};for(const J in N)B[J]=I.clone(N[J])}else B=N.toString();return B}return N},I.asArray=function(N){return Array.isArray(N)?N:[N]},I.buildHeaders=(N={})=>{if(Object.keys(N).some(J=>"accept"===J.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+R_headers_accept+'" is supported.');return Object.assign({Accept:R_headers_accept},N)},I.parseLinkHeader=N=>{const B={},J=N.match(b);for(let U=0;U<J.length;++U){let Z=J[U].match(M);if(!Z)continue;const X={target:Z[1]},ie=Z[2];for(;Z=D.exec(ie);)X[Z[1]]=void 0===Z[2]?Z[3]:Z[2];const te=X.rel||"";Array.isArray(B[te])?B[te].push(X):B[te]=B.hasOwnProperty(te)?[B[te],X]:X}return B},I.validateTypeValue=(N,B)=>{if(!(A.isString(N)||A.isArray(N)&&N.every(J=>A.isString(J)))){if(B&&A.isObject(N))switch(Object.keys(N).length){case 0:return;case 1:if("@default"in N&&I.asArray(N["@default"]).every(J=>A.isString(J)))return}throw new E('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:N})}},I.hasProperty=(N,B)=>{if(N.hasOwnProperty(B)){const J=N[B];return!A.isArray(J)||J.length>0}return!1},I.hasValue=(N,B,J)=>{if(I.hasProperty(N,B)){let U=N[B];const Z=_.isList(U);if(A.isArray(U)||Z){Z&&(U=U["@list"]);for(let X=0;X<U.length;++X)if(I.compareValues(J,U[X]))return!0}else if(!A.isArray(J))return I.compareValues(J,U)}return!1},I.addValue=(N,B,J,U)=>{if("propertyIsArray"in(U=U||{})||(U.propertyIsArray=!1),"valueIsArray"in U||(U.valueIsArray=!1),"allowDuplicate"in U||(U.allowDuplicate=!0),"prependValue"in U||(U.prependValue=!1),U.valueIsArray)N[B]=J;else if(A.isArray(J)){0===J.length&&U.propertyIsArray&&!N.hasOwnProperty(B)&&(N[B]=[]),U.prependValue&&(J=J.concat(N[B]),N[B]=[]);for(let Z=0;Z<J.length;++Z)I.addValue(N,B,J[Z],U)}else if(N.hasOwnProperty(B)){const Z=!U.allowDuplicate&&I.hasValue(N,B,J);!A.isArray(N[B])&&(!Z||U.propertyIsArray)&&(N[B]=[N[B]]),Z||(U.prependValue?N[B].unshift(J):N[B].push(J))}else N[B]=U.propertyIsArray?[J]:J},I.getValues=(N,B)=>[].concat(N[B]||[]),I.removeProperty=(N,B)=>{delete N[B]},I.removeValue=(N,B,J,U)=>{"propertyIsArray"in(U=U||{})||(U.propertyIsArray=!1);const Z=I.getValues(N,B).filter(X=>!I.compareValues(X,J));0===Z.length?I.removeProperty(N,B):N[B]=1!==Z.length||U.propertyIsArray?Z:Z[0]},I.relabelBlankNodes=(N,B)=>L((B=B||{}).issuer||new x("_:b"),N),I.compareValues=(N,B)=>!!(N===B||_.isValue(N)&&_.isValue(B)&&N["@value"]===B["@value"]&&N["@type"]===B["@type"]&&N["@language"]===B["@language"]&&N["@index"]===B["@index"])||!!(A.isObject(N)&&"@id"in N&&A.isObject(B)&&"@id"in B)&&N["@id"]===B["@id"],I.compareShortestLeast=(N,B)=>N.length<B.length?-1:B.length<N.length?1:N===B?0:N<B?-1:1},5943:(j,ee,v)=>{"use strict";const _=v(1245),A=Symbol("max"),x=Symbol("length"),E=Symbol("lengthCalculator"),C=Symbol("allowStale"),b=Symbol("maxAge"),M=Symbol("dispose"),D=Symbol("noDisposeOnSet"),P=Symbol("lruList"),R=Symbol("cache"),I=Symbol("updateAgeOnGet"),L=()=>1,B=(te,G,V)=>{const z=te[R].get(G);if(z){const q=z.value;if(J(te,q)){if(Z(te,z),!te[C])return}else V&&(te[I]&&(z.value.now=Date.now()),te[P].unshiftNode(z));return q.value}},J=(te,G)=>{if(!G||!G.maxAge&&!te[b])return!1;const V=Date.now()-G.now;return G.maxAge?V>G.maxAge:te[b]&&V>te[b]},U=te=>{if(te[x]>te[A])for(let G=te[P].tail;te[x]>te[A]&&null!==G;){const V=G.prev;Z(te,G),G=V}},Z=(te,G)=>{if(G){const V=G.value;te[M]&&te[M](V.key,V.value),te[x]-=V.length,te[R].delete(V.key),te[P].removeNode(G)}};class X{constructor(G,V,z,q,ae){this.key=G,this.value=V,this.length=z,this.now=q,this.maxAge=ae||0}}const ie=(te,G,V,z)=>{let q=V.value;J(te,q)&&(Z(te,V),te[C]||(q=void 0)),q&&G.call(z,q.value,q.key,te)};j.exports=class N{constructor(G){if("number"==typeof G&&(G={max:G}),G||(G={}),G.max&&("number"!=typeof G.max||G.max<0))throw new TypeError("max must be a non-negative number");this[A]=G.max||1/0;const z=G.length||L;if(this[E]="function"!=typeof z?L:z,this[C]=G.stale||!1,G.maxAge&&"number"!=typeof G.maxAge)throw new TypeError("maxAge must be a number");this[b]=G.maxAge||0,this[M]=G.dispose,this[D]=G.noDisposeOnSet||!1,this[I]=G.updateAgeOnGet||!1,this.reset()}set max(G){if("number"!=typeof G||G<0)throw new TypeError("max must be a non-negative number");this[A]=G||1/0,U(this)}get max(){return this[A]}set allowStale(G){this[C]=!!G}get allowStale(){return this[C]}set maxAge(G){if("number"!=typeof G)throw new TypeError("maxAge must be a non-negative number");this[b]=G,U(this)}get maxAge(){return this[b]}set lengthCalculator(G){"function"!=typeof G&&(G=L),G!==this[E]&&(this[E]=G,this[x]=0,this[P].forEach(V=>{V.length=this[E](V.value,V.key),this[x]+=V.length})),U(this)}get lengthCalculator(){return this[E]}get length(){return this[x]}get itemCount(){return this[P].length}rforEach(G,V){V=V||this;for(let z=this[P].tail;null!==z;){const q=z.prev;ie(this,G,z,V),z=q}}forEach(G,V){V=V||this;for(let z=this[P].head;null!==z;){const q=z.next;ie(this,G,z,V),z=q}}keys(){return this[P].toArray().map(G=>G.key)}values(){return this[P].toArray().map(G=>G.value)}reset(){this[M]&&this[P]&&this[P].length&&this[P].forEach(G=>this[M](G.key,G.value)),this[R]=new Map,this[P]=new _,this[x]=0}dump(){return this[P].map(G=>!J(this,G)&&{k:G.key,v:G.value,e:G.now+(G.maxAge||0)}).toArray().filter(G=>G)}dumpLru(){return this[P]}set(G,V,z){if((z=z||this[b])&&"number"!=typeof z)throw new TypeError("maxAge must be a number");const q=z?Date.now():0,ae=this[E](V,G);if(this[R].has(G)){if(ae>this[A])return Z(this,this[R].get(G)),!1;const de=this[R].get(G).value;return this[M]&&(this[D]||this[M](G,de.value)),de.now=q,de.maxAge=z,de.value=V,this[x]+=ae-de.length,de.length=ae,this.get(G),U(this),!0}const ue=new X(G,V,ae,q,z);return ue.length>this[A]?(this[M]&&this[M](G,V),!1):(this[x]+=ue.length,this[P].unshift(ue),this[R].set(G,this[P].head),U(this),!0)}has(G){if(!this[R].has(G))return!1;const V=this[R].get(G).value;return!J(this,V)}get(G){return B(this,G,!0)}peek(G){return B(this,G,!1)}pop(){const G=this[P].tail;return G?(Z(this,G),G.value):null}del(G){Z(this,this[R].get(G))}load(G){this.reset();const V=Date.now();for(let z=G.length-1;z>=0;z--){const q=G[z],ae=q.e||0;if(0===ae)this.set(q.k,q.v);else{const ue=ae-V;ue>0&&this.set(q.k,q.v,ue)}}}prune(){this[R].forEach((G,V)=>B(this,V,!1))}}},6023:j=>{"use strict";j.exports=function(ee){ee.prototype[Symbol.iterator]=function*(){for(let v=this.head;v;v=v.next)yield v.value}}},1245:(j,ee,v)=>{"use strict";function _(b){var M=this;if(M instanceof _||(M=new _),M.tail=null,M.head=null,M.length=0,b&&"function"==typeof b.forEach)b.forEach(function(R){M.push(R)});else if(arguments.length>0)for(var D=0,P=arguments.length;D<P;D++)M.push(arguments[D]);return M}function A(b,M,D){var P=M===b.head?new C(D,null,M,b):new C(D,M,M.next,b);return null===P.next&&(b.tail=P),null===P.prev&&(b.head=P),b.length++,P}function x(b,M){b.tail=new C(M,b.tail,null,b),b.head||(b.head=b.tail),b.length++}function E(b,M){b.head=new C(M,null,b.head,b),b.tail||(b.tail=b.head),b.length++}function C(b,M,D,P){if(!(this instanceof C))return new C(b,M,D,P);this.list=P,this.value=b,M?(M.next=this,this.prev=M):this.prev=null,D?(D.prev=this,this.next=D):this.next=null}j.exports=_,_.Node=C,_.create=_,_.prototype.removeNode=function(b){if(b.list!==this)throw new Error("removing node which does not belong to this list");var M=b.next,D=b.prev;return M&&(M.prev=D),D&&(D.next=M),b===this.head&&(this.head=M),b===this.tail&&(this.tail=D),b.list.length--,b.next=null,b.prev=null,b.list=null,M},_.prototype.unshiftNode=function(b){if(b!==this.head){b.list&&b.list.removeNode(b);var M=this.head;b.list=this,b.next=M,M&&(M.prev=b),this.head=b,this.tail||(this.tail=b),this.length++}},_.prototype.pushNode=function(b){if(b!==this.tail){b.list&&b.list.removeNode(b);var M=this.tail;b.list=this,b.prev=M,M&&(M.next=b),this.tail=b,this.head||(this.head=b),this.length++}},_.prototype.push=function(){for(var b=0,M=arguments.length;b<M;b++)x(this,arguments[b]);return this.length},_.prototype.unshift=function(){for(var b=0,M=arguments.length;b<M;b++)E(this,arguments[b]);return this.length},_.prototype.pop=function(){if(this.tail){var b=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,b}},_.prototype.shift=function(){if(this.head){var b=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,b}},_.prototype.forEach=function(b,M){M=M||this;for(var D=this.head,P=0;null!==D;P++)b.call(M,D.value,P,this),D=D.next},_.prototype.forEachReverse=function(b,M){M=M||this;for(var D=this.tail,P=this.length-1;null!==D;P--)b.call(M,D.value,P,this),D=D.prev},_.prototype.get=function(b){for(var M=0,D=this.head;null!==D&&M<b;M++)D=D.next;if(M===b&&null!==D)return D.value},_.prototype.getReverse=function(b){for(var M=0,D=this.tail;null!==D&&M<b;M++)D=D.prev;if(M===b&&null!==D)return D.value},_.prototype.map=function(b,M){M=M||this;for(var D=new _,P=this.head;null!==P;)D.push(b.call(M,P.value,this)),P=P.next;return D},_.prototype.mapReverse=function(b,M){M=M||this;for(var D=new _,P=this.tail;null!==P;)D.push(b.call(M,P.value,this)),P=P.prev;return D},_.prototype.reduce=function(b,M){var D,P=this.head;if(arguments.length>1)D=M;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");P=this.head.next,D=this.head.value}for(var R=0;null!==P;R++)D=b(D,P.value,R),P=P.next;return D},_.prototype.reduceReverse=function(b,M){var D,P=this.tail;if(arguments.length>1)D=M;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");P=this.tail.prev,D=this.tail.value}for(var R=this.length-1;null!==P;R--)D=b(D,P.value,R),P=P.prev;return D},_.prototype.toArray=function(){for(var b=new Array(this.length),M=0,D=this.head;null!==D;M++)b[M]=D.value,D=D.next;return b},_.prototype.toArrayReverse=function(){for(var b=new Array(this.length),M=0,D=this.tail;null!==D;M++)b[M]=D.value,D=D.prev;return b},_.prototype.slice=function(b,M){(M=M||this.length)<0&&(M+=this.length),(b=b||0)<0&&(b+=this.length);var D=new _;if(M<b||M<0)return D;b<0&&(b=0),M>this.length&&(M=this.length);for(var P=0,R=this.head;null!==R&&P<b;P++)R=R.next;for(;null!==R&&P<M;P++,R=R.next)D.push(R.value);return D},_.prototype.sliceReverse=function(b,M){(M=M||this.length)<0&&(M+=this.length),(b=b||0)<0&&(b+=this.length);var D=new _;if(M<b||M<0)return D;b<0&&(b=0),M>this.length&&(M=this.length);for(var P=this.length,R=this.tail;null!==R&&P>M;P--)R=R.prev;for(;null!==R&&P>b;P--,R=R.prev)D.push(R.value);return D},_.prototype.splice=function(b,M,...D){b>this.length&&(b=this.length-1),b<0&&(b=this.length+b);for(var P=0,R=this.head;null!==R&&P<b;P++)R=R.next;var I=[];for(P=0;R&&P<M;P++)I.push(R.value),R=this.removeNode(R);for(null===R&&(R=this.tail),R!==this.head&&R!==this.tail&&(R=R.prev),P=0;P<D.length;P++)R=A(this,R,D[P]);return I},_.prototype.reverse=function(){for(var b=this.head,M=this.tail,D=b;null!==D;D=D.prev){var P=D.prev;D.prev=D.next,D.next=P}return this.head=M,this.tail=b,this};try{v(6023)(_)}catch{}},5982:function(j){j.exports=function(ee){var v={};function _(A){if(v[A])return v[A].exports;var x=v[A]={i:A,l:!1,exports:{}};return ee[A].call(x.exports,x,x.exports,_),x.l=!0,x.exports}return _.m=ee,_.c=v,_.i=function(A){return A},_.d=function(A,x,E){_.o(A,x)||Object.defineProperty(A,x,{configurable:!1,enumerable:!0,get:E})},_.n=function(A){var x=A&&A.__esModule?function(){return A.default}:function(){return A};return _.d(x,"a",x),x},_.o=function(A,x){return Object.prototype.hasOwnProperty.call(A,x)},_.p="",_(_.s=26)}([function(ee,v,_){"use strict";function A(){}A.QUALITY=1,A.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,A.DEFAULT_INCREMENTAL=!1,A.DEFAULT_ANIMATION_ON_LAYOUT=!0,A.DEFAULT_ANIMATION_DURING_LAYOUT=!1,A.DEFAULT_ANIMATION_PERIOD=50,A.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,A.DEFAULT_GRAPH_MARGIN=15,A.NODE_DIMENSIONS_INCLUDE_LABELS=!1,A.SIMPLE_NODE_HALF_SIZE=(A.SIMPLE_NODE_SIZE=40)/2,A.EMPTY_COMPOUND_NODE_SIZE=40,A.MIN_EDGE_LENGTH=1,A.INITIAL_WORLD_BOUNDARY=(A.WORLD_BOUNDARY=1e6)/1e3,A.WORLD_CENTER_X=1200,A.WORLD_CENTER_Y=900,ee.exports=A},function(ee,v,_){"use strict";var A=_(2),x=_(8),E=_(9);function C(M,D,P){A.call(this,P),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=P,this.bendpoints=[],this.source=M,this.target=D}for(var b in C.prototype=Object.create(A.prototype),A)C[b]=A[b];C.prototype.getSource=function(){return this.source},C.prototype.getTarget=function(){return this.target},C.prototype.isInterGraph=function(){return this.isInterGraph},C.prototype.getLength=function(){return this.length},C.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},C.prototype.getBendpoints=function(){return this.bendpoints},C.prototype.getLca=function(){return this.lca},C.prototype.getSourceInLca=function(){return this.sourceInLca},C.prototype.getTargetInLca=function(){return this.targetInLca},C.prototype.getOtherEnd=function(M){if(this.source===M)return this.target;if(this.target===M)return this.source;throw"Node is not incident with this edge"},C.prototype.getOtherEndInGraph=function(M,D){for(var P=this.getOtherEnd(M),R=D.getGraphManager().getRoot();;){if(P.getOwner()==D)return P;if(P.getOwner()==R)break;P=P.getOwner().getParent()}return null},C.prototype.updateLength=function(){var M=new Array(4);this.isOverlapingSourceAndTarget=x.getIntersection(this.target.getRect(),this.source.getRect(),M),this.isOverlapingSourceAndTarget||(this.lengthX=M[0]-M[2],this.lengthY=M[1]-M[3],Math.abs(this.lengthX)<1&&(this.lengthX=E.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=E.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},C.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=E.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=E.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},ee.exports=C},function(ee,v,_){"use strict";ee.exports=function A(x){this.vGraphObject=x}},function(ee,v,_){"use strict";var A=_(2),x=_(10),E=_(13),C=_(0),b=_(16),M=_(4);function D(R,I,L,N){null==L&&null==N&&(N=I),A.call(this,N),null!=R.graphManager&&(R=R.graphManager),this.estimatedSize=x.MIN_VALUE,this.inclusionTreeDepth=x.MAX_VALUE,this.vGraphObject=N,this.edges=[],this.graphManager=R,this.rect=null!=L&&null!=I?new E(I.x,I.y,L.width,L.height):new E}for(var P in D.prototype=Object.create(A.prototype),A)D[P]=A[P];D.prototype.getEdges=function(){return this.edges},D.prototype.getChild=function(){return this.child},D.prototype.getOwner=function(){return this.owner},D.prototype.getWidth=function(){return this.rect.width},D.prototype.setWidth=function(R){this.rect.width=R},D.prototype.getHeight=function(){return this.rect.height},D.prototype.setHeight=function(R){this.rect.height=R},D.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},D.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},D.prototype.getCenter=function(){return new M(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},D.prototype.getLocation=function(){return new M(this.rect.x,this.rect.y)},D.prototype.getRect=function(){return this.rect},D.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},D.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},D.prototype.setRect=function(R,I){this.rect.x=R.x,this.rect.y=R.y,this.rect.width=I.width,this.rect.height=I.height},D.prototype.setCenter=function(R,I){this.rect.x=R-this.rect.width/2,this.rect.y=I-this.rect.height/2},D.prototype.setLocation=function(R,I){this.rect.x=R,this.rect.y=I},D.prototype.moveBy=function(R,I){this.rect.x+=R,this.rect.y+=I},D.prototype.getEdgeListToNode=function(R){var I=[],N=this;return N.edges.forEach(function(B){if(B.target==R){if(B.source!=N)throw"Incorrect edge source!";I.push(B)}}),I},D.prototype.getEdgesBetween=function(R){var I=[],N=this;return N.edges.forEach(function(B){if(B.source!=N&&B.target!=N)throw"Incorrect edge source and/or target";(B.target==R||B.source==R)&&I.push(B)}),I},D.prototype.getNeighborsList=function(){var R=new Set,I=this;return I.edges.forEach(function(L){if(L.source==I)R.add(L.target);else{if(L.target!=I)throw"Incorrect incidency!";R.add(L.source)}}),R},D.prototype.withChildren=function(){var R=new Set;if(R.add(this),null!=this.child)for(var N=this.child.getNodes(),B=0;B<N.length;B++)N[B].withChildren().forEach(function(J){R.add(J)});return R},D.prototype.getNoOfChildren=function(){var R=0;if(null==this.child)R=1;else for(var L=this.child.getNodes(),N=0;N<L.length;N++)R+=L[N].getNoOfChildren();return 0==R&&(R=1),R},D.prototype.getEstimatedSize=function(){if(this.estimatedSize==x.MIN_VALUE)throw"assert failed";return this.estimatedSize},D.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},D.prototype.scatter=function(){var R,I,L=-C.INITIAL_WORLD_BOUNDARY,N=C.INITIAL_WORLD_BOUNDARY;R=C.WORLD_CENTER_X+b.nextDouble()*(N-L)+L;var B=-C.INITIAL_WORLD_BOUNDARY,J=C.INITIAL_WORLD_BOUNDARY;I=C.WORLD_CENTER_Y+b.nextDouble()*(J-B)+B,this.rect.x=R,this.rect.y=I},D.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var R=this.getChild();if(R.updateBounds(!0),this.rect.x=R.getLeft(),this.rect.y=R.getTop(),this.setWidth(R.getRight()-R.getLeft()),this.setHeight(R.getBottom()-R.getTop()),C.NODE_DIMENSIONS_INCLUDE_LABELS){var I=R.getRight()-R.getLeft(),L=R.getBottom()-R.getTop();this.labelWidth>I&&(this.rect.x-=(this.labelWidth-I)/2,this.setWidth(this.labelWidth)),this.labelHeight>L&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-L)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-L),this.setHeight(this.labelHeight))}}},D.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==x.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},D.prototype.transform=function(R){var I=this.rect.x;I>C.WORLD_BOUNDARY?I=C.WORLD_BOUNDARY:I<-C.WORLD_BOUNDARY&&(I=-C.WORLD_BOUNDARY);var L=this.rect.y;L>C.WORLD_BOUNDARY?L=C.WORLD_BOUNDARY:L<-C.WORLD_BOUNDARY&&(L=-C.WORLD_BOUNDARY);var N=new M(I,L),B=R.inverseTransformPoint(N);this.setLocation(B.x,B.y)},D.prototype.getLeft=function(){return this.rect.x},D.prototype.getRight=function(){return this.rect.x+this.rect.width},D.prototype.getTop=function(){return this.rect.y},D.prototype.getBottom=function(){return this.rect.y+this.rect.height},D.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},ee.exports=D},function(ee,v,_){"use strict";function A(x,E){null==x&&null==E?(this.x=0,this.y=0):(this.x=x,this.y=E)}A.prototype.getX=function(){return this.x},A.prototype.getY=function(){return this.y},A.prototype.setX=function(x){this.x=x},A.prototype.setY=function(x){this.y=x},A.prototype.getDifference=function(x){return new DimensionD(this.x-x.x,this.y-x.y)},A.prototype.getCopy=function(){return new A(this.x,this.y)},A.prototype.translate=function(x){return this.x+=x.width,this.y+=x.height,this},ee.exports=A},function(ee,v,_){"use strict";var A=_(2),x=_(10),E=_(0),C=_(6),b=_(3),M=_(1),D=_(13),P=_(12),R=_(11);function I(N,B,J){A.call(this,J),this.estimatedSize=x.MIN_VALUE,this.margin=E.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=N,null!=B&&B instanceof C?this.graphManager=B:null!=B&&B instanceof Layout&&(this.graphManager=B.graphManager)}for(var L in I.prototype=Object.create(A.prototype),A)I[L]=A[L];I.prototype.getNodes=function(){return this.nodes},I.prototype.getEdges=function(){return this.edges},I.prototype.getGraphManager=function(){return this.graphManager},I.prototype.getParent=function(){return this.parent},I.prototype.getLeft=function(){return this.left},I.prototype.getRight=function(){return this.right},I.prototype.getTop=function(){return this.top},I.prototype.getBottom=function(){return this.bottom},I.prototype.isConnected=function(){return this.isConnected},I.prototype.add=function(N,B,J){if(null==B&&null==J){var U=N;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(U)>-1)throw"Node already in graph!";return U.owner=this,this.getNodes().push(U),U}var Z=N;if(!(this.getNodes().indexOf(B)>-1&&this.getNodes().indexOf(J)>-1))throw"Source or target not in graph!";if(B.owner!=J.owner||B.owner!=this)throw"Both owners must be this graph!";return B.owner!=J.owner?null:(Z.source=B,Z.target=J,Z.isInterGraph=!1,this.getEdges().push(Z),B.edges.push(Z),J!=B&&J.edges.push(Z),Z)},I.prototype.remove=function(N){var B=N;if(N instanceof b){if(null==B)throw"Node is null!";if(null==B.owner||B.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var J=B.edges.slice(),Z=J.length,X=0;X<Z;X++)(U=J[X]).isInterGraph?this.graphManager.remove(U):U.source.owner.remove(U);if(-1==(ie=this.nodes.indexOf(B)))throw"Node not in owner node list!";this.nodes.splice(ie,1)}else if(N instanceof M){var U;if(null==(U=N))throw"Edge is null!";if(null==U.source||null==U.target)throw"Source and/or target is null!";if(null==U.source.owner||null==U.target.owner||U.source.owner!=this||U.target.owner!=this)throw"Source and/or target owner is invalid!";var ie,te=U.source.edges.indexOf(U),G=U.target.edges.indexOf(U);if(!(te>-1&&G>-1))throw"Source and/or target doesn't know this edge!";if(U.source.edges.splice(te,1),U.target!=U.source&&U.target.edges.splice(G,1),-1==(ie=U.source.owner.getEdges().indexOf(U)))throw"Not in owner's edge list!";U.source.owner.getEdges().splice(ie,1)}},I.prototype.updateLeftTop=function(){for(var J,U,Z,N=x.MAX_VALUE,B=x.MAX_VALUE,X=this.getNodes(),ie=X.length,te=0;te<ie;te++){var G=X[te];N>(J=G.getTop())&&(N=J),B>(U=G.getLeft())&&(B=U)}return N==x.MAX_VALUE?null:(Z=null!=X[0].getParent().paddingLeft?X[0].getParent().paddingLeft:this.margin,this.left=B-Z,this.top=N-Z,new P(this.left,this.top))},I.prototype.updateBounds=function(N){for(var X,ie,te,G,V,B=x.MAX_VALUE,J=-x.MAX_VALUE,U=x.MAX_VALUE,Z=-x.MAX_VALUE,z=this.nodes,q=z.length,ae=0;ae<q;ae++){var ue=z[ae];N&&null!=ue.child&&ue.updateBounds(),B>(X=ue.getLeft())&&(B=X),J<(ie=ue.getRight())&&(J=ie),U>(te=ue.getTop())&&(U=te),Z<(G=ue.getBottom())&&(Z=G)}var oe=new D(B,U,J-B,Z-U);B==x.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),V=null!=z[0].getParent().paddingLeft?z[0].getParent().paddingLeft:this.margin,this.left=oe.x-V,this.right=oe.x+oe.width+V,this.top=oe.y-V,this.bottom=oe.y+oe.height+V},I.calculateBounds=function(N){for(var X,ie,te,G,B=x.MAX_VALUE,J=-x.MAX_VALUE,U=x.MAX_VALUE,Z=-x.MAX_VALUE,V=N.length,z=0;z<V;z++){var q=N[z];B>(X=q.getLeft())&&(B=X),J<(ie=q.getRight())&&(J=ie),U>(te=q.getTop())&&(U=te),Z<(G=q.getBottom())&&(Z=G)}return new D(B,U,J-B,Z-U)},I.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},I.prototype.getEstimatedSize=function(){if(this.estimatedSize==x.MIN_VALUE)throw"assert failed";return this.estimatedSize},I.prototype.calcEstimatedSize=function(){for(var N=0,B=this.nodes,J=B.length,U=0;U<J;U++)N+=B[U].calcEstimatedSize();return this.estimatedSize=0==N?E.EMPTY_COMPOUND_NODE_SIZE:N/Math.sqrt(this.nodes.length),this.estimatedSize},I.prototype.updateConnected=function(){var N=this;if(0!=this.nodes.length){var Z,X,B=new R,J=new Set,U=this.nodes[0];for(U.withChildren().forEach(function(ae){B.push(ae),J.add(ae)});0!==B.length;)for(var te=(Z=(U=B.shift()).getEdges()).length,G=0;G<te;G++)null==(X=Z[G].getOtherEndInGraph(U,this))||J.has(X)||X.withChildren().forEach(function(ae){B.push(ae),J.add(ae)});if(this.isConnected=!1,J.size>=this.nodes.length){var q=0;J.forEach(function(ae){ae.owner==N&&q++}),q==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},ee.exports=I},function(ee,v,_){"use strict";var A,x=_(1);function E(C){A=_(5),this.layout=C,this.graphs=[],this.edges=[]}E.prototype.addRoot=function(){var C=this.layout.newGraph(),b=this.layout.newNode(null),M=this.add(C,b);return this.setRootGraph(M),this.rootGraph},E.prototype.add=function(C,b,M,D,P){if(null==M&&null==D&&null==P){if(null==C)throw"Graph is null!";if(null==b)throw"Parent node is null!";if(this.graphs.indexOf(C)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(C),null!=C.parent)throw"Already has a parent!";if(null!=b.child)throw"Already has a child!";return C.parent=b,b.child=C,C}P=M,M=C;var R=(D=b).getOwner(),I=P.getOwner();if(null==R||R.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==I||I.getGraphManager()!=this)throw"Target not in this graph mgr!";if(R==I)return M.isInterGraph=!1,R.add(M,D,P);if(M.isInterGraph=!0,M.source=D,M.target=P,this.edges.indexOf(M)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(M),null==M.source||null==M.target)throw"Edge source and/or target is null!";if(-1!=M.source.edges.indexOf(M)||-1!=M.target.edges.indexOf(M))throw"Edge already in source and/or target incidency list!";return M.source.edges.push(M),M.target.edges.push(M),M},E.prototype.remove=function(C){if(C instanceof A){var b=C;if(b.getGraphManager()!=this)throw"Graph not in this graph mgr";if(b!=this.rootGraph&&(null==b.parent||b.parent.graphManager!=this))throw"Invalid parent node!";for(var D,M=[],P=(M=M.concat(b.getEdges())).length,R=0;R<P;R++)b.remove(D=M[R]);var I=[];for(P=(I=I.concat(b.getNodes())).length,R=0;R<P;R++)b.remove(I[R]);b==this.rootGraph&&this.setRootGraph(null);var N=this.graphs.indexOf(b);this.graphs.splice(N,1),b.parent=null}else if(C instanceof x){if(null==(D=C))throw"Edge is null!";if(!D.isInterGraph)throw"Not an inter-graph edge!";if(null==D.source||null==D.target)throw"Source and/or target is null!";if(-1==D.source.edges.indexOf(D)||-1==D.target.edges.indexOf(D))throw"Source and/or target doesn't know this edge!";if(N=D.source.edges.indexOf(D),D.source.edges.splice(N,1),N=D.target.edges.indexOf(D),D.target.edges.splice(N,1),null==D.source.owner||null==D.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==D.source.owner.getGraphManager().edges.indexOf(D))throw"Not in owner graph manager's edge list!";N=D.source.owner.getGraphManager().edges.indexOf(D),D.source.owner.getGraphManager().edges.splice(N,1)}},E.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},E.prototype.getGraphs=function(){return this.graphs},E.prototype.getAllNodes=function(){if(null==this.allNodes){for(var C=[],b=this.getGraphs(),M=b.length,D=0;D<M;D++)C=C.concat(b[D].getNodes());this.allNodes=C}return this.allNodes},E.prototype.resetAllNodes=function(){this.allNodes=null},E.prototype.resetAllEdges=function(){this.allEdges=null},E.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},E.prototype.getAllEdges=function(){if(null==this.allEdges){for(var C=[],b=this.getGraphs(),D=0;D<b.length;D++)C=C.concat(b[D].getEdges());C=C.concat(this.edges),this.allEdges=C}return this.allEdges},E.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},E.prototype.setAllNodesToApplyGravitation=function(C){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=C},E.prototype.getRoot=function(){return this.rootGraph},E.prototype.setRootGraph=function(C){if(C.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=C,null==C.parent&&(C.parent=this.layout.newNode("Root node"))},E.prototype.getLayout=function(){return this.layout},E.prototype.isOneAncestorOfOther=function(C,b){if(null==C||null==b)throw"assert failed";if(C==b)return!0;for(var D,M=C.getOwner();null!=(D=M.getParent());){if(D==b)return!0;if(null==(M=D.getOwner()))break}for(M=b.getOwner();null!=(D=M.getParent());){if(D==C)return!0;if(null==(M=D.getOwner()))break}return!1},E.prototype.calcLowestCommonAncestors=function(){for(var C,b,M,D,P,R=this.getAllEdges(),I=R.length,L=0;L<I;L++)if(b=(C=R[L]).source,M=C.target,C.lca=null,C.sourceInLca=b,C.targetInLca=M,b!=M){for(D=b.getOwner();null==C.lca;){for(C.targetInLca=M,P=M.getOwner();null==C.lca;){if(P==D){C.lca=P;break}if(P==this.rootGraph)break;if(null!=C.lca)throw"assert failed";C.targetInLca=P.getParent(),P=C.targetInLca.getOwner()}if(D==this.rootGraph)break;null==C.lca&&(C.sourceInLca=D.getParent(),D=C.sourceInLca.getOwner())}if(null==C.lca)throw"assert failed"}else C.lca=b.getOwner()},E.prototype.calcLowestCommonAncestor=function(C,b){if(C==b)return C.getOwner();for(var M=C.getOwner();null!=M;){for(var D=b.getOwner();null!=D;){if(D==M)return D;D=D.getParent().getOwner()}M=M.getParent().getOwner()}return M},E.prototype.calcInclusionTreeDepths=function(C,b){null==C&&null==b&&(C=this.rootGraph,b=1);for(var M,D=C.getNodes(),P=D.length,R=0;R<P;R++)(M=D[R]).inclusionTreeDepth=b,null!=M.child&&this.calcInclusionTreeDepths(M.child,b+1)},E.prototype.includesInvalidEdge=function(){for(var C,b=this.edges.length,M=0;M<b;M++)if(this.isOneAncestorOfOther((C=this.edges[M]).source,C.target))return!0;return!1},ee.exports=E},function(ee,v,_){"use strict";var A=_(0);function x(){}for(var E in A)x[E]=A[E];x.MAX_ITERATIONS=2500,x.DEFAULT_EDGE_LENGTH=50,x.DEFAULT_SPRING_STRENGTH=.45,x.DEFAULT_REPULSION_STRENGTH=4500,x.DEFAULT_GRAVITY_STRENGTH=.4,x.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,x.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,x.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,x.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,x.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,x.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,x.COOLING_ADAPTATION_FACTOR=.33,x.ADAPTATION_LOWER_NODE_LIMIT=1e3,x.ADAPTATION_UPPER_NODE_LIMIT=5e3,x.MAX_NODE_DISPLACEMENT=3*(x.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),x.MIN_REPULSION_DIST=x.DEFAULT_EDGE_LENGTH/10,x.CONVERGENCE_CHECK_PERIOD=100,x.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,x.MIN_EDGE_LENGTH=1,x.GRID_CALCULATION_CHECK_PERIOD=10,ee.exports=x},function(ee,v,_){"use strict";var A=_(12);function x(){}x.calcSeparationAmount=function(E,C,b,M){if(!E.intersects(C))throw"assert failed";var D=new Array(2);this.decideDirectionsForOverlappingNodes(E,C,D),b[0]=Math.min(E.getRight(),C.getRight())-Math.max(E.x,C.x),b[1]=Math.min(E.getBottom(),C.getBottom())-Math.max(E.y,C.y),E.getX()<=C.getX()&&E.getRight()>=C.getRight()?b[0]+=Math.min(C.getX()-E.getX(),E.getRight()-C.getRight()):C.getX()<=E.getX()&&C.getRight()>=E.getRight()&&(b[0]+=Math.min(E.getX()-C.getX(),C.getRight()-E.getRight())),E.getY()<=C.getY()&&E.getBottom()>=C.getBottom()?b[1]+=Math.min(C.getY()-E.getY(),E.getBottom()-C.getBottom()):C.getY()<=E.getY()&&C.getBottom()>=E.getBottom()&&(b[1]+=Math.min(E.getY()-C.getY(),C.getBottom()-E.getBottom()));var P=Math.abs((C.getCenterY()-E.getCenterY())/(C.getCenterX()-E.getCenterX()));C.getCenterY()===E.getCenterY()&&C.getCenterX()===E.getCenterX()&&(P=1);var R=P*b[0],I=b[1]/P;b[0]<I?I=b[0]:R=b[1],b[0]=-1*D[0]*(I/2+M),b[1]=-1*D[1]*(R/2+M)},x.decideDirectionsForOverlappingNodes=function(E,C,b){b[0]=E.getCenterX()<C.getCenterX()?-1:1,b[1]=E.getCenterY()<C.getCenterY()?-1:1},x.getIntersection2=function(E,C,b){var M=E.getCenterX(),D=E.getCenterY(),P=C.getCenterX(),R=C.getCenterY();if(E.intersects(C))return b[0]=M,b[1]=D,b[2]=P,b[3]=R,!0;var I=E.getX(),L=E.getY(),N=E.getRight(),B=E.getX(),J=E.getBottom(),U=E.getRight(),Z=E.getWidthHalf(),X=E.getHeightHalf(),ie=C.getX(),te=C.getY(),G=C.getRight(),V=C.getX(),z=C.getBottom(),q=C.getRight(),ae=C.getWidthHalf(),ue=C.getHeightHalf(),oe=!1,de=!1;if(M===P){if(D>R)return b[0]=M,b[1]=L,b[2]=P,b[3]=z,!1;if(D<R)return b[0]=M,b[1]=J,b[2]=P,b[3]=te,!1}else if(D===R){if(M>P)return b[0]=I,b[1]=D,b[2]=G,b[3]=R,!1;if(M<P)return b[0]=N,b[1]=D,b[2]=ie,b[3]=R,!1}else{var we=E.height/E.width,fe=C.height/C.width,je=(R-D)/(P-M),Ve=void 0,_e=void 0,ge=void 0,Xe=void 0;if(-we===je?M>P?(b[0]=B,b[1]=J,oe=!0):(b[0]=N,b[1]=L,oe=!0):we===je&&(M>P?(b[0]=I,b[1]=L,oe=!0):(b[0]=U,b[1]=J,oe=!0)),-fe===je?P>M?(b[2]=V,b[3]=z,de=!0):(b[2]=G,b[3]=te,de=!0):fe===je&&(P>M?(b[2]=ie,b[3]=te,de=!0):(b[2]=q,b[3]=z,de=!0)),oe&&de)return!1;if(M>P?D>R?(Ve=this.getCardinalDirection(we,je,4),_e=this.getCardinalDirection(fe,je,2)):(Ve=this.getCardinalDirection(-we,je,3),_e=this.getCardinalDirection(-fe,je,1)):D>R?(Ve=this.getCardinalDirection(-we,je,1),_e=this.getCardinalDirection(-fe,je,3)):(Ve=this.getCardinalDirection(we,je,2),_e=this.getCardinalDirection(fe,je,4)),!oe)switch(Ve){case 1:ge=L,b[0]=M+-X/je,b[1]=ge;break;case 2:ge=D+Z*je,b[0]=U,b[1]=ge;break;case 3:ge=J,b[0]=M+X/je,b[1]=ge;break;case 4:ge=D+-Z*je,b[0]=B,b[1]=ge}if(!de)switch(_e){case 1:Xe=te,b[2]=P+-ue/je,b[3]=Xe;break;case 2:Xe=R+ae*je,b[2]=q,b[3]=Xe;break;case 3:Xe=z,b[2]=P+ue/je,b[3]=Xe;break;case 4:Xe=R+-ae*je,b[2]=V,b[3]=Xe}}return!1},x.getCardinalDirection=function(E,C,b){return E>C?b:1+b%4},x.getIntersection=function(E,C,b,M){if(null==M)return this.getIntersection2(E,C,b);var X,ie,te,G,V,z,q,D=E.x,P=E.y,R=C.x,I=C.y,L=b.x,N=b.y,B=M.x,J=M.y;return V=R*P-D*I,z=B*N-L*J,0==(q=(X=I-P)*(G=L-B)-(ie=J-N)*(te=D-R))?null:new A((te*z-G*V)/q,(ie*V-X*z)/q)},x.angleOfVector=function(E,C,b,M){var D=void 0;return E!==b?(D=Math.atan((M-C)/(b-E)),b<E?D+=Math.PI:M<C&&(D+=this.TWO_PI)):D=M<C?this.ONE_AND_HALF_PI:this.HALF_PI,D},x.doIntersect=function(E,C,b,M){var D=E.x,P=E.y,R=C.x,I=C.y,L=b.x,N=b.y,B=M.x,J=M.y,U=(R-D)*(J-N)-(B-L)*(I-P);if(0===U)return!1;var Z=((J-N)*(B-D)+(L-B)*(J-P))/U,X=((P-I)*(B-D)+(R-D)*(J-P))/U;return 0<Z&&Z<1&&0<X&&X<1},x.HALF_PI=.5*Math.PI,x.ONE_AND_HALF_PI=1.5*Math.PI,x.TWO_PI=2*Math.PI,x.THREE_PI=3*Math.PI,ee.exports=x},function(ee,v,_){"use strict";function A(){}A.sign=function(x){return x>0?1:x<0?-1:0},A.floor=function(x){return x<0?Math.ceil(x):Math.floor(x)},A.ceil=function(x){return x<0?Math.floor(x):Math.ceil(x)},ee.exports=A},function(ee,v,_){"use strict";function A(){}A.MAX_VALUE=2147483647,A.MIN_VALUE=-2147483648,ee.exports=A},function(ee,v,_){"use strict";var A=function(){function D(P,R){for(var I=0;I<R.length;I++){var L=R[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(P,L.key,L)}}return function(P,R,I){return R&&D(P.prototype,R),I&&D(P,I),P}}();var E=function(P){return{value:P,next:null,prev:null}},C=function(P,R,I,L){return null!==P?P.next=R:L.head=R,null!==I?I.prev=R:L.tail=R,R.prev=P,R.next=I,L.length++,R},b=function(P,R){var I=P.prev,L=P.next;return null!==I?I.next=L:R.head=L,null!==L?L.prev=I:R.tail=I,P.prev=P.next=null,R.length--,P},M=function(){function D(P){var R=this;(function x(D,P){if(!(D instanceof P))throw new TypeError("Cannot call a class as a function")})(this,D),this.length=0,this.head=null,this.tail=null,P?.forEach(function(I){return R.push(I)})}return A(D,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(R,I){return C(I.prev,E(R),I,this)}},{key:"insertAfter",value:function(R,I){return C(I,E(R),I.next,this)}},{key:"insertNodeBefore",value:function(R,I){return C(I.prev,R,I,this)}},{key:"insertNodeAfter",value:function(R,I){return C(I,R,I.next,this)}},{key:"push",value:function(R){return C(this.tail,E(R),null,this)}},{key:"unshift",value:function(R){return C(null,E(R),this.head,this)}},{key:"remove",value:function(R){return b(R,this)}},{key:"pop",value:function(){return b(this.tail,this).value}},{key:"popNode",value:function(){return b(this.tail,this)}},{key:"shift",value:function(){return b(this.head,this).value}},{key:"shiftNode",value:function(){return b(this.head,this)}},{key:"get_object_at",value:function(R){if(R<=this.length()){for(var I=1,L=this.head;I<R;)L=L.next,I++;return L.value}}},{key:"set_object_at",value:function(R,I){if(R<=this.length()){for(var L=1,N=this.head;L<R;)N=N.next,L++;N.value=I}}}]),D}();ee.exports=M},function(ee,v,_){"use strict";function A(x,E,C){this.x=null,this.y=null,null==x&&null==E&&null==C?(this.x=0,this.y=0):"number"==typeof x&&"number"==typeof E&&null==C?(this.x=x,this.y=E):"Point"==x.constructor.name&&null==E&&null==C&&(this.x=(C=x).x,this.y=C.y)}A.prototype.getX=function(){return this.x},A.prototype.getY=function(){return this.y},A.prototype.getLocation=function(){return new A(this.x,this.y)},A.prototype.setLocation=function(x,E,C){"Point"==x.constructor.name&&null==E&&null==C?this.setLocation((C=x).x,C.y):"number"==typeof x&&"number"==typeof E&&null==C&&(parseInt(x)==x&&parseInt(E)==E?this.move(x,E):(this.x=Math.floor(x+.5),this.y=Math.floor(E+.5)))},A.prototype.move=function(x,E){this.x=x,this.y=E},A.prototype.translate=function(x,E){this.x+=x,this.y+=E},A.prototype.equals=function(x){return"Point"==x.constructor.name?this.x==x.x&&this.y==x.y:this==x},A.prototype.toString=function(){return(new A).constructor.name+"[x="+this.x+",y="+this.y+"]"},ee.exports=A},function(ee,v,_){"use strict";function A(x,E,C,b){this.x=0,this.y=0,this.width=0,this.height=0,null!=x&&null!=E&&null!=C&&null!=b&&(this.x=x,this.y=E,this.width=C,this.height=b)}A.prototype.getX=function(){return this.x},A.prototype.setX=function(x){this.x=x},A.prototype.getY=function(){return this.y},A.prototype.setY=function(x){this.y=x},A.prototype.getWidth=function(){return this.width},A.prototype.setWidth=function(x){this.width=x},A.prototype.getHeight=function(){return this.height},A.prototype.setHeight=function(x){this.height=x},A.prototype.getRight=function(){return this.x+this.width},A.prototype.getBottom=function(){return this.y+this.height},A.prototype.intersects=function(x){return!(this.getRight()<x.x||this.getBottom()<x.y||x.getRight()<this.x||x.getBottom()<this.y)},A.prototype.getCenterX=function(){return this.x+this.width/2},A.prototype.getMinX=function(){return this.getX()},A.prototype.getMaxX=function(){return this.getX()+this.width},A.prototype.getCenterY=function(){return this.y+this.height/2},A.prototype.getMinY=function(){return this.getY()},A.prototype.getMaxY=function(){return this.getY()+this.height},A.prototype.getWidthHalf=function(){return this.width/2},A.prototype.getHeightHalf=function(){return this.height/2},ee.exports=A},function(ee,v,_){"use strict";var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};function x(){}x.lastID=0,x.createID=function(E){return x.isPrimitive(E)?E:(null!=E.uniqueID||(E.uniqueID=x.getString(),x.lastID++),E.uniqueID)},x.getString=function(E){return null==E&&(E=x.lastID),"Object#"+E},x.isPrimitive=function(E){var C=typeof E>"u"?"undefined":A(E);return null==E||"object"!=C&&"function"!=C},ee.exports=x},function(ee,v,_){"use strict";function A(L){if(Array.isArray(L)){for(var N=0,B=Array(L.length);N<L.length;N++)B[N]=L[N];return B}return Array.from(L)}var x=_(0),E=_(6),C=_(3),b=_(1),M=_(5),D=_(4),P=_(17),R=_(27);function I(L){R.call(this),this.layoutQuality=x.QUALITY,this.createBendsAsNeeded=x.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=x.DEFAULT_INCREMENTAL,this.animationOnLayout=x.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=x.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=x.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=x.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new E(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=L&&(this.isRemoteUse=L)}I.RANDOM_SEED=1,(I.prototype=Object.create(R.prototype)).getGraphManager=function(){return this.graphManager},I.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},I.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},I.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},I.prototype.newGraphManager=function(){var L=new E(this);return this.graphManager=L,L},I.prototype.newGraph=function(L){return new M(null,this.graphManager,L)},I.prototype.newNode=function(L){return new C(this.graphManager,L)},I.prototype.newEdge=function(L){return new b(null,null,L)},I.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},I.prototype.runLayout=function(){var L;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),L=!this.checkLayoutSuccess()&&this.layout(),"during"!==x.ANIMATE&&(L&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,L)},I.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},I.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var N=this.graphManager.getAllEdges(),B=0;B<N.length;B++);var U=this.graphManager.getRoot().getNodes();for(B=0;B<U.length;B++);this.update(this.graphManager.getRoot())}},I.prototype.update=function(L){if(null==L)this.update2();else if(L instanceof C){var N=L;if(null!=N.getChild())for(var B=N.getChild().getNodes(),J=0;J<B.length;J++)update(B[J]);null!=N.vGraphObject&&N.vGraphObject.update(N)}else L instanceof b?null!=L.vGraphObject&&L.vGraphObject.update(L):L instanceof M&&null!=L.vGraphObject&&L.vGraphObject.update(L)},I.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=x.QUALITY,this.animationDuringLayout=x.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=x.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=x.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=x.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=x.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=x.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},I.prototype.transform=function(L){if(null==L)this.transform(new D(0,0));else{var N=new P,B=this.graphManager.getRoot().updateLeftTop();if(null!=B){N.setWorldOrgX(L.x),N.setWorldOrgY(L.y),N.setDeviceOrgX(B.x),N.setDeviceOrgY(B.y);for(var J=this.getAllNodes(),Z=0;Z<J.length;Z++)J[Z].transform(N)}}},I.prototype.positionNodesRandomly=function(L){if(null==L)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var N,B,J=L.getNodes(),U=0;U<J.length;U++)null==(B=(N=J[U]).getChild())||0==B.getNodes().length?N.scatter():(this.positionNodesRandomly(B),N.updateBounds())},I.prototype.getFlatForest=function(){for(var L=[],N=!0,B=this.graphManager.getRoot().getNodes(),J=!0,U=0;U<B.length;U++)null!=B[U].getChild()&&(J=!1);if(!J)return L;var Z=new Set,X=[],ie=new Map,te=[];for(te=te.concat(B);te.length>0&&N;){for(X.push(te[0]);X.length>0&&N;){var G=X[0];X.splice(0,1),Z.add(G);var V=G.getEdges();for(U=0;U<V.length;U++){var z=V[U].getOtherEnd(G);if(ie.get(G)!=z){if(Z.has(z)){N=!1;break}X.push(z),ie.set(z,G)}}}if(N){var q=[].concat(A(Z));for(L.push(q),U=0;U<q.length;U++){var ue=te.indexOf(q[U]);ue>-1&&te.splice(ue,1)}Z=new Set,ie=new Map}else L=[]}return L},I.prototype.createDummyNodesForBendpoints=function(L){for(var N=[],B=L.source,J=this.graphManager.calcLowestCommonAncestor(L.source,L.target),U=0;U<L.bendpoints.length;U++){var Z=this.newNode(null);Z.setRect(new Point(0,0),new Dimension(1,1)),J.add(Z);var X=this.newEdge(null);this.graphManager.add(X,B,Z),N.add(Z),B=Z}return X=this.newEdge(null),this.graphManager.add(X,B,L.target),this.edgeToDummyNodes.set(L,N),L.isInterGraph()?this.graphManager.remove(L):J.remove(L),N},I.prototype.createBendpointsFromDummyNodes=function(){var L=[];L=L.concat(this.graphManager.getAllEdges()),L=[].concat(A(this.edgeToDummyNodes.keys())).concat(L);for(var N=0;N<L.length;N++){var B=L[N];if(B.bendpoints.length>0){for(var J=this.edgeToDummyNodes.get(B),U=0;U<J.length;U++){var Z=J[U],X=new D(Z.getCenterX(),Z.getCenterY()),ie=B.bendpoints.get(U);ie.x=X.x,ie.y=X.y,Z.getOwner().remove(Z)}this.graphManager.add(B,B.source,B.target)}}},I.transform=function(L,N,B,J){if(null!=B&&null!=J){var U=N;return L<=50?U-=(N-N/B)/50*(50-L):U+=(N*J-N)/50*(L-50),U}var ie,te;return L<=50?(ie=9*N/500,te=N/10):(ie=9*N/50,te=-8*N),ie*L+te},I.findCenterOfTree=function(L){var N=[];N=N.concat(L);var B=[],J=new Map,U=!1,Z=null;(1==N.length||2==N.length)&&(U=!0,Z=N[0]);for(var X=0;X<N.length;X++){var te=(ie=N[X]).getNeighborsList().size;J.set(ie,ie.getNeighborsList().size),1==te&&B.push(ie)}var G=[];for(G=G.concat(B);!U;){var V=[];for(V=V.concat(G),G=[],X=0;X<N.length;X++){var ie,z=N.indexOf(ie=N[X]);z>=0&&N.splice(z,1),ie.getNeighborsList().forEach(function(oe){if(B.indexOf(oe)<0){var we=J.get(oe)-1;1==we&&G.push(oe),J.set(oe,we)}})}B=B.concat(G),(1==N.length||2==N.length)&&(U=!0,Z=N[0])}return Z},I.prototype.setGraphManager=function(L){this.graphManager=L},ee.exports=I},function(ee,v,_){"use strict";function A(){}A.seed=1,A.x=0,A.nextDouble=function(){return(A.x=1e4*Math.sin(A.seed++))-Math.floor(A.x)},ee.exports=A},function(ee,v,_){"use strict";var A=_(4);function x(E,C){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}x.prototype.getWorldOrgX=function(){return this.lworldOrgX},x.prototype.setWorldOrgX=function(E){this.lworldOrgX=E},x.prototype.getWorldOrgY=function(){return this.lworldOrgY},x.prototype.setWorldOrgY=function(E){this.lworldOrgY=E},x.prototype.getWorldExtX=function(){return this.lworldExtX},x.prototype.setWorldExtX=function(E){this.lworldExtX=E},x.prototype.getWorldExtY=function(){return this.lworldExtY},x.prototype.setWorldExtY=function(E){this.lworldExtY=E},x.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},x.prototype.setDeviceOrgX=function(E){this.ldeviceOrgX=E},x.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},x.prototype.setDeviceOrgY=function(E){this.ldeviceOrgY=E},x.prototype.getDeviceExtX=function(){return this.ldeviceExtX},x.prototype.setDeviceExtX=function(E){this.ldeviceExtX=E},x.prototype.getDeviceExtY=function(){return this.ldeviceExtY},x.prototype.setDeviceExtY=function(E){this.ldeviceExtY=E},x.prototype.transformX=function(E){var C=0,b=this.lworldExtX;return 0!=b&&(C=this.ldeviceOrgX+(E-this.lworldOrgX)*this.ldeviceExtX/b),C},x.prototype.transformY=function(E){var C=0,b=this.lworldExtY;return 0!=b&&(C=this.ldeviceOrgY+(E-this.lworldOrgY)*this.ldeviceExtY/b),C},x.prototype.inverseTransformX=function(E){var C=0,b=this.ldeviceExtX;return 0!=b&&(C=this.lworldOrgX+(E-this.ldeviceOrgX)*this.lworldExtX/b),C},x.prototype.inverseTransformY=function(E){var C=0,b=this.ldeviceExtY;return 0!=b&&(C=this.lworldOrgY+(E-this.ldeviceOrgY)*this.lworldExtY/b),C},x.prototype.inverseTransformPoint=function(E){return new A(this.inverseTransformX(E.x),this.inverseTransformY(E.y))},ee.exports=x},function(ee,v,_){"use strict";var x=_(15),E=_(7),C=_(0),b=_(8),M=_(9);function D(){x.call(this),this.useSmartIdealEdgeLengthCalculation=E.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=E.DEFAULT_EDGE_LENGTH,this.springConstant=E.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=E.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=E.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=E.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=E.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=E.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*E.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=E.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=E.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=E.MAX_ITERATIONS}for(var P in D.prototype=Object.create(x.prototype),x)D[P]=x[P];D.prototype.initParameters=function(){x.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=E.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},D.prototype.calcIdealEdgeLengths=function(){for(var R,I,L,N,B,J,U=this.getGraphManager().getAllEdges(),Z=0;Z<U.length;Z++)(R=U[Z]).idealLength=this.idealEdgeLength,R.isInterGraph&&(L=R.getSource(),N=R.getTarget(),B=R.getSourceInLca().getEstimatedSize(),J=R.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(R.idealLength+=B+J-2*C.SIMPLE_NODE_SIZE),I=R.getLca().getInclusionTreeDepth(),R.idealLength+=E.DEFAULT_EDGE_LENGTH*E.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(L.getInclusionTreeDepth()+N.getInclusionTreeDepth()-2*I))},D.prototype.initSpringEmbedder=function(){var R=this.getAllNodes().length;this.incremental?(R>E.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*E.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(R-E.ADAPTATION_LOWER_NODE_LIMIT)/(E.ADAPTATION_UPPER_NODE_LIMIT-E.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-E.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=E.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=R>E.ADAPTATION_LOWER_NODE_LIMIT?Math.max(E.COOLING_ADAPTATION_FACTOR,1-(R-E.ADAPTATION_LOWER_NODE_LIMIT)/(E.ADAPTATION_UPPER_NODE_LIMIT-E.ADAPTATION_LOWER_NODE_LIMIT)*(1-E.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=E.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},D.prototype.calcSpringForces=function(){for(var I,R=this.getAllEdges(),L=0;L<R.length;L++)this.calcSpringForce(I=R[L],I.idealLength)},D.prototype.calcRepulsionForces=function(){var L,N,B,J,Z,R=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],I=arguments.length>1&&void 0!==arguments[1]&&arguments[1],U=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%E.GRID_CALCULATION_CHECK_PERIOD==1&&R&&this.updateGrid(),Z=new Set,L=0;L<U.length;L++)this.calculateRepulsionForceOfANode(B=U[L],Z,R,I),Z.add(B);else for(L=0;L<U.length;L++)for(B=U[L],N=L+1;N<U.length;N++)J=U[N],B.getOwner()==J.getOwner()&&this.calcRepulsionForce(B,J)},D.prototype.calcGravitationalForces=function(){for(var I=this.getAllNodesToApplyGravitation(),L=0;L<I.length;L++)this.calcGravitationalForce(I[L])},D.prototype.moveNodes=function(){for(var R=this.getAllNodes(),L=0;L<R.length;L++)R[L].move()},D.prototype.calcSpringForce=function(R,I){var B,J,U,Z,L=R.getSource(),N=R.getTarget();if(this.uniformLeafNodeSizes&&null==L.getChild()&&null==N.getChild())R.updateLengthSimple();else if(R.updateLength(),R.isOverlapingSourceAndTarget)return;0!=(B=R.getLength())&&(Z=(J=this.springConstant*(B-I))*(R.lengthY/B),L.springForceX+=U=J*(R.lengthX/B),L.springForceY+=Z,N.springForceX-=U,N.springForceY-=Z)},D.prototype.calcRepulsionForce=function(R,I){var U,Z,X,ie,te,G,V,L=R.getRect(),N=I.getRect(),B=new Array(2),J=new Array(4);if(L.intersects(N)){b.calcSeparationAmount(L,N,B,E.DEFAULT_EDGE_LENGTH/2),V=2*B[1];var z=R.noOfChildren*I.noOfChildren/(R.noOfChildren+I.noOfChildren);R.repulsionForceX-=z*(G=2*B[0]),R.repulsionForceY-=z*V,I.repulsionForceX+=z*G,I.repulsionForceY+=z*V}else this.uniformLeafNodeSizes&&null==R.getChild()&&null==I.getChild()?(U=N.getCenterX()-L.getCenterX(),Z=N.getCenterY()-L.getCenterY()):(b.getIntersection(L,N,J),U=J[2]-J[0],Z=J[3]-J[1]),Math.abs(U)<E.MIN_REPULSION_DIST&&(U=M.sign(U)*E.MIN_REPULSION_DIST),Math.abs(Z)<E.MIN_REPULSION_DIST&&(Z=M.sign(Z)*E.MIN_REPULSION_DIST),X=U*U+Z*Z,ie=Math.sqrt(X),V=(te=this.repulsionConstant*R.noOfChildren*I.noOfChildren/X)*Z/ie,R.repulsionForceX-=G=te*U/ie,R.repulsionForceY-=V,I.repulsionForceX+=G,I.repulsionForceY+=V},D.prototype.calcGravitationalForce=function(R){var I,L,N,B,J,U,Z,X;L=((I=R.getOwner()).getRight()+I.getLeft())/2,N=(I.getTop()+I.getBottom())/2,B=R.getCenterX()-L,J=R.getCenterY()-N,U=Math.abs(B)+R.getWidth()/2,Z=Math.abs(J)+R.getHeight()/2,R.getOwner()==this.graphManager.getRoot()?(U>(X=I.getEstimatedSize()*this.gravityRangeFactor)||Z>X)&&(R.gravitationForceX=-this.gravityConstant*B,R.gravitationForceY=-this.gravityConstant*J):(U>(X=I.getEstimatedSize()*this.compoundGravityRangeFactor)||Z>X)&&(R.gravitationForceX=-this.gravityConstant*B*this.compoundGravityConstant,R.gravitationForceY=-this.gravityConstant*J*this.compoundGravityConstant)},D.prototype.isConverged=function(){var R,I=!1;return this.totalIterations>this.maxIterations/3&&(I=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),R=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,R||I},D.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},D.prototype.calcNoOfChildrenForAllNodes=function(){for(var R,I=this.graphManager.getAllNodes(),L=0;L<I.length;L++)(R=I[L]).noOfChildren=R.getNoOfChildren()},D.prototype.calcGrid=function(R){var I,L;I=parseInt(Math.ceil((R.getRight()-R.getLeft())/this.repulsionRange)),L=parseInt(Math.ceil((R.getBottom()-R.getTop())/this.repulsionRange));for(var N=new Array(I),B=0;B<I;B++)N[B]=new Array(L);for(B=0;B<I;B++)for(var J=0;J<L;J++)N[B][J]=new Array;return N},D.prototype.addNodeToGrid=function(R,I,L){var N,B,J,U;N=parseInt(Math.floor((R.getRect().x-I)/this.repulsionRange)),B=parseInt(Math.floor((R.getRect().width+R.getRect().x-I)/this.repulsionRange)),J=parseInt(Math.floor((R.getRect().y-L)/this.repulsionRange)),U=parseInt(Math.floor((R.getRect().height+R.getRect().y-L)/this.repulsionRange));for(var Z=N;Z<=B;Z++)for(var X=J;X<=U;X++)this.grid[Z][X].push(R),R.setGridCoordinates(N,B,J,U)},D.prototype.updateGrid=function(){var R,L=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),R=0;R<L.length;R++)this.addNodeToGrid(L[R],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},D.prototype.calculateRepulsionForceOfANode=function(R,I,L,N){if(this.totalIterations%E.GRID_CALCULATION_CHECK_PERIOD==1&&L||N){var B=new Set;R.surrounding=new Array;for(var J,U=this.grid,Z=R.startX-1;Z<R.finishX+2;Z++)for(var X=R.startY-1;X<R.finishY+2;X++)if(!(Z<0||X<0||Z>=U.length||X>=U[0].length))for(var ie=0;ie<U[Z][X].length;ie++)if(J=U[Z][X][ie],R.getOwner()==J.getOwner()&&R!=J&&!I.has(J)&&!B.has(J)){var te=Math.abs(R.getCenterX()-J.getCenterX())-(R.getWidth()/2+J.getWidth()/2),G=Math.abs(R.getCenterY()-J.getCenterY())-(R.getHeight()/2+J.getHeight()/2);te<=this.repulsionRange&&G<=this.repulsionRange&&B.add(J)}R.surrounding=[].concat(function A(R){if(Array.isArray(R)){for(var I=0,L=Array(R.length);I<R.length;I++)L[I]=R[I];return L}return Array.from(R)}(B))}for(Z=0;Z<R.surrounding.length;Z++)this.calcRepulsionForce(R,R.surrounding[Z])},D.prototype.calcRepulsionRange=function(){return 0},ee.exports=D},function(ee,v,_){"use strict";var A=_(1),x=_(7);function E(b,M,D){A.call(this,b,M,D),this.idealLength=x.DEFAULT_EDGE_LENGTH}for(var C in E.prototype=Object.create(A.prototype),A)E[C]=A[C];ee.exports=E},function(ee,v,_){"use strict";var A=_(3);function x(C,b,M,D){A.call(this,C,b,M,D),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var E in x.prototype=Object.create(A.prototype),A)x[E]=A[E];x.prototype.setGridCoordinates=function(C,b,M,D){this.startX=C,this.finishX=b,this.startY=M,this.finishY=D},ee.exports=x},function(ee,v,_){"use strict";function A(x,E){this.width=0,this.height=0,null!==x&&null!==E&&(this.height=E,this.width=x)}A.prototype.getWidth=function(){return this.width},A.prototype.setWidth=function(x){this.width=x},A.prototype.getHeight=function(){return this.height},A.prototype.setHeight=function(x){this.height=x},ee.exports=A},function(ee,v,_){"use strict";var A=_(14);function x(){this.map={},this.keys=[]}x.prototype.put=function(E,C){var b=A.createID(E);this.contains(b)||(this.map[b]=C,this.keys.push(E))},x.prototype.contains=function(E){return A.createID(E),null!=this.map[E]},x.prototype.get=function(E){var C=A.createID(E);return this.map[C]},x.prototype.keySet=function(){return this.keys},ee.exports=x},function(ee,v,_){"use strict";var A=_(14);function x(){this.set={}}x.prototype.add=function(E){var C=A.createID(E);this.contains(C)||(this.set[C]=E)},x.prototype.remove=function(E){delete this.set[A.createID(E)]},x.prototype.clear=function(){this.set={}},x.prototype.contains=function(E){return this.set[A.createID(E)]==E},x.prototype.isEmpty=function(){return 0===this.size()},x.prototype.size=function(){return Object.keys(this.set).length},x.prototype.addAllTo=function(E){for(var C=Object.keys(this.set),b=C.length,M=0;M<b;M++)E.push(this.set[C[M]])},x.prototype.size=function(){return Object.keys(this.set).length},x.prototype.addAll=function(E){for(var C=E.length,b=0;b<C;b++)this.add(E[b])},ee.exports=x},function(ee,v,_){"use strict";var A=function(){function b(M,D){for(var P=0;P<D.length;P++){var R=D[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(M,R.key,R)}}return function(M,D,P){return D&&b(M.prototype,D),P&&b(M,P),M}}();var E=_(11),C=function(){function b(M,D){(function x(b,M){if(!(b instanceof M))throw new TypeError("Cannot call a class as a function")})(this,b),(null!==D||void 0!==D)&&(this.compareFunction=this._defaultCompareFunction);var P;P=M instanceof E?M.size():M.length,this._quicksort(M,0,P-1)}return A(b,[{key:"_quicksort",value:function(D,P,R){if(P<R){var I=this._partition(D,P,R);this._quicksort(D,P,I),this._quicksort(D,I+1,R)}}},{key:"_partition",value:function(D,P,R){for(var I=this._get(D,P),L=P,N=R;;){for(;this.compareFunction(I,this._get(D,N));)N--;for(;this.compareFunction(this._get(D,L),I);)L++;if(!(L<N))return N;this._swap(D,L,N),L++,N--}}},{key:"_get",value:function(D,P){return D instanceof E?D.get_object_at(P):D[P]}},{key:"_set",value:function(D,P,R){D instanceof E?D.set_object_at(P,R):D[P]=R}},{key:"_swap",value:function(D,P,R){var I=this._get(D,P);this._set(D,P,this._get(D,R)),this._set(D,R,I)}},{key:"_defaultCompareFunction",value:function(D,P){return P>D}}]),b}();ee.exports=C},function(ee,v,_){"use strict";var A=function(){function C(b,M){for(var D=0;D<M.length;D++){var P=M[D];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,M,D){return M&&C(b.prototype,M),D&&C(b,D),b}}();var E=function(){function C(b,M){var D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,R=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;(function x(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")})(this,C),this.sequence1=b,this.sequence2=M,this.match_score=D,this.mismatch_penalty=P,this.gap_penalty=R,this.iMax=b.length+1,this.jMax=M.length+1,this.grid=new Array(this.iMax);for(var I=0;I<this.iMax;I++){this.grid[I]=new Array(this.jMax);for(var L=0;L<this.jMax;L++)this.grid[I][L]=0}this.tracebackGrid=new Array(this.iMax);for(var N=0;N<this.iMax;N++){this.tracebackGrid[N]=new Array(this.jMax);for(var B=0;B<this.jMax;B++)this.tracebackGrid[N][B]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return A(C,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var M=1;M<this.jMax;M++)this.grid[0][M]=this.grid[0][M-1]+this.gap_penalty,this.tracebackGrid[0][M]=[!1,!1,!0];for(var D=1;D<this.iMax;D++)this.grid[D][0]=this.grid[D-1][0]+this.gap_penalty,this.tracebackGrid[D][0]=[!1,!0,!1];for(var P=1;P<this.iMax;P++)for(var R=1;R<this.jMax;R++){var B=[this.sequence1[P-1]===this.sequence2[R-1]?this.grid[P-1][R-1]+this.match_score:this.grid[P-1][R-1]+this.mismatch_penalty,this.grid[P-1][R]+this.gap_penalty,this.grid[P][R-1]+this.gap_penalty],J=this.arrayAllMaxIndexes(B);this.grid[P][R]=B[J[0]],this.tracebackGrid[P][R]=[J.includes(0),J.includes(1),J.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var M=[];for(M.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});M[0];){var D=M[0],P=this.tracebackGrid[D.pos[0]][D.pos[1]];P[0]&&M.push({pos:[D.pos[0]-1,D.pos[1]-1],seq1:this.sequence1[D.pos[0]-1]+D.seq1,seq2:this.sequence2[D.pos[1]-1]+D.seq2}),P[1]&&M.push({pos:[D.pos[0]-1,D.pos[1]],seq1:this.sequence1[D.pos[0]-1]+D.seq1,seq2:"-"+D.seq2}),P[2]&&M.push({pos:[D.pos[0],D.pos[1]-1],seq1:"-"+D.seq1,seq2:this.sequence2[D.pos[1]-1]+D.seq2}),0===D.pos[0]&&0===D.pos[1]&&this.alignments.push({sequence1:D.seq1,sequence2:D.seq2}),M.shift()}return this.alignments}},{key:"getAllIndexes",value:function(M,D){for(var P=[],R=-1;-1!==(R=M.indexOf(D,R+1));)P.push(R);return P}},{key:"arrayAllMaxIndexes",value:function(M){return this.getAllIndexes(M,Math.max.apply(null,M))}}]),C}();ee.exports=E},function(ee,v,_){"use strict";var A=function(){};A.FDLayout=_(18),A.FDLayoutConstants=_(7),A.FDLayoutEdge=_(19),A.FDLayoutNode=_(20),A.DimensionD=_(21),A.HashMap=_(22),A.HashSet=_(23),A.IGeometry=_(8),A.IMath=_(9),A.Integer=_(10),A.Point=_(12),A.PointD=_(4),A.RandomSeed=_(16),A.RectangleD=_(13),A.Transform=_(17),A.UniqueIDGeneretor=_(14),A.Quicksort=_(24),A.LinkedList=_(11),A.LGraphObject=_(2),A.LGraph=_(5),A.LEdge=_(1),A.LGraphManager=_(6),A.LNode=_(3),A.Layout=_(15),A.LayoutConstants=_(0),A.NeedlemanWunsch=_(25),ee.exports=A},function(ee,v,_){"use strict";function A(){this.listeners=[]}var x=A.prototype;x.addListener=function(E,C){this.listeners.push({event:E,callback:C})},x.removeListener=function(E,C){for(var b=this.listeners.length;b>=0;b--){var M=this.listeners[b];M.event===E&&M.callback===C&&this.listeners.splice(b,1)}},x.emit=function(E,C){for(var b=0;b<this.listeners.length;b++){var M=this.listeners[b];E===M.event&&M.callback(C)}},ee.exports=A}])},7244:(j,ee,v)=>{var x=v(3436)(v(2119),"DataView");j.exports=x},4994:(j,ee,v)=>{var _=v(4312),A=v(6421),x=v(5764),E=v(8685),C=v(6676);function b(M){var D=-1,P=null==M?0:M.length;for(this.clear();++D<P;){var R=M[D];this.set(R[0],R[1])}}b.prototype.clear=_,b.prototype.delete=A,b.prototype.get=x,b.prototype.has=E,b.prototype.set=C,j.exports=b},9215:(j,ee,v)=>{var _=v(1840),A=v(4378),x=v(4981),E=v(7343),C=v(8895);function b(M){var D=-1,P=null==M?0:M.length;for(this.clear();++D<P;){var R=M[D];this.set(R[0],R[1])}}b.prototype.clear=_,b.prototype.delete=A,b.prototype.get=x,b.prototype.has=E,b.prototype.set=C,j.exports=b},1501:(j,ee,v)=>{var x=v(3436)(v(2119),"Map");j.exports=x},9850:(j,ee,v)=>{var _=v(638),A=v(1184),x=v(866),E=v(3771),C=v(1772);function b(M){var D=-1,P=null==M?0:M.length;for(this.clear();++D<P;){var R=M[D];this.set(R[0],R[1])}}b.prototype.clear=_,b.prototype.delete=A,b.prototype.get=x,b.prototype.has=E,b.prototype.set=C,j.exports=b},4267:(j,ee,v)=>{var x=v(3436)(v(2119),"Promise");j.exports=x},6323:(j,ee,v)=>{var x=v(3436)(v(2119),"Set");j.exports=x},8849:(j,ee,v)=>{var _=v(9850),A=v(4600),x=v(1387);function E(C){var b=-1,M=null==C?0:C.length;for(this.__data__=new _;++b<M;)this.add(C[b])}E.prototype.add=E.prototype.push=A,E.prototype.has=x,j.exports=E},2858:(j,ee,v)=>{var _=v(9215),A=v(3720),x=v(4410),E=v(5576),C=v(2247),b=v(1585);function M(D){var P=this.__data__=new _(D);this.size=P.size}M.prototype.clear=A,M.prototype.delete=x,M.prototype.get=E,M.prototype.has=C,M.prototype.set=b,j.exports=M},443:(j,ee,v)=>{var _=v(2119);j.exports=_.Symbol},3457:(j,ee,v)=>{var _=v(2119);j.exports=_.Uint8Array},4243:(j,ee,v)=>{var x=v(3436)(v(2119),"WeakMap");j.exports=x},6999:j=>{j.exports=function ee(v,_,A){switch(A.length){case 0:return v.call(_);case 1:return v.call(_,A[0]);case 2:return v.call(_,A[0],A[1]);case 3:return v.call(_,A[0],A[1],A[2])}return v.apply(_,A)}},6837:j=>{j.exports=function ee(v,_){for(var A=-1,x=null==v?0:v.length;++A<x&&!1!==_(v[A],A,v););return v}},9779:j=>{j.exports=function ee(v,_){for(var A=-1,x=null==v?0:v.length,E=0,C=[];++A<x;){var b=v[A];_(b,A,v)&&(C[E++]=b)}return C}},1253:(j,ee,v)=>{var _=v(4164);j.exports=function A(x,E){return!(null==x||!x.length)&&_(x,E,0)>-1}},177:j=>{j.exports=function ee(v,_,A){for(var x=-1,E=null==v?0:v.length;++x<E;)if(A(_,v[x]))return!0;return!1}},2271:(j,ee,v)=>{var _=v(5334),A=v(7151),x=v(1503),E=v(891),C=v(8442),b=v(8159),D=Object.prototype.hasOwnProperty;j.exports=function P(R,I){var L=x(R),N=!L&&A(R),B=!L&&!N&&E(R),J=!L&&!N&&!B&&b(R),U=L||N||B||J,Z=U?_(R.length,String):[],X=Z.length;for(var ie in R)(I||D.call(R,ie))&&(!U||!("length"==ie||B&&("offset"==ie||"parent"==ie)||J&&("buffer"==ie||"byteLength"==ie||"byteOffset"==ie)||C(ie,X)))&&Z.push(ie);return Z}},4633:j=>{j.exports=function ee(v,_){for(var A=-1,x=null==v?0:v.length,E=Array(x);++A<x;)E[A]=_(v[A],A,v);return E}},5059:j=>{j.exports=function ee(v,_){for(var A=-1,x=_.length,E=v.length;++A<x;)v[E+A]=_[A];return v}},8745:j=>{j.exports=function ee(v,_,A,x){var E=-1,C=null==v?0:v.length;for(x&&C&&(A=v[++E]);++E<C;)A=_(A,v[E],E,v);return A}},9503:j=>{j.exports=function ee(v,_){for(var A=-1,x=null==v?0:v.length;++A<x;)if(_(v[A],A,v))return!0;return!1}},5481:(j,ee,v)=>{var A=v(1847)("length");j.exports=A},9276:(j,ee,v)=>{var _=v(5683),A=v(217);j.exports=function x(E,C,b){(void 0!==b&&!A(E[C],b)||void 0===b&&!(C in E))&&_(E,C,b)}},9719:(j,ee,v)=>{var _=v(5683),A=v(217),E=Object.prototype.hasOwnProperty;j.exports=function C(b,M,D){var P=b[M];(!E.call(b,M)||!A(P,D)||void 0===D&&!(M in b))&&_(b,M,D)}},3503:(j,ee,v)=>{var _=v(217);j.exports=function A(x,E){for(var C=x.length;C--;)if(_(x[C][0],E))return C;return-1}},4121:(j,ee,v)=>{var _=v(1989),A=v(118);j.exports=function x(E,C){return E&&_(C,A(C),E)}},9287:(j,ee,v)=>{var _=v(1989),A=v(6555);j.exports=function x(E,C){return E&&_(C,A(C),E)}},5683:(j,ee,v)=>{var _=v(6713);j.exports=function A(x,E,C){"__proto__"==E&&_?_(x,E,{configurable:!0,enumerable:!0,value:C,writable:!0}):x[E]=C}},4462:(j,ee,v)=>{var _=v(2858),A=v(6837),x=v(9719),E=v(4121),C=v(9287),b=v(9292),M=v(9454),D=v(4444),P=v(9905),R=v(7597),I=v(6967),L=v(8794),N=v(6782),B=v(7878),J=v(4264),U=v(1503),Z=v(891),X=v(3222),ie=v(5940),te=v(799),G=v(118),V=v(6555),ue="[object Arguments]",je="[object Function]",ge="[object Object]",ut={};ut[ue]=ut["[object Array]"]=ut["[object ArrayBuffer]"]=ut["[object DataView]"]=ut["[object Boolean]"]=ut["[object Date]"]=ut["[object Float32Array]"]=ut["[object Float64Array]"]=ut["[object Int8Array]"]=ut["[object Int16Array]"]=ut["[object Int32Array]"]=ut["[object Map]"]=ut["[object Number]"]=ut[ge]=ut["[object RegExp]"]=ut["[object Set]"]=ut["[object String]"]=ut["[object Symbol]"]=ut["[object Uint8Array]"]=ut["[object Uint8ClampedArray]"]=ut["[object Uint16Array]"]=ut["[object Uint32Array]"]=!0,ut["[object Error]"]=ut[je]=ut["[object WeakMap]"]=!1,j.exports=function Yt(Nt,Ln,Jn,xr,Ur,Or){var Rr,Pi=1&Ln,Ni=2&Ln,Zt=4&Ln;if(Jn&&(Rr=Ur?Jn(Nt,xr,Ur,Or):Jn(Nt)),void 0!==Rr)return Rr;if(!ie(Nt))return Nt;var rs=U(Nt);if(rs){if(Rr=N(Nt),!Pi)return M(Nt,Rr)}else{var kn=L(Nt),_l=kn==je||"[object GeneratorFunction]"==kn;if(Z(Nt))return b(Nt,Pi);if(kn==ge||kn==ue||_l&&!Ur){if(Rr=Ni||_l?{}:J(Nt),!Pi)return Ni?P(Nt,C(Rr,Nt)):D(Nt,E(Rr,Nt))}else{if(!ut[kn])return Ur?Nt:{};Rr=B(Nt,kn,Pi)}}Or||(Or=new _);var Ms=Or.get(Nt);if(Ms)return Ms;Or.set(Nt,Rr),te(Nt)?Nt.forEach(function(Ts){Rr.add(Yt(Ts,Ln,Jn,Ts,Nt,Or))}):X(Nt)&&Nt.forEach(function(Ts,ms){Rr.set(ms,Yt(Ts,Ln,Jn,ms,Nt,Or))});var ga=rs?void 0:(Zt?Ni?I:R:Ni?V:G)(Nt);return A(ga||Nt,function(Ts,ms){ga&&(Ts=Nt[ms=Ts]),x(Rr,ms,Yt(Ts,Ln,Jn,ms,Nt,Or))}),Rr}},8858:(j,ee,v)=>{var _=v(5940),A=Object.create,x=function(){function E(){}return function(C){if(!_(C))return{};if(A)return A(C);E.prototype=C;var b=new E;return E.prototype=void 0,b}}();j.exports=x},3132:(j,ee,v)=>{var _=v(5184),x=v(6539)(_);j.exports=x},7308:(j,ee,v)=>{var _=v(4129);j.exports=function A(x,E,C){for(var b=-1,M=x.length;++b<M;){var D=x[b],P=E(D);if(null!=P&&(void 0===R?P==P&&!_(P):C(P,R)))var R=P,I=D}return I}},3609:(j,ee,v)=>{var _=v(3132);j.exports=function A(x,E){var C=[];return _(x,function(b,M,D){E(b,M,D)&&C.push(b)}),C}},5317:j=>{j.exports=function ee(v,_,A,x){for(var E=v.length,C=A+(x?1:-1);x?C--:++C<E;)if(_(v[C],C,v))return C;return-1}},686:(j,ee,v)=>{var _=v(5059),A=v(5039);j.exports=function x(E,C,b,M,D){var P=-1,R=E.length;for(b||(b=A),D||(D=[]);++P<R;){var I=E[P];C>0&&b(I)?C>1?x(I,C-1,b,M,D):_(D,I):M||(D[D.length]=I)}return D}},755:(j,ee,v)=>{var A=v(456)();j.exports=A},5184:(j,ee,v)=>{var _=v(755),A=v(118);j.exports=function x(E,C){return E&&_(E,C,A)}},5456:(j,ee,v)=>{var _=v(6884),A=v(8533);j.exports=function x(E,C){for(var b=0,M=(C=_(C,E)).length;null!=E&&b<M;)E=E[A(C[b++])];return b&&b==M?E:void 0}},8247:(j,ee,v)=>{var _=v(5059),A=v(1503);j.exports=function x(E,C,b){var M=C(E);return A(E)?M:_(M,b(E))}},3337:(j,ee,v)=>{var _=v(443),A=v(1318),x=v(2902),b=_?_.toStringTag:void 0;j.exports=function M(D){return null==D?void 0===D?"[object Undefined]":"[object Null]":b&&b in Object(D)?A(D):x(D)}},1100:j=>{j.exports=function ee(v,_){return v>_}},4781:j=>{var v=Object.prototype.hasOwnProperty;j.exports=function _(A,x){return null!=A&&v.call(A,x)}},9989:j=>{j.exports=function ee(v,_){return null!=v&&_ in Object(v)}},4164:(j,ee,v)=>{var _=v(5317),A=v(968),x=v(4977);j.exports=function E(C,b,M){return b==b?x(C,b,M):_(C,A,M)}},186:(j,ee,v)=>{var _=v(3337),A=v(2671);j.exports=function E(C){return A(C)&&"[object Arguments]"==_(C)}},5740:(j,ee,v)=>{var _=v(8325),A=v(2671);j.exports=function x(E,C,b,M,D){return E===C||(null==E||null==C||!A(E)&&!A(C)?E!=E&&C!=C:_(E,C,b,M,x,D))}},8325:(j,ee,v)=>{var _=v(2858),A=v(3914),x=v(8583),E=v(2286),C=v(8794),b=v(1503),M=v(891),D=v(8159),R="[object Arguments]",I="[object Array]",L="[object Object]",B=Object.prototype.hasOwnProperty;j.exports=function J(U,Z,X,ie,te,G){var V=b(U),z=b(Z),q=V?I:C(U),ae=z?I:C(Z),ue=(q=q==R?L:q)==L,oe=(ae=ae==R?L:ae)==L,de=q==ae;if(de&&M(U)){if(!M(Z))return!1;V=!0,ue=!1}if(de&&!ue)return G||(G=new _),V||D(U)?A(U,Z,X,ie,te,G):x(U,Z,q,X,ie,te,G);if(!(1&X)){var we=ue&&B.call(U,"__wrapped__"),fe=oe&&B.call(Z,"__wrapped__");if(we||fe){var je=we?U.value():U,Ve=fe?Z.value():Z;return G||(G=new _),te(je,Ve,X,ie,G)}}return!!de&&(G||(G=new _),E(U,Z,X,ie,te,G))}},7021:(j,ee,v)=>{var _=v(8794),A=v(2671);j.exports=function E(C){return A(C)&&"[object Map]"==_(C)}},431:(j,ee,v)=>{var _=v(2858),A=v(5740);j.exports=function C(b,M,D,P){var R=D.length,I=R,L=!P;if(null==b)return!I;for(b=Object(b);R--;){var N=D[R];if(L&&N[2]?N[1]!==b[N[0]]:!(N[0]in b))return!1}for(;++R<I;){var B=(N=D[R])[0],J=b[B],U=N[1];if(L&&N[2]){if(void 0===J&&!(B in b))return!1}else{var Z=new _;if(P)var X=P(J,U,B,b,M,Z);if(!(void 0===X?A(U,J,3,P,Z):X))return!1}}return!0}},968:j=>{j.exports=function ee(v){return v!=v}},7304:(j,ee,v)=>{var _=v(5946),A=v(1943),x=v(5940),E=v(2827),b=/^\[object .+?Constructor\]$/,I=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");j.exports=function L(N){return!(!x(N)||A(N))&&(_(N)?I:b).test(E(N))}},771:(j,ee,v)=>{var _=v(8794),A=v(2671);j.exports=function E(C){return A(C)&&"[object Set]"==_(C)}},1083:(j,ee,v)=>{var _=v(3337),A=v(6231),x=v(2671),de={};de["[object Float32Array]"]=de["[object Float64Array]"]=de["[object Int8Array]"]=de["[object Int16Array]"]=de["[object Int32Array]"]=de["[object Uint8Array]"]=de["[object Uint8ClampedArray]"]=de["[object Uint16Array]"]=de["[object Uint32Array]"]=!0,de["[object Arguments]"]=de["[object Array]"]=de["[object ArrayBuffer]"]=de["[object Boolean]"]=de["[object DataView]"]=de["[object Date]"]=de["[object Error]"]=de["[object Function]"]=de["[object Map]"]=de["[object Number]"]=de["[object Object]"]=de["[object RegExp]"]=de["[object Set]"]=de["[object String]"]=de["[object WeakMap]"]=!1,j.exports=function we(fe){return x(fe)&&A(fe.length)&&!!de[_(fe)]}},6517:(j,ee,v)=>{var _=v(8133),A=v(9458),x=v(2608),E=v(1503),C=v(7495);j.exports=function b(M){return"function"==typeof M?M:null==M?x:"object"==typeof M?E(M)?A(M[0],M[1]):_(M):C(M)}},1172:(j,ee,v)=>{var _=v(5488),A=v(5491),E=Object.prototype.hasOwnProperty;j.exports=function C(b){if(!_(b))return A(b);var M=[];for(var D in Object(b))E.call(b,D)&&"constructor"!=D&&M.push(D);return M}},2809:(j,ee,v)=>{var _=v(5940),A=v(5488),x=v(2158),C=Object.prototype.hasOwnProperty;j.exports=function b(M){if(!_(M))return x(M);var D=A(M),P=[];for(var R in M)"constructor"==R&&(D||!C.call(M,R))||P.push(R);return P}},9069:j=>{j.exports=function ee(v,_){return v<_}},2046:(j,ee,v)=>{var _=v(3132),A=v(6507);j.exports=function x(E,C){var b=-1,M=A(E)?Array(E.length):[];return _(E,function(D,P,R){M[++b]=C(D,P,R)}),M}},8133:(j,ee,v)=>{var _=v(431),A=v(2379),x=v(642);j.exports=function E(C){var b=A(C);return 1==b.length&&b[0][2]?x(b[0][0],b[0][1]):function(M){return M===C||_(M,C,b)}}},9458:(j,ee,v)=>{var _=v(5740),A=v(8817),x=v(8492),E=v(5352),C=v(2442),b=v(642),M=v(8533);j.exports=function R(I,L){return E(I)&&C(L)?b(M(I),L):function(N){var B=A(N,I);return void 0===B&&B===L?x(N,I):_(L,B,3)}}},3842:(j,ee,v)=>{var _=v(2858),A=v(9276),x=v(755),E=v(3675),C=v(5940),b=v(6555),M=v(9351);j.exports=function D(P,R,I,L,N){P!==R&&x(R,function(B,J){if(N||(N=new _),C(B))E(P,R,J,I,D,L,N);else{var U=L?L(M(P,J),B,J+"",P,R,N):void 0;void 0===U&&(U=B),A(P,J,U)}},b)}},3675:(j,ee,v)=>{var _=v(9276),A=v(9292),x=v(5208),E=v(9454),C=v(4264),b=v(7151),M=v(1503),D=v(1330),P=v(891),R=v(5946),I=v(5940),L=v(7614),N=v(8159),B=v(9351),J=v(8067);j.exports=function U(Z,X,ie,te,G,V,z){var q=B(Z,ie),ae=B(X,ie),ue=z.get(ae);if(ue)_(Z,ie,ue);else{var oe=V?V(q,ae,ie+"",Z,X,z):void 0,de=void 0===oe;if(de){var we=M(ae),fe=!we&&P(ae),je=!we&&!fe&&N(ae);oe=ae,we||fe||je?M(q)?oe=q:D(q)?oe=E(q):fe?(de=!1,oe=A(ae,!0)):je?(de=!1,oe=x(ae,!0)):oe=[]:L(ae)||b(ae)?(oe=q,b(q)?oe=J(q):(!I(q)||R(q))&&(oe=C(ae))):de=!1}de&&(z.set(ae,oe),G(oe,ae,te,V,z),z.delete(ae)),_(Z,ie,oe)}}},6119:(j,ee,v)=>{var _=v(4633),A=v(5456),x=v(6517),E=v(2046),C=v(8750),b=v(5647),M=v(1215),D=v(2608),P=v(1503);j.exports=function R(I,L,N){L=L.length?_(L,function(U){return P(U)?function(Z){return A(Z,1===U.length?U[0]:U)}:U}):[D];var B=-1;L=_(L,b(x));var J=E(I,function(U,Z,X){return{criteria:_(L,function(te){return te(U)}),index:++B,value:U}});return C(J,function(U,Z){return M(U,Z,N)})}},3021:(j,ee,v)=>{var _=v(5495),A=v(8492);j.exports=function x(E,C){return _(E,C,function(b,M){return A(E,M)})}},5495:(j,ee,v)=>{var _=v(5456),A=v(5963),x=v(6884);j.exports=function E(C,b,M){for(var D=-1,P=b.length,R={};++D<P;){var I=b[D],L=_(C,I);M(L,I)&&A(R,x(I,C),L)}return R}},1847:j=>{j.exports=function ee(v){return function(_){return _?.[v]}}},9222:(j,ee,v)=>{var _=v(5456);j.exports=function A(x){return function(E){return _(E,x)}}},6307:j=>{var ee=Math.ceil,v=Math.max;j.exports=function _(A,x,E,C){for(var b=-1,M=v(ee((x-A)/(E||1)),0),D=Array(M);M--;)D[C?M:++b]=A,A+=E;return D}},3570:j=>{j.exports=function ee(v,_,A,x,E){return E(v,function(C,b,M){A=x?(x=!1,C):_(A,C,b,M)}),A}},3269:(j,ee,v)=>{var _=v(2608),A=v(3983),x=v(2185);j.exports=function E(C,b){return x(A(C,b,_),C+"")}},5963:(j,ee,v)=>{var _=v(9719),A=v(6884),x=v(8442),E=v(5940),C=v(8533);j.exports=function b(M,D,P,R){if(!E(M))return M;for(var I=-1,L=(D=A(D,M)).length,N=L-1,B=M;null!=B&&++I<L;){var J=C(D[I]),U=P;if("__proto__"===J||"constructor"===J||"prototype"===J)return M;if(I!=N){var Z=B[J];void 0===(U=R?R(Z,J,B):void 0)&&(U=E(Z)?Z:x(D[I+1])?[]:{})}_(B,J,U),B=B[J]}return M}},9510:(j,ee,v)=>{var _=v(6684),A=v(6713),x=v(2608);j.exports=A?function(C,b){return A(C,"toString",{configurable:!0,enumerable:!1,value:_(b),writable:!0})}:x},8750:j=>{j.exports=function ee(v,_){var A=v.length;for(v.sort(_);A--;)v[A]=v[A].value;return v}},5334:j=>{j.exports=function ee(v,_){for(var A=-1,x=Array(v);++A<v;)x[A]=_(A);return x}},3935:(j,ee,v)=>{var _=v(443),A=v(4633),x=v(1503),E=v(4129),b=_?_.prototype:void 0,M=b?b.toString:void 0;j.exports=function D(P){if("string"==typeof P)return P;if(x(P))return A(P,D)+"";if(E(P))return M?M.call(P):"";var R=P+"";return"0"==R&&1/P==-Infinity?"-0":R}},3348:(j,ee,v)=>{var _=v(2760),A=/^\s+/;j.exports=function x(E){return E&&E.slice(0,_(E)+1).replace(A,"")}},5647:j=>{j.exports=function ee(v){return function(_){return v(_)}}},707:(j,ee,v)=>{var _=v(8849),A=v(1253),x=v(177),E=v(5972),C=v(4575),b=v(4174);j.exports=function D(P,R,I){var L=-1,N=A,B=P.length,J=!0,U=[],Z=U;if(I)J=!1,N=x;else if(B>=200){var X=R?null:C(P);if(X)return b(X);J=!1,N=E,Z=new _}else Z=R?[]:U;e:for(;++L<B;){var ie=P[L],te=R?R(ie):ie;if(ie=I||0!==ie?ie:0,J&&te==te){for(var G=Z.length;G--;)if(Z[G]===te)continue e;R&&Z.push(te),U.push(ie)}else N(Z,te,I)||(Z!==U&&Z.push(te),U.push(ie))}return U}},9179:(j,ee,v)=>{var _=v(4633);j.exports=function A(x,E){return _(E,function(C){return x[C]})}},8645:j=>{j.exports=function ee(v,_,A){for(var x=-1,E=v.length,C=_.length,b={};++x<E;)A(b,v[x],x<C?_[x]:void 0);return b}},5972:j=>{j.exports=function ee(v,_){return v.has(_)}},1481:(j,ee,v)=>{var _=v(2608);j.exports=function A(x){return"function"==typeof x?x:_}},6884:(j,ee,v)=>{var _=v(1503),A=v(5352),x=v(2855),E=v(3943);j.exports=function C(b,M){return _(b)?b:A(b,M)?[b]:x(E(b))}},3362:(j,ee,v)=>{var _=v(3457);j.exports=function A(x){var E=new x.constructor(x.byteLength);return new _(E).set(new _(x)),E}},9292:(j,ee,v)=>{j=v.nmd(j);var _=v(2119),A=ee&&!ee.nodeType&&ee,x=A&&j&&!j.nodeType&&j,C=x&&x.exports===A?_.Buffer:void 0,b=C?C.allocUnsafe:void 0;j.exports=function M(D,P){if(P)return D.slice();var R=D.length,I=b?b(R):new D.constructor(R);return D.copy(I),I}},7e3:(j,ee,v)=>{var _=v(3362);j.exports=function A(x,E){var C=E?_(x.buffer):x.buffer;return new x.constructor(C,x.byteOffset,x.byteLength)}},4098:j=>{var ee=/\w*$/;j.exports=function v(_){var A=new _.constructor(_.source,ee.exec(_));return A.lastIndex=_.lastIndex,A}},2533:(j,ee,v)=>{var _=v(443),A=_?_.prototype:void 0,x=A?A.valueOf:void 0;j.exports=function E(C){return x?Object(x.call(C)):{}}},5208:(j,ee,v)=>{var _=v(3362);j.exports=function A(x,E){var C=E?_(x.buffer):x.buffer;return new x.constructor(C,x.byteOffset,x.length)}},3443:(j,ee,v)=>{var _=v(4129);j.exports=function A(x,E){if(x!==E){var C=void 0!==x,b=null===x,M=x==x,D=_(x),P=void 0!==E,R=null===E,I=E==E,L=_(E);if(!R&&!L&&!D&&x>E||D&&P&&I&&!R&&!L||b&&P&&I||!C&&I||!M)return 1;if(!b&&!D&&!L&&x<E||L&&C&&M&&!b&&!D||R&&C&&M||!P&&M||!I)return-1}return 0}},1215:(j,ee,v)=>{var _=v(3443);j.exports=function A(x,E,C){for(var b=-1,M=x.criteria,D=E.criteria,P=M.length,R=C.length;++b<P;){var I=_(M[b],D[b]);if(I)return b>=R?I:I*("desc"==C[b]?-1:1)}return x.index-E.index}},9454:j=>{j.exports=function ee(v,_){var A=-1,x=v.length;for(_||(_=Array(x));++A<x;)_[A]=v[A];return _}},1989:(j,ee,v)=>{var _=v(9719),A=v(5683);j.exports=function x(E,C,b,M){var D=!b;b||(b={});for(var P=-1,R=C.length;++P<R;){var I=C[P],L=M?M(b[I],E[I],I,b,E):void 0;void 0===L&&(L=E[I]),D?A(b,I,L):_(b,I,L)}return b}},4444:(j,ee,v)=>{var _=v(1989),A=v(9383);j.exports=function x(E,C){return _(E,A(E),C)}},9905:(j,ee,v)=>{var _=v(1989),A=v(3051);j.exports=function x(E,C){return _(E,A(E),C)}},4610:(j,ee,v)=>{var _=v(2119);j.exports=_["__core-js_shared__"]},4944:(j,ee,v)=>{var _=v(3269),A=v(3342);j.exports=function x(E){return _(function(C,b){var M=-1,D=b.length,P=D>1?b[D-1]:void 0,R=D>2?b[2]:void 0;for(P=E.length>3&&"function"==typeof P?(D--,P):void 0,R&&A(b[0],b[1],R)&&(P=D<3?void 0:P,D=1),C=Object(C);++M<D;){var I=b[M];I&&E(C,I,M,P)}return C})}},6539:(j,ee,v)=>{var _=v(6507);j.exports=function A(x,E){return function(C,b){if(null==C)return C;if(!_(C))return x(C,b);for(var M=C.length,D=E?M:-1,P=Object(C);(E?D--:++D<M)&&!1!==b(P[D],D,P););return C}}},456:j=>{j.exports=function ee(v){return function(_,A,x){for(var E=-1,C=Object(_),b=x(_),M=b.length;M--;){var D=b[v?M:++E];if(!1===A(C[D],D,C))break}return _}}},4653:(j,ee,v)=>{var _=v(6517),A=v(6507),x=v(118);j.exports=function E(C){return function(b,M,D){var P=Object(b);if(!A(b)){var R=_(M,3);b=x(b),M=function(L){return R(P[L],L,P)}}var I=C(b,M,D);return I>-1?P[R?b[I]:I]:void 0}}},7509:(j,ee,v)=>{var _=v(6307),A=v(3342),x=v(2232);j.exports=function E(C){return function(b,M,D){return D&&"number"!=typeof D&&A(b,M,D)&&(M=D=void 0),b=x(b),void 0===M?(M=b,b=0):M=x(M),D=void 0===D?b<M?1:-1:x(D),_(b,M,D,C)}}},4575:(j,ee,v)=>{var _=v(6323),A=v(2552),x=v(4174),C=_&&1/x(new _([,-0]))[1]==1/0?function(b){return new _(b)}:A;j.exports=C},6713:(j,ee,v)=>{var _=v(3436),A=function(){try{var x=_(Object,"defineProperty");return x({},"",{}),x}catch{}}();j.exports=A},3914:(j,ee,v)=>{var _=v(8849),A=v(9503),x=v(5972);j.exports=function b(M,D,P,R,I,L){var N=1&P,B=M.length,J=D.length;if(B!=J&&!(N&&J>B))return!1;var U=L.get(M),Z=L.get(D);if(U&&Z)return U==D&&Z==M;var X=-1,ie=!0,te=2&P?new _:void 0;for(L.set(M,D),L.set(D,M);++X<B;){var G=M[X],V=D[X];if(R)var z=N?R(V,G,X,D,M,L):R(G,V,X,M,D,L);if(void 0!==z){if(z)continue;ie=!1;break}if(te){if(!A(D,function(q,ae){if(!x(te,ae)&&(G===q||I(G,q,P,R,L)))return te.push(ae)})){ie=!1;break}}else if(G!==V&&!I(G,V,P,R,L)){ie=!1;break}}return L.delete(M),L.delete(D),ie}},8583:(j,ee,v)=>{var _=v(443),A=v(3457),x=v(217),E=v(3914),C=v(3205),b=v(4174),te=_?_.prototype:void 0,G=te?te.valueOf:void 0;j.exports=function V(z,q,ae,ue,oe,de,we){switch(ae){case"[object DataView]":if(z.byteLength!=q.byteLength||z.byteOffset!=q.byteOffset)return!1;z=z.buffer,q=q.buffer;case"[object ArrayBuffer]":return!(z.byteLength!=q.byteLength||!de(new A(z),new A(q)));case"[object Boolean]":case"[object Date]":case"[object Number]":return x(+z,+q);case"[object Error]":return z.name==q.name&&z.message==q.message;case"[object RegExp]":case"[object String]":return z==q+"";case"[object Map]":var fe=C;case"[object Set]":if(fe||(fe=b),z.size!=q.size&&!(1&ue))return!1;var Ve=we.get(z);if(Ve)return Ve==q;ue|=2,we.set(z,q);var _e=E(fe(z),fe(q),ue,oe,de,we);return we.delete(z),_e;case"[object Symbol]":if(G)return G.call(z)==G.call(q)}return!1}},2286:(j,ee,v)=>{var _=v(7597),E=Object.prototype.hasOwnProperty;j.exports=function C(b,M,D,P,R,I){var L=1&D,N=_(b),B=N.length;if(B!=_(M).length&&!L)return!1;for(var Z=B;Z--;){var X=N[Z];if(!(L?X in M:E.call(M,X)))return!1}var ie=I.get(b),te=I.get(M);if(ie&&te)return ie==M&&te==b;var G=!0;I.set(b,M),I.set(M,b);for(var V=L;++Z<B;){var z=b[X=N[Z]],q=M[X];if(P)var ae=L?P(q,z,X,M,b,I):P(z,q,X,b,M,I);if(!(void 0===ae?z===q||R(z,q,D,P,I):ae)){G=!1;break}V||(V="constructor"==X)}if(G&&!V){var ue=b.constructor,oe=M.constructor;ue!=oe&&"constructor"in b&&"constructor"in M&&!("function"==typeof ue&&ue instanceof ue&&"function"==typeof oe&&oe instanceof oe)&&(G=!1)}return I.delete(b),I.delete(M),G}},3975:(j,ee,v)=>{var _=v(2274),A=v(3983),x=v(2185);j.exports=function E(C){return x(A(C,void 0,_),C+"")}},9122:j=>{var ee="object"==typeof global&&global&&global.Object===Object&&global;j.exports=ee},7597:(j,ee,v)=>{var _=v(8247),A=v(9383),x=v(118);j.exports=function E(C){return _(C,x,A)}},6967:(j,ee,v)=>{var _=v(8247),A=v(3051),x=v(6555);j.exports=function E(C){return _(C,x,A)}},4537:(j,ee,v)=>{var _=v(3819);j.exports=function A(x,E){var C=x.__data__;return _(E)?C["string"==typeof E?"string":"hash"]:C.map}},2379:(j,ee,v)=>{var _=v(2442),A=v(118);j.exports=function x(E){for(var C=A(E),b=C.length;b--;){var M=C[b],D=E[M];C[b]=[M,D,_(D)]}return C}},3436:(j,ee,v)=>{var _=v(7304),A=v(1990);j.exports=function x(E,C){var b=A(E,C);return _(b)?b:void 0}},9519:(j,ee,v)=>{var A=v(9385)(Object.getPrototypeOf,Object);j.exports=A},1318:(j,ee,v)=>{var _=v(443),A=Object.prototype,x=A.hasOwnProperty,E=A.toString,C=_?_.toStringTag:void 0;j.exports=function b(M){var D=x.call(M,C),P=M[C];try{M[C]=void 0;var R=!0}catch{}var I=E.call(M);return R&&(D?M[C]=P:delete M[C]),I}},9383:(j,ee,v)=>{var _=v(9779),A=v(9975),E=Object.prototype.propertyIsEnumerable,C=Object.getOwnPropertySymbols;j.exports=C?function(M){return null==M?[]:(M=Object(M),_(C(M),function(D){return E.call(M,D)}))}:A},3051:(j,ee,v)=>{var _=v(5059),A=v(9519),x=v(9383),E=v(9975);j.exports=Object.getOwnPropertySymbols?function(M){for(var D=[];M;)_(D,x(M)),M=A(M);return D}:E},8794:(j,ee,v)=>{var _=v(7244),A=v(1501),x=v(4267),E=v(6323),C=v(4243),b=v(3337),M=v(2827),D="[object Map]",R="[object Promise]",I="[object Set]",L="[object WeakMap]",N="[object DataView]",B=M(_),J=M(A),U=M(x),Z=M(E),X=M(C),ie=b;(_&&ie(new _(new ArrayBuffer(1)))!=N||A&&ie(new A)!=D||x&&ie(x.resolve())!=R||E&&ie(new E)!=I||C&&ie(new C)!=L)&&(ie=function(te){var G=b(te),V="[object Object]"==G?te.constructor:void 0,z=V?M(V):"";if(z)switch(z){case B:return N;case J:return D;case U:return R;case Z:return I;case X:return L}return G}),j.exports=ie},1990:j=>{j.exports=function ee(v,_){return v?.[_]}},7283:(j,ee,v)=>{var _=v(6884),A=v(7151),x=v(1503),E=v(8442),C=v(6231),b=v(8533);j.exports=function M(D,P,R){for(var I=-1,L=(P=_(P,D)).length,N=!1;++I<L;){var B=b(P[I]);if(!(N=null!=D&&R(D,B)))break;D=D[B]}return N||++I!=L?N:!!(L=null==D?0:D.length)&&C(L)&&E(B,L)&&(x(D)||A(D))}},7609:j=>{var b=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");j.exports=function M(D){return b.test(D)}},4312:(j,ee,v)=>{var _=v(862);j.exports=function A(){this.__data__=_?_(null):{},this.size=0}},6421:j=>{j.exports=function ee(v){var _=this.has(v)&&delete this.__data__[v];return this.size-=_?1:0,_}},5764:(j,ee,v)=>{var _=v(862),E=Object.prototype.hasOwnProperty;j.exports=function C(b){var M=this.__data__;if(_){var D=M[b];return"__lodash_hash_undefined__"===D?void 0:D}return E.call(M,b)?M[b]:void 0}},8685:(j,ee,v)=>{var _=v(862),x=Object.prototype.hasOwnProperty;j.exports=function E(C){var b=this.__data__;return _?void 0!==b[C]:x.call(b,C)}},6676:(j,ee,v)=>{var _=v(862);j.exports=function x(E,C){var b=this.__data__;return this.size+=this.has(E)?0:1,b[E]=_&&void 0===C?"__lodash_hash_undefined__":C,this}},6782:j=>{var v=Object.prototype.hasOwnProperty;j.exports=function _(A){var x=A.length,E=new A.constructor(x);return x&&"string"==typeof A[0]&&v.call(A,"index")&&(E.index=A.index,E.input=A.input),E}},7878:(j,ee,v)=>{var _=v(3362),A=v(7e3),x=v(4098),E=v(2533),C=v(5208);j.exports=function ae(ue,oe,de){var we=ue.constructor;switch(oe){case"[object ArrayBuffer]":return _(ue);case"[object Boolean]":case"[object Date]":return new we(+ue);case"[object DataView]":return A(ue,de);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return C(ue,de);case"[object Map]":case"[object Set]":return new we;case"[object Number]":case"[object String]":return new we(ue);case"[object RegExp]":return x(ue);case"[object Symbol]":return E(ue)}}},4264:(j,ee,v)=>{var _=v(8858),A=v(9519),x=v(5488);j.exports=function E(C){return"function"!=typeof C.constructor||x(C)?{}:_(A(C))}},5039:(j,ee,v)=>{var _=v(443),A=v(7151),x=v(1503),E=_?_.isConcatSpreadable:void 0;j.exports=function C(b){return x(b)||A(b)||!!(E&&b&&b[E])}},8442:j=>{var v=/^(?:0|[1-9]\d*)$/;j.exports=function _(A,x){var E=typeof A;return!!(x=x??9007199254740991)&&("number"==E||"symbol"!=E&&v.test(A))&&A>-1&&A%1==0&&A<x}},3342:(j,ee,v)=>{var _=v(217),A=v(6507),x=v(8442),E=v(5940);j.exports=function C(b,M,D){if(!E(D))return!1;var P=typeof M;return!!("number"==P?A(D)&&x(M,D.length):"string"==P&&M in D)&&_(D[M],b)}},5352:(j,ee,v)=>{var _=v(1503),A=v(4129),x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/;j.exports=function C(b,M){if(_(b))return!1;var D=typeof b;return!("number"!=D&&"symbol"!=D&&"boolean"!=D&&null!=b&&!A(b))||E.test(b)||!x.test(b)||null!=M&&b in Object(M)}},3819:j=>{j.exports=function ee(v){var _=typeof v;return"string"==_||"number"==_||"symbol"==_||"boolean"==_?"__proto__"!==v:null===v}},1943:(j,ee,v)=>{var E,_=v(4610),A=(E=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"";j.exports=function x(E){return!!A&&A in E}},5488:j=>{var ee=Object.prototype;j.exports=function v(_){var A=_&&_.constructor;return _===("function"==typeof A&&A.prototype||ee)}},2442:(j,ee,v)=>{var _=v(5940);j.exports=function A(x){return x==x&&!_(x)}},1840:j=>{j.exports=function ee(){this.__data__=[],this.size=0}},4378:(j,ee,v)=>{var _=v(3503),x=Array.prototype.splice;j.exports=function E(C){var b=this.__data__,M=_(b,C);return!(M<0||(M==b.length-1?b.pop():x.call(b,M,1),--this.size,0))}},4981:(j,ee,v)=>{var _=v(3503);j.exports=function A(x){var E=this.__data__,C=_(E,x);return C<0?void 0:E[C][1]}},7343:(j,ee,v)=>{var _=v(3503);j.exports=function A(x){return _(this.__data__,x)>-1}},8895:(j,ee,v)=>{var _=v(3503);j.exports=function A(x,E){var C=this.__data__,b=_(C,x);return b<0?(++this.size,C.push([x,E])):C[b][1]=E,this}},638:(j,ee,v)=>{var _=v(4994),A=v(9215),x=v(1501);j.exports=function E(){this.size=0,this.__data__={hash:new _,map:new(x||A),string:new _}}},1184:(j,ee,v)=>{var _=v(4537);j.exports=function A(x){var E=_(this,x).delete(x);return this.size-=E?1:0,E}},866:(j,ee,v)=>{var _=v(4537);j.exports=function A(x){return _(this,x).get(x)}},3771:(j,ee,v)=>{var _=v(4537);j.exports=function A(x){return _(this,x).has(x)}},1772:(j,ee,v)=>{var _=v(4537);j.exports=function A(x,E){var C=_(this,x),b=C.size;return C.set(x,E),this.size+=C.size==b?0:1,this}},3205:j=>{j.exports=function ee(v){var _=-1,A=Array(v.size);return v.forEach(function(x,E){A[++_]=[E,x]}),A}},642:j=>{j.exports=function ee(v,_){return function(A){return null!=A&&A[v]===_&&(void 0!==_||v in Object(A))}}},719:(j,ee,v)=>{var _=v(535);j.exports=function x(E){var C=_(E,function(M){return 500===b.size&&b.clear(),M}),b=C.cache;return C}},862:(j,ee,v)=>{var A=v(3436)(Object,"create");j.exports=A},5491:(j,ee,v)=>{var A=v(9385)(Object.keys,Object);j.exports=A},2158:j=>{j.exports=function ee(v){var _=[];if(null!=v)for(var A in Object(v))_.push(A);return _}},3597:(j,ee,v)=>{j=v.nmd(j);var _=v(9122),A=ee&&!ee.nodeType&&ee,x=A&&j&&!j.nodeType&&j,C=x&&x.exports===A&&_.process,b=function(){try{return x&&x.require&&x.require("util").types||C&&C.binding&&C.binding("util")}catch{}}();j.exports=b},2902:j=>{var v=Object.prototype.toString;j.exports=function _(A){return v.call(A)}},9385:j=>{j.exports=function ee(v,_){return function(A){return v(_(A))}}},3983:(j,ee,v)=>{var _=v(6999),A=Math.max;j.exports=function x(E,C,b){return C=A(void 0===C?E.length-1:C,0),function(){for(var M=arguments,D=-1,P=A(M.length-C,0),R=Array(P);++D<P;)R[D]=M[C+D];D=-1;for(var I=Array(C+1);++D<C;)I[D]=M[D];return I[C]=b(R),_(E,this,I)}}},2119:(j,ee,v)=>{var _=v(9122),A="object"==typeof self&&self&&self.Object===Object&&self,x=_||A||Function("return this")();j.exports=x},9351:j=>{j.exports=function ee(v,_){if(("constructor"!==_||"function"!=typeof v[_])&&"__proto__"!=_)return v[_]}},4600:j=>{j.exports=function v(_){return this.__data__.set(_,"__lodash_hash_undefined__"),this}},1387:j=>{j.exports=function ee(v){return this.__data__.has(v)}},4174:j=>{j.exports=function ee(v){var _=-1,A=Array(v.size);return v.forEach(function(x){A[++_]=x}),A}},2185:(j,ee,v)=>{var _=v(9510),x=v(29)(_);j.exports=x},29:j=>{var ee=800,v=16,_=Date.now;j.exports=function A(x){var E=0,C=0;return function(){var b=_(),M=v-(b-C);if(C=b,M>0){if(++E>=ee)return arguments[0]}else E=0;return x.apply(void 0,arguments)}}},3720:(j,ee,v)=>{var _=v(9215);j.exports=function A(){this.__data__=new _,this.size=0}},4410:j=>{j.exports=function ee(v){var _=this.__data__,A=_.delete(v);return this.size=_.size,A}},5576:j=>{j.exports=function ee(v){return this.__data__.get(v)}},2247:j=>{j.exports=function ee(v){return this.__data__.has(v)}},1585:(j,ee,v)=>{var _=v(9215),A=v(1501),x=v(9850);j.exports=function C(b,M){var D=this.__data__;if(D instanceof _){var P=D.__data__;if(!A||P.length<199)return P.push([b,M]),this.size=++D.size,this;D=this.__data__=new x(P)}return D.set(b,M),this.size=D.size,this}},4977:j=>{j.exports=function ee(v,_,A){for(var x=A-1,E=v.length;++x<E;)if(v[x]===_)return x;return-1}},2315:(j,ee,v)=>{var _=v(5481),A=v(7609),x=v(1149);j.exports=function E(C){return A(C)?x(C):_(C)}},2855:(j,ee,v)=>{var _=v(719),A=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x=/\\(\\)?/g,E=_(function(C){var b=[];return 46===C.charCodeAt(0)&&b.push(""),C.replace(A,function(M,D,P,R){b.push(P?R.replace(x,"$1"):D||M)}),b});j.exports=E},8533:(j,ee,v)=>{var _=v(4129);j.exports=function x(E){if("string"==typeof E||_(E))return E;var C=E+"";return"0"==C&&1/E==-Infinity?"-0":C}},2827:j=>{var v=Function.prototype.toString;j.exports=function _(A){if(null!=A){try{return v.call(A)}catch{}try{return A+""}catch{}}return""}},2760:j=>{var ee=/\s/;j.exports=function v(_){for(var A=_.length;A--&&ee.test(_.charAt(A)););return A}},1149:j=>{var ee="\\ud800-\\udfff",C="["+ee+"]",b="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",M="\\ud83c[\\udffb-\\udfff]",P="[^"+ee+"]",R="(?:\\ud83c[\\udde6-\\uddff]){2}",I="[\\ud800-\\udbff][\\udc00-\\udfff]",N="(?:"+b+"|"+M+")?",B="[\\ufe0e\\ufe0f]?",U=B+N+"(?:\\u200d(?:"+[P,R,I].join("|")+")"+B+N+")*",Z="(?:"+[P+b+"?",b,R,I,C].join("|")+")",X=RegExp(M+"(?="+M+")|"+Z+U,"g");j.exports=function ie(te){for(var G=X.lastIndex=0;X.test(te);)++G;return G}},1094:(j,ee,v)=>{var _=v(4462);j.exports=function x(E){return _(E,4)}},733:(j,ee,v)=>{var _=v(4462);j.exports=function E(C){return _(C,5)}},6684:j=>{j.exports=function ee(v){return function(){return v}}},406:(j,ee,v)=>{var _=v(5940),A=v(1710),x=v(1467),C=Math.max,b=Math.min;j.exports=function M(D,P,R){var I,L,N,B,J,U,Z=0,X=!1,ie=!1,te=!0;if("function"!=typeof D)throw new TypeError("Expected a function");function G(fe){var je=I,Ve=L;return I=L=void 0,Z=fe,B=D.apply(Ve,je)}function q(fe){var je=fe-U;return void 0===U||je>=P||je<0||ie&&fe-Z>=N}function ae(){var fe=A();if(q(fe))return ue(fe);J=setTimeout(ae,function z(fe){var _e=P-(fe-U);return ie?b(_e,N-(fe-Z)):_e}(fe))}function ue(fe){return J=void 0,te&&I?G(fe):(I=L=void 0,B)}function we(){var fe=A(),je=q(fe);if(I=arguments,L=this,U=fe,je){if(void 0===J)return function V(fe){return Z=fe,J=setTimeout(ae,P),X?G(fe):B}(U);if(ie)return clearTimeout(J),J=setTimeout(ae,P),G(U)}return void 0===J&&(J=setTimeout(ae,P)),B}return P=x(P)||0,_(R)&&(X=!!R.leading,N=(ie="maxWait"in R)?C(x(R.maxWait)||0,P):N,te="trailing"in R?!!R.trailing:te),we.cancel=function oe(){void 0!==J&&clearTimeout(J),Z=0,I=U=L=J=void 0},we.flush=function de(){return void 0===J?B:ue(A())},we}},8800:(j,ee,v)=>{var _=v(3269),A=v(217),x=v(3342),E=v(6555),C=Object.prototype,b=C.hasOwnProperty,M=_(function(D,P){D=Object(D);var R=-1,I=P.length,L=I>2?P[2]:void 0;for(L&&x(P[0],P[1],L)&&(I=1);++R<I;)for(var N=P[R],B=E(N),J=-1,U=B.length;++J<U;){var Z=B[J],X=D[Z];(void 0===X||A(X,C[Z])&&!b.call(D,Z))&&(D[Z]=N[Z])}return D});j.exports=M},5474:(j,ee,v)=>{j.exports=v(9851)},217:j=>{j.exports=function ee(v,_){return v===_||v!=v&&_!=_}},5281:(j,ee,v)=>{var _=v(9779),A=v(3609),x=v(6517),E=v(1503);j.exports=function C(b,M){return(E(b)?_:A)(b,x(M,3))}},2516:(j,ee,v)=>{var x=v(4653)(v(6397));j.exports=x},6397:(j,ee,v)=>{var _=v(5317),A=v(6517),x=v(4401),E=Math.max;j.exports=function C(b,M,D){var P=null==b?0:b.length;if(!P)return-1;var R=null==D?0:x(D);return R<0&&(R=E(P+R,0)),_(b,A(M,3),R)}},2274:(j,ee,v)=>{var _=v(686);j.exports=function A(x){return null!=x&&x.length?_(x,1):[]}},9851:(j,ee,v)=>{var _=v(6837),A=v(3132),x=v(1481),E=v(1503);j.exports=function C(b,M){return(E(b)?_:A)(b,x(M))}},1176:(j,ee,v)=>{var _=v(755),A=v(1481),x=v(6555);j.exports=function E(C,b){return null==C?C:_(C,A(b),x)}},8817:(j,ee,v)=>{var _=v(5456);j.exports=function A(x,E,C){var b=null==x?void 0:_(x,E);return void 0===b?C:b}},4842:(j,ee,v)=>{var _=v(4781),A=v(7283);j.exports=function x(E,C){return null!=E&&A(E,C,_)}},8492:(j,ee,v)=>{var _=v(9989),A=v(7283);j.exports=function x(E,C){return null!=E&&A(E,C,_)}},2608:j=>{j.exports=function ee(v){return v}},7151:(j,ee,v)=>{var _=v(186),A=v(2671),x=Object.prototype,E=x.hasOwnProperty,C=x.propertyIsEnumerable,b=_(function(){return arguments}())?_:function(M){return A(M)&&E.call(M,"callee")&&!C.call(M,"callee")};j.exports=b},1503:j=>{j.exports=Array.isArray},6507:(j,ee,v)=>{var _=v(5946),A=v(6231);j.exports=function x(E){return null!=E&&A(E.length)&&!_(E)}},1330:(j,ee,v)=>{var _=v(6507),A=v(2671);j.exports=function x(E){return A(E)&&_(E)}},891:(j,ee,v)=>{j=v.nmd(j);var _=v(2119),A=v(3580),x=ee&&!ee.nodeType&&ee,E=x&&j&&!j.nodeType&&j,b=E&&E.exports===x?_.Buffer:void 0;j.exports=(b?b.isBuffer:void 0)||A},1973:(j,ee,v)=>{var _=v(1172),A=v(8794),x=v(7151),E=v(1503),C=v(6507),b=v(891),M=v(5488),D=v(8159),L=Object.prototype.hasOwnProperty;j.exports=function N(B){if(null==B)return!0;if(C(B)&&(E(B)||"string"==typeof B||"function"==typeof B.splice||b(B)||D(B)||x(B)))return!B.length;var J=A(B);if("[object Map]"==J||"[object Set]"==J)return!B.size;if(M(B))return!_(B).length;for(var U in B)if(L.call(B,U))return!1;return!0}},5946:(j,ee,v)=>{var _=v(3337),A=v(5940);j.exports=function M(D){if(!A(D))return!1;var P=_(D);return"[object Function]"==P||"[object GeneratorFunction]"==P||"[object AsyncFunction]"==P||"[object Proxy]"==P}},6231:j=>{j.exports=function v(_){return"number"==typeof _&&_>-1&&_%1==0&&_<=9007199254740991}},3222:(j,ee,v)=>{var _=v(7021),A=v(5647),x=v(3597),E=x&&x.isMap,C=E?A(E):_;j.exports=C},5940:j=>{j.exports=function ee(v){var _=typeof v;return null!=v&&("object"==_||"function"==_)}},2671:j=>{j.exports=function ee(v){return null!=v&&"object"==typeof v}},7614:(j,ee,v)=>{var _=v(3337),A=v(9519),x=v(2671),M=Function.prototype.toString,D=Object.prototype.hasOwnProperty,P=M.call(Object);j.exports=function R(I){if(!x(I)||"[object Object]"!=_(I))return!1;var L=A(I);if(null===L)return!0;var N=D.call(L,"constructor")&&L.constructor;return"function"==typeof N&&N instanceof N&&M.call(N)==P}},799:(j,ee,v)=>{var _=v(771),A=v(5647),x=v(3597),E=x&&x.isSet,C=E?A(E):_;j.exports=C},248:(j,ee,v)=>{var _=v(3337),A=v(1503),x=v(2671);j.exports=function C(b){return"string"==typeof b||!A(b)&&x(b)&&"[object String]"==_(b)}},4129:(j,ee,v)=>{var _=v(3337),A=v(2671);j.exports=function E(C){return"symbol"==typeof C||A(C)&&"[object Symbol]"==_(C)}},8159:(j,ee,v)=>{var _=v(1083),A=v(5647),x=v(3597),E=x&&x.isTypedArray,C=E?A(E):_;j.exports=C},4235:j=>{j.exports=function ee(v){return void 0===v}},118:(j,ee,v)=>{var _=v(2271),A=v(1172),x=v(6507);j.exports=function E(C){return x(C)?_(C):A(C)}},6555:(j,ee,v)=>{var _=v(2271),A=v(2809),x=v(6507);j.exports=function E(C){return x(C)?_(C,!0):A(C)}},5809:j=>{j.exports=function ee(v){var _=null==v?0:v.length;return _?v[_-1]:void 0}},9984:(j,ee,v)=>{var _=v(4633),A=v(6517),x=v(2046),E=v(1503);j.exports=function C(b,M){return(E(b)?_:x)(b,A(M,3))}},203:(j,ee,v)=>{var _=v(5683),A=v(5184),x=v(6517);j.exports=function E(C,b){var M={};return b=x(b,3),A(C,function(D,P,R){_(M,P,b(D,P,R))}),M}},8176:(j,ee,v)=>{var _=v(7308),A=v(1100),x=v(2608);j.exports=function E(C){return C&&C.length?_(C,x,A):void 0}},535:(j,ee,v)=>{var _=v(9850),A="Expected a function";function x(E,C){if("function"!=typeof E||null!=C&&"function"!=typeof C)throw new TypeError(A);var b=function(){var M=arguments,D=C?C.apply(this,M):M[0],P=b.cache;if(P.has(D))return P.get(D);var R=E.apply(this,M);return b.cache=P.set(D,R)||P,R};return b.cache=new(x.Cache||_),b}x.Cache=_,j.exports=x},567:(j,ee,v)=>{var _=v(3842),x=v(4944)(function(E,C,b){_(E,C,b)});j.exports=x},9439:(j,ee,v)=>{var _=v(7308),A=v(9069),x=v(2608);j.exports=function E(C){return C&&C.length?_(C,x,A):void 0}},9525:(j,ee,v)=>{var _=v(7308),A=v(6517),x=v(9069);j.exports=function E(C,b){return C&&C.length?_(C,A(b,2),x):void 0}},2552:j=>{j.exports=function ee(){}},1710:(j,ee,v)=>{var _=v(2119);j.exports=function(){return _.Date.now()}},6372:(j,ee,v)=>{var _=v(3021),x=v(3975)(function(E,C){return null==E?{}:_(E,C)});j.exports=x},7495:(j,ee,v)=>{var _=v(1847),A=v(9222),x=v(5352),E=v(8533);j.exports=function C(b){return x(b)?_(E(b)):A(b)}},361:(j,ee,v)=>{var A=v(7509)();j.exports=A},1337:(j,ee,v)=>{var _=v(8745),A=v(3132),x=v(6517),E=v(3570),C=v(1503);j.exports=function b(M,D,P){var R=C(M)?_:E,I=arguments.length<3;return R(M,x(D,4),P,I,A)}},4793:(j,ee,v)=>{var _=v(5963);j.exports=function A(x,E,C){return null==x?x:_(x,E,C)}},5637:(j,ee,v)=>{var _=v(1172),A=v(8794),x=v(6507),E=v(248),C=v(2315);j.exports=function D(P){if(null==P)return 0;if(x(P))return E(P)?C(P):P.length;var R=A(P);return"[object Map]"==R||"[object Set]"==R?P.size:_(P).length}},2906:(j,ee,v)=>{var _=v(686),A=v(6119),x=v(3269),E=v(3342),C=x(function(b,M){if(null==b)return[];var D=M.length;return D>1&&E(b,M[0],M[1])?M=[]:D>2&&E(M[0],M[1],M[2])&&(M=[M[0]]),A(b,_(M,1),[])});j.exports=C},9975:j=>{j.exports=function ee(){return[]}},3580:j=>{j.exports=function ee(){return!1}},2232:(j,ee,v)=>{var _=v(1467),A=1/0;j.exports=function E(C){return C?(C=_(C))===A||C===-A?17976931348623157e292*(C<0?-1:1):C==C?C:0:0===C?C:0}},4401:(j,ee,v)=>{var _=v(2232);j.exports=function A(x){var E=_(x),C=E%1;return E==E?C?E-C:E:0}},1467:(j,ee,v)=>{var _=v(3348),A=v(5940),x=v(4129),C=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,M=/^0o[0-7]+$/i,D=parseInt;j.exports=function P(R){if("number"==typeof R)return R;if(x(R))return NaN;if(A(R)){var I="function"==typeof R.valueOf?R.valueOf():R;R=A(I)?I+"":I}if("string"!=typeof R)return 0===R?R:+R;R=_(R);var L=b.test(R);return L||M.test(R)?D(R.slice(2),L?2:8):C.test(R)?NaN:+R}},4152:(j,ee,v)=>{var _=v(4633),A=v(9454),x=v(1503),E=v(4129),C=v(2855),b=v(8533),M=v(3943);j.exports=function D(P){return x(P)?_(P,b):E(P)?[P]:A(C(M(P)))}},8067:(j,ee,v)=>{var _=v(1989),A=v(6555);j.exports=function x(E){return _(E,A(E))}},3943:(j,ee,v)=>{var _=v(3935);j.exports=function A(x){return null==x?"":_(x)}},9416:(j,ee,v)=>{var _=v(6837),A=v(8858),x=v(5184),E=v(6517),C=v(9519),b=v(1503),M=v(891),D=v(5946),P=v(5940),R=v(8159);j.exports=function I(L,N,B){var J=b(L),U=J||M(L)||R(L);if(N=E(N,4),null==B){var Z=L&&L.constructor;B=U?J?new Z:[]:P(L)&&D(Z)?A(C(L)):{}}return(U?_:x)(L,function(X,ie,te){return N(B,X,ie,te)}),B}},8921:(j,ee,v)=>{var _=v(686),A=v(3269),x=v(707),E=v(1330),C=A(function(b){return x(_(b,1,E,!0))});j.exports=C},1541:(j,ee,v)=>{var _=v(3943),A=0;j.exports=function x(E){var C=++A;return _(E)+C}},377:(j,ee,v)=>{var _=v(9179),A=v(118);j.exports=function x(E){return null==E?[]:_(E,A(E))}},1617:(j,ee,v)=>{var _=v(9719),A=v(8645);j.exports=function x(E,C){return A(E||[],C||[],_)}},4308:(j,ee,v)=>{j.exports=v(1358)},4512:j=>{"use strict";j.exports=class u5{constructor(v,_=new Map,A=0){this.prefix=v,this._existing=_,this.counter=A}clone(){const{prefix:v,_existing:_,counter:A}=this;return new u5(v,new Map(_),A)}getId(v){const _=v&&this._existing.get(v);if(_)return _;const A=this.prefix+this.counter;return this.counter++,v&&this._existing.set(v,A),A}hasId(v){return this._existing.has(v)}getOldIds(){return[...this._existing.keys()]}}},7510:(j,ee,v)=>{"use strict";var _=v(9344).default;v(6563);const A=self.crypto||self.msCrypto;j.exports=class{constructor(E){if(!A||!A.subtle)throw new Error("crypto.subtle not found.");if("sha256"===E)this.algorithm={name:"SHA-256"};else{if("sha1"!==E)throw new Error(`Unsupported algorithm "${E}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(E){this._content+=E}digest(){var E=this;return _(function*(){const C=(new TextEncoder).encode(E._content),b=new Uint8Array(yield A.subtle.digest(E.algorithm,C));let M="";for(let D=0;D<b.length;++D)M+=b[D].toString(16).padStart(2,"0");return M})()}}},5090:j=>{"use strict";const _="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",A="http://www.w3.org/2001/XMLSchema#string",x="NamedNode",E="BlankNode",C="Literal",b="DefaultGraph",M={};function D(N,B){return N.subject.termType===B.subject.termType&&N.object.termType===B.object.termType&&N.subject.value===B.subject.value&&N.predicate.value===B.predicate.value&&N.object.value===B.object.value&&(N.object.termType!==C||N.object.datatype.termType===B.object.datatype.termType&&N.object.language===B.object.language&&N.object.datatype.value===B.object.datatype.value)}(()=>{const N="(?:<([^:]+:[^>]*)>)",J="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_",U=J+"0-9-\xb7\u0300-\u036f\u203f-\u2040",X="(_:(?:["+J+"0-9])(?:(?:["+U+".])*(?:["+U+"]))?)",z="[ \\t]+",q="[ \\t]*",ae="(?:"+N+"|"+X+")"+z,ue=N+z,oe="(?:"+N+"|"+X+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+N+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+q,de="(?:\\.|(?:(?:"+N+"|"+X+")"+q+"\\.))";M.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,M.empty=new RegExp("^"+q+"$"),M.quad=new RegExp("^"+q+ae+ue+oe+de+q+"$")})(),j.exports=class Tx{static parse(B){const J=[],U={},Z=B.split(M.eoln);let X=0;for(const ie of Z){if(X++,M.empty.test(ie))continue;const te=ie.match(M.quad);if(null===te)throw new Error("N-Quads parse error on line "+X+".");const G={subject:null,predicate:null,object:null,graph:null};if(G.subject=void 0!==te[1]?{termType:x,value:te[1]}:{termType:E,value:te[2]},G.predicate={termType:x,value:te[3]},void 0!==te[4]?G.object={termType:x,value:te[4]}:void 0!==te[5]?G.object={termType:E,value:te[5]}:(G.object={termType:C,value:void 0,datatype:{termType:x}},void 0!==te[7]?G.object.datatype.value=te[7]:void 0!==te[8]?(G.object.datatype.value=_,G.object.language=te[8]):G.object.datatype.value=A,G.object.value=te[6].replace(I,function(B,J,U,Z){if(J)switch(J){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(U)return String.fromCharCode(parseInt(U,16));if(Z)throw new Error("Unsupported U escape")})),G.graph=void 0!==te[9]?{termType:x,value:te[9]}:void 0!==te[10]?{termType:E,value:te[10]}:{termType:b,value:""},G.graph.value in U){let V=!0;const z=U[G.graph.value];for(const q of z)if(D(q,G)){V=!1;break}V&&(z.push(G),J.push(G))}else U[G.graph.value]=[G],J.push(G)}return J}static serialize(B){Array.isArray(B)||(B=Tx.legacyDatasetToQuads(B));const J=[];for(const U of B)J.push(Tx.serializeQuad(U));return J.sort().join("")}static serializeQuadComponents(B,J,U,Z){let X="";return X+=B.termType===x?`<${B.value}>`:`${B.value}`,X+=` <${J.value}> `,U.termType===x?X+=`<${U.value}>`:U.termType===E?X+=U.value:(X+=`"${function R(N){return N.replace(P,function(B){switch(B){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(U.value)}"`,U.datatype.value===_?U.language&&(X+=`@${U.language}`):U.datatype.value!==A&&(X+=`^^<${U.datatype.value}>`)),Z.termType===x?X+=` <${Z.value}>`:Z.termType===E&&(X+=` ${Z.value}`),X+=" .\n",X}static serializeQuad(B){return Tx.serializeQuadComponents(B.subject,B.predicate,B.object,B.graph)}static legacyDatasetToQuads(B){const J=[],U={"blank node":E,IRI:x,literal:C};for(const Z in B)B[Z].forEach(ie=>{const te={};for(const G in ie){const V=ie[G],z={termType:U[V.type],value:V.value};z.termType===C&&(z.datatype={termType:x},"datatype"in V&&(z.datatype.value=V.datatype),"language"in V?("datatype"in V||(z.datatype.value=_),z.language=V.language):"datatype"in V||(z.datatype.value=A)),te[G]=z}te.graph="@default"===Z?{termType:b,value:""}:{termType:Z.startsWith("_:")?E:x,value:Z},J.push(te)});return J}};const P=/["\\\n\r]/g,I=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},5067:j=>{"use strict";j.exports=class{constructor(v){this.current=v.sort(),this.done=!1,this.dir=new Map;for(let _=0;_<v.length;++_)this.dir.set(v[_],!0)}hasNext(){return!this.done}next(){const{current:v,dir:_}=this,A=v.slice();let x=null,E=0;const C=v.length;for(let b=0;b<C;++b){const M=v[b],D=_.get(M);(null===x||M>x)&&(D&&b>0&&M>v[b-1]||!D&&b<C-1&&M>v[b+1])&&(x=M,E=b)}if(null===x)this.done=!0;else{const b=_.get(x)?E-1:E+1;v[E]=v[b],v[b]=x;for(const M of v)M>x&&_.set(M,!_.get(M))}return A}}},4103:(j,ee,v)=>{"use strict";var _=v(9344).default;const A=v(4512),x=v(7510),E=v(5067),C=v(5090);function b(M,D){return M.hash<D.hash?-1:M.hash>D.hash?1:0}j.exports=class{constructor({createMessageDigest:D=(()=>new x("sha256")),maxDeepIterations:P=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new A("_:c14n"),this.createMessageDigest=D,this.maxDeepIterations=P,this.quads=null,this.deepIterations=null}main(D){var P=this;return _(function*(){P.deepIterations=new Map,P.quads=D;for(const U of D)P._addBlankNodeQuadInfo({quad:U,component:U.subject}),P._addBlankNodeQuadInfo({quad:U,component:U.object}),P._addBlankNodeQuadInfo({quad:U,component:U.graph});const R=new Map,I=[...P.blankNodeInfo.keys()];let L=0;for(const U of I)++L%100==0&&(yield P._yield()),yield P._hashAndTrackBlankNode({id:U,hashToBlankNodes:R});const N=[...R.keys()].sort(),B=[];for(const U of N){const Z=R.get(U);Z.length>1?B.push(Z):P.canonicalIssuer.getId(Z[0])}for(const U of B){const Z=[];for(const X of U){if(P.canonicalIssuer.hasId(X))continue;const ie=new A("_:b");ie.getId(X);const te=yield P.hashNDegreeQuads(X,ie);Z.push(te)}Z.sort(b);for(const X of Z){const ie=X.issuer.getOldIds();for(const te of ie)P.canonicalIssuer.getId(te)}}const J=[];for(const U of P.quads){const Z=C.serializeQuadComponents(P._componentWithCanonicalId(U.subject),U.predicate,P._componentWithCanonicalId(U.object),P._componentWithCanonicalId(U.graph));J.push(Z)}return J.sort(),J.join("")})()}hashFirstDegreeQuads(D){var P=this;return _(function*(){const R=[],I=P.blankNodeInfo.get(D),L=I.quads;for(const B of L){const J={subject:null,predicate:B.predicate,object:null,graph:null};J.subject=P.modifyFirstDegreeComponent(D,B.subject,"subject"),J.object=P.modifyFirstDegreeComponent(D,B.object,"object"),J.graph=P.modifyFirstDegreeComponent(D,B.graph,"graph"),R.push(C.serializeQuad(J))}R.sort();const N=P.createMessageDigest();for(const B of R)N.update(B);return I.hash=yield N.digest(),I.hash})()}hashRelatedBlankNode(D,P,R,I){var L=this;return _(function*(){let N;N=L.canonicalIssuer.hasId(D)?L.canonicalIssuer.getId(D):R.hasId(D)?R.getId(D):L.blankNodeInfo.get(D).hash;const B=L.createMessageDigest();return B.update(I),"g"!==I&&B.update(L.getRelatedPredicate(P)),B.update(N),B.digest()})()}hashNDegreeQuads(D,P){var R=this;return _(function*(){const I=R.deepIterations.get(D)||0;if(I>R.maxDeepIterations)throw new Error(`Maximum deep iterations (${R.maxDeepIterations}) exceeded.`);R.deepIterations.set(D,I+1);const L=R.createMessageDigest(),N=yield R.createHashToRelated(D,P),B=[...N.keys()].sort();for(const J of B){L.update(J);let Z,U="";const X=new E(N.get(J));let ie=0;for(;X.hasNext();){const te=X.next();++ie%3==0&&(yield R._yield());let G=P.clone(),V="";const z=[];let q=!1;for(const ae of te)if(R.canonicalIssuer.hasId(ae)?V+=R.canonicalIssuer.getId(ae):(G.hasId(ae)||z.push(ae),V+=G.getId(ae)),0!==U.length&&V>U){q=!0;break}if(!q){for(const ae of z){const ue=yield R.hashNDegreeQuads(ae,G);if(V+=G.getId(ae),V+=`<${ue.hash}>`,G=ue.issuer,0!==U.length&&V>U){q=!0;break}}q||(0===U.length||V<U)&&(U=V,Z=G)}}L.update(U),P=Z}return{hash:yield L.digest(),issuer:P}})()}modifyFirstDegreeComponent(D,P){return"BlankNode"!==P.termType?P:{termType:"BlankNode",value:P.value===D?"_:a":"_:z"}}getRelatedPredicate(D){return`<${D.predicate.value}>`}createHashToRelated(D,P){var R=this;return _(function*(){const I=new Map,L=R.blankNodeInfo.get(D).quads;let N=0;for(const B of L)++N%100==0&&(yield R._yield()),yield Promise.all([R._addRelatedBlankNodeHash({quad:B,component:B.subject,position:"s",id:D,issuer:P,hashToRelated:I}),R._addRelatedBlankNodeHash({quad:B,component:B.object,position:"o",id:D,issuer:P,hashToRelated:I}),R._addRelatedBlankNodeHash({quad:B,component:B.graph,position:"g",id:D,issuer:P,hashToRelated:I})]);return I})()}_hashAndTrackBlankNode({id:D,hashToBlankNodes:P}){var R=this;return _(function*(){const I=yield R.hashFirstDegreeQuads(D),L=P.get(I);L?L.push(D):P.set(I,[D])})()}_addBlankNodeQuadInfo({quad:D,component:P}){if("BlankNode"!==P.termType)return;const R=P.value,I=this.blankNodeInfo.get(R);I?I.quads.add(D):this.blankNodeInfo.set(R,{quads:new Set([D]),hash:null})}_addRelatedBlankNodeHash({quad:D,component:P,position:R,id:I,issuer:L,hashToRelated:N}){var B=this;return _(function*(){if("BlankNode"!==P.termType||P.value===I)return;const J=P.value,U=yield B.hashRelatedBlankNode(J,D,L,R),Z=N.get(U);Z?Z.push(J):N.set(U,[J])})()}_componentWithCanonicalId(D){return"BlankNode"!==D.termType||D.value.startsWith(this.canonicalIssuer.prefix)?D:{termType:"BlankNode",value:this.canonicalIssuer.getId(D.value)}}_yield(){return _(function*(){return new Promise(D=>setImmediate(D))})()}}},526:(j,ee,v)=>{"use strict";const _=v(4512),A=v(7510),x=v(5067),E=v(5090);function C(b,M){return b.hash<M.hash?-1:b.hash>M.hash?1:0}j.exports=class{constructor({createMessageDigest:M=(()=>new A("sha256")),maxDeepIterations:D=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new _("_:c14n"),this.createMessageDigest=M,this.maxDeepIterations=D,this.quads=null,this.deepIterations=null}main(M){this.deepIterations=new Map,this.quads=M;for(const N of M)this._addBlankNodeQuadInfo({quad:N,component:N.subject}),this._addBlankNodeQuadInfo({quad:N,component:N.object}),this._addBlankNodeQuadInfo({quad:N,component:N.graph});const D=new Map,P=[...this.blankNodeInfo.keys()];for(const N of P)this._hashAndTrackBlankNode({id:N,hashToBlankNodes:D});const R=[...D.keys()].sort(),I=[];for(const N of R){const B=D.get(N);B.length>1?I.push(B):this.canonicalIssuer.getId(B[0])}for(const N of I){const B=[];for(const J of N){if(this.canonicalIssuer.hasId(J))continue;const U=new _("_:b");U.getId(J);const Z=this.hashNDegreeQuads(J,U);B.push(Z)}B.sort(C);for(const J of B){const U=J.issuer.getOldIds();for(const Z of U)this.canonicalIssuer.getId(Z)}}const L=[];for(const N of this.quads){const B=E.serializeQuadComponents(this._componentWithCanonicalId({component:N.subject}),N.predicate,this._componentWithCanonicalId({component:N.object}),this._componentWithCanonicalId({component:N.graph}));L.push(B)}return L.sort(),L.join("")}hashFirstDegreeQuads(M){const D=[],P=this.blankNodeInfo.get(M),R=P.quads;for(const L of R){const N={subject:null,predicate:L.predicate,object:null,graph:null};N.subject=this.modifyFirstDegreeComponent(M,L.subject,"subject"),N.object=this.modifyFirstDegreeComponent(M,L.object,"object"),N.graph=this.modifyFirstDegreeComponent(M,L.graph,"graph"),D.push(E.serializeQuad(N))}D.sort();const I=this.createMessageDigest();for(const L of D)I.update(L);return P.hash=I.digest(),P.hash}hashRelatedBlankNode(M,D,P,R){let I;I=this.canonicalIssuer.hasId(M)?this.canonicalIssuer.getId(M):P.hasId(M)?P.getId(M):this.blankNodeInfo.get(M).hash;const L=this.createMessageDigest();return L.update(R),"g"!==R&&L.update(this.getRelatedPredicate(D)),L.update(I),L.digest()}hashNDegreeQuads(M,D){const P=this.deepIterations.get(M)||0;if(P>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(M,P+1);const R=this.createMessageDigest(),I=this.createHashToRelated(M,D),L=[...I.keys()].sort();for(const N of L){R.update(N);let J,B="";const U=new x(I.get(N));for(;U.hasNext();){const Z=U.next();let X=D.clone(),ie="";const te=[];let G=!1;for(const V of Z)if(this.canonicalIssuer.hasId(V)?ie+=this.canonicalIssuer.getId(V):(X.hasId(V)||te.push(V),ie+=X.getId(V)),0!==B.length&&ie>B){G=!0;break}if(!G){for(const V of te){const z=this.hashNDegreeQuads(V,X);if(ie+=X.getId(V),ie+=`<${z.hash}>`,X=z.issuer,0!==B.length&&ie>B){G=!0;break}}G||(0===B.length||ie<B)&&(B=ie,J=X)}}R.update(B),D=J}return{hash:R.digest(),issuer:D}}modifyFirstDegreeComponent(M,D){return"BlankNode"!==D.termType?D:{termType:"BlankNode",value:D.value===M?"_:a":"_:z"}}getRelatedPredicate(M){return`<${M.predicate.value}>`}createHashToRelated(M,D){const P=new Map,R=this.blankNodeInfo.get(M).quads;for(const I of R)this._addRelatedBlankNodeHash({quad:I,component:I.subject,position:"s",id:M,issuer:D,hashToRelated:P}),this._addRelatedBlankNodeHash({quad:I,component:I.object,position:"o",id:M,issuer:D,hashToRelated:P}),this._addRelatedBlankNodeHash({quad:I,component:I.graph,position:"g",id:M,issuer:D,hashToRelated:P});return P}_hashAndTrackBlankNode({id:M,hashToBlankNodes:D}){const P=this.hashFirstDegreeQuads(M),R=D.get(P);R?R.push(M):D.set(P,[M])}_addBlankNodeQuadInfo({quad:M,component:D}){if("BlankNode"!==D.termType)return;const P=D.value,R=this.blankNodeInfo.get(P);R?R.quads.add(M):this.blankNodeInfo.set(P,{quads:new Set([M]),hash:null})}_addRelatedBlankNodeHash({quad:M,component:D,position:P,id:R,issuer:I,hashToRelated:L}){if("BlankNode"!==D.termType||D.value===R)return;const N=D.value,B=this.hashRelatedBlankNode(N,M,I,P),J=L.get(B);J?J.push(N):L.set(B,[N])}_componentWithCanonicalId({component:M}){return"BlankNode"!==M.termType||M.value.startsWith(this.canonicalIssuer.prefix)?M:{termType:"BlankNode",value:this.canonicalIssuer.getId(M.value)}}}},1359:(j,ee,v)=>{"use strict";var _=v(9344).default;const A=v(7510),x=v(4103);j.exports=class extends x{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new A("sha1")}modifyFirstDegreeComponent(C,b,M){return"BlankNode"!==b.termType?b:"graph"===M?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:b.value===C?"_:a":"_:z"}}getRelatedPredicate(C){return C.predicate.value}createHashToRelated(C,b){var M=this;return _(function*(){const D=new Map,P=M.blankNodeInfo.get(C).quads;let R=0;for(const I of P){let L,N;if("BlankNode"===I.subject.termType&&I.subject.value!==C)N=I.subject.value,L="p";else{if("BlankNode"!==I.object.termType||I.object.value===C)continue;N=I.object.value,L="r"}++R%100==0&&(yield M._yield());const B=yield M.hashRelatedBlankNode(N,I,b,L),J=D.get(B);J?J.push(N):D.set(B,[N])}return D})()}}},7492:(j,ee,v)=>{"use strict";const _=v(7510),A=v(526);j.exports=class extends A{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new _("sha1")}modifyFirstDegreeComponent(E,C,b){return"BlankNode"!==C.termType?C:"graph"===b?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:C.value===E?"_:a":"_:z"}}getRelatedPredicate(E){return E.predicate.value}createHashToRelated(E,C){const b=new Map,M=this.blankNodeInfo.get(E).quads;for(const D of M){let P,R;if("BlankNode"===D.subject.termType&&D.subject.value!==E)R=D.subject.value,P="p";else{if("BlankNode"!==D.object.termType||D.object.value===E)continue;R=D.object.value,P="r"}const I=this.hashRelatedBlankNode(R,D,C,P),L=b.get(I);L?L.push(R):b.set(I,[R])}return b}}},1358:(j,ee,v)=>{"use strict";var _=v(9344).default;const A=v(4103),x=v(1359),E=v(526),C=v(7492);let b;try{b=v(7670)}catch{}ee.NQuads=v(5090),ee.IdentifierIssuer=v(4512),ee._rdfCanonizeNative=function(M){return M&&(b=M),b},ee.canonize=function(){var M=_(function*(D,P){if(Array.isArray(D)||(D=ee.NQuads.legacyDatasetToQuads(D)),P.useNative){if(!b)throw new Error("rdf-canonize-native not available");if(P.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((R,I)=>b.canonize(D,P,(L,N)=>L?I(L):R(N)))}if("URDNA2015"===P.algorithm)return new A(P).main(D);if("URGNA2012"===P.algorithm){if(P.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new x(P).main(D)}throw"algorithm"in P?new Error("Invalid RDF Dataset Canonicalization algorithm: "+P.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")});return function(D,P){return M.apply(this,arguments)}}(),ee._canonizeSync=function(M,D){if(Array.isArray(M)||(M=ee.NQuads.legacyDatasetToQuads(M)),D.useNative){if(!b)throw new Error("rdf-canonize-native not available");if(D.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return b.canonizeSync(M,D)}if("URDNA2015"===D.algorithm)return new E(D).main(M);if("URGNA2012"===D.algorithm){if(D.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new C(D).main(M)}throw"algorithm"in D?new Error("Invalid RDF Dataset Canonicalization algorithm: "+D.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},6563:function(){!function(j,ee){"use strict";if(!j.setImmediate){var E,v=1,_={},A=!1,x=j.document,J=Object.getPrototypeOf&&Object.getPrototypeOf(j);J=J&&J.setTimeout?J:j,"[object process]"==={}.toString.call(j.process)?function P(){E=function(U){process.nextTick(function(){D(U)})}}():function R(){if(j.postMessage&&!j.importScripts){var U=!0,Z=j.onmessage;return j.onmessage=function(){U=!1},j.postMessage("","*"),j.onmessage=Z,U}}()?function I(){var U="setImmediate$"+Math.random()+"$",Z=function(X){X.source===j&&"string"==typeof X.data&&0===X.data.indexOf(U)&&D(+X.data.slice(U.length))};j.addEventListener?j.addEventListener("message",Z,!1):j.attachEvent("onmessage",Z),E=function(X){j.postMessage(U+X,"*")}}():j.MessageChannel?function L(){var U=new MessageChannel;U.port1.onmessage=function(Z){D(Z.data)},E=function(Z){U.port2.postMessage(Z)}}():x&&"onreadystatechange"in x.createElement("script")?function N(){var U=x.documentElement;E=function(Z){var X=x.createElement("script");X.onreadystatechange=function(){D(Z),X.onreadystatechange=null,U.removeChild(X),X=null},U.appendChild(X)}}():function B(){E=function(U){setTimeout(D,0,U)}}(),J.setImmediate=function C(U){"function"!=typeof U&&(U=new Function(""+U));for(var Z=new Array(arguments.length-1),X=0;X<Z.length;X++)Z[X]=arguments[X+1];return _[v]={callback:U,args:Z},E(v),v++},J.clearImmediate=b}function b(U){delete _[U]}function D(U){if(A)setTimeout(D,0,U);else{var Z=_[U];if(Z){A=!0;try{!function M(U){var Z=U.callback,X=U.args;switch(X.length){case 0:Z();break;case 1:Z(X[0]);break;case 2:Z(X[0],X[1]);break;case 3:Z(X[0],X[1],X[2]);break;default:Z.apply(ee,X)}}(Z)}finally{b(U),A=!1}}}}}(typeof self>"u"?typeof global>"u"?this:global:self)},7670:()=>{},9344:j=>{function ee(_,A,x,E,C,b,M){try{var D=_[b](M),P=D.value}catch(R){return void x(R)}D.done?A(P):Promise.resolve(P).then(E,C)}j.exports=function v(_){return function(){var A=this,x=arguments;return new Promise(function(E,C){var b=_.apply(A,x);function M(P){ee(b,E,C,M,D,"next",P)}function D(P){ee(b,E,C,M,D,"throw",P)}M(void 0)})}},j.exports.__esModule=!0,j.exports.default=j.exports}},j=>{j(j.s=354)}]);